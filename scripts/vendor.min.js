/*!
 * 
 *       Package version: 40.0.0,
 *       Build date: 1/22/2023, 7:27:26 PM
 *     
 */
(window.webpackJsonp = window.webpackJsonp || []).push([[13, 10], [function(e, t, n) {
    var i, r;
    i = [n(4), n(18), n(65), n(141), n(66), n(527), n(204), n(529), n(142), n(530), n(537), n(67), n(541), n(102), n(543), n(545), n(81), n(546), n(226), n(55), n(547), n(548), n(549), n(550), n(225), n(227), n(143), n(552), n(553), n(554), n(555), n(558), n(559)],
    void 0 === (r = function(e) {
        "use strict";
        return e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, G, W) {
    (function(z, H) {
        var V;
        /**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
        (function() {
            var no, io = "Expected a function", ro = "__lodash_hash_undefined__", ao = "__lodash_placeholder__", oo = 16, so = 32, lo = 64, uo = 128, co = 256, ho = 1 / 0, po = 9007199254740991, fo = NaN, mo = 4294967295, go = [["ary", uo], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", oo], ["flip", 512], ["partial", so], ["partialRight", lo], ["rearg", co]], vo = "[object Arguments]", yo = "[object Array]", bo = "[object Boolean]", _o = "[object Date]", wo = "[object Error]", xo = "[object Function]", To = "[object GeneratorFunction]", So = "[object Map]", Eo = "[object Number]", Co = "[object Object]", Mo = "[object Promise]", ko = "[object RegExp]", Po = "[object Set]", Ao = "[object String]", Io = "[object Symbol]", Lo = "[object WeakMap]", Oo = "[object ArrayBuffer]", Ro = "[object DataView]", Do = "[object Float32Array]", No = "[object Float64Array]", Fo = "[object Int8Array]", Bo = "[object Int16Array]", Uo = "[object Int32Array]", jo = "[object Uint8Array]", zo = "[object Uint8ClampedArray]", Ho = "[object Uint16Array]", Vo = "[object Uint32Array]", Go = /\b__p \+= '';/g, Wo = /\b(__p \+=) '' \+/g, qo = /(__e\(.*?\)|\b__t\)) \+\n'';/g, $o = /&(?:amp|lt|gt|quot|#39);/g, Xo = /[&<>"']/g, Yo = RegExp($o.source), Ko = RegExp(Xo.source), Zo = /<%-([\s\S]+?)%>/g, Qo = /<%([\s\S]+?)%>/g, Jo = /<%=([\s\S]+?)%>/g, es = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ts = /^\w*$/, ns = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, is = /[\\^$.*+?()[\]{}|]/g, rs = RegExp(is.source), as = /^\s+|\s+$/g, os = /^\s+/, ss = /\s+$/, ls = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, us = /\{\n\/\* \[wrapped with (.+)\] \*/, cs = /,? & /, hs = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, ds = /\\(\\)?/g, ps = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, fs = /\w*$/, ms = /^[-+]0x[0-9a-f]+$/i, gs = /^0b[01]+$/i, vs = /^\[object .+?Constructor\]$/, ys = /^0o[0-7]+$/i, bs = /^(?:0|[1-9]\d*)$/, _s = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, ws = /($^)/, xs = /['\n\r\u2028\u2029\\]/g, e = "\\ud800-\\udfff", t = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", n = "\\u2700-\\u27bf", i = "a-z\\xdf-\\xf6\\xf8-\\xff", r = "A-Z\\xc0-\\xd6\\xd8-\\xde", a = "\\ufe0e\\ufe0f", o = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", s = "['’]", l = "[" + e + "]", u = "[" + o + "]", c = "[" + t + "]", h = "\\d+", d = "[" + n + "]", p = "[" + i + "]", f = "[^" + e + o + h + n + i + r + "]", m = "\\ud83c[\\udffb-\\udfff]", g = "[^" + e + "]", v = "(?:\\ud83c[\\udde6-\\uddff]){2}", y = "[\\ud800-\\udbff][\\udc00-\\udfff]", b = "[" + r + "]", _ = "\\u200d", w = "(?:" + p + "|" + f + ")", x = "(?:" + b + "|" + f + ")", T = "(?:['’](?:d|ll|m|re|s|t|ve))?", S = "(?:['’](?:D|LL|M|RE|S|T|VE))?", E = "(?:" + c + "|" + m + ")" + "?", C = "[" + a + "]?", M = C + E + ("(?:" + _ + "(?:" + [g, v, y].join("|") + ")" + C + E + ")*"), k = "(?:" + [d, v, y].join("|") + ")" + M, P = "(?:" + [g + c + "?", c, v, y, l].join("|") + ")", Ts = RegExp(s, "g"), Ss = RegExp(c, "g"), A = RegExp(m + "(?=" + m + ")|" + P + M, "g"), Es = RegExp([b + "?" + p + "+" + T + "(?=" + [u, b, "$"].join("|") + ")", x + "+" + S + "(?=" + [u, b + w, "$"].join("|") + ")", b + "?" + w + "+" + T, b + "+" + S, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", h, k].join("|"), "g"), I = RegExp("[" + _ + e + t + a + "]"), Cs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Ms = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], ks = -1, Ps = {};
            Ps[Do] = Ps[No] = Ps[Fo] = Ps[Bo] = Ps[Uo] = Ps[jo] = Ps[zo] = Ps[Ho] = Ps[Vo] = !0,
            Ps[vo] = Ps[yo] = Ps[Oo] = Ps[bo] = Ps[Ro] = Ps[_o] = Ps[wo] = Ps[xo] = Ps[So] = Ps[Eo] = Ps[Co] = Ps[ko] = Ps[Po] = Ps[Ao] = Ps[Lo] = !1;
            var As = {};
            As[vo] = As[yo] = As[Oo] = As[Ro] = As[bo] = As[_o] = As[Do] = As[No] = As[Fo] = As[Bo] = As[Uo] = As[So] = As[Eo] = As[Co] = As[ko] = As[Po] = As[Ao] = As[Io] = As[jo] = As[zo] = As[Ho] = As[Vo] = !0,
            As[wo] = As[xo] = As[Lo] = !1;
            var L = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
              , Is = parseFloat
              , Ls = parseInt
              , O = "object" == typeof z && z && z.Object === Object && z
              , R = "object" == typeof self && self && self.Object === Object && self
              , Os = O || R || Function("return this")()
              , D = G && !G.nodeType && G
              , N = D && "object" == typeof H && H && !H.nodeType && H
              , Rs = N && N.exports === D
              , F = Rs && O.process
              , B = function() {
                try {
                    var e = N && N.require && N.require("util").types;
                    return e || F && F.binding && F.binding("util")
                } catch (e) {}
            }()
              , Ds = B && B.isArrayBuffer
              , Ns = B && B.isDate
              , Fs = B && B.isMap
              , Bs = B && B.isRegExp
              , Us = B && B.isSet
              , js = B && B.isTypedArray;
            function zs(e, t, n) {
                switch (n.length) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2])
                }
                return e.apply(t, n)
            }
            function Hs(e, t, n, i) {
                for (var r = -1, a = null == e ? 0 : e.length; ++r < a; ) {
                    var o = e[r];
                    t(i, o, n(o), e)
                }
                return i
            }
            function Vs(e, t) {
                for (var n = -1, i = null == e ? 0 : e.length; ++n < i && !1 !== t(e[n], n, e); )
                    ;
                return e
            }
            function Gs(e, t) {
                for (var n = null == e ? 0 : e.length; n-- && !1 !== t(e[n], n, e); )
                    ;
                return e
            }
            function Ws(e, t) {
                for (var n = -1, i = null == e ? 0 : e.length; ++n < i; )
                    if (!t(e[n], n, e))
                        return !1;
                return !0
            }
            function qs(e, t) {
                for (var n = -1, i = null == e ? 0 : e.length, r = 0, a = []; ++n < i; ) {
                    var o = e[n];
                    t(o, n, e) && (a[r++] = o)
                }
                return a
            }
            function $s(e, t) {
                return !!(null == e ? 0 : e.length) && -1 < nl(e, t, 0)
            }
            function Xs(e, t, n) {
                for (var i = -1, r = null == e ? 0 : e.length; ++i < r; )
                    if (n(t, e[i]))
                        return !0;
                return !1
            }
            function Ys(e, t) {
                for (var n = -1, i = null == e ? 0 : e.length, r = Array(i); ++n < i; )
                    r[n] = t(e[n], n, e);
                return r
            }
            function Ks(e, t) {
                for (var n = -1, i = t.length, r = e.length; ++n < i; )
                    e[r + n] = t[n];
                return e
            }
            function Zs(e, t, n, i) {
                var r = -1
                  , a = null == e ? 0 : e.length;
                for (i && a && (n = e[++r]); ++r < a; )
                    n = t(n, e[r], r, e);
                return n
            }
            function Qs(e, t, n, i) {
                var r = null == e ? 0 : e.length;
                for (i && r && (n = e[--r]); r--; )
                    n = t(n, e[r], r, e);
                return n
            }
            function Js(e, t) {
                for (var n = -1, i = null == e ? 0 : e.length; ++n < i; )
                    if (t(e[n], n, e))
                        return !0;
                return !1
            }
            var U = ol("length");
            function el(e, i, t) {
                var r;
                return t(e, function(e, t, n) {
                    if (i(e, t, n))
                        return r = t,
                        !1
                }),
                r
            }
            function tl(e, t, n, i) {
                for (var r = e.length, a = n + (i ? 1 : -1); i ? a-- : ++a < r; )
                    if (t(e[a], a, e))
                        return a;
                return -1
            }
            function nl(e, t, n) {
                return t == t ? function(e, t, n) {
                    var i = n - 1
                      , r = e.length;
                    for (; ++i < r; )
                        if (e[i] === t)
                            return i;
                    return -1
                }(e, t, n) : tl(e, rl, n)
            }
            function il(e, t, n, i) {
                for (var r = n - 1, a = e.length; ++r < a; )
                    if (i(e[r], t))
                        return r;
                return -1
            }
            function rl(e) {
                return e != e
            }
            function al(e, t) {
                var n = null == e ? 0 : e.length;
                return n ? ll(e, t) / n : fo
            }
            function ol(t) {
                return function(e) {
                    return null == e ? no : e[t]
                }
            }
            function j(t) {
                return function(e) {
                    return null == t ? no : t[e]
                }
            }
            function sl(e, i, r, a, t) {
                return t(e, function(e, t, n) {
                    r = a ? (a = !1,
                    e) : i(r, e, t, n)
                }),
                r
            }
            function ll(e, t) {
                for (var n, i = -1, r = e.length; ++i < r; ) {
                    var a = t(e[i]);
                    a !== no && (n = n === no ? a : n + a)
                }
                return n
            }
            function ul(e, t) {
                for (var n = -1, i = Array(e); ++n < e; )
                    i[n] = t(n);
                return i
            }
            function cl(t) {
                return function(e) {
                    return t(e)
                }
            }
            function hl(t, e) {
                return Ys(e, function(e) {
                    return t[e]
                })
            }
            function dl(e, t) {
                return e.has(t)
            }
            function pl(e, t) {
                for (var n = -1, i = e.length; ++n < i && -1 < nl(t, e[n], 0); )
                    ;
                return n
            }
            function fl(e, t) {
                for (var n = e.length; n-- && -1 < nl(t, e[n], 0); )
                    ;
                return n
            }
            var ml = j({
                "À": "A",
                "Á": "A",
                "Â": "A",
                "Ã": "A",
                "Ä": "A",
                "Å": "A",
                "à": "a",
                "á": "a",
                "â": "a",
                "ã": "a",
                "ä": "a",
                "å": "a",
                "Ç": "C",
                "ç": "c",
                "Ð": "D",
                "ð": "d",
                "È": "E",
                "É": "E",
                "Ê": "E",
                "Ë": "E",
                "è": "e",
                "é": "e",
                "ê": "e",
                "ë": "e",
                "Ì": "I",
                "Í": "I",
                "Î": "I",
                "Ï": "I",
                "ì": "i",
                "í": "i",
                "î": "i",
                "ï": "i",
                "Ñ": "N",
                "ñ": "n",
                "Ò": "O",
                "Ó": "O",
                "Ô": "O",
                "Õ": "O",
                "Ö": "O",
                "Ø": "O",
                "ò": "o",
                "ó": "o",
                "ô": "o",
                "õ": "o",
                "ö": "o",
                "ø": "o",
                "Ù": "U",
                "Ú": "U",
                "Û": "U",
                "Ü": "U",
                "ù": "u",
                "ú": "u",
                "û": "u",
                "ü": "u",
                "Ý": "Y",
                "ý": "y",
                "ÿ": "y",
                "Æ": "Ae",
                "æ": "ae",
                "Þ": "Th",
                "þ": "th",
                "ß": "ss",
                "Ā": "A",
                "Ă": "A",
                "Ą": "A",
                "ā": "a",
                "ă": "a",
                "ą": "a",
                "Ć": "C",
                "Ĉ": "C",
                "Ċ": "C",
                "Č": "C",
                "ć": "c",
                "ĉ": "c",
                "ċ": "c",
                "č": "c",
                "Ď": "D",
                "Đ": "D",
                "ď": "d",
                "đ": "d",
                "Ē": "E",
                "Ĕ": "E",
                "Ė": "E",
                "Ę": "E",
                "Ě": "E",
                "ē": "e",
                "ĕ": "e",
                "ė": "e",
                "ę": "e",
                "ě": "e",
                "Ĝ": "G",
                "Ğ": "G",
                "Ġ": "G",
                "Ģ": "G",
                "ĝ": "g",
                "ğ": "g",
                "ġ": "g",
                "ģ": "g",
                "Ĥ": "H",
                "Ħ": "H",
                "ĥ": "h",
                "ħ": "h",
                "Ĩ": "I",
                "Ī": "I",
                "Ĭ": "I",
                "Į": "I",
                "İ": "I",
                "ĩ": "i",
                "ī": "i",
                "ĭ": "i",
                "į": "i",
                "ı": "i",
                "Ĵ": "J",
                "ĵ": "j",
                "Ķ": "K",
                "ķ": "k",
                "ĸ": "k",
                "Ĺ": "L",
                "Ļ": "L",
                "Ľ": "L",
                "Ŀ": "L",
                "Ł": "L",
                "ĺ": "l",
                "ļ": "l",
                "ľ": "l",
                "ŀ": "l",
                "ł": "l",
                "Ń": "N",
                "Ņ": "N",
                "Ň": "N",
                "Ŋ": "N",
                "ń": "n",
                "ņ": "n",
                "ň": "n",
                "ŋ": "n",
                "Ō": "O",
                "Ŏ": "O",
                "Ő": "O",
                "ō": "o",
                "ŏ": "o",
                "ő": "o",
                "Ŕ": "R",
                "Ŗ": "R",
                "Ř": "R",
                "ŕ": "r",
                "ŗ": "r",
                "ř": "r",
                "Ś": "S",
                "Ŝ": "S",
                "Ş": "S",
                "Š": "S",
                "ś": "s",
                "ŝ": "s",
                "ş": "s",
                "š": "s",
                "Ţ": "T",
                "Ť": "T",
                "Ŧ": "T",
                "ţ": "t",
                "ť": "t",
                "ŧ": "t",
                "Ũ": "U",
                "Ū": "U",
                "Ŭ": "U",
                "Ů": "U",
                "Ű": "U",
                "Ų": "U",
                "ũ": "u",
                "ū": "u",
                "ŭ": "u",
                "ů": "u",
                "ű": "u",
                "ų": "u",
                "Ŵ": "W",
                "ŵ": "w",
                "Ŷ": "Y",
                "ŷ": "y",
                "Ÿ": "Y",
                "Ź": "Z",
                "Ż": "Z",
                "Ž": "Z",
                "ź": "z",
                "ż": "z",
                "ž": "z",
                "Ĳ": "IJ",
                "ĳ": "ij",
                "Œ": "Oe",
                "œ": "oe",
                "ŉ": "'n",
                "ſ": "s"
            })
              , gl = j({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;"
            });
            function vl(e) {
                return "\\" + L[e]
            }
            function yl(e) {
                return I.test(e)
            }
            function bl(e) {
                var n = -1
                  , i = Array(e.size);
                return e.forEach(function(e, t) {
                    i[++n] = [t, e]
                }),
                i
            }
            function _l(t, n) {
                return function(e) {
                    return t(n(e))
                }
            }
            function wl(e, t) {
                for (var n = -1, i = e.length, r = 0, a = []; ++n < i; ) {
                    var o = e[n];
                    o !== t && o !== ao || (e[n] = ao,
                    a[r++] = n)
                }
                return a
            }
            function xl(e) {
                var t = -1
                  , n = Array(e.size);
                return e.forEach(function(e) {
                    n[++t] = e
                }),
                n
            }
            function Tl(e) {
                return yl(e) ? function(e) {
                    var t = A.lastIndex = 0;
                    for (; A.test(e); )
                        ++t;
                    return t
                }(e) : U(e)
            }
            function Sl(e) {
                return yl(e) ? function(e) {
                    return e.match(A) || []
                }(e) : function(e) {
                    return e.split("")
                }(e)
            }
            var El = j({
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'"
            });
            var Cl = function e(t) {
                var n, E = (t = null == t ? Os : Cl.defaults(Os.Object(), t, Cl.pick(Os, Ms))).Array, i = t.Date, r = t.Error, g = t.Function, a = t.Math, m = t.Object, v = t.RegExp, c = t.String, y = t.TypeError, o = E.prototype, s = g.prototype, h = m.prototype, l = t["__core-js_shared__"], u = s.toString, _ = h.hasOwnProperty, d = 0, p = (n = /[^.]+$/.exec(l && l.keys && l.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n : "", f = h.toString, b = u.call(m), w = Os._, x = v("^" + u.call(_).replace(is, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), T = Rs ? t.Buffer : no, S = t.Symbol, C = t.Uint8Array, M = T ? T.allocUnsafe : no, k = _l(m.getPrototypeOf, m), P = m.create, A = h.propertyIsEnumerable, I = o.splice, L = S ? S.isConcatSpreadable : no, O = S ? S.iterator : no, R = S ? S.toStringTag : no, D = function() {
                    try {
                        var e = zn(m, "defineProperty");
                        return e({}, "", {}),
                        e
                    } catch (e) {}
                }(), N = t.clearTimeout !== Os.clearTimeout && t.clearTimeout, F = i && i.now !== Os.Date.now && i.now, B = t.setTimeout !== Os.setTimeout && t.setTimeout, U = a.ceil, j = a.floor, z = m.getOwnPropertySymbols, H = T ? T.isBuffer : no, V = t.isFinite, G = o.join, W = _l(m.keys, m), q = a.max, $ = a.min, X = i.now, Y = t.parseInt, K = a.random, Z = o.reverse, Q = zn(t, "DataView"), J = zn(t, "Map"), ee = zn(t, "Promise"), te = zn(t, "Set"), ne = zn(t, "WeakMap"), ie = zn(m, "create"), re = ne && new ne, ae = {}, oe = mi(Q), se = mi(J), le = mi(ee), ue = mi(te), ce = mi(ne), he = S ? S.prototype : no, de = he ? he.valueOf : no, pe = he ? he.toString : no;
                function fe(e) {
                    if (Lr(e) && !wr(e) && !(e instanceof be)) {
                        if (e instanceof ye)
                            return e;
                        if (_.call(e, "__wrapped__"))
                            return gi(e)
                    }
                    return new ye(e)
                }
                var me = function(e) {
                    if (!Ir(e))
                        return {};
                    if (P)
                        return P(e);
                    ge.prototype = e;
                    var t = new ge;
                    return ge.prototype = no,
                    t
                };
                function ge() {}
                function ve() {}
                function ye(e, t) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__chain__ = !!t,
                    this.__index__ = 0,
                    this.__values__ = no
                }
                function be(e) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__dir__ = 1,
                    this.__filtered__ = !1,
                    this.__iteratees__ = [],
                    this.__takeCount__ = mo,
                    this.__views__ = []
                }
                function _e(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var i = e[t];
                        this.set(i[0], i[1])
                    }
                }
                function we(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var i = e[t];
                        this.set(i[0], i[1])
                    }
                }
                function xe(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var i = e[t];
                        this.set(i[0], i[1])
                    }
                }
                function Te(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.__data__ = new xe; ++t < n; )
                        this.add(e[t])
                }
                function Se(e) {
                    var t = this.__data__ = new we(e);
                    this.size = t.size
                }
                function Ee(e, t) {
                    var n = wr(e)
                      , i = !n && _r(e)
                      , r = !n && !i && Er(e)
                      , a = !n && !i && !r && jr(e)
                      , o = n || i || r || a
                      , s = o ? ul(e.length, c) : []
                      , l = s.length;
                    for (var u in e)
                        !t && !_.call(e, u) || o && ("length" == u || r && ("offset" == u || "parent" == u) || a && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || Xn(u, l)) || s.push(u);
                    return s
                }
                function Ce(e) {
                    var t = e.length;
                    return t ? e[Tt(0, t - 1)] : no
                }
                function Me(e, t) {
                    return ci(an(e), Ne(t, 0, e.length))
                }
                function ke(e) {
                    return ci(an(e))
                }
                function Pe(e, t, n) {
                    (n === no || vr(e[t], n)) && (n !== no || t in e) || Re(e, t, n)
                }
                function Ae(e, t, n) {
                    var i = e[t];
                    _.call(e, t) && vr(i, n) && (n !== no || t in e) || Re(e, t, n)
                }
                function Ie(e, t) {
                    for (var n = e.length; n--; )
                        if (vr(e[n][0], t))
                            return n;
                    return -1
                }
                function Le(e, i, r, a) {
                    return ze(e, function(e, t, n) {
                        i(a, e, r(e), n)
                    }),
                    a
                }
                function Oe(e, t) {
                    return e && on(t, la(t), e)
                }
                function Re(e, t, n) {
                    "__proto__" == t && D ? D(e, t, {
                        configurable: !0,
                        enumerable: !0,
                        value: n,
                        writable: !0
                    }) : e[t] = n
                }
                function De(e, t) {
                    for (var n = -1, i = t.length, r = E(i), a = null == e; ++n < i; )
                        r[n] = a ? no : ia(e, t[n]);
                    return r
                }
                function Ne(e, t, n) {
                    return e == e && (n !== no && (e = e <= n ? e : n),
                    t !== no && (e = t <= e ? e : t)),
                    e
                }
                function Fe(n, i, r, e, t, a) {
                    var o, s = 1 & i, l = 2 & i, u = 4 & i;
                    if (r && (o = t ? r(n, e, t, a) : r(n)),
                    o !== no)
                        return o;
                    if (!Ir(n))
                        return n;
                    var c = wr(n);
                    if (c) {
                        if (o = function(e) {
                            var t = e.length
                              , n = new e.constructor(t);
                            t && "string" == typeof e[0] && _.call(e, "index") && (n.index = e.index,
                            n.input = e.input);
                            return n
                        }(n),
                        !s)
                            return an(n, o)
                    } else {
                        var h = Gn(n)
                          , d = h == xo || h == To;
                        if (Er(n))
                            return Qt(n, s);
                        if (h == Co || h == vo || d && !t) {
                            if (o = l || d ? {} : qn(n),
                            !s)
                                return l ? function(e, t) {
                                    return on(e, Vn(e), t)
                                }(n, function(e, t) {
                                    return e && on(t, ua(t), e)
                                }(o, n)) : function(e, t) {
                                    return on(e, Hn(e), t)
                                }(n, Oe(o, n))
                        } else {
                            if (!As[h])
                                return t ? n : {};
                            o = function(e, t, n) {
                                var i = e.constructor;
                                switch (t) {
                                case Oo:
                                    return Jt(e);
                                case bo:
                                case _o:
                                    return new i(+e);
                                case Ro:
                                    return function(e, t) {
                                        var n = t ? Jt(e.buffer) : e.buffer;
                                        return new e.constructor(n,e.byteOffset,e.byteLength)
                                    }(e, n);
                                case Do:
                                case No:
                                case Fo:
                                case Bo:
                                case Uo:
                                case jo:
                                case zo:
                                case Ho:
                                case Vo:
                                    return en(e, n);
                                case So:
                                    return new i;
                                case Eo:
                                case Ao:
                                    return new i(e);
                                case ko:
                                    return function(e) {
                                        var t = new e.constructor(e.source,fs.exec(e));
                                        return t.lastIndex = e.lastIndex,
                                        t
                                    }(e);
                                case Po:
                                    return new i;
                                case Io:
                                    return function(e) {
                                        return de ? m(de.call(e)) : {}
                                    }(e)
                                }
                            }(n, h, s)
                        }
                    }
                    var p = (a = a || new Se).get(n);
                    if (p)
                        return p;
                    a.set(n, o),
                    Fr(n) ? n.forEach(function(e) {
                        o.add(Fe(e, i, r, e, n, a))
                    }) : Or(n) && n.forEach(function(e, t) {
                        o.set(t, Fe(e, i, r, t, n, a))
                    });
                    var f = c ? no : (u ? l ? Rn : On : l ? ua : la)(n);
                    return Vs(f || n, function(e, t) {
                        f && (e = n[t = e]),
                        Ae(o, t, Fe(e, i, r, t, n, a))
                    }),
                    o
                }
                function Be(e, t, n) {
                    var i = n.length;
                    if (null == e)
                        return !i;
                    for (e = m(e); i--; ) {
                        var r = n[i]
                          , a = t[r]
                          , o = e[r];
                        if (o === no && !(r in e) || !a(o))
                            return !1
                    }
                    return !0
                }
                function Ue(e, t, n) {
                    if ("function" != typeof e)
                        throw new y(io);
                    return oi(function() {
                        e.apply(no, n)
                    }, t)
                }
                function je(e, t, n, i) {
                    var r = -1
                      , a = $s
                      , o = !0
                      , s = e.length
                      , l = []
                      , u = t.length;
                    if (!s)
                        return l;
                    n && (t = Ys(t, cl(n))),
                    i ? (a = Xs,
                    o = !1) : 200 <= t.length && (a = dl,
                    o = !1,
                    t = new Te(t));
                    e: for (; ++r < s; ) {
                        var c = e[r]
                          , h = null == n ? c : n(c);
                        if (c = i || 0 !== c ? c : 0,
                        o && h == h) {
                            for (var d = u; d--; )
                                if (t[d] === h)
                                    continue e;
                            l.push(c)
                        } else
                            a(t, h, i) || l.push(c)
                    }
                    return l
                }
                fe.templateSettings = {
                    escape: Zo,
                    evaluate: Qo,
                    interpolate: Jo,
                    variable: "",
                    imports: {
                        _: fe
                    }
                },
                (fe.prototype = ve.prototype).constructor = fe,
                (ye.prototype = me(ve.prototype)).constructor = ye,
                (be.prototype = me(ve.prototype)).constructor = be,
                _e.prototype.clear = function() {
                    this.__data__ = ie ? ie(null) : {},
                    this.size = 0
                }
                ,
                _e.prototype.delete = function(e) {
                    var t = this.has(e) && delete this.__data__[e];
                    return this.size -= t ? 1 : 0,
                    t
                }
                ,
                _e.prototype.get = function(e) {
                    var t = this.__data__;
                    if (ie) {
                        var n = t[e];
                        return n === ro ? no : n
                    }
                    return _.call(t, e) ? t[e] : no
                }
                ,
                _e.prototype.has = function(e) {
                    var t = this.__data__;
                    return ie ? t[e] !== no : _.call(t, e)
                }
                ,
                _e.prototype.set = function(e, t) {
                    var n = this.__data__;
                    return this.size += this.has(e) ? 0 : 1,
                    n[e] = ie && t === no ? ro : t,
                    this
                }
                ,
                we.prototype.clear = function() {
                    this.__data__ = [],
                    this.size = 0
                }
                ,
                we.prototype.delete = function(e) {
                    var t = this.__data__
                      , n = Ie(t, e);
                    return !(n < 0) && (n == t.length - 1 ? t.pop() : I.call(t, n, 1),
                    --this.size,
                    !0)
                }
                ,
                we.prototype.get = function(e) {
                    var t = this.__data__
                      , n = Ie(t, e);
                    return n < 0 ? no : t[n][1]
                }
                ,
                we.prototype.has = function(e) {
                    return -1 < Ie(this.__data__, e)
                }
                ,
                we.prototype.set = function(e, t) {
                    var n = this.__data__
                      , i = Ie(n, e);
                    return i < 0 ? (++this.size,
                    n.push([e, t])) : n[i][1] = t,
                    this
                }
                ,
                xe.prototype.clear = function() {
                    this.size = 0,
                    this.__data__ = {
                        hash: new _e,
                        map: new (J || we),
                        string: new _e
                    }
                }
                ,
                xe.prototype.delete = function(e) {
                    var t = Un(this, e).delete(e);
                    return this.size -= t ? 1 : 0,
                    t
                }
                ,
                xe.prototype.get = function(e) {
                    return Un(this, e).get(e)
                }
                ,
                xe.prototype.has = function(e) {
                    return Un(this, e).has(e)
                }
                ,
                xe.prototype.set = function(e, t) {
                    var n = Un(this, e)
                      , i = n.size;
                    return n.set(e, t),
                    this.size += n.size == i ? 0 : 1,
                    this
                }
                ,
                Te.prototype.add = Te.prototype.push = function(e) {
                    return this.__data__.set(e, ro),
                    this
                }
                ,
                Te.prototype.has = function(e) {
                    return this.__data__.has(e)
                }
                ,
                Se.prototype.clear = function() {
                    this.__data__ = new we,
                    this.size = 0
                }
                ,
                Se.prototype.delete = function(e) {
                    var t = this.__data__
                      , n = t.delete(e);
                    return this.size = t.size,
                    n
                }
                ,
                Se.prototype.get = function(e) {
                    return this.__data__.get(e)
                }
                ,
                Se.prototype.has = function(e) {
                    return this.__data__.has(e)
                }
                ,
                Se.prototype.set = function(e, t) {
                    var n = this.__data__;
                    if (n instanceof we) {
                        var i = n.__data__;
                        if (!J || i.length < 199)
                            return i.push([e, t]),
                            this.size = ++n.size,
                            this;
                        n = this.__data__ = new xe(i)
                    }
                    return n.set(e, t),
                    this.size = n.size,
                    this
                }
                ;
                var ze = un(Ye)
                  , He = un(Ke, !0);
                function Ve(e, i) {
                    var r = !0;
                    return ze(e, function(e, t, n) {
                        return r = !!i(e, t, n)
                    }),
                    r
                }
                function Ge(e, t, n) {
                    for (var i = -1, r = e.length; ++i < r; ) {
                        var a = e[i]
                          , o = t(a);
                        if (null != o && (s === no ? o == o && !Ur(o) : n(o, s)))
                            var s = o
                              , l = a
                    }
                    return l
                }
                function We(e, i) {
                    var r = [];
                    return ze(e, function(e, t, n) {
                        i(e, t, n) && r.push(e)
                    }),
                    r
                }
                function qe(e, t, n, i, r) {
                    var a = -1
                      , o = e.length;
                    for (n = n || $n,
                    r = r || []; ++a < o; ) {
                        var s = e[a];
                        0 < t && n(s) ? 1 < t ? qe(s, t - 1, n, i, r) : Ks(r, s) : i || (r[r.length] = s)
                    }
                    return r
                }
                var $e = cn()
                  , Xe = cn(!0);
                function Ye(e, t) {
                    return e && $e(e, t, la)
                }
                function Ke(e, t) {
                    return e && Xe(e, t, la)
                }
                function Ze(t, e) {
                    return qs(e, function(e) {
                        return kr(t[e])
                    })
                }
                function Qe(e, t) {
                    for (var n = 0, i = (t = Xt(t, e)).length; null != e && n < i; )
                        e = e[fi(t[n++])];
                    return n && n == i ? e : no
                }
                function Je(e, t, n) {
                    var i = t(e);
                    return wr(e) ? i : Ks(i, n(e))
                }
                function et(e) {
                    return null == e ? e === no ? "[object Undefined]" : "[object Null]" : R && R in m(e) ? function(e) {
                        var t = _.call(e, R)
                          , n = e[R];
                        try {
                            e[R] = no;
                            var i = !0
                        } catch (e) {}
                        var r = f.call(e);
                        i && (t ? e[R] = n : delete e[R]);
                        return r
                    }(e) : function(e) {
                        return f.call(e)
                    }(e)
                }
                function tt(e, t) {
                    return t < e
                }
                function nt(e, t) {
                    return null != e && _.call(e, t)
                }
                function it(e, t) {
                    return null != e && t in m(e)
                }
                function rt(e, t, n) {
                    for (var i = n ? Xs : $s, r = e[0].length, a = e.length, o = a, s = E(a), l = 1 / 0, u = []; o--; ) {
                        var c = e[o];
                        o && t && (c = Ys(c, cl(t))),
                        l = $(c.length, l),
                        s[o] = !n && (t || 120 <= r && 120 <= c.length) ? new Te(o && c) : no
                    }
                    c = e[0];
                    var h = -1
                      , d = s[0];
                    e: for (; ++h < r && u.length < l; ) {
                        var p = c[h]
                          , f = t ? t(p) : p;
                        if (p = n || 0 !== p ? p : 0,
                        !(d ? dl(d, f) : i(u, f, n))) {
                            for (o = a; --o; ) {
                                var m = s[o];
                                if (!(m ? dl(m, f) : i(e[o], f, n)))
                                    continue e
                            }
                            d && d.push(f),
                            u.push(p)
                        }
                    }
                    return u
                }
                function at(e, t, n) {
                    var i = null == (e = ii(e, t = Xt(t, e))) ? e : e[fi(Mi(t))];
                    return null == i ? no : zs(i, e, n)
                }
                function ot(e) {
                    return Lr(e) && et(e) == vo
                }
                function st(e, t, n, i, r) {
                    return e === t || (null == e || null == t || !Lr(e) && !Lr(t) ? e != e && t != t : function(e, t, n, i, r, a) {
                        var o = wr(e)
                          , s = wr(t)
                          , l = o ? yo : Gn(e)
                          , u = s ? yo : Gn(t)
                          , c = (l = l == vo ? Co : l) == Co
                          , h = (u = u == vo ? Co : u) == Co
                          , d = l == u;
                        if (d && Er(e)) {
                            if (!Er(t))
                                return !1;
                            c = !(o = !0)
                        }
                        if (d && !c)
                            return a = a || new Se,
                            o || jr(e) ? In(e, t, n, i, r, a) : function(e, t, n, i, r, a, o) {
                                switch (n) {
                                case Ro:
                                    if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
                                        return !1;
                                    e = e.buffer,
                                    t = t.buffer;
                                case Oo:
                                    return !(e.byteLength != t.byteLength || !a(new C(e), new C(t)));
                                case bo:
                                case _o:
                                case Eo:
                                    return vr(+e, +t);
                                case wo:
                                    return e.name == t.name && e.message == t.message;
                                case ko:
                                case Ao:
                                    return e == t + "";
                                case So:
                                    var s = bl;
                                case Po:
                                    var l = 1 & i;
                                    if (s = s || xl,
                                    e.size != t.size && !l)
                                        return !1;
                                    var u = o.get(e);
                                    if (u)
                                        return u == t;
                                    i |= 2,
                                    o.set(e, t);
                                    var c = In(s(e), s(t), i, r, a, o);
                                    return o.delete(e),
                                    c;
                                case Io:
                                    if (de)
                                        return de.call(e) == de.call(t)
                                }
                                return !1
                            }(e, t, l, n, i, r, a);
                        if (!(1 & n)) {
                            var p = c && _.call(e, "__wrapped__")
                              , f = h && _.call(t, "__wrapped__");
                            if (p || f) {
                                var m = p ? e.value() : e
                                  , g = f ? t.value() : t;
                                return a = a || new Se,
                                r(m, g, n, i, a)
                            }
                        }
                        return d && (a = a || new Se,
                        function(e, t, n, i, r, a) {
                            var o = 1 & n
                              , s = On(e)
                              , l = s.length
                              , u = On(t).length;
                            if (l != u && !o)
                                return !1;
                            var c = l;
                            for (; c--; ) {
                                var h = s[c];
                                if (!(o ? h in t : _.call(t, h)))
                                    return !1
                            }
                            var d = a.get(e);
                            if (d && a.get(t))
                                return d == t;
                            var p = !0;
                            a.set(e, t),
                            a.set(t, e);
                            var f = o;
                            for (; ++c < l; ) {
                                h = s[c];
                                var m = e[h]
                                  , g = t[h];
                                if (i)
                                    var v = o ? i(g, m, h, t, e, a) : i(m, g, h, e, t, a);
                                if (!(v === no ? m === g || r(m, g, n, i, a) : v)) {
                                    p = !1;
                                    break
                                }
                                f = f || "constructor" == h
                            }
                            if (p && !f) {
                                var y = e.constructor
                                  , b = t.constructor;
                                y != b && "constructor"in e && "constructor"in t && !("function" == typeof y && y instanceof y && "function" == typeof b && b instanceof b) && (p = !1)
                            }
                            return a.delete(e),
                            a.delete(t),
                            p
                        }(e, t, n, i, r, a))
                    }(e, t, n, i, st, r))
                }
                function lt(e, t, n, i) {
                    var r = n.length
                      , a = r
                      , o = !i;
                    if (null == e)
                        return !a;
                    for (e = m(e); r--; ) {
                        var s = n[r];
                        if (o && s[2] ? s[1] !== e[s[0]] : !(s[0]in e))
                            return !1
                    }
                    for (; ++r < a; ) {
                        var l = (s = n[r])[0]
                          , u = e[l]
                          , c = s[1];
                        if (o && s[2]) {
                            if (u === no && !(l in e))
                                return !1
                        } else {
                            var h = new Se;
                            if (i)
                                var d = i(u, c, l, e, t, h);
                            if (!(d === no ? st(c, u, 3, i, h) : d))
                                return !1
                        }
                    }
                    return !0
                }
                function ut(e) {
                    return !(!Ir(e) || function(e) {
                        return !!p && p in e
                    }(e)) && (kr(e) ? x : vs).test(mi(e))
                }
                function ct(e) {
                    return "function" == typeof e ? e : null == e ? Ra : "object" == typeof e ? wr(e) ? gt(e[0], e[1]) : mt(e) : Va(e)
                }
                function ht(e) {
                    if (!Jn(e))
                        return W(e);
                    var t = [];
                    for (var n in m(e))
                        _.call(e, n) && "constructor" != n && t.push(n);
                    return t
                }
                function dt(e) {
                    if (!Ir(e))
                        return function(e) {
                            var t = [];
                            if (null != e)
                                for (var n in m(e))
                                    t.push(n);
                            return t
                        }(e);
                    var t = Jn(e)
                      , n = [];
                    for (var i in e)
                        ("constructor" != i || !t && _.call(e, i)) && n.push(i);
                    return n
                }
                function pt(e, t) {
                    return e < t
                }
                function ft(e, i) {
                    var r = -1
                      , a = Tr(e) ? E(e.length) : [];
                    return ze(e, function(e, t, n) {
                        a[++r] = i(e, t, n)
                    }),
                    a
                }
                function mt(t) {
                    var n = jn(t);
                    return 1 == n.length && n[0][2] ? ti(n[0][0], n[0][1]) : function(e) {
                        return e === t || lt(e, t, n)
                    }
                }
                function gt(n, i) {
                    return Kn(n) && ei(i) ? ti(fi(n), i) : function(e) {
                        var t = ia(e, n);
                        return t === no && t === i ? ra(e, n) : st(i, t, 3)
                    }
                }
                function vt(i, r, a, o, s) {
                    i !== r && $e(r, function(e, t) {
                        if (s = s || new Se,
                        Ir(e))
                            !function(e, t, n, i, r, a, o) {
                                var s = ri(e, n)
                                  , l = ri(t, n)
                                  , u = o.get(l);
                                if (u)
                                    return Pe(e, n, u);
                                var c = a ? a(s, l, n + "", e, t, o) : no
                                  , h = c === no;
                                if (h) {
                                    var d = wr(l)
                                      , p = !d && Er(l)
                                      , f = !d && !p && jr(l);
                                    c = l,
                                    d || p || f ? c = wr(s) ? s : Sr(s) ? an(s) : p ? Qt(l, !(h = !1)) : f ? en(l, !(h = !1)) : [] : Dr(l) || _r(l) ? _r(c = s) ? c = Xr(s) : Ir(s) && !kr(s) || (c = qn(l)) : h = !1
                                }
                                h && (o.set(l, c),
                                r(c, l, i, a, o),
                                o.delete(l));
                                Pe(e, n, c)
                            }(i, r, t, a, vt, o, s);
                        else {
                            var n = o ? o(ri(i, t), e, t + "", i, r, s) : no;
                            n === no && (n = e),
                            Pe(i, t, n)
                        }
                    }, ua)
                }
                function yt(e, t) {
                    var n = e.length;
                    if (n)
                        return Xn(t += t < 0 ? n : 0, n) ? e[t] : no
                }
                function bt(e, i, n) {
                    var r = -1;
                    return i = Ys(i.length ? i : [Ra], cl(Bn())),
                    function(e, t) {
                        var n = e.length;
                        for (e.sort(t); n--; )
                            e[n] = e[n].value;
                        return e
                    }(ft(e, function(t, e, n) {
                        return {
                            criteria: Ys(i, function(e) {
                                return e(t)
                            }),
                            index: ++r,
                            value: t
                        }
                    }), function(e, t) {
                        return function(e, t, n) {
                            var i = -1
                              , r = e.criteria
                              , a = t.criteria
                              , o = r.length
                              , s = n.length;
                            for (; ++i < o; ) {
                                var l = tn(r[i], a[i]);
                                if (l) {
                                    if (s <= i)
                                        return l;
                                    var u = n[i];
                                    return l * ("desc" == u ? -1 : 1)
                                }
                            }
                            return e.index - t.index
                        }(e, t, n)
                    })
                }
                function _t(e, t, n) {
                    for (var i = -1, r = t.length, a = {}; ++i < r; ) {
                        var o = t[i]
                          , s = Qe(e, o);
                        n(s, o) && kt(a, Xt(o, e), s)
                    }
                    return a
                }
                function wt(e, t, n, i) {
                    var r = i ? il : nl
                      , a = -1
                      , o = t.length
                      , s = e;
                    for (e === t && (t = an(t)),
                    n && (s = Ys(e, cl(n))); ++a < o; )
                        for (var l = 0, u = t[a], c = n ? n(u) : u; -1 < (l = r(s, c, l, i)); )
                            s !== e && I.call(s, l, 1),
                            I.call(e, l, 1);
                    return e
                }
                function xt(e, t) {
                    for (var n = e ? t.length : 0, i = n - 1; n--; ) {
                        var r = t[n];
                        if (n == i || r !== a) {
                            var a = r;
                            Xn(r) ? I.call(e, r, 1) : jt(e, r)
                        }
                    }
                    return e
                }
                function Tt(e, t) {
                    return e + j(K() * (t - e + 1))
                }
                function St(e, t) {
                    var n = "";
                    if (!e || t < 1 || po < t)
                        return n;
                    for (; t % 2 && (n += e),
                    (t = j(t / 2)) && (e += e),
                    t; )
                        ;
                    return n
                }
                function Et(e, t) {
                    return si(ni(e, t, Ra), e + "")
                }
                function Ct(e) {
                    return Ce(va(e))
                }
                function Mt(e, t) {
                    var n = va(e);
                    return ci(n, Ne(t, 0, n.length))
                }
                function kt(e, t, n, i) {
                    if (!Ir(e))
                        return e;
                    for (var r = -1, a = (t = Xt(t, e)).length, o = a - 1, s = e; null != s && ++r < a; ) {
                        var l = fi(t[r])
                          , u = n;
                        if (r != o) {
                            var c = s[l];
                            (u = i ? i(c, l, s) : no) === no && (u = Ir(c) ? c : Xn(t[r + 1]) ? [] : {})
                        }
                        Ae(s, l, u),
                        s = s[l]
                    }
                    return e
                }
                var Pt = re ? function(e, t) {
                    return re.set(e, t),
                    e
                }
                : Ra
                  , At = D ? function(e, t) {
                    return D(e, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        value: Ia(t),
                        writable: !0
                    })
                }
                : Ra;
                function It(e) {
                    return ci(va(e))
                }
                function Lt(e, t, n) {
                    var i = -1
                      , r = e.length;
                    t < 0 && (t = r < -t ? 0 : r + t),
                    (n = r < n ? r : n) < 0 && (n += r),
                    r = n < t ? 0 : n - t >>> 0,
                    t >>>= 0;
                    for (var a = E(r); ++i < r; )
                        a[i] = e[i + t];
                    return a
                }
                function Ot(e, i) {
                    var r;
                    return ze(e, function(e, t, n) {
                        return !(r = i(e, t, n))
                    }),
                    !!r
                }
                function Rt(e, t, n) {
                    var i = 0
                      , r = null == e ? i : e.length;
                    if ("number" == typeof t && t == t && r <= 2147483647) {
                        for (; i < r; ) {
                            var a = i + r >>> 1
                              , o = e[a];
                            null !== o && !Ur(o) && (n ? o <= t : o < t) ? i = 1 + a : r = a
                        }
                        return r
                    }
                    return Dt(e, t, Ra, n)
                }
                function Dt(e, t, n, i) {
                    t = n(t);
                    for (var r = 0, a = null == e ? 0 : e.length, o = t != t, s = null === t, l = Ur(t), u = t === no; r < a; ) {
                        var c = j((r + a) / 2)
                          , h = n(e[c])
                          , d = h !== no
                          , p = null === h
                          , f = h == h
                          , m = Ur(h);
                        if (o)
                            var g = i || f;
                        else
                            g = u ? f && (i || d) : s ? f && d && (i || !p) : l ? f && d && !p && (i || !m) : !p && !m && (i ? h <= t : h < t);
                        g ? r = c + 1 : a = c
                    }
                    return $(a, 4294967294)
                }
                function Nt(e, t) {
                    for (var n = -1, i = e.length, r = 0, a = []; ++n < i; ) {
                        var o = e[n]
                          , s = t ? t(o) : o;
                        if (!n || !vr(s, l)) {
                            var l = s;
                            a[r++] = 0 === o ? 0 : o
                        }
                    }
                    return a
                }
                function Ft(e) {
                    return "number" == typeof e ? e : Ur(e) ? fo : +e
                }
                function Bt(e) {
                    if ("string" == typeof e)
                        return e;
                    if (wr(e))
                        return Ys(e, Bt) + "";
                    if (Ur(e))
                        return pe ? pe.call(e) : "";
                    var t = e + "";
                    return "0" == t && 1 / e == -ho ? "-0" : t
                }
                function Ut(e, t, n) {
                    var i = -1
                      , r = $s
                      , a = e.length
                      , o = !0
                      , s = []
                      , l = s;
                    if (n)
                        o = !1,
                        r = Xs;
                    else if (200 <= a) {
                        var u = t ? null : En(e);
                        if (u)
                            return xl(u);
                        o = !1,
                        r = dl,
                        l = new Te
                    } else
                        l = t ? [] : s;
                    e: for (; ++i < a; ) {
                        var c = e[i]
                          , h = t ? t(c) : c;
                        if (c = n || 0 !== c ? c : 0,
                        o && h == h) {
                            for (var d = l.length; d--; )
                                if (l[d] === h)
                                    continue e;
                            t && l.push(h),
                            s.push(c)
                        } else
                            r(l, h, n) || (l !== s && l.push(h),
                            s.push(c))
                    }
                    return s
                }
                function jt(e, t) {
                    return null == (e = ii(e, t = Xt(t, e))) || delete e[fi(Mi(t))]
                }
                function zt(e, t, n, i) {
                    return kt(e, t, n(Qe(e, t)), i)
                }
                function Ht(e, t, n, i) {
                    for (var r = e.length, a = i ? r : -1; (i ? a-- : ++a < r) && t(e[a], a, e); )
                        ;
                    return n ? Lt(e, i ? 0 : a, i ? a + 1 : r) : Lt(e, i ? a + 1 : 0, i ? r : a)
                }
                function Vt(e, t) {
                    var n = e;
                    return n instanceof be && (n = n.value()),
                    Zs(t, function(e, t) {
                        return t.func.apply(t.thisArg, Ks([e], t.args))
                    }, n)
                }
                function Gt(e, t, n) {
                    var i = e.length;
                    if (i < 2)
                        return i ? Ut(e[0]) : [];
                    for (var r = -1, a = E(i); ++r < i; )
                        for (var o = e[r], s = -1; ++s < i; )
                            s != r && (a[r] = je(a[r] || o, e[s], t, n));
                    return Ut(qe(a, 1), t, n)
                }
                function Wt(e, t, n) {
                    for (var i = -1, r = e.length, a = t.length, o = {}; ++i < r; ) {
                        var s = i < a ? t[i] : no;
                        n(o, e[i], s)
                    }
                    return o
                }
                function qt(e) {
                    return Sr(e) ? e : []
                }
                function $t(e) {
                    return "function" == typeof e ? e : Ra
                }
                function Xt(e, t) {
                    return wr(e) ? e : Kn(e, t) ? [e] : pi(Yr(e))
                }
                var Yt = Et;
                function Kt(e, t, n) {
                    var i = e.length;
                    return n = n === no ? i : n,
                    !t && i <= n ? e : Lt(e, t, n)
                }
                var Zt = N || function(e) {
                    return Os.clearTimeout(e)
                }
                ;
                function Qt(e, t) {
                    if (t)
                        return e.slice();
                    var n = e.length
                      , i = M ? M(n) : new e.constructor(n);
                    return e.copy(i),
                    i
                }
                function Jt(e) {
                    var t = new e.constructor(e.byteLength);
                    return new C(t).set(new C(e)),
                    t
                }
                function en(e, t) {
                    var n = t ? Jt(e.buffer) : e.buffer;
                    return new e.constructor(n,e.byteOffset,e.length)
                }
                function tn(e, t) {
                    if (e !== t) {
                        var n = e !== no
                          , i = null === e
                          , r = e == e
                          , a = Ur(e)
                          , o = t !== no
                          , s = null === t
                          , l = t == t
                          , u = Ur(t);
                        if (!s && !u && !a && t < e || a && o && l && !s && !u || i && o && l || !n && l || !r)
                            return 1;
                        if (!i && !a && !u && e < t || u && n && r && !i && !a || s && n && r || !o && r || !l)
                            return -1
                    }
                    return 0
                }
                function nn(e, t, n, i) {
                    for (var r = -1, a = e.length, o = n.length, s = -1, l = t.length, u = q(a - o, 0), c = E(l + u), h = !i; ++s < l; )
                        c[s] = t[s];
                    for (; ++r < o; )
                        (h || r < a) && (c[n[r]] = e[r]);
                    for (; u--; )
                        c[s++] = e[r++];
                    return c
                }
                function rn(e, t, n, i) {
                    for (var r = -1, a = e.length, o = -1, s = n.length, l = -1, u = t.length, c = q(a - s, 0), h = E(c + u), d = !i; ++r < c; )
                        h[r] = e[r];
                    for (var p = r; ++l < u; )
                        h[p + l] = t[l];
                    for (; ++o < s; )
                        (d || r < a) && (h[p + n[o]] = e[r++]);
                    return h
                }
                function an(e, t) {
                    var n = -1
                      , i = e.length;
                    for (t = t || E(i); ++n < i; )
                        t[n] = e[n];
                    return t
                }
                function on(e, t, n, i) {
                    var r = !n;
                    n = n || {};
                    for (var a = -1, o = t.length; ++a < o; ) {
                        var s = t[a]
                          , l = i ? i(n[s], e[s], s, n, e) : no;
                        l === no && (l = e[s]),
                        r ? Re(n, s, l) : Ae(n, s, l)
                    }
                    return n
                }
                function sn(r, a) {
                    return function(e, t) {
                        var n = wr(e) ? Hs : Le
                          , i = a ? a() : {};
                        return n(e, r, Bn(t, 2), i)
                    }
                }
                function ln(s) {
                    return Et(function(e, t) {
                        var n = -1
                          , i = t.length
                          , r = 1 < i ? t[i - 1] : no
                          , a = 2 < i ? t[2] : no;
                        for (r = 3 < s.length && "function" == typeof r ? (i--,
                        r) : no,
                        a && Yn(t[0], t[1], a) && (r = i < 3 ? no : r,
                        i = 1),
                        e = m(e); ++n < i; ) {
                            var o = t[n];
                            o && s(e, o, n, r)
                        }
                        return e
                    })
                }
                function un(a, o) {
                    return function(e, t) {
                        if (null == e)
                            return e;
                        if (!Tr(e))
                            return a(e, t);
                        for (var n = e.length, i = o ? n : -1, r = m(e); (o ? i-- : ++i < n) && !1 !== t(r[i], i, r); )
                            ;
                        return e
                    }
                }
                function cn(l) {
                    return function(e, t, n) {
                        for (var i = -1, r = m(e), a = n(e), o = a.length; o--; ) {
                            var s = a[l ? o : ++i];
                            if (!1 === t(r[s], s, r))
                                break
                        }
                        return e
                    }
                }
                function hn(r) {
                    return function(e) {
                        var t = yl(e = Yr(e)) ? Sl(e) : no
                          , n = t ? t[0] : e.charAt(0)
                          , i = t ? Kt(t, 1).join("") : e.slice(1);
                        return n[r]() + i
                    }
                }
                function dn(t) {
                    return function(e) {
                        return Zs(ka(_a(e).replace(Ts, "")), t, "")
                    }
                }
                function pn(i) {
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return new i;
                        case 1:
                            return new i(e[0]);
                        case 2:
                            return new i(e[0],e[1]);
                        case 3:
                            return new i(e[0],e[1],e[2]);
                        case 4:
                            return new i(e[0],e[1],e[2],e[3]);
                        case 5:
                            return new i(e[0],e[1],e[2],e[3],e[4]);
                        case 6:
                            return new i(e[0],e[1],e[2],e[3],e[4],e[5]);
                        case 7:
                            return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])
                        }
                        var t = me(i.prototype)
                          , n = i.apply(t, e);
                        return Ir(n) ? n : t
                    }
                }
                function fn(o) {
                    return function(e, t, n) {
                        var i = m(e);
                        if (!Tr(e)) {
                            var r = Bn(t, 3);
                            e = la(e),
                            t = function(e) {
                                return r(i[e], e, i)
                            }
                        }
                        var a = o(e, t, n);
                        return -1 < a ? i[r ? e[a] : a] : no
                    }
                }
                function mn(l) {
                    return Ln(function(r) {
                        var a = r.length
                          , e = a
                          , t = ye.prototype.thru;
                        for (l && r.reverse(); e--; ) {
                            var n = r[e];
                            if ("function" != typeof n)
                                throw new y(io);
                            if (t && !o && "wrapper" == Nn(n))
                                var o = new ye([],!0)
                        }
                        for (e = o ? e : a; ++e < a; ) {
                            var i = Nn(n = r[e])
                              , s = "wrapper" == i ? Dn(n) : no;
                            o = s && Zn(s[0]) && 424 == s[1] && !s[4].length && 1 == s[9] ? o[Nn(s[0])].apply(o, s[3]) : 1 == n.length && Zn(n) ? o[i]() : o.thru(n)
                        }
                        return function() {
                            var e = arguments
                              , t = e[0];
                            if (o && 1 == e.length && wr(t))
                                return o.plant(t).value();
                            for (var n = 0, i = a ? r[n].apply(this, e) : t; ++n < a; )
                                i = r[n].call(this, i);
                            return i
                        }
                    })
                }
                function gn(u, c, h, d, p, f, m, g, v, y) {
                    var b = c & uo
                      , _ = 1 & c
                      , w = 2 & c
                      , x = 24 & c
                      , T = 512 & c
                      , S = w ? no : pn(u);
                    return function e() {
                        for (var t = arguments.length, n = E(t), i = t; i--; )
                            n[i] = arguments[i];
                        if (x)
                            var r = Fn(e)
                              , a = function(e, t) {
                                for (var n = e.length, i = 0; n--; )
                                    e[n] === t && ++i;
                                return i
                            }(n, r);
                        if (d && (n = nn(n, d, p, x)),
                        f && (n = rn(n, f, m, x)),
                        t -= a,
                        x && t < y) {
                            var o = wl(n, r);
                            return Tn(u, c, gn, e.placeholder, h, n, o, g, v, y - t)
                        }
                        var s = _ ? h : this
                          , l = w ? s[u] : u;
                        return t = n.length,
                        g ? n = function(e, t) {
                            for (var n = e.length, i = $(t.length, n), r = an(e); i--; ) {
                                var a = t[i];
                                e[i] = Xn(a, n) ? r[a] : no
                            }
                            return e
                        }(n, g) : T && 1 < t && n.reverse(),
                        b && v < t && (n.length = v),
                        this && this !== Os && this instanceof e && (l = S || pn(l)),
                        l.apply(s, n)
                    }
                }
                function vn(n, i) {
                    return function(e, t) {
                        return function(e, i, r, a) {
                            return Ye(e, function(e, t, n) {
                                i(a, r(e), t, n)
                            }),
                            a
                        }(e, n, i(t), {})
                    }
                }
                function yn(i, r) {
                    return function(e, t) {
                        var n;
                        if (e === no && t === no)
                            return r;
                        if (e !== no && (n = e),
                        t !== no) {
                            if (n === no)
                                return t;
                            t = "string" == typeof e || "string" == typeof t ? (e = Bt(e),
                            Bt(t)) : (e = Ft(e),
                            Ft(t)),
                            n = i(e, t)
                        }
                        return n
                    }
                }
                function bn(i) {
                    return Ln(function(e) {
                        return e = Ys(e, cl(Bn())),
                        Et(function(t) {
                            var n = this;
                            return i(e, function(e) {
                                return zs(e, n, t)
                            })
                        })
                    })
                }
                function _n(e, t) {
                    var n = (t = t === no ? " " : Bt(t)).length;
                    if (n < 2)
                        return n ? St(t, e) : t;
                    var i = St(t, U(e / Tl(t)));
                    return yl(t) ? Kt(Sl(i), 0, e).join("") : i.slice(0, e)
                }
                function wn(i) {
                    return function(e, t, n) {
                        return n && "number" != typeof n && Yn(e, t, n) && (t = n = no),
                        e = Gr(e),
                        t === no ? (t = e,
                        e = 0) : t = Gr(t),
                        function(e, t, n, i) {
                            for (var r = -1, a = q(U((t - e) / (n || 1)), 0), o = E(a); a--; )
                                o[i ? a : ++r] = e,
                                e += n;
                            return o
                        }(e, t, n = n === no ? e < t ? 1 : -1 : Gr(n), i)
                    }
                }
                function xn(n) {
                    return function(e, t) {
                        return "string" == typeof e && "string" == typeof t || (e = $r(e),
                        t = $r(t)),
                        n(e, t)
                    }
                }
                function Tn(e, t, n, i, r, a, o, s, l, u) {
                    var c = 8 & t;
                    t |= c ? so : lo,
                    4 & (t &= ~(c ? lo : so)) || (t &= -4);
                    var h = [e, t, r, c ? a : no, c ? o : no, c ? no : a, c ? no : o, s, l, u]
                      , d = n.apply(no, h);
                    return Zn(e) && ai(d, h),
                    d.placeholder = i,
                    li(d, e, t)
                }
                function Sn(e) {
                    var i = a[e];
                    return function(e, t) {
                        if (e = $r(e),
                        (t = null == t ? 0 : $(Wr(t), 292)) && V(e)) {
                            var n = (Yr(e) + "e").split("e");
                            return +((n = (Yr(i(n[0] + "e" + (+n[1] + t))) + "e").split("e"))[0] + "e" + (+n[1] - t))
                        }
                        return i(e)
                    }
                }
                var En = te && 1 / xl(new te([, -0]))[1] == ho ? function(e) {
                    return new te(e)
                }
                : Ua;
                function Cn(n) {
                    return function(e) {
                        var t = Gn(e);
                        return t == So ? bl(e) : t == Po ? function(e) {
                            var t = -1
                              , n = Array(e.size);
                            return e.forEach(function(e) {
                                n[++t] = [e, e]
                            }),
                            n
                        }(e) : function(t, e) {
                            return Ys(e, function(e) {
                                return [e, t[e]]
                            })
                        }(e, n(e))
                    }
                }
                function Mn(e, t, n, i, r, a, o, s) {
                    var l = 2 & t;
                    if (!l && "function" != typeof e)
                        throw new y(io);
                    var u = i ? i.length : 0;
                    if (u || (t &= -97,
                    i = r = no),
                    o = o === no ? o : q(Wr(o), 0),
                    s = s === no ? s : Wr(s),
                    u -= r ? r.length : 0,
                    t & lo) {
                        var c = i
                          , h = r;
                        i = r = no
                    }
                    var d = l ? no : Dn(e)
                      , p = [e, t, n, i, r, c, h, a, o, s];
                    if (d && function(e, t) {
                        var n = e[1]
                          , i = t[1]
                          , r = n | i
                          , a = r < 131
                          , o = i == uo && 8 == n || i == uo && n == co && e[7].length <= t[8] || 384 == i && t[7].length <= t[8] && 8 == n;
                        if (!a && !o)
                            return;
                        1 & i && (e[2] = t[2],
                        r |= 1 & n ? 0 : 4);
                        var s = t[3];
                        if (s) {
                            var l = e[3];
                            e[3] = l ? nn(l, s, t[4]) : s,
                            e[4] = l ? wl(e[3], ao) : t[4]
                        }
                        (s = t[5]) && (l = e[5],
                        e[5] = l ? rn(l, s, t[6]) : s,
                        e[6] = l ? wl(e[5], ao) : t[6]);
                        (s = t[7]) && (e[7] = s);
                        i & uo && (e[8] = null == e[8] ? t[8] : $(e[8], t[8]));
                        null == e[9] && (e[9] = t[9]);
                        e[0] = t[0],
                        e[1] = r
                    }(p, d),
                    e = p[0],
                    t = p[1],
                    n = p[2],
                    i = p[3],
                    r = p[4],
                    !(s = p[9] = p[9] === no ? l ? 0 : e.length : q(p[9] - u, 0)) && 24 & t && (t &= -25),
                    t && 1 != t)
                        f = 8 == t || t == oo ? function(o, s, l) {
                            var u = pn(o);
                            return function e() {
                                for (var t = arguments.length, n = E(t), i = t, r = Fn(e); i--; )
                                    n[i] = arguments[i];
                                var a = t < 3 && n[0] !== r && n[t - 1] !== r ? [] : wl(n, r);
                                return (t -= a.length) < l ? Tn(o, s, gn, e.placeholder, no, n, a, no, no, l - t) : zs(this && this !== Os && this instanceof e ? u : o, this, n)
                            }
                        }(e, t, s) : t != so && 33 != t || r.length ? gn.apply(no, p) : function(s, e, l, u) {
                            var c = 1 & e
                              , h = pn(s);
                            return function e() {
                                for (var t = -1, n = arguments.length, i = -1, r = u.length, a = E(r + n), o = this && this !== Os && this instanceof e ? h : s; ++i < r; )
                                    a[i] = u[i];
                                for (; n--; )
                                    a[i++] = arguments[++t];
                                return zs(o, c ? l : this, a)
                            }
                        }(e, t, n, i);
                    else
                        var f = function(t, e, n) {
                            var i = 1 & e
                              , r = pn(t);
                            return function e() {
                                return (this && this !== Os && this instanceof e ? r : t).apply(i ? n : this, arguments)
                            }
                        }(e, t, n);
                    return li((d ? Pt : ai)(f, p), e, t)
                }
                function kn(e, t, n, i) {
                    return e === no || vr(e, h[n]) && !_.call(i, n) ? t : e
                }
                function Pn(e, t, n, i, r, a) {
                    return Ir(e) && Ir(t) && (a.set(t, e),
                    vt(e, t, no, Pn, a),
                    a.delete(t)),
                    e
                }
                function An(e) {
                    return Dr(e) ? no : e
                }
                function In(e, t, n, i, r, a) {
                    var o = 1 & n
                      , s = e.length
                      , l = t.length;
                    if (s != l && !(o && s < l))
                        return !1;
                    var u = a.get(e);
                    if (u && a.get(t))
                        return u == t;
                    var c = -1
                      , h = !0
                      , d = 2 & n ? new Te : no;
                    for (a.set(e, t),
                    a.set(t, e); ++c < s; ) {
                        var p = e[c]
                          , f = t[c];
                        if (i)
                            var m = o ? i(f, p, c, t, e, a) : i(p, f, c, e, t, a);
                        if (m !== no) {
                            if (m)
                                continue;
                            h = !1;
                            break
                        }
                        if (d) {
                            if (!Js(t, function(e, t) {
                                if (!dl(d, t) && (p === e || r(p, e, n, i, a)))
                                    return d.push(t)
                            })) {
                                h = !1;
                                break
                            }
                        } else if (p !== f && !r(p, f, n, i, a)) {
                            h = !1;
                            break
                        }
                    }
                    return a.delete(e),
                    a.delete(t),
                    h
                }
                function Ln(e) {
                    return si(ni(e, no, xi), e + "")
                }
                function On(e) {
                    return Je(e, la, Hn)
                }
                function Rn(e) {
                    return Je(e, ua, Vn)
                }
                var Dn = re ? function(e) {
                    return re.get(e)
                }
                : Ua;
                function Nn(e) {
                    for (var t = e.name + "", n = ae[t], i = _.call(ae, t) ? n.length : 0; i--; ) {
                        var r = n[i]
                          , a = r.func;
                        if (null == a || a == e)
                            return r.name
                    }
                    return t
                }
                function Fn(e) {
                    return (_.call(fe, "placeholder") ? fe : e).placeholder
                }
                function Bn() {
                    var e = fe.iteratee || Da;
                    return e = e === Da ? ct : e,
                    arguments.length ? e(arguments[0], arguments[1]) : e
                }
                function Un(e, t) {
                    var n = e.__data__;
                    return function(e) {
                        var t = typeof e;
                        return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
                    }(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
                }
                function jn(e) {
                    for (var t = la(e), n = t.length; n--; ) {
                        var i = t[n]
                          , r = e[i];
                        t[n] = [i, r, ei(r)]
                    }
                    return t
                }
                function zn(e, t) {
                    var n = function(e, t) {
                        return null == e ? no : e[t]
                    }(e, t);
                    return ut(n) ? n : no
                }
                var Hn = z ? function(t) {
                    return null == t ? [] : (t = m(t),
                    qs(z(t), function(e) {
                        return A.call(t, e)
                    }))
                }
                : qa
                  , Vn = z ? function(e) {
                    for (var t = []; e; )
                        Ks(t, Hn(e)),
                        e = k(e);
                    return t
                }
                : qa
                  , Gn = et;
                function Wn(e, t, n) {
                    for (var i = -1, r = (t = Xt(t, e)).length, a = !1; ++i < r; ) {
                        var o = fi(t[i]);
                        if (!(a = null != e && n(e, o)))
                            break;
                        e = e[o]
                    }
                    return a || ++i != r ? a : !!(r = null == e ? 0 : e.length) && Ar(r) && Xn(o, r) && (wr(e) || _r(e))
                }
                function qn(e) {
                    return "function" != typeof e.constructor || Jn(e) ? {} : me(k(e))
                }
                function $n(e) {
                    return wr(e) || _r(e) || !!(L && e && e[L])
                }
                function Xn(e, t) {
                    var n = typeof e;
                    return !!(t = null == t ? po : t) && ("number" == n || "symbol" != n && bs.test(e)) && -1 < e && e % 1 == 0 && e < t
                }
                function Yn(e, t, n) {
                    if (!Ir(n))
                        return !1;
                    var i = typeof t;
                    return !!("number" == i ? Tr(n) && Xn(t, n.length) : "string" == i && t in n) && vr(n[t], e)
                }
                function Kn(e, t) {
                    if (wr(e))
                        return !1;
                    var n = typeof e;
                    return !("number" != n && "symbol" != n && "boolean" != n && null != e && !Ur(e)) || (ts.test(e) || !es.test(e) || null != t && e in m(t))
                }
                function Zn(e) {
                    var t = Nn(e)
                      , n = fe[t];
                    if ("function" != typeof n || !(t in be.prototype))
                        return !1;
                    if (e === n)
                        return !0;
                    var i = Dn(n);
                    return !!i && e === i[0]
                }
                (Q && Gn(new Q(new ArrayBuffer(1))) != Ro || J && Gn(new J) != So || ee && Gn(ee.resolve()) != Mo || te && Gn(new te) != Po || ne && Gn(new ne) != Lo) && (Gn = function(e) {
                    var t = et(e)
                      , n = t == Co ? e.constructor : no
                      , i = n ? mi(n) : "";
                    if (i)
                        switch (i) {
                        case oe:
                            return Ro;
                        case se:
                            return So;
                        case le:
                            return Mo;
                        case ue:
                            return Po;
                        case ce:
                            return Lo
                        }
                    return t
                }
                );
                var Qn = l ? kr : $a;
                function Jn(e) {
                    var t = e && e.constructor;
                    return e === ("function" == typeof t && t.prototype || h)
                }
                function ei(e) {
                    return e == e && !Ir(e)
                }
                function ti(t, n) {
                    return function(e) {
                        return null != e && (e[t] === n && (n !== no || t in m(e)))
                    }
                }
                function ni(a, o, s) {
                    return o = q(o === no ? a.length - 1 : o, 0),
                    function() {
                        for (var e = arguments, t = -1, n = q(e.length - o, 0), i = E(n); ++t < n; )
                            i[t] = e[o + t];
                        t = -1;
                        for (var r = E(o + 1); ++t < o; )
                            r[t] = e[t];
                        return r[o] = s(i),
                        zs(a, this, r)
                    }
                }
                function ii(e, t) {
                    return t.length < 2 ? e : Qe(e, Lt(t, 0, -1))
                }
                function ri(e, t) {
                    if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t)
                        return e[t]
                }
                var ai = ui(Pt)
                  , oi = B || function(e, t) {
                    return Os.setTimeout(e, t)
                }
                  , si = ui(At);
                function li(e, t, n) {
                    var i = t + "";
                    return si(e, function(e, t) {
                        var n = t.length;
                        if (!n)
                            return e;
                        var i = n - 1;
                        return t[i] = (1 < n ? "& " : "") + t[i],
                        t = t.join(2 < n ? ", " : " "),
                        e.replace(ls, "{\n/* [wrapped with " + t + "] */\n")
                    }(i, function(n, i) {
                        return Vs(go, function(e) {
                            var t = "_." + e[0];
                            i & e[1] && !$s(n, t) && n.push(t)
                        }),
                        n.sort()
                    }(function(e) {
                        var t = e.match(us);
                        return t ? t[1].split(cs) : []
                    }(i), n)))
                }
                function ui(n) {
                    var i = 0
                      , r = 0;
                    return function() {
                        var e = X()
                          , t = 16 - (e - r);
                        if (r = e,
                        0 < t) {
                            if (800 <= ++i)
                                return arguments[0]
                        } else
                            i = 0;
                        return n.apply(no, arguments)
                    }
                }
                function ci(e, t) {
                    var n = -1
                      , i = e.length
                      , r = i - 1;
                    for (t = t === no ? i : t; ++n < t; ) {
                        var a = Tt(n, r)
                          , o = e[a];
                        e[a] = e[n],
                        e[n] = o
                    }
                    return e.length = t,
                    e
                }
                var hi, di, pi = (di = (hi = hr(function(e) {
                    var r = [];
                    return 46 === e.charCodeAt(0) && r.push(""),
                    e.replace(ns, function(e, t, n, i) {
                        r.push(n ? i.replace(ds, "$1") : t || e)
                    }),
                    r
                }, function(e) {
                    return 500 === di.size && di.clear(),
                    e
                })).cache,
                hi);
                function fi(e) {
                    if ("string" == typeof e || Ur(e))
                        return e;
                    var t = e + "";
                    return "0" == t && 1 / e == -ho ? "-0" : t
                }
                function mi(e) {
                    if (null != e) {
                        try {
                            return u.call(e)
                        } catch (e) {}
                        try {
                            return e + ""
                        } catch (e) {}
                    }
                    return ""
                }
                function gi(e) {
                    if (e instanceof be)
                        return e.clone();
                    var t = new ye(e.__wrapped__,e.__chain__);
                    return t.__actions__ = an(e.__actions__),
                    t.__index__ = e.__index__,
                    t.__values__ = e.__values__,
                    t
                }
                var vi = Et(function(e, t) {
                    return Sr(e) ? je(e, qe(t, 1, Sr, !0)) : []
                })
                  , yi = Et(function(e, t) {
                    var n = Mi(t);
                    return Sr(n) && (n = no),
                    Sr(e) ? je(e, qe(t, 1, Sr, !0), Bn(n, 2)) : []
                })
                  , bi = Et(function(e, t) {
                    var n = Mi(t);
                    return Sr(n) && (n = no),
                    Sr(e) ? je(e, qe(t, 1, Sr, !0), no, n) : []
                });
                function _i(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    if (!i)
                        return -1;
                    var r = null == n ? 0 : Wr(n);
                    return r < 0 && (r = q(i + r, 0)),
                    tl(e, Bn(t, 3), r)
                }
                function wi(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    if (!i)
                        return -1;
                    var r = i - 1;
                    return n !== no && (r = Wr(n),
                    r = n < 0 ? q(i + r, 0) : $(r, i - 1)),
                    tl(e, Bn(t, 3), r, !0)
                }
                function xi(e) {
                    return (null == e ? 0 : e.length) ? qe(e, 1) : []
                }
                function Ti(e) {
                    return e && e.length ? e[0] : no
                }
                var Si = Et(function(e) {
                    var t = Ys(e, qt);
                    return t.length && t[0] === e[0] ? rt(t) : []
                })
                  , Ei = Et(function(e) {
                    var t = Mi(e)
                      , n = Ys(e, qt);
                    return t === Mi(n) ? t = no : n.pop(),
                    n.length && n[0] === e[0] ? rt(n, Bn(t, 2)) : []
                })
                  , Ci = Et(function(e) {
                    var t = Mi(e)
                      , n = Ys(e, qt);
                    return (t = "function" == typeof t ? t : no) && n.pop(),
                    n.length && n[0] === e[0] ? rt(n, no, t) : []
                });
                function Mi(e) {
                    var t = null == e ? 0 : e.length;
                    return t ? e[t - 1] : no
                }
                var ki = Et(Pi);
                function Pi(e, t) {
                    return e && e.length && t && t.length ? wt(e, t) : e
                }
                var Ai = Ln(function(e, t) {
                    var n = null == e ? 0 : e.length
                      , i = De(e, t);
                    return xt(e, Ys(t, function(e) {
                        return Xn(e, n) ? +e : e
                    }).sort(tn)),
                    i
                });
                function Ii(e) {
                    return null == e ? e : Z.call(e)
                }
                var Li = Et(function(e) {
                    return Ut(qe(e, 1, Sr, !0))
                })
                  , Oi = Et(function(e) {
                    var t = Mi(e);
                    return Sr(t) && (t = no),
                    Ut(qe(e, 1, Sr, !0), Bn(t, 2))
                })
                  , Ri = Et(function(e) {
                    var t = Mi(e);
                    return t = "function" == typeof t ? t : no,
                    Ut(qe(e, 1, Sr, !0), no, t)
                });
                function Di(t) {
                    if (!t || !t.length)
                        return [];
                    var n = 0;
                    return t = qs(t, function(e) {
                        if (Sr(e))
                            return n = q(e.length, n),
                            !0
                    }),
                    ul(n, function(e) {
                        return Ys(t, ol(e))
                    })
                }
                function Ni(e, t) {
                    if (!e || !e.length)
                        return [];
                    var n = Di(e);
                    return null == t ? n : Ys(n, function(e) {
                        return zs(t, no, e)
                    })
                }
                var Fi = Et(function(e, t) {
                    return Sr(e) ? je(e, t) : []
                })
                  , Bi = Et(function(e) {
                    return Gt(qs(e, Sr))
                })
                  , Ui = Et(function(e) {
                    var t = Mi(e);
                    return Sr(t) && (t = no),
                    Gt(qs(e, Sr), Bn(t, 2))
                })
                  , ji = Et(function(e) {
                    var t = Mi(e);
                    return t = "function" == typeof t ? t : no,
                    Gt(qs(e, Sr), no, t)
                })
                  , zi = Et(Di);
                var Hi = Et(function(e) {
                    var t = e.length
                      , n = 1 < t ? e[t - 1] : no;
                    return n = "function" == typeof n ? (e.pop(),
                    n) : no,
                    Ni(e, n)
                });
                function Vi(e) {
                    var t = fe(e);
                    return t.__chain__ = !0,
                    t
                }
                function Gi(e, t) {
                    return t(e)
                }
                var Wi = Ln(function(t) {
                    function e(e) {
                        return De(e, t)
                    }
                    var n = t.length
                      , i = n ? t[0] : 0
                      , r = this.__wrapped__;
                    return !(1 < n || this.__actions__.length) && r instanceof be && Xn(i) ? ((r = r.slice(i, +i + (n ? 1 : 0))).__actions__.push({
                        func: Gi,
                        args: [e],
                        thisArg: no
                    }),
                    new ye(r,this.__chain__).thru(function(e) {
                        return n && !e.length && e.push(no),
                        e
                    })) : this.thru(e)
                });
                var qi = sn(function(e, t, n) {
                    _.call(e, n) ? ++e[n] : Re(e, n, 1)
                });
                var $i = fn(_i)
                  , Xi = fn(wi);
                function Yi(e, t) {
                    return (wr(e) ? Vs : ze)(e, Bn(t, 3))
                }
                function Ki(e, t) {
                    return (wr(e) ? Gs : He)(e, Bn(t, 3))
                }
                var Zi = sn(function(e, t, n) {
                    _.call(e, n) ? e[n].push(t) : Re(e, n, [t])
                });
                var Qi = Et(function(e, t, n) {
                    var i = -1
                      , r = "function" == typeof t
                      , a = Tr(e) ? E(e.length) : [];
                    return ze(e, function(e) {
                        a[++i] = r ? zs(t, e, n) : at(e, t, n)
                    }),
                    a
                })
                  , Ji = sn(function(e, t, n) {
                    Re(e, n, t)
                });
                function er(e, t) {
                    return (wr(e) ? Ys : ft)(e, Bn(t, 3))
                }
                var tr = sn(function(e, t, n) {
                    e[n ? 0 : 1].push(t)
                }, function() {
                    return [[], []]
                });
                var nr = Et(function(e, t) {
                    if (null == e)
                        return [];
                    var n = t.length;
                    return 1 < n && Yn(e, t[0], t[1]) ? t = [] : 2 < n && Yn(t[0], t[1], t[2]) && (t = [t[0]]),
                    bt(e, qe(t, 1), [])
                })
                  , ir = F || function() {
                    return Os.Date.now()
                }
                ;
                function rr(e, t, n) {
                    return t = n ? no : t,
                    t = e && null == t ? e.length : t,
                    Mn(e, uo, no, no, no, no, t)
                }
                function ar(e, t) {
                    var n;
                    if ("function" != typeof t)
                        throw new y(io);
                    return e = Wr(e),
                    function() {
                        return 0 < --e && (n = t.apply(this, arguments)),
                        e <= 1 && (t = no),
                        n
                    }
                }
                var or = Et(function(e, t, n) {
                    var i = 1;
                    if (n.length) {
                        var r = wl(n, Fn(or));
                        i |= so
                    }
                    return Mn(e, i, t, n, r)
                })
                  , sr = Et(function(e, t, n) {
                    var i = 3;
                    if (n.length) {
                        var r = wl(n, Fn(sr));
                        i |= so
                    }
                    return Mn(t, i, e, n, r)
                });
                function lr(i, n, e) {
                    var r, a, o, s, l, u, c = 0, h = !1, d = !1, t = !0;
                    if ("function" != typeof i)
                        throw new y(io);
                    function p(e) {
                        var t = r
                          , n = a;
                        return r = a = no,
                        c = e,
                        s = i.apply(n, t)
                    }
                    function f(e) {
                        var t = e - u;
                        return u === no || n <= t || t < 0 || d && o <= e - c
                    }
                    function m() {
                        var e = ir();
                        if (f(e))
                            return g(e);
                        l = oi(m, function(e) {
                            var t = n - (e - u);
                            return d ? $(t, o - (e - c)) : t
                        }(e))
                    }
                    function g(e) {
                        return l = no,
                        t && r ? p(e) : (r = a = no,
                        s)
                    }
                    function v() {
                        var e = ir()
                          , t = f(e);
                        if (r = arguments,
                        a = this,
                        u = e,
                        t) {
                            if (l === no)
                                return function(e) {
                                    return c = e,
                                    l = oi(m, n),
                                    h ? p(e) : s
                                }(u);
                            if (d)
                                return Zt(l),
                                l = oi(m, n),
                                p(u)
                        }
                        return l === no && (l = oi(m, n)),
                        s
                    }
                    return n = $r(n) || 0,
                    Ir(e) && (h = !!e.leading,
                    o = (d = "maxWait"in e) ? q($r(e.maxWait) || 0, n) : o,
                    t = "trailing"in e ? !!e.trailing : t),
                    v.cancel = function() {
                        l !== no && Zt(l),
                        c = 0,
                        r = u = a = l = no
                    }
                    ,
                    v.flush = function() {
                        return l === no ? s : g(ir())
                    }
                    ,
                    v
                }
                var ur = Et(function(e, t) {
                    return Ue(e, 1, t)
                })
                  , cr = Et(function(e, t, n) {
                    return Ue(e, $r(t) || 0, n)
                });
                function hr(r, a) {
                    if ("function" != typeof r || null != a && "function" != typeof a)
                        throw new y(io);
                    var o = function() {
                        var e = arguments
                          , t = a ? a.apply(this, e) : e[0]
                          , n = o.cache;
                        if (n.has(t))
                            return n.get(t);
                        var i = r.apply(this, e);
                        return o.cache = n.set(t, i) || n,
                        i
                    };
                    return o.cache = new (hr.Cache || xe),
                    o
                }
                function dr(t) {
                    if ("function" != typeof t)
                        throw new y(io);
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return !t.call(this);
                        case 1:
                            return !t.call(this, e[0]);
                        case 2:
                            return !t.call(this, e[0], e[1]);
                        case 3:
                            return !t.call(this, e[0], e[1], e[2])
                        }
                        return !t.apply(this, e)
                    }
                }
                hr.Cache = xe;
                var pr = Yt(function(i, r) {
                    var a = (r = 1 == r.length && wr(r[0]) ? Ys(r[0], cl(Bn())) : Ys(qe(r, 1), cl(Bn()))).length;
                    return Et(function(e) {
                        for (var t = -1, n = $(e.length, a); ++t < n; )
                            e[t] = r[t].call(this, e[t]);
                        return zs(i, this, e)
                    })
                })
                  , fr = Et(function(e, t) {
                    var n = wl(t, Fn(fr));
                    return Mn(e, so, no, t, n)
                })
                  , mr = Et(function(e, t) {
                    var n = wl(t, Fn(mr));
                    return Mn(e, lo, no, t, n)
                })
                  , gr = Ln(function(e, t) {
                    return Mn(e, co, no, no, no, t)
                });
                function vr(e, t) {
                    return e === t || e != e && t != t
                }
                var yr = xn(tt)
                  , br = xn(function(e, t) {
                    return t <= e
                })
                  , _r = ot(function() {
                    return arguments
                }()) ? ot : function(e) {
                    return Lr(e) && _.call(e, "callee") && !A.call(e, "callee")
                }
                  , wr = E.isArray
                  , xr = Ds ? cl(Ds) : function(e) {
                    return Lr(e) && et(e) == Oo
                }
                ;
                function Tr(e) {
                    return null != e && Ar(e.length) && !kr(e)
                }
                function Sr(e) {
                    return Lr(e) && Tr(e)
                }
                var Er = H || $a
                  , Cr = Ns ? cl(Ns) : function(e) {
                    return Lr(e) && et(e) == _o
                }
                ;
                function Mr(e) {
                    if (!Lr(e))
                        return !1;
                    var t = et(e);
                    return t == wo || "[object DOMException]" == t || "string" == typeof e.message && "string" == typeof e.name && !Dr(e)
                }
                function kr(e) {
                    if (!Ir(e))
                        return !1;
                    var t = et(e);
                    return t == xo || t == To || "[object AsyncFunction]" == t || "[object Proxy]" == t
                }
                function Pr(e) {
                    return "number" == typeof e && e == Wr(e)
                }
                function Ar(e) {
                    return "number" == typeof e && -1 < e && e % 1 == 0 && e <= po
                }
                function Ir(e) {
                    var t = typeof e;
                    return null != e && ("object" == t || "function" == t)
                }
                function Lr(e) {
                    return null != e && "object" == typeof e
                }
                var Or = Fs ? cl(Fs) : function(e) {
                    return Lr(e) && Gn(e) == So
                }
                ;
                function Rr(e) {
                    return "number" == typeof e || Lr(e) && et(e) == Eo
                }
                function Dr(e) {
                    if (!Lr(e) || et(e) != Co)
                        return !1;
                    var t = k(e);
                    if (null === t)
                        return !0;
                    var n = _.call(t, "constructor") && t.constructor;
                    return "function" == typeof n && n instanceof n && u.call(n) == b
                }
                var Nr = Bs ? cl(Bs) : function(e) {
                    return Lr(e) && et(e) == ko
                }
                ;
                var Fr = Us ? cl(Us) : function(e) {
                    return Lr(e) && Gn(e) == Po
                }
                ;
                function Br(e) {
                    return "string" == typeof e || !wr(e) && Lr(e) && et(e) == Ao
                }
                function Ur(e) {
                    return "symbol" == typeof e || Lr(e) && et(e) == Io
                }
                var jr = js ? cl(js) : function(e) {
                    return Lr(e) && Ar(e.length) && !!Ps[et(e)]
                }
                ;
                var zr = xn(pt)
                  , Hr = xn(function(e, t) {
                    return e <= t
                });
                function Vr(e) {
                    if (!e)
                        return [];
                    if (Tr(e))
                        return Br(e) ? Sl(e) : an(e);
                    if (O && e[O])
                        return function(e) {
                            for (var t, n = []; !(t = e.next()).done; )
                                n.push(t.value);
                            return n
                        }(e[O]());
                    var t = Gn(e);
                    return (t == So ? bl : t == Po ? xl : va)(e)
                }
                function Gr(e) {
                    return e ? (e = $r(e)) !== ho && e !== -ho ? e == e ? e : 0 : 17976931348623157e292 * (e < 0 ? -1 : 1) : 0 === e ? e : 0
                }
                function Wr(e) {
                    var t = Gr(e)
                      , n = t % 1;
                    return t == t ? n ? t - n : t : 0
                }
                function qr(e) {
                    return e ? Ne(Wr(e), 0, mo) : 0
                }
                function $r(e) {
                    if ("number" == typeof e)
                        return e;
                    if (Ur(e))
                        return fo;
                    if (Ir(e)) {
                        var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                        e = Ir(t) ? t + "" : t
                    }
                    if ("string" != typeof e)
                        return 0 === e ? e : +e;
                    e = e.replace(as, "");
                    var n = gs.test(e);
                    return n || ys.test(e) ? Ls(e.slice(2), n ? 2 : 8) : ms.test(e) ? fo : +e
                }
                function Xr(e) {
                    return on(e, ua(e))
                }
                function Yr(e) {
                    return null == e ? "" : Bt(e)
                }
                var Kr = ln(function(e, t) {
                    if (Jn(t) || Tr(t))
                        on(t, la(t), e);
                    else
                        for (var n in t)
                            _.call(t, n) && Ae(e, n, t[n])
                })
                  , Zr = ln(function(e, t) {
                    on(t, ua(t), e)
                })
                  , Qr = ln(function(e, t, n, i) {
                    on(t, ua(t), e, i)
                })
                  , Jr = ln(function(e, t, n, i) {
                    on(t, la(t), e, i)
                })
                  , ea = Ln(De);
                var ta = Et(function(e, t) {
                    e = m(e);
                    var n = -1
                      , i = t.length
                      , r = 2 < i ? t[2] : no;
                    for (r && Yn(t[0], t[1], r) && (i = 1); ++n < i; )
                        for (var a = t[n], o = ua(a), s = -1, l = o.length; ++s < l; ) {
                            var u = o[s]
                              , c = e[u];
                            (c === no || vr(c, h[u]) && !_.call(e, u)) && (e[u] = a[u])
                        }
                    return e
                })
                  , na = Et(function(e) {
                    return e.push(no, Pn),
                    zs(ha, no, e)
                });
                function ia(e, t, n) {
                    var i = null == e ? no : Qe(e, t);
                    return i === no ? n : i
                }
                function ra(e, t) {
                    return null != e && Wn(e, t, it)
                }
                var aa = vn(function(e, t, n) {
                    null != t && "function" != typeof t.toString && (t = f.call(t)),
                    e[t] = n
                }, Ia(Ra))
                  , oa = vn(function(e, t, n) {
                    null != t && "function" != typeof t.toString && (t = f.call(t)),
                    _.call(e, t) ? e[t].push(n) : e[t] = [n]
                }, Bn)
                  , sa = Et(at);
                function la(e) {
                    return Tr(e) ? Ee(e) : ht(e)
                }
                function ua(e) {
                    return Tr(e) ? Ee(e, !0) : dt(e)
                }
                var ca = ln(function(e, t, n) {
                    vt(e, t, n)
                })
                  , ha = ln(function(e, t, n, i) {
                    vt(e, t, n, i)
                })
                  , da = Ln(function(t, e) {
                    var n = {};
                    if (null == t)
                        return n;
                    var i = !1;
                    e = Ys(e, function(e) {
                        return e = Xt(e, t),
                        i = i || 1 < e.length,
                        e
                    }),
                    on(t, Rn(t), n),
                    i && (n = Fe(n, 7, An));
                    for (var r = e.length; r--; )
                        jt(n, e[r]);
                    return n
                });
                var pa = Ln(function(e, t) {
                    return null == e ? {} : function(n, e) {
                        return _t(n, e, function(e, t) {
                            return ra(n, t)
                        })
                    }(e, t)
                });
                function fa(e, n) {
                    if (null == e)
                        return {};
                    var t = Ys(Rn(e), function(e) {
                        return [e]
                    });
                    return n = Bn(n),
                    _t(e, t, function(e, t) {
                        return n(e, t[0])
                    })
                }
                var ma = Cn(la)
                  , ga = Cn(ua);
                function va(e) {
                    return null == e ? [] : hl(e, la(e))
                }
                var ya = dn(function(e, t, n) {
                    return t = t.toLowerCase(),
                    e + (n ? ba(t) : t)
                });
                function ba(e) {
                    return Ma(Yr(e).toLowerCase())
                }
                function _a(e) {
                    return (e = Yr(e)) && e.replace(_s, ml).replace(Ss, "")
                }
                var wa = dn(function(e, t, n) {
                    return e + (n ? "-" : "") + t.toLowerCase()
                })
                  , xa = dn(function(e, t, n) {
                    return e + (n ? " " : "") + t.toLowerCase()
                })
                  , Ta = hn("toLowerCase");
                var Sa = dn(function(e, t, n) {
                    return e + (n ? "_" : "") + t.toLowerCase()
                });
                var Ea = dn(function(e, t, n) {
                    return e + (n ? " " : "") + Ma(t)
                });
                var Ca = dn(function(e, t, n) {
                    return e + (n ? " " : "") + t.toUpperCase()
                })
                  , Ma = hn("toUpperCase");
                function ka(e, t, n) {
                    return e = Yr(e),
                    (t = n ? no : t) === no ? function(e) {
                        return Cs.test(e)
                    }(e) ? function(e) {
                        return e.match(Es) || []
                    }(e) : function(e) {
                        return e.match(hs) || []
                    }(e) : e.match(t) || []
                }
                var Pa = Et(function(e, t) {
                    try {
                        return zs(e, no, t)
                    } catch (e) {
                        return Mr(e) ? e : new r(e)
                    }
                })
                  , Aa = Ln(function(t, e) {
                    return Vs(e, function(e) {
                        e = fi(e),
                        Re(t, e, or(t[e], t))
                    }),
                    t
                });
                function Ia(e) {
                    return function() {
                        return e
                    }
                }
                var La = mn()
                  , Oa = mn(!0);
                function Ra(e) {
                    return e
                }
                function Da(e) {
                    return ct("function" == typeof e ? e : Fe(e, 1))
                }
                var Na = Et(function(t, n) {
                    return function(e) {
                        return at(e, t, n)
                    }
                })
                  , Fa = Et(function(t, n) {
                    return function(e) {
                        return at(t, e, n)
                    }
                });
                function Ba(i, t, e) {
                    var n = la(t)
                      , r = Ze(t, n);
                    null != e || Ir(t) && (r.length || !n.length) || (e = t,
                    t = i,
                    i = this,
                    r = Ze(t, la(t)));
                    var a = !(Ir(e) && "chain"in e && !e.chain)
                      , o = kr(i);
                    return Vs(r, function(e) {
                        var n = t[e];
                        i[e] = n,
                        o && (i.prototype[e] = function() {
                            var e = this.__chain__;
                            if (a || e) {
                                var t = i(this.__wrapped__);
                                return (t.__actions__ = an(this.__actions__)).push({
                                    func: n,
                                    args: arguments,
                                    thisArg: i
                                }),
                                t.__chain__ = e,
                                t
                            }
                            return n.apply(i, Ks([this.value()], arguments))
                        }
                        )
                    }),
                    i
                }
                function Ua() {}
                var ja = bn(Ys)
                  , za = bn(Ws)
                  , Ha = bn(Js);
                function Va(e) {
                    return Kn(e) ? ol(fi(e)) : function(t) {
                        return function(e) {
                            return Qe(e, t)
                        }
                    }(e)
                }
                var Ga = wn()
                  , Wa = wn(!0);
                function qa() {
                    return []
                }
                function $a() {
                    return !1
                }
                var Xa = yn(function(e, t) {
                    return e + t
                }, 0)
                  , Ya = Sn("ceil")
                  , Ka = yn(function(e, t) {
                    return e / t
                }, 1)
                  , Za = Sn("floor");
                var Qa, Ja = yn(function(e, t) {
                    return e * t
                }, 1), eo = Sn("round"), to = yn(function(e, t) {
                    return e - t
                }, 0);
                return fe.after = function(e, t) {
                    if ("function" != typeof t)
                        throw new y(io);
                    return e = Wr(e),
                    function() {
                        if (--e < 1)
                            return t.apply(this, arguments)
                    }
                }
                ,
                fe.ary = rr,
                fe.assign = Kr,
                fe.assignIn = Zr,
                fe.assignInWith = Qr,
                fe.assignWith = Jr,
                fe.at = ea,
                fe.before = ar,
                fe.bind = or,
                fe.bindAll = Aa,
                fe.bindKey = sr,
                fe.castArray = function() {
                    if (!arguments.length)
                        return [];
                    var e = arguments[0];
                    return wr(e) ? e : [e]
                }
                ,
                fe.chain = Vi,
                fe.chunk = function(e, t, n) {
                    t = (n ? Yn(e, t, n) : t === no) ? 1 : q(Wr(t), 0);
                    var i = null == e ? 0 : e.length;
                    if (!i || t < 1)
                        return [];
                    for (var r = 0, a = 0, o = E(U(i / t)); r < i; )
                        o[a++] = Lt(e, r, r += t);
                    return o
                }
                ,
                fe.compact = function(e) {
                    for (var t = -1, n = null == e ? 0 : e.length, i = 0, r = []; ++t < n; ) {
                        var a = e[t];
                        a && (r[i++] = a)
                    }
                    return r
                }
                ,
                fe.concat = function() {
                    var e = arguments.length;
                    if (!e)
                        return [];
                    for (var t = E(e - 1), n = arguments[0], i = e; i--; )
                        t[i - 1] = arguments[i];
                    return Ks(wr(n) ? an(n) : [n], qe(t, 1))
                }
                ,
                fe.cond = function(i) {
                    var r = null == i ? 0 : i.length
                      , t = Bn();
                    return i = r ? Ys(i, function(e) {
                        if ("function" != typeof e[1])
                            throw new y(io);
                        return [t(e[0]), e[1]]
                    }) : [],
                    Et(function(e) {
                        for (var t = -1; ++t < r; ) {
                            var n = i[t];
                            if (zs(n[0], this, e))
                                return zs(n[1], this, e)
                        }
                    })
                }
                ,
                fe.conforms = function(e) {
                    return function(t) {
                        var n = la(t);
                        return function(e) {
                            return Be(e, t, n)
                        }
                    }(Fe(e, 1))
                }
                ,
                fe.constant = Ia,
                fe.countBy = qi,
                fe.create = function(e, t) {
                    var n = me(e);
                    return null == t ? n : Oe(n, t)
                }
                ,
                fe.curry = function e(t, n, i) {
                    var r = Mn(t, 8, no, no, no, no, no, n = i ? no : n);
                    return r.placeholder = e.placeholder,
                    r
                }
                ,
                fe.curryRight = function e(t, n, i) {
                    var r = Mn(t, oo, no, no, no, no, no, n = i ? no : n);
                    return r.placeholder = e.placeholder,
                    r
                }
                ,
                fe.debounce = lr,
                fe.defaults = ta,
                fe.defaultsDeep = na,
                fe.defer = ur,
                fe.delay = cr,
                fe.difference = vi,
                fe.differenceBy = yi,
                fe.differenceWith = bi,
                fe.drop = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    return i ? Lt(e, (t = n || t === no ? 1 : Wr(t)) < 0 ? 0 : t, i) : []
                }
                ,
                fe.dropRight = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    return i ? Lt(e, 0, (t = i - (t = n || t === no ? 1 : Wr(t))) < 0 ? 0 : t) : []
                }
                ,
                fe.dropRightWhile = function(e, t) {
                    return e && e.length ? Ht(e, Bn(t, 3), !0, !0) : []
                }
                ,
                fe.dropWhile = function(e, t) {
                    return e && e.length ? Ht(e, Bn(t, 3), !0) : []
                }
                ,
                fe.fill = function(e, t, n, i) {
                    var r = null == e ? 0 : e.length;
                    return r ? (n && "number" != typeof n && Yn(e, t, n) && (n = 0,
                    i = r),
                    function(e, t, n, i) {
                        var r = e.length;
                        for ((n = Wr(n)) < 0 && (n = r < -n ? 0 : r + n),
                        (i = i === no || r < i ? r : Wr(i)) < 0 && (i += r),
                        i = i < n ? 0 : qr(i); n < i; )
                            e[n++] = t;
                        return e
                    }(e, t, n, i)) : []
                }
                ,
                fe.filter = function(e, t) {
                    return (wr(e) ? qs : We)(e, Bn(t, 3))
                }
                ,
                fe.flatMap = function(e, t) {
                    return qe(er(e, t), 1)
                }
                ,
                fe.flatMapDeep = function(e, t) {
                    return qe(er(e, t), ho)
                }
                ,
                fe.flatMapDepth = function(e, t, n) {
                    return n = n === no ? 1 : Wr(n),
                    qe(er(e, t), n)
                }
                ,
                fe.flatten = xi,
                fe.flattenDeep = function(e) {
                    return (null == e ? 0 : e.length) ? qe(e, ho) : []
                }
                ,
                fe.flattenDepth = function(e, t) {
                    return (null == e ? 0 : e.length) ? qe(e, t = t === no ? 1 : Wr(t)) : []
                }
                ,
                fe.flip = function(e) {
                    return Mn(e, 512)
                }
                ,
                fe.flow = La,
                fe.flowRight = Oa,
                fe.fromPairs = function(e) {
                    for (var t = -1, n = null == e ? 0 : e.length, i = {}; ++t < n; ) {
                        var r = e[t];
                        i[r[0]] = r[1]
                    }
                    return i
                }
                ,
                fe.functions = function(e) {
                    return null == e ? [] : Ze(e, la(e))
                }
                ,
                fe.functionsIn = function(e) {
                    return null == e ? [] : Ze(e, ua(e))
                }
                ,
                fe.groupBy = Zi,
                fe.initial = function(e) {
                    return (null == e ? 0 : e.length) ? Lt(e, 0, -1) : []
                }
                ,
                fe.intersection = Si,
                fe.intersectionBy = Ei,
                fe.intersectionWith = Ci,
                fe.invert = aa,
                fe.invertBy = oa,
                fe.invokeMap = Qi,
                fe.iteratee = Da,
                fe.keyBy = Ji,
                fe.keys = la,
                fe.keysIn = ua,
                fe.map = er,
                fe.mapKeys = function(e, i) {
                    var r = {};
                    return i = Bn(i, 3),
                    Ye(e, function(e, t, n) {
                        Re(r, i(e, t, n), e)
                    }),
                    r
                }
                ,
                fe.mapValues = function(e, i) {
                    var r = {};
                    return i = Bn(i, 3),
                    Ye(e, function(e, t, n) {
                        Re(r, t, i(e, t, n))
                    }),
                    r
                }
                ,
                fe.matches = function(e) {
                    return mt(Fe(e, 1))
                }
                ,
                fe.matchesProperty = function(e, t) {
                    return gt(e, Fe(t, 1))
                }
                ,
                fe.memoize = hr,
                fe.merge = ca,
                fe.mergeWith = ha,
                fe.method = Na,
                fe.methodOf = Fa,
                fe.mixin = Ba,
                fe.negate = dr,
                fe.nthArg = function(t) {
                    return t = Wr(t),
                    Et(function(e) {
                        return yt(e, t)
                    })
                }
                ,
                fe.omit = da,
                fe.omitBy = function(e, t) {
                    return fa(e, dr(Bn(t)))
                }
                ,
                fe.once = function(e) {
                    return ar(2, e)
                }
                ,
                fe.orderBy = function(e, t, n, i) {
                    return null == e ? [] : (wr(t) || (t = null == t ? [] : [t]),
                    wr(n = i ? no : n) || (n = null == n ? [] : [n]),
                    bt(e, t, n))
                }
                ,
                fe.over = ja,
                fe.overArgs = pr,
                fe.overEvery = za,
                fe.overSome = Ha,
                fe.partial = fr,
                fe.partialRight = mr,
                fe.partition = tr,
                fe.pick = pa,
                fe.pickBy = fa,
                fe.property = Va,
                fe.propertyOf = function(t) {
                    return function(e) {
                        return null == t ? no : Qe(t, e)
                    }
                }
                ,
                fe.pull = ki,
                fe.pullAll = Pi,
                fe.pullAllBy = function(e, t, n) {
                    return e && e.length && t && t.length ? wt(e, t, Bn(n, 2)) : e
                }
                ,
                fe.pullAllWith = function(e, t, n) {
                    return e && e.length && t && t.length ? wt(e, t, no, n) : e
                }
                ,
                fe.pullAt = Ai,
                fe.range = Ga,
                fe.rangeRight = Wa,
                fe.rearg = gr,
                fe.reject = function(e, t) {
                    return (wr(e) ? qs : We)(e, dr(Bn(t, 3)))
                }
                ,
                fe.remove = function(e, t) {
                    var n = [];
                    if (!e || !e.length)
                        return n;
                    var i = -1
                      , r = []
                      , a = e.length;
                    for (t = Bn(t, 3); ++i < a; ) {
                        var o = e[i];
                        t(o, i, e) && (n.push(o),
                        r.push(i))
                    }
                    return xt(e, r),
                    n
                }
                ,
                fe.rest = function(e, t) {
                    if ("function" != typeof e)
                        throw new y(io);
                    return Et(e, t = t === no ? t : Wr(t))
                }
                ,
                fe.reverse = Ii,
                fe.sampleSize = function(e, t, n) {
                    return t = (n ? Yn(e, t, n) : t === no) ? 1 : Wr(t),
                    (wr(e) ? Me : Mt)(e, t)
                }
                ,
                fe.set = function(e, t, n) {
                    return null == e ? e : kt(e, t, n)
                }
                ,
                fe.setWith = function(e, t, n, i) {
                    return i = "function" == typeof i ? i : no,
                    null == e ? e : kt(e, t, n, i)
                }
                ,
                fe.shuffle = function(e) {
                    return (wr(e) ? ke : It)(e)
                }
                ,
                fe.slice = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    return i ? (n = n && "number" != typeof n && Yn(e, t, n) ? (t = 0,
                    i) : (t = null == t ? 0 : Wr(t),
                    n === no ? i : Wr(n)),
                    Lt(e, t, n)) : []
                }
                ,
                fe.sortBy = nr,
                fe.sortedUniq = function(e) {
                    return e && e.length ? Nt(e) : []
                }
                ,
                fe.sortedUniqBy = function(e, t) {
                    return e && e.length ? Nt(e, Bn(t, 2)) : []
                }
                ,
                fe.split = function(e, t, n) {
                    return n && "number" != typeof n && Yn(e, t, n) && (t = n = no),
                    (n = n === no ? mo : n >>> 0) ? (e = Yr(e)) && ("string" == typeof t || null != t && !Nr(t)) && !(t = Bt(t)) && yl(e) ? Kt(Sl(e), 0, n) : e.split(t, n) : []
                }
                ,
                fe.spread = function(i, r) {
                    if ("function" != typeof i)
                        throw new y(io);
                    return r = null == r ? 0 : q(Wr(r), 0),
                    Et(function(e) {
                        var t = e[r]
                          , n = Kt(e, 0, r);
                        return t && Ks(n, t),
                        zs(i, this, n)
                    })
                }
                ,
                fe.tail = function(e) {
                    var t = null == e ? 0 : e.length;
                    return t ? Lt(e, 1, t) : []
                }
                ,
                fe.take = function(e, t, n) {
                    return e && e.length ? Lt(e, 0, (t = n || t === no ? 1 : Wr(t)) < 0 ? 0 : t) : []
                }
                ,
                fe.takeRight = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    return i ? Lt(e, (t = i - (t = n || t === no ? 1 : Wr(t))) < 0 ? 0 : t, i) : []
                }
                ,
                fe.takeRightWhile = function(e, t) {
                    return e && e.length ? Ht(e, Bn(t, 3), !1, !0) : []
                }
                ,
                fe.takeWhile = function(e, t) {
                    return e && e.length ? Ht(e, Bn(t, 3)) : []
                }
                ,
                fe.tap = function(e, t) {
                    return t(e),
                    e
                }
                ,
                fe.throttle = function(e, t, n) {
                    var i = !0
                      , r = !0;
                    if ("function" != typeof e)
                        throw new y(io);
                    return Ir(n) && (i = "leading"in n ? !!n.leading : i,
                    r = "trailing"in n ? !!n.trailing : r),
                    lr(e, t, {
                        leading: i,
                        maxWait: t,
                        trailing: r
                    })
                }
                ,
                fe.thru = Gi,
                fe.toArray = Vr,
                fe.toPairs = ma,
                fe.toPairsIn = ga,
                fe.toPath = function(e) {
                    return wr(e) ? Ys(e, fi) : Ur(e) ? [e] : an(pi(Yr(e)))
                }
                ,
                fe.toPlainObject = Xr,
                fe.transform = function(e, i, r) {
                    var t = wr(e)
                      , n = t || Er(e) || jr(e);
                    if (i = Bn(i, 4),
                    null == r) {
                        var a = e && e.constructor;
                        r = n ? t ? new a : [] : Ir(e) && kr(a) ? me(k(e)) : {}
                    }
                    return (n ? Vs : Ye)(e, function(e, t, n) {
                        return i(r, e, t, n)
                    }),
                    r
                }
                ,
                fe.unary = function(e) {
                    return rr(e, 1)
                }
                ,
                fe.union = Li,
                fe.unionBy = Oi,
                fe.unionWith = Ri,
                fe.uniq = function(e) {
                    return e && e.length ? Ut(e) : []
                }
                ,
                fe.uniqBy = function(e, t) {
                    return e && e.length ? Ut(e, Bn(t, 2)) : []
                }
                ,
                fe.uniqWith = function(e, t) {
                    return t = "function" == typeof t ? t : no,
                    e && e.length ? Ut(e, no, t) : []
                }
                ,
                fe.unset = function(e, t) {
                    return null == e || jt(e, t)
                }
                ,
                fe.unzip = Di,
                fe.unzipWith = Ni,
                fe.update = function(e, t, n) {
                    return null == e ? e : zt(e, t, $t(n))
                }
                ,
                fe.updateWith = function(e, t, n, i) {
                    return i = "function" == typeof i ? i : no,
                    null == e ? e : zt(e, t, $t(n), i)
                }
                ,
                fe.values = va,
                fe.valuesIn = function(e) {
                    return null == e ? [] : hl(e, ua(e))
                }
                ,
                fe.without = Fi,
                fe.words = ka,
                fe.wrap = function(e, t) {
                    return fr($t(t), e)
                }
                ,
                fe.xor = Bi,
                fe.xorBy = Ui,
                fe.xorWith = ji,
                fe.zip = zi,
                fe.zipObject = function(e, t) {
                    return Wt(e || [], t || [], Ae)
                }
                ,
                fe.zipObjectDeep = function(e, t) {
                    return Wt(e || [], t || [], kt)
                }
                ,
                fe.zipWith = Hi,
                fe.entries = ma,
                fe.entriesIn = ga,
                fe.extend = Zr,
                fe.extendWith = Qr,
                Ba(fe, fe),
                fe.add = Xa,
                fe.attempt = Pa,
                fe.camelCase = ya,
                fe.capitalize = ba,
                fe.ceil = Ya,
                fe.clamp = function(e, t, n) {
                    return n === no && (n = t,
                    t = no),
                    n !== no && (n = (n = $r(n)) == n ? n : 0),
                    t !== no && (t = (t = $r(t)) == t ? t : 0),
                    Ne($r(e), t, n)
                }
                ,
                fe.clone = function(e) {
                    return Fe(e, 4)
                }
                ,
                fe.cloneDeep = function(e) {
                    return Fe(e, 5)
                }
                ,
                fe.cloneDeepWith = function(e, t) {
                    return Fe(e, 5, t = "function" == typeof t ? t : no)
                }
                ,
                fe.cloneWith = function(e, t) {
                    return Fe(e, 4, t = "function" == typeof t ? t : no)
                }
                ,
                fe.conformsTo = function(e, t) {
                    return null == t || Be(e, t, la(t))
                }
                ,
                fe.deburr = _a,
                fe.defaultTo = function(e, t) {
                    return null == e || e != e ? t : e
                }
                ,
                fe.divide = Ka,
                fe.endsWith = function(e, t, n) {
                    e = Yr(e),
                    t = Bt(t);
                    var i = e.length
                      , r = n = n === no ? i : Ne(Wr(n), 0, i);
                    return 0 <= (n -= t.length) && e.slice(n, r) == t
                }
                ,
                fe.eq = vr,
                fe.escape = function(e) {
                    return (e = Yr(e)) && Ko.test(e) ? e.replace(Xo, gl) : e
                }
                ,
                fe.escapeRegExp = function(e) {
                    return (e = Yr(e)) && rs.test(e) ? e.replace(is, "\\$&") : e
                }
                ,
                fe.every = function(e, t, n) {
                    var i = wr(e) ? Ws : Ve;
                    return n && Yn(e, t, n) && (t = no),
                    i(e, Bn(t, 3))
                }
                ,
                fe.find = $i,
                fe.findIndex = _i,
                fe.findKey = function(e, t) {
                    return el(e, Bn(t, 3), Ye)
                }
                ,
                fe.findLast = Xi,
                fe.findLastIndex = wi,
                fe.findLastKey = function(e, t) {
                    return el(e, Bn(t, 3), Ke)
                }
                ,
                fe.floor = Za,
                fe.forEach = Yi,
                fe.forEachRight = Ki,
                fe.forIn = function(e, t) {
                    return null == e ? e : $e(e, Bn(t, 3), ua)
                }
                ,
                fe.forInRight = function(e, t) {
                    return null == e ? e : Xe(e, Bn(t, 3), ua)
                }
                ,
                fe.forOwn = function(e, t) {
                    return e && Ye(e, Bn(t, 3))
                }
                ,
                fe.forOwnRight = function(e, t) {
                    return e && Ke(e, Bn(t, 3))
                }
                ,
                fe.get = ia,
                fe.gt = yr,
                fe.gte = br,
                fe.has = function(e, t) {
                    return null != e && Wn(e, t, nt)
                }
                ,
                fe.hasIn = ra,
                fe.head = Ti,
                fe.identity = Ra,
                fe.includes = function(e, t, n, i) {
                    e = Tr(e) ? e : va(e),
                    n = n && !i ? Wr(n) : 0;
                    var r = e.length;
                    return n < 0 && (n = q(r + n, 0)),
                    Br(e) ? n <= r && -1 < e.indexOf(t, n) : !!r && -1 < nl(e, t, n)
                }
                ,
                fe.indexOf = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    if (!i)
                        return -1;
                    var r = null == n ? 0 : Wr(n);
                    return r < 0 && (r = q(i + r, 0)),
                    nl(e, t, r)
                }
                ,
                fe.inRange = function(e, t, n) {
                    return t = Gr(t),
                    n === no ? (n = t,
                    t = 0) : n = Gr(n),
                    function(e, t, n) {
                        return e >= $(t, n) && e < q(t, n)
                    }(e = $r(e), t, n)
                }
                ,
                fe.invoke = sa,
                fe.isArguments = _r,
                fe.isArray = wr,
                fe.isArrayBuffer = xr,
                fe.isArrayLike = Tr,
                fe.isArrayLikeObject = Sr,
                fe.isBoolean = function(e) {
                    return !0 === e || !1 === e || Lr(e) && et(e) == bo
                }
                ,
                fe.isBuffer = Er,
                fe.isDate = Cr,
                fe.isElement = function(e) {
                    return Lr(e) && 1 === e.nodeType && !Dr(e)
                }
                ,
                fe.isEmpty = function(e) {
                    if (null == e)
                        return !0;
                    if (Tr(e) && (wr(e) || "string" == typeof e || "function" == typeof e.splice || Er(e) || jr(e) || _r(e)))
                        return !e.length;
                    var t = Gn(e);
                    if (t == So || t == Po)
                        return !e.size;
                    if (Jn(e))
                        return !ht(e).length;
                    for (var n in e)
                        if (_.call(e, n))
                            return !1;
                    return !0
                }
                ,
                fe.isEqual = function(e, t) {
                    return st(e, t)
                }
                ,
                fe.isEqualWith = function(e, t, n) {
                    var i = (n = "function" == typeof n ? n : no) ? n(e, t) : no;
                    return i === no ? st(e, t, no, n) : !!i
                }
                ,
                fe.isError = Mr,
                fe.isFinite = function(e) {
                    return "number" == typeof e && V(e)
                }
                ,
                fe.isFunction = kr,
                fe.isInteger = Pr,
                fe.isLength = Ar,
                fe.isMap = Or,
                fe.isMatch = function(e, t) {
                    return e === t || lt(e, t, jn(t))
                }
                ,
                fe.isMatchWith = function(e, t, n) {
                    return n = "function" == typeof n ? n : no,
                    lt(e, t, jn(t), n)
                }
                ,
                fe.isNaN = function(e) {
                    return Rr(e) && e != +e
                }
                ,
                fe.isNative = function(e) {
                    if (Qn(e))
                        throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
                    return ut(e)
                }
                ,
                fe.isNil = function(e) {
                    return null == e
                }
                ,
                fe.isNull = function(e) {
                    return null === e
                }
                ,
                fe.isNumber = Rr,
                fe.isObject = Ir,
                fe.isObjectLike = Lr,
                fe.isPlainObject = Dr,
                fe.isRegExp = Nr,
                fe.isSafeInteger = function(e) {
                    return Pr(e) && -po <= e && e <= po
                }
                ,
                fe.isSet = Fr,
                fe.isString = Br,
                fe.isSymbol = Ur,
                fe.isTypedArray = jr,
                fe.isUndefined = function(e) {
                    return e === no
                }
                ,
                fe.isWeakMap = function(e) {
                    return Lr(e) && Gn(e) == Lo
                }
                ,
                fe.isWeakSet = function(e) {
                    return Lr(e) && "[object WeakSet]" == et(e)
                }
                ,
                fe.join = function(e, t) {
                    return null == e ? "" : G.call(e, t)
                }
                ,
                fe.kebabCase = wa,
                fe.last = Mi,
                fe.lastIndexOf = function(e, t, n) {
                    var i = null == e ? 0 : e.length;
                    if (!i)
                        return -1;
                    var r = i;
                    return n !== no && (r = (r = Wr(n)) < 0 ? q(i + r, 0) : $(r, i - 1)),
                    t == t ? function(e, t, n) {
                        for (var i = n + 1; i--; )
                            if (e[i] === t)
                                return i;
                        return i
                    }(e, t, r) : tl(e, rl, r, !0)
                }
                ,
                fe.lowerCase = xa,
                fe.lowerFirst = Ta,
                fe.lt = zr,
                fe.lte = Hr,
                fe.max = function(e) {
                    return e && e.length ? Ge(e, Ra, tt) : no
                }
                ,
                fe.maxBy = function(e, t) {
                    return e && e.length ? Ge(e, Bn(t, 2), tt) : no
                }
                ,
                fe.mean = function(e) {
                    return al(e, Ra)
                }
                ,
                fe.meanBy = function(e, t) {
                    return al(e, Bn(t, 2))
                }
                ,
                fe.min = function(e) {
                    return e && e.length ? Ge(e, Ra, pt) : no
                }
                ,
                fe.minBy = function(e, t) {
                    return e && e.length ? Ge(e, Bn(t, 2), pt) : no
                }
                ,
                fe.stubArray = qa,
                fe.stubFalse = $a,
                fe.stubObject = function() {
                    return {}
                }
                ,
                fe.stubString = function() {
                    return ""
                }
                ,
                fe.stubTrue = function() {
                    return !0
                }
                ,
                fe.multiply = Ja,
                fe.nth = function(e, t) {
                    return e && e.length ? yt(e, Wr(t)) : no
                }
                ,
                fe.noConflict = function() {
                    return Os._ === this && (Os._ = w),
                    this
                }
                ,
                fe.noop = Ua,
                fe.now = ir,
                fe.pad = function(e, t, n) {
                    e = Yr(e);
                    var i = (t = Wr(t)) ? Tl(e) : 0;
                    if (!t || t <= i)
                        return e;
                    var r = (t - i) / 2;
                    return _n(j(r), n) + e + _n(U(r), n)
                }
                ,
                fe.padEnd = function(e, t, n) {
                    e = Yr(e);
                    var i = (t = Wr(t)) ? Tl(e) : 0;
                    return t && i < t ? e + _n(t - i, n) : e
                }
                ,
                fe.padStart = function(e, t, n) {
                    e = Yr(e);
                    var i = (t = Wr(t)) ? Tl(e) : 0;
                    return t && i < t ? _n(t - i, n) + e : e
                }
                ,
                fe.parseInt = function(e, t, n) {
                    return t = n || null == t ? 0 : t && +t,
                    Y(Yr(e).replace(os, ""), t || 0)
                }
                ,
                fe.random = function(e, t, n) {
                    if (n && "boolean" != typeof n && Yn(e, t, n) && (t = n = no),
                    n === no && ("boolean" == typeof t ? (n = t,
                    t = no) : "boolean" == typeof e && (n = e,
                    e = no)),
                    e === no && t === no ? (e = 0,
                    t = 1) : (e = Gr(e),
                    t === no ? (t = e,
                    e = 0) : t = Gr(t)),
                    t < e) {
                        var i = e;
                        e = t,
                        t = i
                    }
                    if (n || e % 1 || t % 1) {
                        var r = K();
                        return $(e + r * (t - e + Is("1e-" + ((r + "").length - 1))), t)
                    }
                    return Tt(e, t)
                }
                ,
                fe.reduce = function(e, t, n) {
                    var i = wr(e) ? Zs : sl
                      , r = arguments.length < 3;
                    return i(e, Bn(t, 4), n, r, ze)
                }
                ,
                fe.reduceRight = function(e, t, n) {
                    var i = wr(e) ? Qs : sl
                      , r = arguments.length < 3;
                    return i(e, Bn(t, 4), n, r, He)
                }
                ,
                fe.repeat = function(e, t, n) {
                    return t = (n ? Yn(e, t, n) : t === no) ? 1 : Wr(t),
                    St(Yr(e), t)
                }
                ,
                fe.replace = function() {
                    var e = arguments
                      , t = Yr(e[0]);
                    return e.length < 3 ? t : t.replace(e[1], e[2])
                }
                ,
                fe.result = function(e, t, n) {
                    var i = -1
                      , r = (t = Xt(t, e)).length;
                    for (r || (r = 1,
                    e = no); ++i < r; ) {
                        var a = null == e ? no : e[fi(t[i])];
                        a === no && (i = r,
                        a = n),
                        e = kr(a) ? a.call(e) : a
                    }
                    return e
                }
                ,
                fe.round = eo,
                fe.runInContext = e,
                fe.sample = function(e) {
                    return (wr(e) ? Ce : Ct)(e)
                }
                ,
                fe.size = function(e) {
                    if (null == e)
                        return 0;
                    if (Tr(e))
                        return Br(e) ? Tl(e) : e.length;
                    var t = Gn(e);
                    return t == So || t == Po ? e.size : ht(e).length
                }
                ,
                fe.snakeCase = Sa,
                fe.some = function(e, t, n) {
                    var i = wr(e) ? Js : Ot;
                    return n && Yn(e, t, n) && (t = no),
                    i(e, Bn(t, 3))
                }
                ,
                fe.sortedIndex = function(e, t) {
                    return Rt(e, t)
                }
                ,
                fe.sortedIndexBy = function(e, t, n) {
                    return Dt(e, t, Bn(n, 2))
                }
                ,
                fe.sortedIndexOf = function(e, t) {
                    var n = null == e ? 0 : e.length;
                    if (n) {
                        var i = Rt(e, t);
                        if (i < n && vr(e[i], t))
                            return i
                    }
                    return -1
                }
                ,
                fe.sortedLastIndex = function(e, t) {
                    return Rt(e, t, !0)
                }
                ,
                fe.sortedLastIndexBy = function(e, t, n) {
                    return Dt(e, t, Bn(n, 2), !0)
                }
                ,
                fe.sortedLastIndexOf = function(e, t) {
                    if (null == e ? 0 : e.length) {
                        var n = Rt(e, t, !0) - 1;
                        if (vr(e[n], t))
                            return n
                    }
                    return -1
                }
                ,
                fe.startCase = Ea,
                fe.startsWith = function(e, t, n) {
                    return e = Yr(e),
                    n = null == n ? 0 : Ne(Wr(n), 0, e.length),
                    t = Bt(t),
                    e.slice(n, n + t.length) == t
                }
                ,
                fe.subtract = to,
                fe.sum = function(e) {
                    return e && e.length ? ll(e, Ra) : 0
                }
                ,
                fe.sumBy = function(e, t) {
                    return e && e.length ? ll(e, Bn(t, 2)) : 0
                }
                ,
                fe.template = function(o, e, t) {
                    var n = fe.templateSettings;
                    t && Yn(o, e, t) && (e = no),
                    o = Yr(o),
                    e = Qr({}, e, n, kn);
                    var s, l, i = Qr({}, e.imports, n.imports, kn), r = la(i), a = hl(i, r), u = 0, c = e.interpolate || ws, h = "__p += '", d = v((e.escape || ws).source + "|" + c.source + "|" + (c === Jo ? ps : ws).source + "|" + (e.evaluate || ws).source + "|$", "g"), p = "//# sourceURL=" + (_.call(e, "sourceURL") ? (e.sourceURL + "").replace(/[\r\n]/g, " ") : "lodash.templateSources[" + ++ks + "]") + "\n";
                    o.replace(d, function(e, t, n, i, r, a) {
                        return n = n || i,
                        h += o.slice(u, a).replace(xs, vl),
                        t && (s = !0,
                        h += "' +\n__e(" + t + ") +\n'"),
                        r && (l = !0,
                        h += "';\n" + r + ";\n__p += '"),
                        n && (h += "' +\n((__t = (" + n + ")) == null ? '' : __t) +\n'"),
                        u = a + e.length,
                        e
                    }),
                    h += "';\n";
                    var f = _.call(e, "variable") && e.variable;
                    f || (h = "with (obj) {\n" + h + "\n}\n"),
                    h = (l ? h.replace(Go, "") : h).replace(Wo, "$1").replace(qo, "$1;"),
                    h = "function(" + (f || "obj") + ") {\n" + (f ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (l ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
                    var m = Pa(function() {
                        return g(r, p + "return " + h).apply(no, a)
                    });
                    if (m.source = h,
                    Mr(m))
                        throw m;
                    return m
                }
                ,
                fe.times = function(e, t) {
                    if ((e = Wr(e)) < 1 || po < e)
                        return [];
                    var n = mo
                      , i = $(e, mo);
                    t = Bn(t),
                    e -= mo;
                    for (var r = ul(i, t); ++n < e; )
                        t(n);
                    return r
                }
                ,
                fe.toFinite = Gr,
                fe.toInteger = Wr,
                fe.toLength = qr,
                fe.toLower = function(e) {
                    return Yr(e).toLowerCase()
                }
                ,
                fe.toNumber = $r,
                fe.toSafeInteger = function(e) {
                    return e ? Ne(Wr(e), -po, po) : 0 === e ? e : 0
                }
                ,
                fe.toString = Yr,
                fe.toUpper = function(e) {
                    return Yr(e).toUpperCase()
                }
                ,
                fe.trim = function(e, t, n) {
                    if ((e = Yr(e)) && (n || t === no))
                        return e.replace(as, "");
                    if (!e || !(t = Bt(t)))
                        return e;
                    var i = Sl(e)
                      , r = Sl(t);
                    return Kt(i, pl(i, r), fl(i, r) + 1).join("")
                }
                ,
                fe.trimEnd = function(e, t, n) {
                    if ((e = Yr(e)) && (n || t === no))
                        return e.replace(ss, "");
                    if (!e || !(t = Bt(t)))
                        return e;
                    var i = Sl(e);
                    return Kt(i, 0, fl(i, Sl(t)) + 1).join("")
                }
                ,
                fe.trimStart = function(e, t, n) {
                    if ((e = Yr(e)) && (n || t === no))
                        return e.replace(os, "");
                    if (!e || !(t = Bt(t)))
                        return e;
                    var i = Sl(e);
                    return Kt(i, pl(i, Sl(t))).join("")
                }
                ,
                fe.truncate = function(e, t) {
                    var n = 30
                      , i = "...";
                    if (Ir(t)) {
                        var r = "separator"in t ? t.separator : r;
                        n = "length"in t ? Wr(t.length) : n,
                        i = "omission"in t ? Bt(t.omission) : i
                    }
                    var a = (e = Yr(e)).length;
                    if (yl(e)) {
                        var o = Sl(e);
                        a = o.length
                    }
                    if (a <= n)
                        return e;
                    var s = n - Tl(i);
                    if (s < 1)
                        return i;
                    var l = o ? Kt(o, 0, s).join("") : e.slice(0, s);
                    if (r === no)
                        return l + i;
                    if (o && (s += l.length - s),
                    Nr(r)) {
                        if (e.slice(s).search(r)) {
                            var u, c = l;
                            for (r.global || (r = v(r.source, Yr(fs.exec(r)) + "g")),
                            r.lastIndex = 0; u = r.exec(c); )
                                var h = u.index;
                            l = l.slice(0, h === no ? s : h)
                        }
                    } else if (e.indexOf(Bt(r), s) != s) {
                        var d = l.lastIndexOf(r);
                        -1 < d && (l = l.slice(0, d))
                    }
                    return l + i
                }
                ,
                fe.unescape = function(e) {
                    return (e = Yr(e)) && Yo.test(e) ? e.replace($o, El) : e
                }
                ,
                fe.uniqueId = function(e) {
                    var t = ++d;
                    return Yr(e) + t
                }
                ,
                fe.upperCase = Ca,
                fe.upperFirst = Ma,
                fe.each = Yi,
                fe.eachRight = Ki,
                fe.first = Ti,
                Ba(fe, (Qa = {},
                Ye(fe, function(e, t) {
                    _.call(fe.prototype, t) || (Qa[t] = e)
                }),
                Qa), {
                    chain: !1
                }),
                fe.VERSION = "4.17.15",
                Vs(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                    fe[e].placeholder = fe
                }),
                Vs(["drop", "take"], function(n, i) {
                    be.prototype[n] = function(e) {
                        e = e === no ? 1 : q(Wr(e), 0);
                        var t = this.__filtered__ && !i ? new be(this) : this.clone();
                        return t.__filtered__ ? t.__takeCount__ = $(e, t.__takeCount__) : t.__views__.push({
                            size: $(e, mo),
                            type: n + (t.__dir__ < 0 ? "Right" : "")
                        }),
                        t
                    }
                    ,
                    be.prototype[n + "Right"] = function(e) {
                        return this.reverse()[n](e).reverse()
                    }
                }),
                Vs(["filter", "map", "takeWhile"], function(e, t) {
                    var n = t + 1
                      , i = 1 == n || 3 == n;
                    be.prototype[e] = function(e) {
                        var t = this.clone();
                        return t.__iteratees__.push({
                            iteratee: Bn(e, 3),
                            type: n
                        }),
                        t.__filtered__ = t.__filtered__ || i,
                        t
                    }
                }),
                Vs(["head", "last"], function(e, t) {
                    var n = "take" + (t ? "Right" : "");
                    be.prototype[e] = function() {
                        return this[n](1).value()[0]
                    }
                }),
                Vs(["initial", "tail"], function(e, t) {
                    var n = "drop" + (t ? "" : "Right");
                    be.prototype[e] = function() {
                        return this.__filtered__ ? new be(this) : this[n](1)
                    }
                }),
                be.prototype.compact = function() {
                    return this.filter(Ra)
                }
                ,
                be.prototype.find = function(e) {
                    return this.filter(e).head()
                }
                ,
                be.prototype.findLast = function(e) {
                    return this.reverse().find(e)
                }
                ,
                be.prototype.invokeMap = Et(function(t, n) {
                    return "function" == typeof t ? new be(this) : this.map(function(e) {
                        return at(e, t, n)
                    })
                }),
                be.prototype.reject = function(e) {
                    return this.filter(dr(Bn(e)))
                }
                ,
                be.prototype.slice = function(e, t) {
                    e = Wr(e);
                    var n = this;
                    return n.__filtered__ && (0 < e || t < 0) ? new be(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                    t !== no && (n = (t = Wr(t)) < 0 ? n.dropRight(-t) : n.take(t - e)),
                    n)
                }
                ,
                be.prototype.takeRightWhile = function(e) {
                    return this.reverse().takeWhile(e).reverse()
                }
                ,
                be.prototype.toArray = function() {
                    return this.take(mo)
                }
                ,
                Ye(be.prototype, function(h, e) {
                    var d = /^(?:filter|find|map|reject)|While$/.test(e)
                      , p = /^(?:head|last)$/.test(e)
                      , f = fe[p ? "take" + ("last" == e ? "Right" : "") : e]
                      , m = p || /^find/.test(e);
                    f && (fe.prototype[e] = function() {
                        function e(e) {
                            var t = f.apply(fe, Ks([e], n));
                            return p && o ? t[0] : t
                        }
                        var t = this.__wrapped__
                          , n = p ? [1] : arguments
                          , i = t instanceof be
                          , r = n[0]
                          , a = i || wr(t);
                        a && d && "function" == typeof r && 1 != r.length && (i = a = !1);
                        var o = this.__chain__
                          , s = !!this.__actions__.length
                          , l = m && !o
                          , u = i && !s;
                        if (m || !a)
                            return l && u ? h.apply(this, n) : (c = this.thru(e),
                            l ? p ? c.value()[0] : c.value() : c);
                        t = u ? t : new be(this);
                        var c = h.apply(t, n);
                        return c.__actions__.push({
                            func: Gi,
                            args: [e],
                            thisArg: no
                        }),
                        new ye(c,o)
                    }
                    )
                }),
                Vs(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
                    var n = o[e]
                      , i = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                      , r = /^(?:pop|shift)$/.test(e);
                    fe.prototype[e] = function() {
                        var t = arguments;
                        if (!r || this.__chain__)
                            return this[i](function(e) {
                                return n.apply(wr(e) ? e : [], t)
                            });
                        var e = this.value();
                        return n.apply(wr(e) ? e : [], t)
                    }
                }),
                Ye(be.prototype, function(e, t) {
                    var n = fe[t];
                    if (n) {
                        var i = n.name + "";
                        _.call(ae, i) || (ae[i] = []),
                        ae[i].push({
                            name: t,
                            func: n
                        })
                    }
                }),
                ae[gn(no, 2).name] = [{
                    name: "wrapper",
                    func: no
                }],
                be.prototype.clone = function() {
                    var e = new be(this.__wrapped__);
                    return e.__actions__ = an(this.__actions__),
                    e.__dir__ = this.__dir__,
                    e.__filtered__ = this.__filtered__,
                    e.__iteratees__ = an(this.__iteratees__),
                    e.__takeCount__ = this.__takeCount__,
                    e.__views__ = an(this.__views__),
                    e
                }
                ,
                be.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var e = new be(this);
                        e.__dir__ = -1,
                        e.__filtered__ = !0
                    } else
                        (e = this.clone()).__dir__ *= -1;
                    return e
                }
                ,
                be.prototype.value = function() {
                    var e = this.__wrapped__.value()
                      , t = this.__dir__
                      , n = wr(e)
                      , i = t < 0
                      , r = n ? e.length : 0
                      , a = function(e, t, n) {
                        var i = -1
                          , r = n.length;
                        for (; ++i < r; ) {
                            var a = n[i]
                              , o = a.size;
                            switch (a.type) {
                            case "drop":
                                e += o;
                                break;
                            case "dropRight":
                                t -= o;
                                break;
                            case "take":
                                t = $(t, e + o);
                                break;
                            case "takeRight":
                                e = q(e, t - o)
                            }
                        }
                        return {
                            start: e,
                            end: t
                        }
                    }(0, r, this.__views__)
                      , o = a.start
                      , s = a.end
                      , l = s - o
                      , u = i ? s : o - 1
                      , c = this.__iteratees__
                      , h = c.length
                      , d = 0
                      , p = $(l, this.__takeCount__);
                    if (!n || !i && r == l && p == l)
                        return Vt(e, this.__actions__);
                    var f = [];
                    e: for (; l-- && d < p; ) {
                        for (var m = -1, g = e[u += t]; ++m < h; ) {
                            var v = c[m]
                              , y = v.iteratee
                              , b = v.type
                              , _ = y(g);
                            if (2 == b)
                                g = _;
                            else if (!_) {
                                if (1 == b)
                                    continue e;
                                break e
                            }
                        }
                        f[d++] = g
                    }
                    return f
                }
                ,
                fe.prototype.at = Wi,
                fe.prototype.chain = function() {
                    return Vi(this)
                }
                ,
                fe.prototype.commit = function() {
                    return new ye(this.value(),this.__chain__)
                }
                ,
                fe.prototype.next = function() {
                    this.__values__ === no && (this.__values__ = Vr(this.value()));
                    var e = this.__index__ >= this.__values__.length;
                    return {
                        done: e,
                        value: e ? no : this.__values__[this.__index__++]
                    }
                }
                ,
                fe.prototype.plant = function(e) {
                    for (var t, n = this; n instanceof ve; ) {
                        var i = gi(n);
                        i.__index__ = 0,
                        i.__values__ = no,
                        t ? r.__wrapped__ = i : t = i;
                        var r = i;
                        n = n.__wrapped__
                    }
                    return r.__wrapped__ = e,
                    t
                }
                ,
                fe.prototype.reverse = function() {
                    var e = this.__wrapped__;
                    if (e instanceof be) {
                        var t = e;
                        return this.__actions__.length && (t = new be(this)),
                        (t = t.reverse()).__actions__.push({
                            func: Gi,
                            args: [Ii],
                            thisArg: no
                        }),
                        new ye(t,this.__chain__)
                    }
                    return this.thru(Ii)
                }
                ,
                fe.prototype.toJSON = fe.prototype.valueOf = fe.prototype.value = function() {
                    return Vt(this.__wrapped__, this.__actions__)
                }
                ,
                fe.prototype.first = fe.prototype.head,
                O && (fe.prototype[O] = function() {
                    return this
                }
                ),
                fe
            }();
            Os._ = Cl,
            (V = function() {
                return Cl
            }
            .call(G, W, G, H)) === no || (H.exports = V)
        }
        ).call(this)
    }
    ).call(this, W(52), W(194)(e))
}
, function(e, t, n) {
    var m = n(5)
      , g = n(11)
      , v = n(22)
      , y = n(19)
      , b = n(27)
      , _ = "prototype"
      , w = function(e, t, n) {
        var i, r, a, o, s = e & w.F, l = e & w.G, u = e & w.S, c = e & w.P, h = e & w.B, d = l ? m : u ? m[t] || (m[t] = {}) : (m[t] || {})[_], p = l ? g : g[t] || (g[t] = {}), f = p[_] || (p[_] = {});
        for (i in l && (n = t),
        n)
            a = ((r = !s && d && void 0 !== d[i]) ? d : n)[i],
            o = h && r ? b(a, m) : c && "function" == typeof a ? b(Function.call, a) : a,
            d && y(d, i, a, e & w.U),
            p[i] != a && v(p, i, o),
            c && f[i] != a && (f[i] = a)
    };
    m.core = g,
    w.F = 1,
    w.G = 2,
    w.S = 4,
    w.P = 8,
    w.B = 16,
    w.W = 32,
    w.U = 64,
    w.R = 128,
    e.exports = w
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return u
    });
    var i = n(1)
      , l = n.n(i)
      , r = n(0)
      , a = n.n(r)
      , o = n(68);
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var u = function() {
        function r(e, t, n) {
            if (function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r),
            this.constructor === r)
                throw new TypeError("Cannot construct PluginBase instances directly");
            var i = "id_".concat(this._generateId());
            this.$element = e,
            this.opts = this._extendContextDeep(t),
            this.resolutions = n,
            this._publisher = o.a,
            this.pluginId = i,
            this.status = "initialized",
            this._subscribers = [],
            this._listeners = []
        }
        return function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(r, [{
            key: "_generateId",
            value: function() {
                function e() {
                    return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
                }
                return [["id_", e(), e()].join(""), e(), e(), e(), [e(), e(), e()].join("")].join("-")
            }
        }, {
            key: "_extendContextDeep",
            value: function(e, t) {
                function n(i, e, t) {
                    l.a.isPlainObject(i) ? t[e] = r._extendContextDeep(i, {
                        isObject: !0
                    }) : l.a.isArray(i) ? t[e] = r._extendContextDeep(i, {
                        isArray: !0
                    }) : l.a.isFunction(i) && (t[e] = function() {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        return i.apply({
                            plugin: a,
                            context: l.a.isEqual(a.opts, this) ? null : this
                        }, t)
                    }
                    )
                }
                var r = this
                  , i = 1 < arguments.length && void 0 !== t ? t : {}
                  , a = this
                  , o = l.a.isBoolean(i.isObject) ? i.isObject : l.a.isPlainObject(e)
                  , s = l.a.isBoolean(i.isArray) ? i.isArray : l.a.isArray(e);
                return o || s ? e = o ? l.a.forOwn(e, n) : l.a.forEach(e, n) : e
            }
        }, {
            key: "publish",
            value: function(e, t) {
                if (!e)
                    throw new Error("Please provide event name");
                return this._publisher.publish(e, t)
            }
        }, {
            key: "subscribe",
            value: function(e, t) {
                var n = this._publisher.subscribe(e, t, this);
                return this._subscribers.push(n),
                n
            }
        }, {
            key: "unsubscribe",
            value: function(e) {
                return this._publisher.unsubscribe(e)
            }
        }, {
            key: "start",
            value: function() {
                this.status = "running"
            }
        }, {
            key: "stop",
            value: function() {
                var t = this;
                this.status = "stopped",
                l.a.isArray(this._subscribers) && 0 < this._subscribers.length && (l.a.forEach(this._subscribers, function(e) {
                    t.unsubscribe(e)
                }),
                this._subscribers = []),
                l.a.isArray(this._listeners) && 0 < this._listeners.length && (l.a.forEach(this._listeners, function(e) {
                    e.off(".".concat(t.pluginId))
                }),
                this._listeners = [])
            }
        }, {
            key: "resume",
            value: function() {
                this.status = "running"
            }
        }, {
            key: "on",
            value: function(e, t, n) {
                if (!l.a.isFunction(n))
                    throw new TypeError("Incorrect callback type: expected function");
                if (!l.a.isString(t))
                    throw new TypeError("Incorrect event type: expected string");
                if (l.a.includes(t, ".".concat(this.pluginId)) && (t = t.replace(new RegExp(".".concat(this.pluginId),"g"), "")),
                e instanceof a.a)
                    return e.on("".concat(t, ".").concat(this.pluginId), n),
                    this._listeners.push(e),
                    e;
                if (l.a.isElement(e) || l.a.isString(e) && 0 < e.length) {
                    var i = a()(e);
                    return i.on("".concat(t, ".").concat(this.pluginId), n),
                    this._listeners.push(i),
                    i
                }
                throw new TypeError("Incorrect element type: expected jQuery element, dom element or query selector string")
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    var i, r;
    i = [n(78), n(195), n(97), n(196), n(197), n(139), n(98), n(198), n(140), n(199), n(522), n(53), n(14), n(79), n(200), n(64)],
    void 0 === (r = function(e, i, t, s, r, a, n, o, l, u, c, h, d, p, f, m) {
        "use strict";
        var g = function(e, t) {
            return new g.fn.init(e,t)
        };
        function v(e) {
            var t = !!e && "length"in e && e.length
              , n = m(e);
            return !d(e) && !p(e) && ("array" === n || 0 === t || "number" == typeof t && 0 < t && t - 1 in e)
        }
        return g.fn = g.prototype = {
            jquery: "3.6.1",
            constructor: g,
            length: 0,
            toArray: function() {
                return t.call(this)
            },
            get: function(e) {
                return null == e ? t.call(this) : e < 0 ? this[e + this.length] : this[e]
            },
            pushStack: function(e) {
                var t = g.merge(this.constructor(), e);
                return t.prevObject = this,
                t
            },
            each: function(e) {
                return g.each(this, e)
            },
            map: function(n) {
                return this.pushStack(g.map(this, function(e, t) {
                    return n.call(e, t, e)
                }))
            },
            slice: function() {
                return this.pushStack(t.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            even: function() {
                return this.pushStack(g.grep(this, function(e, t) {
                    return (t + 1) % 2
                }))
            },
            odd: function() {
                return this.pushStack(g.grep(this, function(e, t) {
                    return t % 2
                }))
            },
            eq: function(e) {
                var t = this.length
                  , n = +e + (e < 0 ? t : 0);
                return this.pushStack(0 <= n && n < t ? [this[n]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: r,
            sort: e.sort,
            splice: e.splice
        },
        g.extend = g.fn.extend = function() {
            var e, t, n, i, r, a, o = arguments[0] || {}, s = 1, l = arguments.length, u = !1;
            for ("boolean" == typeof o && (u = o,
            o = arguments[s] || {},
            s++),
            "object" == typeof o || d(o) || (o = {}),
            s === l && (o = this,
            s--); s < l; s++)
                if (null != (e = arguments[s]))
                    for (t in e)
                        i = e[t],
                        "__proto__" !== t && o !== i && (u && i && (g.isPlainObject(i) || (r = Array.isArray(i))) ? (n = o[t],
                        a = r && !Array.isArray(n) ? [] : r || g.isPlainObject(n) ? n : {},
                        r = !1,
                        o[t] = g.extend(u, a, i)) : void 0 !== i && (o[t] = i));
            return o
        }
        ,
        g.extend({
            expando: "jQuery" + ("3.6.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(e) {
                throw new Error(e)
            },
            noop: function() {},
            isPlainObject: function(e) {
                var t, n;
                return !(!e || "[object Object]" !== o.call(e)) && (!(t = i(e)) || "function" == typeof (n = l.call(t, "constructor") && t.constructor) && u.call(n) === c)
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e)
                    return !1;
                return !0
            },
            globalEval: function(e, t, n) {
                f(e, {
                    nonce: t && t.nonce
                }, n)
            },
            each: function(e, t) {
                var n, i = 0;
                if (v(e))
                    for (n = e.length; i < n && !1 !== t.call(e[i], i, e[i]); i++)
                        ;
                else
                    for (i in e)
                        if (!1 === t.call(e[i], i, e[i]))
                            break;
                return e
            },
            makeArray: function(e, t) {
                var n = t || [];
                return null != e && (v(Object(e)) ? g.merge(n, "string" == typeof e ? [e] : e) : r.call(n, e)),
                n
            },
            inArray: function(e, t, n) {
                return null == t ? -1 : a.call(t, e, n)
            },
            merge: function(e, t) {
                for (var n = +t.length, i = 0, r = e.length; i < n; i++)
                    e[r++] = t[i];
                return e.length = r,
                e
            },
            grep: function(e, t, n) {
                for (var i = [], r = 0, a = e.length, o = !n; r < a; r++)
                    !t(e[r], r) != o && i.push(e[r]);
                return i
            },
            map: function(e, t, n) {
                var i, r, a = 0, o = [];
                if (v(e))
                    for (i = e.length; a < i; a++)
                        null != (r = t(e[a], a, n)) && o.push(r);
                else
                    for (a in e)
                        null != (r = t(e[a], a, n)) && o.push(r);
                return s(o)
            },
            guid: 1,
            support: h
        }),
        "function" == typeof Symbol && (g.fn[Symbol.iterator] = e[Symbol.iterator]),
        g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
            n["[object " + t + "]"] = t.toLowerCase()
        }),
        g
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}
, function(e, t, n) {
    var i = n(8);
    e.exports = function(e) {
        if (!i(e))
            throw TypeError(e + " is not an object!");
        return e
    }
}
, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}
, function(e, t, n) {
    var i = n(85)("wks")
      , r = n(43)
      , a = n(5).Symbol
      , o = "function" == typeof a;
    (e.exports = function(e) {
        return i[e] || (i[e] = o && a[e] || (o ? a : r)("Symbol." + e))
    }
    ).store = i
}
, function(e, t, n) {
    var i = n(29)
      , r = Math.min;
    e.exports = function(e) {
        return 0 < e ? r(i(e), 9007199254740991) : 0
    }
}
, function(e, t) {
    var n = e.exports = {
        version: "2.6.9"
    };
    "number" == typeof __e && (__e = n)
}
, function(e, t, n) {
    e.exports = !n(6)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, n) {
    var i = n(7)
      , r = n(161)
      , a = n(37)
      , o = Object.defineProperty;
    t.f = n(12) ? Object.defineProperty : function(e, t, n) {
        if (i(e),
        t = a(t, !0),
        i(n),
        r)
            try {
                return o(e, t, n)
            } catch (e) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (e[t] = n.value),
        e
    }
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e) {
            return "function" == typeof e && "number" != typeof e.nodeType && "function" != typeof e.item
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i = n(35);
    e.exports = function(e) {
        return Object(i(e))
    }
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return window.document
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(n, e, t) {
    (function(e) {
        var t;
        t = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {},
        n.exports = t
    }
    ).call(this, t(52))
}
, function(e, t, n) {
    var i, r;
    i = [n(523)],
    void 0 === (r = function() {}
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var a = n(5)
      , o = n(22)
      , s = n(21)
      , l = n(43)("src")
      , i = n(339)
      , r = "toString"
      , u = ("" + i).split(r);
    n(11).inspectSource = function(e) {
        return i.call(e)
    }
    ,
    (e.exports = function(e, t, n, i) {
        var r = "function" == typeof n;
        r && (s(n, "name") || o(n, "name", t)),
        e[t] !== n && (r && (s(n, l) || o(n, l, e[t] ? "" + e[t] : u.join(String(t)))),
        e === a ? e[t] = n : i ? e[t] ? e[t] = n : o(e, t, n) : (delete e[t],
        o(e, t, n)))
    }
    )(Function.prototype, r, function() {
        return "function" == typeof this && this[l] || i.call(this)
    })
}
, function(e, t, n) {
    function i(e, t, n, i) {
        var r = String(o(e))
          , a = "<" + t;
        return "" !== n && (a += " " + n + '="' + String(i).replace(s, "&quot;") + '"'),
        a + ">" + r + "</" + t + ">"
    }
    var r = n(2)
      , a = n(6)
      , o = n(35)
      , s = /"/g;
    e.exports = function(t, e) {
        var n = {};
        n[t] = e(i),
        r(r.P + r.F * a(function() {
            var e = ""[t]('"');
            return e !== e.toLowerCase() || 3 < e.split('"').length
        }), "String", n)
    }
}
, function(e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return n.call(e, t)
    }
}
, function(e, t, n) {
    var i = n(13)
      , r = n(42);
    e.exports = n(12) ? function(e, t, n) {
        return i.f(e, t, r(1, n))
    }
    : function(e, t, n) {
        return e[t] = n,
        e
    }
}
, function(e, t, n) {
    var i = n(74)
      , r = n(35);
    e.exports = function(e) {
        return i(r(e))
    }
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var i = n(1)
      , a = n.n(i)
      , r = n(0)
      , o = n.n(r)
      , s = n(3)
      , l = n(69);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = a.a.merge({}, {
                url: "",
                method: "get",
                dataType: "json",
                contentType: "application/x-www-form-urlencoded",
                cache: !1,
                template: "plugins/templates/ajax-list.js",
                listContainer: ".item-list",
                insertionType: "append",
                params: {},
                tplParams: [],
                grabParamsFromQueryString: "true",
                totalParamName: "CarCount",
                jsonFromParameter: {},
                pagination: {
                    type: "server",
                    showPagination: !1,
                    maxNumberOfPagesDisplayed: 5,
                    pageNumberParamName: "PageIndex",
                    perPageParamName: "PageSize",
                    paginationContainer: ".pagination",
                    nextPageLinkSelector: ".next",
                    prevPageLinkSelector: ".previous",
                    firstPageLinkSelector: ".first",
                    lastPageLinkSelector: ".last",
                    pageNumberClass: ".number",
                    activePageClass: ".current"
                },
                initializeOnEvent: !1,
                onDataLoaded: "",
                beforeLoadData: "",
                onPageLoaded: "",
                onPageLoadedEvent: "",
                pageChangedEventName: "ajax-list/page-changed"
            }, t),
            (i = h(this, p(r).call(this, e, t, n))).urlHelper = l.a,
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(r, s["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(r, [{
            key: "start",
            value: function() {
                d(p(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(r.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                d(p(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this._currentPageIndex = 0,
                this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, function(e, t) {
                    n.initializeEventObj = t,
                    n.loadData(n._currentPageIndex)
                }) : this.loadData(this._currentPageIndex),
                this.$next = this.$element.find(this.opts.pagination.nextPageLinkSelector),
                0 < this.$next.length && this.on(this.$next, "click", function() {
                    n.loadData(++n._currentPageIndex)
                })
            }
        }, {
            key: "loadData",
            value: function(t, n) {
                var i = this;
                if (n = n || this.showItems.bind(this),
                a.a.isFunction(this.opts.beforeLoadData) && this.opts.beforeLoadData.call(this),
                this.opts.grabParamsFromQueryString && (this.opts.params = a.a.merge({}, this.opts.params, this.urlHelper.parseUrlParams(window.location.href))),
                !a.a.isUndefined(t) && this.opts.pagination.pageNumberParamName && (this.opts.params[this.opts.pagination.pageNumberParamName] = t),
                a.a.isUndefined(this.opts.url) || "" === this.opts.url)
                    this.onRequestDone(this.opts.jsonFromParameter, t, n);
                else {
                    var e = {
                        url: this.opts.url,
                        type: this.opts.method,
                        dataType: this.opts.dataType,
                        data: this.opts.params,
                        contentType: this.opts.contentType,
                        cache: this.opts.cache
                    };
                    "jsonp" === this.opts.dataType && this.opts.jsonp && (e.jsonp = this.opts.jsonp),
                    o.a.ajax(e).done(function(e) {
                        i.onRequestDone(e, t, n)
                    })
                }
            }
        }, {
            key: "onRequestDone",
            value: function(e, t, n) {
                e && (this.items = e),
                this._currentPageIndex = t,
                a.a.isFunction(this.opts.onDataLoaded) && this.opts.onDataLoaded.call(this),
                a.a.isFunction(n) && n()
            }
        }, {
            key: "setupPaginationVariables",
            value: function(e) {
                if (!this.opts.pagination.showPagination)
                    return e;
                var t, n = this.opts.pagination;
                e.pagination.pageCount = Math.ceil(this.items[this.opts.totalParamName] / this.opts.params[n.perPageParamName]) || 1,
                e.pagination.currentPage = Number(this.opts.params[n.pageNumberParamName]) || 0;
                var i = e.pagination.currentPage + n.maxNumberOfPagesDisplayed
                  , r = e.pagination.currentPage + 1
                  , a = e.pagination.currentPage - 1;
                return i >= e.pagination.pageCount && (i = e.pagination.pageCount - 1),
                (t = i - n.maxNumberOfPagesDisplayed) < 0 && (t = 0),
                a < 0 && (a = 0),
                i < r && (r = i),
                e.pagination.nextPage = r,
                e.pagination.prevPage = a,
                e.pagination.firstPage = t,
                e.pagination.lastPage = i,
                e
            }
        }, {
            key: "setupPaginationListeners",
            value: function() {
                var n = this;
                this.$element.find(this.opts.pagination.paginationContainer + " [data-goto]").on("click", function(e) {
                    e.preventDefault();
                    var t = o()(this).data("goto");
                    n._currentPageIndex !== t && (n.changePage(t),
                    n.publish(n.opts.pageChangedEventName, {
                        newPageIndex: t
                    }))
                })
            }
        }, {
            key: "changePage",
            value: function(e) {
                "server" === this.opts.pagination.type && (e = e || 0,
                this.loadData(e, this.showItems()))
            }
        }, {
            key: "showItems",
            value: function() {
                var i = this
                  , n = this.$element.find(this.opts.listContainer);
                0 === n.length && (n = this.$element);
                var r = {
                    items: this.items,
                    initializeEventObj: this.initializeEventObj,
                    tplParams: this.opts.tplParams,
                    pagination: this.opts.pagination
                };
                r = this.setupPaginationVariables(r),
                o.a.ajax({
                    url: this.opts.template,
                    dataType: "text"
                }).done(function(e) {
                    a.a.templateSettings.variable = "tplData";
                    var t = a.a.template(e)(r);
                    "insert" === i.opts.insertionType ? (window.Makolab.PluginManager.removePlugins(n, !0),
                    i.addedHtml = n.html(t)) : i.addedHtml = n.append(t),
                    i._content = t,
                    i.opts.pagination.template || i.setupPaginationListeners(),
                    a.a.isFunction(i.opts.onPageLoaded) && i.opts.onPageLoaded(n),
                    a.a.has(window, "Makolab.PluginManager") && window.Makolab.PluginManager.init(o()(i.addedHtml), !0, !1),
                    i.opts.onPageLoadedEvent && i.publish(i.opts.onPageLoadedEvent, i.addedHtml)
                }),
                this.opts.pagination.template && o.a.ajax({
                    url: this.opts.pagination.template,
                    dataType: "text"
                }).done(function(e) {
                    a.a.templateSettings.variable = "tplData";
                    var t = a.a.template(e)(r.pagination)
                      , n = i.$element.find(i.opts.pagination.paginationContainer);
                    n.length && (n.html(t),
                    i.setupPaginationListeners())
                })
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(6);
    e.exports = function(e, t) {
        return !!e && i(function() {
            t ? e.call(null, function() {}, 1) : e.call(null)
        })
    }
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(14), n(202), n(203)],
    void 0 === (r = function(a, o, s, l) {
        "use strict";
        var u, c = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/, e = a.fn.init = function(e, t, n) {
            var i, r;
            if (!e)
                return this;
            if (n = n || u,
            "string" != typeof e)
                return e.nodeType ? (this[0] = e,
                this.length = 1,
                this) : s(e) ? void 0 !== n.ready ? n.ready(e) : e(a) : a.makeArray(e, this);
            if (!(i = "<" === e[0] && ">" === e[e.length - 1] && 3 <= e.length ? [null, e, null] : c.exec(e)) || !i[1] && t)
                return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
            if (i[1]) {
                if (t = t instanceof a ? t[0] : t,
                a.merge(this, a.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t : o, !0)),
                l.test(i[1]) && a.isPlainObject(t))
                    for (i in t)
                        s(this[i]) ? this[i](t[i]) : this.attr(i, t[i]);
                return this
            }
            return (r = o.getElementById(i[2])) && (this[0] = r,
            this.length = 1),
            this
        }
        ;
        return e.prototype = a.fn,
        u = a(o),
        e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var a = n(28);
    e.exports = function(i, r, e) {
        if (a(i),
        void 0 === r)
            return i;
        switch (e) {
        case 1:
            return function(e) {
                return i.call(r, e)
            }
            ;
        case 2:
            return function(e, t) {
                return i.call(r, e, t)
            }
            ;
        case 3:
            return function(e, t, n) {
                return i.call(r, e, t, n)
            }
        }
        return function() {
            return i.apply(r, arguments)
        }
    }
}
, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e)
            throw TypeError(e + " is not a function!");
        return e
    }
}
, function(e, t) {
    var n = Math.ceil
      , i = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (0 < e ? i : n)(e)
    }
}
, function(e, t, n) {
    var i = n(75)
      , r = n(42)
      , a = n(23)
      , o = n(37)
      , s = n(21)
      , l = n(161)
      , u = Object.getOwnPropertyDescriptor;
    t.f = n(12) ? u : function(e, t) {
        if (e = a(e),
        t = o(t, !0),
        l)
            try {
                return u(e, t)
            } catch (e) {}
        if (s(e, t))
            return r(!i.f.call(e, t), e[t])
    }
}
, function(e, t, n) {
    var r = n(2)
      , a = n(11)
      , o = n(6);
    e.exports = function(e, t) {
        var n = (a.Object || {})[e] || Object[e]
          , i = {};
        i[e] = t(n),
        r(r.S + r.F * o(function() {
            n(1)
        }), "Object", i)
    }
}
, function(e, t, n) {
    var b = n(27)
      , _ = n(74)
      , w = n(15)
      , x = n(10)
      , i = n(177);
    e.exports = function(h, e) {
        var d = 1 == h
          , p = 2 == h
          , f = 3 == h
          , m = 4 == h
          , g = 6 == h
          , v = 5 == h || g
          , y = e || i;
        return function(e, t, n) {
            for (var i, r, a = w(e), o = _(a), s = b(t, n, 3), l = x(o.length), u = 0, c = d ? y(e, l) : p ? y(e, 0) : void 0; u < l; u++)
                if ((v || u in o) && (r = s(i = o[u], u, a),
                h))
                    if (d)
                        c[u] = r;
                    else if (r)
                        switch (h) {
                        case 3:
                            return !0;
                        case 5:
                            return i;
                        case 6:
                            return u;
                        case 2:
                            c.push(i)
                        }
                    else if (m)
                        return !1;
            return g ? -1 : f || m ? m : c
        }
    }
}
, function(e, t, n) {
    var i, r;
    i = [n(205)],
    void 0 === (r = function(e) {
        "use strict";
        return new e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t) {
    var n = {}.toString;
    e.exports = function(e) {
        return n.call(e).slice(8, -1)
    }
}
, function(e, t) {
    e.exports = function(e) {
        if (null == e)
            throw TypeError("Can't call method on  " + e);
        return e
    }
}
, function(e, t, n) {
    "use strict";
    if (n(12)) {
        var v = n(44)
          , y = n(5)
          , b = n(6)
          , _ = n(2)
          , w = n(96)
          , i = n(135)
          , f = n(27)
          , x = n(62)
          , r = n(42)
          , T = n(22)
          , a = n(63)
          , o = n(29)
          , S = n(10)
          , E = n(188)
          , s = n(46)
          , l = n(37)
          , u = n(21)
          , C = n(76)
          , M = n(8)
          , m = n(15)
          , g = n(127)
          , k = n(47)
          , P = n(49)
          , A = n(48).f
          , I = n(129)
          , c = n(43)
          , h = n(9)
          , d = n(32)
          , p = n(86)
          , L = n(77)
          , O = n(131)
          , R = n(60)
          , D = n(89)
          , N = n(61)
          , F = n(130)
          , B = n(179)
          , U = n(13)
          , j = n(30)
          , z = U.f
          , H = j.f
          , V = y.RangeError
          , G = y.TypeError
          , W = y.Uint8Array
          , q = "ArrayBuffer"
          , $ = "Shared" + q
          , X = "BYTES_PER_ELEMENT"
          , Y = "prototype"
          , K = Array[Y]
          , Z = i.ArrayBuffer
          , Q = i.DataView
          , J = d(0)
          , ee = d(2)
          , te = d(3)
          , ne = d(4)
          , ie = d(5)
          , re = d(6)
          , ae = p(!0)
          , oe = p(!1)
          , se = O.values
          , le = O.keys
          , ue = O.entries
          , ce = K.lastIndexOf
          , he = K.reduce
          , de = K.reduceRight
          , pe = K.join
          , fe = K.sort
          , me = K.slice
          , ge = K.toString
          , ve = K.toLocaleString
          , ye = h("iterator")
          , be = h("toStringTag")
          , _e = c("typed_constructor")
          , we = c("def_constructor")
          , xe = w.CONSTR
          , Te = w.TYPED
          , Se = w.VIEW
          , Ee = "Wrong length!"
          , Ce = d(1, function(e, t) {
            return Ie(L(e, e[we]), t)
        })
          , Me = b(function() {
            return 1 === new W(new Uint16Array([1]).buffer)[0]
        })
          , ke = !!W && !!W[Y].set && b(function() {
            new W(1).set({})
        })
          , Pe = function(e, t) {
            var n = o(e);
            if (n < 0 || n % t)
                throw V("Wrong offset!");
            return n
        }
          , Ae = function(e) {
            if (M(e) && Te in e)
                return e;
            throw G(e + " is not a typed array!")
        }
          , Ie = function(e, t) {
            if (!(M(e) && _e in e))
                throw G("It is not a typed array constructor!");
            return new e(t)
        }
          , Le = function(e, t) {
            return Oe(L(e, e[we]), t)
        }
          , Oe = function(e, t) {
            for (var n = 0, i = t.length, r = Ie(e, i); n < i; )
                r[n] = t[n++];
            return r
        }
          , Re = function(e, t, n) {
            z(e, t, {
                get: function() {
                    return this._d[n]
                }
            })
        }
          , De = function(e, t, n) {
            var i, r, a, o, s, l, u = m(e), c = arguments.length, h = 1 < c ? t : void 0, d = void 0 !== h, p = I(u);
            if (null != p && !g(p)) {
                for (l = p.call(u),
                a = [],
                i = 0; !(s = l.next()).done; i++)
                    a.push(s.value);
                u = a
            }
            for (d && 2 < c && (h = f(h, n, 2)),
            i = 0,
            r = S(u.length),
            o = Ie(this, r); i < r; i++)
                o[i] = d ? h(u[i], i) : u[i];
            return o
        }
          , Ne = function() {
            for (var e = 0, t = arguments.length, n = Ie(this, t); e < t; )
                n[e] = arguments[e++];
            return n
        }
          , Fe = !!W && b(function() {
            ve.call(new W(1))
        })
          , Be = function() {
            return ve.apply(Fe ? me.call(Ae(this)) : Ae(this), arguments)
        }
          , Ue = {
            copyWithin: function(e, t, n) {
                return B.call(Ae(this), e, t, 2 < arguments.length ? n : void 0)
            },
            every: function(e, t) {
                return ne(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            fill: function(e) {
                return F.apply(Ae(this), arguments)
            },
            filter: function(e, t) {
                return Le(this, ee(Ae(this), e, 1 < arguments.length ? t : void 0))
            },
            find: function(e, t) {
                return ie(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            findIndex: function(e, t) {
                return re(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            forEach: function(e, t) {
                J(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            indexOf: function(e, t) {
                return oe(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            includes: function(e, t) {
                return ae(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            join: function(e) {
                return pe.apply(Ae(this), arguments)
            },
            lastIndexOf: function(e) {
                return ce.apply(Ae(this), arguments)
            },
            map: function(e, t) {
                return Ce(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            reduce: function(e) {
                return he.apply(Ae(this), arguments)
            },
            reduceRight: function(e) {
                return de.apply(Ae(this), arguments)
            },
            reverse: function() {
                for (var e, t = Ae(this).length, n = Math.floor(t / 2), i = 0; i < n; )
                    e = this[i],
                    this[i++] = this[--t],
                    this[t] = e;
                return this
            },
            some: function(e, t) {
                return te(Ae(this), e, 1 < arguments.length ? t : void 0)
            },
            sort: function(e) {
                return fe.call(Ae(this), e)
            },
            subarray: function(e, t) {
                var n = Ae(this)
                  , i = n.length
                  , r = s(e, i);
                return new (L(n, n[we]))(n.buffer,n.byteOffset + r * n.BYTES_PER_ELEMENT,S((void 0 === t ? i : s(t, i)) - r))
            }
        }
          , je = function(e, t) {
            return Le(this, me.call(Ae(this), e, t))
        }
          , ze = function(e, t) {
            Ae(this);
            var n = Pe(t, 1)
              , i = this.length
              , r = m(e)
              , a = S(r.length)
              , o = 0;
            if (i < a + n)
                throw V(Ee);
            for (; o < a; )
                this[n + o] = r[o++]
        }
          , He = {
            entries: function() {
                return ue.call(Ae(this))
            },
            keys: function() {
                return le.call(Ae(this))
            },
            values: function() {
                return se.call(Ae(this))
            }
        }
          , Ve = function(e, t) {
            return M(e) && e[Te] && "symbol" != typeof t && t in e && String(+t) == String(t)
        }
          , Ge = function(e, t) {
            return Ve(e, t = l(t, !0)) ? r(2, e[t]) : H(e, t)
        }
          , We = function(e, t, n) {
            return !(Ve(e, t = l(t, !0)) && M(n) && u(n, "value")) || u(n, "get") || u(n, "set") || n.configurable || u(n, "writable") && !n.writable || u(n, "enumerable") && !n.enumerable ? z(e, t, n) : (e[t] = n.value,
            e)
        };
        xe || (j.f = Ge,
        U.f = We),
        _(_.S + _.F * !xe, "Object", {
            getOwnPropertyDescriptor: Ge,
            defineProperty: We
        }),
        b(function() {
            ge.call({})
        }) && (ge = ve = function() {
            return pe.call(this)
        }
        );
        var qe = a({}, Ue);
        a(qe, He),
        T(qe, ye, He.values),
        a(qe, {
            slice: je,
            set: ze,
            constructor: function() {},
            toString: ge,
            toLocaleString: Be
        }),
        Re(qe, "buffer", "b"),
        Re(qe, "byteOffset", "o"),
        Re(qe, "byteLength", "l"),
        Re(qe, "length", "e"),
        z(qe, be, {
            get: function() {
                return this[Te]
            }
        }),
        e.exports = function(e, h, t, r) {
            function d(e, t) {
                z(e, t, {
                    get: function() {
                        return function(e, t) {
                            var n = e._d;
                            return n.v[i](t * h + n.o, Me)
                        }(this, t)
                    },
                    set: function(e) {
                        return function(e, t, n) {
                            var i = e._d;
                            r && (n = (n = Math.round(n)) < 0 ? 0 : 255 < n ? 255 : 255 & n),
                            i.v[a](t * h + i.o, n, Me)
                        }(this, t, e)
                    },
                    enumerable: !0
                })
            }
            var p = e + ((r = !!r) ? "Clamped" : "") + "Array"
              , i = "get" + e
              , a = "set" + e
              , f = y[p]
              , o = f || {}
              , n = f && P(f)
              , s = !f || !w.ABV
              , l = {}
              , u = f && f[Y];
            s ? (f = t(function(e, t, n, i) {
                x(e, f, p, "_d");
                var r, a, o, s, l = 0, u = 0;
                if (M(t)) {
                    if (!(t instanceof Z || (s = C(t)) == q || s == $))
                        return Te in t ? Oe(f, t) : De.call(f, t);
                    r = t,
                    u = Pe(n, h);
                    var c = t.byteLength;
                    if (void 0 === i) {
                        if (c % h)
                            throw V(Ee);
                        if ((a = c - u) < 0)
                            throw V(Ee)
                    } else if (c < (a = S(i) * h) + u)
                        throw V(Ee);
                    o = a / h
                } else
                    o = E(t),
                    r = new Z(a = o * h);
                for (T(e, "_d", {
                    b: r,
                    o: u,
                    l: a,
                    e: o,
                    v: new Q(r)
                }); l < o; )
                    d(e, l++)
            }),
            u = f[Y] = k(qe),
            T(u, "constructor", f)) : b(function() {
                f(1)
            }) && b(function() {
                new f(-1)
            }) && D(function(e) {
                new f,
                new f(null),
                new f(1.5),
                new f(e)
            }, !0) || (f = t(function(e, t, n, i) {
                var r;
                return x(e, f, p),
                M(t) ? t instanceof Z || (r = C(t)) == q || r == $ ? void 0 !== i ? new o(t,Pe(n, h),i) : void 0 !== n ? new o(t,Pe(n, h)) : new o(t) : Te in t ? Oe(f, t) : De.call(f, t) : new o(E(t))
            }),
            J(n !== Function.prototype ? A(o).concat(A(n)) : A(o), function(e) {
                e in f || T(f, e, o[e])
            }),
            f[Y] = u,
            v || (u.constructor = f));
            var c = u[ye]
              , m = !!c && ("values" == c.name || null == c.name)
              , g = He.values;
            T(f, _e, !0),
            T(u, Te, p),
            T(u, Se, !0),
            T(u, we, f),
            (r ? new f(1)[be] == p : be in u) || z(u, be, {
                get: function() {
                    return p
                }
            }),
            l[p] = f,
            _(_.G + _.W + _.F * (f != o), l),
            _(_.S, p, {
                BYTES_PER_ELEMENT: h
            }),
            _(_.S + _.F * b(function() {
                o.of.call(f, 1)
            }), p, {
                from: De,
                of: Ne
            }),
            X in u || T(u, X, h),
            _(_.P, p, Ue),
            N(p),
            _(_.P + _.F * ke, p, {
                set: ze
            }),
            _(_.P + _.F * !m, p, He),
            v || u.toString == ge || (u.toString = ge),
            _(_.P + _.F * b(function() {
                new f(1).slice()
            }), p, {
                slice: je
            }),
            _(_.P + _.F * (b(function() {
                return [1, 2].toLocaleString() != new f([1, 2]).toLocaleString()
            }) || !b(function() {
                u.toLocaleString.call([1, 2])
            })), p, {
                toLocaleString: Be
            }),
            R[p] = m ? c : g,
            v || m || T(u, ye, g)
        }
    } else
        e.exports = function() {}
}
, function(e, t, n) {
    var r = n(8);
    e.exports = function(e, t) {
        if (!r(e))
            return e;
        var n, i;
        if (t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
            return i;
        if ("function" == typeof (n = e.valueOf) && !r(i = n.call(e)))
            return i;
        if (!t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(e, t, n) {
    function i(e) {
        s(e, r, {
            value: {
                i: "O" + ++l,
                w: {}
            }
        })
    }
    var r = n(43)("meta")
      , a = n(8)
      , o = n(21)
      , s = n(13).f
      , l = 0
      , u = Object.isExtensible || function() {
        return !0
    }
      , c = !n(6)(function() {
        return u(Object.preventExtensions({}))
    })
      , h = e.exports = {
        KEY: r,
        NEED: !1,
        fastKey: function(e, t) {
            if (!a(e))
                return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
            if (!o(e, r)) {
                if (!u(e))
                    return "F";
                if (!t)
                    return "E";
                i(e)
            }
            return e[r].i
        },
        getWeak: function(e, t) {
            if (!o(e, r)) {
                if (!u(e))
                    return !0;
                if (!t)
                    return !1;
                i(e)
            }
            return e[r].w
        },
        onFreeze: function(e) {
            return c && h.NEED && u(e) && !o(e, r) && i(e),
            e
        }
    }
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /[^\x20\t\r\n\f]+/g
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return u
    });
    var i = n(0)
      , r = n.n(i)
      , a = n(1)
      , o = n.n(a)
      , s = n(68);
    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var u = function() {
        function t(e) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            o.a.isUndefined(e) ? o.a.isUndefined(window.Makolab.ResolutionsConfig) ? this.resolutionsConfig = {
                smMin: 768,
                mdMin: 992,
                lgMin: 1200
            } : this.resolutionsConfig = window.Makolab.ResolutionsConfig.resolutionsConfig : this.resolutionsConfig = e,
            this.$window = r()(window),
            this.$body = r()("body"),
            this.onWindowResize = this.onWindowResize.bind(this)
        }
        return function(e, t, n) {
            t && l(e.prototype, t),
            n && l(e, n)
        }(t, [{
            key: "init",
            value: function() {
                this.scrollBarFix(),
                this.currentDeviceResolution = this.getDeviceType(this.$window.width()),
                this.$window.on("resize orientationchange", this.onWindowResize)
            }
        }, {
            key: "detectScroll",
            value: function() {
                return this.$body.height() > this.$window.height()
            }
        }, {
            key: "getAll",
            value: function() {
                return ["xs", "sm", "md", "lg"]
            }
        }, {
            key: "getCurrent",
            value: function() {
                return this.getDeviceType(this.$window.width())
            }
        }, {
            key: "scrollBarFix",
            value: function() {
                var e = this.detectScroll();
                (-1 < navigator.userAgent.indexOf("Chrome") || -1 < navigator.userAgent.indexOf("Firefox")) && e && (this.resolutionsConfig.smMin -= 17,
                this.resolutionsConfig.mdMin -= 17,
                this.resolutionsConfig.lgMin -= 17)
            }
        }, {
            key: "getDeviceType",
            value: function(e) {
                return e < this.resolutionsConfig.smMin ? "xs" : e >= this.resolutionsConfig.smMin && e < this.resolutionsConfig.mdMin ? "sm" : e >= this.resolutionsConfig.mdMin && e < this.resolutionsConfig.lgMin ? "md" : "lg"
            }
        }, {
            key: "onWindowResize",
            value: function() {
                var n = this;
                setTimeout(function() {
                    var e = n.$window.width()
                      , t = n.getDeviceType(e);
                    t !== n.currentDeviceResolution && (n.currentDeviceResolution = t,
                    s.a.publish("core/device-type-changed", t))
                }, 500)
            }
        }]),
        t
    }()
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}
, function(e, t) {
    var n = 0
      , i = Math.random();
    e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + i).toString(36))
    }
}
, function(e, t) {
    e.exports = !1
}
, function(e, t, n) {
    var i = n(163)
      , r = n(114);
    e.exports = Object.keys || function(e) {
        return i(e, r)
    }
}
, function(e, t, n) {
    var i = n(29)
      , r = Math.max
      , a = Math.min;
    e.exports = function(e, t) {
        return (e = i(e)) < 0 ? r(e + t, 0) : a(e, t)
    }
}
, function(e, t, i) {
    function r() {}
    var a = i(7)
      , o = i(164)
      , s = i(114)
      , l = i(113)("IE_PROTO")
      , u = "prototype"
      , c = function() {
        var e, t = i(111)("iframe"), n = s.length;
        for (t.style.display = "none",
        i(115).appendChild(t),
        t.src = "javascript:",
        (e = t.contentWindow.document).open(),
        e.write("<script>document.F=Object<\/script>"),
        e.close(),
        c = e.F; n--; )
            delete c[u][s[n]];
        return c()
    };
    e.exports = Object.create || function(e, t) {
        var n;
        return null !== e ? (r[u] = a(e),
        n = new r,
        r[u] = null,
        n[l] = e) : n = c(),
        void 0 === t ? n : o(n, t)
    }
}
, function(e, t, n) {
    var i = n(163)
      , r = n(114).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function(e) {
        return i(e, r)
    }
}
, function(e, t, n) {
    var i = n(21)
      , r = n(15)
      , a = n(113)("IE_PROTO")
      , o = Object.prototype;
    e.exports = Object.getPrototypeOf || function(e) {
        return e = r(e),
        i(e, a) ? e[a] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? o : null
    }
}
, function(e, t, n) {
    var i = n(9)("unscopables")
      , r = Array.prototype;
    null == r[i] && n(22)(r, i, {}),
    e.exports = function(e) {
        r[i][e] = !0
    }
}
, function(e, t, n) {
    var i = n(8);
    e.exports = function(e, t) {
        if (!i(e) || e._t !== t)
            throw TypeError("Incompatible receiver, " + t + " required!");
        return e
    }
}
, function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return {}
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(64), n(14)],
    void 0 === (r = function(c, h, d) {
        "use strict";
        var p = function(e, t, n, i, r, a, o) {
            var s = 0
              , l = e.length
              , u = null == n;
            if ("object" === h(n))
                for (s in r = !0,
                n)
                    p(e, t, s, n[s], !0, a, o);
            else if (void 0 !== i && (r = !0,
            d(i) || (o = !0),
            u && (t = o ? (t.call(e, i),
            null) : (u = t,
            function(e, t, n) {
                return u.call(c(e), n)
            }
            )),
            t))
                for (; s < l; s++)
                    t(e[s], n, o ? i : i.call(e[s], s, t(e[s], n)));
            return r ? e : u ? t.call(e) : l ? t(e[0], n) : a
        };
        return p
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(14), n(40), n(544), n(223), n(224), n(26), n(225), n(151), n(66), n(226)],
    void 0 === (r = function(T, S, o, E, C, M, k) {
        "use strict";
        var P = /%20/g
          , A = /#.*$/
          , I = /([?&])_=[^&]*/
          , L = /^(.*?):[ \t]*([^\r\n]*)$/gm
          , O = /^(?:GET|HEAD)$/
          , R = /^\/\//
          , D = {}
          , N = {}
          , F = "*/".concat("*")
          , B = S.createElement("a");
        function e(a) {
            return function(e, t) {
                "string" != typeof e && (t = e,
                e = "*");
                var n, i = 0, r = e.toLowerCase().match(E) || [];
                if (o(t))
                    for (; n = r[i++]; )
                        "+" === n[0] ? (n = n.slice(1) || "*",
                        (a[n] = a[n] || []).unshift(t)) : (a[n] = a[n] || []).push(t)
            }
        }
        function U(t, r, a, o) {
            var s = {}
              , l = t === N;
            function u(e) {
                var i;
                return s[e] = !0,
                T.each(t[e] || [], function(e, t) {
                    var n = t(r, a, o);
                    return "string" != typeof n || l || s[n] ? l ? !(i = n) : void 0 : (r.dataTypes.unshift(n),
                    u(n),
                    !1)
                }),
                i
            }
            return u(r.dataTypes[0]) || !s["*"] && u("*")
        }
        function n(e, t) {
            var n, i, r = T.ajaxSettings.flatOptions || {};
            for (n in t)
                void 0 !== t[n] && ((r[n] ? e : i = i || {})[n] = t[n]);
            return i && T.extend(!0, e, i),
            e
        }
        return B.href = C.href,
        T.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: C.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(C.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": F,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": T.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(e, t) {
                return t ? n(n(e, T.ajaxSettings), t) : n(T.ajaxSettings, e)
            },
            ajaxPrefilter: e(D),
            ajaxTransport: e(N),
            ajax: function(e, t) {
                "object" == typeof e && (t = e,
                e = void 0),
                t = t || {};
                var c, h, d, n, p, i, f, m, r, a, g = T.ajaxSetup({}, t), v = g.context || g, y = g.context && (v.nodeType || v.jquery) ? T(v) : T.event, b = T.Deferred(), _ = T.Callbacks("once memory"), w = g.statusCode || {}, o = {}, s = {}, l = "canceled", x = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (f) {
                            if (!n)
                                for (n = {}; t = L.exec(d); )
                                    n[t[1].toLowerCase() + " "] = (n[t[1].toLowerCase() + " "] || []).concat(t[2]);
                            t = n[e.toLowerCase() + " "]
                        }
                        return null == t ? null : t.join(", ")
                    },
                    getAllResponseHeaders: function() {
                        return f ? d : null
                    },
                    setRequestHeader: function(e, t) {
                        return null == f && (e = s[e.toLowerCase()] = s[e.toLowerCase()] || e,
                        o[e] = t),
                        this
                    },
                    overrideMimeType: function(e) {
                        return null == f && (g.mimeType = e),
                        this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (f)
                                x.always(e[x.status]);
                            else
                                for (t in e)
                                    w[t] = [w[t], e[t]];
                        return this
                    },
                    abort: function(e) {
                        var t = e || l;
                        return c && c.abort(t),
                        u(0, t),
                        this
                    }
                };
                if (b.promise(x),
                g.url = ((e || g.url || C.href) + "").replace(R, C.protocol + "//"),
                g.type = t.method || t.type || g.method || g.type,
                g.dataTypes = (g.dataType || "*").toLowerCase().match(E) || [""],
                null == g.crossDomain) {
                    i = S.createElement("a");
                    try {
                        i.href = g.url,
                        i.href = i.href,
                        g.crossDomain = B.protocol + "//" + B.host != i.protocol + "//" + i.host
                    } catch (e) {
                        g.crossDomain = !0
                    }
                }
                if (g.data && g.processData && "string" != typeof g.data && (g.data = T.param(g.data, g.traditional)),
                U(D, g, t, x),
                f)
                    return x;
                for (r in (m = T.event && g.global) && 0 == T.active++ && T.event.trigger("ajaxStart"),
                g.type = g.type.toUpperCase(),
                g.hasContent = !O.test(g.type),
                h = g.url.replace(A, ""),
                g.hasContent ? g.data && g.processData && 0 === (g.contentType || "").indexOf("application/x-www-form-urlencoded") && (g.data = g.data.replace(P, "+")) : (a = g.url.slice(h.length),
                g.data && (g.processData || "string" == typeof g.data) && (h += (k.test(h) ? "&" : "?") + g.data,
                delete g.data),
                !1 === g.cache && (h = h.replace(I, "$1"),
                a = (k.test(h) ? "&" : "?") + "_=" + M.guid++ + a),
                g.url = h + a),
                g.ifModified && (T.lastModified[h] && x.setRequestHeader("If-Modified-Since", T.lastModified[h]),
                T.etag[h] && x.setRequestHeader("If-None-Match", T.etag[h])),
                (g.data && g.hasContent && !1 !== g.contentType || t.contentType) && x.setRequestHeader("Content-Type", g.contentType),
                x.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + ("*" !== g.dataTypes[0] ? ", " + F + "; q=0.01" : "") : g.accepts["*"]),
                g.headers)
                    x.setRequestHeader(r, g.headers[r]);
                if (g.beforeSend && (!1 === g.beforeSend.call(v, x, g) || f))
                    return x.abort();
                if (l = "abort",
                _.add(g.complete),
                x.done(g.success),
                x.fail(g.error),
                c = U(N, g, t, x)) {
                    if (x.readyState = 1,
                    m && y.trigger("ajaxSend", [x, g]),
                    f)
                        return x;
                    g.async && 0 < g.timeout && (p = window.setTimeout(function() {
                        x.abort("timeout")
                    }, g.timeout));
                    try {
                        f = !1,
                        c.send(o, u)
                    } catch (e) {
                        if (f)
                            throw e;
                        u(-1, e)
                    }
                } else
                    u(-1, "No Transport");
                function u(e, t, n, i) {
                    var r, a, o, s, l, u = t;
                    f || (f = !0,
                    p && window.clearTimeout(p),
                    c = void 0,
                    d = i || "",
                    x.readyState = 0 < e ? 4 : 0,
                    r = 200 <= e && e < 300 || 304 === e,
                    n && (s = function(e, t, n) {
                        for (var i, r, a, o, s = e.contents, l = e.dataTypes; "*" === l[0]; )
                            l.shift(),
                            void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type"));
                        if (i)
                            for (r in s)
                                if (s[r] && s[r].test(i)) {
                                    l.unshift(r);
                                    break
                                }
                        if (l[0]in n)
                            a = l[0];
                        else {
                            for (r in n) {
                                if (!l[0] || e.converters[r + " " + l[0]]) {
                                    a = r;
                                    break
                                }
                                o = o || r
                            }
                            a = a || o
                        }
                        if (a)
                            return a !== l[0] && l.unshift(a),
                            n[a]
                    }(g, x, n)),
                    !r && -1 < T.inArray("script", g.dataTypes) && T.inArray("json", g.dataTypes) < 0 && (g.converters["text script"] = function() {}
                    ),
                    s = function(e, t, n, i) {
                        var r, a, o, s, l, u = {}, c = e.dataTypes.slice();
                        if (c[1])
                            for (o in e.converters)
                                u[o.toLowerCase()] = e.converters[o];
                        for (a = c.shift(); a; )
                            if (e.responseFields[a] && (n[e.responseFields[a]] = t),
                            !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
                            l = a,
                            a = c.shift())
                                if ("*" === a)
                                    a = l;
                                else if ("*" !== l && l !== a) {
                                    if (!(o = u[l + " " + a] || u["* " + a]))
                                        for (r in u)
                                            if ((s = r.split(" "))[1] === a && (o = u[l + " " + s[0]] || u["* " + s[0]])) {
                                                !0 === o ? o = u[r] : !0 !== u[r] && (a = s[0],
                                                c.unshift(s[1]));
                                                break
                                            }
                                    if (!0 !== o)
                                        if (o && e.throws)
                                            t = o(t);
                                        else
                                            try {
                                                t = o(t)
                                            } catch (e) {
                                                return {
                                                    state: "parsererror",
                                                    error: o ? e : "No conversion from " + l + " to " + a
                                                }
                                            }
                                }
                        return {
                            state: "success",
                            data: t
                        }
                    }(g, s, x, r),
                    r ? (g.ifModified && ((l = x.getResponseHeader("Last-Modified")) && (T.lastModified[h] = l),
                    (l = x.getResponseHeader("etag")) && (T.etag[h] = l)),
                    204 === e || "HEAD" === g.type ? u = "nocontent" : 304 === e ? u = "notmodified" : (u = s.state,
                    a = s.data,
                    r = !(o = s.error))) : (o = u,
                    !e && u || (u = "error",
                    e < 0 && (e = 0))),
                    x.status = e,
                    x.statusText = (t || u) + "",
                    r ? b.resolveWith(v, [a, u, x]) : b.rejectWith(v, [x, u, o]),
                    x.statusCode(w),
                    w = void 0,
                    m && y.trigger(r ? "ajaxSuccess" : "ajaxError", [x, g, r ? a : o]),
                    _.fireWith(v, [x, u]),
                    m && (y.trigger("ajaxComplete", [x, g]),
                    --T.active || T.event.trigger("ajaxStop")))
                }
                return x
            },
            getJSON: function(e, t, n) {
                return T.get(e, t, n, "json")
            },
            getScript: function(e, t) {
                return T.get(e, void 0, t, "script")
            }
        }),
        T.each(["get", "post"], function(e, r) {
            T[r] = function(e, t, n, i) {
                return o(t) && (i = i || n,
                n = t,
                t = void 0),
                T.ajax(T.extend({
                    url: e,
                    type: r,
                    dataType: i,
                    data: t,
                    success: n
                }, T.isPlainObject(e) && e))
            }
        }),
        T.ajaxPrefilter(function(e) {
            var t;
            for (t in e.headers)
                "content-type" === t.toLowerCase() && (e.contentType = e.headers[t] || "")
        }),
        T
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    "use strict";
    var i = n(153);
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.reverseBytes = t.sliceBytes = t.bytesMatch = t.concatTypedArrays = t.stringToBytes = t.bytesToString = t.numberToBytes = t.bytesToNumber = t.IS_LITTLE_ENDIAN = t.IS_BIG_ENDIAN = t.ENDIANNESS = t.toBinaryString = t.toHexString = t.toUint8 = t.isTypedArray = t.padStart = t.countBytes = t.countBits = void 0;
    function r(e) {
        return e.toString(2).length
    }
    var a = i(n(17));
    t.countBits = r;
    function l(e) {
        return Math.ceil(r(e) / 8)
    }
    t.countBytes = l;
    function o(e, t, n) {
        return void 0 === n && (n = " "),
        (function(e, t) {
            for (var n = ""; t--; )
                n += e;
            return n
        }(n, t) + e.toString()).slice(-t)
    }
    t.padStart = o;
    function s(e) {
        return ArrayBuffer.isView(e)
    }
    t.isTypedArray = s;
    function c(e) {
        return e instanceof Uint8Array ? e : (Array.isArray(e) || s(e) || e instanceof ArrayBuffer || (e = "number" != typeof e || "number" == typeof e && e != e ? 0 : [e]),
        new Uint8Array(e && e.buffer || e,e && e.byteOffset || 0,e && e.byteLength || 0))
    }
    t.toUint8 = c;
    t.toHexString = function(e) {
        e = c(e);
        for (var t = "", n = 0; n < e.length; n++)
            t += o(e[n].toString(16), 2, "0");
        return t
    }
    ;
    t.toBinaryString = function(e) {
        e = c(e);
        for (var t = "", n = 0; n < e.length; n++)
            t += o(e[n].toString(2), 8, "0");
        return t
    }
    ;
    var u, h, d = a.default.BigInt || Number, p = [d("0x1"), d("0x100"), d("0x10000"), d("0x1000000"), d("0x100000000"), d("0x10000000000"), d("0x1000000000000"), d("0x100000000000000"), d("0x10000000000000000")], f = (u = new Uint16Array([65484]),
    255 === (h = new Uint8Array(u.buffer,u.byteOffset,u.byteLength))[0] ? "big" : 204 === h[0] ? "little" : "unknown"), m = "big" == (t.ENDIANNESS = f);
    t.IS_BIG_ENDIAN = m;
    var g = "little" == f;
    t.IS_LITTLE_ENDIAN = g;
    t.bytesToNumber = function(r, e) {
        var t = void 0 === e ? {} : e
          , n = t.signed
          , i = void 0 !== n && n
          , a = t.le
          , o = void 0 !== a && a;
        r = c(r);
        var s = o ? "reduce" : "reduceRight"
          , l = (r[s] ? r[s] : Array.prototype[s]).call(r, function(e, t, n) {
            var i = o ? n : Math.abs(n + 1 - r.length);
            return e + d(t) * p[i]
        }, d(0));
        if (i) {
            var u = p[r.length] / d(2) - d(1);
            u < (l = d(l)) && (l -= u,
            l -= u,
            l -= d(2))
        }
        return Number(l)
    }
    ;
    t.numberToBytes = function(e, t) {
        var n = (void 0 === t ? {} : t).le
          , i = void 0 !== n && n;
        ("bigint" != typeof e && "number" != typeof e || "number" == typeof e && e != e) && (e = 0),
        e = d(e);
        for (var r = l(e), a = new Uint8Array(new ArrayBuffer(r)), o = 0; o < r; o++) {
            var s = i ? o : Math.abs(o + 1 - a.length);
            a[s] = Number(e / p[o] & d(255)),
            e < 0 && (a[s] = Math.abs(~a[s]),
            a[s] -= 0 === o ? 1 : 2)
        }
        return a
    }
    ;
    t.bytesToString = function(e) {
        if (!e)
            return "";
        e = Array.prototype.slice.call(e);
        var t = String.fromCharCode.apply(null, c(e));
        try {
            return decodeURIComponent(escape(t))
        } catch (e) {}
        return t
    }
    ;
    t.stringToBytes = function(e, t) {
        if ("string" != typeof e && e && "function" == typeof e.toString && (e = e.toString()),
        "string" != typeof e)
            return new Uint8Array;
        t || (e = unescape(encodeURIComponent(e)));
        for (var n = new Uint8Array(e.length), i = 0; i < e.length; i++)
            n[i] = e.charCodeAt(i);
        return n
    }
    ;
    t.concatTypedArrays = function() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
            t[n] = arguments[n];
        if ((t = t.filter(function(e) {
            return e && (e.byteLength || e.length) && "string" != typeof e
        })).length <= 1)
            return c(t[0]);
        var i = t.reduce(function(e, t, n) {
            return e + (t.byteLength || t.length)
        }, 0)
          , r = new Uint8Array(i)
          , a = 0;
        return t.forEach(function(e) {
            e = c(e),
            r.set(e, a),
            a += e.byteLength
        }),
        r
    }
    ;
    t.bytesMatch = function(n, e, t) {
        var i = void 0 === t ? {} : t
          , r = i.offset
          , a = void 0 === r ? 0 : r
          , o = i.mask
          , s = void 0 === o ? [] : o;
        n = c(n);
        var l = (e = c(e)).every ? e.every : Array.prototype.every;
        return e.length && n.length - a >= e.length && l.call(e, function(e, t) {
            return e === (s[t] ? s[t] & n[a + t] : n[a + t])
        })
    }
    ;
    t.sliceBytes = function(e, t, n) {
        return Uint8Array.prototype.slice ? Uint8Array.prototype.slice.call(e, t, n) : new Uint8Array(Array.prototype.slice.call(e, t, n))
    }
    ;
    t.reverseBytes = function(e) {
        return e.reverse ? e.reverse() : Array.prototype.reverse.call(e)
    }
}
, function(e, t, n) {
    var i, r;
    !function() {
        if (null === (typeof window !== "undefined" ? window : null))
            throw new Error("Google-maps package can be used only in browser");
        void 0 === (r = "function" == typeof (i = function() {
            "use strict";
            var n = "3.31"
              , i = null
              , r = null
              , a = false
              , o = []
              , s = []
              , l = null
              , u = {
                URL: "https://maps.googleapis.com/maps/api/js",
                KEY: null,
                LIBRARIES: [],
                CLIENT: null,
                CHANNEL: null,
                LANGUAGE: null,
                REGION: null
            };
            u.VERSION = n,
            u.WINDOW_CALLBACK_NAME = "__google_maps_api_provider_initializator__",
            u._googleMockApiObject = {},
            u.load = function(e) {
                if (r === null) {
                    if (a === true) {
                        if (e) {
                            o.push(e)
                        }
                    } else {
                        a = true;
                        window[u.WINDOW_CALLBACK_NAME] = function() {
                            t(e)
                        }
                        ;
                        u.createLoader()
                    }
                } else if (e) {
                    e(r)
                }
            }
            ,
            u.createLoader = function() {
                i = document.createElement("script");
                i.type = "text/javascript";
                i.src = u.createUrl();
                document.body.appendChild(i)
            }
            ,
            u.isLoaded = function() {
                return r !== null
            }
            ,
            u.createUrl = function() {
                var e = u.URL;
                e += "?callback=" + u.WINDOW_CALLBACK_NAME;
                if (u.KEY) {
                    e += "&key=" + u.KEY
                }
                if (u.LIBRARIES.length > 0) {
                    e += "&libraries=" + u.LIBRARIES.join(",")
                }
                if (u.CLIENT) {
                    e += "&client=" + u.CLIENT
                }
                if (u.CHANNEL) {
                    e += "&channel=" + u.CHANNEL
                }
                if (u.LANGUAGE) {
                    e += "&language=" + u.LANGUAGE
                }
                if (u.REGION) {
                    e += "&region=" + u.REGION
                }
                if (u.VERSION) {
                    e += "&v=" + u.VERSION
                }
                return e
            }
            ,
            u.release = function(e) {
                var t = function() {
                    u.KEY = null;
                    u.LIBRARIES = [];
                    u.CLIENT = null;
                    u.CHANNEL = null;
                    u.LANGUAGE = null;
                    u.REGION = null;
                    u.VERSION = n;
                    r = null;
                    a = false;
                    o = [];
                    s = [];
                    if (typeof window.google !== "undefined") {
                        delete window.google
                    }
                    if (typeof window[u.WINDOW_CALLBACK_NAME] !== "undefined") {
                        delete window[u.WINDOW_CALLBACK_NAME]
                    }
                    if (l !== null) {
                        u.createLoader = l;
                        l = null
                    }
                    if (i !== null) {
                        i.parentElement.removeChild(i);
                        i = null
                    }
                    if (e) {
                        e()
                    }
                };
                if (a) {
                    u.load(function() {
                        t()
                    })
                } else {
                    t()
                }
            }
            ,
            u.onLoad = function(e) {
                s.push(e)
            }
            ,
            u.makeMock = function() {
                l = u.createLoader;
                u.createLoader = function() {
                    window.google = u._googleMockApiObject;
                    window[u.WINDOW_CALLBACK_NAME]()
                }
            }
            ;
            var t = function(e) {
                var t;
                a = false;
                if (r === null) {
                    r = window.google
                }
                for (t = 0; t < s.length; t++) {
                    s[t](r)
                }
                if (e) {
                    e(r)
                }
                for (t = 0; t < o.length; t++) {
                    o[t](r)
                }
                o = []
            };
            return u
        }
        ) ? i.call(t, n, t, e) : i) || (e.exports = r)
    }()
}
, function(e, t, n) {
    var i = n(13).f
      , r = n(21)
      , a = n(9)("toStringTag");
    e.exports = function(e, t, n) {
        e && !r(e = n ? e : e.prototype, a) && i(e, a, {
            configurable: !0,
            value: t
        })
    }
}
, function(e, t, n) {
    function i(e, t, n) {
        var i = {}
          , r = s(function() {
            return !!l[e]() || "​" != "​"[e]()
        })
          , a = i[e] = r ? t(h) : l[e];
        n && (i[n] = a),
        o(o.P + o.F * r, "String", i)
    }
    var o = n(2)
      , r = n(35)
      , s = n(6)
      , l = n(117)
      , a = "[" + l + "]"
      , u = RegExp("^" + a + a + "*")
      , c = RegExp(a + a + "*$")
      , h = i.trim = function(e, t) {
        return e = String(r(e)),
        1 & t && (e = e.replace(u, "")),
        2 & t && (e = e.replace(c, "")),
        e
    }
    ;
    e.exports = i
}
, function(e, t) {
    e.exports = {}
}
, function(e, t, n) {
    "use strict";
    var i = n(5)
      , r = n(13)
      , a = n(12)
      , o = n(9)("species");
    e.exports = function(e) {
        var t = i[e];
        a && t && !t[o] && r.f(t, o, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(e, t) {
    e.exports = function(e, t, n, i) {
        if (!(e instanceof t) || void 0 !== i && i in e)
            throw TypeError(n + ": incorrect invocation!");
        return e
    }
}
, function(e, t, n) {
    var r = n(19);
    e.exports = function(e, t, n) {
        for (var i in t)
            r(e, i, t[i], n);
        return e
    }
}
, function(e, t, n) {
    var i, r;
    i = [n(98), n(198)],
    void 0 === (r = function(t, n) {
        "use strict";
        return function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? t[n.call(e)] || "object" : typeof e
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(195), n(139), n(525), n(526), n(201), n(39), n(26), n(203), n(18)],
    void 0 === (r = function(s, t, n, i, r, l, a) {
        "use strict";
        var o = /^(?:parents|prev(?:Until|All))/
          , u = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        function c(e, t) {
            for (; (e = e[t]) && 1 !== e.nodeType; )
                ;
            return e
        }
        return s.fn.extend({
            has: function(e) {
                var t = s(e, this)
                  , n = t.length;
                return this.filter(function() {
                    for (var e = 0; e < n; e++)
                        if (s.contains(this, t[e]))
                            return !0
                })
            },
            closest: function(e, t) {
                var n, i = 0, r = this.length, a = [], o = "string" != typeof e && s(e);
                if (!l.test(e))
                    for (; i < r; i++)
                        for (n = this[i]; n && n !== t; n = n.parentNode)
                            if (n.nodeType < 11 && (o ? -1 < o.index(n) : 1 === n.nodeType && s.find.matchesSelector(n, e))) {
                                a.push(n);
                                break
                            }
                return this.pushStack(1 < a.length ? s.uniqueSort(a) : a)
            },
            index: function(e) {
                return e ? "string" == typeof e ? n.call(s(e), this[0]) : n.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(e, t) {
                return this.pushStack(s.uniqueSort(s.merge(this.get(), s(e, t))))
            },
            addBack: function(e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }
        }),
        s.each({
            parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(e) {
                return i(e, "parentNode")
            },
            parentsUntil: function(e, t, n) {
                return i(e, "parentNode", n)
            },
            next: function(e) {
                return c(e, "nextSibling")
            },
            prev: function(e) {
                return c(e, "previousSibling")
            },
            nextAll: function(e) {
                return i(e, "nextSibling")
            },
            prevAll: function(e) {
                return i(e, "previousSibling")
            },
            nextUntil: function(e, t, n) {
                return i(e, "nextSibling", n)
            },
            prevUntil: function(e, t, n) {
                return i(e, "previousSibling", n)
            },
            siblings: function(e) {
                return r((e.parentNode || {}).firstChild, e)
            },
            children: function(e) {
                return r(e.firstChild)
            },
            contents: function(e) {
                return null != e.contentDocument && t(e.contentDocument) ? e.contentDocument : (a(e, "template") && (e = e.content || e),
                s.merge([], e.childNodes))
            }
        }, function(i, r) {
            s.fn[i] = function(e, t) {
                var n = s.map(this, r, e);
                return "Until" !== i.slice(-5) && (t = e),
                t && "string" == typeof t && (n = s.filter(t, n)),
                1 < this.length && (u[i] || s.uniqueSort(n),
                o.test(i) && n.reverse()),
                this.pushStack(n)
            }
        }),
        s
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(14), n(97), n(141)],
    void 0 === (r = function(c, h, s) {
        "use strict";
        function d(e) {
            return e
        }
        function p(e) {
            throw e
        }
        function l(e, t, n, i) {
            var r;
            try {
                e && h(r = e.promise) ? r.call(e).done(t).fail(n) : e && h(r = e.then) ? r.call(e, t, n) : t.apply(void 0, [e].slice(i))
            } catch (e) {
                n.apply(void 0, [e])
            }
        }
        return c.extend({
            Deferred: function(e) {
                var a = [["notify", "progress", c.Callbacks("memory"), c.Callbacks("memory"), 2], ["resolve", "done", c.Callbacks("once memory"), c.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", c.Callbacks("once memory"), c.Callbacks("once memory"), 1, "rejected"]]
                  , r = "pending"
                  , o = {
                    state: function() {
                        return r
                    },
                    always: function() {
                        return s.done(arguments).fail(arguments),
                        this
                    },
                    catch: function(e) {
                        return o.then(null, e)
                    },
                    pipe: function() {
                        var r = arguments;
                        return c.Deferred(function(i) {
                            c.each(a, function(e, t) {
                                var n = h(r[t[4]]) && r[t[4]];
                                s[t[1]](function() {
                                    var e = n && n.apply(this, arguments);
                                    e && h(e.promise) ? e.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[t[0] + "With"](this, n ? [e] : arguments)
                                })
                            }),
                            r = null
                        }).promise()
                    },
                    then: function(t, n, i) {
                        var l = 0;
                        function u(r, a, o, s) {
                            return function() {
                                function e() {
                                    var e, t;
                                    if (!(r < l)) {
                                        if ((e = o.apply(n, i)) === a.promise())
                                            throw new TypeError("Thenable self-resolution");
                                        t = e && ("object" == typeof e || "function" == typeof e) && e.then,
                                        h(t) ? s ? t.call(e, u(l, a, d, s), u(l, a, p, s)) : (l++,
                                        t.call(e, u(l, a, d, s), u(l, a, p, s), u(l, a, d, a.notifyWith))) : (o !== d && (n = void 0,
                                        i = [e]),
                                        (s || a.resolveWith)(n, i))
                                    }
                                }
                                var n = this
                                  , i = arguments
                                  , t = s ? e : function() {
                                    try {
                                        e()
                                    } catch (e) {
                                        c.Deferred.exceptionHook && c.Deferred.exceptionHook(e, t.stackTrace),
                                        l <= r + 1 && (o !== p && (n = void 0,
                                        i = [e]),
                                        a.rejectWith(n, i))
                                    }
                                }
                                ;
                                r ? t() : (c.Deferred.getStackHook && (t.stackTrace = c.Deferred.getStackHook()),
                                window.setTimeout(t))
                            }
                        }
                        return c.Deferred(function(e) {
                            a[0][3].add(u(0, e, h(i) ? i : d, e.notifyWith)),
                            a[1][3].add(u(0, e, h(t) ? t : d)),
                            a[2][3].add(u(0, e, h(n) ? n : p))
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? c.extend(e, o) : o
                    }
                }
                  , s = {};
                return c.each(a, function(e, t) {
                    var n = t[2]
                      , i = t[5];
                    o[t[1]] = n.add,
                    i && n.add(function() {
                        r = i
                    }, a[3 - e][2].disable, a[3 - e][3].disable, a[0][2].lock, a[0][3].lock),
                    n.add(t[3].fire),
                    s[t[0]] = function() {
                        return s[t[0] + "With"](this === s ? void 0 : this, arguments),
                        this
                    }
                    ,
                    s[t[0] + "With"] = n.fireWith
                }),
                o.promise(s),
                e && e.call(s, s),
                s
            },
            when: function(e) {
                function t(t) {
                    return function(e) {
                        r[t] = this,
                        a[t] = 1 < arguments.length ? s.call(arguments) : e,
                        --n || o.resolveWith(r, a)
                    }
                }
                var n = arguments.length
                  , i = n
                  , r = Array(i)
                  , a = s.call(arguments)
                  , o = c.Deferred();
                if (n <= 1 && (l(e, o.done(t(i)).resolve, o.reject, !n),
                "pending" === o.state() || h(a[i] && a[i].then)))
                    return o.then();
                for (; i--; )
                    l(a[i], t(i), o.reject);
                return o.promise()
            }
        }),
        c
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(101), n(14), n(40), n(146), n(97), n(99), n(33), n(39), n(26), n(18)],
    void 0 === (r = function(v, n, y, i, b, r, o, _, w, a) {
        "use strict";
        var x = /^([^.]*)(?:\.(.+)|)/;
        function s() {
            return !0
        }
        function l() {
            return !1
        }
        function u(e, t) {
            return e === function() {
                try {
                    return n.activeElement
                } catch (e) {}
            }() == ("focus" === t)
        }
        function c(e, t, n, i, r, a) {
            var o, s;
            if ("object" == typeof t) {
                for (s in "string" != typeof n && (i = i || n,
                n = void 0),
                t)
                    c(e, s, n, i, t[s], a);
                return e
            }
            if (null == i && null == r ? (r = n,
            i = n = void 0) : null == r && ("string" == typeof n ? (r = i,
            i = void 0) : (r = i,
            i = n,
            n = void 0)),
            !1 === r)
                r = l;
            else if (!r)
                return e;
            return 1 === a && (o = r,
            (r = function(e) {
                return v().off(e),
                o.apply(this, arguments)
            }
            ).guid = o.guid || (o.guid = v.guid++)),
            e.each(function() {
                v.event.add(this, t, r, i, n)
            })
        }
        function h(e, r, a) {
            a ? (w.set(e, r, !1),
            v.event.add(e, r, {
                namespace: !1,
                handler: function(e) {
                    var t, n, i = w.get(this, r);
                    if (1 & e.isTrigger && this[r]) {
                        if (i.length)
                            (v.event.special[r] || {}).delegateType && e.stopPropagation();
                        else if (i = o.call(arguments),
                        w.set(this, r, i),
                        t = a(this, r),
                        this[r](),
                        i !== (n = w.get(this, r)) || t ? w.set(this, r, !1) : n = {},
                        i !== n)
                            return e.stopImmediatePropagation(),
                            e.preventDefault(),
                            n && n.value
                    } else
                        i.length && (w.set(this, r, {
                            value: v.event.trigger(v.extend(i[0], v.Event.prototype), i.slice(1), this)
                        }),
                        e.stopImmediatePropagation())
                }
            })) : void 0 === w.get(e, r) && v.event.add(e, r, s)
        }
        return v.event = {
            global: {},
            add: function(t, e, n, i, r) {
                var a, o, s, l, u, c, h, d, p, f, m, g = w.get(t);
                if (_(t))
                    for (n.handler && (n = (a = n).handler,
                    r = a.selector),
                    r && v.find.matchesSelector(y, r),
                    n.guid || (n.guid = v.guid++),
                    (l = g.events) || (l = g.events = Object.create(null)),
                    (o = g.handle) || (o = g.handle = function(e) {
                        return void 0 !== v && v.event.triggered !== e.type ? v.event.dispatch.apply(t, arguments) : void 0
                    }
                    ),
                    u = (e = (e || "").match(b) || [""]).length; u--; )
                        p = m = (s = x.exec(e[u]) || [])[1],
                        f = (s[2] || "").split(".").sort(),
                        p && (h = v.event.special[p] || {},
                        p = (r ? h.delegateType : h.bindType) || p,
                        h = v.event.special[p] || {},
                        c = v.extend({
                            type: p,
                            origType: m,
                            data: i,
                            handler: n,
                            guid: n.guid,
                            selector: r,
                            needsContext: r && v.expr.match.needsContext.test(r),
                            namespace: f.join(".")
                        }, a),
                        (d = l[p]) || ((d = l[p] = []).delegateCount = 0,
                        h.setup && !1 !== h.setup.call(t, i, f, o) || t.addEventListener && t.addEventListener(p, o)),
                        h.add && (h.add.call(t, c),
                        c.handler.guid || (c.handler.guid = n.guid)),
                        r ? d.splice(d.delegateCount++, 0, c) : d.push(c),
                        v.event.global[p] = !0)
            },
            remove: function(e, t, n, i, r) {
                var a, o, s, l, u, c, h, d, p, f, m, g = w.hasData(e) && w.get(e);
                if (g && (l = g.events)) {
                    for (u = (t = (t || "").match(b) || [""]).length; u--; )
                        if (p = m = (s = x.exec(t[u]) || [])[1],
                        f = (s[2] || "").split(".").sort(),
                        p) {
                            for (h = v.event.special[p] || {},
                            d = l[p = (i ? h.delegateType : h.bindType) || p] || [],
                            s = s[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                            o = a = d.length; a--; )
                                c = d[a],
                                !r && m !== c.origType || n && n.guid !== c.guid || s && !s.test(c.namespace) || i && i !== c.selector && ("**" !== i || !c.selector) || (d.splice(a, 1),
                                c.selector && d.delegateCount--,
                                h.remove && h.remove.call(e, c));
                            o && !d.length && (h.teardown && !1 !== h.teardown.call(e, f, g.handle) || v.removeEvent(e, p, g.handle),
                            delete l[p])
                        } else
                            for (p in l)
                                v.event.remove(e, p + t[u], n, i, !0);
                    v.isEmptyObject(l) && w.remove(e, "handle events")
                }
            },
            dispatch: function(e) {
                var t, n, i, r, a, o, s = new Array(arguments.length), l = v.event.fix(e), u = (w.get(this, "events") || Object.create(null))[l.type] || [], c = v.event.special[l.type] || {};
                for (s[0] = l,
                t = 1; t < arguments.length; t++)
                    s[t] = arguments[t];
                if (l.delegateTarget = this,
                !c.preDispatch || !1 !== c.preDispatch.call(this, l)) {
                    for (o = v.event.handlers.call(this, l, u),
                    t = 0; (r = o[t++]) && !l.isPropagationStopped(); )
                        for (l.currentTarget = r.elem,
                        n = 0; (a = r.handlers[n++]) && !l.isImmediatePropagationStopped(); )
                            l.rnamespace && !1 !== a.namespace && !l.rnamespace.test(a.namespace) || (l.handleObj = a,
                            l.data = a.data,
                            void 0 !== (i = ((v.event.special[a.origType] || {}).handle || a.handler).apply(r.elem, s)) && !1 === (l.result = i) && (l.preventDefault(),
                            l.stopPropagation()));
                    return c.postDispatch && c.postDispatch.call(this, l),
                    l.result
                }
            },
            handlers: function(e, t) {
                var n, i, r, a, o, s = [], l = t.delegateCount, u = e.target;
                if (l && u.nodeType && !("click" === e.type && 1 <= e.button))
                    for (; u !== this; u = u.parentNode || this)
                        if (1 === u.nodeType && ("click" !== e.type || !0 !== u.disabled)) {
                            for (a = [],
                            o = {},
                            n = 0; n < l; n++)
                                void 0 === o[r = (i = t[n]).selector + " "] && (o[r] = i.needsContext ? -1 < v(r, this).index(u) : v.find(r, this, null, [u]).length),
                                o[r] && a.push(i);
                            a.length && s.push({
                                elem: u,
                                handlers: a
                            })
                        }
                return u = this,
                l < t.length && s.push({
                    elem: u,
                    handlers: t.slice(l)
                }),
                s
            },
            addProp: function(t, e) {
                Object.defineProperty(v.Event.prototype, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: i(e) ? function() {
                        if (this.originalEvent)
                            return e(this.originalEvent)
                    }
                    : function() {
                        if (this.originalEvent)
                            return this.originalEvent[t]
                    }
                    ,
                    set: function(e) {
                        Object.defineProperty(this, t, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: e
                        })
                    }
                })
            },
            fix: function(e) {
                return e[v.expando] ? e : new v.Event(e)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(e) {
                        var t = this || e;
                        return r.test(t.type) && t.click && a(t, "input") && h(t, "click", s),
                        !1
                    },
                    trigger: function(e) {
                        var t = this || e;
                        return r.test(t.type) && t.click && a(t, "input") && h(t, "click"),
                        !0
                    },
                    _default: function(e) {
                        var t = e.target;
                        return r.test(t.type) && t.click && a(t, "input") && w.get(t, "click") || a(t, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                    }
                }
            }
        },
        v.removeEvent = function(e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n)
        }
        ,
        v.Event = function(e, t) {
            if (!(this instanceof v.Event))
                return new v.Event(e,t);
            e && e.type ? (this.originalEvent = e,
            this.type = e.type,
            this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? s : l,
            this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target,
            this.currentTarget = e.currentTarget,
            this.relatedTarget = e.relatedTarget) : this.type = e,
            t && v.extend(this, t),
            this.timeStamp = e && e.timeStamp || Date.now(),
            this[v.expando] = !0
        }
        ,
        v.Event.prototype = {
            constructor: v.Event,
            isDefaultPrevented: l,
            isPropagationStopped: l,
            isImmediatePropagationStopped: l,
            isSimulated: !1,
            preventDefault: function() {
                var e = this.originalEvent;
                this.isDefaultPrevented = s,
                e && !this.isSimulated && e.preventDefault()
            },
            stopPropagation: function() {
                var e = this.originalEvent;
                this.isPropagationStopped = s,
                e && !this.isSimulated && e.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var e = this.originalEvent;
                this.isImmediatePropagationStopped = s,
                e && !this.isSimulated && e.stopImmediatePropagation(),
                this.stopPropagation()
            }
        },
        v.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: !0
        }, v.event.addProp),
        v.each({
            focus: "focusin",
            blur: "focusout"
        }, function(t, e) {
            v.event.special[t] = {
                setup: function() {
                    return h(this, t, u),
                    !1
                },
                trigger: function() {
                    return h(this, t),
                    !0
                },
                _default: function(e) {
                    return w.get(e.target, t)
                },
                delegateType: e
            }
        }),
        v.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(e, r) {
            v.event.special[e] = {
                delegateType: r,
                bindType: r,
                handle: function(e) {
                    var t, n = e.relatedTarget, i = e.handleObj;
                    return n && (n === this || v.contains(this, n)) || (e.type = i.origType,
                    t = i.handler.apply(this, arguments),
                    e.type = r),
                    t
                }
            }
        }),
        v.fn.extend({
            on: function(e, t, n, i) {
                return c(this, e, t, n, i)
            },
            one: function(e, t, n, i) {
                return c(this, e, t, n, i, 1)
            },
            off: function(e, t, n) {
                var i, r;
                if (e && e.preventDefault && e.handleObj)
                    return i = e.handleObj,
                    v(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler),
                    this;
                if ("object" != typeof e)
                    return !1 !== t && "function" != typeof t || (n = t,
                    t = void 0),
                    !1 === n && (n = l),
                    this.each(function() {
                        v.event.remove(this, e, n, t)
                    });
                for (r in e)
                    this.off(r, t, e[r]);
                return this
            }
        }),
        v
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    "use strict";
    var i = n(275)
      , r = n.n(i);
    t.a = r.a
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var i = n(1)
      , h = n.n(i);
    function r(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var a = function() {
        function e() {
            if (function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.constructor === e)
                throw new TypeError("Cannot construct UrlHelper instances directly")
        }
        return function(e, t, n) {
            t && r(e.prototype, t),
            n && r(e, n)
        }(e, null, [{
            key: "parseUrlParams",
            value: function(e, t, n) {
                var i = 1 < arguments.length && void 0 !== t && t
                  , r = 2 < arguments.length && void 0 !== n && n
                  , a = e.indexOf("?") + 1
                  , o = e.indexOf("#")
                  , s = -1 < o ? o + 1 : e.length + 1
                  , l = e.slice(a, s - 1)
                  , u = l.replace(/\+/g, " ").split("&")
                  , c = {};
                return l === e || "" === l || h.a.forEach(u, function(e) {
                    var t = e.split("=")
                      , n = i ? decodeURIComponent(t[0]).toLowerCase() : decodeURIComponent(t[0]);
                    c[n] = r ? decodeURIComponent(t[1]).toLowerCase() : decodeURIComponent(t[1])
                }),
                c
            }
        }, {
            key: "getBaseUrl",
            value: function(e) {
                var t = e.indexOf("?");
                return -1 < t ? e.substring(0, t) : e
            }
        }, {
            key: "toUrl",
            value: function(e, t) {
                var n = e
                  , i = !0;
                return h.a.forOwn(t, function(e, t) {
                    i ? (n += "?",
                    i = !1) : n += "&",
                    n += "".concat(t, "=").concat(e)
                }),
                n
            }
        }, {
            key: "getAnchor",
            value: function(e) {
                var t = ""
                  , n = e.indexOf("#");
                return -1 < n && (t = e.substring(n + 1, e.length)),
                t
            }
        }]),
        e
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return v
    });
    var i = n(0)
      , r = n.n(i)
      , a = n(1)
      , h = n.n(a)
      , o = n(57)
      , s = n.n(o)
      , l = n(3)
      , d = n(73);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function p(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function f(e, t, n) {
        return (f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = m(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function m(e) {
        return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function g(e, t) {
        return (g = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var v = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = h.a.merge({}, {
                selectors: {
                    mapContainer: ".map-container"
                },
                apiKey: "AIzaSyAo4U1JQRD9AhN4VdBIAvtVCbYSuyF5qIs",
                mapLanguage: !1,
                mapRegion: !1,
                mapVersion: !1,
                libraries: [],
                labels: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
                labelStyles: {
                    color: "black"
                },
                enableLabels: !1,
                mapSettings: {
                    zoom: 10,
                    zoomControl: !0,
                    zoomOnClick: 18,
                    scrollwheel: !0,
                    center: {
                        lat: 51.759248,
                        lng: 19.455983
                    }
                },
                centerMapOnResize: !0,
                markerWidth: 49,
                markerHeight: 54,
                markerSettings: {
                    clickable: !0,
                    draggable: !1
                },
                markerStyles: {
                    alpha: {
                        active: "assets/images/brand-marker.png",
                        inactive: "assets/images/brand-marker-grey.png"
                    },
                    beta: {
                        active: "assets/images/brand-marker.png",
                        inactive: "assets/images/brand-marker-grey.png"
                    }
                },
                geolocationIcon: "assets/images/geo.png",
                clustererPath: !1,
                clustererSettings: {
                    maxZoom: 12,
                    gridSize: 60,
                    minimumClusterSize: 2,
                    ignoreHidden: !0,
                    imagePath: "assets/images/markerclusterer/m"
                },
                showInfowindow: !0,
                allowMultipleInfoWindows: !1,
                centerMapOnMarkerClose: !0,
                zoomMapOnMarkerClick: !0,
                infoWindowSettings: {
                    maxWidth: 160
                },
                infowindowTplFile: "assets/templates/infowindow.html",
                locations: [],
                onMapCreateEvent: "",
                onMarkerClickEvent: "",
                onMarkerCloseEvent: "",
                initializeOnEvent: "",
                resizeOnEvent: ""
            }, t),
            p(this, m(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && g(e, t)
        }(i, l["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(i, [{
            key: "start",
            value: function() {
                f(m(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                f(m(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                f(m(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "loadMapsAPI",
            value: function() {
                return this.opts.libraries.length && this.opts.libraries.forEach(function(e) {
                    s.a.LIBRARIES.push(e)
                }),
                this.opts.mapLanguage && (s.a.LANGUAGE = this.opts.language),
                this.opts.mapRegion && (s.a.REGION = this.opts.region),
                this.opts.mapVersion && (s.a.VERSION = this.opts.version),
                s.a.KEY = this.opts.apiKey,
                new Promise(function(e) {
                    s.a.load(e)
                }
                )
            }
        }, {
            key: "init",
            value: function() {
                if (this.$mapContainer = this.$element.find(this.opts.selectors.mapContainer),
                0 === this.$mapContainer.length)
                    throw new Error("Map container element required");
                this.markers = [],
                this.clusteredMarkers = null,
                this.opts.clustererPath && r.a.ajax({
                    url: this.opts.clustererPath,
                    dataType: "script"
                }),
                this.mapsApiPromise = this.loadMapsAPI(),
                this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, this.initMap.bind(this)) : this.initMap(),
                this.opts.showInfowindow && this.opts.infowindowTplFile && (this.infowindowTplPromise = d.a.getTemplatePromise(this.opts.infowindowTplFile))
            }
        }, {
            key: "initMap",
            value: function() {
                var e = this;
                this.mapsApiPromise.then(function() {
                    e.createMap(),
                    e.setupIcons(),
                    e.opts.locations.length && e.createMarkers(e.opts.locations).then(function() {
                        e.centerMap()
                    })
                })
            }
        }, {
            key: "createMap",
            value: function() {
                if (this.markers = [],
                this.map = new google.maps.Map(this.$mapContainer.get(0),this.opts.mapSettings),
                this.opts.centerMapOnResize) {
                    var e = this.handleMapResizeEvent.bind(this);
                    google.maps.event.addDomListener(window, "resize", e),
                    this.opts.resizeOnEvent && this.subscribe(this.opts.resizeOnEvent, e)
                }
                return this.opts.onMapCreateEvent && this.publish(this.opts.onMapCreateEvent, this),
                this
            }
        }, {
            key: "handleMapResizeEvent",
            value: function() {
                if (google.maps.event.trigger(this.map, "resize"),
                h.a.isNil(this.currentMarker))
                    this.centerMap();
                else {
                    var e = this.currentMarker.marker;
                    e && this.map.setCenter(e.getPosition())
                }
            }
        }, {
            key: "createMarkers",
            value: function(e) {
                var n = this
                  , i = new google.maps.Geocoder
                  , r = []
                  , t = !0
                  , a = !1
                  , o = void 0;
                try {
                    for (var s, l = function() {
                        var e = s.value;
                        if (h.a.isUndefined(e.lat) || h.a.isUndefined(e.lng)) {
                            var t = n.geolocateLocation(e, i);
                            t.then(function() {
                                n.addMarker(n.map, e)
                            }),
                            r.push(t)
                        } else
                            n.addMarker(n.map, e)
                    }, u = e[Symbol.iterator](); !(t = (s = u.next()).done); t = !0)
                        l()
                } catch (e) {
                    a = !0,
                    o = e
                } finally {
                    try {
                        t || null == u.return || u.return()
                    } finally {
                        if (a)
                            throw o
                    }
                }
                var c = Promise.all(r.map(d.a.reflectPromise));
                return c.then(function() {
                    n.opts.clustererPath && n.clusterMarkers(n.map, n.markers, n.opts.clustererSettings)
                }),
                c
            }
        }, {
            key: "geolocateLocation",
            value: function(r, e) {
                return new Promise(function(n, i) {
                    e.geocode({
                        address: r.address
                    }, function(e, t) {
                        if (t !== google.maps.GeocoderStatus.OK)
                            return i(t);
                        r.position = e[0].geometry.location,
                        n(r)
                    })
                }
                )
            }
        }, {
            key: "addMarker",
            value: function(e, t, n) {
                var i = 2 < arguments.length && void 0 !== n && n
                  , r = t.position || new google.maps.LatLng(t.lat,t.lng)
                  , a = this.opts.labelStyles
                  , o = {
                    map: e,
                    position: r,
                    visible: !0
                };
                this.opts.markerSettings && (o = h.a.merge({}, o, this.opts.markerSettings));
                var s = i ? "_active" : "_inactive";
                t.iconKey && (s = t.iconKey + s,
                this.markerIcons[s] && (o.icon = this.markerIcons[s])),
                this.opts.enableLabels && (o.label = {
                    text: this.opts.labels[this.markers.length]
                },
                h.a.forOwn(a, function(e, t) {
                    o.label[t] = e
                }));
                var l = new google.maps.Marker(o);
                l.__location = t,
                this.bindMarkerClickEvents(l),
                this.markers.push(l)
            }
        }, {
            key: "setupIcons",
            value: function() {
                var n = this;
                this.markerIcons = {
                    geo: this.createIcon(this.opts.geolocationIcon)
                },
                this.opts.markerStyles && h.a.forIn(this.opts.markerStyles, function(e, t) {
                    n.markerIcons["".concat(t, "_active")] = n.createIcon(e.active),
                    n.markerIcons["".concat(t, "_inactive")] = n.createIcon(e.inactive)
                })
            }
        }, {
            key: "createIcon",
            value: function(e, t) {
                var n = 1 < arguments.length && void 0 !== t && t
                  , i = {
                    url: e,
                    origin: new google.maps.Point(0,0)
                };
                if (this.opts.markerWidth && this.opts.markerHeight) {
                    var r = new google.maps.Size(this.opts.markerWidth,this.opts.markerHeight);
                    i.size = r,
                    i.scaledSize = r;
                    var a = Math.floor(this.opts.markerWidth / 2)
                      , o = n ? Math.floor(this.opts.markerHeight / 2) : this.opts.markerHeight;
                    i.anchor = new google.maps.Point(a,o)
                }
                return i
            }
        }, {
            key: "clusterMarkers",
            value: function(e, t, n) {
                MarkerClusterer && (this.clusteredMarkers = new MarkerClusterer(e,t,n))
            }
        }, {
            key: "getMapMarkers",
            value: function() {
                return this.clusteredMarkers ? this.clusteredMarkers.getMarkers() : this.markers
            }
        }, {
            key: "bindMarkerClickEvents",
            value: function(e) {
                var t, n, i = this, r = new google.maps.InfoWindow(this.opts.infoWindowSettings);
                google.maps.event.addListener(e, "click", (t = e,
                n = this,
                function() {
                    n.setActiveMarker(t, t.__location),
                    n.opts.zoomMapOnMarkerClick && n.zoomOnMarker(t),
                    n.opts.onMarkerClickEvent && i.publish(i.opts.onMarkerClickEvent, i.currentMarker),
                    i.opts.showInfowindow && (n.opts.allowMultipleInfoWindows || h.a.isNil(n.infoWindow) || n.infoWindow.close(),
                    i.infowindowTplPromise.then(function(e) {
                        r.setContent(e(t.__location)),
                        r.open(n.map, t)
                    }),
                    n.infoWindow = r)
                }
                )),
                google.maps.event.addListener(r, "closeclick", function() {
                    i.opts.onMarkerCloseEvent && i.publish(i.opts.onMarkerCloseEvent, i),
                    i.opts.centerMapOnMarkerClose && i.centerMap(),
                    i.infoWindow = null
                })
            }
        }, {
            key: "setActiveMarker",
            value: function(e) {
                this.currentMarker && this.currentMarker.__location && this.currentMarker.__location.iconKey && this.setMarkerIcon(this.currentMarker, this.currentMarker.__location.iconKey, !1),
                e.__location.iconKey && this.setMarkerIcon(e, e.__location.iconKey, !0),
                this.currentMarker = e
            }
        }, {
            key: "setMarkerIcon",
            value: function(e, t, n) {
                var i = t + (n ? "_active" : "_inactive");
                this.markerIcons[i] && e.setIcon(this.markerIcons[i])
            }
        }, {
            key: "zoomOnMarker",
            value: function(e, t) {
                t = t || this.opts.mapSettings.zoomOnClick,
                this.map.setZoom(t),
                this.map.setCenter(e.getPosition())
            }
        }, {
            key: "showMarkerOnMap",
            value: function(e) {
                e && google.maps.event.trigger(e, "click")
            }
        }, {
            key: "centerMap",
            value: function() {
                1 < this.markers.length ? this.extendMapBounds(this.markers) : 0 < this.markers.length && this.zoomOnMarker(this.markers[0])
            }
        }, {
            key: "extendMapBounds",
            value: function(e) {
                if (0 === (e = e || this.getMapMarkers()).length)
                    return !1;
                var t = new google.maps.LatLngBounds
                  , n = !0
                  , i = !1
                  , r = void 0;
                try {
                    for (var a, o = e[Symbol.iterator](); !(n = (a = o.next()).done); n = !0) {
                        var s = a.value;
                        t.extend(s.position)
                    }
                } catch (e) {
                    i = !0,
                    r = e
                } finally {
                    try {
                        n || null == o.return || o.return()
                    } finally {
                        if (i)
                            throw r
                    }
                }
                return this.map.fitBounds(t),
                !0
            }
        }, {
            key: "setGeolocationLatLng",
            value: function(e, t) {
                if (e && t) {
                    var n = {
                        position: new google.maps.LatLng(e,t),
                        map: this.map,
                        icon: this.markerIcons.geo,
                        clickable: !1,
                        draggable: !1
                    };
                    return this.geolocationMarker && this.geolocationMarker.setMap(null),
                    this.geolocationMarker = new google.maps.Marker(n),
                    this.geolocationMarker
                }
                this.geolocationMarker && (this.geolocationMarker.setMap(null),
                this.geolocationMarker = null)
            }
        }, {
            key: "clearMarkers",
            value: function() {
                this.clusteredMarkers && this.clusteredMarkers.clearMarkers();
                var e = !0
                  , t = !1
                  , n = void 0;
                try {
                    for (var i, r = this.markers[Symbol.iterator](); !(e = (i = r.next()).done); e = !0) {
                        i.value.setMap(null)
                    }
                } catch (e) {
                    t = !0,
                    n = e
                } finally {
                    try {
                        e || null == r.return || r.return()
                    } finally {
                        if (t)
                            throw n
                    }
                }
                this.markers = []
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return d
    });
    var i = n(0)
      , p = n.n(i)
      , r = n(1)
      , f = n.n(r)
      , a = (n(229),
    n(563),
    n(3));
    function o(e) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function l(e, t) {
        return !t || "object" !== o(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function u(e, t, n) {
        return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function c(e) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function h(e, t) {
        return (h = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var d = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = f.a.merge({}, {
                formSelector: null,
                formElementsSelector: "input, select, textarea",
                throwEventOnError: "validation/content-changed",
                throwEventOnSuccess: "validation/content-changed",
                validationOpts: {
                    focusInvalid: !1,
                    validClass: "valid",
                    errorClass: "invalid",
                    showErrors: null,
                    onfocusin: null,
                    onfocusout: null,
                    focusCleanup: !0,
                    onkeyup: !1,
                    ignore: ":hidden:not(.force-validation)"
                },
                customValidators: {},
                defaultErrors: !1,
                additionalHideErrors: "",
                customMethodsPath: "validation-rules/"
            }, t),
            l(this, c(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && h(e, t)
        }(i, a["a"]),
        function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(i, [{
            key: "start",
            value: function() {
                u(c(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                u(c(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                u(c(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                f.a.isNil(this.opts.validationOpts.showErrors) && (this.opts.validationOpts.showErrors = this.showErrors.bind(this)),
                f.a.isNil(this.opts.validationOpts.onfocusin) && (this.opts.validationOpts.onfocusin = this.hideErrors.bind(this)),
                f.a.isNil(this.opts.validationOpts.onfocusout) && (this.opts.validationOpts.onfocusout = this.onFocusOut.bind(this)),
                this.$form = this.$element.find(this.opts.formSelector),
                !1 === this.opts.validationOpts.onfocusout && (this.opts.validationOpts.onfocusout = this.hideErrors.bind(this)),
                this.$form.validate(this.opts.validationOpts),
                this.loadCustomMethods()
            }
        }, {
            key: "loadCustomMethods",
            value: function() {
                f.a.forOwn(this.opts.customValidators, function(e, t) {
                    f.a.isFunction(e) && p.a.validator.addMethod(t, e)
                })
            }
        }, {
            key: "showErrors",
            value: function(e, t) {
                var n = !0
                  , i = !1
                  , r = void 0;
                try {
                    for (var a, o = t[Symbol.iterator](); !(n = (a = o.next()).done); n = !0) {
                        var s = a.value
                          , l = p()(s.element)
                          , u = l.siblings('[for="' + l.attr("id") + '"]')
                          , c = l.data("error-".concat(s.method))
                          , h = this.$element.find("#".concat(c));
                        l.addClass(this.opts.validationOpts.errorClass),
                        h.addClass(this.opts.validationOpts.errorClass),
                        !f.a.isNil(u) && this.opts.labelsGetErrorClass && u.addClass(this.opts.validationOpts.errorClass),
                        this.opts.defaultErrors && "" === h.text() && h.html(s.message)
                    }
                } catch (e) {
                    i = !0,
                    r = e
                } finally {
                    try {
                        n || null == o.return || o.return()
                    } finally {
                        if (i)
                            throw r
                    }
                }
                var d = 0 < t.length ? this.opts.throwEventOnError : this.opts.throwEventOnSuccess;
                this.publish(d)
            }
        }, {
            key: "hideErrors",
            value: function(e) {
                var n = this
                  , t = p()(e)
                  , i = t.siblings('[for="' + t.attr("id") + '"]');
                f.a.forOwn(t.data(), function(e, t) {
                    t.includes("error") && n.$element.find("#".concat(e)).removeClass(n.opts.validationOpts.errorClass)
                }),
                f.a.isFunction(this.opts.additionalHideErrors) && this.opts.additionalHideErrors.bind(this)(t),
                t.removeClass(this.opts.validationOpts.errorClass),
                !f.a.isNil(i) && this.opts.labelsGetErrorClass && i.removeClass(this.opts.validationOpts.errorClass)
            }
        }, {
            key: "onFocusOut",
            value: function(e) {
                i.trimSpace(e),
                this.hideErrors(e),
                p()(e).valid()
            }
        }], [{
            key: "trimSpace",
            value: function(e) {
                try {
                    var t = p()(e)
                      , n = f.a.isFunction(t.val().trim) ? t.val().trim() : t.val();
                    t.val(n)
                } catch (e) {}
            }
        }, {
            key: "regularExp",
            value: function(e, t) {
                var n = new RegExp(p()(t).data("regular"));
                return n.test(e)
            }
        }, {
            key: "equalsTo",
            value: function(e, t) {
                var n = p()(t)
                  , i = n.data("equals-to")
                  , r = n.parents("form").find("#".concat(i));
                return r.length && r.val() === n.val()
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return l
    });
    var i = n(0)
      , r = n.n(i)
      , a = n(1)
      , o = n.n(a);
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var l = function() {
        function e() {
            if (function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.constructor === e)
                throw new TypeError("Cannot construct TemplateHelper instances directly")
        }
        return function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(e, null, [{
            key: "getTemplatePromise",
            value: function(e, t) {
                var n = 1 < arguments.length && void 0 !== t ? t : "tplData";
                return new Promise(function(t) {
                    r.a.ajax({
                        url: e,
                        dataType: "text"
                    }).done(function(e) {
                        o.a.templateSettings.variable = n,
                        t(o.a.template(e))
                    })
                }
                )
            }
        }, {
            key: "reflectPromise",
            value: function(e) {
                return e.then(function(e) {
                    return {
                        v: e,
                        status: "resolved"
                    }
                }, function(e) {
                    return {
                        e: e,
                        status: "rejected"
                    }
                })
            }
        }]),
        e
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return l
    });
    var i = n(0)
      , r = n.n(i)
      , a = n(1)
      , o = n.n(a);
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var l = function() {
        function e() {
            if (function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.constructor === e)
                throw new TypeError("Cannot construct TemplateHelper instances directly")
        }
        return function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(e, null, [{
            key: "getTemplatePromise",
            value: function(e, t) {
                var n = 1 < arguments.length && void 0 !== t ? t : "tplData";
                return new Promise(function(t) {
                    r.a.ajax({
                        url: e,
                        dataType: "text"
                    }).done(function(e) {
                        o.a.templateSettings.variable = n,
                        t(o.a.template(e))
                    })
                }
                )
            }
        }, {
            key: "reflectPromise",
            value: function(e) {
                return e.then(function(e) {
                    return {
                        v: e,
                        status: "resolved"
                    }
                }, function(e) {
                    return {
                        e: e,
                        status: "rejected"
                    }
                })
            }
        }]),
        e
    }()
}
, function(e, t, n) {
    var i = n(34);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == i(e) ? e.split("") : Object(e)
    }
}
, function(e, t) {
    t.f = {}.propertyIsEnumerable
}
, function(e, t, n) {
    var r = n(34)
      , a = n(9)("toStringTag")
      , o = "Arguments" == r(function() {
        return arguments
    }());
    e.exports = function(e) {
        var t, n, i;
        return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function(e, t) {
            try {
                return e[t]
            } catch (e) {}
        }(t = Object(e), a)) ? n : o ? r(t) : "Object" == (i = r(t)) && "function" == typeof t.callee ? "Arguments" : i
    }
}
, function(e, t, n) {
    var r = n(7)
      , a = n(28)
      , o = n(9)("species");
    e.exports = function(e, t) {
        var n, i = r(e).constructor;
        return void 0 === i || null == (n = r(i)[o]) ? t : a(n)
    }
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return []
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e) {
            return null != e && e === e.window
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        var t = /^-ms-/
          , n = /-([a-z])/g;
        function i(e, t) {
            return t.toUpperCase()
        }
        return function(e) {
            return e.replace(t, "ms-").replace(n, i)
        }
    }
    .apply(t, [])) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(80), n(39), n(144), n(147), n(217), n(145), n(218), n(532), n(219), n(209), n(220), n(148), n(221), n(26), n(204), n(18)],
    void 0 === (r = function(c, n, h, l, d, u, p, f, m, i, g, v, e, y, b) {
        "use strict";
        var r = /^(none|table(?!-c[ea]).+)/
          , a = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }
          , _ = {
            letterSpacing: "0",
            fontWeight: "400"
        };
        function w(e, t, n) {
            var i = d.exec(t);
            return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : t
        }
        function x(e, t, n, i, r, a) {
            var o = "width" === t ? 1 : 0
              , s = 0
              , l = 0;
            if (n === (i ? "border" : "content"))
                return 0;
            for (; o < 4; o += 2)
                "margin" === n && (l += c.css(e, n + f[o], !0, r)),
                i ? ("content" === n && (l -= c.css(e, "padding" + f[o], !0, r)),
                "margin" !== n && (l -= c.css(e, "border" + f[o] + "Width", !0, r))) : (l += c.css(e, "padding" + f[o], !0, r),
                "padding" !== n ? l += c.css(e, "border" + f[o] + "Width", !0, r) : s += c.css(e, "border" + f[o] + "Width", !0, r));
            return !i && 0 <= a && (l += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - a - l - s - .5)) || 0),
            l
        }
        function o(e, t, n) {
            var i = m(e)
              , r = (!y.boxSizingReliable() || n) && "border-box" === c.css(e, "boxSizing", !1, i)
              , a = r
              , o = g(e, t, i)
              , s = "offset" + t[0].toUpperCase() + t.slice(1);
            if (u.test(o)) {
                if (!n)
                    return o;
                o = "auto"
            }
            return (!y.boxSizingReliable() && r || !y.reliableTrDimensions() && l(e, "tr") || "auto" === o || !parseFloat(o) && "inline" === c.css(e, "display", !1, i)) && e.getClientRects().length && (r = "border-box" === c.css(e, "boxSizing", !1, i),
            (a = s in e) && (o = e[s])),
            (o = parseFloat(o) || 0) + x(e, t, n || (r ? "border" : "content"), a, i, o) + "px"
        }
        return c.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = g(e, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(e, t, n, i) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var r, a, o, s = h(t), l = p.test(t), u = e.style;
                    if (l || (t = b(s)),
                    o = c.cssHooks[t] || c.cssHooks[s],
                    void 0 === n)
                        return o && "get"in o && void 0 !== (r = o.get(e, !1, i)) ? r : u[t];
                    "string" === (a = typeof n) && (r = d.exec(n)) && r[1] && (n = v(e, t, r),
                    a = "number"),
                    null != n && n == n && ("number" !== a || l || (n += r && r[3] || (c.cssNumber[s] ? "" : "px")),
                    y.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (u[t] = "inherit"),
                    o && "set"in o && void 0 === (n = o.set(e, n, i)) || (l ? u.setProperty(t, n) : u[t] = n))
                }
            },
            css: function(e, t, n, i) {
                var r, a, o, s = h(t);
                return p.test(t) || (t = b(s)),
                (o = c.cssHooks[t] || c.cssHooks[s]) && "get"in o && (r = o.get(e, !0, n)),
                void 0 === r && (r = g(e, t, i)),
                "normal" === r && t in _ && (r = _[t]),
                "" === n || n ? (a = parseFloat(r),
                !0 === n || isFinite(a) ? a || 0 : r) : r
            }
        }),
        c.each(["height", "width"], function(e, l) {
            c.cssHooks[l] = {
                get: function(e, t, n) {
                    if (t)
                        return !r.test(c.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? o(e, l, n) : i(e, a, function() {
                            return o(e, l, n)
                        })
                },
                set: function(e, t, n) {
                    var i, r = m(e), a = !y.scrollboxSize() && "absolute" === r.position, o = (a || n) && "border-box" === c.css(e, "boxSizing", !1, r), s = n ? x(e, l, n, o, r) : 0;
                    return o && a && (s -= Math.ceil(e["offset" + l[0].toUpperCase() + l.slice(1)] - parseFloat(r[l]) - x(e, l, "border", !1, r) - .5)),
                    s && (i = d.exec(t)) && "px" !== (i[3] || "px") && (e.style[l] = t,
                    t = c.css(e, l)),
                    w(0, t, s)
                }
            }
        }),
        c.cssHooks.marginLeft = e(y.reliableMarginLeft, function(e, t) {
            if (t)
                return (parseFloat(g(e, "marginLeft")) || e.getBoundingClientRect().left - i(e, {
                    marginLeft: 0
                }, function() {
                    return e.getBoundingClientRect().left
                })) + "px"
        }),
        c.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(r, a) {
            c.cssHooks[r + a] = {
                expand: function(e) {
                    for (var t = 0, n = {}, i = "string" == typeof e ? e.split(" ") : [e]; t < 4; t++)
                        n[r + f[t] + a] = i[t] || i[t - 2] || i[0];
                    return n
                }
            },
            "margin" !== r && (c.cssHooks[r + a].set = w)
        }),
        c.fn.extend({
            css: function(e, t) {
                return n(this, function(e, t, n) {
                    var i, r, a = {}, o = 0;
                    if (Array.isArray(t)) {
                        for (i = m(e),
                        r = t.length; o < r; o++)
                            a[t[o]] = c.css(e, t[o], !1, i);
                        return a
                    }
                    return void 0 !== n ? c.style(e, t, n) : c.css(e, t)
                }, e, t, 1 < arguments.length)
            }
        }),
        c
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t) {
    function n() {
        return e.exports = n = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n)
                    Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }
        ,
        e.exports.default = e.exports,
        e.exports.__esModule = !0,
        n.apply(this, arguments)
    }
    e.exports = n,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return g
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i)
      , o = n(0)
      , s = n.n(o)
      , l = n(155)
      , u = n.n(l);
    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== c(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var g = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                playerId: "video_1",
                fireFullScreenEndEvent: !0,
                parent: ".swiper-container",
                parentBtns: ".swiper-btn",
                hideClass: "swiper-btn--on-video",
                onPluginStopVideoDispose: !0,
                controls: !0,
                fluid: !0,
                techOrder: ["html5", "youtube"],
                initializeOnEvent: "",
                eventOnVideoEnd: "",
                picturePlayTriggerSelector: ".fp-play-video-trigger",
                youtube: {
                    ytControls: !0
                },
                "data-tag-started": [],
                "data-tag-paused": [],
                "data-tag-ended": []
            }, t),
            d(this, f(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(i, [{
            key: "start",
            value: function() {
                p(f(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                p(f(i.prototype), "stop", this).call(this),
                this.player && (this.opts.onPluginStopVideoDispose ? this.removeVideo() : this.player.pause())
            }
        }, {
            key: "resume",
            value: function() {
                p(f(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                window.dataLayer = window.dataLayer || [],
                this.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                this.alreadyPlayed = !1,
                this.$element.attr("plugin-id", this.pluginId),
                this.element = this.$element.get(0),
                this.playTrigger = this.element.querySelector(this.opts.picturePlayTriggerSelector),
                this.boundAddParentButtons = this.addParentButtons.bind(this),
                this.boundRemoveParentButtons = this.removeParentButtons.bind(this),
                this.videoPicture = this.element.querySelector("picture"),
                this.pictureWrapper = this.videoPicture.parentNode,
                this.isMobile ? (this.videoPicture.style.pointerEvents = "none",
                this.$element.on("click", ".fp-play-video-trigger", function() {
                    e.enableSpinner()
                }),
                this.playerInit()) : this.playTrigger.classList.remove("is-hidden"),
                this.on(this.playTrigger, "click", this.playerInit.bind(this)),
                this.on(this.playTrigger, "click", this.videoTagging.bind(this)),
                this.manageAutoplay(),
                this.subscribe("remove-player-" + this.pluginId, this.removeVideo.bind(this)),
                this.subscribe("init-player-" + this.pluginId, this.playerInit.bind(this)),
                this.subscribe("pause-player-" + this.pluginId, this.playerPause.bind(this)),
                this.opts.initializeOnEvent && this.subscribe(this.opts.initializeOnEvent, function() {
                    e.playerInit()
                })
            }
        }, {
            key: "getRandomId",
            value: function() {
                return "v_" + Math.floor(65536 * (1 + Math.random() + Date.now())).toString(16).substring(10)
            }
        }, {
            key: "manageAutoplay",
            value: function() {
                this.isMobile || !0 !== this.opts.autoplay || this.playTrigger.click()
            }
        }, {
            key: "videoTagging",
            value: function() {
                var e = this.opts.sources[0].src.split("/").pop();
                "video/youtube" !== this.opts.sources[0].type && window.dataLayer.push({
                    event: "videoPlay",
                    videoName: e
                })
            }
        }, {
            key: "playerInit",
            value: function() {
                var t = this;
                "object" !== c(this.player) ? (this.playerAppend(),
                this.player.on("playing", function() {
                    t.disableSpinner(),
                    t.player.eventBusEl_.classList.remove("is-not-visible"),
                    t.hidePicture()
                }),
                this.player.one("ready", function() {
                    t.playTrigger.classList.remove("is-hidden")
                }),
                this.player.on("play", this.boundAddParentButtons),
                this.player.on("pause", this.boundRemoveParentButtons),
                this.player.on("ended", this.boundRemoveParentButtons),
                this.player.on("play", function() {
                    var e = t.cloneObject(t.$element.data("tag"));
                    e.eventAction = "Play Video",
                    t.publish("videoPlayer/video-started", e)
                }),
                this.player.on("pause", function() {
                    var e = t.cloneObject(t.$element.data("tag"));
                    e.eventAction = "Pause Video",
                    t.publish("videoPlayer/video-paused", e)
                }),
                this.player.on("ended", function() {
                    t.cloneObject(t.$element.data("tag")).eventAction = "End Video",
                    t.changePlayToReplay(),
                    t.showPicture(),
                    t.publish("recalculate-cause-video"),
                    t.opts.eventOnVideoEnd && t.publish(t.opts.eventOnVideoEnd)
                }),
                this.$playerParent = this.$element.closest(".swiper-container"),
                this.$playerParentButtons = this.$playerParent.find(this.opts.parentBtns)) : this.playVideo()
            }
        }, {
            key: "changePlayToReplay",
            value: function() {
                this.playTrigger.classList.add("replay-icon")
            }
        }, {
            key: "playerAppend",
            value: function() {
                var e = this.getRandomId()
                  , t = document.createElement("video");
                t.classList.add("video-js", "vjs-default-skin", "vjs-big-play-centered"),
                t.id = e,
                this.isMobile || t.setAttribute("autoplay", "true"),
                t.setAttribute("playsinline", ""),
                this.element.appendChild(t),
                this.player = u()(e, this.opts),
                this.poster = this.player.posterImage.el_,
                this.player.eventBusEl_.classList.add("is-not-visible"),
                this.player.eventBusEl_.classList.add("is-absolute"),
                this.player.bigPlayButton.addClass("swiper-no-swiping"),
                this.player.controlBar.addClass("swiper-no-swiping"),
                !0 === this.isMobile ? this.alreadyPlayed = !0 : (this.playVideo(),
                this.enableSpinner())
            }
        }, {
            key: "enableSpinner",
            value: function() {
                this.pictureWrapper.classList.contains("vjs-waiting") ? this.player.play() : (this.pictureWrapper.classList.add("vjs-waiting"),
                this.isMobile && this.player.play())
            }
        }, {
            key: "disableSpinner",
            value: function() {
                this.pictureWrapper.classList.remove("vjs-waiting")
            }
        }, {
            key: "pauseVideo",
            value: function() {
                this.player && this.player.pause()
            }
        }, {
            key: "playVideo",
            value: function() {
                this.player && this.player.play()
            }
        }, {
            key: "hidePicture",
            value: function() {
                this.videoPicture.classList.add("is-hidden"),
                this.pictureWrapper.classList.remove("is-above"),
                this.pictureWrapper.classList.add("is-not-visible"),
                this.player && this.player.eventBusEl_.classList.remove("is-absolute")
            }
        }, {
            key: "showPicture",
            value: function() {
                this.videoPicture.classList.remove("is-hidden"),
                this.pictureWrapper.classList.remove("is-not-visible"),
                this.pictureWrapper.classList.add("is-above"),
                this.player && this.player.eventBusEl_.classList.add("is-absolute")
            }
        }, {
            key: "playerIsActive",
            value: function() {
                return !1 !== this.player
            }
        }, {
            key: "removeVideo",
            value: function() {
                this.player && (this.showPicture(),
                this.player.dispose(),
                this.player.off(),
                this.player = !1)
            }
        }, {
            key: "cloneObject",
            value: function(t) {
                var n = {};
                return s.a.each(t, function(e) {
                    n[e] = t[e]
                }),
                n
            }
        }, {
            key: "addParentButtons",
            value: function() {
                this.$playerParentButtons.addClass(this.opts.hideClass)
            }
        }, {
            key: "removeParentButtons",
            value: function() {
                this.$playerParentButtons.removeClass(this.opts.hideClass)
            }
        }, {
            key: "playerPause",
            value: function() {
                this.player && this.player.pause()
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    var i = n(152);
    e.exports = function(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        i(e, t)
    }
    ,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t, n) {
    var i = n(11)
      , r = n(5)
      , a = "__core-js_shared__"
      , o = r[a] || (r[a] = {});
    (e.exports = function(e, t) {
        return o[e] || (o[e] = void 0 !== t ? t : {})
    }
    )("versions", []).push({
        version: i.version,
        mode: n(44) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}
, function(e, t, n) {
    var l = n(23)
      , u = n(10)
      , c = n(46);
    e.exports = function(s) {
        return function(e, t, n) {
            var i, r = l(e), a = u(r.length), o = c(n, a);
            if (s && t != t) {
                for (; o < a; )
                    if ((i = r[o++]) != i)
                        return !0
            } else
                for (; o < a; o++)
                    if ((s || o in r) && r[o] === t)
                        return s || o || 0;
            return !s && -1
        }
    }
}
, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}
, function(e, t, n) {
    var i = n(34);
    e.exports = Array.isArray || function(e) {
        return "Array" == i(e)
    }
}
, function(e, t, n) {
    var a = n(9)("iterator")
      , o = !1;
    try {
        var i = [7][a]();
        i.return = function() {
            o = !0
        }
        ,
        Array.from(i, function() {
            throw 2
        })
    } catch (e) {}
    e.exports = function(e, t) {
        if (!t && !o)
            return !1;
        var n = !1;
        try {
            var i = [7]
              , r = i[a]();
            r.next = function() {
                return {
                    done: n = !0
                }
            }
            ,
            i[a] = function() {
                return r
            }
            ,
            e(i)
        } catch (e) {}
        return n
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(7);
    e.exports = function() {
        var e = i(this)
          , t = "";
        return e.global && (t += "g"),
        e.ignoreCase && (t += "i"),
        e.multiline && (t += "m"),
        e.unicode && (t += "u"),
        e.sticky && (t += "y"),
        t
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(76)
      , a = RegExp.prototype.exec;
    e.exports = function(e, t) {
        var n = e.exec;
        if ("function" == typeof n) {
            var i = n.call(e, t);
            if ("object" != typeof i)
                throw new TypeError("RegExp exec method returned something other than an Object or null");
            return i
        }
        if ("RegExp" !== r(e))
            throw new TypeError("RegExp#exec called on incompatible receiver");
        return a.call(e, t)
    }
}
, function(e, t, n) {
    "use strict";
    n(181);
    var c = n(19)
      , h = n(22)
      , d = n(6)
      , p = n(35)
      , f = n(9)
      , m = n(132)
      , g = f("species")
      , v = !d(function() {
        var e = /./;
        return e.exec = function() {
            var e = [];
            return e.groups = {
                a: "7"
            },
            e
        }
        ,
        "7" !== "".replace(e, "$<a>")
    })
      , y = function() {
        var e = /(?:)/
          , t = e.exec;
        e.exec = function() {
            return t.apply(this, arguments)
        }
        ;
        var n = "ab".split(e);
        return 2 === n.length && "a" === n[0] && "b" === n[1]
    }();
    e.exports = function(n, e, t) {
        var i = f(n)
          , a = !d(function() {
            var e = {};
            return e[i] = function() {
                return 7
            }
            ,
            7 != ""[n](e)
        })
          , r = a ? !d(function() {
            var e = !1
              , t = /a/;
            return t.exec = function() {
                return e = !0,
                null
            }
            ,
            "split" === n && (t.constructor = {},
            t.constructor[g] = function() {
                return t
            }
            ),
            t[i](""),
            !e
        }) : void 0;
        if (!a || !r || "replace" === n && !v || "split" === n && !y) {
            var o = /./[i]
              , s = t(p, i, ""[n], function(e, t, n, i, r) {
                return t.exec === m ? a && !r ? {
                    done: !0,
                    value: o.call(t, n, i)
                } : {
                    done: !0,
                    value: e.call(n, t, i)
                } : {
                    done: !1
                }
            })
              , l = s[0]
              , u = s[1];
            c(String.prototype, n, l),
            h(RegExp.prototype, i, 2 == e ? function(e, t) {
                return u.call(e, this, t)
            }
            : function(e) {
                return u.call(e, this)
            }
            )
        }
    }
}
, function(e, t, n) {
    var d = n(27)
      , p = n(176)
      , f = n(127)
      , m = n(7)
      , g = n(10)
      , v = n(129)
      , y = {}
      , b = {};
    (t = e.exports = function(e, t, n, i, r) {
        var a, o, s, l, u = r ? function() {
            return e
        }
        : v(e), c = d(n, i, t ? 2 : 1), h = 0;
        if ("function" != typeof u)
            throw TypeError(e + " is not iterable!");
        if (f(u)) {
            for (a = g(e.length); h < a; h++)
                if ((l = t ? c(m(o = e[h])[0], o[1]) : c(e[h])) === y || l === b)
                    return l
        } else
            for (s = u.call(e); !(o = s.next()).done; )
                if ((l = p(s, c, o.value, t)) === y || l === b)
                    return l
    }
    ).BREAK = y,
    t.RETURN = b
}
, function(e, t, n) {
    var i = n(5).navigator;
    e.exports = i && i.userAgent || ""
}
, function(e, t, n) {
    "use strict";
    var v = n(5)
      , y = n(2)
      , b = n(19)
      , _ = n(63)
      , w = n(38)
      , x = n(93)
      , T = n(62)
      , S = n(8)
      , E = n(6)
      , C = n(89)
      , M = n(58)
      , k = n(118);
    e.exports = function(i, e, t, n, r, a) {
        function o(e) {
            var n = c[e];
            b(c, e, "delete" == e ? function(e) {
                return !(a && !S(e)) && n.call(this, 0 === e ? 0 : e)
            }
            : "has" == e ? function(e) {
                return !(a && !S(e)) && n.call(this, 0 === e ? 0 : e)
            }
            : "get" == e ? function(e) {
                return a && !S(e) ? void 0 : n.call(this, 0 === e ? 0 : e)
            }
            : "add" == e ? function(e) {
                return n.call(this, 0 === e ? 0 : e),
                this
            }
            : function(e, t) {
                return n.call(this, 0 === e ? 0 : e, t),
                this
            }
            )
        }
        var s = v[i]
          , l = s
          , u = r ? "set" : "add"
          , c = l && l.prototype
          , h = {};
        if ("function" == typeof l && (a || c.forEach && !E(function() {
            (new l).entries().next()
        }))) {
            var d = new l
              , p = d[u](a ? {} : -0, 1) != d
              , f = E(function() {
                d.has(1)
            })
              , m = C(function(e) {
                new l(e)
            })
              , g = !a && E(function() {
                for (var e = new l, t = 5; t--; )
                    e[u](t, t);
                return !e.has(-0)
            });
            m || (((l = e(function(e, t) {
                T(e, l, i);
                var n = k(new s, e, l);
                return null != t && x(t, r, n[u], n),
                n
            })).prototype = c).constructor = l),
            (f || g) && (o("delete"),
            o("has"),
            r && o("get")),
            (g || p) && o(u),
            a && c.clear && delete c.clear
        } else
            l = n.getConstructor(e, i, r, u),
            _(l.prototype, t),
            w.NEED = !0;
        return M(l, i),
        h[i] = l,
        y(y.G + y.W + y.F * (l != s), h),
        a || n.setStrong(l, i, r),
        l
    }
}
, function(e, t, n) {
    for (var i, r = n(5), a = n(22), o = n(43), s = o("typed_array"), l = o("view"), u = !(!r.ArrayBuffer || !r.DataView), c = u, h = 0, d = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); h < 9; )
        (i = r[d[h++]]) ? (a(i.prototype, s, !0),
        a(i.prototype, l, !0)) : c = !1;
    e.exports = {
        ABV: u,
        CONSTR: c,
        TYPED: s,
        VIEW: l
    }
}
, function(e, t, n) {
    var i, r;
    i = [n(78)],
    void 0 === (r = function(e) {
        "use strict";
        return e.slice
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return {}
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e) {
            return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(101), n(18)],
    void 0 === (r = function(t, e) {
        "use strict";
        var n = function(e) {
            return t.contains(e.ownerDocument, e)
        }
          , i = {
            composed: !0
        };
        return e.getRootNode && (n = function(e) {
            return t.contains(e.ownerDocument, e) || e.getRootNode(i) === e.ownerDocument
        }
        ),
        n
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(16)],
    void 0 === (r = function(e) {
        "use strict";
        return e.documentElement
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(100), n(196), n(14), n(197), n(146), n(54), n(210), n(211), n(212), n(214), n(215), n(216), n(213), n(33), n(206), n(99), n(200), n(39), n(26), n(65), n(18), n(67)],
    void 0 === (r = function(m, d, g, v, s, p, t, r, y, a, b, f, _, w, x, l, o, T, n) {
        "use strict";
        var u = /<script|<style|<link/i
          , S = /checked\s*(?:[^=]|=\s*.checked.)/i
          , E = /^\s*<!\[CDATA\[|\]\]>\s*$/g;
        function i(e, t) {
            return n(e, "table") && n(11 !== t.nodeType ? t : t.firstChild, "tr") && m(e).children("tbody")[0] || e
        }
        function C(e) {
            return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
            e
        }
        function M(e) {
            return "true/" === (e.type || "").slice(0, 5) ? e.type = e.type.slice(5) : e.removeAttribute("type"),
            e
        }
        function k(e, t) {
            var n, i, r, a, o, s;
            if (1 === t.nodeType) {
                if (x.hasData(e) && (s = x.get(e).events))
                    for (r in x.remove(t, "handle events"),
                    s)
                        for (n = 0,
                        i = s[r].length; n < i; n++)
                            m.event.add(t, r, s[r][n]);
                l.hasData(e) && (a = l.access(e),
                o = m.extend({}, a),
                l.set(t, o))
            }
        }
        function P(n, i, r, a) {
            i = g(i);
            var e, t, o, s, l, u, c = 0, h = n.length, d = h - 1, p = i[0], f = v(p);
            if (f || 1 < h && "string" == typeof p && !w.checkClone && S.test(p))
                return n.each(function(e) {
                    var t = n.eq(e);
                    f && (i[0] = p.call(this, e, t.html())),
                    P(t, i, r, a)
                });
            if (h && (t = (e = _(i, n[0].ownerDocument, !1, n, a)).firstChild,
            1 === e.childNodes.length && (e = t),
            t || a)) {
                for (s = (o = m.map(b(e, "script"), C)).length; c < h; c++)
                    l = e,
                    c !== d && (l = m.clone(l, !0, !0),
                    s && m.merge(o, b(l, "script"))),
                    r.call(n[c], l, c);
                if (s)
                    for (u = o[o.length - 1].ownerDocument,
                    m.map(o, M),
                    c = 0; c < s; c++)
                        l = o[c],
                        y.test(l.type || "") && !x.access(l, "globalEval") && m.contains(u, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? m._evalUrl && !l.noModule && m._evalUrl(l.src, {
                            nonce: l.nonce || l.getAttribute("nonce")
                        }, u) : T(l.textContent.replace(E, ""), l, u))
            }
            return n
        }
        function c(e, t, n) {
            for (var i, r = t ? m.filter(t, e) : e, a = 0; null != (i = r[a]); a++)
                n || 1 !== i.nodeType || m.cleanData(b(i)),
                i.parentNode && (n && d(i) && f(b(i, "script")),
                i.parentNode.removeChild(i));
            return e
        }
        return m.extend({
            htmlPrefilter: function(e) {
                return e
            },
            clone: function(e, t, n) {
                var i, r, a, o, s, l, u, c = e.cloneNode(!0), h = d(e);
                if (!(w.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || m.isXMLDoc(e)))
                    for (o = b(c),
                    i = 0,
                    r = (a = b(e)).length; i < r; i++)
                        s = a[i],
                        l = o[i],
                        void 0,
                        "input" === (u = l.nodeName.toLowerCase()) && p.test(s.type) ? l.checked = s.checked : "input" !== u && "textarea" !== u || (l.defaultValue = s.defaultValue);
                if (t)
                    if (n)
                        for (a = a || b(e),
                        o = o || b(c),
                        i = 0,
                        r = a.length; i < r; i++)
                            k(a[i], o[i]);
                    else
                        k(e, c);
                return 0 < (o = b(c, "script")).length && f(o, !h && b(e, "script")),
                c
            },
            cleanData: function(e) {
                for (var t, n, i, r = m.event.special, a = 0; void 0 !== (n = e[a]); a++)
                    if (o(n)) {
                        if (t = n[x.expando]) {
                            if (t.events)
                                for (i in t.events)
                                    r[i] ? m.event.remove(n, i) : m.removeEvent(n, i, t.handle);
                            n[x.expando] = void 0
                        }
                        n[l.expando] && (n[l.expando] = void 0)
                    }
            }
        }),
        m.fn.extend({
            detach: function(e) {
                return c(this, e, !0)
            },
            remove: function(e) {
                return c(this, e)
            },
            text: function(e) {
                return t(this, function(e) {
                    return void 0 === e ? m.text(this) : this.empty().each(function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                    })
                }, null, e, arguments.length)
            },
            append: function() {
                return P(this, arguments, function(e) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || i(this, e).appendChild(e)
                })
            },
            prepend: function() {
                return P(this, arguments, function(e) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = i(this, e);
                        t.insertBefore(e, t.firstChild)
                    }
                })
            },
            before: function() {
                return P(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this)
                })
            },
            after: function() {
                return P(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                })
            },
            empty: function() {
                for (var e, t = 0; null != (e = this[t]); t++)
                    1 === e.nodeType && (m.cleanData(b(e, !1)),
                    e.textContent = "");
                return this
            },
            clone: function(e, t) {
                return e = null != e && e,
                t = null == t ? e : t,
                this.map(function() {
                    return m.clone(this, e, t)
                })
            },
            html: function(e) {
                return t(this, function(e) {
                    var t = this[0] || {}
                      , n = 0
                      , i = this.length;
                    if (void 0 === e && 1 === t.nodeType)
                        return t.innerHTML;
                    if ("string" == typeof e && !u.test(e) && !a[(r.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = m.htmlPrefilter(e);
                        try {
                            for (; n < i; n++)
                                1 === (t = this[n] || {}).nodeType && (m.cleanData(b(t, !1)),
                                t.innerHTML = e);
                            t = 0
                        } catch (e) {}
                    }
                    t && this.empty().append(e)
                }, null, e, arguments.length)
            },
            replaceWith: function() {
                var n = [];
                return P(this, arguments, function(e) {
                    var t = this.parentNode;
                    m.inArray(this, n) < 0 && (m.cleanData(b(this)),
                    t && t.replaceChild(e, this))
                }, n)
            }
        }),
        m.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(e, o) {
            m.fn[e] = function(e) {
                for (var t, n = [], i = m(e), r = i.length - 1, a = 0; a <= r; a++)
                    t = a === r ? this : this.clone(!0),
                    m(i[a])[o](t),
                    s.apply(n, t.get());
                return this.pushStack(n)
            }
        }),
        m
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        return void 0 === t && (t = Object),
        t && "function" == typeof t.freeze ? t.freeze(e) : e
    }
    var r = i({
        HTML: "text/html",
        isHTML: function(e) {
            return e === r.HTML
        },
        XML_APPLICATION: "application/xml",
        XML_TEXT: "text/xml",
        XML_XHTML_APPLICATION: "application/xhtml+xml",
        XML_SVG_IMAGE: "image/svg+xml"
    })
      , a = i({
        HTML: "http://www.w3.org/1999/xhtml",
        isHTML: function(e) {
            return e === a.HTML
        },
        SVG: "http://www.w3.org/2000/svg",
        XML: "http://www.w3.org/XML/1998/namespace",
        XMLNS: "http://www.w3.org/2000/xmlns/"
    });
    t.freeze = i,
    t.MIME_TYPE = r,
    t.NAMESPACE = a
}
, function(e, t, n) {
    var i, c, r, a, h;
    i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,
    c = /^([^\/?#]*)([^]*)$/,
    r = /(?:\/|^)\.(?=\/)/g,
    a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
    h = {
        buildAbsoluteURL: function(e, t, n) {
            if (n = n || {},
            e = e.trim(),
            !(t = t.trim())) {
                if (!n.alwaysNormalize)
                    return e;
                var i = h.parseURL(e);
                if (!i)
                    throw new Error("Error trying to parse base URL.");
                return i.path = h.normalizePath(i.path),
                h.buildURLFromParts(i)
            }
            var r = h.parseURL(t);
            if (!r)
                throw new Error("Error trying to parse relative URL.");
            if (r.scheme)
                return n.alwaysNormalize ? (r.path = h.normalizePath(r.path),
                h.buildURLFromParts(r)) : t;
            var a = h.parseURL(e);
            if (!a)
                throw new Error("Error trying to parse base URL.");
            if (!a.netLoc && a.path && "/" !== a.path[0]) {
                var o = c.exec(a.path);
                a.netLoc = o[1],
                a.path = o[2]
            }
            a.netLoc && !a.path && (a.path = "/");
            var s = {
                scheme: a.scheme,
                netLoc: r.netLoc,
                path: null,
                params: r.params,
                query: r.query,
                fragment: r.fragment
            };
            if (!r.netLoc && (s.netLoc = a.netLoc,
            "/" !== r.path[0]))
                if (r.path) {
                    var l = a.path
                      , u = l.substring(0, l.lastIndexOf("/") + 1) + r.path;
                    s.path = h.normalizePath(u)
                } else
                    s.path = a.path,
                    r.params || (s.params = a.params,
                    r.query || (s.query = a.query));
            return null === s.path && (s.path = n.alwaysNormalize ? h.normalizePath(r.path) : r.path),
            h.buildURLFromParts(s)
        },
        parseURL: function(e) {
            var t = i.exec(e);
            return t ? {
                scheme: t[1] || "",
                netLoc: t[2] || "",
                path: t[3] || "",
                params: t[4] || "",
                query: t[5] || "",
                fragment: t[6] || ""
            } : null
        },
        normalizePath: function(e) {
            for (e = e.split("").reverse().join("").replace(r, ""); e.length !== (e = e.replace(a, "")).length; )
                ;
            return e.split("").reverse().join("")
        },
        buildURLFromParts: function(e) {
            return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
        }
    },
    e.exports = h
}
, function(e, a, o) {
    "use strict";
    (function(t) {
        o.d(a, "a", function() {
            return i
        });
        var e = o(17)
          , n = o.n(e)
          , r = function(e) {
            return n.a.atob ? n.a.atob(e) : t.from(e, "base64").toString("binary")
        };
        function i(e) {
            for (var t = r(e), n = new Uint8Array(t.length), i = 0; i < t.length; i++)
                n[i] = t.charCodeAt(i);
            return n
        }
    }
    ).call(this, o(578).Buffer)
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(3)
      , r = n(0)
      , a = n.n(r)
      , o = n(1)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            var i = {
                container: "",
                captchaInputSelector: ".captcha_input",
                imgContainer: ".captcha-img",
                triggerSelector: ".captcha_button-reload",
                urlParam: "id",
                imageOpts: {
                    w: 280,
                    h: 50
                }
            };
            return s.a.has(t, "imageOpts") && s.a.defaults(t.imageOpts, i.imageOpts),
            s.a.defaults(t, i),
            t = s.a.merge({}, i, t),
            c(this, d(r).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$captcha = this.$element.find(this.opts.container),
                0 === this.$captcha.length && (this.$captcha = this.$element),
                this.$reloadButton = this.$captcha.find(this.opts.triggerSelector),
                this.$reloadButton.on("click", this.triggerHandler.bind(this)),
                this.initCaptcha()
            }
        }, {
            key: "triggerHandler",
            value: function(e) {
                e.preventDefault(),
                this.initCaptcha(!0)
            }
        }, {
            key: "initCaptcha",
            value: function(e) {
                var t = Date.now()
                  , n = "".concat(this.opts.urlParam, "=").concat(t, "&").concat(a.a.param(this.opts.imageOpts, !0));
                void 0 === e ? (this.$captcha.find(this.opts.imgContainer).append('<img src="' + this.opts.url + "?" + n + '"/>'),
                this.$captcha.find("".concat(this.opts.imgContainer, " input")).val(t)) : (this.$captcha.find(this.opts.imgContainer + " img").attr("src", "".concat(this.opts.url, "?").concat(n)),
                this.$captcha.find(this.opts.imgContainer + " input").val(t)),
                this.publish("captcha/timestamp", t)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return v
    });
    var r = n(3)
      , a = n(70)
      , i = n(0)
      , o = n.n(i)
      , s = n(1)
      , l = n.n(s)
      , u = n(72)
      , c = n(108);
    function h(e) {
        return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function d(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function p(e, t) {
        return !t || "object" !== h(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function f(e, t, n) {
        return (f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = m(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function m(e) {
        return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function g(e, t) {
        return (g = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var v = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = l.a.merge({}, {
                pathToRoot: "",
                serviceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc",
                countryCode: "rs",
                dealerInputSelector: ".dealer-id",
                countrySelector: ".fp-select-country",
                dealerBoxSelector: ".dealer-locator_info",
                activeClass: "is-active",
                dealersList: {
                    dealersSelector: ".fp-dealer-list",
                    template: "/templates/dealer-list.html"
                },
                googleMapSettings: {
                    apiKey: "",
                    mapSettings: {
                        zoom: 5,
                        center: {}
                    },
                    clusterMarkers: !0,
                    onMarkerClickEvent: "locator-plugin/marker-clicked",
                    clustererPath: "/vendorScripts/markerclusterer.js",
                    clustererSettings: {
                        imagePath: "/images/markerclusterer/m",
                        styles: [{
                            url: "/images/markerclusterer/m.png",
                            width: 40,
                            height: 50,
                            textColor: "white",
                            backgroundPosition: "1px 5px"
                        }]
                    },
                    showInfowindow: !0,
                    infowindowTplFile: "/templates/infowindow.html",
                    infoWindowSettings: {
                        maxWidth: 240
                    },
                    locations: [],
                    markerStyles: {
                        pinImage: {
                            active: "/images/brand-marker.png",
                            inactive: "/images/brand-marker.png"
                        }
                    }
                }
            }, t),
            p(this, m(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && g(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && d(e.prototype, t),
            n && d(e, n)
        }(i, [{
            key: "start",
            value: function() {
                f(m(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                f(m(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                f(m(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this
                  , t = {
                    pathToRoot: this.opts.pathToRoot,
                    configuration: {
                        dealerServiceUrl: "".concat(this.opts.serviceUrl, "/dealers/").concat(this.opts.countryCode),
                        servicesServiceUrl: "".concat(this.opts.serviceUrl, "/services/").concat(this.opts.countryCode),
                        dictionariesServiceUrl: "".concat(this.opts.serviceUrl, "/website/").concat(this.opts.countryCode),
                        modelServiceUrl: "".concat(this.opts.serviceUrl, "/model/").concat(this.opts.countryCode)
                    }
                };
                this.activeClass = this.opts.activeClass,
                this.dealersSelector = this.$element.find(this.opts.dealersList.dealersSelector),
                this.$location = this.$element.find(this.opts.countrySelector),
                this.dealerInputSelector = this.$element.find(this.opts.dealerInputSelector),
                this.DealerLocatorService = new c.a(this.$element,t),
                this.DealerLocatorService.init(),
                this.setDealersMap(),
                this.subscribe("dealer-locator-service/dealersLoadComplete", function() {
                    e.setLocationCombo(),
                    e.setDealersMap(),
                    e.loadDealerListData()
                }),
                this.$location.on("change", this.locationChangeHandler.bind(this))
            }
        }, {
            key: "setDealersMap",
            value: function() {
                this.opts.googleMapSettings.locations = this.DealerLocatorService.locationsCoord,
                this.GoogleMaps = new a.a(this.$element,this.opts.googleMapSettings),
                this.GoogleMaps.init()
            }
        }, {
            key: "setLocationSelect",
            value: function() {
                var n = this
                  , e = [{
                    ID: 0,
                    Name: this.DealerLocatorService.getResource("PleaseSelect")
                }];
                navigator.geolocation && e.push({
                    ID: -1,
                    Name: this.DealerLocatorService.getResource("MyCurrentLocation")
                }),
                this.countries = this.DealerLocatorService.locations,
                this.countries && (e = o.a.merge(e, this.countries),
                o.a.each(e, function(e, t) {
                    n.$location.append(o()("<option></option>").attr("value", t.ID.toString()).text(t.Name))
                }))
            }
        }, {
            key: "setLocationCombo",
            value: function() {
                var e = this;
                0 < this.DealerLocatorService.locations.length ? this.setLocationSelect() : this.subscribe("dealer-location-service/dictionariesLoadComplete", function() {
                    e.setLocationSelect(),
                    e.updateDealersMap()
                })
            }
        }, {
            key: "selectDealer",
            value: function(e) {
                null === e && this.dealerInputSelector.val(null)
            }
        }, {
            key: "updateDealers",
            value: function() {
                this.selectDealer(null),
                this.data = this.DealerLocatorService,
                this.dealersSelector.empty(),
                this.loadDealerListData(),
                this.updateDealersMap()
            }
        }, {
            key: "updateDealersMap",
            value: function() {
                var e = this;
                this.clearMarkers();
                for (var t = 0; t < this.DealerLocatorService.dealers.length; t++)
                    this.opts.googleMapSettings.locations.push({
                        pathToRoot: this.opts.pathToRoot,
                        dealerId: this.DealerLocatorService.dealers[t].UniqueId,
                        lat: this.DealerLocatorService.dealers[t].Latitude,
                        lng: this.DealerLocatorService.dealers[t].Longitude,
                        number: t + 1,
                        iconKey: "pinImage",
                        countryId: this.DealerLocatorService.dealers[t].CountryId,
                        addressLine1: this.DealerLocatorService.dealers[t].AddressLine1,
                        dealerName: this.DealerLocatorService.dealers[t].DealerName,
                        addressLine2: this.DealerLocatorService.dealers[t].AddressLine2,
                        addressLine3: this.DealerLocatorService.dealers[t].AddressLine3,
                        postcode: this.DealerLocatorService.dealers[t].Postcode,
                        city: this.DealerLocatorService.dealers[t].City,
                        phone: this.DealerLocatorService.dealers[t].Phone,
                        fax: this.DealerLocatorService.dealers[t].Fax,
                        countryName: this.DealerLocatorService.dealers[t].CountryName,
                        resources: this.DealerLocatorService.resources
                    });
                this.GoogleMaps.createMarkers(this.opts.googleMapSettings.locations).then(function() {
                    e.GoogleMaps.centerMap()
                })
            }
        }, {
            key: "clearMarkers",
            value: function() {
                this.opts.googleMapSettings.locations = [],
                this.GoogleMaps.clearMarkers()
            }
        }, {
            key: "locationChangeHandler",
            value: function() {
                var e = this
                  , t = this.$location.val();
                this.DealerLocatorService.setLocationId(t),
                "-1" === t ? this.subscribe("dealer-locator-service/handleGeolocationSuccess", function() {
                    e.updateDealers()
                }) : this.updateDealers()
            }
        }, {
            key: "loadDealerListData",
            value: function() {
                this.data = this.DealerLocatorService.dealers,
                this.loadDealerListTemplate()
            }
        }, {
            key: "loadDealerListTemplate",
            value: function() {
                var a = this;
                this.templatePromise = u.a.getTemplatePromise(this.opts.dealersList.template),
                this.templatePromise.then(function(e) {
                    var t = {
                        dealers: a.data,
                        pathToRoot: a.opts.pathToRoot
                    };
                    a.dealersSelector.html(e(t)),
                    a.dealerBoxSelector = a.$element.find(a.opts.dealerBoxSelector),
                    a.dealerBoxSelector.on("click", function(e) {
                        var t = o()(e.currentTarget)
                          , n = t.data("uniqueid")
                          , i = t.data("email")
                          , r = t.data("dealertomap");
                        a.dealerBoxSelector.removeClass(a.activeClass),
                        t.addClass(a.activeClass),
                        a.GoogleMaps.showMarkerOnMap(a.GoogleMaps.markers[r]),
                        a.dealerInputSelector.val(n),
                        a.dealerInputSelector.attr("data-email", i)
                    }),
                    a.subscribe(a.opts.googleMapSettings.onMarkerClickEvent, function(e, t) {
                        var n = t.__location.dealerId;
                        a.dealerInputSelector.val(n),
                        a.dealerBoxSelector.removeClass(a.activeClass),
                        a.dealerBoxSelector[t.__location.number - 1].classList.add(a.activeClass);
                        var i = a.dealerBoxSelector.height();
                        a.dealersSelector.animate({
                            scrollTop: (t.__location.number - 1) * i
                        }, 200),
                        a.publish("dealer-locator-component/selectedDealerOnMap")
                    })
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(0)
      , a = n.n(i)
      , o = n(1)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = s.a.merge({}, {
                pathToRoot: "",
                configuration: {
                    dealerServiceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc/dealers/rs",
                    servicesServiceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc/services/rs",
                    dictionariesServiceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc/website/lv",
                    modelServiceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc/model/rs"
                }
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.result = [],
                this.locations = [],
                this.servicesSelector = this.$element.data("servicesid"),
                this.servicesSelected = [],
                this.services = [],
                this.locationsCoord = [],
                this.resources = [],
                this.dealerServiceUrl = this.opts.configuration.dealerServiceUrl,
                this.loadDealers = this.loadDealers(this.dealerServiceUrl),
                this.loadServices = this.loadServices(this.opts.configuration.servicesServiceUrl),
                this.loadDictionaries = this.loadDictionaries(this.opts.configuration.dictionariesServiceUrl),
                this.getSelectedServices = this.getSelectedServices.bind(this),
                this.getSelectedServices()
            }
        }, {
            key: "getSelectedServices",
            value: function() {
                if (this.servicesSelector) {
                    var e = this.servicesSelector.toString().replace(/ /g, "").split(",");
                    this.servicesSelected = e
                }
            }
        }, {
            key: "loadDealers",
            value: function(e) {
                var n = this;
                this.dealers = [],
                this.allDealers = [],
                this.dealersWithGeolocation = [],
                a.a.ajax({
                    url: e,
                    dataType: "jsonp"
                }).done(function(e) {
                    n.allDealers = e,
                    n.dealers = n.allDealers,
                    n.dealersWithGeolocation = [];
                    for (var t = 0; t < e.length; t++)
                        e[t].Longitude && e[t].Latitude && n.dealersWithGeolocation.push(e[t]);
                    n.filterDealers(),
                    n.filterLocations()
                }).always(function() {
                    n.publish("dealer-locator-service/dealersLoadComplete")
                }).fail(function(e) {
                    n.logError("Cannot load dealers. "),
                    n.logError(e)
                })
            }
        }, {
            key: "loadServices",
            value: function(e) {
                var t = this;
                this.services = null,
                a.a.ajax({
                    url: e,
                    dataType: "jsonp"
                }).done(function(e) {
                    t.services = e,
                    t.filterDealers()
                }).always(function() {
                    t.publish("dealer-locator-service/servicesLoadComplete")
                }).fail(function(e) {
                    t.logError("Cannot load services. "),
                    t.logError(e)
                })
            }
        }, {
            key: "loadDictionaries",
            value: function(e) {
                var t = this;
                this.dictionaries = {},
                this.resources = [],
                a.a.ajax({
                    url: e,
                    dataType: "jsonp"
                }).done(function(e) {
                    t.dictionaries = e,
                    t.locations = t.dictionaries.Countries,
                    t.resources.push(t.dictionaries.Resources),
                    t.processResources(),
                    t.filterLocations()
                }).always(function() {
                    t.publish("dealer-location-service/dictionariesLoadComplete")
                }).fail(function(e) {
                    t.logError("Cannot load dictionaries. "),
                    t.logError(e)
                })
            }
        }, {
            key: "processResources",
            value: function() {
                for (var e = 0; e < this.dictionaries.Resources.length; e++)
                    this.resources[this.dictionaries.Resources[e].Code] = this.dictionaries.Resources[e]
            }
        }, {
            key: "getGeolocation",
            value: function() {
                navigator.geolocation ? navigator.geolocation.getCurrentPosition(this.handleGeolocationSuccess.bind(this), this.handleGeolocationFailure.bind(this)) : this.handleGeolocationFailure(!1)
            }
        }, {
            key: "handleGeolocationSuccess",
            value: function(e) {
                this.coordinates = e.coords,
                this.filterDealers(),
                this.publish("dealer-locator-service/handleGeolocationSuccess")
            }
        }, {
            key: "handleGeolocationFailure",
            value: function(e) {
                throw new Error(!(0 < arguments.length && void 0 !== e) || e ? "Error: The Geolocation service failed." : "Error: Your browser doesn't support geolocation.")
            }
        }, {
            key: "filterDealersByLocation",
            value: function(e, t) {
                if (this.result = [],
                void 0 === t)
                    this.result = this.allDealers;
                else if ("0" === t)
                    this.result = this.allDealers;
                else if ("-1" === t)
                    this.getGeolocation();
                else
                    for (var n = 0; n < e.length; n++)
                        e[n].CountryId === t && this.result.push(e[n]);
                return this.result
            }
        }, {
            key: "filterDealersByCoordinates",
            value: function(e) {
                var a = this;
                return e = e.sort(function(e, t) {
                    var n = {
                        Latitude: a.coordinates.latitude,
                        Longitude: a.coordinates.longitude
                    }
                      , i = a.calculateDistance(n, e)
                      , r = a.calculateDistance(n, t);
                    return i < r ? -1 : r < i ? 1 : 0
                })
            }
        }, {
            key: "calculateDistance",
            value: function(e, t) {
                var n = (t.Latitude - e.Latitude) * Math.PI / 180
                  , i = (t.Longitude - e.Longitude) * Math.PI / 180
                  , r = e.Latitude * Math.PI / 180
                  , a = t.Latitude * Math.PI / 180
                  , o = Math.sin(n / 2) * Math.sin(n / 2) + Math.sin(i / 2) * Math.sin(i / 2) * Math.cos(r) * Math.cos(a);
                return 6371 * (2 * Math.atan2(Math.sqrt(o), Math.sqrt(1 - o)))
            }
        }, {
            key: "filterDealersByServices",
            value: function(e, t) {
                var n = [];
                if (t.length <= 0)
                    return e;
                for (var i = 0; i < e.length; i++) {
                    for (var r = !1, a = 0; a < e[i].AvailableServices.length; a++)
                        for (var o = 0; o < t.length; o++)
                            if (e[i].AvailableServices[a] === t[o]) {
                                r = !0;
                                break
                            }
                    r && n.push(e[i])
                }
                return n
            }
        }, {
            key: "filterDealers",
            value: function() {
                var e = this.coordinates ? this.filterDealersByCoordinates(this.allDealers) : this.filterDealersByLocation(this.allDealers, this.locationId)
                  , t = this.filterDealersByServices(e, this.servicesSelected);
                this.dealers = t,
                this.locationsCoord = [];
                for (var n = 0; n < t.length; n++)
                    t[n].Longitude && t[n].Latitude && this.locationsCoord.push({
                        pathToRoot: this.opts.pathToRoot,
                        dealerId: t[n].UniqueId,
                        lat: t[n].Latitude,
                        lng: t[n].Longitude,
                        number: n + 1,
                        iconKey: "pinImage",
                        countryId: t[n].CountryId,
                        dealerName: t[n].DealerName,
                        addressLine1: t[n].AddressLine1,
                        addressLine2: t[n].AddressLine2,
                        addressLine3: t[n].AddressLine3,
                        postcode: t[n].Postcode,
                        city: t[n].City,
                        phone: t[n].Phone,
                        fax: t[n].Fax,
                        countryName: t[n].CountryName,
                        resources: this.resources
                    })
            }
        }, {
            key: "filterLocations",
            value: function() {
                if (this.dictionaries.Countries) {
                    this.locations = this.dictionaries.Countries;
                    var e = [];
                    if (this.allDealers)
                        for (var t, n = this.filterDealersByServices(this.allDealers, this.servicesSelected), i = 0; i < this.locations.length; i++) {
                            t = !1;
                            for (var r = 0; r < n.length; r++)
                                if (this.locations[i].ID === n[r].CountryId) {
                                    t = !0;
                                    break
                                }
                            t && e.push(this.locations[i]),
                            i === this.locations.length - 1 && (this.locations = e)
                        }
                }
            }
        }, {
            key: "getDealerById",
            value: function(e) {
                for (var t = 0; t < this.dealers.length; t++)
                    if (this.dealers[t].UniqueId === e)
                        return this.dealers[t];
                return null
            }
        }, {
            key: "getResource",
            value: function(e) {
                return this.resources && this.resources[e] && this.resources[e].Text ? this.resources[e].Text : null
            }
        }, {
            key: "setLocationId",
            value: function(e) {
                this.locationId = e,
                this.coordinates = void 0,
                this.filterDealers()
            }
        }, {
            key: "logError",
            value: function(e) {
                "undefined" != typeof console && console.error && console.error(e)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    var i, r, a, o;
    function Hu(e) {
        return (Hu = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    o = function(e) {
        "use strict";
        function t() {}
        void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
        void 0 === Number.isInteger && (Number.isInteger = function(e) {
            return "number" == typeof e && isFinite(e) && Math.floor(e) === e
        }
        ),
        void 0 === Math.sign && (Math.sign = function(e) {
            return e < 0 ? -1 : 0 < e ? 1 : +e
        }
        ),
        void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
            get: function() {
                return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
            }
        }),
        void 0 === Object.assign && (Object.assign = function(e) {
            if (null == e)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (null != i)
                    for (var r in i)
                        Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r])
            }
            return t
        }
        ),
        Object.assign(t.prototype, {
            addEventListener: function(e, t) {
                void 0 === this._listeners && (this._listeners = {});
                var n = this._listeners;
                void 0 === n[e] && (n[e] = []),
                -1 === n[e].indexOf(t) && n[e].push(t)
            },
            hasEventListener: function(e, t) {
                if (void 0 === this._listeners)
                    return !1;
                var n = this._listeners;
                return void 0 !== n[e] && -1 !== n[e].indexOf(t)
            },
            removeEventListener: function(e, t) {
                if (void 0 !== this._listeners) {
                    var n = this._listeners[e];
                    if (void 0 !== n) {
                        var i = n.indexOf(t);
                        -1 !== i && n.splice(i, 1)
                    }
                }
            },
            dispatchEvent: function(e) {
                if (void 0 !== this._listeners) {
                    var t = this._listeners[e.type];
                    if (void 0 !== t) {
                        e.target = this;
                        for (var n = t.slice(0), i = 0, r = n.length; i < r; i++)
                            n[i].call(this, e)
                    }
                }
            }
        });
        var n, i, r, a, o, s, H = 0, V = 1, G = 2, F = 1, I = 2, B = 0, W = 1, q = 2, ke = 1, l = 2, Pe = 0, $ = 0, X = 1, Y = 2, K = 3, Z = 4, Q = 5, Ae = 100, Ie = 204, Le = 205, J = 0, ee = 1, te = 2, ne = 3, ie = 4, re = 5, ae = 6, oe = 7, L = 0, O = 1, R = 2, D = 0, Oe = 1, N = 2, U = 3, j = 4, z = 301, se = 302, le = 303, ue = 304, ce = 305, he = 306, de = 307, Re = 1001, De = 1003, Ne = 1004, Fe = 1005, Be = 1006, Ue = 1008, je = 1009, ze = 1012, He = 1014, Ve = 1015, Ge = 1016, We = 1020, qe = 1022, $e = 1023, u = $e, Xe = 1026, Ye = 1027, Ke = 0, f = 3e3, c = 3001, m = 3007, h = 3002, d = 3004, p = 3005, g = 3006, v = 3200, pe = 3201, Ze = {
            DEG2RAD: Math.PI / 180,
            RAD2DEG: 180 / Math.PI,
            generateUUID: (i = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
            r = new Array(36),
            a = 0,
            function() {
                for (var e = 0; e < 36; e++)
                    8 === e || 13 === e || 18 === e || 23 === e ? r[e] = "-" : 14 === e ? r[e] = "4" : (a <= 2 && (a = 33554432 + 16777216 * Math.random() | 0),
                    n = 15 & a,
                    a >>= 4,
                    r[e] = i[19 === e ? 3 & n | 8 : n]);
                return r.join("")
            }
            ),
            clamp: function(e, t, n) {
                return Math.max(t, Math.min(n, e))
            },
            euclideanModulo: function(e, t) {
                return (e % t + t) % t
            },
            mapLinear: function(e, t, n, i, r) {
                return i + (e - t) * (r - i) / (n - t)
            },
            lerp: function(e, t, n) {
                return (1 - n) * e + n * t
            },
            smoothstep: function(e, t, n) {
                return e <= t ? 0 : n <= e ? 1 : (e = (e - t) / (n - t)) * e * (3 - 2 * e)
            },
            smootherstep: function(e, t, n) {
                return e <= t ? 0 : n <= e ? 1 : (e = (e - t) / (n - t)) * e * e * (e * (6 * e - 15) + 10)
            },
            randInt: function(e, t) {
                return e + Math.floor(Math.random() * (t - e + 1))
            },
            randFloat: function(e, t) {
                return e + Math.random() * (t - e)
            },
            randFloatSpread: function(e) {
                return e * (.5 - Math.random())
            },
            degToRad: function(e) {
                return e * Ze.DEG2RAD
            },
            radToDeg: function(e) {
                return e * Ze.RAD2DEG
            },
            isPowerOfTwo: function(e) {
                return 0 == (e & e - 1) && 0 !== e
            },
            nearestPowerOfTwo: function(e) {
                return Math.pow(2, Math.round(Math.log(e) / Math.LN2))
            },
            nextPowerOfTwo: function(e) {
                return e--,
                e |= e >> 1,
                e |= e >> 2,
                e |= e >> 4,
                e |= e >> 8,
                e |= e >> 16,
                ++e
            }
        };
        function fe(e, t) {
            this.x = e || 0,
            this.y = t || 0
        }
        Object.defineProperties(fe.prototype, {
            width: {
                get: function() {
                    return this.x
                },
                set: function(e) {
                    this.x = e
                }
            },
            height: {
                get: function() {
                    return this.y
                },
                set: function(e) {
                    this.y = e
                }
            }
        }),
        Object.assign(fe.prototype, {
            isVector2: !0,
            set: function(e, t) {
                return this.x = e,
                this.y = t,
                this
            },
            setScalar: function(e) {
                return this.x = e,
                this.y = e,
                this
            },
            setX: function(e) {
                return this.x = e,
                this
            },
            setY: function(e) {
                return this.y = e,
                this
            },
            setComponent: function(e, t) {
                switch (e) {
                case 0:
                    this.x = t;
                    break;
                case 1:
                    this.y = t;
                    break;
                default:
                    throw new Error("index is out of range: " + e)
                }
                return this
            },
            getComponent: function(e) {
                switch (e) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                default:
                    throw new Error("index is out of range: " + e)
                }
            },
            clone: function() {
                return new this.constructor(this.x,this.y)
            },
            copy: function(e) {
                return this.x = e.x,
                this.y = e.y,
                this
            },
            add: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(e, t)) : (this.x += e.x,
                this.y += e.y,
                this)
            },
            addScalar: function(e) {
                return this.x += e,
                this.y += e,
                this
            },
            addVectors: function(e, t) {
                return this.x = e.x + t.x,
                this.y = e.y + t.y,
                this
            },
            addScaledVector: function(e, t) {
                return this.x += e.x * t,
                this.y += e.y * t,
                this
            },
            sub: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(e, t)) : (this.x -= e.x,
                this.y -= e.y,
                this)
            },
            subScalar: function(e) {
                return this.x -= e,
                this.y -= e,
                this
            },
            subVectors: function(e, t) {
                return this.x = e.x - t.x,
                this.y = e.y - t.y,
                this
            },
            multiply: function(e) {
                return this.x *= e.x,
                this.y *= e.y,
                this
            },
            multiplyScalar: function(e) {
                return this.x *= e,
                this.y *= e,
                this
            },
            divide: function(e) {
                return this.x /= e.x,
                this.y /= e.y,
                this
            },
            divideScalar: function(e) {
                return this.multiplyScalar(1 / e)
            },
            min: function(e) {
                return this.x = Math.min(this.x, e.x),
                this.y = Math.min(this.y, e.y),
                this
            },
            max: function(e) {
                return this.x = Math.max(this.x, e.x),
                this.y = Math.max(this.y, e.y),
                this
            },
            clamp: function(e, t) {
                return this.x = Math.max(e.x, Math.min(t.x, this.x)),
                this.y = Math.max(e.y, Math.min(t.y, this.y)),
                this
            },
            clampScalar: (o = new fe,
            s = new fe,
            function(e, t) {
                return o.set(e, e),
                s.set(t, t),
                this.clamp(o, s)
            }
            ),
            clampLength: function(e, t) {
                var n = this.length();
                return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
            },
            floor: function() {
                return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this
            },
            round: function() {
                return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
                this
            },
            negate: function() {
                return this.x = -this.x,
                this.y = -this.y,
                this
            },
            dot: function(e) {
                return this.x * e.x + this.y * e.y
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y)
            },
            normalize: function() {
                return this.divideScalar(this.length() || 1)
            },
            angle: function() {
                var e = Math.atan2(this.y, this.x);
                return e < 0 && (e += 2 * Math.PI),
                e
            },
            distanceTo: function(e) {
                return Math.sqrt(this.distanceToSquared(e))
            },
            distanceToSquared: function(e) {
                var t = this.x - e.x
                  , n = this.y - e.y;
                return t * t + n * n
            },
            distanceToManhattan: function(e) {
                return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
            },
            setLength: function(e) {
                return this.normalize().multiplyScalar(e)
            },
            lerp: function(e, t) {
                return this.x += (e.x - this.x) * t,
                this.y += (e.y - this.y) * t,
                this
            },
            lerpVectors: function(e, t, n) {
                return this.subVectors(t, e).multiplyScalar(n).add(e)
            },
            equals: function(e) {
                return e.x === this.x && e.y === this.y
            },
            fromArray: function(e, t) {
                return void 0 === t && (t = 0),
                this.x = e[t],
                this.y = e[t + 1],
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this.x,
                e[t + 1] = this.y,
                e
            },
            fromBufferAttribute: function(e, t, n) {
                return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),
                this.x = e.getX(t),
                this.y = e.getY(t),
                this
            },
            rotateAround: function(e, t) {
                var n = Math.cos(t)
                  , i = Math.sin(t)
                  , r = this.x - e.x
                  , a = this.y - e.y;
                return this.x = r * n - a * i + e.x,
                this.y = r * i + a * n + e.y,
                this
            }
        });
        var y, b, _, w, x, T, S, E, C, M, k, P, A, me, ge, ve, ye, be, _e, we = 0;
        function xe(e, t, n, i, r, a, o, s, l, u) {
            Object.defineProperty(this, "id", {
                value: we++
            }),
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.image = void 0 !== e ? e : xe.DEFAULT_IMAGE,
            this.mipmaps = [],
            this.mapping = void 0 !== t ? t : xe.DEFAULT_MAPPING,
            this.wrapS = void 0 !== n ? n : Re,
            this.wrapT = void 0 !== i ? i : Re,
            this.magFilter = void 0 !== r ? r : Be,
            this.minFilter = void 0 !== a ? a : Ue,
            this.anisotropy = void 0 !== l ? l : 1,
            this.format = void 0 !== o ? o : $e,
            this.type = void 0 !== s ? s : je,
            this.offset = new fe(0,0),
            this.repeat = new fe(1,1),
            this.generateMipmaps = !0,
            this.premultiplyAlpha = !1,
            this.flipY = !0,
            this.unpackAlignment = 4,
            this.encoding = void 0 !== u ? u : f,
            this.version = 0,
            this.onUpdate = null
        }
        function Qe(e, t, n, i) {
            this.x = e || 0,
            this.y = t || 0,
            this.z = n || 0,
            this.w = void 0 !== i ? i : 1
        }
        function Te(e, t, n) {
            this.uuid = Ze.generateUUID(),
            this.width = e,
            this.height = t,
            this.scissor = new Qe(0,0,e,t),
            this.scissorTest = !1,
            this.viewport = new Qe(0,0,e,t),
            void 0 === (n = n || {}).minFilter && (n.minFilter = Be),
            this.texture = new xe(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),
            this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer,
            this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer,
            this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
        }
        function Se(e, t, n) {
            Te.call(this, e, t, n),
            this.activeCubeFace = 0,
            this.activeMipMapLevel = 0
        }
        function Ee(e, t, n, i) {
            this._x = e || 0,
            this._y = t || 0,
            this._z = n || 0,
            this._w = void 0 !== i ? i : 1
        }
        function Je(e, t, n) {
            this.x = e || 0,
            this.y = t || 0,
            this.z = n || 0
        }
        function et() {
            this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],
            0 < arguments.length && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
        }
        function tt(e, t, n, i, r, a, o, s, l, u, c, h) {
            xe.call(this, null, a, o, s, l, u, i, r, c, h),
            this.image = {
                data: e,
                width: t,
                height: n
            },
            this.magFilter = void 0 !== l ? l : De,
            this.minFilter = void 0 !== u ? u : De,
            this.generateMipmaps = !1,
            this.flipY = !1,
            this.unpackAlignment = 1
        }
        function Ce(e, t, n, i, r, a, o, s, l, u) {
            xe.call(this, e = void 0 !== e ? e : [], t = void 0 !== t ? t : z, n, i, r, a, o, s, l, u),
            this.flipY = !1
        }
        xe.DEFAULT_IMAGE = void 0,
        xe.DEFAULT_MAPPING = 300,
        Object.defineProperty(xe.prototype, "needsUpdate", {
            set: function(e) {
                !0 === e && this.version++
            }
        }),
        Object.assign(xe.prototype, t.prototype, {
            constructor: xe,
            isTexture: !0,
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.name = e.name,
                this.image = e.image,
                this.mipmaps = e.mipmaps.slice(0),
                this.mapping = e.mapping,
                this.wrapS = e.wrapS,
                this.wrapT = e.wrapT,
                this.magFilter = e.magFilter,
                this.minFilter = e.minFilter,
                this.anisotropy = e.anisotropy,
                this.format = e.format,
                this.type = e.type,
                this.offset.copy(e.offset),
                this.repeat.copy(e.repeat),
                this.generateMipmaps = e.generateMipmaps,
                this.premultiplyAlpha = e.premultiplyAlpha,
                this.flipY = e.flipY,
                this.unpackAlignment = e.unpackAlignment,
                this.encoding = e.encoding,
                this
            },
            toJSON: function(e) {
                if (void 0 !== e.textures[this.uuid])
                    return e.textures[this.uuid];
                var t, n, i = {
                    metadata: {
                        version: 4.5,
                        type: "Texture",
                        generator: "Texture.toJSON"
                    },
                    uuid: this.uuid,
                    name: this.name,
                    mapping: this.mapping,
                    repeat: [this.repeat.x, this.repeat.y],
                    offset: [this.offset.x, this.offset.y],
                    wrap: [this.wrapS, this.wrapT],
                    minFilter: this.minFilter,
                    magFilter: this.magFilter,
                    anisotropy: this.anisotropy,
                    flipY: this.flipY
                };
                if (void 0 !== this.image) {
                    var r = this.image;
                    void 0 === r.uuid && (r.uuid = Ze.generateUUID()),
                    void 0 === e.images[r.uuid] && (e.images[r.uuid] = {
                        uuid: r.uuid,
                        url: (t = r,
                        void 0 !== t.toDataURL ? n = t : ((n = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = t.width,
                        n.height = t.height,
                        n.getContext("2d").drawImage(t, 0, 0, t.width, t.height)),
                        2048 < n.width || 2048 < n.height ? n.toDataURL("image/jpeg", .6) : n.toDataURL("image/png"))
                    }),
                    i.image = r.uuid
                }
                return e.textures[this.uuid] = i
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            },
            transformUv: function(e) {
                if (300 === this.mapping) {
                    if (e.multiply(this.repeat),
                    e.add(this.offset),
                    e.x < 0 || 1 < e.x)
                        switch (this.wrapS) {
                        case 1e3:
                            e.x = e.x - Math.floor(e.x);
                            break;
                        case Re:
                            e.x = e.x < 0 ? 0 : 1;
                            break;
                        case 1002:
                            1 === Math.abs(Math.floor(e.x) % 2) ? e.x = Math.ceil(e.x) - e.x : e.x = e.x - Math.floor(e.x)
                        }
                    if (e.y < 0 || 1 < e.y)
                        switch (this.wrapT) {
                        case 1e3:
                            e.y = e.y - Math.floor(e.y);
                            break;
                        case Re:
                            e.y = e.y < 0 ? 0 : 1;
                            break;
                        case 1002:
                            1 === Math.abs(Math.floor(e.y) % 2) ? e.y = Math.ceil(e.y) - e.y : e.y = e.y - Math.floor(e.y)
                        }
                    this.flipY && (e.y = 1 - e.y)
                }
            }
        }),
        Object.assign(Qe.prototype, {
            isVector4: !0,
            set: function(e, t, n, i) {
                return this.x = e,
                this.y = t,
                this.z = n,
                this.w = i,
                this
            },
            setScalar: function(e) {
                return this.x = e,
                this.y = e,
                this.z = e,
                this.w = e,
                this
            },
            setX: function(e) {
                return this.x = e,
                this
            },
            setY: function(e) {
                return this.y = e,
                this
            },
            setZ: function(e) {
                return this.z = e,
                this
            },
            setW: function(e) {
                return this.w = e,
                this
            },
            setComponent: function(e, t) {
                switch (e) {
                case 0:
                    this.x = t;
                    break;
                case 1:
                    this.y = t;
                    break;
                case 2:
                    this.z = t;
                    break;
                case 3:
                    this.w = t;
                    break;
                default:
                    throw new Error("index is out of range: " + e)
                }
                return this
            },
            getComponent: function(e) {
                switch (e) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                case 3:
                    return this.w;
                default:
                    throw new Error("index is out of range: " + e)
                }
            },
            clone: function() {
                return new this.constructor(this.x,this.y,this.z,this.w)
            },
            copy: function(e) {
                return this.x = e.x,
                this.y = e.y,
                this.z = e.z,
                this.w = void 0 !== e.w ? e.w : 1,
                this
            },
            add: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(e, t)) : (this.x += e.x,
                this.y += e.y,
                this.z += e.z,
                this.w += e.w,
                this)
            },
            addScalar: function(e) {
                return this.x += e,
                this.y += e,
                this.z += e,
                this.w += e,
                this
            },
            addVectors: function(e, t) {
                return this.x = e.x + t.x,
                this.y = e.y + t.y,
                this.z = e.z + t.z,
                this.w = e.w + t.w,
                this
            },
            addScaledVector: function(e, t) {
                return this.x += e.x * t,
                this.y += e.y * t,
                this.z += e.z * t,
                this.w += e.w * t,
                this
            },
            sub: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(e, t)) : (this.x -= e.x,
                this.y -= e.y,
                this.z -= e.z,
                this.w -= e.w,
                this)
            },
            subScalar: function(e) {
                return this.x -= e,
                this.y -= e,
                this.z -= e,
                this.w -= e,
                this
            },
            subVectors: function(e, t) {
                return this.x = e.x - t.x,
                this.y = e.y - t.y,
                this.z = e.z - t.z,
                this.w = e.w - t.w,
                this
            },
            multiplyScalar: function(e) {
                return this.x *= e,
                this.y *= e,
                this.z *= e,
                this.w *= e,
                this
            },
            applyMatrix4: function(e) {
                var t = this.x
                  , n = this.y
                  , i = this.z
                  , r = this.w
                  , a = e.elements;
                return this.x = a[0] * t + a[4] * n + a[8] * i + a[12] * r,
                this.y = a[1] * t + a[5] * n + a[9] * i + a[13] * r,
                this.z = a[2] * t + a[6] * n + a[10] * i + a[14] * r,
                this.w = a[3] * t + a[7] * n + a[11] * i + a[15] * r,
                this
            },
            divideScalar: function(e) {
                return this.multiplyScalar(1 / e)
            },
            setAxisAngleFromQuaternion: function(e) {
                this.w = 2 * Math.acos(e.w);
                var t = Math.sqrt(1 - e.w * e.w);
                return t < 1e-4 ? (this.x = 1,
                this.y = 0,
                this.z = 0) : (this.x = e.x / t,
                this.y = e.y / t,
                this.z = e.z / t),
                this
            },
            setAxisAngleFromRotationMatrix: function(e) {
                var t, n, i, r, a = e.elements, o = a[0], s = a[4], l = a[8], u = a[1], c = a[5], h = a[9], d = a[2], p = a[6], f = a[10];
                if (Math.abs(s - u) < .01 && Math.abs(l - d) < .01 && Math.abs(h - p) < .01) {
                    if (Math.abs(s + u) < .1 && Math.abs(l + d) < .1 && Math.abs(h + p) < .1 && Math.abs(o + c + f - 3) < .1)
                        return this.set(1, 0, 0, 0),
                        this;
                    t = Math.PI;
                    var m = (o + 1) / 2
                      , g = (c + 1) / 2
                      , v = (f + 1) / 2
                      , y = (s + u) / 4
                      , b = (l + d) / 4
                      , _ = (h + p) / 4;
                    return g < m && v < m ? r = m < .01 ? (n = 0,
                    i = .707106781) : (i = y / (n = Math.sqrt(m)),
                    b / n) : v < g ? r = g < .01 ? (i = 0,
                    n = .707106781) : (n = y / (i = Math.sqrt(g)),
                    _ / i) : v < .01 ? (i = n = .707106781,
                    r = 0) : (n = b / (r = Math.sqrt(v)),
                    i = _ / r),
                    this.set(n, i, r, t),
                    this
                }
                var w = Math.sqrt((p - h) * (p - h) + (l - d) * (l - d) + (u - s) * (u - s));
                return Math.abs(w) < .001 && (w = 1),
                this.x = (p - h) / w,
                this.y = (l - d) / w,
                this.z = (u - s) / w,
                this.w = Math.acos((o + c + f - 1) / 2),
                this
            },
            min: function(e) {
                return this.x = Math.min(this.x, e.x),
                this.y = Math.min(this.y, e.y),
                this.z = Math.min(this.z, e.z),
                this.w = Math.min(this.w, e.w),
                this
            },
            max: function(e) {
                return this.x = Math.max(this.x, e.x),
                this.y = Math.max(this.y, e.y),
                this.z = Math.max(this.z, e.z),
                this.w = Math.max(this.w, e.w),
                this
            },
            clamp: function(e, t) {
                return this.x = Math.max(e.x, Math.min(t.x, this.x)),
                this.y = Math.max(e.y, Math.min(t.y, this.y)),
                this.z = Math.max(e.z, Math.min(t.z, this.z)),
                this.w = Math.max(e.w, Math.min(t.w, this.w)),
                this
            },
            clampScalar: function(e, t) {
                return void 0 === y && (y = new Qe,
                b = new Qe),
                y.set(e, e, e, e),
                b.set(t, t, t, t),
                this.clamp(y, b)
            },
            clampLength: function(e, t) {
                var n = this.length();
                return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
            },
            floor: function() {
                return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this.z = Math.floor(this.z),
                this.w = Math.floor(this.w),
                this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this.z = Math.ceil(this.z),
                this.w = Math.ceil(this.w),
                this
            },
            round: function() {
                return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this.z = Math.round(this.z),
                this.w = Math.round(this.w),
                this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
                this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
                this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w),
                this
            },
            negate: function() {
                return this.x = -this.x,
                this.y = -this.y,
                this.z = -this.z,
                this.w = -this.w,
                this
            },
            dot: function(e) {
                return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
            },
            normalize: function() {
                return this.divideScalar(this.length() || 1)
            },
            setLength: function(e) {
                return this.normalize().multiplyScalar(e)
            },
            lerp: function(e, t) {
                return this.x += (e.x - this.x) * t,
                this.y += (e.y - this.y) * t,
                this.z += (e.z - this.z) * t,
                this.w += (e.w - this.w) * t,
                this
            },
            lerpVectors: function(e, t, n) {
                return this.subVectors(t, e).multiplyScalar(n).add(e)
            },
            equals: function(e) {
                return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
            },
            fromArray: function(e, t) {
                return void 0 === t && (t = 0),
                this.x = e[t],
                this.y = e[t + 1],
                this.z = e[t + 2],
                this.w = e[t + 3],
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this.x,
                e[t + 1] = this.y,
                e[t + 2] = this.z,
                e[t + 3] = this.w,
                e
            },
            fromBufferAttribute: function(e, t, n) {
                return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),
                this.x = e.getX(t),
                this.y = e.getY(t),
                this.z = e.getZ(t),
                this.w = e.getW(t),
                this
            }
        }),
        Object.assign(Te.prototype, t.prototype, {
            isWebGLRenderTarget: !0,
            setSize: function(e, t) {
                this.width === e && this.height === t || (this.width = e,
                this.height = t,
                this.dispose()),
                this.viewport.set(0, 0, e, t),
                this.scissor.set(0, 0, e, t)
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.width = e.width,
                this.height = e.height,
                this.viewport.copy(e.viewport),
                this.texture = e.texture.clone(),
                this.depthBuffer = e.depthBuffer,
                this.stencilBuffer = e.stencilBuffer,
                this.depthTexture = e.depthTexture,
                this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }),
        ((Se.prototype = Object.create(Te.prototype)).constructor = Se).prototype.isWebGLRenderTargetCube = !0,
        Object.assign(Ee, {
            slerp: function(e, t, n, i) {
                return n.copy(e).slerp(t, i)
            },
            slerpFlat: function(e, t, n, i, r, a, o) {
                var s = n[i + 0]
                  , l = n[i + 1]
                  , u = n[i + 2]
                  , c = n[i + 3]
                  , h = r[a + 0]
                  , d = r[a + 1]
                  , p = r[a + 2]
                  , f = r[a + 3];
                if (c !== f || s !== h || l !== d || u !== p) {
                    var m = 1 - o
                      , g = s * h + l * d + u * p + c * f
                      , v = 0 <= g ? 1 : -1
                      , y = 1 - g * g;
                    if (y > Number.EPSILON) {
                        var b = Math.sqrt(y)
                          , _ = Math.atan2(b, g * v);
                        m = Math.sin(m * _) / b,
                        o = Math.sin(o * _) / b
                    }
                    var w = o * v;
                    if (s = s * m + h * w,
                    l = l * m + d * w,
                    u = u * m + p * w,
                    c = c * m + f * w,
                    m === 1 - o) {
                        var x = 1 / Math.sqrt(s * s + l * l + u * u + c * c);
                        s *= x,
                        l *= x,
                        u *= x,
                        c *= x
                    }
                }
                e[t] = s,
                e[t + 1] = l,
                e[t + 2] = u,
                e[t + 3] = c
            }
        }),
        Object.defineProperties(Ee.prototype, {
            x: {
                get: function() {
                    return this._x
                },
                set: function(e) {
                    this._x = e,
                    this.onChangeCallback()
                }
            },
            y: {
                get: function() {
                    return this._y
                },
                set: function(e) {
                    this._y = e,
                    this.onChangeCallback()
                }
            },
            z: {
                get: function() {
                    return this._z
                },
                set: function(e) {
                    this._z = e,
                    this.onChangeCallback()
                }
            },
            w: {
                get: function() {
                    return this._w
                },
                set: function(e) {
                    this._w = e,
                    this.onChangeCallback()
                }
            }
        }),
        Object.assign(Ee.prototype, {
            set: function(e, t, n, i) {
                return this._x = e,
                this._y = t,
                this._z = n,
                this._w = i,
                this.onChangeCallback(),
                this
            },
            clone: function() {
                return new this.constructor(this._x,this._y,this._z,this._w)
            },
            copy: function(e) {
                return this._x = e.x,
                this._y = e.y,
                this._z = e.z,
                this._w = e.w,
                this.onChangeCallback(),
                this
            },
            setFromEuler: function(e, t) {
                if (!e || !e.isEuler)
                    throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                var n = e._x
                  , i = e._y
                  , r = e._z
                  , a = e.order
                  , o = Math.cos
                  , s = Math.sin
                  , l = o(n / 2)
                  , u = o(i / 2)
                  , c = o(r / 2)
                  , h = s(n / 2)
                  , d = s(i / 2)
                  , p = s(r / 2);
                return "XYZ" === a ? (this._x = h * u * c + l * d * p,
                this._y = l * d * c - h * u * p,
                this._z = l * u * p + h * d * c,
                this._w = l * u * c - h * d * p) : "YXZ" === a ? (this._x = h * u * c + l * d * p,
                this._y = l * d * c - h * u * p,
                this._z = l * u * p - h * d * c,
                this._w = l * u * c + h * d * p) : "ZXY" === a ? (this._x = h * u * c - l * d * p,
                this._y = l * d * c + h * u * p,
                this._z = l * u * p + h * d * c,
                this._w = l * u * c - h * d * p) : "ZYX" === a ? (this._x = h * u * c - l * d * p,
                this._y = l * d * c + h * u * p,
                this._z = l * u * p - h * d * c,
                this._w = l * u * c + h * d * p) : "YZX" === a ? (this._x = h * u * c + l * d * p,
                this._y = l * d * c + h * u * p,
                this._z = l * u * p - h * d * c,
                this._w = l * u * c - h * d * p) : "XZY" === a && (this._x = h * u * c - l * d * p,
                this._y = l * d * c - h * u * p,
                this._z = l * u * p + h * d * c,
                this._w = l * u * c + h * d * p),
                !1 !== t && this.onChangeCallback(),
                this
            },
            setFromAxisAngle: function(e, t) {
                var n = t / 2
                  , i = Math.sin(n);
                return this._x = e.x * i,
                this._y = e.y * i,
                this._z = e.z * i,
                this._w = Math.cos(n),
                this.onChangeCallback(),
                this
            },
            setFromRotationMatrix: function(e) {
                var t, n = e.elements, i = n[0], r = n[4], a = n[8], o = n[1], s = n[5], l = n[9], u = n[2], c = n[6], h = n[10], d = i + s + h;
                return 0 < d ? (t = .5 / Math.sqrt(d + 1),
                this._w = .25 / t,
                this._x = (c - l) * t,
                this._y = (a - u) * t,
                this._z = (o - r) * t) : s < i && h < i ? (t = 2 * Math.sqrt(1 + i - s - h),
                this._w = (c - l) / t,
                this._x = .25 * t,
                this._y = (r + o) / t,
                this._z = (a + u) / t) : h < s ? (t = 2 * Math.sqrt(1 + s - i - h),
                this._w = (a - u) / t,
                this._x = (r + o) / t,
                this._y = .25 * t,
                this._z = (l + c) / t) : (t = 2 * Math.sqrt(1 + h - i - s),
                this._w = (o - r) / t,
                this._x = (a + u) / t,
                this._y = (l + c) / t,
                this._z = .25 * t),
                this.onChangeCallback(),
                this
            },
            setFromUnitVectors: (w = new Je,
            function(e, t) {
                return void 0 === w && (w = new Je),
                (_ = e.dot(t) + 1) < 1e-6 ? (_ = 0,
                Math.abs(e.x) > Math.abs(e.z) ? w.set(-e.y, e.x, 0) : w.set(0, -e.z, e.y)) : w.crossVectors(e, t),
                this._x = w.x,
                this._y = w.y,
                this._z = w.z,
                this._w = _,
                this.normalize()
            }
            ),
            inverse: function() {
                return this.conjugate().normalize()
            },
            conjugate: function() {
                return this._x *= -1,
                this._y *= -1,
                this._z *= -1,
                this.onChangeCallback(),
                this
            },
            dot: function(e) {
                return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w
            },
            lengthSq: function() {
                return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
            },
            length: function() {
                return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
            },
            normalize: function() {
                var e = this.length();
                return 0 === e ? (this._x = 0,
                this._y = 0,
                this._z = 0,
                this._w = 1) : (e = 1 / e,
                this._x = this._x * e,
                this._y = this._y * e,
                this._z = this._z * e,
                this._w = this._w * e),
                this.onChangeCallback(),
                this
            },
            multiply: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
                this.multiplyQuaternions(e, t)) : this.multiplyQuaternions(this, e)
            },
            premultiply: function(e) {
                return this.multiplyQuaternions(e, this)
            },
            multiplyQuaternions: function(e, t) {
                var n = e._x
                  , i = e._y
                  , r = e._z
                  , a = e._w
                  , o = t._x
                  , s = t._y
                  , l = t._z
                  , u = t._w;
                return this._x = n * u + a * o + i * l - r * s,
                this._y = i * u + a * s + r * o - n * l,
                this._z = r * u + a * l + n * s - i * o,
                this._w = a * u - n * o - i * s - r * l,
                this.onChangeCallback(),
                this
            },
            slerp: function(e, t) {
                if (0 === t)
                    return this;
                if (1 === t)
                    return this.copy(e);
                var n = this._x
                  , i = this._y
                  , r = this._z
                  , a = this._w
                  , o = a * e._w + n * e._x + i * e._y + r * e._z;
                if (o < 0 ? (this._w = -e._w,
                this._x = -e._x,
                this._y = -e._y,
                this._z = -e._z,
                o = -o) : this.copy(e),
                1 <= o)
                    return this._w = a,
                    this._x = n,
                    this._y = i,
                    this._z = r,
                    this;
                var s = Math.sqrt(1 - o * o);
                if (Math.abs(s) < .001)
                    return this._w = .5 * (a + this._w),
                    this._x = .5 * (n + this._x),
                    this._y = .5 * (i + this._y),
                    this._z = .5 * (r + this._z),
                    this;
                var l = Math.atan2(s, o)
                  , u = Math.sin((1 - t) * l) / s
                  , c = Math.sin(t * l) / s;
                return this._w = a * u + this._w * c,
                this._x = n * u + this._x * c,
                this._y = i * u + this._y * c,
                this._z = r * u + this._z * c,
                this.onChangeCallback(),
                this
            },
            equals: function(e) {
                return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
            },
            fromArray: function(e, t) {
                return void 0 === t && (t = 0),
                this._x = e[t],
                this._y = e[t + 1],
                this._z = e[t + 2],
                this._w = e[t + 3],
                this.onChangeCallback(),
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this._x,
                e[t + 1] = this._y,
                e[t + 2] = this._z,
                e[t + 3] = this._w,
                e
            },
            onChange: function(e) {
                return this.onChangeCallback = e,
                this
            },
            onChangeCallback: function() {}
        }),
        Object.assign(Je.prototype, {
            isVector3: !0,
            set: function(e, t, n) {
                return this.x = e,
                this.y = t,
                this.z = n,
                this
            },
            setScalar: function(e) {
                return this.x = e,
                this.y = e,
                this.z = e,
                this
            },
            setX: function(e) {
                return this.x = e,
                this
            },
            setY: function(e) {
                return this.y = e,
                this
            },
            setZ: function(e) {
                return this.z = e,
                this
            },
            setComponent: function(e, t) {
                switch (e) {
                case 0:
                    this.x = t;
                    break;
                case 1:
                    this.y = t;
                    break;
                case 2:
                    this.z = t;
                    break;
                default:
                    throw new Error("index is out of range: " + e)
                }
                return this
            },
            getComponent: function(e) {
                switch (e) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                default:
                    throw new Error("index is out of range: " + e)
                }
            },
            clone: function() {
                return new this.constructor(this.x,this.y,this.z)
            },
            copy: function(e) {
                return this.x = e.x,
                this.y = e.y,
                this.z = e.z,
                this
            },
            add: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
                this.addVectors(e, t)) : (this.x += e.x,
                this.y += e.y,
                this.z += e.z,
                this)
            },
            addScalar: function(e) {
                return this.x += e,
                this.y += e,
                this.z += e,
                this
            },
            addVectors: function(e, t) {
                return this.x = e.x + t.x,
                this.y = e.y + t.y,
                this.z = e.z + t.z,
                this
            },
            addScaledVector: function(e, t) {
                return this.x += e.x * t,
                this.y += e.y * t,
                this.z += e.z * t,
                this
            },
            sub: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(e, t)) : (this.x -= e.x,
                this.y -= e.y,
                this.z -= e.z,
                this)
            },
            subScalar: function(e) {
                return this.x -= e,
                this.y -= e,
                this.z -= e,
                this
            },
            subVectors: function(e, t) {
                return this.x = e.x - t.x,
                this.y = e.y - t.y,
                this.z = e.z - t.z,
                this
            },
            multiply: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
                this.multiplyVectors(e, t)) : (this.x *= e.x,
                this.y *= e.y,
                this.z *= e.z,
                this)
            },
            multiplyScalar: function(e) {
                return this.x *= e,
                this.y *= e,
                this.z *= e,
                this
            },
            multiplyVectors: function(e, t) {
                return this.x = e.x * t.x,
                this.y = e.y * t.y,
                this.z = e.z * t.z,
                this
            },
            applyEuler: (P = new Ee,
            function(e) {
                return e && e.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
                this.applyQuaternion(P.setFromEuler(e))
            }
            ),
            applyAxisAngle: (k = new Ee,
            function(e, t) {
                return this.applyQuaternion(k.setFromAxisAngle(e, t))
            }
            ),
            applyMatrix3: function(e) {
                var t = this.x
                  , n = this.y
                  , i = this.z
                  , r = e.elements;
                return this.x = r[0] * t + r[3] * n + r[6] * i,
                this.y = r[1] * t + r[4] * n + r[7] * i,
                this.z = r[2] * t + r[5] * n + r[8] * i,
                this
            },
            applyMatrix4: function(e) {
                var t = this.x
                  , n = this.y
                  , i = this.z
                  , r = e.elements
                  , a = 1 / (r[3] * t + r[7] * n + r[11] * i + r[15]);
                return this.x = (r[0] * t + r[4] * n + r[8] * i + r[12]) * a,
                this.y = (r[1] * t + r[5] * n + r[9] * i + r[13]) * a,
                this.z = (r[2] * t + r[6] * n + r[10] * i + r[14]) * a,
                this
            },
            applyQuaternion: function(e) {
                var t = this.x
                  , n = this.y
                  , i = this.z
                  , r = e.x
                  , a = e.y
                  , o = e.z
                  , s = e.w
                  , l = s * t + a * i - o * n
                  , u = s * n + o * t - r * i
                  , c = s * i + r * n - a * t
                  , h = -r * t - a * n - o * i;
                return this.x = l * s + h * -r + u * -o - c * -a,
                this.y = u * s + h * -a + c * -r - l * -o,
                this.z = c * s + h * -o + l * -a - u * -r,
                this
            },
            project: (M = new et,
            function(e) {
                return M.multiplyMatrices(e.projectionMatrix, M.getInverse(e.matrixWorld)),
                this.applyMatrix4(M)
            }
            ),
            unproject: (C = new et,
            function(e) {
                return C.multiplyMatrices(e.matrixWorld, C.getInverse(e.projectionMatrix)),
                this.applyMatrix4(C)
            }
            ),
            transformDirection: function(e) {
                var t = this.x
                  , n = this.y
                  , i = this.z
                  , r = e.elements;
                return this.x = r[0] * t + r[4] * n + r[8] * i,
                this.y = r[1] * t + r[5] * n + r[9] * i,
                this.z = r[2] * t + r[6] * n + r[10] * i,
                this.normalize()
            },
            divide: function(e) {
                return this.x /= e.x,
                this.y /= e.y,
                this.z /= e.z,
                this
            },
            divideScalar: function(e) {
                return this.multiplyScalar(1 / e)
            },
            min: function(e) {
                return this.x = Math.min(this.x, e.x),
                this.y = Math.min(this.y, e.y),
                this.z = Math.min(this.z, e.z),
                this
            },
            max: function(e) {
                return this.x = Math.max(this.x, e.x),
                this.y = Math.max(this.y, e.y),
                this.z = Math.max(this.z, e.z),
                this
            },
            clamp: function(e, t) {
                return this.x = Math.max(e.x, Math.min(t.x, this.x)),
                this.y = Math.max(e.y, Math.min(t.y, this.y)),
                this.z = Math.max(e.z, Math.min(t.z, this.z)),
                this
            },
            clampScalar: (S = new Je,
            E = new Je,
            function(e, t) {
                return S.set(e, e, e),
                E.set(t, t, t),
                this.clamp(S, E)
            }
            ),
            clampLength: function(e, t) {
                var n = this.length();
                return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
            },
            floor: function() {
                return this.x = Math.floor(this.x),
                this.y = Math.floor(this.y),
                this.z = Math.floor(this.z),
                this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x),
                this.y = Math.ceil(this.y),
                this.z = Math.ceil(this.z),
                this
            },
            round: function() {
                return this.x = Math.round(this.x),
                this.y = Math.round(this.y),
                this.z = Math.round(this.z),
                this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
                this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
                this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
                this
            },
            negate: function() {
                return this.x = -this.x,
                this.y = -this.y,
                this.z = -this.z,
                this
            },
            dot: function(e) {
                return this.x * e.x + this.y * e.y + this.z * e.z
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y + this.z * this.z
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
            },
            normalize: function() {
                return this.divideScalar(this.length() || 1)
            },
            setLength: function(e) {
                return this.normalize().multiplyScalar(e)
            },
            lerp: function(e, t) {
                return this.x += (e.x - this.x) * t,
                this.y += (e.y - this.y) * t,
                this.z += (e.z - this.z) * t,
                this
            },
            lerpVectors: function(e, t, n) {
                return this.subVectors(t, e).multiplyScalar(n).add(e)
            },
            cross: function(e, t) {
                if (void 0 !== t)
                    return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
                    this.crossVectors(e, t);
                var n = this.x
                  , i = this.y
                  , r = this.z;
                return this.x = i * e.z - r * e.y,
                this.y = r * e.x - n * e.z,
                this.z = n * e.y - i * e.x,
                this
            },
            crossVectors: function(e, t) {
                var n = e.x
                  , i = e.y
                  , r = e.z
                  , a = t.x
                  , o = t.y
                  , s = t.z;
                return this.x = i * s - r * o,
                this.y = r * a - n * s,
                this.z = n * o - i * a,
                this
            },
            projectOnVector: function(e) {
                var t = e.dot(this) / e.lengthSq();
                return this.copy(e).multiplyScalar(t)
            },
            projectOnPlane: (T = new Je,
            function(e) {
                return T.copy(this).projectOnVector(e),
                this.sub(T)
            }
            ),
            reflect: (x = new Je,
            function(e) {
                return this.sub(x.copy(e).multiplyScalar(2 * this.dot(e)))
            }
            ),
            angleTo: function(e) {
                var t = this.dot(e) / Math.sqrt(this.lengthSq() * e.lengthSq());
                return Math.acos(Ze.clamp(t, -1, 1))
            },
            distanceTo: function(e) {
                return Math.sqrt(this.distanceToSquared(e))
            },
            distanceToSquared: function(e) {
                var t = this.x - e.x
                  , n = this.y - e.y
                  , i = this.z - e.z;
                return t * t + n * n + i * i
            },
            distanceToManhattan: function(e) {
                return Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z)
            },
            setFromSpherical: function(e) {
                var t = Math.sin(e.phi) * e.radius;
                return this.x = t * Math.sin(e.theta),
                this.y = Math.cos(e.phi) * e.radius,
                this.z = t * Math.cos(e.theta),
                this
            },
            setFromCylindrical: function(e) {
                return this.x = e.radius * Math.sin(e.theta),
                this.y = e.y,
                this.z = e.radius * Math.cos(e.theta),
                this
            },
            setFromMatrixPosition: function(e) {
                var t = e.elements;
                return this.x = t[12],
                this.y = t[13],
                this.z = t[14],
                this
            },
            setFromMatrixScale: function(e) {
                var t = this.setFromMatrixColumn(e, 0).length()
                  , n = this.setFromMatrixColumn(e, 1).length()
                  , i = this.setFromMatrixColumn(e, 2).length();
                return this.x = t,
                this.y = n,
                this.z = i,
                this
            },
            setFromMatrixColumn: function(e, t) {
                return this.fromArray(e.elements, 4 * t)
            },
            equals: function(e) {
                return e.x === this.x && e.y === this.y && e.z === this.z
            },
            fromArray: function(e, t) {
                return void 0 === t && (t = 0),
                this.x = e[t],
                this.y = e[t + 1],
                this.z = e[t + 2],
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this.x,
                e[t + 1] = this.y,
                e[t + 2] = this.z,
                e
            },
            fromBufferAttribute: function(e, t, n) {
                return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),
                this.x = e.getX(t),
                this.y = e.getY(t),
                this.z = e.getZ(t),
                this
            }
        }),
        Object.assign(et.prototype, {
            isMatrix4: !0,
            set: function(e, t, n, i, r, a, o, s, l, u, c, h, d, p, f, m) {
                var g = this.elements;
                return g[0] = e,
                g[4] = t,
                g[8] = n,
                g[12] = i,
                g[1] = r,
                g[5] = a,
                g[9] = o,
                g[13] = s,
                g[2] = l,
                g[6] = u,
                g[10] = c,
                g[14] = h,
                g[3] = d,
                g[7] = p,
                g[11] = f,
                g[15] = m,
                this
            },
            identity: function() {
                return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                this
            },
            clone: function() {
                return (new et).fromArray(this.elements)
            },
            copy: function(e) {
                var t = this.elements
                  , n = e.elements;
                return t[0] = n[0],
                t[1] = n[1],
                t[2] = n[2],
                t[3] = n[3],
                t[4] = n[4],
                t[5] = n[5],
                t[6] = n[6],
                t[7] = n[7],
                t[8] = n[8],
                t[9] = n[9],
                t[10] = n[10],
                t[11] = n[11],
                t[12] = n[12],
                t[13] = n[13],
                t[14] = n[14],
                t[15] = n[15],
                this
            },
            copyPosition: function(e) {
                var t = this.elements
                  , n = e.elements;
                return t[12] = n[12],
                t[13] = n[13],
                t[14] = n[14],
                this
            },
            extractBasis: function(e, t, n) {
                return e.setFromMatrixColumn(this, 0),
                t.setFromMatrixColumn(this, 1),
                n.setFromMatrixColumn(this, 2),
                this
            },
            makeBasis: function(e, t, n) {
                return this.set(e.x, t.x, n.x, 0, e.y, t.y, n.y, 0, e.z, t.z, n.z, 0, 0, 0, 0, 1),
                this
            },
            extractRotation: (_e = new Je,
            function(e) {
                var t = this.elements
                  , n = e.elements
                  , i = 1 / _e.setFromMatrixColumn(e, 0).length()
                  , r = 1 / _e.setFromMatrixColumn(e, 1).length()
                  , a = 1 / _e.setFromMatrixColumn(e, 2).length();
                return t[0] = n[0] * i,
                t[1] = n[1] * i,
                t[2] = n[2] * i,
                t[4] = n[4] * r,
                t[5] = n[5] * r,
                t[6] = n[6] * r,
                t[8] = n[8] * a,
                t[9] = n[9] * a,
                t[10] = n[10] * a,
                this
            }
            ),
            makeRotationFromEuler: function(e) {
                e && e.isEuler || console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                var t = this.elements
                  , n = e.x
                  , i = e.y
                  , r = e.z
                  , a = Math.cos(n)
                  , o = Math.sin(n)
                  , s = Math.cos(i)
                  , l = Math.sin(i)
                  , u = Math.cos(r)
                  , c = Math.sin(r);
                if ("XYZ" === e.order) {
                    var h = a * u
                      , d = a * c
                      , p = o * u
                      , f = o * c;
                    t[0] = s * u,
                    t[4] = -s * c,
                    t[8] = l,
                    t[1] = d + p * l,
                    t[5] = h - f * l,
                    t[9] = -o * s,
                    t[2] = f - h * l,
                    t[6] = p + d * l,
                    t[10] = a * s
                } else if ("YXZ" === e.order) {
                    var m = s * u
                      , g = s * c
                      , v = l * u
                      , y = l * c;
                    t[0] = m + y * o,
                    t[4] = v * o - g,
                    t[8] = a * l,
                    t[1] = a * c,
                    t[5] = a * u,
                    t[9] = -o,
                    t[2] = g * o - v,
                    t[6] = y + m * o,
                    t[10] = a * s
                } else if ("ZXY" === e.order) {
                    m = s * u,
                    g = s * c,
                    v = l * u,
                    y = l * c;
                    t[0] = m - y * o,
                    t[4] = -a * c,
                    t[8] = v + g * o,
                    t[1] = g + v * o,
                    t[5] = a * u,
                    t[9] = y - m * o,
                    t[2] = -a * l,
                    t[6] = o,
                    t[10] = a * s
                } else if ("ZYX" === e.order) {
                    h = a * u,
                    d = a * c,
                    p = o * u,
                    f = o * c;
                    t[0] = s * u,
                    t[4] = p * l - d,
                    t[8] = h * l + f,
                    t[1] = s * c,
                    t[5] = f * l + h,
                    t[9] = d * l - p,
                    t[2] = -l,
                    t[6] = o * s,
                    t[10] = a * s
                } else if ("YZX" === e.order) {
                    var b = a * s
                      , _ = a * l
                      , w = o * s
                      , x = o * l;
                    t[0] = s * u,
                    t[4] = x - b * c,
                    t[8] = w * c + _,
                    t[1] = c,
                    t[5] = a * u,
                    t[9] = -o * u,
                    t[2] = -l * u,
                    t[6] = _ * c + w,
                    t[10] = b - x * c
                } else if ("XZY" === e.order) {
                    b = a * s,
                    _ = a * l,
                    w = o * s,
                    x = o * l;
                    t[0] = s * u,
                    t[4] = -c,
                    t[8] = l * u,
                    t[1] = b * c + x,
                    t[5] = a * u,
                    t[9] = _ * c - w,
                    t[2] = w * c - _,
                    t[6] = o * u,
                    t[10] = x * c + b
                }
                return t[3] = 0,
                t[7] = 0,
                t[11] = 0,
                t[12] = 0,
                t[13] = 0,
                t[14] = 0,
                t[15] = 1,
                this
            },
            makeRotationFromQuaternion: function(e) {
                var t = this.elements
                  , n = e._x
                  , i = e._y
                  , r = e._z
                  , a = e._w
                  , o = n + n
                  , s = i + i
                  , l = r + r
                  , u = n * o
                  , c = n * s
                  , h = n * l
                  , d = i * s
                  , p = i * l
                  , f = r * l
                  , m = a * o
                  , g = a * s
                  , v = a * l;
                return t[0] = 1 - (d + f),
                t[4] = c - v,
                t[8] = h + g,
                t[1] = c + v,
                t[5] = 1 - (u + f),
                t[9] = p - m,
                t[2] = h - g,
                t[6] = p + m,
                t[10] = 1 - (u + d),
                t[3] = 0,
                t[7] = 0,
                t[11] = 0,
                t[12] = 0,
                t[13] = 0,
                t[14] = 0,
                t[15] = 1,
                this
            },
            lookAt: (ve = new Je,
            ye = new Je,
            be = new Je,
            function(e, t, n) {
                var i = this.elements;
                return be.subVectors(e, t),
                0 === be.lengthSq() && (be.z = 1),
                be.normalize(),
                ve.crossVectors(n, be),
                0 === ve.lengthSq() && (1 === Math.abs(n.z) ? be.x += 1e-4 : be.z += 1e-4,
                be.normalize(),
                ve.crossVectors(n, be)),
                ve.normalize(),
                ye.crossVectors(be, ve),
                i[0] = ve.x,
                i[4] = ye.x,
                i[8] = be.x,
                i[1] = ve.y,
                i[5] = ye.y,
                i[9] = be.y,
                i[2] = ve.z,
                i[6] = ye.z,
                i[10] = be.z,
                this
            }
            ),
            multiply: function(e, t) {
                return void 0 !== t ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
                this.multiplyMatrices(e, t)) : this.multiplyMatrices(this, e)
            },
            premultiply: function(e) {
                return this.multiplyMatrices(e, this)
            },
            multiplyMatrices: function(e, t) {
                var n = e.elements
                  , i = t.elements
                  , r = this.elements
                  , a = n[0]
                  , o = n[4]
                  , s = n[8]
                  , l = n[12]
                  , u = n[1]
                  , c = n[5]
                  , h = n[9]
                  , d = n[13]
                  , p = n[2]
                  , f = n[6]
                  , m = n[10]
                  , g = n[14]
                  , v = n[3]
                  , y = n[7]
                  , b = n[11]
                  , _ = n[15]
                  , w = i[0]
                  , x = i[4]
                  , T = i[8]
                  , S = i[12]
                  , E = i[1]
                  , C = i[5]
                  , M = i[9]
                  , k = i[13]
                  , P = i[2]
                  , A = i[6]
                  , I = i[10]
                  , L = i[14]
                  , O = i[3]
                  , R = i[7]
                  , D = i[11]
                  , N = i[15];
                return r[0] = a * w + o * E + s * P + l * O,
                r[4] = a * x + o * C + s * A + l * R,
                r[8] = a * T + o * M + s * I + l * D,
                r[12] = a * S + o * k + s * L + l * N,
                r[1] = u * w + c * E + h * P + d * O,
                r[5] = u * x + c * C + h * A + d * R,
                r[9] = u * T + c * M + h * I + d * D,
                r[13] = u * S + c * k + h * L + d * N,
                r[2] = p * w + f * E + m * P + g * O,
                r[6] = p * x + f * C + m * A + g * R,
                r[10] = p * T + f * M + m * I + g * D,
                r[14] = p * S + f * k + m * L + g * N,
                r[3] = v * w + y * E + b * P + _ * O,
                r[7] = v * x + y * C + b * A + _ * R,
                r[11] = v * T + y * M + b * I + _ * D,
                r[15] = v * S + y * k + b * L + _ * N,
                this
            },
            multiplyScalar: function(e) {
                var t = this.elements;
                return t[0] *= e,
                t[4] *= e,
                t[8] *= e,
                t[12] *= e,
                t[1] *= e,
                t[5] *= e,
                t[9] *= e,
                t[13] *= e,
                t[2] *= e,
                t[6] *= e,
                t[10] *= e,
                t[14] *= e,
                t[3] *= e,
                t[7] *= e,
                t[11] *= e,
                t[15] *= e,
                this
            },
            applyToBufferAttribute: (ge = new Je,
            function(e) {
                for (var t = 0, n = e.count; t < n; t++)
                    ge.x = e.getX(t),
                    ge.y = e.getY(t),
                    ge.z = e.getZ(t),
                    ge.applyMatrix4(this),
                    e.setXYZ(t, ge.x, ge.y, ge.z);
                return e
            }
            ),
            determinant: function() {
                var e = this.elements
                  , t = e[0]
                  , n = e[4]
                  , i = e[8]
                  , r = e[12]
                  , a = e[1]
                  , o = e[5]
                  , s = e[9]
                  , l = e[13]
                  , u = e[2]
                  , c = e[6]
                  , h = e[10]
                  , d = e[14];
                return e[3] * (+r * s * c - i * l * c - r * o * h + n * l * h + i * o * d - n * s * d) + e[7] * (+t * s * d - t * l * h + r * a * h - i * a * d + i * l * u - r * s * u) + e[11] * (+t * l * c - t * o * d - r * a * c + n * a * d + r * o * u - n * l * u) + e[15] * (-i * o * u - t * s * c + t * o * h + i * a * c - n * a * h + n * s * u)
            },
            transpose: function() {
                var e, t = this.elements;
                return e = t[1],
                t[1] = t[4],
                t[4] = e,
                e = t[2],
                t[2] = t[8],
                t[8] = e,
                e = t[6],
                t[6] = t[9],
                t[9] = e,
                e = t[3],
                t[3] = t[12],
                t[12] = e,
                e = t[7],
                t[7] = t[13],
                t[13] = e,
                e = t[11],
                t[11] = t[14],
                t[14] = e,
                this
            },
            setPosition: function(e) {
                var t = this.elements;
                return t[12] = e.x,
                t[13] = e.y,
                t[14] = e.z,
                this
            },
            getInverse: function(e, t) {
                var n = this.elements
                  , i = e.elements
                  , r = i[0]
                  , a = i[1]
                  , o = i[2]
                  , s = i[3]
                  , l = i[4]
                  , u = i[5]
                  , c = i[6]
                  , h = i[7]
                  , d = i[8]
                  , p = i[9]
                  , f = i[10]
                  , m = i[11]
                  , g = i[12]
                  , v = i[13]
                  , y = i[14]
                  , b = i[15]
                  , _ = p * y * h - v * f * h + v * c * m - u * y * m - p * c * b + u * f * b
                  , w = g * f * h - d * y * h - g * c * m + l * y * m + d * c * b - l * f * b
                  , x = d * v * h - g * p * h + g * u * m - l * v * m - d * u * b + l * p * b
                  , T = g * p * c - d * v * c - g * u * f + l * v * f + d * u * y - l * p * y
                  , S = r * _ + a * w + o * x + s * T;
                if (0 == S) {
                    var E = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
                    if (!0 === t)
                        throw new Error(E);
                    return console.warn(E),
                    this.identity()
                }
                var C = 1 / S;
                return n[0] = _ * C,
                n[1] = (v * f * s - p * y * s - v * o * m + a * y * m + p * o * b - a * f * b) * C,
                n[2] = (u * y * s - v * c * s + v * o * h - a * y * h - u * o * b + a * c * b) * C,
                n[3] = (p * c * s - u * f * s - p * o * h + a * f * h + u * o * m - a * c * m) * C,
                n[4] = w * C,
                n[5] = (d * y * s - g * f * s + g * o * m - r * y * m - d * o * b + r * f * b) * C,
                n[6] = (g * c * s - l * y * s - g * o * h + r * y * h + l * o * b - r * c * b) * C,
                n[7] = (l * f * s - d * c * s + d * o * h - r * f * h - l * o * m + r * c * m) * C,
                n[8] = x * C,
                n[9] = (g * p * s - d * v * s - g * a * m + r * v * m + d * a * b - r * p * b) * C,
                n[10] = (l * v * s - g * u * s + g * a * h - r * v * h - l * a * b + r * u * b) * C,
                n[11] = (d * u * s - l * p * s - d * a * h + r * p * h + l * a * m - r * u * m) * C,
                n[12] = T * C,
                n[13] = (d * v * o - g * p * o + g * a * f - r * v * f - d * a * y + r * p * y) * C,
                n[14] = (g * u * o - l * v * o - g * a * c + r * v * c + l * a * y - r * u * y) * C,
                n[15] = (l * p * o - d * u * o + d * a * c - r * p * c - l * a * f + r * u * f) * C,
                this
            },
            scale: function(e) {
                var t = this.elements
                  , n = e.x
                  , i = e.y
                  , r = e.z;
                return t[0] *= n,
                t[4] *= i,
                t[8] *= r,
                t[1] *= n,
                t[5] *= i,
                t[9] *= r,
                t[2] *= n,
                t[6] *= i,
                t[10] *= r,
                t[3] *= n,
                t[7] *= i,
                t[11] *= r,
                this
            },
            getMaxScaleOnAxis: function() {
                var e = this.elements
                  , t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2]
                  , n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6]
                  , i = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
                return Math.sqrt(Math.max(t, n, i))
            },
            makeTranslation: function(e, t, n) {
                return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1),
                this
            },
            makeRotationX: function(e) {
                var t = Math.cos(e)
                  , n = Math.sin(e);
                return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1),
                this
            },
            makeRotationY: function(e) {
                var t = Math.cos(e)
                  , n = Math.sin(e);
                return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1),
                this
            },
            makeRotationZ: function(e) {
                var t = Math.cos(e)
                  , n = Math.sin(e);
                return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                this
            },
            makeRotationAxis: function(e, t) {
                var n = Math.cos(t)
                  , i = Math.sin(t)
                  , r = 1 - n
                  , a = e.x
                  , o = e.y
                  , s = e.z
                  , l = r * a
                  , u = r * o;
                return this.set(l * a + n, l * o - i * s, l * s + i * o, 0, l * o + i * s, u * o + n, u * s - i * a, 0, l * s - i * o, u * s + i * a, r * s * s + n, 0, 0, 0, 0, 1),
                this
            },
            makeScale: function(e, t, n) {
                return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1),
                this
            },
            makeShear: function(e, t, n) {
                return this.set(1, t, n, 0, e, 1, n, 0, e, t, 1, 0, 0, 0, 0, 1),
                this
            },
            compose: function(e, t, n) {
                return this.makeRotationFromQuaternion(t),
                this.scale(n),
                this.setPosition(e),
                this
            },
            decompose: (A = new Je,
            me = new et,
            function(e, t, n) {
                var i = this.elements
                  , r = A.set(i[0], i[1], i[2]).length()
                  , a = A.set(i[4], i[5], i[6]).length()
                  , o = A.set(i[8], i[9], i[10]).length();
                this.determinant() < 0 && (r = -r),
                e.x = i[12],
                e.y = i[13],
                e.z = i[14],
                me.copy(this);
                var s = 1 / r
                  , l = 1 / a
                  , u = 1 / o;
                return me.elements[0] *= s,
                me.elements[1] *= s,
                me.elements[2] *= s,
                me.elements[4] *= l,
                me.elements[5] *= l,
                me.elements[6] *= l,
                me.elements[8] *= u,
                me.elements[9] *= u,
                me.elements[10] *= u,
                t.setFromRotationMatrix(me),
                n.x = r,
                n.y = a,
                n.z = o,
                this
            }
            ),
            makePerspective: function(e, t, n, i, r, a) {
                void 0 === a && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
                var o = this.elements
                  , s = 2 * r / (t - e)
                  , l = 2 * r / (n - i)
                  , u = (t + e) / (t - e)
                  , c = (n + i) / (n - i)
                  , h = -(a + r) / (a - r)
                  , d = -2 * a * r / (a - r);
                return o[0] = s,
                o[4] = 0,
                o[8] = u,
                o[12] = 0,
                o[1] = 0,
                o[5] = l,
                o[9] = c,
                o[13] = 0,
                o[2] = 0,
                o[6] = 0,
                o[10] = h,
                o[14] = d,
                o[3] = 0,
                o[7] = 0,
                o[11] = -1,
                o[15] = 0,
                this
            },
            makeOrthographic: function(e, t, n, i, r, a) {
                var o = this.elements
                  , s = 1 / (t - e)
                  , l = 1 / (n - i)
                  , u = 1 / (a - r)
                  , c = (t + e) * s
                  , h = (n + i) * l
                  , d = (a + r) * u;
                return o[0] = 2 * s,
                o[4] = 0,
                o[8] = 0,
                o[12] = -c,
                o[1] = 0,
                o[5] = 2 * l,
                o[9] = 0,
                o[13] = -h,
                o[2] = 0,
                o[6] = 0,
                o[10] = -2 * u,
                o[14] = -d,
                o[3] = 0,
                o[7] = 0,
                o[11] = 0,
                o[15] = 1,
                this
            },
            equals: function(e) {
                for (var t = this.elements, n = e.elements, i = 0; i < 16; i++)
                    if (t[i] !== n[i])
                        return !1;
                return !0
            },
            fromArray: function(e, t) {
                void 0 === t && (t = 0);
                for (var n = 0; n < 16; n++)
                    this.elements[n] = e[n + t];
                return this
            },
            toArray: function(e, t) {
                void 0 === e && (e = []),
                void 0 === t && (t = 0);
                var n = this.elements;
                return e[t] = n[0],
                e[t + 1] = n[1],
                e[t + 2] = n[2],
                e[t + 3] = n[3],
                e[t + 4] = n[4],
                e[t + 5] = n[5],
                e[t + 6] = n[6],
                e[t + 7] = n[7],
                e[t + 8] = n[8],
                e[t + 9] = n[9],
                e[t + 10] = n[10],
                e[t + 11] = n[11],
                e[t + 12] = n[12],
                e[t + 13] = n[13],
                e[t + 14] = n[14],
                e[t + 15] = n[15],
                e
            }
        }),
        ((tt.prototype = Object.create(xe.prototype)).constructor = tt).prototype.isDataTexture = !0,
        ((Ce.prototype = Object.create(xe.prototype)).constructor = Ce).prototype.isCubeTexture = !0,
        Object.defineProperty(Ce.prototype, "images", {
            get: function() {
                return this.image
            },
            set: function(e) {
                this.image = e
            }
        });
        var Me = new xe
          , nt = new Ce;
        function it() {
            this.seq = [],
            this.map = {}
        }
        var rt = []
          , at = []
          , ot = new Float32Array(16)
          , st = new Float32Array(9);
        function lt(e, t, n) {
            var i = e[0];
            if (i <= 0 || 0 < i)
                return e;
            var r = t * n
              , a = rt[r];
            if (void 0 === a && (a = new Float32Array(r),
            rt[r] = a),
            0 !== t) {
                i.toArray(a, 0);
                for (var o = 1, s = 0; o !== t; ++o)
                    s += n,
                    e[o].toArray(a, s)
            }
            return a
        }
        function ut(e, t) {
            var n = at[t];
            void 0 === n && (n = new Int32Array(t),
            at[t] = n);
            for (var i = 0; i !== t; ++i)
                n[i] = e.allocTextureUnit();
            return n
        }
        function ct(e, t) {
            e.uniform1f(this.addr, t)
        }
        function ht(e, t) {
            e.uniform1i(this.addr, t)
        }
        function dt(e, t) {
            void 0 === t.x ? e.uniform2fv(this.addr, t) : e.uniform2f(this.addr, t.x, t.y)
        }
        function pt(e, t) {
            void 0 !== t.x ? e.uniform3f(this.addr, t.x, t.y, t.z) : void 0 !== t.r ? e.uniform3f(this.addr, t.r, t.g, t.b) : e.uniform3fv(this.addr, t)
        }
        function ft(e, t) {
            void 0 === t.x ? e.uniform4fv(this.addr, t) : e.uniform4f(this.addr, t.x, t.y, t.z, t.w)
        }
        function mt(e, t) {
            e.uniformMatrix2fv(this.addr, !1, t.elements || t)
        }
        function gt(e, t) {
            void 0 === t.elements ? e.uniformMatrix3fv(this.addr, !1, t) : (st.set(t.elements),
            e.uniformMatrix3fv(this.addr, !1, st))
        }
        function vt(e, t) {
            void 0 === t.elements ? e.uniformMatrix4fv(this.addr, !1, t) : (ot.set(t.elements),
            e.uniformMatrix4fv(this.addr, !1, ot))
        }
        function yt(e, t, n) {
            var i = n.allocTextureUnit();
            e.uniform1i(this.addr, i),
            n.setTexture2D(t || Me, i)
        }
        function bt(e, t, n) {
            var i = n.allocTextureUnit();
            e.uniform1i(this.addr, i),
            n.setTextureCube(t || nt, i)
        }
        function _t(e, t) {
            e.uniform2iv(this.addr, t)
        }
        function wt(e, t) {
            e.uniform3iv(this.addr, t)
        }
        function xt(e, t) {
            e.uniform4iv(this.addr, t)
        }
        function Tt(e, t) {
            e.uniform1fv(this.addr, t)
        }
        function St(e, t) {
            e.uniform1iv(this.addr, t)
        }
        function Et(e, t) {
            e.uniform2fv(this.addr, lt(t, this.size, 2))
        }
        function Ct(e, t) {
            e.uniform3fv(this.addr, lt(t, this.size, 3))
        }
        function Mt(e, t) {
            e.uniform4fv(this.addr, lt(t, this.size, 4))
        }
        function kt(e, t) {
            e.uniformMatrix2fv(this.addr, !1, lt(t, this.size, 4))
        }
        function Pt(e, t) {
            e.uniformMatrix3fv(this.addr, !1, lt(t, this.size, 9))
        }
        function At(e, t) {
            e.uniformMatrix4fv(this.addr, !1, lt(t, this.size, 16))
        }
        function It(e, t, n) {
            var i = t.length
              , r = ut(n, i);
            e.uniform1iv(this.addr, r);
            for (var a = 0; a !== i; ++a)
                n.setTexture2D(t[a] || Me, r[a])
        }
        function Lt(e, t, n) {
            var i = t.length
              , r = ut(n, i);
            e.uniform1iv(this.addr, r);
            for (var a = 0; a !== i; ++a)
                n.setTextureCube(t[a] || nt, r[a])
        }
        function Ot(e, t, n) {
            this.id = e,
            this.addr = n,
            this.setValue = function(e) {
                switch (e) {
                case 5126:
                    return ct;
                case 35664:
                    return dt;
                case 35665:
                    return pt;
                case 35666:
                    return ft;
                case 35674:
                    return mt;
                case 35675:
                    return gt;
                case 35676:
                    return vt;
                case 35678:
                case 36198:
                    return yt;
                case 35680:
                    return bt;
                case 5124:
                case 35670:
                    return ht;
                case 35667:
                case 35671:
                    return _t;
                case 35668:
                case 35672:
                    return wt;
                case 35669:
                case 35673:
                    return xt
                }
            }(t.type)
        }
        function Rt(e, t, n) {
            this.id = e,
            this.addr = n,
            this.size = t.size,
            this.setValue = function(e) {
                switch (e) {
                case 5126:
                    return Tt;
                case 35664:
                    return Et;
                case 35665:
                    return Ct;
                case 35666:
                    return Mt;
                case 35674:
                    return kt;
                case 35675:
                    return Pt;
                case 35676:
                    return At;
                case 35678:
                    return It;
                case 35680:
                    return Lt;
                case 5124:
                case 35670:
                    return St;
                case 35667:
                case 35671:
                    return _t;
                case 35668:
                case 35672:
                    return wt;
                case 35669:
                case 35673:
                    return xt
                }
            }(t.type)
        }
        function Dt(e) {
            this.id = e,
            it.call(this)
        }
        Dt.prototype.setValue = function(e, t) {
            for (var n = this.seq, i = 0, r = n.length; i !== r; ++i) {
                var a = n[i];
                a.setValue(e, t[a.id])
            }
        }
        ;
        var Nt = /([\w\d_]+)(\])?(\[|\.)?/g;
        function Ft(e, t) {
            e.seq.push(t),
            e.map[t.id] = t
        }
        function Bt(e, t, n) {
            var i = e.name
              , r = i.length;
            for (Nt.lastIndex = 0; ; ) {
                var a = Nt.exec(i)
                  , o = Nt.lastIndex
                  , s = a[1]
                  , l = "]" === a[2]
                  , u = a[3];
                if (l && (s |= 0),
                void 0 === u || "[" === u && o + 2 === r) {
                    Ft(n, void 0 === u ? new Ot(s,e,t) : new Rt(s,e,t));
                    break
                }
                var c = n.map[s];
                void 0 === c && Ft(n, c = new Dt(s)),
                n = c
            }
        }
        function Ut(e, t, n) {
            it.call(this),
            this.renderer = n;
            for (var i = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), r = 0; r < i; ++r) {
                var a = e.getActiveUniform(t, r)
                  , o = a.name;
                Bt(a, e.getUniformLocation(t, o), this)
            }
        }
        Ut.prototype.setValue = function(e, t, n) {
            var i = this.map[t];
            void 0 !== i && i.setValue(e, n, this.renderer)
        }
        ,
        Ut.prototype.setOptional = function(e, t, n) {
            var i = t[n];
            void 0 !== i && this.setValue(e, n, i)
        }
        ,
        Ut.upload = function(e, t, n, i) {
            for (var r = 0, a = t.length; r !== a; ++r) {
                var o = t[r]
                  , s = n[o.id];
                !1 !== s.needsUpdate && o.setValue(e, s.value, i)
            }
        }
        ,
        Ut.seqWithValue = function(e, t) {
            for (var n = [], i = 0, r = e.length; i !== r; ++i) {
                var a = e[i];
                a.id in t && n.push(a)
            }
            return n
        }
        ;
        var jt = {
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        };
        function zt(e, t, n) {
            return void 0 === t && void 0 === n ? this.set(e) : this.setRGB(e, t, n)
        }
        function Ht(e, t, n) {
            return n < 0 && (n += 1),
            1 < n && (n -= 1),
            n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + 6 * (t - e) * (2 / 3 - n) : e
        }
        Object.assign(zt.prototype, {
            isColor: !0,
            r: 1,
            g: 1,
            b: 1,
            set: function(e) {
                return e && e.isColor ? this.copy(e) : "number" == typeof e ? this.setHex(e) : "string" == typeof e && this.setStyle(e),
                this
            },
            setScalar: function(e) {
                return this.r = e,
                this.g = e,
                this.b = e,
                this
            },
            setHex: function(e) {
                return e = Math.floor(e),
                this.r = (e >> 16 & 255) / 255,
                this.g = (e >> 8 & 255) / 255,
                this.b = (255 & e) / 255,
                this
            },
            setRGB: function(e, t, n) {
                return this.r = e,
                this.g = t,
                this.b = n,
                this
            },
            setHSL: function(e, t, n) {
                if (e = Ze.euclideanModulo(e, 1),
                t = Ze.clamp(t, 0, 1),
                n = Ze.clamp(n, 0, 1),
                0 === t)
                    this.r = this.g = this.b = n;
                else {
                    var i = n <= .5 ? n * (1 + t) : n + t - n * t
                      , r = 2 * n - i;
                    this.r = Ht(r, i, e + 1 / 3),
                    this.g = Ht(r, i, e),
                    this.b = Ht(r, i, e - 1 / 3)
                }
                return this
            },
            setStyle: function(t) {
                function e(e) {
                    void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
                }
                var n;
                if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                    var i, r = n[1], a = n[2];
                    switch (r) {
                    case "rgb":
                    case "rgba":
                        if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))
                            return this.r = Math.min(255, parseInt(i[1], 10)) / 255,
                            this.g = Math.min(255, parseInt(i[2], 10)) / 255,
                            this.b = Math.min(255, parseInt(i[3], 10)) / 255,
                            e(i[5]),
                            this;
                        if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))
                            return this.r = Math.min(100, parseInt(i[1], 10)) / 100,
                            this.g = Math.min(100, parseInt(i[2], 10)) / 100,
                            this.b = Math.min(100, parseInt(i[3], 10)) / 100,
                            e(i[5]),
                            this;
                        break;
                    case "hsl":
                    case "hsla":
                        if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) {
                            var o = parseFloat(i[1]) / 360
                              , s = parseInt(i[2], 10) / 100
                              , l = parseInt(i[3], 10) / 100;
                            return e(i[5]),
                            this.setHSL(o, s, l)
                        }
                    }
                } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                    var u, c = (u = n[1]).length;
                    if (3 === c)
                        return this.r = parseInt(u.charAt(0) + u.charAt(0), 16) / 255,
                        this.g = parseInt(u.charAt(1) + u.charAt(1), 16) / 255,
                        this.b = parseInt(u.charAt(2) + u.charAt(2), 16) / 255,
                        this;
                    if (6 === c)
                        return this.r = parseInt(u.charAt(0) + u.charAt(1), 16) / 255,
                        this.g = parseInt(u.charAt(2) + u.charAt(3), 16) / 255,
                        this.b = parseInt(u.charAt(4) + u.charAt(5), 16) / 255,
                        this
                }
                t && 0 < t.length && (void 0 !== (u = jt[t]) ? this.setHex(u) : console.warn("THREE.Color: Unknown color " + t));
                return this
            },
            clone: function() {
                return new this.constructor(this.r,this.g,this.b)
            },
            copy: function(e) {
                return this.r = e.r,
                this.g = e.g,
                this.b = e.b,
                this
            },
            copyGammaToLinear: function(e, t) {
                return void 0 === t && (t = 2),
                this.r = Math.pow(e.r, t),
                this.g = Math.pow(e.g, t),
                this.b = Math.pow(e.b, t),
                this
            },
            copyLinearToGamma: function(e, t) {
                void 0 === t && (t = 2);
                var n = 0 < t ? 1 / t : 1;
                return this.r = Math.pow(e.r, n),
                this.g = Math.pow(e.g, n),
                this.b = Math.pow(e.b, n),
                this
            },
            convertGammaToLinear: function() {
                var e = this.r
                  , t = this.g
                  , n = this.b;
                return this.r = e * e,
                this.g = t * t,
                this.b = n * n,
                this
            },
            convertLinearToGamma: function() {
                return this.r = Math.sqrt(this.r),
                this.g = Math.sqrt(this.g),
                this.b = Math.sqrt(this.b),
                this
            },
            getHex: function() {
                return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
            },
            getHexString: function() {
                return ("000000" + this.getHex().toString(16)).slice(-6)
            },
            getHSL: function(e) {
                var t, n, i = e || {
                    h: 0,
                    s: 0,
                    l: 0
                }, r = this.r, a = this.g, o = this.b, s = Math.max(r, a, o), l = Math.min(r, a, o), u = (l + s) / 2;
                if (l === s)
                    n = t = 0;
                else {
                    var c = s - l;
                    switch (n = u <= .5 ? c / (s + l) : c / (2 - s - l),
                    s) {
                    case r:
                        t = (a - o) / c + (a < o ? 6 : 0);
                        break;
                    case a:
                        t = (o - r) / c + 2;
                        break;
                    case o:
                        t = (r - a) / c + 4
                    }
                    t /= 6
                }
                return i.h = t,
                i.s = n,
                i.l = u,
                i
            },
            getStyle: function() {
                return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
            },
            offsetHSL: function(e, t, n) {
                var i = this.getHSL();
                return i.h += e,
                i.s += t,
                i.l += n,
                this.setHSL(i.h, i.s, i.l),
                this
            },
            add: function(e) {
                return this.r += e.r,
                this.g += e.g,
                this.b += e.b,
                this
            },
            addColors: function(e, t) {
                return this.r = e.r + t.r,
                this.g = e.g + t.g,
                this.b = e.b + t.b,
                this
            },
            addScalar: function(e) {
                return this.r += e,
                this.g += e,
                this.b += e,
                this
            },
            sub: function(e) {
                return this.r = Math.max(0, this.r - e.r),
                this.g = Math.max(0, this.g - e.g),
                this.b = Math.max(0, this.b - e.b),
                this
            },
            multiply: function(e) {
                return this.r *= e.r,
                this.g *= e.g,
                this.b *= e.b,
                this
            },
            multiplyScalar: function(e) {
                return this.r *= e,
                this.g *= e,
                this.b *= e,
                this
            },
            lerp: function(e, t) {
                return this.r += (e.r - this.r) * t,
                this.g += (e.g - this.g) * t,
                this.b += (e.b - this.b) * t,
                this
            },
            equals: function(e) {
                return e.r === this.r && e.g === this.g && e.b === this.b
            },
            fromArray: function(e, t) {
                return void 0 === t && (t = 0),
                this.r = e[t],
                this.g = e[t + 1],
                this.b = e[t + 2],
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this.r,
                e[t + 1] = this.g,
                e[t + 2] = this.b,
                e
            },
            toJSON: function() {
                return this.getHex()
            }
        });
        var Vt, Gt, Wt = {
            common: {
                diffuse: {
                    value: new zt(15658734)
                },
                opacity: {
                    value: 1
                },
                map: {
                    value: null
                },
                offsetRepeat: {
                    value: new Qe(0,0,1,1)
                },
                specularMap: {
                    value: null
                },
                alphaMap: {
                    value: null
                },
                envMap: {
                    value: null
                },
                flipEnvMap: {
                    value: -1
                },
                reflectivity: {
                    value: 1
                },
                refractionRatio: {
                    value: .98
                }
            },
            aomap: {
                aoMap: {
                    value: null
                },
                aoMapIntensity: {
                    value: 1
                }
            },
            lightmap: {
                lightMap: {
                    value: null
                },
                lightMapIntensity: {
                    value: 1
                }
            },
            emissivemap: {
                emissiveMap: {
                    value: null
                }
            },
            bumpmap: {
                bumpMap: {
                    value: null
                },
                bumpScale: {
                    value: 1
                }
            },
            normalmap: {
                normalMap: {
                    value: null
                },
                normalScale: {
                    value: new fe(1,1)
                }
            },
            displacementmap: {
                displacementMap: {
                    value: null
                },
                displacementScale: {
                    value: 1
                },
                displacementBias: {
                    value: 0
                }
            },
            roughnessmap: {
                roughnessMap: {
                    value: null
                }
            },
            metalnessmap: {
                metalnessMap: {
                    value: null
                }
            },
            gradientmap: {
                gradientMap: {
                    value: null
                }
            },
            fog: {
                fogDensity: {
                    value: 25e-5
                },
                fogNear: {
                    value: 1
                },
                fogFar: {
                    value: 2e3
                },
                fogColor: {
                    value: new zt(16777215)
                }
            },
            lights: {
                ambientLightColor: {
                    value: []
                },
                directionalLights: {
                    value: [],
                    properties: {
                        direction: {},
                        color: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                directionalShadowMap: {
                    value: []
                },
                directionalShadowMatrix: {
                    value: []
                },
                spotLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        direction: {},
                        distance: {},
                        coneCos: {},
                        penumbraCos: {},
                        decay: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                spotShadowMap: {
                    value: []
                },
                spotShadowMatrix: {
                    value: []
                },
                pointLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        decay: {},
                        distance: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                pointShadowMap: {
                    value: []
                },
                pointShadowMatrix: {
                    value: []
                },
                hemisphereLights: {
                    value: [],
                    properties: {
                        direction: {},
                        skyColor: {},
                        groundColor: {}
                    }
                },
                rectAreaLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        width: {},
                        height: {}
                    }
                }
            },
            points: {
                diffuse: {
                    value: new zt(15658734)
                },
                opacity: {
                    value: 1
                },
                size: {
                    value: 1
                },
                scale: {
                    value: 1
                },
                map: {
                    value: null
                },
                offsetRepeat: {
                    value: new Qe(0,0,1,1)
                }
            }
        }, qt = {
            merge: function(e) {
                for (var t = {}, n = 0; n < e.length; n++) {
                    var i = this.clone(e[n]);
                    for (var r in i)
                        t[r] = i[r]
                }
                return t
            },
            clone: function(e) {
                var t = {};
                for (var n in e)
                    for (var i in t[n] = {},
                    e[n]) {
                        var r = e[n][i];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? t[n][i] = r.clone() : Array.isArray(r) ? t[n][i] = r.slice() : t[n][i] = r
                    }
                return t
            }
        }, $t = {
            alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
            alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
            alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
            aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
            aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
            begin_vertex: "\nvec3 transformed = vec3( position );\n",
            beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
            bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
            bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
            clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
            clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
            clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
            clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
            color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
            color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
            color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
            color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
            common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
            cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
            defaultnormal_vertex: "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",
            displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
            displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
            emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
            emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
            encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
            encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
            envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = asin( flipNormal * reflectVec.y ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
            envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
            envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
            envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
            fog_vertex: "\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",
            fog_pars_vertex: "#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",
            fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
            fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
            gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
            lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
            lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
            lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
            lights_pars: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
            lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
            lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
            lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
            lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
            lights_template: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
            logdepthbuf_fragment: "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
            logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
            logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
            logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
            map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
            map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
            map_particle_fragment: "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
            map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
            metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",
            metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
            morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
            morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
            morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
            normal_flip: "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",
            normal_fragment: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
            normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
            packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
            premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
            project_vertex: "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",
            dithering_fragment: "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",
            dithering_pars_fragment: "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
            roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",
            roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
            shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
            shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
            shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
            shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
            skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
            skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
            skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",
            skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
            specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
            specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
            tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
            tonemapping_pars_fragment: "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
            uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
            uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
            uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
            uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
            uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
            uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
            worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",
            cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
            cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
            depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
            depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
            distanceRGBA_frag: "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
            distanceRGBA_vert: "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
            equirect_frag: "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
            equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
            linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
            meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
            normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
            points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            shadow_frag: "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",
            shadow_vert: "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"
        }, Xt = {
            basic: {
                uniforms: qt.merge([Wt.common, Wt.aomap, Wt.lightmap, Wt.fog]),
                vertexShader: $t.meshbasic_vert,
                fragmentShader: $t.meshbasic_frag
            },
            lambert: {
                uniforms: qt.merge([Wt.common, Wt.aomap, Wt.lightmap, Wt.emissivemap, Wt.fog, Wt.lights, {
                    emissive: {
                        value: new zt(0)
                    }
                }]),
                vertexShader: $t.meshlambert_vert,
                fragmentShader: $t.meshlambert_frag
            },
            phong: {
                uniforms: qt.merge([Wt.common, Wt.aomap, Wt.lightmap, Wt.emissivemap, Wt.bumpmap, Wt.normalmap, Wt.displacementmap, Wt.gradientmap, Wt.fog, Wt.lights, {
                    emissive: {
                        value: new zt(0)
                    },
                    specular: {
                        value: new zt(1118481)
                    },
                    shininess: {
                        value: 30
                    }
                }]),
                vertexShader: $t.meshphong_vert,
                fragmentShader: $t.meshphong_frag
            },
            standard: {
                uniforms: qt.merge([Wt.common, Wt.aomap, Wt.lightmap, Wt.emissivemap, Wt.bumpmap, Wt.normalmap, Wt.displacementmap, Wt.roughnessmap, Wt.metalnessmap, Wt.fog, Wt.lights, {
                    emissive: {
                        value: new zt(0)
                    },
                    roughness: {
                        value: .5
                    },
                    metalness: {
                        value: .5
                    },
                    envMapIntensity: {
                        value: 1
                    }
                }]),
                vertexShader: $t.meshphysical_vert,
                fragmentShader: $t.meshphysical_frag
            },
            points: {
                uniforms: qt.merge([Wt.points, Wt.fog]),
                vertexShader: $t.points_vert,
                fragmentShader: $t.points_frag
            },
            dashed: {
                uniforms: qt.merge([Wt.common, Wt.fog, {
                    scale: {
                        value: 1
                    },
                    dashSize: {
                        value: 1
                    },
                    totalSize: {
                        value: 2
                    }
                }]),
                vertexShader: $t.linedashed_vert,
                fragmentShader: $t.linedashed_frag
            },
            depth: {
                uniforms: qt.merge([Wt.common, Wt.displacementmap]),
                vertexShader: $t.depth_vert,
                fragmentShader: $t.depth_frag
            },
            normal: {
                uniforms: qt.merge([Wt.common, Wt.bumpmap, Wt.normalmap, Wt.displacementmap, {
                    opacity: {
                        value: 1
                    }
                }]),
                vertexShader: $t.normal_vert,
                fragmentShader: $t.normal_frag
            },
            cube: {
                uniforms: {
                    tCube: {
                        value: null
                    },
                    tFlip: {
                        value: -1
                    },
                    opacity: {
                        value: 1
                    }
                },
                vertexShader: $t.cube_vert,
                fragmentShader: $t.cube_frag
            },
            equirect: {
                uniforms: {
                    tEquirect: {
                        value: null
                    },
                    tFlip: {
                        value: -1
                    }
                },
                vertexShader: $t.equirect_vert,
                fragmentShader: $t.equirect_frag
            },
            distanceRGBA: {
                uniforms: {
                    lightPos: {
                        value: new Je
                    }
                },
                vertexShader: $t.distanceRGBA_vert,
                fragmentShader: $t.distanceRGBA_frag
            }
        };
        function Yt(e, t) {
            this.min = void 0 !== e ? e : new fe(1 / 0,1 / 0),
            this.max = void 0 !== t ? t : new fe(-1 / 0,-1 / 0)
        }
        function Kt(y, b) {
            var _, w, n, x, T, S, E, C, M = y.context, k = y.state;
            function P() {
                var e = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1])
                  , t = new Uint16Array([0, 1, 2, 0, 2, 3]);
                _ = M.createBuffer(),
                w = M.createBuffer(),
                M.bindBuffer(M.ARRAY_BUFFER, _),
                M.bufferData(M.ARRAY_BUFFER, e, M.STATIC_DRAW),
                M.bindBuffer(M.ELEMENT_ARRAY_BUFFER, w),
                M.bufferData(M.ELEMENT_ARRAY_BUFFER, t, M.STATIC_DRAW),
                E = M.createTexture(),
                C = M.createTexture(),
                k.bindTexture(M.TEXTURE_2D, E),
                M.texImage2D(M.TEXTURE_2D, 0, M.RGB, 16, 16, 0, M.RGB, M.UNSIGNED_BYTE, null),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_WRAP_S, M.CLAMP_TO_EDGE),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_WRAP_T, M.CLAMP_TO_EDGE),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_MAG_FILTER, M.NEAREST),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_MIN_FILTER, M.NEAREST),
                k.bindTexture(M.TEXTURE_2D, C),
                M.texImage2D(M.TEXTURE_2D, 0, M.RGBA, 16, 16, 0, M.RGBA, M.UNSIGNED_BYTE, null),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_WRAP_S, M.CLAMP_TO_EDGE),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_WRAP_T, M.CLAMP_TO_EDGE),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_MAG_FILTER, M.NEAREST),
                M.texParameteri(M.TEXTURE_2D, M.TEXTURE_MIN_FILTER, M.NEAREST),
                n = {
                    vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
                    fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
                },
                x = function(e) {
                    var t = M.createProgram()
                      , n = M.createShader(M.FRAGMENT_SHADER)
                      , i = M.createShader(M.VERTEX_SHADER)
                      , r = "precision " + y.getPrecision() + " float;\n";
                    return M.shaderSource(n, r + e.fragmentShader),
                    M.shaderSource(i, r + e.vertexShader),
                    M.compileShader(n),
                    M.compileShader(i),
                    M.attachShader(t, n),
                    M.attachShader(t, i),
                    M.linkProgram(t),
                    t
                }(n),
                T = {
                    vertex: M.getAttribLocation(x, "position"),
                    uv: M.getAttribLocation(x, "uv")
                },
                S = {
                    renderType: M.getUniformLocation(x, "renderType"),
                    map: M.getUniformLocation(x, "map"),
                    occlusionMap: M.getUniformLocation(x, "occlusionMap"),
                    opacity: M.getUniformLocation(x, "opacity"),
                    color: M.getUniformLocation(x, "color"),
                    scale: M.getUniformLocation(x, "scale"),
                    rotation: M.getUniformLocation(x, "rotation"),
                    screenPosition: M.getUniformLocation(x, "screenPosition")
                }
            }
            this.render = function(e, t, n) {
                if (0 !== b.length) {
                    var i = new Je
                      , r = n.w / n.z
                      , a = .5 * n.z
                      , o = .5 * n.w
                      , s = 16 / n.w
                      , l = new fe(s * r,s)
                      , u = new Je(1,1,0)
                      , c = new fe(1,1)
                      , h = new Yt;
                    h.min.set(n.x, n.y),
                    h.max.set(n.x + (n.z - 16), n.y + (n.w - 16)),
                    void 0 === x && P(),
                    M.useProgram(x),
                    k.initAttributes(),
                    k.enableAttribute(T.vertex),
                    k.enableAttribute(T.uv),
                    k.disableUnusedAttributes(),
                    M.uniform1i(S.occlusionMap, 0),
                    M.uniform1i(S.map, 1),
                    M.bindBuffer(M.ARRAY_BUFFER, _),
                    M.vertexAttribPointer(T.vertex, 2, M.FLOAT, !1, 16, 0),
                    M.vertexAttribPointer(T.uv, 2, M.FLOAT, !1, 16, 8),
                    M.bindBuffer(M.ELEMENT_ARRAY_BUFFER, w),
                    k.disable(M.CULL_FACE),
                    k.buffers.depth.setMask(!1);
                    for (var d = 0, p = b.length; d < p; d++) {
                        s = 16 / n.w,
                        l.set(s * r, s);
                        var f = b[d];
                        if (i.set(f.matrixWorld.elements[12], f.matrixWorld.elements[13], f.matrixWorld.elements[14]),
                        i.applyMatrix4(t.matrixWorldInverse),
                        i.applyMatrix4(t.projectionMatrix),
                        u.copy(i),
                        c.x = n.x + u.x * a + a - 8,
                        c.y = n.y + u.y * o + o - 8,
                        !0 === h.containsPoint(c)) {
                            k.activeTexture(M.TEXTURE0),
                            k.bindTexture(M.TEXTURE_2D, null),
                            k.activeTexture(M.TEXTURE1),
                            k.bindTexture(M.TEXTURE_2D, E),
                            M.copyTexImage2D(M.TEXTURE_2D, 0, M.RGB, c.x, c.y, 16, 16, 0),
                            M.uniform1i(S.renderType, 0),
                            M.uniform2f(S.scale, l.x, l.y),
                            M.uniform3f(S.screenPosition, u.x, u.y, u.z),
                            k.disable(M.BLEND),
                            k.enable(M.DEPTH_TEST),
                            M.drawElements(M.TRIANGLES, 6, M.UNSIGNED_SHORT, 0),
                            k.activeTexture(M.TEXTURE0),
                            k.bindTexture(M.TEXTURE_2D, C),
                            M.copyTexImage2D(M.TEXTURE_2D, 0, M.RGBA, c.x, c.y, 16, 16, 0),
                            M.uniform1i(S.renderType, 1),
                            k.disable(M.DEPTH_TEST),
                            k.activeTexture(M.TEXTURE1),
                            k.bindTexture(M.TEXTURE_2D, E),
                            M.drawElements(M.TRIANGLES, 6, M.UNSIGNED_SHORT, 0),
                            f.positionScreen.copy(u),
                            f.customUpdateCallback ? f.customUpdateCallback(f) : f.updateLensFlares(),
                            M.uniform1i(S.renderType, 2),
                            k.enable(M.BLEND);
                            for (var m = 0, g = f.lensFlares.length; m < g; m++) {
                                var v = f.lensFlares[m];
                                .001 < v.opacity && .001 < v.scale && (u.x = v.x,
                                u.y = v.y,
                                u.z = v.z,
                                s = v.size * v.scale / n.w,
                                l.x = s * r,
                                l.y = s,
                                M.uniform3f(S.screenPosition, u.x, u.y, u.z),
                                M.uniform2f(S.scale, l.x, l.y),
                                M.uniform1f(S.rotation, v.rotation),
                                M.uniform1f(S.opacity, v.opacity),
                                M.uniform3f(S.color, v.color.r, v.color.g, v.color.b),
                                k.setBlending(v.blending, v.blendEquation, v.blendSrc, v.blendDst),
                                y.setTexture2D(v.texture, 1),
                                M.drawElements(M.TRIANGLES, 6, M.UNSIGNED_SHORT, 0))
                            }
                        }
                    }
                    k.enable(M.CULL_FACE),
                    k.enable(M.DEPTH_TEST),
                    k.buffers.depth.setMask(!0),
                    y.resetGLState()
                }
            }
        }
        function Zt(h, d) {
            var p, f, m, g, v, y, b = h.context, _ = h.state, w = new Je, x = new Ee, T = new Je;
            function S() {
                var e = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1])
                  , t = new Uint16Array([0, 1, 2, 0, 2, 3]);
                p = b.createBuffer(),
                f = b.createBuffer(),
                b.bindBuffer(b.ARRAY_BUFFER, p),
                b.bufferData(b.ARRAY_BUFFER, e, b.STATIC_DRAW),
                b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, f),
                b.bufferData(b.ELEMENT_ARRAY_BUFFER, t, b.STATIC_DRAW),
                m = function() {
                    var e = b.createProgram()
                      , t = b.createShader(b.VERTEX_SHADER)
                      , n = b.createShader(b.FRAGMENT_SHADER);
                    return b.shaderSource(t, ["precision " + h.getPrecision() + " float;", "#define SHADER_NAME SpriteMaterial", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")),
                    b.shaderSource(n, ["precision " + h.getPrecision() + " float;", "#define SHADER_NAME SpriteMaterial", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")),
                    b.compileShader(t),
                    b.compileShader(n),
                    b.attachShader(e, t),
                    b.attachShader(e, n),
                    b.linkProgram(e),
                    e
                }(),
                g = {
                    position: b.getAttribLocation(m, "position"),
                    uv: b.getAttribLocation(m, "uv")
                },
                v = {
                    uvOffset: b.getUniformLocation(m, "uvOffset"),
                    uvScale: b.getUniformLocation(m, "uvScale"),
                    rotation: b.getUniformLocation(m, "rotation"),
                    scale: b.getUniformLocation(m, "scale"),
                    color: b.getUniformLocation(m, "color"),
                    map: b.getUniformLocation(m, "map"),
                    opacity: b.getUniformLocation(m, "opacity"),
                    modelViewMatrix: b.getUniformLocation(m, "modelViewMatrix"),
                    projectionMatrix: b.getUniformLocation(m, "projectionMatrix"),
                    fogType: b.getUniformLocation(m, "fogType"),
                    fogDensity: b.getUniformLocation(m, "fogDensity"),
                    fogNear: b.getUniformLocation(m, "fogNear"),
                    fogFar: b.getUniformLocation(m, "fogFar"),
                    fogColor: b.getUniformLocation(m, "fogColor"),
                    alphaTest: b.getUniformLocation(m, "alphaTest")
                };
                var n = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                n.width = 8,
                n.height = 8;
                var i = n.getContext("2d");
                i.fillStyle = "white",
                i.fillRect(0, 0, 8, 8),
                (y = new xe(n)).needsUpdate = !0
            }
            function E(e, t) {
                return e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : t.id - e.id
            }
            this.render = function(e, t) {
                if (0 !== d.length) {
                    void 0 === m && S(),
                    b.useProgram(m),
                    _.initAttributes(),
                    _.enableAttribute(g.position),
                    _.enableAttribute(g.uv),
                    _.disableUnusedAttributes(),
                    _.disable(b.CULL_FACE),
                    _.enable(b.BLEND),
                    b.bindBuffer(b.ARRAY_BUFFER, p),
                    b.vertexAttribPointer(g.position, 2, b.FLOAT, !1, 16, 0),
                    b.vertexAttribPointer(g.uv, 2, b.FLOAT, !1, 16, 8),
                    b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, f),
                    b.uniformMatrix4fv(v.projectionMatrix, !1, t.projectionMatrix.elements),
                    _.activeTexture(b.TEXTURE0),
                    b.uniform1i(v.map, 0);
                    var n = 0
                      , i = 0
                      , r = e.fog;
                    r ? (b.uniform3f(v.fogColor, r.color.r, r.color.g, r.color.b),
                    r.isFog ? (b.uniform1f(v.fogNear, r.near),
                    b.uniform1f(v.fogFar, r.far),
                    b.uniform1i(v.fogType, 1),
                    i = n = 1) : r.isFogExp2 && (b.uniform1f(v.fogDensity, r.density),
                    b.uniform1i(v.fogType, 2),
                    i = n = 2)) : (b.uniform1i(v.fogType, 0),
                    i = n = 0);
                    for (var a = 0, o = d.length; a < o; a++) {
                        (l = d[a]).modelViewMatrix.multiplyMatrices(t.matrixWorldInverse, l.matrixWorld),
                        l.z = -l.modelViewMatrix.elements[14]
                    }
                    d.sort(E);
                    var s = [];
                    for (a = 0,
                    o = d.length; a < o; a++) {
                        var l, u = (l = d[a]).material;
                        if (!1 !== u.visible) {
                            l.onBeforeRender(h, e, t, void 0, u, void 0),
                            b.uniform1f(v.alphaTest, u.alphaTest),
                            b.uniformMatrix4fv(v.modelViewMatrix, !1, l.modelViewMatrix.elements),
                            l.matrixWorld.decompose(w, x, T),
                            s[0] = T.x,
                            s[1] = T.y;
                            var c = 0;
                            e.fog && u.fog && (c = i),
                            n !== c && (b.uniform1i(v.fogType, c),
                            n = c),
                            null !== u.map ? (b.uniform2f(v.uvOffset, u.map.offset.x, u.map.offset.y),
                            b.uniform2f(v.uvScale, u.map.repeat.x, u.map.repeat.y)) : (b.uniform2f(v.uvOffset, 0, 0),
                            b.uniform2f(v.uvScale, 1, 1)),
                            b.uniform1f(v.opacity, u.opacity),
                            b.uniform3f(v.color, u.color.r, u.color.g, u.color.b),
                            b.uniform1f(v.rotation, u.rotation),
                            b.uniform2fv(v.scale, s),
                            _.setBlending(u.blending, u.blendEquation, u.blendSrc, u.blendDst, u.blendEquationAlpha, u.blendSrcAlpha, u.blendDstAlpha, u.premultipliedAlpha),
                            _.buffers.depth.setTest(u.depthTest),
                            _.buffers.depth.setMask(u.depthWrite),
                            u.map ? h.setTexture2D(u.map, 0) : h.setTexture2D(y, 0),
                            b.drawElements(b.TRIANGLES, 6, b.UNSIGNED_SHORT, 0),
                            l.onAfterRender(h, e, t, void 0, u, void 0)
                        }
                    }
                    _.enable(b.CULL_FACE),
                    h.resetGLState()
                }
            }
        }
        Xt.physical = {
            uniforms: qt.merge([Xt.standard.uniforms, {
                clearCoat: {
                    value: 0
                },
                clearCoatRoughness: {
                    value: 0
                }
            }]),
            vertexShader: $t.meshphysical_vert,
            fragmentShader: $t.meshphysical_frag
        },
        Object.assign(Yt.prototype, {
            set: function(e, t) {
                return this.min.copy(e),
                this.max.copy(t),
                this
            },
            setFromPoints: function(e) {
                this.makeEmpty();
                for (var t = 0, n = e.length; t < n; t++)
                    this.expandByPoint(e[t]);
                return this
            },
            setFromCenterAndSize: (Gt = new fe,
            function(e, t) {
                var n = Gt.copy(t).multiplyScalar(.5);
                return this.min.copy(e).sub(n),
                this.max.copy(e).add(n),
                this
            }
            ),
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.min.copy(e.min),
                this.max.copy(e.max),
                this
            },
            makeEmpty: function() {
                return this.min.x = this.min.y = 1 / 0,
                this.max.x = this.max.y = -1 / 0,
                this
            },
            isEmpty: function() {
                return this.max.x < this.min.x || this.max.y < this.min.y
            },
            getCenter: function(e) {
                var t = e || new fe;
                return this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
            },
            getSize: function(e) {
                var t = e || new fe;
                return this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
            },
            expandByPoint: function(e) {
                return this.min.min(e),
                this.max.max(e),
                this
            },
            expandByVector: function(e) {
                return this.min.sub(e),
                this.max.add(e),
                this
            },
            expandByScalar: function(e) {
                return this.min.addScalar(-e),
                this.max.addScalar(e),
                this
            },
            containsPoint: function(e) {
                return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y)
            },
            containsBox: function(e) {
                return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y
            },
            getParameter: function(e, t) {
                return (t || new fe).set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y))
            },
            intersectsBox: function(e) {
                return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y)
            },
            clampPoint: function(e, t) {
                return (t || new fe).copy(e).clamp(this.min, this.max)
            },
            distanceToPoint: (Vt = new fe,
            function(e) {
                return Vt.copy(e).clamp(this.min, this.max).sub(e).length()
            }
            ),
            intersect: function(e) {
                return this.min.max(e.min),
                this.max.min(e.max),
                this
            },
            union: function(e) {
                return this.min.min(e.min),
                this.max.max(e.max),
                this
            },
            translate: function(e) {
                return this.min.add(e),
                this.max.add(e),
                this
            },
            equals: function(e) {
                return e.min.equals(this.min) && e.max.equals(this.max)
            }
        });
        var Qt, Jt, en, tn, nn, rn, an, on, sn, ln, un, cn, hn, dn, pn, fn, mn, gn, vn, yn = 0;
        function bn() {
            Object.defineProperty(this, "id", {
                value: yn++
            }),
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.type = "Material",
            this.fog = !0,
            this.lights = !0,
            this.blending = X,
            this.side = B,
            this.shading = l,
            this.vertexColors = Pe,
            this.opacity = 1,
            this.transparent = !1,
            this.blendSrc = Ie,
            this.blendDst = Le,
            this.blendEquation = Ae,
            this.blendSrcAlpha = null,
            this.blendDstAlpha = null,
            this.blendEquationAlpha = null,
            this.depthFunc = ne,
            this.depthTest = !0,
            this.depthWrite = !0,
            this.clippingPlanes = null,
            this.clipIntersection = !1,
            this.clipShadows = !1,
            this.colorWrite = !0,
            this.precision = null,
            this.polygonOffset = !1,
            this.polygonOffsetFactor = 0,
            this.polygonOffsetUnits = 0,
            this.dithering = !1,
            this.alphaTest = 0,
            this.premultipliedAlpha = !1,
            this.overdraw = 0,
            this.visible = !0,
            this.needsUpdate = !0
        }
        function _n(e) {
            bn.call(this),
            this.type = "ShaderMaterial",
            this.defines = {},
            this.uniforms = {},
            this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
            this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",
            this.linewidth = 1,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.fog = !1,
            this.lights = !1,
            this.clipping = !1,
            this.skinning = !1,
            this.morphTargets = !1,
            this.morphNormals = !1,
            this.extensions = {
                derivatives: !1,
                fragDepth: !1,
                drawBuffers: !1,
                shaderTextureLOD: !1
            },
            this.defaultAttributeValues = {
                color: [1, 1, 1],
                uv: [0, 0],
                uv2: [0, 0]
            },
            (this.index0AttributeName = void 0) !== e && (void 0 !== e.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),
            this.setValues(e))
        }
        function wn(e) {
            bn.call(this),
            this.type = "MeshDepthMaterial",
            this.depthPacking = v,
            this.skinning = !1,
            this.morphTargets = !1,
            this.map = null,
            this.alphaMap = null,
            this.displacementMap = null,
            this.displacementScale = 1,
            this.displacementBias = 0,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.fog = !1,
            this.lights = !1,
            this.setValues(e)
        }
        function xn(e, t) {
            this.min = void 0 !== e ? e : new Je(1 / 0,1 / 0,1 / 0),
            this.max = void 0 !== t ? t : new Je(-1 / 0,-1 / 0,-1 / 0)
        }
        function Tn(e, t) {
            this.center = void 0 !== e ? e : new Je,
            this.radius = void 0 !== t ? t : 0
        }
        function Sn() {
            this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1],
            0 < arguments.length && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
        }
        function En(e, t) {
            this.normal = void 0 !== e ? e : new Je(1,0,0),
            this.constant = void 0 !== t ? t : 0
        }
        function Cn(e, t, n, i, r, a) {
            this.planes = [void 0 !== e ? e : new En, void 0 !== t ? t : new En, void 0 !== n ? n : new En, void 0 !== i ? i : new En, void 0 !== r ? r : new En, void 0 !== a ? a : new En]
        }
        function Mn(y, e, m, t) {
            var b = y.context
              , _ = y.state
              , w = new Cn
              , x = new et
              , T = e.shadows
              , S = new fe
              , E = new fe(t.maxTextureSize,t.maxTextureSize)
              , C = new Je
              , M = new Je
              , g = 1
              , v = 2
              , n = 1 + (g | v)
              , k = new Array(n)
              , P = new Array(n)
              , A = {}
              , I = [new Je(1,0,0), new Je(-1,0,0), new Je(0,0,1), new Je(0,0,-1), new Je(0,1,0), new Je(0,-1,0)]
              , L = [new Je(0,1,0), new Je(0,1,0), new Je(0,1,0), new Je(0,1,0), new Je(0,0,1), new Je(0,0,-1)]
              , O = [new Qe, new Qe, new Qe, new Qe, new Qe, new Qe]
              , i = new wn;
            i.depthPacking = pe,
            i.clipping = !0;
            for (var r = Xt.distanceRGBA, a = qt.clone(r.uniforms), o = 0; o !== n; ++o) {
                var s = 0 != (o & g)
                  , l = 0 != (o & v)
                  , u = i.clone();
                u.morphTargets = s,
                u.skinning = l,
                k[o] = u;
                var c = new _n({
                    defines: {
                        USE_SHADOWMAP: ""
                    },
                    uniforms: a,
                    vertexShader: r.vertexShader,
                    fragmentShader: r.fragmentShader,
                    morphTargets: s,
                    skinning: l,
                    clipping: !0
                });
                P[o] = c
            }
            var R = this;
            function D(e, t, n, i) {
                var r = e.geometry
                  , a = null
                  , o = k
                  , s = e.customDepthMaterial;
                if (n && (o = P,
                s = e.customDistanceMaterial),
                s)
                    a = s;
                else {
                    var l = !1;
                    t.morphTargets && (r && r.isBufferGeometry ? l = r.morphAttributes && r.morphAttributes.position && 0 < r.morphAttributes.position.length : r && r.isGeometry && (l = r.morphTargets && 0 < r.morphTargets.length)),
                    e.isSkinnedMesh && !1 === t.skinning && console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", e);
                    var u = e.isSkinnedMesh && t.skinning
                      , c = 0;
                    l && (c |= g),
                    u && (c |= v),
                    a = o[c]
                }
                if (y.localClippingEnabled && !0 === t.clipShadows && 0 !== t.clippingPlanes.length) {
                    var h = a.uuid
                      , d = t.uuid
                      , p = A[h];
                    void 0 === p && (p = {},
                    A[h] = p);
                    var f = p[d];
                    void 0 === f && (f = a.clone(),
                    p[d] = f),
                    a = f
                }
                a.visible = t.visible,
                a.wireframe = t.wireframe;
                var m = t.side;
                return R.renderSingleSided && m == q && (m = B),
                R.renderReverseSided && (m === B ? m = W : m === W && (m = B)),
                a.side = m,
                a.clipShadows = t.clipShadows,
                a.clippingPlanes = t.clippingPlanes,
                a.wireframeLinewidth = t.wireframeLinewidth,
                a.linewidth = t.linewidth,
                n && void 0 !== a.uniforms.lightPos && a.uniforms.lightPos.value.copy(i),
                a
            }
            function N(e, t, n, i) {
                if (!1 !== e.visible) {
                    if (e.layers.test(t.layers) && (e.isMesh || e.isLine || e.isPoints) && e.castShadow && (!e.frustumCulled || w.intersectsObject(e))) {
                        e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld);
                        var r = m.update(e)
                          , a = e.material;
                        if (Array.isArray(a))
                            for (var o = r.groups, s = 0, l = o.length; s < l; s++) {
                                var u = o[s]
                                  , c = a[u.materialIndex];
                                if (c && c.visible) {
                                    var h = D(e, c, i, M);
                                    y.renderBufferDirect(n, null, r, h, e, u)
                                }
                            }
                        else if (a.visible) {
                            h = D(e, a, i, M);
                            y.renderBufferDirect(n, null, r, h, e, null)
                        }
                    }
                    for (var d = e.children, p = 0, f = d.length; p < f; p++)
                        N(d[p], t, n, i)
                }
            }
            this.enabled = !1,
            this.autoUpdate = !0,
            this.needsUpdate = !1,
            this.type = F,
            this.renderReverseSided = !0,
            this.renderSingleSided = !0,
            this.render = function(e, t) {
                if (!1 !== R.enabled && (!1 !== R.autoUpdate || !1 !== R.needsUpdate) && 0 !== T.length) {
                    var n;
                    _.disable(b.BLEND),
                    _.buffers.color.setClear(1, 1, 1, 1),
                    _.buffers.depth.setTest(!0),
                    _.setScissorTest(!1);
                    for (var i = 0, r = T.length; i < r; i++) {
                        var a = T[i]
                          , o = a.shadow
                          , s = a && a.isPointLight;
                        if (void 0 !== o) {
                            var l = o.camera;
                            if (S.copy(o.mapSize),
                            S.min(E),
                            s) {
                                var u = S.x
                                  , c = S.y;
                                O[0].set(2 * u, c, u, c),
                                O[1].set(0, c, u, c),
                                O[2].set(3 * u, c, u, c),
                                O[3].set(u, c, u, c),
                                O[4].set(3 * u, 0, u, c),
                                O[5].set(u, 0, u, c),
                                S.x *= 4,
                                S.y *= 2
                            }
                            if (null === o.map) {
                                var h = {
                                    minFilter: De,
                                    magFilter: De,
                                    format: $e
                                };
                                o.map = new Te(S.x,S.y,h),
                                o.map.texture.name = a.name + ".shadowMap",
                                l.updateProjectionMatrix()
                            }
                            o.isSpotLightShadow && o.update(a);
                            var d = o.map
                              , p = o.matrix;
                            M.setFromMatrixPosition(a.matrixWorld),
                            l.position.copy(M),
                            s ? (n = 6,
                            p.makeTranslation(-M.x, -M.y, -M.z)) : (n = 1,
                            C.setFromMatrixPosition(a.target.matrixWorld),
                            l.lookAt(C),
                            l.updateMatrixWorld(),
                            p.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
                            p.multiply(l.projectionMatrix),
                            p.multiply(l.matrixWorldInverse)),
                            y.setRenderTarget(d),
                            y.clear();
                            for (var f = 0; f < n; f++) {
                                if (s) {
                                    C.copy(l.position),
                                    C.add(I[f]),
                                    l.up.copy(L[f]),
                                    l.lookAt(C),
                                    l.updateMatrixWorld();
                                    var m = O[f];
                                    _.viewport(m)
                                }
                                x.multiplyMatrices(l.projectionMatrix, l.matrixWorldInverse),
                                w.setFromMatrix(x),
                                N(e, t, l, s)
                            }
                        } else
                            console.warn("THREE.WebGLShadowMap:", a, "has no shadow.")
                    }
                    var g = y.getClearColor()
                      , v = y.getClearAlpha();
                    y.setClearColor(g, v),
                    R.needsUpdate = !1
                }
            }
        }
        function kn(o) {
            var i = {};
            return {
                get: function(e) {
                    return e.isInterleavedBufferAttribute && (e = e.data),
                    i[e.uuid]
                },
                remove: function(e) {
                    e.isInterleavedBufferAttribute && (e = e.data);
                    var t = i[e.uuid];
                    t && (o.deleteBuffer(t.buffer),
                    delete i[e.uuid])
                },
                update: function(e, t) {
                    e.isInterleavedBufferAttribute && (e = e.data);
                    var n = i[e.uuid];
                    void 0 === n ? i[e.uuid] = function(e, t) {
                        var n = e.array
                          , i = e.dynamic ? o.DYNAMIC_DRAW : o.STATIC_DRAW
                          , r = o.createBuffer();
                        o.bindBuffer(t, r),
                        o.bufferData(t, n, i),
                        e.onUploadCallback();
                        var a = o.FLOAT;
                        return n instanceof Float32Array ? a = o.FLOAT : n instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : n instanceof Uint16Array ? a = o.UNSIGNED_SHORT : n instanceof Int16Array ? a = o.SHORT : n instanceof Uint32Array ? a = o.UNSIGNED_INT : n instanceof Int32Array ? a = o.INT : n instanceof Int8Array ? a = o.BYTE : n instanceof Uint8Array && (a = o.UNSIGNED_BYTE),
                        {
                            buffer: r,
                            type: a,
                            bytesPerElement: n.BYTES_PER_ELEMENT,
                            version: e.version
                        }
                    }(e, t) : n.version < e.version && (function(e, t, n) {
                        var i = t.array
                          , r = t.updateRange;
                        o.bindBuffer(n, e),
                        !1 === t.dynamic ? o.bufferData(n, i, o.STATIC_DRAW) : -1 === r.count ? o.bufferSubData(n, 0, i) : 0 === r.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (o.bufferSubData(n, r.offset * i.BYTES_PER_ELEMENT, i.subarray(r.offset, r.offset + r.count)),
                        r.count = -1)
                    }(n.buffer, e, t),
                    n.version = e.version)
                }
            }
        }
        function Pn(e, t, n, i) {
            this._x = e || 0,
            this._y = t || 0,
            this._z = n || 0,
            this._order = i || Pn.DefaultOrder
        }
        function An() {
            this.mask = 1
        }
        Object.assign(bn.prototype, t.prototype, {
            isMaterial: !0,
            onBeforeCompile: function() {},
            setValues: function(e) {
                if (void 0 !== e)
                    for (var t in e) {
                        var n = e[t];
                        if (void 0 !== n) {
                            var i = this[t];
                            void 0 !== i ? i && i.isColor ? i.set(n) : i && i.isVector3 && n && n.isVector3 ? i.copy(n) : this[t] = "overdraw" === t ? Number(n) : n : console.warn("THREE." + this.type + ": '" + t + "' is not a property of this material.")
                        } else
                            console.warn("THREE.Material: '" + t + "' parameter is undefined.")
                    }
            },
            toJSON: function(e) {
                var t = void 0 === e;
                t && (e = {
                    textures: {},
                    images: {}
                });
                var n = {
                    metadata: {
                        version: 4.5,
                        type: "Material",
                        generator: "Material.toJSON"
                    }
                };
                function i(e) {
                    var t = [];
                    for (var n in e) {
                        var i = e[n];
                        delete i.metadata,
                        t.push(i)
                    }
                    return t
                }
                if (n.uuid = this.uuid,
                n.type = this.type,
                "" !== this.name && (n.name = this.name),
                this.color && this.color.isColor && (n.color = this.color.getHex()),
                void 0 !== this.roughness && (n.roughness = this.roughness),
                void 0 !== this.metalness && (n.metalness = this.metalness),
                this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()),
                this.specular && this.specular.isColor && (n.specular = this.specular.getHex()),
                void 0 !== this.shininess && (n.shininess = this.shininess),
                void 0 !== this.clearCoat && (n.clearCoat = this.clearCoat),
                void 0 !== this.clearCoatRoughness && (n.clearCoatRoughness = this.clearCoatRoughness),
                this.map && this.map.isTexture && (n.map = this.map.toJSON(e).uuid),
                this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(e).uuid),
                this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(e).uuid),
                this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(e).uuid,
                n.bumpScale = this.bumpScale),
                this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(e).uuid,
                n.normalScale = this.normalScale.toArray()),
                this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(e).uuid,
                n.displacementScale = this.displacementScale,
                n.displacementBias = this.displacementBias),
                this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(e).uuid),
                this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(e).uuid),
                this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(e).uuid),
                this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(e).uuid),
                this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(e).uuid,
                n.reflectivity = this.reflectivity),
                this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(e).uuid),
                void 0 !== this.size && (n.size = this.size),
                void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation),
                this.blending !== X && (n.blending = this.blending),
                this.shading !== l && (n.shading = this.shading),
                this.side !== B && (n.side = this.side),
                this.vertexColors !== Pe && (n.vertexColors = this.vertexColors),
                this.opacity < 1 && (n.opacity = this.opacity),
                !0 === this.transparent && (n.transparent = this.transparent),
                n.depthFunc = this.depthFunc,
                n.depthTest = this.depthTest,
                n.depthWrite = this.depthWrite,
                0 < this.alphaTest && (n.alphaTest = this.alphaTest),
                !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha),
                !0 === this.wireframe && (n.wireframe = this.wireframe),
                1 < this.wireframeLinewidth && (n.wireframeLinewidth = this.wireframeLinewidth),
                "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap),
                "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin),
                n.skinning = this.skinning,
                n.morphTargets = this.morphTargets,
                n.dithering = this.dithering,
                t) {
                    var r = i(e.textures)
                      , a = i(e.images);
                    0 < r.length && (n.textures = r),
                    0 < a.length && (n.images = a)
                }
                return n
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                this.name = e.name,
                this.fog = e.fog,
                this.lights = e.lights,
                this.blending = e.blending,
                this.side = e.side,
                this.shading = e.shading,
                this.vertexColors = e.vertexColors,
                this.opacity = e.opacity,
                this.transparent = e.transparent,
                this.blendSrc = e.blendSrc,
                this.blendDst = e.blendDst,
                this.blendEquation = e.blendEquation,
                this.blendSrcAlpha = e.blendSrcAlpha,
                this.blendDstAlpha = e.blendDstAlpha,
                this.blendEquationAlpha = e.blendEquationAlpha,
                this.depthFunc = e.depthFunc,
                this.depthTest = e.depthTest,
                this.depthWrite = e.depthWrite,
                this.colorWrite = e.colorWrite,
                this.precision = e.precision,
                this.polygonOffset = e.polygonOffset,
                this.polygonOffsetFactor = e.polygonOffsetFactor,
                this.polygonOffsetUnits = e.polygonOffsetUnits,
                this.dithering = e.dithering,
                this.alphaTest = e.alphaTest,
                this.premultipliedAlpha = e.premultipliedAlpha,
                this.overdraw = e.overdraw,
                this.visible = e.visible,
                this.clipShadows = e.clipShadows,
                this.clipIntersection = e.clipIntersection;
                var t = e.clippingPlanes
                  , n = null;
                if (null !== t) {
                    var i = t.length;
                    n = new Array(i);
                    for (var r = 0; r !== i; ++r)
                        n[r] = t[r].clone()
                }
                return this.clippingPlanes = n,
                this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }),
        ((_n.prototype = Object.create(bn.prototype)).constructor = _n).prototype.isShaderMaterial = !0,
        _n.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.fragmentShader = e.fragmentShader,
            this.vertexShader = e.vertexShader,
            this.uniforms = qt.clone(e.uniforms),
            this.defines = e.defines,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.lights = e.lights,
            this.clipping = e.clipping,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.morphNormals = e.morphNormals,
            this.extensions = e.extensions,
            this
        }
        ,
        _n.prototype.toJSON = function(e) {
            var t = bn.prototype.toJSON.call(this, e);
            return t.uniforms = this.uniforms,
            t.vertexShader = this.vertexShader,
            t.fragmentShader = this.fragmentShader,
            t
        }
        ,
        ((wn.prototype = Object.create(bn.prototype)).constructor = wn).prototype.isMeshDepthMaterial = !0,
        wn.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.depthPacking = e.depthPacking,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.map = e.map,
            this.alphaMap = e.alphaMap,
            this.displacementMap = e.displacementMap,
            this.displacementScale = e.displacementScale,
            this.displacementBias = e.displacementBias,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this
        }
        ,
        Object.assign(xn.prototype, {
            isBox3: !0,
            set: function(e, t) {
                return this.min.copy(e),
                this.max.copy(t),
                this
            },
            setFromArray: function(e) {
                for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, l = e.length; s < l; s += 3) {
                    var u = e[s]
                      , c = e[s + 1]
                      , h = e[s + 2];
                    u < t && (t = u),
                    c < n && (n = c),
                    h < i && (i = h),
                    r < u && (r = u),
                    a < c && (a = c),
                    o < h && (o = h)
                }
                return this.min.set(t, n, i),
                this.max.set(r, a, o),
                this
            },
            setFromBufferAttribute: function(e) {
                for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, l = e.count; s < l; s++) {
                    var u = e.getX(s)
                      , c = e.getY(s)
                      , h = e.getZ(s);
                    u < t && (t = u),
                    c < n && (n = c),
                    h < i && (i = h),
                    r < u && (r = u),
                    a < c && (a = c),
                    o < h && (o = h)
                }
                return this.min.set(t, n, i),
                this.max.set(r, a, o),
                this
            },
            setFromPoints: function(e) {
                this.makeEmpty();
                for (var t = 0, n = e.length; t < n; t++)
                    this.expandByPoint(e[t]);
                return this
            },
            setFromCenterAndSize: (rn = new Je,
            function(e, t) {
                var n = rn.copy(t).multiplyScalar(.5);
                return this.min.copy(e).sub(n),
                this.max.copy(e).add(n),
                this
            }
            ),
            setFromObject: function(e) {
                return this.makeEmpty(),
                this.expandByObject(e)
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.min.copy(e.min),
                this.max.copy(e.max),
                this
            },
            makeEmpty: function() {
                return this.min.x = this.min.y = this.min.z = 1 / 0,
                this.max.x = this.max.y = this.max.z = -1 / 0,
                this
            },
            isEmpty: function() {
                return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
            },
            getCenter: function(e) {
                var t = e || new Je;
                return this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
            },
            getSize: function(e) {
                var t = e || new Je;
                return this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
            },
            expandByPoint: function(e) {
                return this.min.min(e),
                this.max.max(e),
                this
            },
            expandByVector: function(e) {
                return this.min.sub(e),
                this.max.add(e),
                this
            },
            expandByScalar: function(e) {
                return this.min.addScalar(-e),
                this.max.addScalar(e),
                this
            },
            expandByObject: (nn = new Je,
            function(e) {
                var o = this;
                return e.updateMatrixWorld(!0),
                e.traverse(function(e) {
                    var t, n, i = e.geometry;
                    if (void 0 !== i)
                        if (i.isGeometry) {
                            var r = i.vertices;
                            for (t = 0,
                            n = r.length; t < n; t++)
                                nn.copy(r[t]),
                                nn.applyMatrix4(e.matrixWorld),
                                o.expandByPoint(nn)
                        } else if (i.isBufferGeometry) {
                            var a = i.attributes.position;
                            if (void 0 !== a)
                                for (t = 0,
                                n = a.count; t < n; t++)
                                    nn.fromBufferAttribute(a, t).applyMatrix4(e.matrixWorld),
                                    o.expandByPoint(nn)
                        }
                }),
                this
            }
            ),
            containsPoint: function(e) {
                return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z)
            },
            containsBox: function(e) {
                return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z
            },
            getParameter: function(e, t) {
                return (t || new Je).set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y), (e.z - this.min.z) / (this.max.z - this.min.z))
            },
            intersectsBox: function(e) {
                return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z)
            },
            intersectsSphere: (tn = new Je,
            function(e) {
                return this.clampPoint(e.center, tn),
                tn.distanceToSquared(e.center) <= e.radius * e.radius
            }
            ),
            intersectsPlane: function(e) {
                var t, n;
                return n = 0 < e.normal.x ? (t = e.normal.x * this.min.x,
                e.normal.x * this.max.x) : (t = e.normal.x * this.max.x,
                e.normal.x * this.min.x),
                0 < e.normal.y ? (t += e.normal.y * this.min.y,
                n += e.normal.y * this.max.y) : (t += e.normal.y * this.max.y,
                n += e.normal.y * this.min.y),
                0 < e.normal.z ? (t += e.normal.z * this.min.z,
                n += e.normal.z * this.max.z) : (t += e.normal.z * this.max.z,
                n += e.normal.z * this.min.z),
                t <= e.constant && n >= e.constant
            },
            clampPoint: function(e, t) {
                return (t || new Je).copy(e).clamp(this.min, this.max)
            },
            distanceToPoint: (en = new Je,
            function(e) {
                return en.copy(e).clamp(this.min, this.max).sub(e).length()
            }
            ),
            getBoundingSphere: (Jt = new Je,
            function(e) {
                var t = e || new Tn;
                return this.getCenter(t.center),
                t.radius = .5 * this.getSize(Jt).length(),
                t
            }
            ),
            intersect: function(e) {
                return this.min.max(e.min),
                this.max.min(e.max),
                this.isEmpty() && this.makeEmpty(),
                this
            },
            union: function(e) {
                return this.min.min(e.min),
                this.max.max(e.max),
                this
            },
            applyMatrix4: (Qt = [new Je, new Je, new Je, new Je, new Je, new Je, new Je, new Je],
            function(e) {
                return this.isEmpty() || (Qt[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e),
                Qt[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e),
                Qt[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e),
                Qt[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e),
                Qt[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e),
                Qt[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e),
                Qt[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e),
                Qt[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e),
                this.setFromPoints(Qt)),
                this
            }
            ),
            translate: function(e) {
                return this.min.add(e),
                this.max.add(e),
                this
            },
            equals: function(e) {
                return e.min.equals(this.min) && e.max.equals(this.max)
            }
        }),
        Object.assign(Tn.prototype, {
            set: function(e, t) {
                return this.center.copy(e),
                this.radius = t,
                this
            },
            setFromPoints: (an = new xn,
            function(e, t) {
                var n = this.center;
                void 0 !== t ? n.copy(t) : an.setFromPoints(e).getCenter(n);
                for (var i = 0, r = 0, a = e.length; r < a; r++)
                    i = Math.max(i, n.distanceToSquared(e[r]));
                return this.radius = Math.sqrt(i),
                this
            }
            ),
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.center.copy(e.center),
                this.radius = e.radius,
                this
            },
            empty: function() {
                return this.radius <= 0
            },
            containsPoint: function(e) {
                return e.distanceToSquared(this.center) <= this.radius * this.radius
            },
            distanceToPoint: function(e) {
                return e.distanceTo(this.center) - this.radius
            },
            intersectsSphere: function(e) {
                var t = this.radius + e.radius;
                return e.center.distanceToSquared(this.center) <= t * t
            },
            intersectsBox: function(e) {
                return e.intersectsSphere(this)
            },
            intersectsPlane: function(e) {
                return Math.abs(this.center.dot(e.normal) - e.constant) <= this.radius
            },
            clampPoint: function(e, t) {
                var n = this.center.distanceToSquared(e)
                  , i = t || new Je;
                return i.copy(e),
                n > this.radius * this.radius && (i.sub(this.center).normalize(),
                i.multiplyScalar(this.radius).add(this.center)),
                i
            },
            getBoundingBox: function(e) {
                var t = e || new xn;
                return t.set(this.center, this.center),
                t.expandByScalar(this.radius),
                t
            },
            applyMatrix4: function(e) {
                return this.center.applyMatrix4(e),
                this.radius = this.radius * e.getMaxScaleOnAxis(),
                this
            },
            translate: function(e) {
                return this.center.add(e),
                this
            },
            equals: function(e) {
                return e.center.equals(this.center) && e.radius === this.radius
            }
        }),
        Object.assign(Sn.prototype, {
            isMatrix3: !0,
            set: function(e, t, n, i, r, a, o, s, l) {
                var u = this.elements;
                return u[0] = e,
                u[1] = i,
                u[2] = o,
                u[3] = t,
                u[4] = r,
                u[5] = s,
                u[6] = n,
                u[7] = a,
                u[8] = l,
                this
            },
            identity: function() {
                return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
                this
            },
            clone: function() {
                return (new this.constructor).fromArray(this.elements)
            },
            copy: function(e) {
                var t = this.elements
                  , n = e.elements;
                return t[0] = n[0],
                t[1] = n[1],
                t[2] = n[2],
                t[3] = n[3],
                t[4] = n[4],
                t[5] = n[5],
                t[6] = n[6],
                t[7] = n[7],
                t[8] = n[8],
                this
            },
            setFromMatrix4: function(e) {
                var t = e.elements;
                return this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]),
                this
            },
            applyToBufferAttribute: (on = new Je,
            function(e) {
                for (var t = 0, n = e.count; t < n; t++)
                    on.x = e.getX(t),
                    on.y = e.getY(t),
                    on.z = e.getZ(t),
                    on.applyMatrix3(this),
                    e.setXYZ(t, on.x, on.y, on.z);
                return e
            }
            ),
            multiply: function(e) {
                return this.multiplyMatrices(this, e)
            },
            premultiply: function(e) {
                return this.multiplyMatrices(e, this)
            },
            multiplyMatrices: function(e, t) {
                var n = e.elements
                  , i = t.elements
                  , r = this.elements
                  , a = n[0]
                  , o = n[3]
                  , s = n[6]
                  , l = n[1]
                  , u = n[4]
                  , c = n[7]
                  , h = n[2]
                  , d = n[5]
                  , p = n[8]
                  , f = i[0]
                  , m = i[3]
                  , g = i[6]
                  , v = i[1]
                  , y = i[4]
                  , b = i[7]
                  , _ = i[2]
                  , w = i[5]
                  , x = i[8];
                return r[0] = a * f + o * v + s * _,
                r[3] = a * m + o * y + s * w,
                r[6] = a * g + o * b + s * x,
                r[1] = l * f + u * v + c * _,
                r[4] = l * m + u * y + c * w,
                r[7] = l * g + u * b + c * x,
                r[2] = h * f + d * v + p * _,
                r[5] = h * m + d * y + p * w,
                r[8] = h * g + d * b + p * x,
                this
            },
            multiplyScalar: function(e) {
                var t = this.elements;
                return t[0] *= e,
                t[3] *= e,
                t[6] *= e,
                t[1] *= e,
                t[4] *= e,
                t[7] *= e,
                t[2] *= e,
                t[5] *= e,
                t[8] *= e,
                this
            },
            determinant: function() {
                var e = this.elements
                  , t = e[0]
                  , n = e[1]
                  , i = e[2]
                  , r = e[3]
                  , a = e[4]
                  , o = e[5]
                  , s = e[6]
                  , l = e[7]
                  , u = e[8];
                return t * a * u - t * o * l - n * r * u + n * o * s + i * r * l - i * a * s
            },
            getInverse: function(e, t) {
                e && e.isMatrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
                var n = e.elements
                  , i = this.elements
                  , r = n[0]
                  , a = n[1]
                  , o = n[2]
                  , s = n[3]
                  , l = n[4]
                  , u = n[5]
                  , c = n[6]
                  , h = n[7]
                  , d = n[8]
                  , p = d * l - u * h
                  , f = u * c - d * s
                  , m = h * s - l * c
                  , g = r * p + a * f + o * m;
                if (0 == g) {
                    var v = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";
                    if (!0 === t)
                        throw new Error(v);
                    return console.warn(v),
                    this.identity()
                }
                var y = 1 / g;
                return i[0] = p * y,
                i[1] = (o * h - d * a) * y,
                i[2] = (u * a - o * l) * y,
                i[3] = f * y,
                i[4] = (d * r - o * c) * y,
                i[5] = (o * s - u * r) * y,
                i[6] = m * y,
                i[7] = (a * c - h * r) * y,
                i[8] = (l * r - a * s) * y,
                this
            },
            transpose: function() {
                var e, t = this.elements;
                return e = t[1],
                t[1] = t[3],
                t[3] = e,
                e = t[2],
                t[2] = t[6],
                t[6] = e,
                e = t[5],
                t[5] = t[7],
                t[7] = e,
                this
            },
            getNormalMatrix: function(e) {
                return this.setFromMatrix4(e).getInverse(this).transpose()
            },
            transposeIntoArray: function(e) {
                var t = this.elements;
                return e[0] = t[0],
                e[1] = t[3],
                e[2] = t[6],
                e[3] = t[1],
                e[4] = t[4],
                e[5] = t[7],
                e[6] = t[2],
                e[7] = t[5],
                e[8] = t[8],
                this
            },
            equals: function(e) {
                for (var t = this.elements, n = e.elements, i = 0; i < 9; i++)
                    if (t[i] !== n[i])
                        return !1;
                return !0
            },
            fromArray: function(e, t) {
                void 0 === t && (t = 0);
                for (var n = 0; n < 9; n++)
                    this.elements[n] = e[n + t];
                return this
            },
            toArray: function(e, t) {
                void 0 === e && (e = []),
                void 0 === t && (t = 0);
                var n = this.elements;
                return e[t] = n[0],
                e[t + 1] = n[1],
                e[t + 2] = n[2],
                e[t + 3] = n[3],
                e[t + 4] = n[4],
                e[t + 5] = n[5],
                e[t + 6] = n[6],
                e[t + 7] = n[7],
                e[t + 8] = n[8],
                e
            }
        }),
        Object.assign(En.prototype, {
            set: function(e, t) {
                return this.normal.copy(e),
                this.constant = t,
                this
            },
            setComponents: function(e, t, n, i) {
                return this.normal.set(e, t, n),
                this.constant = i,
                this
            },
            setFromNormalAndCoplanarPoint: function(e, t) {
                return this.normal.copy(e),
                this.constant = -t.dot(this.normal),
                this
            },
            setFromCoplanarPoints: (cn = new Je,
            hn = new Je,
            function(e, t, n) {
                var i = cn.subVectors(n, t).cross(hn.subVectors(e, t)).normalize();
                return this.setFromNormalAndCoplanarPoint(i, e),
                this
            }
            ),
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.normal.copy(e.normal),
                this.constant = e.constant,
                this
            },
            normalize: function() {
                var e = 1 / this.normal.length();
                return this.normal.multiplyScalar(e),
                this.constant *= e,
                this
            },
            negate: function() {
                return this.constant *= -1,
                this.normal.negate(),
                this
            },
            distanceToPoint: function(e) {
                return this.normal.dot(e) + this.constant
            },
            distanceToSphere: function(e) {
                return this.distanceToPoint(e.center) - e.radius
            },
            projectPoint: function(e, t) {
                return this.orthoPoint(e, t).sub(e).negate()
            },
            orthoPoint: function(e, t) {
                var n = this.distanceToPoint(e);
                return (t || new Je).copy(this.normal).multiplyScalar(n)
            },
            intersectLine: (un = new Je,
            function(e, t) {
                var n = t || new Je
                  , i = e.delta(un)
                  , r = this.normal.dot(i);
                if (0 === r)
                    return 0 === this.distanceToPoint(e.start) ? n.copy(e.start) : void 0;
                var a = -(e.start.dot(this.normal) + this.constant) / r;
                return a < 0 || 1 < a ? void 0 : n.copy(i).multiplyScalar(a).add(e.start)
            }
            ),
            intersectsLine: function(e) {
                var t = this.distanceToPoint(e.start)
                  , n = this.distanceToPoint(e.end);
                return t < 0 && 0 < n || n < 0 && 0 < t
            },
            intersectsBox: function(e) {
                return e.intersectsPlane(this)
            },
            intersectsSphere: function(e) {
                return e.intersectsPlane(this)
            },
            coplanarPoint: function(e) {
                return (e || new Je).copy(this.normal).multiplyScalar(-this.constant)
            },
            applyMatrix4: (sn = new Je,
            ln = new Sn,
            function(e, t) {
                var n = this.coplanarPoint(sn).applyMatrix4(e)
                  , i = t || ln.getNormalMatrix(e)
                  , r = this.normal.applyMatrix3(i).normalize();
                return this.constant = -n.dot(r),
                this
            }
            ),
            translate: function(e) {
                return this.constant = this.constant - e.dot(this.normal),
                this
            },
            equals: function(e) {
                return e.normal.equals(this.normal) && e.constant === this.constant
            }
        }),
        Object.assign(Cn.prototype, {
            set: function(e, t, n, i, r, a) {
                var o = this.planes;
                return o[0].copy(e),
                o[1].copy(t),
                o[2].copy(n),
                o[3].copy(i),
                o[4].copy(r),
                o[5].copy(a),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                for (var t = this.planes, n = 0; n < 6; n++)
                    t[n].copy(e.planes[n]);
                return this
            },
            setFromMatrix: function(e) {
                var t = this.planes
                  , n = e.elements
                  , i = n[0]
                  , r = n[1]
                  , a = n[2]
                  , o = n[3]
                  , s = n[4]
                  , l = n[5]
                  , u = n[6]
                  , c = n[7]
                  , h = n[8]
                  , d = n[9]
                  , p = n[10]
                  , f = n[11]
                  , m = n[12]
                  , g = n[13]
                  , v = n[14]
                  , y = n[15];
                return t[0].setComponents(o - i, c - s, f - h, y - m).normalize(),
                t[1].setComponents(o + i, c + s, f + h, y + m).normalize(),
                t[2].setComponents(o + r, c + l, f + d, y + g).normalize(),
                t[3].setComponents(o - r, c - l, f - d, y - g).normalize(),
                t[4].setComponents(o - a, c - u, f - p, y - v).normalize(),
                t[5].setComponents(o + a, c + u, f + p, y + v).normalize(),
                this
            },
            intersectsObject: (mn = new Tn,
            function(e) {
                var t = e.geometry;
                return null === t.boundingSphere && t.computeBoundingSphere(),
                mn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),
                this.intersectsSphere(mn)
            }
            ),
            intersectsSprite: (fn = new Tn,
            function(e) {
                return fn.center.set(0, 0, 0),
                fn.radius = .7071067811865476,
                fn.applyMatrix4(e.matrixWorld),
                this.intersectsSphere(fn)
            }
            ),
            intersectsSphere: function(e) {
                for (var t = this.planes, n = e.center, i = -e.radius, r = 0; r < 6; r++) {
                    if (t[r].distanceToPoint(n) < i)
                        return !1
                }
                return !0
            },
            intersectsBox: (dn = new Je,
            pn = new Je,
            function(e) {
                for (var t = this.planes, n = 0; n < 6; n++) {
                    var i = t[n];
                    dn.x = 0 < i.normal.x ? e.min.x : e.max.x,
                    pn.x = 0 < i.normal.x ? e.max.x : e.min.x,
                    dn.y = 0 < i.normal.y ? e.min.y : e.max.y,
                    pn.y = 0 < i.normal.y ? e.max.y : e.min.y,
                    dn.z = 0 < i.normal.z ? e.min.z : e.max.z,
                    pn.z = 0 < i.normal.z ? e.max.z : e.min.z;
                    var r = i.distanceToPoint(dn)
                      , a = i.distanceToPoint(pn);
                    if (r < 0 && a < 0)
                        return !1
                }
                return !0
            }
            ),
            containsPoint: function(e) {
                for (var t = this.planes, n = 0; n < 6; n++)
                    if (t[n].distanceToPoint(e) < 0)
                        return !1;
                return !0
            }
        }),
        Pn.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"],
        Pn.DefaultOrder = "XYZ",
        Object.defineProperties(Pn.prototype, {
            x: {
                get: function() {
                    return this._x
                },
                set: function(e) {
                    this._x = e,
                    this.onChangeCallback()
                }
            },
            y: {
                get: function() {
                    return this._y
                },
                set: function(e) {
                    this._y = e,
                    this.onChangeCallback()
                }
            },
            z: {
                get: function() {
                    return this._z
                },
                set: function(e) {
                    this._z = e,
                    this.onChangeCallback()
                }
            },
            order: {
                get: function() {
                    return this._order
                },
                set: function(e) {
                    this._order = e,
                    this.onChangeCallback()
                }
            }
        }),
        Object.assign(Pn.prototype, {
            isEuler: !0,
            set: function(e, t, n, i) {
                return this._x = e,
                this._y = t,
                this._z = n,
                this._order = i || this._order,
                this.onChangeCallback(),
                this
            },
            clone: function() {
                return new this.constructor(this._x,this._y,this._z,this._order)
            },
            copy: function(e) {
                return this._x = e._x,
                this._y = e._y,
                this._z = e._z,
                this._order = e._order,
                this.onChangeCallback(),
                this
            },
            setFromRotationMatrix: function(e, t, n) {
                var i = Ze.clamp
                  , r = e.elements
                  , a = r[0]
                  , o = r[4]
                  , s = r[8]
                  , l = r[1]
                  , u = r[5]
                  , c = r[9]
                  , h = r[2]
                  , d = r[6]
                  , p = r[10];
                return "XYZ" === (t = t || this._order) ? (this._y = Math.asin(i(s, -1, 1)),
                Math.abs(s) < .99999 ? (this._x = Math.atan2(-c, p),
                this._z = Math.atan2(-o, a)) : (this._x = Math.atan2(d, u),
                this._z = 0)) : "YXZ" === t ? (this._x = Math.asin(-i(c, -1, 1)),
                Math.abs(c) < .99999 ? (this._y = Math.atan2(s, p),
                this._z = Math.atan2(l, u)) : (this._y = Math.atan2(-h, a),
                this._z = 0)) : "ZXY" === t ? (this._x = Math.asin(i(d, -1, 1)),
                Math.abs(d) < .99999 ? (this._y = Math.atan2(-h, p),
                this._z = Math.atan2(-o, u)) : (this._y = 0,
                this._z = Math.atan2(l, a))) : "ZYX" === t ? (this._y = Math.asin(-i(h, -1, 1)),
                Math.abs(h) < .99999 ? (this._x = Math.atan2(d, p),
                this._z = Math.atan2(l, a)) : (this._x = 0,
                this._z = Math.atan2(-o, u))) : "YZX" === t ? (this._z = Math.asin(i(l, -1, 1)),
                Math.abs(l) < .99999 ? (this._x = Math.atan2(-c, u),
                this._y = Math.atan2(-h, a)) : (this._x = 0,
                this._y = Math.atan2(s, p))) : "XZY" === t ? (this._z = Math.asin(-i(o, -1, 1)),
                Math.abs(o) < .99999 ? (this._x = Math.atan2(d, u),
                this._y = Math.atan2(s, a)) : (this._x = Math.atan2(-c, p),
                this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + t),
                this._order = t,
                !1 !== n && this.onChangeCallback(),
                this
            },
            setFromQuaternion: (vn = new et,
            function(e, t, n) {
                return vn.makeRotationFromQuaternion(e),
                this.setFromRotationMatrix(vn, t, n)
            }
            ),
            setFromVector3: function(e, t) {
                return this.set(e.x, e.y, e.z, t || this._order)
            },
            reorder: (gn = new Ee,
            function(e) {
                return gn.setFromEuler(this),
                this.setFromQuaternion(gn, e)
            }
            ),
            equals: function(e) {
                return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order
            },
            fromArray: function(e) {
                return this._x = e[0],
                this._y = e[1],
                this._z = e[2],
                void 0 !== e[3] && (this._order = e[3]),
                this.onChangeCallback(),
                this
            },
            toArray: function(e, t) {
                return void 0 === e && (e = []),
                void 0 === t && (t = 0),
                e[t] = this._x,
                e[t + 1] = this._y,
                e[t + 2] = this._z,
                e[t + 3] = this._order,
                e
            },
            toVector3: function(e) {
                return e ? e.set(this._x, this._y, this._z) : new Je(this._x,this._y,this._z)
            },
            onChange: function(e) {
                return this.onChangeCallback = e,
                this
            },
            onChangeCallback: function() {}
        }),
        Object.assign(An.prototype, {
            set: function(e) {
                this.mask = 1 << e | 0
            },
            enable: function(e) {
                this.mask |= 1 << e | 0
            },
            toggle: function(e) {
                this.mask ^= 1 << e | 0
            },
            disable: function(e) {
                this.mask &= ~(1 << e | 0)
            },
            test: function(e) {
                return 0 != (this.mask & e.mask)
            }
        });
        var In, Ln, On, Rn, Dn, Nn, Fn, Bn, Un, jn, zn, Hn, Vn, Gn, Wn, qn, $n, Xn = 0;
        function Yn() {
            Object.defineProperty(this, "id", {
                value: Xn++
            }),
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.type = "Object3D",
            this.parent = null,
            this.children = [],
            this.up = Yn.DefaultUp.clone();
            var e = new Je
              , t = new Pn
              , n = new Ee
              , i = new Je(1,1,1);
            t.onChange(function() {
                n.setFromEuler(t, !1)
            }),
            n.onChange(function() {
                t.setFromQuaternion(n, void 0, !1)
            }),
            Object.defineProperties(this, {
                position: {
                    enumerable: !0,
                    value: e
                },
                rotation: {
                    enumerable: !0,
                    value: t
                },
                quaternion: {
                    enumerable: !0,
                    value: n
                },
                scale: {
                    enumerable: !0,
                    value: i
                },
                modelViewMatrix: {
                    value: new et
                },
                normalMatrix: {
                    value: new Sn
                }
            }),
            this.matrix = new et,
            this.matrixWorld = new et,
            this.matrixAutoUpdate = Yn.DefaultMatrixAutoUpdate,
            this.matrixWorldNeedsUpdate = !1,
            this.layers = new An,
            this.visible = !0,
            this.castShadow = !1,
            this.receiveShadow = !1,
            this.frustumCulled = !0,
            this.renderOrder = 0,
            this.userData = {}
        }
        function Kn() {
            Yn.call(this),
            this.type = "Camera",
            this.matrixWorldInverse = new et,
            this.projectionMatrix = new et
        }
        function Zn(e, t, n, i, r, a) {
            Kn.call(this),
            this.type = "OrthographicCamera",
            this.zoom = 1,
            this.view = null,
            this.left = e,
            this.right = t,
            this.top = n,
            this.bottom = i,
            this.near = void 0 !== r ? r : .1,
            this.far = void 0 !== a ? a : 2e3,
            this.updateProjectionMatrix()
        }
        function Qn(e, t, n, i) {
            Kn.call(this),
            this.type = "PerspectiveCamera",
            this.fov = void 0 !== e ? e : 50,
            this.zoom = 1,
            this.near = void 0 !== n ? n : .1,
            this.far = void 0 !== i ? i : 2e3,
            this.focus = 10,
            this.aspect = void 0 !== t ? t : 1,
            this.view = null,
            this.filmGauge = 35,
            this.filmOffset = 0,
            this.updateProjectionMatrix()
        }
        function Jn(e, t, n, i, r, a) {
            this.a = e,
            this.b = t,
            this.c = n,
            this.normal = i && i.isVector3 ? i : new Je,
            this.vertexNormals = Array.isArray(i) ? i : [],
            this.color = r && r.isColor ? r : new zt,
            this.vertexColors = Array.isArray(r) ? r : [],
            this.materialIndex = void 0 !== a ? a : 0
        }
        Yn.DefaultUp = new Je(0,1,0),
        Yn.DefaultMatrixAutoUpdate = !0,
        Object.assign(Yn.prototype, t.prototype, {
            isObject3D: !0,
            onBeforeRender: function() {},
            onAfterRender: function() {},
            applyMatrix: function(e) {
                this.matrix.multiplyMatrices(e, this.matrix),
                this.matrix.decompose(this.position, this.quaternion, this.scale)
            },
            applyQuaternion: function(e) {
                return this.quaternion.premultiply(e),
                this
            },
            setRotationFromAxisAngle: function(e, t) {
                this.quaternion.setFromAxisAngle(e, t)
            },
            setRotationFromEuler: function(e) {
                this.quaternion.setFromEuler(e, !0)
            },
            setRotationFromMatrix: function(e) {
                this.quaternion.setFromRotationMatrix(e)
            },
            setRotationFromQuaternion: function(e) {
                this.quaternion.copy(e)
            },
            rotateOnAxis: (qn = new Ee,
            function(e, t) {
                return qn.setFromAxisAngle(e, t),
                this.quaternion.multiply(qn),
                this
            }
            ),
            rotateX: (Wn = new Je(1,0,0),
            function(e) {
                return this.rotateOnAxis(Wn, e)
            }
            ),
            rotateY: (Gn = new Je(0,1,0),
            function(e) {
                return this.rotateOnAxis(Gn, e)
            }
            ),
            rotateZ: (Vn = new Je(0,0,1),
            function(e) {
                return this.rotateOnAxis(Vn, e)
            }
            ),
            translateOnAxis: (Hn = new Je,
            function(e, t) {
                return Hn.copy(e).applyQuaternion(this.quaternion),
                this.position.add(Hn.multiplyScalar(t)),
                this
            }
            ),
            translateX: (zn = new Je(1,0,0),
            function(e) {
                return this.translateOnAxis(zn, e)
            }
            ),
            translateY: (jn = new Je(0,1,0),
            function(e) {
                return this.translateOnAxis(jn, e)
            }
            ),
            translateZ: (Un = new Je(0,0,1),
            function(e) {
                return this.translateOnAxis(Un, e)
            }
            ),
            localToWorld: function(e) {
                return e.applyMatrix4(this.matrixWorld)
            },
            worldToLocal: (Bn = new et,
            function(e) {
                return e.applyMatrix4(Bn.getInverse(this.matrixWorld))
            }
            ),
            lookAt: (Fn = new et,
            function(e) {
                this.isCamera ? Fn.lookAt(this.position, e, this.up) : Fn.lookAt(e, this.position, this.up),
                this.quaternion.setFromRotationMatrix(Fn)
            }
            ),
            add: function(e) {
                if (1 < arguments.length) {
                    for (var t = 0; t < arguments.length; t++)
                        this.add(arguments[t]);
                    return this
                }
                return e === this ? console.error("THREE.Object3D.add: object can't be added as a child of itself.", e) : e && e.isObject3D ? (null !== e.parent && e.parent.remove(e),
                e.parent = this,
                e.dispatchEvent({
                    type: "added"
                }),
                this.children.push(e)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e),
                this
            },
            remove: function(e) {
                if (1 < arguments.length) {
                    for (var t = 0; t < arguments.length; t++)
                        this.remove(arguments[t]);
                    return this
                }
                var n = this.children.indexOf(e);
                return -1 !== n && (e.parent = null,
                e.dispatchEvent({
                    type: "removed"
                }),
                this.children.splice(n, 1)),
                this
            },
            getObjectById: function(e) {
                return this.getObjectByProperty("id", e)
            },
            getObjectByName: function(e) {
                return this.getObjectByProperty("name", e)
            },
            getObjectByProperty: function(e, t) {
                if (this[e] === t)
                    return this;
                for (var n = 0, i = this.children.length; n < i; n++) {
                    var r = this.children[n].getObjectByProperty(e, t);
                    if (void 0 !== r)
                        return r
                }
            },
            getWorldPosition: function(e) {
                var t = e || new Je;
                return this.updateMatrixWorld(!0),
                t.setFromMatrixPosition(this.matrixWorld)
            },
            getWorldQuaternion: (Dn = new Je,
            Nn = new Je,
            function(e) {
                var t = e || new Ee;
                return this.updateMatrixWorld(!0),
                this.matrixWorld.decompose(Dn, t, Nn),
                t
            }
            ),
            getWorldRotation: (Rn = new Ee,
            function(e) {
                var t = e || new Pn;
                return this.getWorldQuaternion(Rn),
                t.setFromQuaternion(Rn, this.rotation.order, !1)
            }
            ),
            getWorldScale: (Ln = new Je,
            On = new Ee,
            function(e) {
                var t = e || new Je;
                return this.updateMatrixWorld(!0),
                this.matrixWorld.decompose(Ln, On, t),
                t
            }
            ),
            getWorldDirection: (In = new Ee,
            function(e) {
                var t = e || new Je;
                return this.getWorldQuaternion(In),
                t.set(0, 0, 1).applyQuaternion(In)
            }
            ),
            raycast: function() {},
            traverse: function(e) {
                e(this);
                for (var t = this.children, n = 0, i = t.length; n < i; n++)
                    t[n].traverse(e)
            },
            traverseVisible: function(e) {
                if (!1 !== this.visible) {
                    e(this);
                    for (var t = this.children, n = 0, i = t.length; n < i; n++)
                        t[n].traverseVisible(e)
                }
            },
            traverseAncestors: function(e) {
                var t = this.parent;
                null !== t && (e(t),
                t.traverseAncestors(e))
            },
            updateMatrix: function() {
                this.matrix.compose(this.position, this.quaternion, this.scale),
                this.matrixWorldNeedsUpdate = !0
            },
            updateMatrixWorld: function(e) {
                this.matrixAutoUpdate && this.updateMatrix(),
                (this.matrixWorldNeedsUpdate || e) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix),
                e = !(this.matrixWorldNeedsUpdate = !1));
                for (var t = this.children, n = 0, i = t.length; n < i; n++)
                    t[n].updateMatrixWorld(e)
            },
            toJSON: function(n) {
                var e = void 0 === n || "" === n
                  , t = {};
                e && (n = {
                    geometries: {},
                    materials: {},
                    textures: {},
                    images: {}
                },
                t.metadata = {
                    version: 4.5,
                    type: "Object",
                    generator: "Object3D.toJSON"
                });
                var i = {};
                function r(e, t) {
                    return void 0 === e[t.uuid] && (e[t.uuid] = t.toJSON(n)),
                    t.uuid
                }
                if (i.uuid = this.uuid,
                i.type = this.type,
                "" !== this.name && (i.name = this.name),
                "{}" !== JSON.stringify(this.userData) && (i.userData = this.userData),
                !0 === this.castShadow && (i.castShadow = !0),
                !0 === this.receiveShadow && (i.receiveShadow = !0),
                !1 === this.visible && (i.visible = !1),
                i.matrix = this.matrix.toArray(),
                void 0 !== this.geometry && (i.geometry = r(n.geometries, this.geometry)),
                void 0 !== this.material)
                    if (Array.isArray(this.material)) {
                        for (var a = [], o = 0, s = this.material.length; o < s; o++)
                            a.push(r(n.materials, this.material[o]));
                        i.material = a
                    } else
                        i.material = r(n.materials, this.material);
                if (0 < this.children.length) {
                    i.children = [];
                    for (o = 0; o < this.children.length; o++)
                        i.children.push(this.children[o].toJSON(n).object)
                }
                if (e) {
                    var l = d(n.geometries)
                      , u = d(n.materials)
                      , c = d(n.textures)
                      , h = d(n.images);
                    0 < l.length && (t.geometries = l),
                    0 < u.length && (t.materials = u),
                    0 < c.length && (t.textures = c),
                    0 < h.length && (t.images = h)
                }
                return t.object = i,
                t;
                function d(e) {
                    var t = [];
                    for (var n in e) {
                        var i = e[n];
                        delete i.metadata,
                        t.push(i)
                    }
                    return t
                }
            },
            clone: function(e) {
                return (new this.constructor).copy(this, e)
            },
            copy: function(e, t) {
                if (void 0 === t && (t = !0),
                this.name = e.name,
                this.up.copy(e.up),
                this.position.copy(e.position),
                this.quaternion.copy(e.quaternion),
                this.scale.copy(e.scale),
                this.matrix.copy(e.matrix),
                this.matrixWorld.copy(e.matrixWorld),
                this.matrixAutoUpdate = e.matrixAutoUpdate,
                this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate,
                this.layers.mask = e.layers.mask,
                this.visible = e.visible,
                this.castShadow = e.castShadow,
                this.receiveShadow = e.receiveShadow,
                this.frustumCulled = e.frustumCulled,
                this.renderOrder = e.renderOrder,
                this.userData = JSON.parse(JSON.stringify(e.userData)),
                !0 === t)
                    for (var n = 0; n < e.children.length; n++) {
                        var i = e.children[n];
                        this.add(i.clone())
                    }
                return this
            }
        }),
        Kn.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Kn,
            isCamera: !0,
            copy: function(e, t) {
                return Yn.prototype.copy.call(this, e, t),
                this.matrixWorldInverse.copy(e.matrixWorldInverse),
                this.projectionMatrix.copy(e.projectionMatrix),
                this
            },
            getWorldDirection: ($n = new Ee,
            function(e) {
                var t = e || new Je;
                return this.getWorldQuaternion($n),
                t.set(0, 0, -1).applyQuaternion($n)
            }
            ),
            updateMatrixWorld: function(e) {
                Yn.prototype.updateMatrixWorld.call(this, e),
                this.matrixWorldInverse.getInverse(this.matrixWorld)
            },
            clone: function() {
                return (new this.constructor).copy(this)
            }
        }),
        Zn.prototype = Object.assign(Object.create(Kn.prototype), {
            constructor: Zn,
            isOrthographicCamera: !0,
            copy: function(e, t) {
                return Kn.prototype.copy.call(this, e, t),
                this.left = e.left,
                this.right = e.right,
                this.top = e.top,
                this.bottom = e.bottom,
                this.near = e.near,
                this.far = e.far,
                this.zoom = e.zoom,
                this.view = null === e.view ? null : Object.assign({}, e.view),
                this
            },
            setViewOffset: function(e, t, n, i, r, a) {
                this.view = {
                    fullWidth: e,
                    fullHeight: t,
                    offsetX: n,
                    offsetY: i,
                    width: r,
                    height: a
                },
                this.updateProjectionMatrix()
            },
            clearViewOffset: function() {
                this.view = null,
                this.updateProjectionMatrix()
            },
            updateProjectionMatrix: function() {
                var e = (this.right - this.left) / (2 * this.zoom)
                  , t = (this.top - this.bottom) / (2 * this.zoom)
                  , n = (this.right + this.left) / 2
                  , i = (this.top + this.bottom) / 2
                  , r = n - e
                  , a = n + e
                  , o = i + t
                  , s = i - t;
                if (null !== this.view) {
                    var l = this.zoom / (this.view.width / this.view.fullWidth)
                      , u = this.zoom / (this.view.height / this.view.fullHeight)
                      , c = (this.right - this.left) / this.view.width
                      , h = (this.top - this.bottom) / this.view.height;
                    a = (r += c * (this.view.offsetX / l)) + c * (this.view.width / l),
                    s = (o -= h * (this.view.offsetY / u)) - h * (this.view.height / u)
                }
                this.projectionMatrix.makeOrthographic(r, a, o, s, this.near, this.far)
            },
            toJSON: function(e) {
                var t = Yn.prototype.toJSON.call(this, e);
                return t.object.zoom = this.zoom,
                t.object.left = this.left,
                t.object.right = this.right,
                t.object.top = this.top,
                t.object.bottom = this.bottom,
                t.object.near = this.near,
                t.object.far = this.far,
                null !== this.view && (t.object.view = Object.assign({}, this.view)),
                t
            }
        }),
        Qn.prototype = Object.assign(Object.create(Kn.prototype), {
            constructor: Qn,
            isPerspectiveCamera: !0,
            copy: function(e, t) {
                return Kn.prototype.copy.call(this, e, t),
                this.fov = e.fov,
                this.zoom = e.zoom,
                this.near = e.near,
                this.far = e.far,
                this.focus = e.focus,
                this.aspect = e.aspect,
                this.view = null === e.view ? null : Object.assign({}, e.view),
                this.filmGauge = e.filmGauge,
                this.filmOffset = e.filmOffset,
                this
            },
            setFocalLength: function(e) {
                var t = .5 * this.getFilmHeight() / e;
                this.fov = 2 * Ze.RAD2DEG * Math.atan(t),
                this.updateProjectionMatrix()
            },
            getFocalLength: function() {
                var e = Math.tan(.5 * Ze.DEG2RAD * this.fov);
                return .5 * this.getFilmHeight() / e
            },
            getEffectiveFOV: function() {
                return 2 * Ze.RAD2DEG * Math.atan(Math.tan(.5 * Ze.DEG2RAD * this.fov) / this.zoom)
            },
            getFilmWidth: function() {
                return this.filmGauge * Math.min(this.aspect, 1)
            },
            getFilmHeight: function() {
                return this.filmGauge / Math.max(this.aspect, 1)
            },
            setViewOffset: function(e, t, n, i, r, a) {
                this.aspect = e / t,
                this.view = {
                    fullWidth: e,
                    fullHeight: t,
                    offsetX: n,
                    offsetY: i,
                    width: r,
                    height: a
                },
                this.updateProjectionMatrix()
            },
            clearViewOffset: function() {
                this.view = null,
                this.updateProjectionMatrix()
            },
            updateProjectionMatrix: function() {
                var e = this.near
                  , t = e * Math.tan(.5 * Ze.DEG2RAD * this.fov) / this.zoom
                  , n = 2 * t
                  , i = this.aspect * n
                  , r = -.5 * i
                  , a = this.view;
                if (null !== a) {
                    var o = a.fullWidth
                      , s = a.fullHeight;
                    r += a.offsetX * i / o,
                    t -= a.offsetY * n / s,
                    i *= a.width / o,
                    n *= a.height / s
                }
                var l = this.filmOffset;
                0 !== l && (r += e * l / this.getFilmWidth()),
                this.projectionMatrix.makePerspective(r, r + i, t, t - n, e, this.far)
            },
            toJSON: function(e) {
                var t = Yn.prototype.toJSON.call(this, e);
                return t.object.fov = this.fov,
                t.object.zoom = this.zoom,
                t.object.near = this.near,
                t.object.far = this.far,
                t.object.focus = this.focus,
                t.object.aspect = this.aspect,
                null !== this.view && (t.object.view = Object.assign({}, this.view)),
                t.object.filmGauge = this.filmGauge,
                t.object.filmOffset = this.filmOffset,
                t
            }
        }),
        Object.assign(Jn.prototype, {
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                this.a = e.a,
                this.b = e.b,
                this.c = e.c,
                this.normal.copy(e.normal),
                this.color.copy(e.color),
                this.materialIndex = e.materialIndex;
                for (var t = 0, n = e.vertexNormals.length; t < n; t++)
                    this.vertexNormals[t] = e.vertexNormals[t].clone();
                for (t = 0,
                n = e.vertexColors.length; t < n; t++)
                    this.vertexColors[t] = e.vertexColors[t].clone();
                return this
            }
        });
        var ei, ti, ni, ii, ri, ai, oi, si, li, ui, ci, hi, di, pi, fi, mi, gi, vi, yi, bi, _i, wi, xi, Ti, Si, Ei, Ci, Mi, ki, Pi, Ai, Ii, Li, Oi, Ri, Di, Ni, Fi, Bi, Ui, ji, zi, Hi, Vi, Gi, Wi, qi, $i, Xi, Yi, Ki, Zi, Qi, Ji = 0;
        function er() {
            return Ji++
        }
        function tr() {
            Object.defineProperty(this, "id", {
                value: er()
            }),
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.type = "Geometry",
            this.vertices = [],
            this.colors = [],
            this.faces = [],
            this.faceVertexUvs = [[]],
            this.morphTargets = [],
            this.morphNormals = [],
            this.skinWeights = [],
            this.skinIndices = [],
            this.lineDistances = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.elementsNeedUpdate = !1,
            this.verticesNeedUpdate = !1,
            this.uvsNeedUpdate = !1,
            this.normalsNeedUpdate = !1,
            this.colorsNeedUpdate = !1,
            this.lineDistancesNeedUpdate = !1,
            this.groupsNeedUpdate = !1
        }
        function nr(e, t, n) {
            if (Array.isArray(e))
                throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.array = e,
            this.itemSize = t,
            this.count = void 0 !== e ? e.length / t : 0,
            this.normalized = !0 === n,
            this.dynamic = !1,
            this.updateRange = {
                offset: 0,
                count: -1
            },
            this.onUploadCallback = function() {}
            ,
            this.version = 0
        }
        function ir(e, t) {
            nr.call(this, new Int8Array(e), t)
        }
        function rr(e, t) {
            nr.call(this, new Uint8Array(e), t)
        }
        function ar(e, t) {
            nr.call(this, new Uint8ClampedArray(e), t)
        }
        function or(e, t) {
            nr.call(this, new Int16Array(e), t)
        }
        function sr(e, t) {
            nr.call(this, new Uint16Array(e), t)
        }
        function lr(e, t) {
            nr.call(this, new Int32Array(e), t)
        }
        function ur(e, t) {
            nr.call(this, new Uint32Array(e), t)
        }
        function cr(e, t) {
            nr.call(this, new Float32Array(e), t)
        }
        function hr(e, t) {
            nr.call(this, new Float64Array(e), t)
        }
        function dr() {
            this.indices = [],
            this.vertices = [],
            this.normals = [],
            this.colors = [],
            this.uvs = [],
            this.uvs2 = [],
            this.groups = [],
            this.morphTargets = {},
            this.skinWeights = [],
            this.skinIndices = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.verticesNeedUpdate = !1,
            this.normalsNeedUpdate = !1,
            this.colorsNeedUpdate = !1,
            this.uvsNeedUpdate = !1,
            this.groupsNeedUpdate = !1
        }
        function pr(e) {
            if (0 === e.length)
                return -1 / 0;
            for (var t = e[0], n = 1, i = e.length; n < i; ++n)
                e[n] > t && (t = e[n]);
            return t
        }
        function fr() {
            Object.defineProperty(this, "id", {
                value: er()
            }),
            this.uuid = Ze.generateUUID(),
            this.name = "",
            this.type = "BufferGeometry",
            this.index = null,
            this.attributes = {},
            this.morphAttributes = {},
            this.groups = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.drawRange = {
                start: 0,
                count: 1 / 0
            }
        }
        function mr(e, t, n, i, r, a) {
            tr.call(this),
            this.type = "BoxGeometry",
            this.parameters = {
                width: e,
                height: t,
                depth: n,
                widthSegments: i,
                heightSegments: r,
                depthSegments: a
            },
            this.fromBufferGeometry(new gr(e,t,n,i,r,a)),
            this.mergeVertices()
        }
        function gr(e, t, n, i, r, a) {
            fr.call(this),
            this.type = "BoxBufferGeometry",
            this.parameters = {
                width: e,
                height: t,
                depth: n,
                widthSegments: i,
                heightSegments: r,
                depthSegments: a
            };
            var P = this;
            i = Math.floor(i) || 1,
            r = Math.floor(r) || 1,
            a = Math.floor(a) || 1;
            var A = []
              , I = []
              , L = []
              , O = []
              , R = 0
              , D = 0;
            function o(e, t, n, i, r, a, o, s, l, u, c) {
                var h, d, p = a / l, f = o / u, m = a / 2, g = o / 2, v = s / 2, y = l + 1, b = u + 1, _ = 0, w = 0, x = new Je;
                for (d = 0; d < b; d++) {
                    var T = d * f - g;
                    for (h = 0; h < y; h++) {
                        var S = h * p - m;
                        x[e] = S * i,
                        x[t] = T * r,
                        x[n] = v,
                        I.push(x.x, x.y, x.z),
                        x[e] = 0,
                        x[t] = 0,
                        x[n] = 0 < s ? 1 : -1,
                        L.push(x.x, x.y, x.z),
                        O.push(h / l),
                        O.push(1 - d / u),
                        _ += 1
                    }
                }
                for (d = 0; d < u; d++)
                    for (h = 0; h < l; h++) {
                        var E = R + h + y * d
                          , C = R + h + y * (d + 1)
                          , M = R + (h + 1) + y * (d + 1)
                          , k = R + (h + 1) + y * d;
                        A.push(E, C, k),
                        A.push(C, M, k),
                        w += 6
                    }
                P.addGroup(D, w, c),
                D += w,
                R += _
            }
            o("z", "y", "x", -1, -1, n, t, e, a, r, 0),
            o("z", "y", "x", 1, -1, n, t, -e, a, r, 1),
            o("x", "z", "y", 1, 1, e, n, t, i, a, 2),
            o("x", "z", "y", 1, -1, e, n, -t, i, a, 3),
            o("x", "y", "z", 1, -1, e, t, n, i, r, 4),
            o("x", "y", "z", -1, -1, e, t, -n, i, r, 5),
            this.setIndex(A),
            this.addAttribute("position", new cr(I,3)),
            this.addAttribute("normal", new cr(L,3)),
            this.addAttribute("uv", new cr(O,2))
        }
        function vr(e, t, n, i) {
            tr.call(this),
            this.type = "PlaneGeometry",
            this.parameters = {
                width: e,
                height: t,
                widthSegments: n,
                heightSegments: i
            },
            this.fromBufferGeometry(new yr(e,t,n,i)),
            this.mergeVertices()
        }
        function yr(e, t, n, i) {
            fr.call(this),
            this.type = "PlaneBufferGeometry",
            this.parameters = {
                width: e,
                height: t,
                widthSegments: n,
                heightSegments: i
            };
            var r, a, o = e / 2, s = t / 2, l = Math.floor(n) || 1, u = Math.floor(i) || 1, c = l + 1, h = u + 1, d = e / l, p = t / u, f = [], m = [], g = [], v = [];
            for (a = 0; a < h; a++) {
                var y = a * p - s;
                for (r = 0; r < c; r++) {
                    var b = r * d - o;
                    m.push(b, -y, 0),
                    g.push(0, 0, 1),
                    v.push(r / l),
                    v.push(1 - a / u)
                }
            }
            for (a = 0; a < u; a++)
                for (r = 0; r < l; r++) {
                    var _ = r + c * a
                      , w = r + c * (a + 1)
                      , x = r + 1 + c * (a + 1)
                      , T = r + 1 + c * a;
                    f.push(_, w, T),
                    f.push(w, x, T)
                }
            this.setIndex(f),
            this.addAttribute("position", new cr(m,3)),
            this.addAttribute("normal", new cr(g,3)),
            this.addAttribute("uv", new cr(v,2))
        }
        function br(e) {
            bn.call(this),
            this.type = "MeshBasicMaterial",
            this.color = new zt(16777215),
            this.map = null,
            this.lightMap = null,
            this.lightMapIntensity = 1,
            this.aoMap = null,
            this.aoMapIntensity = 1,
            this.specularMap = null,
            this.alphaMap = null,
            this.envMap = null,
            this.combine = L,
            this.reflectivity = 1,
            this.refractionRatio = .98,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.wireframeLinecap = "round",
            this.wireframeLinejoin = "round",
            this.skinning = !1,
            this.morphTargets = !1,
            this.lights = !1,
            this.setValues(e)
        }
        function _r(e, t) {
            this.origin = void 0 !== e ? e : new Je,
            this.direction = void 0 !== t ? t : new Je
        }
        function wr(e, t) {
            this.start = void 0 !== e ? e : new Je,
            this.end = void 0 !== t ? t : new Je
        }
        function xr(e, t, n) {
            this.a = void 0 !== e ? e : new Je,
            this.b = void 0 !== t ? t : new Je,
            this.c = void 0 !== n ? n : new Je
        }
        function Tr(e, t) {
            Yn.call(this),
            this.type = "Mesh",
            this.geometry = void 0 !== e ? e : new fr,
            this.material = void 0 !== t ? t : new br({
                color: 16777215 * Math.random()
            }),
            this.drawMode = Ke,
            this.updateMorphTargets()
        }
        function Sr(e, t, n, i, r, a, o) {
            return xr.barycoordFromPoint(e, t, n, i, Ki),
            r.multiplyScalar(Ki.x),
            a.multiplyScalar(Ki.y),
            o.multiplyScalar(Ki.z),
            r.add(a).add(o),
            r.clone()
        }
        function Er(e, t, n, i, r, a, o) {
            var s = e.material;
            if (null === (s.side === W ? n.intersectTriangle(a, r, i, !0, o) : n.intersectTriangle(i, r, a, s.side !== q, o)))
                return null;
            Qi.copy(o),
            Qi.applyMatrix4(e.matrixWorld);
            var l = t.ray.origin.distanceTo(Qi);
            return l < t.near || l > t.far ? null : {
                distance: l,
                point: Qi.clone(),
                object: e
            }
        }
        function Cr(e, t, n, i, r, a, o, s) {
            zi.fromBufferAttribute(i, a),
            Hi.fromBufferAttribute(i, o),
            Vi.fromBufferAttribute(i, s);
            var l = Er(e, t, n, zi, Hi, Vi, Zi);
            return l && (r && ($i.fromBufferAttribute(r, a),
            Xi.fromBufferAttribute(r, o),
            Yi.fromBufferAttribute(r, s),
            l.uv = Sr(Zi, zi, Hi, Vi, $i, Xi, Yi)),
            l.face = new Jn(a,o,s,xr.normal(zi, Hi, Vi)),
            l.faceIndex = a),
            l
        }
        function Mr(r, n, a, i) {
            var o, s, l, u, c = new zt(0), h = 0;
            function d(e, t) {
                n.buffers.color.setClear(e.r, e.g, e.b, t, i)
            }
            return {
                getClearColor: function() {
                    return c
                },
                setClearColor: function(e, t) {
                    c.set(e),
                    d(c, h = void 0 !== t ? t : 1)
                },
                getClearAlpha: function() {
                    return h
                },
                setClearAlpha: function(e) {
                    d(c, h = e)
                },
                render: function(e, t, n) {
                    var i = e.background;
                    null === i ? d(c, h) : i && i.isColor && (d(i, 1),
                    n = !0),
                    (r.autoClear || n) && r.clear(r.autoClearColor, r.autoClearDepth, r.autoClearStencil),
                    i && i.isCubeTexture ? (void 0 === l && (l = new Qn,
                    u = new Tr(new gr(5,5,5),new _n({
                        uniforms: Xt.cube.uniforms,
                        vertexShader: Xt.cube.vertexShader,
                        fragmentShader: Xt.cube.fragmentShader,
                        side: W,
                        depthTest: !1,
                        depthWrite: !1,
                        fog: !1
                    }))),
                    l.projectionMatrix.copy(t.projectionMatrix),
                    l.matrixWorld.extractRotation(t.matrixWorld),
                    l.matrixWorldInverse.getInverse(l.matrixWorld),
                    u.material.uniforms.tCube.value = i,
                    u.modelViewMatrix.multiplyMatrices(l.matrixWorldInverse, u.matrixWorld),
                    a.update(u),
                    r.renderBufferDirect(l, null, u.geometry, u.material, u, null)) : i && i.isTexture && (void 0 === o && (o = new Zn(-1,1,1,-1,0,1),
                    s = new Tr(new yr(2,2),new br({
                        depthTest: !1,
                        depthWrite: !1,
                        fog: !1
                    }))),
                    s.material.map = i,
                    a.update(s),
                    r.renderBufferDirect(o, null, s.geometry, s.material, s, null))
                }
            }
        }
        function kr(e, t) {
            return e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.program && t.program && e.program !== t.program ? e.program.id - t.program.id : e.material.id !== t.material.id ? e.material.id - t.material.id : e.z !== t.z ? e.z - t.z : e.id - t.id
        }
        function Pr(e, t) {
            return e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : e.id - t.id
        }
        function Ar() {
            var l = []
              , u = -1
              , c = []
              , h = -1;
            return {
                opaque: l,
                transparent: c,
                init: function() {
                    h = u = -1
                },
                push: function(e, t, n, i, r) {
                    var a, o;
                    o = n.transparent ? (a = c,
                    ++h) : (a = l,
                    ++u);
                    var s = a[o];
                    s ? (s.id = e.id,
                    s.object = e,
                    s.geometry = t,
                    s.material = n,
                    s.program = n.program,
                    s.renderOrder = e.renderOrder,
                    s.z = i,
                    s.group = r) : (s = {
                        id: e.id,
                        object: e,
                        geometry: t,
                        material: n,
                        program: n.program,
                        renderOrder: e.renderOrder,
                        z: i,
                        group: r
                    },
                    a.push(s))
                },
                finish: function() {
                    l.length = u + 1,
                    c.length = h + 1
                },
                sort: function() {
                    l.sort(kr),
                    c.sort(Pr)
                }
            }
        }
        function Ir() {
            var r = {};
            return {
                get: function(e, t) {
                    var n = e.id + "," + t.id
                      , i = r[n];
                    return void 0 === i && (i = new Ar,
                    r[n] = i),
                    i
                },
                dispose: function() {
                    r = {}
                }
            }
        }
        function Lr(r, a, o) {
            var s, l, u;
            this.setMode = function(e) {
                s = e
            }
            ,
            this.setIndex = function(e) {
                l = e.type,
                u = e.bytesPerElement
            }
            ,
            this.render = function(e, t) {
                r.drawElements(s, t, l, e * u),
                o.calls++,
                o.vertices += t,
                s === r.TRIANGLES && (o.faces += t / 3)
            }
            ,
            this.renderInstances = function(e, t, n) {
                var i = a.get("ANGLE_instanced_arrays");
                null !== i ? (i.drawElementsInstancedANGLE(s, n, l, t * u, e.maxInstancedCount),
                o.calls++,
                o.vertices += n * e.maxInstancedCount,
                s === r.TRIANGLES && (o.faces += e.maxInstancedCount * n / 3)) : console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")
            }
        }
        function Or(a, o, s) {
            var l;
            this.setMode = function(e) {
                l = e
            }
            ,
            this.render = function(e, t) {
                a.drawArrays(l, e, t),
                s.calls++,
                s.vertices += t,
                l === a.TRIANGLES && (s.faces += t / 3)
            }
            ,
            this.renderInstances = function(e, t, n) {
                var i = o.get("ANGLE_instanced_arrays");
                if (null !== i) {
                    var r = e.attributes.position;
                    r.isInterleavedBufferAttribute ? (n = r.data.count,
                    i.drawArraysInstancedANGLE(l, 0, n, e.maxInstancedCount)) : i.drawArraysInstancedANGLE(l, t, n, e.maxInstancedCount),
                    s.calls++,
                    s.vertices += n * e.maxInstancedCount,
                    l === a.TRIANGLES && (s.faces += e.maxInstancedCount * n / 3)
                } else
                    console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")
            }
        }
        function Rr(h, d, a) {
            var o = {}
              , p = {};
            function s(e) {
                var t = e.target
                  , n = o[t.id];
                for (var i in null !== n.index && d.remove(n.index),
                n.attributes)
                    d.remove(n.attributes[i]);
                t.removeEventListener("dispose", s),
                delete o[t.id];
                var r = p[t.id];
                r && (d.remove(r),
                delete p[t.id]),
                (r = p[n.id]) && (d.remove(r),
                delete p[n.id]),
                a.geometries--
            }
            return {
                get: function(e, t) {
                    var n = o[t.id];
                    return n || (t.addEventListener("dispose", s),
                    t.isBufferGeometry ? n = t : t.isGeometry && (void 0 === t._bufferGeometry && (t._bufferGeometry = (new fr).setFromObject(e)),
                    n = t._bufferGeometry),
                    o[t.id] = n,
                    a.geometries++,
                    n)
                },
                update: function(e) {
                    var t = e.index
                      , n = e.attributes;
                    for (var i in null !== t && d.update(t, h.ELEMENT_ARRAY_BUFFER),
                    n)
                        d.update(n[i], h.ARRAY_BUFFER);
                    var r = e.morphAttributes;
                    for (var i in r)
                        for (var a = r[i], o = 0, s = a.length; o < s; o++)
                            d.update(a[o], h.ARRAY_BUFFER)
                },
                getWireframeAttribute: function(e) {
                    var t = p[e.id];
                    if (t)
                        return t;
                    var n, i = [], r = e.index, a = e.attributes;
                    if (null !== r)
                        for (var o = 0, s = (n = r.array).length; o < s; o += 3) {
                            var l = n[o + 0]
                              , u = n[o + 1]
                              , c = n[o + 2];
                            i.push(l, u, u, c, c, l)
                        }
                    else
                        for (o = 0,
                        s = (n = a.position.array).length / 3 - 1; o < s; o += 3) {
                            l = o + 0,
                            u = o + 1,
                            c = o + 2;
                            i.push(l, u, u, c, c, l)
                        }
                    return t = new (65535 < pr(i) ? ur : sr)(i,1),
                    d.update(t, h.ELEMENT_ARRAY_BUFFER),
                    p[e.id] = t
                }
            }
        }
        function Dr() {
            var n = {};
            return {
                get: function(e) {
                    if (void 0 !== n[e.id])
                        return n[e.id];
                    var t;
                    switch (e.type) {
                    case "DirectionalLight":
                        t = {
                            direction: new Je,
                            color: new zt,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new fe
                        };
                        break;
                    case "SpotLight":
                        t = {
                            position: new Je,
                            direction: new Je,
                            color: new zt,
                            distance: 0,
                            coneCos: 0,
                            penumbraCos: 0,
                            decay: 0,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new fe
                        };
                        break;
                    case "PointLight":
                        t = {
                            position: new Je,
                            color: new zt,
                            distance: 0,
                            decay: 0,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new fe
                        };
                        break;
                    case "HemisphereLight":
                        t = {
                            direction: new Je,
                            skyColor: new zt,
                            groundColor: new zt
                        };
                        break;
                    case "RectAreaLight":
                        t = {
                            color: new zt,
                            position: new Je,
                            halfWidth: new Je,
                            halfHeight: new Je
                        }
                    }
                    return n[e.id] = t
                }
            }
        }
        function Nr(e, r, a) {
            var o = {};
            return {
                update: function(e) {
                    var t = a.frame
                      , n = e.geometry
                      , i = r.get(e, n);
                    return o[i.id] !== t && (n.isGeometry && i.updateFromObject(e),
                    r.update(i),
                    o[i.id] = t),
                    i
                },
                clear: function() {
                    o = {}
                }
            }
        }
        function Fr(e, t, n) {
            var i = e.createShader(t);
            return e.shaderSource(i, n),
            e.compileShader(i),
            !1 === e.getShaderParameter(i, e.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile."),
            "" !== e.getShaderInfoLog(i) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", t === e.VERTEX_SHADER ? "vertex" : "fragment", e.getShaderInfoLog(i), function(e) {
                for (var t = e.split("\n"), n = 0; n < t.length; n++)
                    t[n] = n + 1 + ": " + t[n];
                return t.join("\n")
            }(n)),
            i
        }
        Object.assign(tr.prototype, t.prototype, {
            isGeometry: !0,
            applyMatrix: function(e) {
                for (var t = (new Sn).getNormalMatrix(e), n = 0, i = this.vertices.length; n < i; n++) {
                    this.vertices[n].applyMatrix4(e)
                }
                for (n = 0,
                i = this.faces.length; n < i; n++) {
                    var r = this.faces[n];
                    r.normal.applyMatrix3(t).normalize();
                    for (var a = 0, o = r.vertexNormals.length; a < o; a++)
                        r.vertexNormals[a].applyMatrix3(t).normalize()
                }
                return null !== this.boundingBox && this.computeBoundingBox(),
                null !== this.boundingSphere && this.computeBoundingSphere(),
                this.verticesNeedUpdate = !0,
                this.normalsNeedUpdate = !0,
                this
            },
            rotateX: (ai = new et,
            function(e) {
                return ai.makeRotationX(e),
                this.applyMatrix(ai),
                this
            }
            ),
            rotateY: (ri = new et,
            function(e) {
                return ri.makeRotationY(e),
                this.applyMatrix(ri),
                this
            }
            ),
            rotateZ: (ii = new et,
            function(e) {
                return ii.makeRotationZ(e),
                this.applyMatrix(ii),
                this
            }
            ),
            translate: (ni = new et,
            function(e, t, n) {
                return ni.makeTranslation(e, t, n),
                this.applyMatrix(ni),
                this
            }
            ),
            scale: (ti = new et,
            function(e, t, n) {
                return ti.makeScale(e, t, n),
                this.applyMatrix(ti),
                this
            }
            ),
            lookAt: (ei = new Yn,
            function(e) {
                ei.lookAt(e),
                ei.updateMatrix(),
                this.applyMatrix(ei.matrix)
            }
            ),
            fromBufferGeometry: function(e) {
                var a = this
                  , t = null !== e.index ? e.index.array : void 0
                  , n = e.attributes
                  , i = n.position.array
                  , o = void 0 !== n.normal ? n.normal.array : void 0
                  , s = void 0 !== n.color ? n.color.array : void 0
                  , l = void 0 !== n.uv ? n.uv.array : void 0
                  , u = void 0 !== n.uv2 ? n.uv2.array : void 0;
                void 0 !== u && (this.faceVertexUvs[1] = []);
                for (var c = [], h = [], d = [], r = 0, p = 0; r < i.length; r += 3,
                p += 2)
                    a.vertices.push(new Je(i[r],i[r + 1],i[r + 2])),
                    void 0 !== o && c.push(new Je(o[r],o[r + 1],o[r + 2])),
                    void 0 !== s && a.colors.push(new zt(s[r],s[r + 1],s[r + 2])),
                    void 0 !== l && h.push(new fe(l[p],l[p + 1])),
                    void 0 !== u && d.push(new fe(u[p],u[p + 1]));
                function f(e, t, n, i) {
                    var r = new Jn(e,t,n,void 0 !== o ? [c[e].clone(), c[t].clone(), c[n].clone()] : [],void 0 !== s ? [a.colors[e].clone(), a.colors[t].clone(), a.colors[n].clone()] : [],i);
                    a.faces.push(r),
                    void 0 !== l && a.faceVertexUvs[0].push([h[e].clone(), h[t].clone(), h[n].clone()]),
                    void 0 !== u && a.faceVertexUvs[1].push([d[e].clone(), d[t].clone(), d[n].clone()])
                }
                var m = e.groups;
                if (0 < m.length)
                    for (r = 0; r < m.length; r++)
                        for (var g = m[r], v = g.start, y = (p = v,
                        v + g.count); p < y; p += 3)
                            void 0 !== t ? f(t[p], t[p + 1], t[p + 2], g.materialIndex) : f(p, p + 1, p + 2, g.materialIndex);
                else if (void 0 !== t)
                    for (r = 0; r < t.length; r += 3)
                        f(t[r], t[r + 1], t[r + 2]);
                else
                    for (r = 0; r < i.length / 3; r += 3)
                        f(r, r + 1, r + 2);
                return this.computeFaceNormals(),
                null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
                null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
                this
            },
            center: function() {
                this.computeBoundingBox();
                var e = this.boundingBox.getCenter().negate();
                return this.translate(e.x, e.y, e.z),
                e
            },
            normalize: function() {
                this.computeBoundingSphere();
                var e = this.boundingSphere.center
                  , t = this.boundingSphere.radius
                  , n = 0 === t ? 1 : 1 / t
                  , i = new et;
                return i.set(n, 0, 0, -n * e.x, 0, n, 0, -n * e.y, 0, 0, n, -n * e.z, 0, 0, 0, 1),
                this.applyMatrix(i),
                this
            },
            computeFaceNormals: function() {
                for (var e = new Je, t = new Je, n = 0, i = this.faces.length; n < i; n++) {
                    var r = this.faces[n]
                      , a = this.vertices[r.a]
                      , o = this.vertices[r.b]
                      , s = this.vertices[r.c];
                    e.subVectors(s, o),
                    t.subVectors(a, o),
                    e.cross(t),
                    e.normalize(),
                    r.normal.copy(e)
                }
            },
            computeVertexNormals: function(e) {
                var t, n, i, r, a, o;
                for (void 0 === e && (e = !0),
                o = new Array(this.vertices.length),
                t = 0,
                n = this.vertices.length; t < n; t++)
                    o[t] = new Je;
                if (e) {
                    var s, l, u, c = new Je, h = new Je;
                    for (i = 0,
                    r = this.faces.length; i < r; i++)
                        a = this.faces[i],
                        s = this.vertices[a.a],
                        l = this.vertices[a.b],
                        u = this.vertices[a.c],
                        c.subVectors(u, l),
                        h.subVectors(s, l),
                        c.cross(h),
                        o[a.a].add(c),
                        o[a.b].add(c),
                        o[a.c].add(c)
                } else
                    for (this.computeFaceNormals(),
                    i = 0,
                    r = this.faces.length; i < r; i++)
                        o[(a = this.faces[i]).a].add(a.normal),
                        o[a.b].add(a.normal),
                        o[a.c].add(a.normal);
                for (t = 0,
                n = this.vertices.length; t < n; t++)
                    o[t].normalize();
                for (i = 0,
                r = this.faces.length; i < r; i++) {
                    var d = (a = this.faces[i]).vertexNormals;
                    3 === d.length ? (d[0].copy(o[a.a]),
                    d[1].copy(o[a.b]),
                    d[2].copy(o[a.c])) : (d[0] = o[a.a].clone(),
                    d[1] = o[a.b].clone(),
                    d[2] = o[a.c].clone())
                }
                0 < this.faces.length && (this.normalsNeedUpdate = !0)
            },
            computeFlatVertexNormals: function() {
                var e, t, n;
                for (this.computeFaceNormals(),
                e = 0,
                t = this.faces.length; e < t; e++) {
                    var i = (n = this.faces[e]).vertexNormals;
                    3 === i.length ? (i[0].copy(n.normal),
                    i[1].copy(n.normal),
                    i[2].copy(n.normal)) : (i[0] = n.normal.clone(),
                    i[1] = n.normal.clone(),
                    i[2] = n.normal.clone())
                }
                0 < this.faces.length && (this.normalsNeedUpdate = !0)
            },
            computeMorphNormals: function() {
                var e, t, n, i, r;
                for (n = 0,
                i = this.faces.length; n < i; n++)
                    for ((r = this.faces[n]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(),
                    r.__originalVertexNormals || (r.__originalVertexNormals = []),
                    e = 0,
                    t = r.vertexNormals.length; e < t; e++)
                        r.__originalVertexNormals[e] ? r.__originalVertexNormals[e].copy(r.vertexNormals[e]) : r.__originalVertexNormals[e] = r.vertexNormals[e].clone();
                var a = new tr;
                for (a.faces = this.faces,
                e = 0,
                t = this.morphTargets.length; e < t; e++) {
                    if (!this.morphNormals[e]) {
                        this.morphNormals[e] = {},
                        this.morphNormals[e].faceNormals = [],
                        this.morphNormals[e].vertexNormals = [];
                        var o = this.morphNormals[e].faceNormals
                          , s = this.morphNormals[e].vertexNormals;
                        for (n = 0,
                        i = this.faces.length; n < i; n++)
                            l = new Je,
                            u = {
                                a: new Je,
                                b: new Je,
                                c: new Je
                            },
                            o.push(l),
                            s.push(u)
                    }
                    var l, u, c = this.morphNormals[e];
                    for (a.vertices = this.morphTargets[e].vertices,
                    a.computeFaceNormals(),
                    a.computeVertexNormals(),
                    n = 0,
                    i = this.faces.length; n < i; n++)
                        r = this.faces[n],
                        l = c.faceNormals[n],
                        u = c.vertexNormals[n],
                        l.copy(r.normal),
                        u.a.copy(r.vertexNormals[0]),
                        u.b.copy(r.vertexNormals[1]),
                        u.c.copy(r.vertexNormals[2])
                }
                for (n = 0,
                i = this.faces.length; n < i; n++)
                    (r = this.faces[n]).normal = r.__originalFaceNormal,
                    r.vertexNormals = r.__originalVertexNormals
            },
            computeLineDistances: function() {
                for (var e = 0, t = this.vertices, n = 0, i = t.length; n < i; n++)
                    0 < n && (e += t[n].distanceTo(t[n - 1])),
                    this.lineDistances[n] = e
            },
            computeBoundingBox: function() {
                null === this.boundingBox && (this.boundingBox = new xn),
                this.boundingBox.setFromPoints(this.vertices)
            },
            computeBoundingSphere: function() {
                null === this.boundingSphere && (this.boundingSphere = new Tn),
                this.boundingSphere.setFromPoints(this.vertices)
            },
            merge: function(e, t, n) {
                if (e && e.isGeometry) {
                    var i, r = this.vertices.length, a = this.vertices, o = e.vertices, s = this.faces, l = e.faces, u = this.faceVertexUvs[0], c = e.faceVertexUvs[0], h = this.colors, d = e.colors;
                    void 0 === n && (n = 0),
                    void 0 !== t && (i = (new Sn).getNormalMatrix(t));
                    for (var p = 0, f = o.length; p < f; p++) {
                        var m = o[p].clone();
                        void 0 !== t && m.applyMatrix4(t),
                        a.push(m)
                    }
                    for (p = 0,
                    f = d.length; p < f; p++)
                        h.push(d[p].clone());
                    for (p = 0,
                    f = l.length; p < f; p++) {
                        var g, v, y, b = l[p], _ = b.vertexNormals, w = b.vertexColors;
                        (g = new Jn(b.a + r,b.b + r,b.c + r)).normal.copy(b.normal),
                        void 0 !== i && g.normal.applyMatrix3(i).normalize();
                        for (var x = 0, T = _.length; x < T; x++)
                            v = _[x].clone(),
                            void 0 !== i && v.applyMatrix3(i).normalize(),
                            g.vertexNormals.push(v);
                        g.color.copy(b.color);
                        for (x = 0,
                        T = w.length; x < T; x++)
                            y = w[x],
                            g.vertexColors.push(y.clone());
                        g.materialIndex = b.materialIndex + n,
                        s.push(g)
                    }
                    for (p = 0,
                    f = c.length; p < f; p++) {
                        var S = c[p]
                          , E = [];
                        if (void 0 !== S) {
                            for (x = 0,
                            T = S.length; x < T; x++)
                                E.push(S[x].clone());
                            u.push(E)
                        }
                    }
                } else
                    console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", e)
            },
            mergeMesh: function(e) {
                e && e.isMesh ? (e.matrixAutoUpdate && e.updateMatrix(),
                this.merge(e.geometry, e.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", e)
            },
            mergeVertices: function() {
                var e, t, n, i, r, a, o, s, l = {}, u = [], c = [], h = Math.pow(10, 4);
                for (n = 0,
                i = this.vertices.length; n < i; n++)
                    e = this.vertices[n],
                    void 0 === l[t = Math.round(e.x * h) + "_" + Math.round(e.y * h) + "_" + Math.round(e.z * h)] ? (l[t] = n,
                    u.push(this.vertices[n]),
                    c[n] = u.length - 1) : c[n] = c[l[t]];
                var d = [];
                for (n = 0,
                i = this.faces.length; n < i; n++) {
                    (r = this.faces[n]).a = c[r.a],
                    r.b = c[r.b],
                    r.c = c[r.c],
                    a = [r.a, r.b, r.c];
                    for (var p = 0; p < 3; p++)
                        if (a[p] === a[(p + 1) % 3]) {
                            d.push(n);
                            break
                        }
                }
                for (n = d.length - 1; 0 <= n; n--) {
                    var f = d[n];
                    for (this.faces.splice(f, 1),
                    o = 0,
                    s = this.faceVertexUvs.length; o < s; o++)
                        this.faceVertexUvs[o].splice(f, 1)
                }
                var m = this.vertices.length - u.length;
                return this.vertices = u,
                m
            },
            sortFacesByMaterialIndex: function() {
                for (var e = this.faces, t = e.length, n = 0; n < t; n++)
                    e[n]._id = n;
                e.sort(function(e, t) {
                    return e.materialIndex - t.materialIndex
                });
                var i, r, a = this.faceVertexUvs[0], o = this.faceVertexUvs[1];
                a && a.length === t && (i = []),
                o && o.length === t && (r = []);
                for (n = 0; n < t; n++) {
                    var s = e[n]._id;
                    i && i.push(a[s]),
                    r && r.push(o[s])
                }
                i && (this.faceVertexUvs[0] = i),
                r && (this.faceVertexUvs[1] = r)
            },
            toJSON: function() {
                var e = {
                    metadata: {
                        version: 4.5,
                        type: "Geometry",
                        generator: "Geometry.toJSON"
                    }
                };
                if (e.uuid = this.uuid,
                e.type = this.type,
                "" !== this.name && (e.name = this.name),
                void 0 !== this.parameters) {
                    var t = this.parameters;
                    for (var n in t)
                        void 0 !== t[n] && (e[n] = t[n]);
                    return e
                }
                for (var i = [], r = 0; r < this.vertices.length; r++) {
                    var a = this.vertices[r];
                    i.push(a.x, a.y, a.z)
                }
                var o = []
                  , s = []
                  , l = {}
                  , u = []
                  , c = {}
                  , h = []
                  , d = {};
                for (r = 0; r < this.faces.length; r++) {
                    var p = this.faces[r]
                      , f = void 0 !== this.faceVertexUvs[0][r]
                      , m = 0 < p.normal.length()
                      , g = 0 < p.vertexNormals.length
                      , v = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b
                      , y = 0 < p.vertexColors.length
                      , b = 0;
                    if (b = T(b = T(b = T(b = T(b = T(b = T(b = T(b = T(b, 0, 0), 1, !0), 2, !1), 3, f), 4, m), 5, g), 6, v), 7, y),
                    o.push(b),
                    o.push(p.a, p.b, p.c),
                    o.push(p.materialIndex),
                    f) {
                        var _ = this.faceVertexUvs[0][r];
                        o.push(C(_[0]), C(_[1]), C(_[2]))
                    }
                    if (m && o.push(S(p.normal)),
                    g) {
                        var w = p.vertexNormals;
                        o.push(S(w[0]), S(w[1]), S(w[2]))
                    }
                    if (v && o.push(E(p.color)),
                    y) {
                        var x = p.vertexColors;
                        o.push(E(x[0]), E(x[1]), E(x[2]))
                    }
                }
                function T(e, t, n) {
                    return n ? e | 1 << t : e & ~(1 << t)
                }
                function S(e) {
                    var t = e.x.toString() + e.y.toString() + e.z.toString();
                    return void 0 !== l[t] || (l[t] = s.length / 3,
                    s.push(e.x, e.y, e.z)),
                    l[t]
                }
                function E(e) {
                    var t = e.r.toString() + e.g.toString() + e.b.toString();
                    return void 0 !== c[t] || (c[t] = u.length,
                    u.push(e.getHex())),
                    c[t]
                }
                function C(e) {
                    var t = e.x.toString() + e.y.toString();
                    return void 0 !== d[t] || (d[t] = h.length / 2,
                    h.push(e.x, e.y)),
                    d[t]
                }
                return e.data = {},
                e.data.vertices = i,
                e.data.normals = s,
                0 < u.length && (e.data.colors = u),
                0 < h.length && (e.data.uvs = [h]),
                e.data.faces = o,
                e
            },
            clone: function() {
                return (new tr).copy(this)
            },
            copy: function(e) {
                var t, n, i, r, a, o;
                this.vertices = [],
                this.colors = [],
                this.faces = [],
                this.faceVertexUvs = [[]],
                this.morphTargets = [],
                this.morphNormals = [],
                this.skinWeights = [],
                this.skinIndices = [],
                this.lineDistances = [],
                this.boundingBox = null,
                this.boundingSphere = null,
                this.name = e.name;
                var s = e.vertices;
                for (t = 0,
                n = s.length; t < n; t++)
                    this.vertices.push(s[t].clone());
                var l = e.colors;
                for (t = 0,
                n = l.length; t < n; t++)
                    this.colors.push(l[t].clone());
                var u = e.faces;
                for (t = 0,
                n = u.length; t < n; t++)
                    this.faces.push(u[t].clone());
                for (t = 0,
                n = e.faceVertexUvs.length; t < n; t++) {
                    var c = e.faceVertexUvs[t];
                    for (void 0 === this.faceVertexUvs[t] && (this.faceVertexUvs[t] = []),
                    i = 0,
                    r = c.length; i < r; i++) {
                        var h = c[i]
                          , d = [];
                        for (a = 0,
                        o = h.length; a < o; a++) {
                            var p = h[a];
                            d.push(p.clone())
                        }
                        this.faceVertexUvs[t].push(d)
                    }
                }
                var f = e.morphTargets;
                for (t = 0,
                n = f.length; t < n; t++) {
                    var m = {};
                    if (m.name = f[t].name,
                    void 0 !== f[t].vertices)
                        for (m.vertices = [],
                        i = 0,
                        r = f[t].vertices.length; i < r; i++)
                            m.vertices.push(f[t].vertices[i].clone());
                    if (void 0 !== f[t].normals)
                        for (m.normals = [],
                        i = 0,
                        r = f[t].normals.length; i < r; i++)
                            m.normals.push(f[t].normals[i].clone());
                    this.morphTargets.push(m)
                }
                var g = e.morphNormals;
                for (t = 0,
                n = g.length; t < n; t++) {
                    var v = {};
                    if (void 0 !== g[t].vertexNormals)
                        for (v.vertexNormals = [],
                        i = 0,
                        r = g[t].vertexNormals.length; i < r; i++) {
                            var y = g[t].vertexNormals[i]
                              , b = {};
                            b.a = y.a.clone(),
                            b.b = y.b.clone(),
                            b.c = y.c.clone(),
                            v.vertexNormals.push(b)
                        }
                    if (void 0 !== g[t].faceNormals)
                        for (v.faceNormals = [],
                        i = 0,
                        r = g[t].faceNormals.length; i < r; i++)
                            v.faceNormals.push(g[t].faceNormals[i].clone());
                    this.morphNormals.push(v)
                }
                var _ = e.skinWeights;
                for (t = 0,
                n = _.length; t < n; t++)
                    this.skinWeights.push(_[t].clone());
                var w = e.skinIndices;
                for (t = 0,
                n = w.length; t < n; t++)
                    this.skinIndices.push(w[t].clone());
                var x = e.lineDistances;
                for (t = 0,
                n = x.length; t < n; t++)
                    this.lineDistances.push(x[t]);
                var T = e.boundingBox;
                null !== T && (this.boundingBox = T.clone());
                var S = e.boundingSphere;
                return null !== S && (this.boundingSphere = S.clone()),
                this.elementsNeedUpdate = e.elementsNeedUpdate,
                this.verticesNeedUpdate = e.verticesNeedUpdate,
                this.uvsNeedUpdate = e.uvsNeedUpdate,
                this.normalsNeedUpdate = e.normalsNeedUpdate,
                this.colorsNeedUpdate = e.colorsNeedUpdate,
                this.lineDistancesNeedUpdate = e.lineDistancesNeedUpdate,
                this.groupsNeedUpdate = e.groupsNeedUpdate,
                this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }),
        Object.defineProperty(nr.prototype, "needsUpdate", {
            set: function(e) {
                !0 === e && this.version++
            }
        }),
        Object.assign(nr.prototype, {
            isBufferAttribute: !0,
            setArray: function(e) {
                if (Array.isArray(e))
                    throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.count = void 0 !== e ? e.length / this.itemSize : 0,
                this.array = e
            },
            setDynamic: function(e) {
                return this.dynamic = e,
                this
            },
            copy: function(e) {
                return this.array = new e.array.constructor(e.array),
                this.itemSize = e.itemSize,
                this.count = e.count,
                this.normalized = e.normalized,
                this.dynamic = e.dynamic,
                this
            },
            copyAt: function(e, t, n) {
                e *= this.itemSize,
                n *= t.itemSize;
                for (var i = 0, r = this.itemSize; i < r; i++)
                    this.array[e + i] = t.array[n + i];
                return this
            },
            copyArray: function(e) {
                return this.array.set(e),
                this
            },
            copyColorsArray: function(e) {
                for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                    var a = e[i];
                    void 0 === a && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", i),
                    a = new zt),
                    t[n++] = a.r,
                    t[n++] = a.g,
                    t[n++] = a.b
                }
                return this
            },
            copyIndicesArray: function(e) {
                for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                    var a = e[i];
                    t[n++] = a.a,
                    t[n++] = a.b,
                    t[n++] = a.c
                }
                return this
            },
            copyVector2sArray: function(e) {
                for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                    var a = e[i];
                    void 0 === a && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", i),
                    a = new fe),
                    t[n++] = a.x,
                    t[n++] = a.y
                }
                return this
            },
            copyVector3sArray: function(e) {
                for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                    var a = e[i];
                    void 0 === a && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", i),
                    a = new Je),
                    t[n++] = a.x,
                    t[n++] = a.y,
                    t[n++] = a.z
                }
                return this
            },
            copyVector4sArray: function(e) {
                for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                    var a = e[i];
                    void 0 === a && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", i),
                    a = new Qe),
                    t[n++] = a.x,
                    t[n++] = a.y,
                    t[n++] = a.z,
                    t[n++] = a.w
                }
                return this
            },
            set: function(e, t) {
                return void 0 === t && (t = 0),
                this.array.set(e, t),
                this
            },
            getX: function(e) {
                return this.array[e * this.itemSize]
            },
            setX: function(e, t) {
                return this.array[e * this.itemSize] = t,
                this
            },
            getY: function(e) {
                return this.array[e * this.itemSize + 1]
            },
            setY: function(e, t) {
                return this.array[e * this.itemSize + 1] = t,
                this
            },
            getZ: function(e) {
                return this.array[e * this.itemSize + 2]
            },
            setZ: function(e, t) {
                return this.array[e * this.itemSize + 2] = t,
                this
            },
            getW: function(e) {
                return this.array[e * this.itemSize + 3]
            },
            setW: function(e, t) {
                return this.array[e * this.itemSize + 3] = t,
                this
            },
            setXY: function(e, t, n) {
                return e *= this.itemSize,
                this.array[e + 0] = t,
                this.array[e + 1] = n,
                this
            },
            setXYZ: function(e, t, n, i) {
                return e *= this.itemSize,
                this.array[e + 0] = t,
                this.array[e + 1] = n,
                this.array[e + 2] = i,
                this
            },
            setXYZW: function(e, t, n, i, r) {
                return e *= this.itemSize,
                this.array[e + 0] = t,
                this.array[e + 1] = n,
                this.array[e + 2] = i,
                this.array[e + 3] = r,
                this
            },
            onUpload: function(e) {
                return this.onUploadCallback = e,
                this
            },
            clone: function() {
                return new this.constructor(this.array,this.itemSize).copy(this)
            }
        }),
        (ir.prototype = Object.create(nr.prototype)).constructor = ir,
        (rr.prototype = Object.create(nr.prototype)).constructor = rr,
        (ar.prototype = Object.create(nr.prototype)).constructor = ar,
        (or.prototype = Object.create(nr.prototype)).constructor = or,
        (sr.prototype = Object.create(nr.prototype)).constructor = sr,
        (lr.prototype = Object.create(nr.prototype)).constructor = lr,
        (ur.prototype = Object.create(nr.prototype)).constructor = ur,
        (cr.prototype = Object.create(nr.prototype)).constructor = cr,
        (hr.prototype = Object.create(nr.prototype)).constructor = hr,
        Object.assign(dr.prototype, {
            computeGroups: function(e) {
                for (var t, n = [], i = void 0, r = e.faces, a = 0; a < r.length; a++) {
                    var o = r[a];
                    o.materialIndex !== i && (i = o.materialIndex,
                    void 0 !== t && (t.count = 3 * a - t.start,
                    n.push(t)),
                    t = {
                        start: 3 * a,
                        materialIndex: i
                    })
                }
                void 0 !== t && (t.count = 3 * a - t.start,
                n.push(t)),
                this.groups = n
            },
            fromGeometry: function(e) {
                var t, n = e.faces, i = e.vertices, r = e.faceVertexUvs, a = r[0] && 0 < r[0].length, o = r[1] && 0 < r[1].length, s = e.morphTargets, l = s.length;
                if (0 < l) {
                    t = [];
                    for (var u = 0; u < l; u++)
                        t[u] = [];
                    this.morphTargets.position = t
                }
                var c, h = e.morphNormals, d = h.length;
                if (0 < d) {
                    c = [];
                    for (u = 0; u < d; u++)
                        c[u] = [];
                    this.morphTargets.normal = c
                }
                var p = e.skinIndices
                  , f = e.skinWeights
                  , m = p.length === i.length
                  , g = f.length === i.length;
                for (u = 0; u < n.length; u++) {
                    var v = n[u];
                    this.vertices.push(i[v.a], i[v.b], i[v.c]);
                    var y = v.vertexNormals;
                    if (3 === y.length)
                        this.normals.push(y[0], y[1], y[2]);
                    else {
                        var b = v.normal;
                        this.normals.push(b, b, b)
                    }
                    var _, w = v.vertexColors;
                    if (3 === w.length)
                        this.colors.push(w[0], w[1], w[2]);
                    else {
                        var x = v.color;
                        this.colors.push(x, x, x)
                    }
                    if (!0 === a)
                        void 0 !== (_ = r[0][u]) ? this.uvs.push(_[0], _[1], _[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", u),
                        this.uvs.push(new fe, new fe, new fe));
                    if (!0 === o)
                        void 0 !== (_ = r[1][u]) ? this.uvs2.push(_[0], _[1], _[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", u),
                        this.uvs2.push(new fe, new fe, new fe));
                    for (var T = 0; T < l; T++) {
                        var S = s[T].vertices;
                        t[T].push(S[v.a], S[v.b], S[v.c])
                    }
                    for (T = 0; T < d; T++) {
                        var E = h[T].vertexNormals[u];
                        c[T].push(E.a, E.b, E.c)
                    }
                    m && this.skinIndices.push(p[v.a], p[v.b], p[v.c]),
                    g && this.skinWeights.push(f[v.a], f[v.b], f[v.c])
                }
                return this.computeGroups(e),
                this.verticesNeedUpdate = e.verticesNeedUpdate,
                this.normalsNeedUpdate = e.normalsNeedUpdate,
                this.colorsNeedUpdate = e.colorsNeedUpdate,
                this.uvsNeedUpdate = e.uvsNeedUpdate,
                this.groupsNeedUpdate = e.groupsNeedUpdate,
                this
            }
        }),
        fr.MaxIndex = 65535,
        Object.assign(fr.prototype, t.prototype, {
            isBufferGeometry: !0,
            getIndex: function() {
                return this.index
            },
            setIndex: function(e) {
                Array.isArray(e) ? this.index = new (65535 < pr(e) ? ur : sr)(e,1) : this.index = e
            },
            addAttribute: function(e, t, n) {
                return t && t.isBufferAttribute || t && t.isInterleavedBufferAttribute ? "index" === e ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
                void this.setIndex(t)) : (this.attributes[e] = t,
                this) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
                void this.addAttribute(e, new nr(t,n)))
            },
            getAttribute: function(e) {
                return this.attributes[e]
            },
            removeAttribute: function(e) {
                return delete this.attributes[e],
                this
            },
            addGroup: function(e, t, n) {
                this.groups.push({
                    start: e,
                    count: t,
                    materialIndex: void 0 !== n ? n : 0
                })
            },
            clearGroups: function() {
                this.groups = []
            },
            setDrawRange: function(e, t) {
                this.drawRange.start = e,
                this.drawRange.count = t
            },
            applyMatrix: function(e) {
                var t = this.attributes.position;
                void 0 !== t && (e.applyToBufferAttribute(t),
                t.needsUpdate = !0);
                var n = this.attributes.normal;
                void 0 !== n && ((new Sn).getNormalMatrix(e).applyToBufferAttribute(n),
                n.needsUpdate = !0);
                return null !== this.boundingBox && this.computeBoundingBox(),
                null !== this.boundingSphere && this.computeBoundingSphere(),
                this
            },
            rotateX: (pi = new et,
            function(e) {
                return pi.makeRotationX(e),
                this.applyMatrix(pi),
                this
            }
            ),
            rotateY: (di = new et,
            function(e) {
                return di.makeRotationY(e),
                this.applyMatrix(di),
                this
            }
            ),
            rotateZ: (hi = new et,
            function(e) {
                return hi.makeRotationZ(e),
                this.applyMatrix(hi),
                this
            }
            ),
            translate: (ci = new et,
            function(e, t, n) {
                return ci.makeTranslation(e, t, n),
                this.applyMatrix(ci),
                this
            }
            ),
            scale: (ui = new et,
            function(e, t, n) {
                return ui.makeScale(e, t, n),
                this.applyMatrix(ui),
                this
            }
            ),
            lookAt: (li = new Yn,
            function(e) {
                li.lookAt(e),
                li.updateMatrix(),
                this.applyMatrix(li.matrix)
            }
            ),
            center: function() {
                this.computeBoundingBox();
                var e = this.boundingBox.getCenter().negate();
                return this.translate(e.x, e.y, e.z),
                e
            },
            setFromObject: function(e) {
                var t = e.geometry;
                if (e.isPoints || e.isLine) {
                    var n = new cr(3 * t.vertices.length,3)
                      , i = new cr(3 * t.colors.length,3);
                    if (this.addAttribute("position", n.copyVector3sArray(t.vertices)),
                    this.addAttribute("color", i.copyColorsArray(t.colors)),
                    t.lineDistances && t.lineDistances.length === t.vertices.length) {
                        var r = new cr(t.lineDistances.length,1);
                        this.addAttribute("lineDistance", r.copyArray(t.lineDistances))
                    }
                    null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
                    null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone())
                } else
                    e.isMesh && t && t.isGeometry && this.fromGeometry(t);
                return this
            },
            updateFromObject: function(e) {
                var t, n = e.geometry;
                if (e.isMesh) {
                    var i = n.__directGeometry;
                    if (!0 === n.elementsNeedUpdate && (i = void 0,
                    n.elementsNeedUpdate = !1),
                    void 0 === i)
                        return this.fromGeometry(n);
                    i.verticesNeedUpdate = n.verticesNeedUpdate,
                    i.normalsNeedUpdate = n.normalsNeedUpdate,
                    i.colorsNeedUpdate = n.colorsNeedUpdate,
                    i.uvsNeedUpdate = n.uvsNeedUpdate,
                    i.groupsNeedUpdate = n.groupsNeedUpdate,
                    n.verticesNeedUpdate = !1,
                    n.normalsNeedUpdate = !1,
                    n.colorsNeedUpdate = !1,
                    n.uvsNeedUpdate = !1,
                    n.groupsNeedUpdate = !1,
                    n = i
                }
                return !0 === n.verticesNeedUpdate && (void 0 !== (t = this.attributes.position) && (t.copyVector3sArray(n.vertices),
                t.needsUpdate = !0),
                n.verticesNeedUpdate = !1),
                !0 === n.normalsNeedUpdate && (void 0 !== (t = this.attributes.normal) && (t.copyVector3sArray(n.normals),
                t.needsUpdate = !0),
                n.normalsNeedUpdate = !1),
                !0 === n.colorsNeedUpdate && (void 0 !== (t = this.attributes.color) && (t.copyColorsArray(n.colors),
                t.needsUpdate = !0),
                n.colorsNeedUpdate = !1),
                n.uvsNeedUpdate && (void 0 !== (t = this.attributes.uv) && (t.copyVector2sArray(n.uvs),
                t.needsUpdate = !0),
                n.uvsNeedUpdate = !1),
                n.lineDistancesNeedUpdate && (void 0 !== (t = this.attributes.lineDistance) && (t.copyArray(n.lineDistances),
                t.needsUpdate = !0),
                n.lineDistancesNeedUpdate = !1),
                n.groupsNeedUpdate && (n.computeGroups(e.geometry),
                this.groups = n.groups,
                n.groupsNeedUpdate = !1),
                this
            },
            fromGeometry: function(e) {
                return e.__directGeometry = (new dr).fromGeometry(e),
                this.fromDirectGeometry(e.__directGeometry)
            },
            fromDirectGeometry: function(e) {
                var t = new Float32Array(3 * e.vertices.length);
                if (this.addAttribute("position", new nr(t,3).copyVector3sArray(e.vertices)),
                0 < e.normals.length) {
                    var n = new Float32Array(3 * e.normals.length);
                    this.addAttribute("normal", new nr(n,3).copyVector3sArray(e.normals))
                }
                if (0 < e.colors.length) {
                    var i = new Float32Array(3 * e.colors.length);
                    this.addAttribute("color", new nr(i,3).copyColorsArray(e.colors))
                }
                if (0 < e.uvs.length) {
                    var r = new Float32Array(2 * e.uvs.length);
                    this.addAttribute("uv", new nr(r,2).copyVector2sArray(e.uvs))
                }
                if (0 < e.uvs2.length) {
                    var a = new Float32Array(2 * e.uvs2.length);
                    this.addAttribute("uv2", new nr(a,2).copyVector2sArray(e.uvs2))
                }
                if (0 < e.indices.length) {
                    var o = new (65535 < pr(e.indices) ? Uint32Array : Uint16Array)(3 * e.indices.length);
                    this.setIndex(new nr(o,1).copyIndicesArray(e.indices))
                }
                for (var s in this.groups = e.groups,
                e.morphTargets) {
                    for (var l = [], u = e.morphTargets[s], c = 0, h = u.length; c < h; c++) {
                        var d = u[c]
                          , p = new cr(3 * d.length,3);
                        l.push(p.copyVector3sArray(d))
                    }
                    this.morphAttributes[s] = l
                }
                if (0 < e.skinIndices.length) {
                    var f = new cr(4 * e.skinIndices.length,4);
                    this.addAttribute("skinIndex", f.copyVector4sArray(e.skinIndices))
                }
                if (0 < e.skinWeights.length) {
                    var m = new cr(4 * e.skinWeights.length,4);
                    this.addAttribute("skinWeight", m.copyVector4sArray(e.skinWeights))
                }
                return null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
                null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
                this
            },
            computeBoundingBox: function() {
                null === this.boundingBox && (this.boundingBox = new xn);
                var e = this.attributes.position;
                void 0 !== e ? this.boundingBox.setFromBufferAttribute(e) : this.boundingBox.makeEmpty(),
                (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
            },
            computeBoundingSphere: (oi = new xn,
            si = new Je,
            function() {
                null === this.boundingSphere && (this.boundingSphere = new Tn);
                var e = this.attributes.position;
                if (e) {
                    var t = this.boundingSphere.center;
                    oi.setFromBufferAttribute(e),
                    oi.getCenter(t);
                    for (var n = 0, i = 0, r = e.count; i < r; i++)
                        si.x = e.getX(i),
                        si.y = e.getY(i),
                        si.z = e.getZ(i),
                        n = Math.max(n, t.distanceToSquared(si));
                    this.boundingSphere.radius = Math.sqrt(n),
                    isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                }
            }
            ),
            computeFaceNormals: function() {},
            computeVertexNormals: function() {
                var e = this.index
                  , t = this.attributes
                  , n = this.groups;
                if (t.position) {
                    var i = t.position.array;
                    if (void 0 === t.normal)
                        this.addAttribute("normal", new nr(new Float32Array(i.length),3));
                    else
                        for (var r = t.normal.array, a = 0, o = r.length; a < o; a++)
                            r[a] = 0;
                    var s, l, u, c = t.normal.array, h = new Je, d = new Je, p = new Je, f = new Je, m = new Je;
                    if (e) {
                        var g = e.array;
                        0 === n.length && this.addGroup(0, g.length);
                        for (var v = 0, y = n.length; v < y; ++v) {
                            var b = n[v]
                              , _ = b.start;
                            for (a = _,
                            o = _ + b.count; a < o; a += 3)
                                s = 3 * g[a + 0],
                                l = 3 * g[a + 1],
                                u = 3 * g[a + 2],
                                h.fromArray(i, s),
                                d.fromArray(i, l),
                                p.fromArray(i, u),
                                f.subVectors(p, d),
                                m.subVectors(h, d),
                                f.cross(m),
                                c[s] += f.x,
                                c[1 + s] += f.y,
                                c[2 + s] += f.z,
                                c[l] += f.x,
                                c[1 + l] += f.y,
                                c[2 + l] += f.z,
                                c[u] += f.x,
                                c[1 + u] += f.y,
                                c[2 + u] += f.z
                        }
                    } else
                        for (a = 0,
                        o = i.length; a < o; a += 9)
                            h.fromArray(i, a),
                            d.fromArray(i, a + 3),
                            p.fromArray(i, a + 6),
                            f.subVectors(p, d),
                            m.subVectors(h, d),
                            f.cross(m),
                            c[a] = f.x,
                            c[a + 1] = f.y,
                            c[a + 2] = f.z,
                            c[a + 3] = f.x,
                            c[a + 4] = f.y,
                            c[a + 5] = f.z,
                            c[a + 6] = f.x,
                            c[a + 7] = f.y,
                            c[a + 8] = f.z;
                    this.normalizeNormals(),
                    t.normal.needsUpdate = !0
                }
            },
            merge: function(e, t) {
                if (e && e.isBufferGeometry) {
                    void 0 === t && (t = 0);
                    var n = this.attributes;
                    for (var i in n)
                        if (void 0 !== e.attributes[i])
                            for (var r = n[i].array, a = e.attributes[i], o = a.array, s = 0, l = a.itemSize * t; s < o.length; s++,
                            l++)
                                r[l] = o[s];
                    return this
                }
                console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", e)
            },
            normalizeNormals: function() {
                for (var e, t, n, i, r = this.attributes.normal, a = 0, o = r.count; a < o; a++)
                    e = r.getX(a),
                    t = r.getY(a),
                    n = r.getZ(a),
                    i = 1 / Math.sqrt(e * e + t * t + n * n),
                    r.setXYZ(a, e * i, t * i, n * i)
            },
            toNonIndexed: function() {
                if (null === this.index)
                    return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
                    this;
                var e = new fr
                  , t = this.index.array
                  , n = this.attributes;
                for (var i in n) {
                    for (var r = n[i], a = r.array, o = r.itemSize, s = new a.constructor(t.length * o), l = 0, u = 0, c = 0, h = t.length; c < h; c++) {
                        l = t[c] * o;
                        for (var d = 0; d < o; d++)
                            s[u++] = a[l++]
                    }
                    e.addAttribute(i, new nr(s,o))
                }
                return e
            },
            toJSON: function() {
                var e = {
                    metadata: {
                        version: 4.5,
                        type: "BufferGeometry",
                        generator: "BufferGeometry.toJSON"
                    }
                };
                if (e.uuid = this.uuid,
                e.type = this.type,
                "" !== this.name && (e.name = this.name),
                void 0 !== this.parameters) {
                    var t = this.parameters;
                    for (var n in t)
                        void 0 !== t[n] && (e[n] = t[n]);
                    return e
                }
                e.data = {
                    attributes: {}
                };
                var i = this.index;
                if (null !== i) {
                    var r = Array.prototype.slice.call(i.array);
                    e.data.index = {
                        type: i.array.constructor.name,
                        array: r
                    }
                }
                var a = this.attributes;
                for (var n in a) {
                    var o = a[n];
                    r = Array.prototype.slice.call(o.array);
                    e.data.attributes[n] = {
                        itemSize: o.itemSize,
                        type: o.array.constructor.name,
                        array: r,
                        normalized: o.normalized
                    }
                }
                var s = this.groups;
                0 < s.length && (e.data.groups = JSON.parse(JSON.stringify(s)));
                var l = this.boundingSphere;
                return null !== l && (e.data.boundingSphere = {
                    center: l.center.toArray(),
                    radius: l.radius
                }),
                e
            },
            clone: function() {
                return (new fr).copy(this)
            },
            copy: function(e) {
                var t, n, i;
                this.index = null,
                this.attributes = {},
                this.morphAttributes = {},
                this.groups = [],
                this.boundingBox = null,
                this.boundingSphere = null,
                this.name = e.name;
                var r = e.index;
                null !== r && this.setIndex(r.clone());
                var a = e.attributes;
                for (t in a) {
                    var o = a[t];
                    this.addAttribute(t, o.clone())
                }
                var s = e.morphAttributes;
                for (t in s) {
                    var l = []
                      , u = s[t];
                    for (n = 0,
                    i = u.length; n < i; n++)
                        l.push(u[n].clone());
                    this.morphAttributes[t] = l
                }
                var c = e.groups;
                for (n = 0,
                i = c.length; n < i; n++) {
                    var h = c[n];
                    this.addGroup(h.start, h.count, h.materialIndex)
                }
                var d = e.boundingBox;
                null !== d && (this.boundingBox = d.clone());
                var p = e.boundingSphere;
                return null !== p && (this.boundingSphere = p.clone()),
                this.drawRange.start = e.drawRange.start,
                this.drawRange.count = e.drawRange.count,
                this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }),
        (mr.prototype = Object.create(tr.prototype)).constructor = mr,
        (gr.prototype = Object.create(fr.prototype)).constructor = gr,
        (vr.prototype = Object.create(tr.prototype)).constructor = vr,
        (yr.prototype = Object.create(fr.prototype)).constructor = yr,
        ((br.prototype = Object.create(bn.prototype)).constructor = br).prototype.isMeshBasicMaterial = !0,
        br.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.map = e.map,
            this.lightMap = e.lightMap,
            this.lightMapIntensity = e.lightMapIntensity,
            this.aoMap = e.aoMap,
            this.aoMapIntensity = e.aoMapIntensity,
            this.specularMap = e.specularMap,
            this.alphaMap = e.alphaMap,
            this.envMap = e.envMap,
            this.combine = e.combine,
            this.reflectivity = e.reflectivity,
            this.refractionRatio = e.refractionRatio,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.wireframeLinecap = e.wireframeLinecap,
            this.wireframeLinejoin = e.wireframeLinejoin,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this
        }
        ,
        Object.assign(_r.prototype, {
            set: function(e, t) {
                return this.origin.copy(e),
                this.direction.copy(t),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.origin.copy(e.origin),
                this.direction.copy(e.direction),
                this
            },
            at: function(e, t) {
                return (t || new Je).copy(this.direction).multiplyScalar(e).add(this.origin)
            },
            lookAt: function(e) {
                return this.direction.copy(e).sub(this.origin).normalize(),
                this
            },
            recast: (Si = new Je,
            function(e) {
                return this.origin.copy(this.at(e, Si)),
                this
            }
            ),
            closestPointToPoint: function(e, t) {
                var n = t || new Je;
                n.subVectors(e, this.origin);
                var i = n.dot(this.direction);
                return i < 0 ? n.copy(this.origin) : n.copy(this.direction).multiplyScalar(i).add(this.origin)
            },
            distanceToPoint: function(e) {
                return Math.sqrt(this.distanceSqToPoint(e))
            },
            distanceSqToPoint: (Ti = new Je,
            function(e) {
                var t = Ti.subVectors(e, this.origin).dot(this.direction);
                return t < 0 ? this.origin.distanceToSquared(e) : (Ti.copy(this.direction).multiplyScalar(t).add(this.origin),
                Ti.distanceToSquared(e))
            }
            ),
            distanceSqToSegment: (_i = new Je,
            wi = new Je,
            xi = new Je,
            function(e, t, n, i) {
                _i.copy(e).add(t).multiplyScalar(.5),
                wi.copy(t).sub(e).normalize(),
                xi.copy(this.origin).sub(_i);
                var r, a, o, s, l = .5 * e.distanceTo(t), u = -this.direction.dot(wi), c = xi.dot(this.direction), h = -xi.dot(wi), d = xi.lengthSq(), p = Math.abs(1 - u * u);
                if (0 < p)
                    if (a = u * c - h,
                    s = l * p,
                    0 <= (r = u * h - c))
                        if (-s <= a)
                            if (a <= s) {
                                var f = 1 / p;
                                o = (r *= f) * (r + u * (a *= f) + 2 * c) + a * (u * r + a + 2 * h) + d
                            } else
                                a = l,
                                o = -(r = Math.max(0, -(u * a + c))) * r + a * (a + 2 * h) + d;
                        else
                            a = -l,
                            o = -(r = Math.max(0, -(u * a + c))) * r + a * (a + 2 * h) + d;
                    else
                        o = a <= -s ? -(r = Math.max(0, -(-u * l + c))) * r + (a = 0 < r ? -l : Math.min(Math.max(-l, -h), l)) * (a + 2 * h) + d : a <= s ? (r = 0,
                        (a = Math.min(Math.max(-l, -h), l)) * (a + 2 * h) + d) : -(r = Math.max(0, -(u * l + c))) * r + (a = 0 < r ? l : Math.min(Math.max(-l, -h), l)) * (a + 2 * h) + d;
                else
                    a = 0 < u ? -l : l,
                    o = -(r = Math.max(0, -(u * a + c))) * r + a * (a + 2 * h) + d;
                return n && n.copy(this.direction).multiplyScalar(r).add(this.origin),
                i && i.copy(wi).multiplyScalar(a).add(_i),
                o
            }
            ),
            intersectSphere: (bi = new Je,
            function(e, t) {
                bi.subVectors(e.center, this.origin);
                var n = bi.dot(this.direction)
                  , i = bi.dot(bi) - n * n
                  , r = e.radius * e.radius;
                if (r < i)
                    return null;
                var a = Math.sqrt(r - i)
                  , o = n - a
                  , s = n + a;
                return o < 0 && s < 0 ? null : o < 0 ? this.at(s, t) : this.at(o, t)
            }
            ),
            intersectsSphere: function(e) {
                return this.distanceToPoint(e.center) <= e.radius
            },
            distanceToPlane: function(e) {
                var t = e.normal.dot(this.direction);
                if (0 === t)
                    return 0 === e.distanceToPoint(this.origin) ? 0 : null;
                var n = -(this.origin.dot(e.normal) + e.constant) / t;
                return 0 <= n ? n : null
            },
            intersectPlane: function(e, t) {
                var n = this.distanceToPlane(e);
                return null === n ? null : this.at(n, t)
            },
            intersectsPlane: function(e) {
                var t = e.distanceToPoint(this.origin);
                return 0 === t || e.normal.dot(this.direction) * t < 0
            },
            intersectBox: function(e, t) {
                var n, i, r, a, o, s, l = 1 / this.direction.x, u = 1 / this.direction.y, c = 1 / this.direction.z, h = this.origin;
                return i = 0 <= l ? (n = (e.min.x - h.x) * l,
                (e.max.x - h.x) * l) : (n = (e.max.x - h.x) * l,
                (e.min.x - h.x) * l),
                (a = 0 <= u ? (r = (e.min.y - h.y) * u,
                (e.max.y - h.y) * u) : (r = (e.max.y - h.y) * u,
                (e.min.y - h.y) * u)) < n || i < r ? null : ((n < r || n != n) && (n = r),
                (a < i || i != i) && (i = a),
                (s = 0 <= c ? (o = (e.min.z - h.z) * c,
                (e.max.z - h.z) * c) : (o = (e.max.z - h.z) * c,
                (e.min.z - h.z) * c)) < n || i < o ? null : ((n < o || n != n) && (n = o),
                (s < i || i != i) && (i = s),
                i < 0 ? null : this.at(0 <= n ? n : i, t)))
            },
            intersectsBox: (yi = new Je,
            function(e) {
                return null !== this.intersectBox(e, yi)
            }
            ),
            intersectTriangle: (fi = new Je,
            mi = new Je,
            gi = new Je,
            vi = new Je,
            function(e, t, n, i, r) {
                mi.subVectors(t, e),
                gi.subVectors(n, e),
                vi.crossVectors(mi, gi);
                var a, o = this.direction.dot(vi);
                if (0 < o) {
                    if (i)
                        return null;
                    a = 1
                } else {
                    if (!(o < 0))
                        return null;
                    a = -1,
                    o = -o
                }
                fi.subVectors(this.origin, e);
                var s = a * this.direction.dot(gi.crossVectors(fi, gi));
                if (s < 0)
                    return null;
                var l = a * this.direction.dot(mi.cross(fi));
                if (l < 0)
                    return null;
                if (o < s + l)
                    return null;
                var u = -a * fi.dot(vi);
                return u < 0 ? null : this.at(u / o, r)
            }
            ),
            applyMatrix4: function(e) {
                return this.origin.applyMatrix4(e),
                this.direction.transformDirection(e),
                this
            },
            equals: function(e) {
                return e.origin.equals(this.origin) && e.direction.equals(this.direction)
            }
        }),
        Object.assign(wr.prototype, {
            set: function(e, t) {
                return this.start.copy(e),
                this.end.copy(t),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.start.copy(e.start),
                this.end.copy(e.end),
                this
            },
            getCenter: function(e) {
                return (e || new Je).addVectors(this.start, this.end).multiplyScalar(.5)
            },
            delta: function(e) {
                return (e || new Je).subVectors(this.end, this.start)
            },
            distanceSq: function() {
                return this.start.distanceToSquared(this.end)
            },
            distance: function() {
                return this.start.distanceTo(this.end)
            },
            at: function(e, t) {
                var n = t || new Je;
                return this.delta(n).multiplyScalar(e).add(this.start)
            },
            closestPointToPointParameter: (Ei = new Je,
            Ci = new Je,
            function(e, t) {
                Ei.subVectors(e, this.start),
                Ci.subVectors(this.end, this.start);
                var n = Ci.dot(Ci)
                  , i = Ci.dot(Ei) / n;
                return t && (i = Ze.clamp(i, 0, 1)),
                i
            }
            ),
            closestPointToPoint: function(e, t, n) {
                var i = this.closestPointToPointParameter(e, t)
                  , r = n || new Je;
                return this.delta(r).multiplyScalar(i).add(this.start)
            },
            applyMatrix4: function(e) {
                return this.start.applyMatrix4(e),
                this.end.applyMatrix4(e),
                this
            },
            equals: function(e) {
                return e.start.equals(this.start) && e.end.equals(this.end)
            }
        }),
        Object.assign(xr, {
            normal: (Ii = new Je,
            function(e, t, n, i) {
                var r = i || new Je;
                r.subVectors(n, t),
                Ii.subVectors(e, t),
                r.cross(Ii);
                var a = r.lengthSq();
                return 0 < a ? r.multiplyScalar(1 / Math.sqrt(a)) : r.set(0, 0, 0)
            }
            ),
            barycoordFromPoint: (ki = new Je,
            Pi = new Je,
            Ai = new Je,
            function(e, t, n, i, r) {
                ki.subVectors(i, t),
                Pi.subVectors(n, t),
                Ai.subVectors(e, t);
                var a = ki.dot(ki)
                  , o = ki.dot(Pi)
                  , s = ki.dot(Ai)
                  , l = Pi.dot(Pi)
                  , u = Pi.dot(Ai)
                  , c = a * l - o * o
                  , h = r || new Je;
                if (0 == c)
                    return h.set(-2, -1, -1);
                var d = 1 / c
                  , p = (l * s - o * u) * d
                  , f = (a * u - o * s) * d;
                return h.set(1 - p - f, f, p)
            }
            ),
            containsPoint: (Mi = new Je,
            function(e, t, n, i) {
                var r = xr.barycoordFromPoint(e, t, n, i, Mi);
                return 0 <= r.x && 0 <= r.y && r.x + r.y <= 1
            }
            )
        }),
        Object.assign(xr.prototype, {
            set: function(e, t, n) {
                return this.a.copy(e),
                this.b.copy(t),
                this.c.copy(n),
                this
            },
            setFromPointsAndIndices: function(e, t, n, i) {
                return this.a.copy(e[t]),
                this.b.copy(e[n]),
                this.c.copy(e[i]),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.a.copy(e.a),
                this.b.copy(e.b),
                this.c.copy(e.c),
                this
            },
            area: (Ni = new Je,
            Fi = new Je,
            function() {
                return Ni.subVectors(this.c, this.b),
                Fi.subVectors(this.a, this.b),
                .5 * Ni.cross(Fi).length()
            }
            ),
            midpoint: function(e) {
                return (e || new Je).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
            },
            normal: function(e) {
                return xr.normal(this.a, this.b, this.c, e)
            },
            plane: function(e) {
                return (e || new En).setFromCoplanarPoints(this.a, this.b, this.c)
            },
            barycoordFromPoint: function(e, t) {
                return xr.barycoordFromPoint(e, this.a, this.b, this.c, t)
            },
            containsPoint: function(e) {
                return xr.containsPoint(e, this.a, this.b, this.c)
            },
            closestPointToPoint: (Li = new En,
            Oi = [new wr, new wr, new wr],
            Ri = new Je,
            Di = new Je,
            function(e, t) {
                var n = t || new Je
                  , i = 1 / 0;
                if (Li.setFromCoplanarPoints(this.a, this.b, this.c),
                Li.projectPoint(e, Ri),
                !0 === this.containsPoint(Ri))
                    n.copy(Ri);
                else {
                    Oi[0].set(this.a, this.b),
                    Oi[1].set(this.b, this.c),
                    Oi[2].set(this.c, this.a);
                    for (var r = 0; r < Oi.length; r++) {
                        Oi[r].closestPointToPoint(Ri, !0, Di);
                        var a = Ri.distanceToSquared(Di);
                        a < i && (i = a,
                        n.copy(Di))
                    }
                }
                return n
            }
            ),
            equals: function(e) {
                return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
            }
        }),
        Tr.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Tr,
            isMesh: !0,
            setDrawMode: function(e) {
                this.drawMode = e
            },
            copy: function(e) {
                return Yn.prototype.copy.call(this, e),
                this.drawMode = e.drawMode,
                this
            },
            updateMorphTargets: function() {
                var e, t, n, i = this.geometry;
                if (i.isBufferGeometry) {
                    var r = i.morphAttributes
                      , a = Object.keys(r);
                    if (0 < a.length) {
                        var o = r[a[0]];
                        if (void 0 !== o)
                            for (this.morphTargetInfluences = [],
                            this.morphTargetDictionary = {},
                            e = 0,
                            t = o.length; e < t; e++)
                                n = o[e].name || String(e),
                                this.morphTargetInfluences.push(0),
                                this.morphTargetDictionary[n] = e
                    }
                } else {
                    var s = i.morphTargets;
                    if (void 0 !== s && 0 < s.length)
                        for (this.morphTargetInfluences = [],
                        this.morphTargetDictionary = {},
                        e = 0,
                        t = s.length; e < t; e++)
                            n = s[e].name || String(e),
                            this.morphTargetInfluences.push(0),
                            this.morphTargetDictionary[n] = e
                }
            },
            raycast: (Bi = new et,
            Ui = new _r,
            ji = new Tn,
            zi = new Je,
            Hi = new Je,
            Vi = new Je,
            Gi = new Je,
            Wi = new Je,
            qi = new Je,
            $i = new fe,
            Xi = new fe,
            Yi = new fe,
            Ki = new Je,
            Zi = new Je,
            Qi = new Je,
            function(e, t) {
                var n, i = this.geometry, r = this.material, a = this.matrixWorld;
                if (void 0 !== r && (null === i.boundingSphere && i.computeBoundingSphere(),
                ji.copy(i.boundingSphere),
                ji.applyMatrix4(a),
                !1 !== e.ray.intersectsSphere(ji) && (Bi.getInverse(a),
                Ui.copy(e.ray).applyMatrix4(Bi),
                null === i.boundingBox || !1 !== Ui.intersectsBox(i.boundingBox))))
                    if (i.isBufferGeometry) {
                        var o, s, l, u, c, h = i.index, d = i.attributes.position, p = i.attributes.uv;
                        if (null !== h)
                            for (u = 0,
                            c = h.count; u < c; u += 3)
                                o = h.getX(u),
                                s = h.getX(u + 1),
                                l = h.getX(u + 2),
                                (n = Cr(this, e, Ui, d, p, o, s, l)) && (n.faceIndex = Math.floor(u / 3),
                                t.push(n));
                        else
                            for (u = 0,
                            c = d.count; u < c; u += 3)
                                (n = Cr(this, e, Ui, d, p, o = u, s = u + 1, l = u + 2)) && (n.index = o,
                                t.push(n))
                    } else if (i.isGeometry) {
                        var f, m, g, v, y = Array.isArray(r), b = i.vertices, _ = i.faces, w = i.faceVertexUvs[0];
                        0 < w.length && (v = w);
                        for (var x = 0, T = _.length; x < T; x++) {
                            var S = _[x]
                              , E = y ? r[S.materialIndex] : r;
                            if (void 0 !== E) {
                                if (f = b[S.a],
                                m = b[S.b],
                                g = b[S.c],
                                !0 === E.morphTargets) {
                                    var C = i.morphTargets
                                      , M = this.morphTargetInfluences;
                                    zi.set(0, 0, 0),
                                    Hi.set(0, 0, 0),
                                    Vi.set(0, 0, 0);
                                    for (var k = 0, P = C.length; k < P; k++) {
                                        var A = M[k];
                                        if (0 !== A) {
                                            var I = C[k].vertices;
                                            zi.addScaledVector(Gi.subVectors(I[S.a], f), A),
                                            Hi.addScaledVector(Wi.subVectors(I[S.b], m), A),
                                            Vi.addScaledVector(qi.subVectors(I[S.c], g), A)
                                        }
                                    }
                                    zi.add(f),
                                    Hi.add(m),
                                    Vi.add(g),
                                    f = zi,
                                    m = Hi,
                                    g = Vi
                                }
                                if (n = Er(this, e, Ui, f, m, g, Zi)) {
                                    if (v && v[x]) {
                                        var L = v[x];
                                        $i.copy(L[0]),
                                        Xi.copy(L[1]),
                                        Yi.copy(L[2]),
                                        n.uv = Sr(Zi, f, m, g, $i, Xi, Yi)
                                    }
                                    n.face = S,
                                    n.faceIndex = x,
                                    t.push(n)
                                }
                            }
                        }
                    }
            }
            ),
            clone: function() {
                return new this.constructor(this.geometry,this.material).copy(this)
            }
        });
        var Br, Ur, jr, zr, Hr, Vr, Gr, Wr, qr, $r, Xr, Yr, Kr, Zr, Qr = 0;
        function Jr(e) {
            switch (e) {
            case f:
                return ["Linear", "( value )"];
            case c:
                return ["sRGB", "( value )"];
            case h:
                return ["RGBE", "( value )"];
            case d:
                return ["RGBM", "( value, 7.0 )"];
            case p:
                return ["RGBM", "( value, 16.0 )"];
            case g:
                return ["RGBD", "( value, 256.0 )"];
            case m:
                return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
            default:
                throw new Error("unsupported encoding: " + e)
            }
        }
        function ea(e, t) {
            var n = Jr(t);
            return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
        }
        function ta(e) {
            return "" !== e
        }
        function na(e, t) {
            return e.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights)
        }
        function ia(e) {
            return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm, function(e, t) {
                var n = $t[t];
                if (void 0 === n)
                    throw new Error("Can not resolve #include <" + t + ">");
                return ia(n)
            })
        }
        function ra(e) {
            return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function(e, t, n, i) {
                for (var r = "", a = parseInt(t); a < parseInt(n); a++)
                    r += i.replace(/\[ i \]/g, "[ " + a + " ]");
                return r
            })
        }
        function aa(e, t, n, i, r) {
            var a = e.context
              , o = n.extensions
              , s = n.defines
              , l = i.vertexShader
              , u = i.fragmentShader
              , c = "SHADOWMAP_TYPE_BASIC";
            r.shadowMapType === F ? c = "SHADOWMAP_TYPE_PCF" : r.shadowMapType === I && (c = "SHADOWMAP_TYPE_PCF_SOFT");
            var h = "ENVMAP_TYPE_CUBE"
              , d = "ENVMAP_MODE_REFLECTION"
              , p = "ENVMAP_BLENDING_MULTIPLY";
            if (r.envMap) {
                switch (n.envMap.mapping) {
                case z:
                case se:
                    h = "ENVMAP_TYPE_CUBE";
                    break;
                case he:
                case de:
                    h = "ENVMAP_TYPE_CUBE_UV";
                    break;
                case le:
                case ue:
                    h = "ENVMAP_TYPE_EQUIREC";
                    break;
                case ce:
                    h = "ENVMAP_TYPE_SPHERE"
                }
                switch (n.envMap.mapping) {
                case se:
                case ue:
                    d = "ENVMAP_MODE_REFRACTION"
                }
                switch (n.combine) {
                case L:
                    p = "ENVMAP_BLENDING_MULTIPLY";
                    break;
                case O:
                    p = "ENVMAP_BLENDING_MIX";
                    break;
                case R:
                    p = "ENVMAP_BLENDING_ADD"
                }
            }
            var f, m, g = 0 < e.gammaFactor ? e.gammaFactor : 1, v = function(e, t, n) {
                return [(e = e || {}).derivatives || t.envMapCubeUV || t.bumpMap || t.normalMap || t.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (e.fragDepth || t.logarithmicDepthBuffer) && n.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", e.drawBuffers && n.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (e.shaderTextureLOD || t.envMap) && n.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(ta).join("\n")
            }(o, r, e.extensions), y = function(e) {
                var t = [];
                for (var n in e) {
                    var i = e[n];
                    !1 !== i && t.push("#define " + n + " " + i)
                }
                return t.join("\n")
            }(s), b = a.createProgram();
            m = n.isRawShaderMaterial ? (f = [y, "\n"].filter(ta).join("\n"),
            [v, y, "\n"].filter(ta).join("\n")) : (f = ["precision " + r.precision + " float;", "precision " + r.precision + " int;", "#define SHADER_NAME " + i.name, y, r.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + g, "#define MAX_BONES " + r.maxBones, r.useFog && r.fog ? "#define USE_FOG" : "", r.useFog && r.fogExp ? "#define FOG_EXP2" : "", r.map ? "#define USE_MAP" : "", r.envMap ? "#define USE_ENVMAP" : "", r.envMap ? "#define " + d : "", r.lightMap ? "#define USE_LIGHTMAP" : "", r.aoMap ? "#define USE_AOMAP" : "", r.emissiveMap ? "#define USE_EMISSIVEMAP" : "", r.bumpMap ? "#define USE_BUMPMAP" : "", r.normalMap ? "#define USE_NORMALMAP" : "", r.displacementMap && r.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", r.specularMap ? "#define USE_SPECULARMAP" : "", r.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", r.metalnessMap ? "#define USE_METALNESSMAP" : "", r.alphaMap ? "#define USE_ALPHAMAP" : "", r.vertexColors ? "#define USE_COLOR" : "", r.flatShading ? "#define FLAT_SHADED" : "", r.skinning ? "#define USE_SKINNING" : "", r.useVertexTexture ? "#define BONE_TEXTURE" : "", r.morphTargets ? "#define USE_MORPHTARGETS" : "", r.morphNormals && !1 === r.flatShading ? "#define USE_MORPHNORMALS" : "", r.doubleSided ? "#define DOUBLE_SIDED" : "", r.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + r.numClippingPlanes, r.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", r.shadowMapEnabled ? "#define " + c : "", r.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", r.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", r.logarithmicDepthBuffer && e.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(ta).join("\n"),
            [v, "precision " + r.precision + " float;", "precision " + r.precision + " int;", "#define SHADER_NAME " + i.name, y, r.alphaTest ? "#define ALPHATEST " + r.alphaTest : "", "#define GAMMA_FACTOR " + g, r.useFog && r.fog ? "#define USE_FOG" : "", r.useFog && r.fogExp ? "#define FOG_EXP2" : "", r.map ? "#define USE_MAP" : "", r.envMap ? "#define USE_ENVMAP" : "", r.envMap ? "#define " + h : "", r.envMap ? "#define " + d : "", r.envMap ? "#define " + p : "", r.lightMap ? "#define USE_LIGHTMAP" : "", r.aoMap ? "#define USE_AOMAP" : "", r.emissiveMap ? "#define USE_EMISSIVEMAP" : "", r.bumpMap ? "#define USE_BUMPMAP" : "", r.normalMap ? "#define USE_NORMALMAP" : "", r.specularMap ? "#define USE_SPECULARMAP" : "", r.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", r.metalnessMap ? "#define USE_METALNESSMAP" : "", r.alphaMap ? "#define USE_ALPHAMAP" : "", r.vertexColors ? "#define USE_COLOR" : "", r.gradientMap ? "#define USE_GRADIENTMAP" : "", r.flatShading ? "#define FLAT_SHADED" : "", r.doubleSided ? "#define DOUBLE_SIDED" : "", r.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + r.numClippingPlanes, "#define UNION_CLIPPING_PLANES " + (r.numClippingPlanes - r.numClipIntersection), r.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", r.shadowMapEnabled ? "#define " + c : "", r.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", r.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", r.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", r.logarithmicDepthBuffer && e.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", r.envMap && e.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", r.toneMapping !== D ? "#define TONE_MAPPING" : "", r.toneMapping !== D ? $t.tonemapping_pars_fragment : "", r.toneMapping !== D ? function(e, t) {
                var n;
                switch (t) {
                case Oe:
                    n = "Linear";
                    break;
                case N:
                    n = "Reinhard";
                    break;
                case U:
                    n = "Uncharted2";
                    break;
                case j:
                    n = "OptimizedCineon";
                    break;
                default:
                    throw new Error("unsupported toneMapping: " + t)
                }
                return "vec3 " + e + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
            }("toneMapping", r.toneMapping) : "", r.dithering ? "#define DITHERING" : "", r.outputEncoding || r.mapEncoding || r.envMapEncoding || r.emissiveMapEncoding ? $t.encodings_pars_fragment : "", r.mapEncoding ? ea("mapTexelToLinear", r.mapEncoding) : "", r.envMapEncoding ? ea("envMapTexelToLinear", r.envMapEncoding) : "", r.emissiveMapEncoding ? ea("emissiveMapTexelToLinear", r.emissiveMapEncoding) : "", r.outputEncoding ? function(e, t) {
                var n = Jr(t);
                return "vec4 " + e + "( vec4 value ) { return LinearTo" + n[0] + n[1] + "; }"
            }("linearToOutputTexel", r.outputEncoding) : "", r.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(ta).join("\n")),
            l = na(l = ia(l), r),
            u = na(u = ia(u), r),
            n.isShaderMaterial || (l = ra(l),
            u = ra(u));
            var _ = f + l
              , w = m + u
              , x = Fr(a, a.VERTEX_SHADER, _)
              , T = Fr(a, a.FRAGMENT_SHADER, w);
            a.attachShader(b, x),
            a.attachShader(b, T),
            void 0 !== n.index0AttributeName ? a.bindAttribLocation(b, 0, n.index0AttributeName) : !0 === r.morphTargets && a.bindAttribLocation(b, 0, "position"),
            a.linkProgram(b);
            var S, E, C = a.getProgramInfoLog(b), M = a.getShaderInfoLog(x), k = a.getShaderInfoLog(T), P = !0, A = !0;
            return !1 === a.getProgramParameter(b, a.LINK_STATUS) ? (P = !1,
            console.error("THREE.WebGLProgram: shader error: ", a.getError(), "gl.VALIDATE_STATUS", a.getProgramParameter(b, a.VALIDATE_STATUS), "gl.getProgramInfoLog", C, M, k)) : "" !== C ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", C) : "" !== M && "" !== k || (A = !1),
            A && (this.diagnostics = {
                runnable: P,
                material: n,
                programLog: C,
                vertexShader: {
                    log: M,
                    prefix: f
                },
                fragmentShader: {
                    log: k,
                    prefix: m
                }
            }),
            a.deleteShader(x),
            a.deleteShader(T),
            this.getUniforms = function() {
                return void 0 === S && (S = new Ut(a,b,e)),
                S
            }
            ,
            this.getAttributes = function() {
                return void 0 === E && (E = function(e, t) {
                    for (var n = {}, i = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), r = 0; r < i; r++) {
                        var a = e.getActiveAttrib(t, r).name;
                        n[a] = e.getAttribLocation(t, a)
                    }
                    return n
                }(a, b)),
                E
            }
            ,
            this.destroy = function() {
                a.deleteProgram(b),
                this.program = void 0
            }
            ,
            Object.defineProperties(this, {
                uniforms: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),
                        this.getUniforms()
                    }
                },
                attributes: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),
                        this.getAttributes()
                    }
                }
            }),
            this.id = Qr++,
            this.code = t,
            this.usedTimes = 1,
            this.program = b,
            this.vertexShader = x,
            this.fragmentShader = T,
            this
        }
        function oa(c, h) {
            var l = []
              , d = {
                MeshDepthMaterial: "depth",
                MeshNormalMaterial: "normal",
                MeshBasicMaterial: "basic",
                MeshLambertMaterial: "lambert",
                MeshPhongMaterial: "phong",
                MeshToonMaterial: "phong",
                MeshStandardMaterial: "physical",
                MeshPhysicalMaterial: "physical",
                LineBasicMaterial: "basic",
                LineDashedMaterial: "dashed",
                PointsMaterial: "points"
            }
              , a = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];
            function p(e, t) {
                var n;
                return e ? e.isTexture ? n = e.encoding : e.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),
                n = e.texture.encoding) : n = f,
                n === f && t && (n = m),
                n
            }
            this.getParameters = function(e, t, n, i, r, a) {
                var o = d[e.type]
                  , s = a.isSkinnedMesh ? function(e) {
                    var t = e.skeleton.bones;
                    if (h.floatVertexTextures)
                        return 1024;
                    var n = h.maxVertexUniforms
                      , i = Math.floor((n - 20) / 4)
                      , r = Math.min(i, t.length);
                    return r < t.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + t.length + " bones. This GPU supports " + r + "."),
                    0) : r
                }(a) : 0
                  , l = c.getPrecision();
                null !== e.precision && (l = h.getMaxPrecision(e.precision)) !== e.precision && console.warn("THREE.WebGLProgram.getParameters:", e.precision, "not supported, using", l, "instead.");
                var u = c.getRenderTarget();
                return {
                    shaderID: o,
                    precision: l,
                    supportsVertexTextures: h.vertexTextures,
                    outputEncoding: p(u ? u.texture : null, c.gammaOutput),
                    map: !!e.map,
                    mapEncoding: p(e.map, c.gammaInput),
                    envMap: !!e.envMap,
                    envMapMode: e.envMap && e.envMap.mapping,
                    envMapEncoding: p(e.envMap, c.gammaInput),
                    envMapCubeUV: !!e.envMap && (e.envMap.mapping === he || e.envMap.mapping === de),
                    lightMap: !!e.lightMap,
                    aoMap: !!e.aoMap,
                    emissiveMap: !!e.emissiveMap,
                    emissiveMapEncoding: p(e.emissiveMap, c.gammaInput),
                    bumpMap: !!e.bumpMap,
                    normalMap: !!e.normalMap,
                    displacementMap: !!e.displacementMap,
                    roughnessMap: !!e.roughnessMap,
                    metalnessMap: !!e.metalnessMap,
                    specularMap: !!e.specularMap,
                    alphaMap: !!e.alphaMap,
                    gradientMap: !!e.gradientMap,
                    combine: e.combine,
                    vertexColors: e.vertexColors,
                    fog: !!n,
                    useFog: e.fog,
                    fogExp: n && n.isFogExp2,
                    flatShading: e.shading === ke,
                    sizeAttenuation: e.sizeAttenuation,
                    logarithmicDepthBuffer: h.logarithmicDepthBuffer,
                    skinning: e.skinning && 0 < s,
                    maxBones: s,
                    useVertexTexture: h.floatVertexTextures,
                    morphTargets: e.morphTargets,
                    morphNormals: e.morphNormals,
                    maxMorphTargets: c.maxMorphTargets,
                    maxMorphNormals: c.maxMorphNormals,
                    numDirLights: t.directional.length,
                    numPointLights: t.point.length,
                    numSpotLights: t.spot.length,
                    numRectAreaLights: t.rectArea.length,
                    numHemiLights: t.hemi.length,
                    numClippingPlanes: i,
                    numClipIntersection: r,
                    dithering: e.dithering,
                    shadowMapEnabled: c.shadowMap.enabled && a.receiveShadow && 0 < t.shadows.length,
                    shadowMapType: c.shadowMap.type,
                    toneMapping: c.toneMapping,
                    physicallyCorrectLights: c.physicallyCorrectLights,
                    premultipliedAlpha: e.premultipliedAlpha,
                    alphaTest: e.alphaTest,
                    doubleSided: e.side === q,
                    flipSided: e.side === W,
                    depthPacking: void 0 !== e.depthPacking && e.depthPacking
                }
            }
            ,
            this.getProgramCode = function(e, t) {
                var n = [];
                if (t.shaderID ? n.push(t.shaderID) : (n.push(e.fragmentShader),
                n.push(e.vertexShader)),
                void 0 !== e.defines)
                    for (var i in e.defines)
                        n.push(i),
                        n.push(e.defines[i]);
                for (var r = 0; r < a.length; r++)
                    n.push(t[a[r]]);
                return n.push(e.onBeforeCompile.toString()),
                n.push(c.gammaOutput),
                n.join()
            }
            ,
            this.acquireProgram = function(e, t, n, i) {
                for (var r, a = 0, o = l.length; a < o; a++) {
                    var s = l[a];
                    if (s.code === i) {
                        ++(r = s).usedTimes;
                        break
                    }
                }
                return void 0 === r && (r = new aa(c,i,e,t,n),
                l.push(r)),
                r
            }
            ,
            this.releaseProgram = function(e) {
                if (0 == --e.usedTimes) {
                    var t = l.indexOf(e);
                    l[t] = l[l.length - 1],
                    l.pop(),
                    e.destroy()
                }
            }
            ,
            this.programs = l
        }
        function sa(f, r, m, g, v, y, b) {
            var d = "undefined" != typeof WebGL2RenderingContext && f instanceof WebGL2RenderingContext;
            function _(e, t) {
                if (e.width > t || e.height > t) {
                    var n = t / Math.max(e.width, e.height)
                      , i = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                    return i.width = Math.floor(e.width * n),
                    i.height = Math.floor(e.height * n),
                    i.getContext("2d").drawImage(e, 0, 0, e.width, e.height, 0, 0, i.width, i.height),
                    console.warn("THREE.WebGLRenderer: image is too big (" + e.width + "x" + e.height + "). Resized to " + i.width + "x" + i.height, e),
                    i
                }
                return e
            }
            function w(e) {
                return Ze.isPowerOfTwo(e.width) && Ze.isPowerOfTwo(e.height)
            }
            function x(e, t) {
                return e.generateMipmaps && t && e.minFilter !== De && e.minFilter !== Be
            }
            function a(e) {
                return e === De || e === Ne || e === Fe ? f.NEAREST : f.LINEAR
            }
            function T(e) {
                var t = e.target;
                t.removeEventListener("dispose", T),
                function(e) {
                    var t = g.get(e);
                    if (e.image && t.__image__webglTextureCube)
                        f.deleteTexture(t.__image__webglTextureCube);
                    else {
                        if (void 0 === t.__webglInit)
                            return;
                        f.deleteTexture(t.__webglTexture)
                    }
                    g.remove(e)
                }(t),
                b.textures--
            }
            function o(e) {
                var t = e.target;
                t.removeEventListener("dispose", o),
                function(e) {
                    var t = g.get(e)
                      , n = g.get(e.texture);
                    if (!e)
                        return;
                    void 0 !== n.__webglTexture && f.deleteTexture(n.__webglTexture);
                    e.depthTexture && e.depthTexture.dispose();
                    if (e.isWebGLRenderTargetCube)
                        for (var i = 0; i < 6; i++)
                            f.deleteFramebuffer(t.__webglFramebuffer[i]),
                            t.__webglDepthbuffer && f.deleteRenderbuffer(t.__webglDepthbuffer[i]);
                    else
                        f.deleteFramebuffer(t.__webglFramebuffer),
                        t.__webglDepthbuffer && f.deleteRenderbuffer(t.__webglDepthbuffer);
                    g.remove(e.texture),
                    g.remove(e)
                }(t),
                b.textures--
            }
            function s(e, t) {
                var n = g.get(e);
                if (0 < e.version && n.__version !== e.version) {
                    var i = e.image;
                    if (void 0 === i)
                        console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", e);
                    else {
                        if (!1 !== i.complete)
                            return void function(e, t, n) {
                                void 0 === e.__webglInit && (e.__webglInit = !0,
                                t.addEventListener("dispose", T),
                                e.__webglTexture = f.createTexture(),
                                b.textures++);
                                m.activeTexture(f.TEXTURE0 + n),
                                m.bindTexture(f.TEXTURE_2D, e.__webglTexture),
                                f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL, t.flipY),
                                f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultiplyAlpha),
                                f.pixelStorei(f.UNPACK_ALIGNMENT, t.unpackAlignment);
                                var i = _(t.image, v.maxTextureSize);
                                !function(e) {
                                    return e.wrapS !== Re || e.wrapT !== Re || e.minFilter !== De && e.minFilter !== Be
                                }(t) || !1 !== w(i) || (i = function(e) {
                                    if (e instanceof HTMLImageElement || e instanceof HTMLCanvasElement) {
                                        var t = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                                        return t.width = Ze.nearestPowerOfTwo(e.width),
                                        t.height = Ze.nearestPowerOfTwo(e.height),
                                        t.getContext("2d").drawImage(e, 0, 0, t.width, t.height),
                                        console.warn("THREE.WebGLRenderer: image is not power of two (" + e.width + "x" + e.height + "). Resized to " + t.width + "x" + t.height, e),
                                        t
                                    }
                                    return e
                                }(i));
                                var r = w(i)
                                  , a = y(t.format)
                                  , o = y(t.type);
                                S(f.TEXTURE_2D, t, r);
                                var s, l = t.mipmaps;
                                if (t.isDepthTexture) {
                                    var u = f.DEPTH_COMPONENT;
                                    if (t.type === Ve) {
                                        if (!d)
                                            throw new Error("Float Depth Texture only supported in WebGL2.0");
                                        u = f.DEPTH_COMPONENT32F
                                    } else
                                        d && (u = f.DEPTH_COMPONENT16);
                                    t.format === Xe && u === f.DEPTH_COMPONENT && t.type !== ze && t.type !== He && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
                                    t.type = ze,
                                    o = y(t.type)),
                                    t.format === Ye && (u = f.DEPTH_STENCIL,
                                    t.type !== We && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),
                                    t.type = We,
                                    o = y(t.type))),
                                    m.texImage2D(f.TEXTURE_2D, 0, u, i.width, i.height, 0, a, o, null)
                                } else if (t.isDataTexture)
                                    if (0 < l.length && r) {
                                        for (var c = 0, h = l.length; c < h; c++)
                                            s = l[c],
                                            m.texImage2D(f.TEXTURE_2D, c, a, s.width, s.height, 0, a, o, s.data);
                                        t.generateMipmaps = !1
                                    } else
                                        m.texImage2D(f.TEXTURE_2D, 0, a, i.width, i.height, 0, a, o, i.data);
                                else if (t.isCompressedTexture)
                                    for (c = 0,
                                    h = l.length; c < h; c++)
                                        s = l[c],
                                        t.format !== $e && t.format !== qe ? -1 < m.getCompressedTextureFormats().indexOf(a) ? m.compressedTexImage2D(f.TEXTURE_2D, c, a, s.width, s.height, 0, s.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : m.texImage2D(f.TEXTURE_2D, c, a, s.width, s.height, 0, a, o, s.data);
                                else if (0 < l.length && r) {
                                    for (c = 0,
                                    h = l.length; c < h; c++)
                                        s = l[c],
                                        m.texImage2D(f.TEXTURE_2D, c, a, a, o, s);
                                    t.generateMipmaps = !1
                                } else
                                    m.texImage2D(f.TEXTURE_2D, 0, a, a, o, i);
                                x(t, r) && f.generateMipmap(f.TEXTURE_2D);
                                e.__version = t.version,
                                t.onUpdate && t.onUpdate(t)
                            }(n, e, t);
                        console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", e)
                    }
                }
                m.activeTexture(f.TEXTURE0 + t),
                m.bindTexture(f.TEXTURE_2D, n.__webglTexture)
            }
            function S(e, t, n) {
                var i;
                if (n ? (f.texParameteri(e, f.TEXTURE_WRAP_S, y(t.wrapS)),
                f.texParameteri(e, f.TEXTURE_WRAP_T, y(t.wrapT)),
                f.texParameteri(e, f.TEXTURE_MAG_FILTER, y(t.magFilter)),
                f.texParameteri(e, f.TEXTURE_MIN_FILTER, y(t.minFilter))) : (f.texParameteri(e, f.TEXTURE_WRAP_S, f.CLAMP_TO_EDGE),
                f.texParameteri(e, f.TEXTURE_WRAP_T, f.CLAMP_TO_EDGE),
                t.wrapS === Re && t.wrapT === Re || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", t),
                f.texParameteri(e, f.TEXTURE_MAG_FILTER, a(t.magFilter)),
                f.texParameteri(e, f.TEXTURE_MIN_FILTER, a(t.minFilter)),
                t.minFilter !== De && t.minFilter !== Be && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", t)),
                i = r.get("EXT_texture_filter_anisotropic")) {
                    if (t.type === Ve && null === r.get("OES_texture_float_linear"))
                        return;
                    if (t.type === Ge && null === r.get("OES_texture_half_float_linear"))
                        return;
                    (1 < t.anisotropy || g.get(t).__currentAnisotropy) && (f.texParameterf(e, i.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(t.anisotropy, v.getMaxAnisotropy())),
                    g.get(t).__currentAnisotropy = t.anisotropy)
                }
            }
            function l(e, t, n, i) {
                var r = y(t.texture.format)
                  , a = y(t.texture.type);
                m.texImage2D(i, 0, r, t.width, t.height, 0, r, a, null),
                f.bindFramebuffer(f.FRAMEBUFFER, e),
                f.framebufferTexture2D(f.FRAMEBUFFER, n, i, g.get(t.texture).__webglTexture, 0),
                f.bindFramebuffer(f.FRAMEBUFFER, null)
            }
            function u(e, t) {
                f.bindRenderbuffer(f.RENDERBUFFER, e),
                t.depthBuffer && !t.stencilBuffer ? (f.renderbufferStorage(f.RENDERBUFFER, f.DEPTH_COMPONENT16, t.width, t.height),
                f.framebufferRenderbuffer(f.FRAMEBUFFER, f.DEPTH_ATTACHMENT, f.RENDERBUFFER, e)) : t.depthBuffer && t.stencilBuffer ? (f.renderbufferStorage(f.RENDERBUFFER, f.DEPTH_STENCIL, t.width, t.height),
                f.framebufferRenderbuffer(f.FRAMEBUFFER, f.DEPTH_STENCIL_ATTACHMENT, f.RENDERBUFFER, e)) : f.renderbufferStorage(f.RENDERBUFFER, f.RGBA4, t.width, t.height),
                f.bindRenderbuffer(f.RENDERBUFFER, null)
            }
            function c(e) {
                var t = g.get(e)
                  , n = !0 === e.isWebGLRenderTargetCube;
                if (e.depthTexture) {
                    if (n)
                        throw new Error("target.depthTexture not supported in Cube render targets");
                    !function(e, t) {
                        if (t && t.isWebGLRenderTargetCube)
                            throw new Error("Depth Texture with cube render targets is not supported!");
                        if (f.bindFramebuffer(f.FRAMEBUFFER, e),
                        !t.depthTexture || !t.depthTexture.isDepthTexture)
                            throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                        g.get(t.depthTexture).__webglTexture && t.depthTexture.image.width === t.width && t.depthTexture.image.height === t.height || (t.depthTexture.image.width = t.width,
                        t.depthTexture.image.height = t.height,
                        t.depthTexture.needsUpdate = !0),
                        s(t.depthTexture, 0);
                        var n = g.get(t.depthTexture).__webglTexture;
                        if (t.depthTexture.format === Xe)
                            f.framebufferTexture2D(f.FRAMEBUFFER, f.DEPTH_ATTACHMENT, f.TEXTURE_2D, n, 0);
                        else {
                            if (t.depthTexture.format !== Ye)
                                throw new Error("Unknown depthTexture format");
                            f.framebufferTexture2D(f.FRAMEBUFFER, f.DEPTH_STENCIL_ATTACHMENT, f.TEXTURE_2D, n, 0)
                        }
                    }(t.__webglFramebuffer, e)
                } else if (n) {
                    t.__webglDepthbuffer = [];
                    for (var i = 0; i < 6; i++)
                        f.bindFramebuffer(f.FRAMEBUFFER, t.__webglFramebuffer[i]),
                        t.__webglDepthbuffer[i] = f.createRenderbuffer(),
                        u(t.__webglDepthbuffer[i], e)
                } else
                    f.bindFramebuffer(f.FRAMEBUFFER, t.__webglFramebuffer),
                    t.__webglDepthbuffer = f.createRenderbuffer(),
                    u(t.__webglDepthbuffer, e);
                f.bindFramebuffer(f.FRAMEBUFFER, null)
            }
            this.setTexture2D = s,
            this.setTextureCube = function(e, t) {
                var n = g.get(e);
                if (6 === e.image.length)
                    if (0 < e.version && n.__version !== e.version) {
                        n.__image__webglTextureCube || (e.addEventListener("dispose", T),
                        n.__image__webglTextureCube = f.createTexture(),
                        b.textures++),
                        m.activeTexture(f.TEXTURE0 + t),
                        m.bindTexture(f.TEXTURE_CUBE_MAP, n.__image__webglTextureCube),
                        f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL, e.flipY);
                        for (var i = e && e.isCompressedTexture, r = e.image[0] && e.image[0].isDataTexture, a = [], o = 0; o < 6; o++)
                            a[o] = i || r ? r ? e.image[o].image : e.image[o] : _(e.image[o], v.maxCubemapSize);
                        var s = w(a[0])
                          , l = y(e.format)
                          , u = y(e.type);
                        S(f.TEXTURE_CUBE_MAP, e, s);
                        for (o = 0; o < 6; o++)
                            if (i)
                                for (var c, h = a[o].mipmaps, d = 0, p = h.length; d < p; d++)
                                    c = h[d],
                                    e.format !== $e && e.format !== qe ? -1 < m.getCompressedTextureFormats().indexOf(l) ? m.compressedTexImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, d, l, c.width, c.height, 0, c.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, d, l, c.width, c.height, 0, l, u, c.data);
                            else
                                r ? m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, l, a[o].width, a[o].height, 0, l, u, a[o].data) : m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, l, l, u, a[o]);
                        x(e, s) && f.generateMipmap(f.TEXTURE_CUBE_MAP),
                        n.__version = e.version,
                        e.onUpdate && e.onUpdate(e)
                    } else
                        m.activeTexture(f.TEXTURE0 + t),
                        m.bindTexture(f.TEXTURE_CUBE_MAP, n.__image__webglTextureCube)
            }
            ,
            this.setTextureCubeDynamic = function(e, t) {
                m.activeTexture(f.TEXTURE0 + t),
                m.bindTexture(f.TEXTURE_CUBE_MAP, g.get(e).__webglTexture)
            }
            ,
            this.setupRenderTarget = function(e) {
                var t = g.get(e)
                  , n = g.get(e.texture);
                e.addEventListener("dispose", o),
                n.__webglTexture = f.createTexture(),
                b.textures++;
                var i = !0 === e.isWebGLRenderTargetCube
                  , r = w(e);
                if (i) {
                    t.__webglFramebuffer = [];
                    for (var a = 0; a < 6; a++)
                        t.__webglFramebuffer[a] = f.createFramebuffer()
                } else
                    t.__webglFramebuffer = f.createFramebuffer();
                if (i) {
                    m.bindTexture(f.TEXTURE_CUBE_MAP, n.__webglTexture),
                    S(f.TEXTURE_CUBE_MAP, e.texture, r);
                    for (a = 0; a < 6; a++)
                        l(t.__webglFramebuffer[a], e, f.COLOR_ATTACHMENT0, f.TEXTURE_CUBE_MAP_POSITIVE_X + a);
                    x(e.texture, r) && f.generateMipmap(f.TEXTURE_CUBE_MAP),
                    m.bindTexture(f.TEXTURE_CUBE_MAP, null)
                } else
                    m.bindTexture(f.TEXTURE_2D, n.__webglTexture),
                    S(f.TEXTURE_2D, e.texture, r),
                    l(t.__webglFramebuffer, e, f.COLOR_ATTACHMENT0, f.TEXTURE_2D),
                    x(e.texture, r) && f.generateMipmap(f.TEXTURE_2D),
                    m.bindTexture(f.TEXTURE_2D, null);
                e.depthBuffer && c(e)
            }
            ,
            this.updateRenderTargetMipmap = function(e) {
                var t = e.texture;
                if (x(t, w(e))) {
                    var n = e.isWebGLRenderTargetCube ? f.TEXTURE_CUBE_MAP : f.TEXTURE_2D
                      , i = g.get(t).__webglTexture;
                    m.bindTexture(n, i),
                    f.generateMipmap(n),
                    m.bindTexture(n, null)
                }
            }
        }
        function la() {
            var i = {};
            return {
                get: function(e) {
                    var t = e.uuid
                      , n = i[t];
                    return void 0 === n && (n = {},
                    i[t] = n),
                    n
                },
                remove: function(e) {
                    delete i[e.uuid]
                },
                clear: function() {
                    i = {}
                }
            }
        }
        function ua(c, n, l) {
            var t = new function() {
                var t = !1
                  , a = new Qe
                  , n = null
                  , o = new Qe;
                return {
                    setMask: function(e) {
                        n === e || t || (c.colorMask(e, e, e, e),
                        n = e)
                    },
                    setLocked: function(e) {
                        t = e
                    },
                    setClear: function(e, t, n, i, r) {
                        !0 === r && (e *= i,
                        t *= i,
                        n *= i),
                        a.set(e, t, n, i),
                        !1 === o.equals(a) && (c.clearColor(e, t, n, i),
                        o.copy(a))
                    },
                    reset: function() {
                        t = !1,
                        n = null,
                        o.set(0, 0, 0, 1)
                    }
                }
            }
              , i = new function() {
                var t = !1
                  , n = null
                  , i = null
                  , r = null;
                return {
                    setTest: function(e) {
                        e ? D(c.DEPTH_TEST) : N(c.DEPTH_TEST)
                    },
                    setMask: function(e) {
                        n === e || t || (c.depthMask(e),
                        n = e)
                    },
                    setFunc: function(e) {
                        if (i !== e) {
                            if (e)
                                switch (e) {
                                case J:
                                    c.depthFunc(c.NEVER);
                                    break;
                                case ee:
                                    c.depthFunc(c.ALWAYS);
                                    break;
                                case te:
                                    c.depthFunc(c.LESS);
                                    break;
                                case ne:
                                    c.depthFunc(c.LEQUAL);
                                    break;
                                case ie:
                                    c.depthFunc(c.EQUAL);
                                    break;
                                case re:
                                    c.depthFunc(c.GEQUAL);
                                    break;
                                case ae:
                                    c.depthFunc(c.GREATER);
                                    break;
                                case oe:
                                    c.depthFunc(c.NOTEQUAL);
                                    break;
                                default:
                                    c.depthFunc(c.LEQUAL)
                                }
                            else
                                c.depthFunc(c.LEQUAL);
                            i = e
                        }
                    },
                    setLocked: function(e) {
                        t = e
                    },
                    setClear: function(e) {
                        r !== e && (c.clearDepth(e),
                        r = e)
                    },
                    reset: function() {
                        t = !1,
                        r = i = n = null
                    }
                }
            }
              , r = new function() {
                var t = !1
                  , n = null
                  , i = null
                  , r = null
                  , a = null
                  , o = null
                  , s = null
                  , l = null
                  , u = null;
                return {
                    setTest: function(e) {
                        e ? D(c.STENCIL_TEST) : N(c.STENCIL_TEST)
                    },
                    setMask: function(e) {
                        n === e || t || (c.stencilMask(e),
                        n = e)
                    },
                    setFunc: function(e, t, n) {
                        i === e && r === t && a === n || (c.stencilFunc(e, t, n),
                        i = e,
                        r = t,
                        a = n)
                    },
                    setOp: function(e, t, n) {
                        o === e && s === t && l === n || (c.stencilOp(e, t, n),
                        o = e,
                        s = t,
                        l = n)
                    },
                    setLocked: function(e) {
                        t = e
                    },
                    setClear: function(e) {
                        u !== e && (c.clearStencil(e),
                        u = e)
                    },
                    reset: function() {
                        t = !1,
                        u = l = s = o = a = r = i = n = null
                    }
                }
            }
              , e = c.getParameter(c.MAX_VERTEX_ATTRIBS)
              , a = new Uint8Array(e)
              , o = new Uint8Array(e)
              , s = new Uint8Array(e)
              , u = {}
              , h = null
              , d = null
              , p = null
              , f = null
              , m = null
              , g = null
              , v = null
              , y = null
              , b = !1
              , _ = null
              , w = null
              , x = null
              , T = null
              , S = null
              , E = null
              , C = c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS)
              , M = parseFloat(/^WebGL\ ([0-9])/.exec(c.getParameter(c.VERSION))[1])
              , k = 1 <= parseFloat(M)
              , P = null
              , A = {}
              , I = new Qe
              , L = new Qe;
            function O(e, t, n) {
                var i = new Uint8Array(4)
                  , r = c.createTexture();
                c.bindTexture(e, r),
                c.texParameteri(e, c.TEXTURE_MIN_FILTER, c.NEAREST),
                c.texParameteri(e, c.TEXTURE_MAG_FILTER, c.NEAREST);
                for (var a = 0; a < n; a++)
                    c.texImage2D(t + a, 0, c.RGBA, 1, 1, 0, c.RGBA, c.UNSIGNED_BYTE, i);
                return r
            }
            var R = {};
            function D(e) {
                !0 !== u[e] && (c.enable(e),
                u[e] = !0)
            }
            function N(e) {
                !1 !== u[e] && (c.disable(e),
                u[e] = !1)
            }
            function F(e, t, n, i, r, a, o, s) {
                e !== $ ? D(c.BLEND) : N(c.BLEND),
                e === Q || e === d && s === b || (e === Y ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD),
                c.blendFuncSeparate(c.ONE, c.ONE, c.ONE, c.ONE)) : (c.blendEquation(c.FUNC_ADD),
                c.blendFunc(c.SRC_ALPHA, c.ONE)) : e === K ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD),
                c.blendFuncSeparate(c.ZERO, c.ZERO, c.ONE_MINUS_SRC_COLOR, c.ONE_MINUS_SRC_ALPHA)) : (c.blendEquation(c.FUNC_ADD),
                c.blendFunc(c.ZERO, c.ONE_MINUS_SRC_COLOR)) : e === Z ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD),
                c.blendFuncSeparate(c.ZERO, c.SRC_COLOR, c.ZERO, c.SRC_ALPHA)) : (c.blendEquation(c.FUNC_ADD),
                c.blendFunc(c.ZERO, c.SRC_COLOR)) : s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD),
                c.blendFuncSeparate(c.ONE, c.ONE_MINUS_SRC_ALPHA, c.ONE, c.ONE_MINUS_SRC_ALPHA)) : (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD),
                c.blendFuncSeparate(c.SRC_ALPHA, c.ONE_MINUS_SRC_ALPHA, c.ONE, c.ONE_MINUS_SRC_ALPHA)),
                d = e,
                b = s),
                e === Q ? (r = r || t,
                a = a || n,
                o = o || i,
                t === p && r === g || (c.blendEquationSeparate(l(t), l(r)),
                p = t,
                g = r),
                n === f && i === m && a === v && o === y || (c.blendFuncSeparate(l(n), l(i), l(a), l(o)),
                f = n,
                m = i,
                v = a,
                y = o)) : y = v = g = m = f = p = null
            }
            function B(e) {
                _ !== e && (e ? c.frontFace(c.CW) : c.frontFace(c.CCW),
                _ = e)
            }
            function U(e) {
                e !== H ? (D(c.CULL_FACE),
                e !== w && (e === V ? c.cullFace(c.BACK) : e === G ? c.cullFace(c.FRONT) : c.cullFace(c.FRONT_AND_BACK))) : N(c.CULL_FACE),
                w = e
            }
            function j(e, t, n) {
                e ? (D(c.POLYGON_OFFSET_FILL),
                T === t && S === n || (c.polygonOffset(t, n),
                T = t,
                S = n)) : N(c.POLYGON_OFFSET_FILL)
            }
            function z(e) {
                void 0 === e && (e = c.TEXTURE0 + C - 1),
                P !== e && (c.activeTexture(e),
                P = e)
            }
            return R[c.TEXTURE_2D] = O(c.TEXTURE_2D, c.TEXTURE_2D, 1),
            R[c.TEXTURE_CUBE_MAP] = O(c.TEXTURE_CUBE_MAP, c.TEXTURE_CUBE_MAP_POSITIVE_X, 6),
            {
                buffers: {
                    color: t,
                    depth: i,
                    stencil: r
                },
                init: function() {
                    t.setClear(0, 0, 0, 1),
                    i.setClear(1),
                    r.setClear(0),
                    D(c.DEPTH_TEST),
                    i.setFunc(ne),
                    B(!1),
                    U(V),
                    D(c.CULL_FACE),
                    D(c.BLEND),
                    F(X)
                },
                initAttributes: function() {
                    for (var e = 0, t = a.length; e < t; e++)
                        a[e] = 0
                },
                enableAttribute: function(e) {
                    a[e] = 1,
                    0 === o[e] && (c.enableVertexAttribArray(e),
                    o[e] = 1),
                    0 !== s[e] && (n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e, 0),
                    s[e] = 0)
                },
                enableAttributeAndDivisor: function(e, t) {
                    a[e] = 1,
                    0 === o[e] && (c.enableVertexAttribArray(e),
                    o[e] = 1),
                    s[e] !== t && (n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e, t),
                    s[e] = t)
                },
                disableUnusedAttributes: function() {
                    for (var e = 0, t = o.length; e !== t; ++e)
                        o[e] !== a[e] && (c.disableVertexAttribArray(e),
                        o[e] = 0)
                },
                enable: D,
                disable: N,
                getCompressedTextureFormats: function() {
                    if (null === h && (h = [],
                    n.get("WEBGL_compressed_texture_pvrtc") || n.get("WEBGL_compressed_texture_s3tc") || n.get("WEBGL_compressed_texture_etc1")))
                        for (var e = c.getParameter(c.COMPRESSED_TEXTURE_FORMATS), t = 0; t < e.length; t++)
                            h.push(e[t]);
                    return h
                },
                setBlending: F,
                setMaterial: function(e) {
                    e.side === q ? N(c.CULL_FACE) : D(c.CULL_FACE),
                    B(e.side === W),
                    !0 === e.transparent ? F(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha) : F($),
                    i.setFunc(e.depthFunc),
                    i.setTest(e.depthTest),
                    i.setMask(e.depthWrite),
                    t.setMask(e.colorWrite),
                    j(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
                },
                setFlipSided: B,
                setCullFace: U,
                setLineWidth: function(e) {
                    e !== x && (k && c.lineWidth(e),
                    x = e)
                },
                setPolygonOffset: j,
                getScissorTest: function() {
                    return E
                },
                setScissorTest: function(e) {
                    (E = e) ? D(c.SCISSOR_TEST) : N(c.SCISSOR_TEST)
                },
                activeTexture: z,
                bindTexture: function(e, t) {
                    null === P && z();
                    var n = A[P];
                    void 0 === n && (n = {
                        type: void 0,
                        texture: void 0
                    },
                    A[P] = n),
                    n.type === e && n.texture === t || (c.bindTexture(e, t || R[e]),
                    n.type = e,
                    n.texture = t)
                },
                compressedTexImage2D: function() {
                    try {
                        c.compressedTexImage2D.apply(c, arguments)
                    } catch (e) {
                        console.error("THREE.WebGLState:", e)
                    }
                },
                texImage2D: function() {
                    try {
                        c.texImage2D.apply(c, arguments)
                    } catch (e) {
                        console.error("THREE.WebGLState:", e)
                    }
                },
                scissor: function(e) {
                    !1 === I.equals(e) && (c.scissor(e.x, e.y, e.z, e.w),
                    I.copy(e))
                },
                viewport: function(e) {
                    !1 === L.equals(e) && (c.viewport(e.x, e.y, e.z, e.w),
                    L.copy(e))
                },
                reset: function() {
                    for (var e = 0; e < o.length; e++)
                        1 === o[e] && (c.disableVertexAttribArray(e),
                        o[e] = 0);
                    u = {},
                    A = {},
                    w = _ = d = P = h = null,
                    t.reset(),
                    i.reset(),
                    r.reset()
                }
            }
        }
        function ca(t, n, e) {
            var i;
            function r(e) {
                if ("highp" === e) {
                    if (0 < t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision && 0 < t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision)
                        return "highp";
                    e = "mediump"
                }
                return "mediump" === e && 0 < t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision && 0 < t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision ? "mediump" : "lowp"
            }
            var a = void 0 !== e.precision ? e.precision : "highp"
              , o = r(a);
            o !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", o, "instead."),
            a = o);
            var s = !0 === e.logarithmicDepthBuffer && !!n.get("EXT_frag_depth")
              , l = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)
              , u = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)
              , c = t.getParameter(t.MAX_TEXTURE_SIZE)
              , h = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)
              , d = t.getParameter(t.MAX_VERTEX_ATTRIBS)
              , p = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)
              , f = t.getParameter(t.MAX_VARYING_VECTORS)
              , m = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)
              , g = 0 < u
              , v = !!n.get("OES_texture_float");
            return {
                getMaxAnisotropy: function() {
                    if (void 0 !== i)
                        return i;
                    var e = n.get("EXT_texture_filter_anisotropic");
                    return i = null !== e ? t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                },
                getMaxPrecision: r,
                precision: a,
                logarithmicDepthBuffer: s,
                maxTextures: l,
                maxVertexTextures: u,
                maxTextureSize: c,
                maxCubemapSize: h,
                maxAttributes: d,
                maxVertexUniforms: p,
                maxVaryings: f,
                maxFragmentUniforms: m,
                vertexTextures: g,
                floatFragmentTextures: v,
                floatVertexTextures: g && v
            }
        }
        function ha(e) {
            Qn.call(this),
            this.cameras = e || []
        }
        function da(i) {
            var r = this
              , o = null
              , s = null;
            "VRFrameData"in window && (s = new window.VRFrameData);
            var l = new et
              , u = new et
              , c = new et
              , h = new Qn;
            h.bounds = new Qe(0,0,.5,1),
            h.layers.enable(1);
            var d = new Qn;
            d.bounds = new Qe(.5,0,.5,1),
            d.layers.enable(2);
            var a, p, f = new ha([h, d]);
            f.layers.enable(1),
            f.layers.enable(2),
            window.addEventListener("vrdisplaypresentchange", function() {
                if (o.isPresenting) {
                    var e = o.getEyeParameters("left")
                      , t = e.renderWidth
                      , n = e.renderHeight;
                    p = i.getPixelRatio(),
                    a = i.getSize(),
                    i.setDrawingBufferSize(2 * t, n, 1)
                } else
                    r.enabled && i.setDrawingBufferSize(a.width, a.height, p)
            }, !1),
            this.enabled = !1,
            this.standing = !1,
            this.getDevice = function() {
                return o
            }
            ,
            this.setDevice = function(e) {
                void 0 !== e && (o = e)
            }
            ,
            this.getCamera = function(e) {
                if (null === o)
                    return e;
                o.depthNear = e.near,
                o.depthFar = e.far,
                o.getFrameData(s);
                var t = s.pose;
                null !== t.position ? e.position.fromArray(t.position) : e.position.set(0, 0, 0),
                null !== t.orientation && e.quaternion.fromArray(t.orientation),
                e.updateMatrixWorld();
                var n = o.stageParameters;
                if (this.standing && n && (u.fromArray(n.sittingToStandingTransform),
                c.getInverse(u),
                e.matrixWorld.multiply(u),
                e.matrixWorldInverse.multiply(c)),
                !1 === o.isPresenting)
                    return e;
                f.matrixWorld.copy(e.matrixWorld),
                f.matrixWorldInverse.copy(e.matrixWorldInverse),
                h.matrixWorldInverse.fromArray(s.leftViewMatrix),
                d.matrixWorldInverse.fromArray(s.rightViewMatrix),
                this.standing && n && (h.matrixWorldInverse.multiply(c),
                d.matrixWorldInverse.multiply(c));
                var i = e.parent;
                null !== i && (l.getInverse(i.matrixWorld),
                h.matrixWorldInverse.multiply(l),
                d.matrixWorldInverse.multiply(l)),
                h.matrixWorld.getInverse(h.matrixWorldInverse),
                d.matrixWorld.getInverse(d.matrixWorldInverse),
                h.projectionMatrix.fromArray(s.leftProjectionMatrix),
                d.projectionMatrix.fromArray(s.rightProjectionMatrix),
                f.projectionMatrix.copy(h.projectionMatrix);
                var r = o.getLayers();
                if (r.length) {
                    var a = r[0];
                    null !== a.leftBounds && 4 === a.leftBounds.length && h.bounds.fromArray(a.leftBounds),
                    null !== a.rightBounds && 4 === a.rightBounds.length && d.bounds.fromArray(a.rightBounds)
                }
                return f
            }
            ,
            this.getStandingMatrix = function() {
                return u
            }
            ,
            this.submitFrame = function() {
                o && o.isPresenting && o.submitFrame()
            }
        }
        function pa(n) {
            var i = {};
            return {
                get: function(e) {
                    if (void 0 !== i[e])
                        return i[e];
                    var t;
                    switch (e) {
                    case "WEBGL_depth_texture":
                        t = n.getExtension("WEBGL_depth_texture") || n.getExtension("MOZ_WEBGL_depth_texture") || n.getExtension("WEBKIT_WEBGL_depth_texture");
                        break;
                    case "EXT_texture_filter_anisotropic":
                        t = n.getExtension("EXT_texture_filter_anisotropic") || n.getExtension("MOZ_EXT_texture_filter_anisotropic") || n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                        break;
                    case "WEBGL_compressed_texture_s3tc":
                        t = n.getExtension("WEBGL_compressed_texture_s3tc") || n.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                        break;
                    case "WEBGL_compressed_texture_pvrtc":
                        t = n.getExtension("WEBGL_compressed_texture_pvrtc") || n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                        break;
                    case "WEBGL_compressed_texture_etc1":
                        t = n.getExtension("WEBGL_compressed_texture_etc1");
                        break;
                    default:
                        t = n.getExtension(e)
                    }
                    return null === t && console.warn("THREE.WebGLRenderer: " + e + " extension not supported."),
                    i[e] = t
                }
            }
        }
        function fa() {
            var c = this
              , h = null
              , d = 0
              , p = !1
              , f = !1
              , m = new En
              , g = new Sn
              , v = {
                value: null,
                needsUpdate: !1
            };
            function y() {
                v.value !== h && (v.value = h,
                v.needsUpdate = 0 < d),
                c.numPlanes = d,
                c.numIntersection = 0
            }
            function b(e, t, n, i) {
                var r = null !== e ? e.length : 0
                  , a = null;
                if (0 !== r) {
                    if (a = v.value,
                    !0 !== i || null === a) {
                        var o = n + 4 * r
                          , s = t.matrixWorldInverse;
                        g.getNormalMatrix(s),
                        (null === a || a.length < o) && (a = new Float32Array(o));
                        for (var l = 0, u = n; l !== r; ++l,
                        u += 4)
                            m.copy(e[l]).applyMatrix4(s, g),
                            m.normal.toArray(a, u),
                            a[u + 3] = m.constant
                    }
                    v.value = a,
                    v.needsUpdate = !0
                }
                return c.numPlanes = r,
                a
            }
            this.uniform = v,
            this.numPlanes = 0,
            this.numIntersection = 0,
            this.init = function(e, t, n) {
                var i = 0 !== e.length || t || 0 !== d || p;
                return p = t,
                h = b(e, n, 0),
                d = e.length,
                i
            }
            ,
            this.beginShadows = function() {
                f = !0,
                b(null)
            }
            ,
            this.endShadows = function() {
                f = !1,
                y()
            }
            ,
            this.setState = function(e, t, n, i, r, a) {
                if (!p || null === e || 0 === e.length || f && !n)
                    f ? b(null) : y();
                else {
                    var o = f ? 0 : d
                      , s = 4 * o
                      , l = r.clippingState || null;
                    v.value = l,
                    l = b(e, i, s, a);
                    for (var u = 0; u !== s; ++u)
                        l[u] = h[u];
                    r.clippingState = l,
                    this.numIntersection = t ? this.numPlanes : 0,
                    this.numPlanes += o
                }
            }
        }
        function ma(e) {
            console.log("THREE.WebGLRenderer", "86");
            var r = void 0 !== (e = e || {}).canvas ? e.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
              , t = void 0 !== e.context ? e.context : null
              , n = void 0 !== e.alpha && e.alpha
              , i = void 0 === e.depth || e.depth
              , a = void 0 === e.stencil || e.stencil
              , o = void 0 !== e.antialias && e.antialias
              , s = void 0 === e.premultipliedAlpha || e.premultipliedAlpha
              , l = void 0 !== e.preserveDrawingBuffer && e.preserveDrawingBuffer
              , p = []
              , f = null
              , A = new Float32Array(8)
              , m = []
              , g = [];
            this.domElement = r,
            this.context = null,
            this.autoClear = !0,
            this.autoClearColor = !0,
            this.autoClearDepth = !0,
            this.autoClearStencil = !0,
            this.sortObjects = !0,
            this.clippingPlanes = [],
            this.localClippingEnabled = !1,
            this.gammaFactor = 2,
            this.gammaInput = !1,
            this.gammaOutput = !1,
            this.physicallyCorrectLights = !1,
            this.toneMapping = Oe,
            this.toneMappingExposure = 1,
            this.toneMappingWhitePoint = 1,
            this.maxMorphTargets = 8,
            this.maxMorphNormals = 4;
            var I, _ = this, y = null, u = null, h = null, b = -1, L = "", w = null, x = null, c = new Qe, d = null, v = new Qe, T = 0, S = r.width, E = r.height, C = 1, M = new Qe(0,0,S,E), k = !1, P = new Qe(0,0,S,E), O = new Cn, R = new fa, D = !1, N = !1, F = new et, B = new Je, U = new et, j = new et, z = {
                hash: "",
                ambient: [0, 0, 0],
                directional: [],
                directionalShadowMap: [],
                directionalShadowMatrix: [],
                spot: [],
                spotShadowMap: [],
                spotShadowMatrix: [],
                rectArea: [],
                point: [],
                pointShadowMap: [],
                pointShadowMatrix: [],
                hemi: [],
                shadows: []
            }, H = {
                geometries: 0,
                textures: 0
            }, V = {
                frame: 0,
                calls: 0,
                vertices: 0,
                faces: 0,
                points: 0
            };
            this.info = {
                render: V,
                memory: H,
                programs: null
            };
            try {
                var G = {
                    alpha: n,
                    depth: i,
                    stencil: a,
                    antialias: o,
                    premultipliedAlpha: s,
                    preserveDrawingBuffer: l
                };
                if (null === (I = t || r.getContext("webgl", G) || r.getContext("experimental-webgl", G)))
                    throw null !== r.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context.";
                void 0 === I.getShaderPrecisionFormat && (I.getShaderPrecisionFormat = function() {
                    return {
                        rangeMin: 1,
                        rangeMax: 1,
                        precision: 1
                    }
                }
                ),
                r.addEventListener("webglcontextlost", me, !1)
            } catch (e) {
                console.error("THREE.WebGLRenderer: " + e)
            }
            var W = new pa(I);
            W.get("WEBGL_depth_texture"),
            W.get("OES_texture_float"),
            W.get("OES_texture_float_linear"),
            W.get("OES_texture_half_float"),
            W.get("OES_texture_half_float_linear"),
            W.get("OES_standard_derivatives"),
            W.get("ANGLE_instanced_arrays"),
            W.get("OES_element_index_uint") && (fr.MaxIndex = 4294967296);
            var q = new ca(I,W,e)
              , $ = new ua(I,W,Me)
              , X = new la
              , Y = new sa(I,W,$,X,q,Me,H)
              , K = new kn(I)
              , Z = new Rr(I,K,H)
              , Q = new Nr(I,Z,V)
              , J = new oa(this,q)
              , ee = new Dr
              , te = new Ir
              , ne = new Mr(this,$,Q,s)
              , ie = new da(this);
            this.info.programs = J.programs;
            var re = new Or(I,W,V)
              , ae = new Lr(I,W,V);
            function oe() {
                return null === u ? C : 1
            }
            function se() {
                $.init(),
                $.scissor(c.copy(M).multiplyScalar(C)),
                $.viewport(v.copy(P).multiplyScalar(C))
            }
            function le() {
                w = y = null,
                L = "",
                b = -1,
                $.reset()
            }
            se(),
            this.context = I,
            this.capabilities = q,
            this.extensions = W,
            this.properties = X,
            this.renderLists = te,
            this.state = $,
            this.vr = ie;
            var ue = new Mn(this,z,Q,q);
            this.shadowMap = ue;
            var ce, he, de, pe = new Zt(this,m), fe = new Kt(this,g);
            function me(e) {
                e.preventDefault(),
                le(),
                se(),
                X.clear(),
                Q.clear()
            }
            function ge(e) {
                var t = e.target;
                t.removeEventListener("dispose", ge),
                function(e) {
                    ve(e),
                    X.remove(e)
                }(t)
            }
            function ve(e) {
                var t = X.get(e).program;
                (e.program = void 0) !== t && J.releaseProgram(t)
            }
            function ye(e, t) {
                return Math.abs(t[0]) - Math.abs(e[0])
            }
            function be(e, t, n, i) {
                for (var r = 0, a = e.length; r < a; r++) {
                    var o = e[r]
                      , s = o.object
                      , l = o.geometry
                      , u = void 0 === i ? o.material : i
                      , c = o.group;
                    if (n.isArrayCamera)
                        for (var h = (x = n).cameras, d = 0, p = h.length; d < p; d++) {
                            var f = h[d];
                            if (s.layers.test(f.layers)) {
                                var m = f.bounds
                                  , g = m.x * S
                                  , v = m.y * E
                                  , y = m.z * S
                                  , b = m.w * E;
                                _.setViewport(g, v, y, b),
                                _.setScissor(g, v, y, b),
                                _.setScissorTest(!0),
                                _e(s, t, f, l, u, c)
                            }
                        }
                    else
                        x = null,
                        _e(s, t, n, l, u, c)
                }
            }
            function _e(e, t, n, i, r, a) {
                if (e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld),
                e.normalMatrix.getNormalMatrix(e.modelViewMatrix),
                e.onBeforeRender(_, t, n, i, r, a),
                e.isImmediateRenderObject) {
                    $.setMaterial(r);
                    var o = xe(n, t.fog, r, e);
                    L = "",
                    function(e, t, n) {
                        e.render(function(e) {
                            _.renderBufferImmediate(e, t, n)
                        })
                    }(e, o, r)
                } else
                    _.renderBufferDirect(n, t.fog, i, r, e, a);
                e.onAfterRender(_, t, n, i, r, a)
            }
            function we(e, t, n) {
                var i = X.get(e)
                  , r = J.getParameters(e, z, t, R.numPlanes, R.numIntersection, n)
                  , a = J.getProgramCode(e, r)
                  , o = i.program
                  , s = !0;
                if (void 0 === o)
                    e.addEventListener("dispose", ge);
                else if (o.code !== a)
                    ve(e);
                else {
                    if (void 0 !== r.shaderID)
                        return;
                    s = !1
                }
                if (s) {
                    if (r.shaderID) {
                        var l = Xt[r.shaderID];
                        i.shader = {
                            name: e.type,
                            uniforms: qt.clone(l.uniforms),
                            vertexShader: l.vertexShader,
                            fragmentShader: l.fragmentShader
                        }
                    } else
                        i.shader = {
                            name: e.type,
                            uniforms: e.uniforms,
                            vertexShader: e.vertexShader,
                            fragmentShader: e.fragmentShader
                        };
                    e.onBeforeCompile(i.shader),
                    o = J.acquireProgram(e, i.shader, r, a),
                    i.program = o,
                    e.program = o
                }
                var u = o.getAttributes();
                if (e.morphTargets)
                    for (var c = e.numSupportedMorphTargets = 0; c < _.maxMorphTargets; c++)
                        0 <= u["morphTarget" + c] && e.numSupportedMorphTargets++;
                if (e.morphNormals)
                    for (c = e.numSupportedMorphNormals = 0; c < _.maxMorphNormals; c++)
                        0 <= u["morphNormal" + c] && e.numSupportedMorphNormals++;
                var h = i.shader.uniforms;
                (e.isShaderMaterial || e.isRawShaderMaterial) && !0 !== e.clipping || (i.numClippingPlanes = R.numPlanes,
                i.numIntersection = R.numIntersection,
                h.clippingPlanes = R.uniform),
                i.fog = t,
                i.lightsHash = z.hash,
                e.lights && (h.ambientLightColor.value = z.ambient,
                h.directionalLights.value = z.directional,
                h.spotLights.value = z.spot,
                h.rectAreaLights.value = z.rectArea,
                h.pointLights.value = z.point,
                h.hemisphereLights.value = z.hemi,
                h.directionalShadowMap.value = z.directionalShadowMap,
                h.directionalShadowMatrix.value = z.directionalShadowMatrix,
                h.spotShadowMap.value = z.spotShadowMap,
                h.spotShadowMatrix.value = z.spotShadowMatrix,
                h.pointShadowMap.value = z.pointShadowMap,
                h.pointShadowMatrix.value = z.pointShadowMatrix);
                var d = i.program.getUniforms()
                  , p = Ut.seqWithValue(d.seq, h);
                i.uniformsList = p
            }
            function xe(e, t, n, i) {
                T = 0;
                var r = X.get(n);
                if (D && (N || e !== w)) {
                    var a = e === w && n.id === b;
                    R.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, e, r, a)
                }
                !1 === n.needsUpdate && (void 0 === r.program ? n.needsUpdate = !0 : n.fog && r.fog !== t ? n.needsUpdate = !0 : n.lights && r.lightsHash !== z.hash ? n.needsUpdate = !0 : void 0 === r.numClippingPlanes || r.numClippingPlanes === R.numPlanes && r.numIntersection === R.numIntersection || (n.needsUpdate = !0)),
                n.needsUpdate && (we(n, t, i),
                n.needsUpdate = !1);
                var o = !1
                  , s = !1
                  , l = !1
                  , u = r.program
                  , c = u.getUniforms()
                  , h = r.shader.uniforms;
                if (u.id !== y && (I.useProgram(u.program),
                y = u.id,
                l = s = o = !0),
                n.id !== b && (b = n.id,
                s = !0),
                o || e !== w) {
                    if (c.setValue(I, "projectionMatrix", e.projectionMatrix),
                    q.logarithmicDepthBuffer && c.setValue(I, "logDepthBufFC", 2 / (Math.log(e.far + 1) / Math.LN2)),
                    w !== (x || e) && (w = x || e,
                    l = s = !0),
                    n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.envMap) {
                        var d = c.map.cameraPosition;
                        void 0 !== d && d.setValue(I, B.setFromMatrixPosition(e.matrixWorld))
                    }
                    (n.isMeshPhongMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && c.setValue(I, "viewMatrix", e.matrixWorldInverse)
                }
                if (n.skinning) {
                    c.setOptional(I, i, "bindMatrix"),
                    c.setOptional(I, i, "bindMatrixInverse");
                    var p = i.skeleton;
                    if (p) {
                        var f = p.bones;
                        if (q.floatVertexTextures) {
                            if (void 0 === p.boneTexture) {
                                var m = Math.sqrt(4 * f.length);
                                m = Ze.nextPowerOfTwo(Math.ceil(m)),
                                m = Math.max(m, 4);
                                var g = new Float32Array(m * m * 4);
                                g.set(p.boneMatrices);
                                var v = new tt(g,m,m,$e,Ve);
                                p.boneMatrices = g,
                                p.boneTexture = v,
                                p.boneTextureSize = m
                            }
                            c.setValue(I, "boneTexture", p.boneTexture),
                            c.setValue(I, "boneTextureSize", p.boneTextureSize)
                        } else
                            c.setOptional(I, p, "boneMatrices")
                    }
                }
                return s && (c.setValue(I, "toneMappingExposure", _.toneMappingExposure),
                c.setValue(I, "toneMappingWhitePoint", _.toneMappingWhitePoint),
                n.lights && function(e, t) {
                    e.ambientLightColor.needsUpdate = t,
                    e.directionalLights.needsUpdate = t,
                    e.pointLights.needsUpdate = t,
                    e.spotLights.needsUpdate = t,
                    e.rectAreaLights.needsUpdate = t,
                    e.hemisphereLights.needsUpdate = t
                }(h, l),
                t && n.fog && function(e, t) {
                    e.fogColor.value = t.color,
                    t.isFog ? (e.fogNear.value = t.near,
                    e.fogFar.value = t.far) : t.isFogExp2 && (e.fogDensity.value = t.density)
                }(h, t),
                (n.isMeshBasicMaterial || n.isMeshLambertMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.isMeshNormalMaterial || n.isMeshDepthMaterial) && function(e, t) {
                    e.opacity.value = t.opacity,
                    e.diffuse.value = t.color,
                    t.emissive && e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity);
                    e.map.value = t.map,
                    e.specularMap.value = t.specularMap,
                    e.alphaMap.value = t.alphaMap,
                    t.lightMap && (e.lightMap.value = t.lightMap,
                    e.lightMapIntensity.value = t.lightMapIntensity);
                    t.aoMap && (e.aoMap.value = t.aoMap,
                    e.aoMapIntensity.value = t.aoMapIntensity);
                    var n;
                    t.map ? n = t.map : t.specularMap ? n = t.specularMap : t.displacementMap ? n = t.displacementMap : t.normalMap ? n = t.normalMap : t.bumpMap ? n = t.bumpMap : t.roughnessMap ? n = t.roughnessMap : t.metalnessMap ? n = t.metalnessMap : t.alphaMap ? n = t.alphaMap : t.emissiveMap && (n = t.emissiveMap);
                    if (void 0 !== n) {
                        n.isWebGLRenderTarget && (n = n.texture);
                        var i = n.offset
                          , r = n.repeat;
                        e.offsetRepeat.value.set(i.x, i.y, r.x, r.y)
                    }
                    e.envMap.value = t.envMap,
                    e.flipEnvMap.value = t.envMap && t.envMap.isCubeTexture ? -1 : 1,
                    e.reflectivity.value = t.reflectivity,
                    e.refractionRatio.value = t.refractionRatio
                }(h, n),
                n.isLineBasicMaterial ? Te(h, n) : n.isLineDashedMaterial ? (Te(h, n),
                function(e, t) {
                    e.dashSize.value = t.dashSize,
                    e.totalSize.value = t.dashSize + t.gapSize,
                    e.scale.value = t.scale
                }(h, n)) : n.isPointsMaterial ? function(e, t) {
                    if (e.diffuse.value = t.color,
                    e.opacity.value = t.opacity,
                    e.size.value = t.size * C,
                    e.scale.value = .5 * E,
                    e.map.value = t.map,
                    null !== t.map) {
                        var n = t.map.offset
                          , i = t.map.repeat;
                        e.offsetRepeat.value.set(n.x, n.y, i.x, i.y)
                    }
                }(h, n) : n.isMeshLambertMaterial ? function(e, t) {
                    t.emissiveMap && (e.emissiveMap.value = t.emissiveMap)
                }(h, n) : n.isMeshToonMaterial ? function(e, t) {
                    Se(e, t),
                    t.gradientMap && (e.gradientMap.value = t.gradientMap)
                }(h, n) : n.isMeshPhongMaterial ? Se(h, n) : n.isMeshPhysicalMaterial ? function(e, t) {
                    e.clearCoat.value = t.clearCoat,
                    e.clearCoatRoughness.value = t.clearCoatRoughness,
                    Ee(e, t)
                }(h, n) : n.isMeshStandardMaterial ? Ee(h, n) : n.isMeshDepthMaterial ? n.displacementMap && (h.displacementMap.value = n.displacementMap,
                h.displacementScale.value = n.displacementScale,
                h.displacementBias.value = n.displacementBias) : n.isMeshNormalMaterial && function(e, t) {
                    t.bumpMap && (e.bumpMap.value = t.bumpMap,
                    e.bumpScale.value = t.bumpScale);
                    t.normalMap && (e.normalMap.value = t.normalMap,
                    e.normalScale.value.copy(t.normalScale));
                    t.displacementMap && (e.displacementMap.value = t.displacementMap,
                    e.displacementScale.value = t.displacementScale,
                    e.displacementBias.value = t.displacementBias)
                }(h, n),
                void 0 !== h.ltcMat && (h.ltcMat.value = Wt.LTC_MAT_TEXTURE),
                void 0 !== h.ltcMag && (h.ltcMag.value = Wt.LTC_MAG_TEXTURE),
                Ut.upload(I, r.uniformsList, h, _)),
                c.setValue(I, "modelViewMatrix", i.modelViewMatrix),
                c.setValue(I, "normalMatrix", i.normalMatrix),
                c.setValue(I, "modelMatrix", i.matrixWorld),
                u
            }
            function Te(e, t) {
                e.diffuse.value = t.color,
                e.opacity.value = t.opacity
            }
            function Se(e, t) {
                e.specular.value = t.specular,
                e.shininess.value = Math.max(t.shininess, 1e-4),
                t.emissiveMap && (e.emissiveMap.value = t.emissiveMap),
                t.bumpMap && (e.bumpMap.value = t.bumpMap,
                e.bumpScale.value = t.bumpScale),
                t.normalMap && (e.normalMap.value = t.normalMap,
                e.normalScale.value.copy(t.normalScale)),
                t.displacementMap && (e.displacementMap.value = t.displacementMap,
                e.displacementScale.value = t.displacementScale,
                e.displacementBias.value = t.displacementBias)
            }
            function Ee(e, t) {
                e.roughness.value = t.roughness,
                e.metalness.value = t.metalness,
                t.roughnessMap && (e.roughnessMap.value = t.roughnessMap),
                t.metalnessMap && (e.metalnessMap.value = t.metalnessMap),
                t.emissiveMap && (e.emissiveMap.value = t.emissiveMap),
                t.bumpMap && (e.bumpMap.value = t.bumpMap,
                e.bumpScale.value = t.bumpScale),
                t.normalMap && (e.normalMap.value = t.normalMap,
                e.normalScale.value.copy(t.normalScale)),
                t.displacementMap && (e.displacementMap.value = t.displacementMap,
                e.displacementScale.value = t.displacementScale,
                e.displacementBias.value = t.displacementBias),
                t.envMap && (e.envMapIntensity.value = t.envMapIntensity)
            }
            function Ce(e, t) {
                var n, i, r, a, o, s, l, u, c = 0, h = 0, d = 0, p = t.matrixWorldInverse, f = 0, m = 0, g = 0, v = 0, y = 0;
                for (n = 0,
                i = e.length; n < i; n++)
                    if (o = (r = e[n]).color,
                    s = r.intensity,
                    l = r.distance,
                    u = r.shadow && r.shadow.map ? r.shadow.map.texture : null,
                    r.isAmbientLight)
                        c += o.r * s,
                        h += o.g * s,
                        d += o.b * s;
                    else if (r.isDirectionalLight) {
                        (b = ee.get(r)).color.copy(r.color).multiplyScalar(r.intensity),
                        b.direction.setFromMatrixPosition(r.matrixWorld),
                        B.setFromMatrixPosition(r.target.matrixWorld),
                        b.direction.sub(B),
                        b.direction.transformDirection(p),
                        b.shadow = r.castShadow,
                        r.castShadow && (a = r.shadow,
                        b.shadowBias = a.bias,
                        b.shadowRadius = a.radius,
                        b.shadowMapSize = a.mapSize),
                        z.directionalShadowMap[f] = u,
                        z.directionalShadowMatrix[f] = r.shadow.matrix,
                        z.directional[f] = b,
                        f++
                    } else if (r.isSpotLight) {
                        (b = ee.get(r)).position.setFromMatrixPosition(r.matrixWorld),
                        b.position.applyMatrix4(p),
                        b.color.copy(o).multiplyScalar(s),
                        b.distance = l,
                        b.direction.setFromMatrixPosition(r.matrixWorld),
                        B.setFromMatrixPosition(r.target.matrixWorld),
                        b.direction.sub(B),
                        b.direction.transformDirection(p),
                        b.coneCos = Math.cos(r.angle),
                        b.penumbraCos = Math.cos(r.angle * (1 - r.penumbra)),
                        b.decay = 0 === r.distance ? 0 : r.decay,
                        b.shadow = r.castShadow,
                        r.castShadow && (a = r.shadow,
                        b.shadowBias = a.bias,
                        b.shadowRadius = a.radius,
                        b.shadowMapSize = a.mapSize),
                        z.spotShadowMap[g] = u,
                        z.spotShadowMatrix[g] = r.shadow.matrix,
                        z.spot[g] = b,
                        g++
                    } else if (r.isRectAreaLight) {
                        (b = ee.get(r)).color.copy(o).multiplyScalar(s / (r.width * r.height)),
                        b.position.setFromMatrixPosition(r.matrixWorld),
                        b.position.applyMatrix4(p),
                        j.identity(),
                        U.copy(r.matrixWorld),
                        U.premultiply(p),
                        j.extractRotation(U),
                        b.halfWidth.set(.5 * r.width, 0, 0),
                        b.halfHeight.set(0, .5 * r.height, 0),
                        b.halfWidth.applyMatrix4(j),
                        b.halfHeight.applyMatrix4(j),
                        z.rectArea[v] = b,
                        v++
                    } else if (r.isPointLight) {
                        (b = ee.get(r)).position.setFromMatrixPosition(r.matrixWorld),
                        b.position.applyMatrix4(p),
                        b.color.copy(r.color).multiplyScalar(r.intensity),
                        b.distance = r.distance,
                        b.decay = 0 === r.distance ? 0 : r.decay,
                        b.shadow = r.castShadow,
                        r.castShadow && (a = r.shadow,
                        b.shadowBias = a.bias,
                        b.shadowRadius = a.radius,
                        b.shadowMapSize = a.mapSize),
                        z.pointShadowMap[m] = u,
                        z.pointShadowMatrix[m] = r.shadow.matrix,
                        z.point[m] = b,
                        m++
                    } else if (r.isHemisphereLight) {
                        var b;
                        (b = ee.get(r)).direction.setFromMatrixPosition(r.matrixWorld),
                        b.direction.transformDirection(p),
                        b.direction.normalize(),
                        b.skyColor.copy(r.color).multiplyScalar(s),
                        b.groundColor.copy(r.groundColor).multiplyScalar(s),
                        z.hemi[y] = b,
                        y++
                    }
                z.ambient[0] = c,
                z.ambient[1] = h,
                z.ambient[2] = d,
                z.directional.length = f,
                z.spot.length = g,
                z.rectArea.length = v,
                z.point.length = m,
                z.hemi.length = y,
                z.hash = f + "," + m + "," + g + "," + v + "," + y + "," + z.shadows.length
            }
            function Me(e) {
                var t;
                if (1e3 === e)
                    return I.REPEAT;
                if (e === Re)
                    return I.CLAMP_TO_EDGE;
                if (1002 === e)
                    return I.MIRRORED_REPEAT;
                if (e === De)
                    return I.NEAREST;
                if (e === Ne)
                    return I.NEAREST_MIPMAP_NEAREST;
                if (e === Fe)
                    return I.NEAREST_MIPMAP_LINEAR;
                if (e === Be)
                    return I.LINEAR;
                if (1007 === e)
                    return I.LINEAR_MIPMAP_NEAREST;
                if (e === Ue)
                    return I.LINEAR_MIPMAP_LINEAR;
                if (e === je)
                    return I.UNSIGNED_BYTE;
                if (1017 === e)
                    return I.UNSIGNED_SHORT_4_4_4_4;
                if (1018 === e)
                    return I.UNSIGNED_SHORT_5_5_5_1;
                if (1019 === e)
                    return I.UNSIGNED_SHORT_5_6_5;
                if (1010 === e)
                    return I.BYTE;
                if (1011 === e)
                    return I.SHORT;
                if (e === ze)
                    return I.UNSIGNED_SHORT;
                if (1013 === e)
                    return I.INT;
                if (e === He)
                    return I.UNSIGNED_INT;
                if (e === Ve)
                    return I.FLOAT;
                if (e === Ge && null !== (t = W.get("OES_texture_half_float")))
                    return t.HALF_FLOAT_OES;
                if (1021 === e)
                    return I.ALPHA;
                if (e === qe)
                    return I.RGB;
                if (e === $e)
                    return I.RGBA;
                if (1024 === e)
                    return I.LUMINANCE;
                if (1025 === e)
                    return I.LUMINANCE_ALPHA;
                if (e === Xe)
                    return I.DEPTH_COMPONENT;
                if (e === Ye)
                    return I.DEPTH_STENCIL;
                if (e === Ae)
                    return I.FUNC_ADD;
                if (101 === e)
                    return I.FUNC_SUBTRACT;
                if (102 === e)
                    return I.FUNC_REVERSE_SUBTRACT;
                if (200 === e)
                    return I.ZERO;
                if (201 === e)
                    return I.ONE;
                if (202 === e)
                    return I.SRC_COLOR;
                if (203 === e)
                    return I.ONE_MINUS_SRC_COLOR;
                if (e === Ie)
                    return I.SRC_ALPHA;
                if (e === Le)
                    return I.ONE_MINUS_SRC_ALPHA;
                if (206 === e)
                    return I.DST_ALPHA;
                if (207 === e)
                    return I.ONE_MINUS_DST_ALPHA;
                if (208 === e)
                    return I.DST_COLOR;
                if (209 === e)
                    return I.ONE_MINUS_DST_COLOR;
                if (210 === e)
                    return I.SRC_ALPHA_SATURATE;
                if ((2001 === e || 2002 === e || 2003 === e || 2004 === e) && null !== (t = W.get("WEBGL_compressed_texture_s3tc"))) {
                    if (2001 === e)
                        return t.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    if (2002 === e)
                        return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    if (2003 === e)
                        return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    if (2004 === e)
                        return t.COMPRESSED_RGBA_S3TC_DXT5_EXT
                }
                if ((2100 === e || 2101 === e || 2102 === e || 2103 === e) && null !== (t = W.get("WEBGL_compressed_texture_pvrtc"))) {
                    if (2100 === e)
                        return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                    if (2101 === e)
                        return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                    if (2102 === e)
                        return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                    if (2103 === e)
                        return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
                if (2151 === e && null !== (t = W.get("WEBGL_compressed_texture_etc1")))
                    return t.COMPRESSED_RGB_ETC1_WEBGL;
                if ((103 === e || 104 === e) && null !== (t = W.get("EXT_blend_minmax"))) {
                    if (103 === e)
                        return t.MIN_EXT;
                    if (104 === e)
                        return t.MAX_EXT
                }
                return e === We && null !== (t = W.get("WEBGL_depth_texture")) ? t.UNSIGNED_INT_24_8_WEBGL : 0
            }
            this.getContext = function() {
                return I
            }
            ,
            this.getContextAttributes = function() {
                return I.getContextAttributes()
            }
            ,
            this.forceContextLoss = function() {
                var e = W.get("WEBGL_lose_context");
                e && e.loseContext()
            }
            ,
            this.getMaxAnisotropy = function() {
                return q.getMaxAnisotropy()
            }
            ,
            this.getPrecision = function() {
                return q.precision
            }
            ,
            this.getPixelRatio = function() {
                return C
            }
            ,
            this.setPixelRatio = function(e) {
                void 0 !== e && (C = e,
                this.setSize(S, E, !1))
            }
            ,
            this.getSize = function() {
                return {
                    width: S,
                    height: E
                }
            }
            ,
            this.setSize = function(e, t, n) {
                var i = ie.getDevice();
                i && i.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (S = e,
                E = t,
                r.width = e * C,
                r.height = t * C,
                !1 !== n && (r.style.width = e + "px",
                r.style.height = t + "px"),
                this.setViewport(0, 0, e, t))
            }
            ,
            this.getDrawingBufferSize = function() {
                return {
                    width: S * C,
                    height: E * C
                }
            }
            ,
            this.setDrawingBufferSize = function(e, t, n) {
                S = e,
                E = t,
                C = n,
                r.width = e * n,
                r.height = t * n,
                this.setViewport(0, 0, e, t)
            }
            ,
            this.setViewport = function(e, t, n, i) {
                P.set(e, E - t - i, n, i),
                $.viewport(v.copy(P).multiplyScalar(C))
            }
            ,
            this.setScissor = function(e, t, n, i) {
                M.set(e, E - t - i, n, i),
                $.scissor(c.copy(M).multiplyScalar(C))
            }
            ,
            this.setScissorTest = function(e) {
                $.setScissorTest(k = e)
            }
            ,
            this.getClearColor = ne.getClearColor,
            this.setClearColor = ne.setClearColor,
            this.getClearAlpha = ne.getClearAlpha,
            this.setClearAlpha = ne.setClearAlpha,
            this.clear = function(e, t, n) {
                var i = 0;
                void 0 !== e && !e || (i |= I.COLOR_BUFFER_BIT),
                void 0 !== t && !t || (i |= I.DEPTH_BUFFER_BIT),
                void 0 !== n && !n || (i |= I.STENCIL_BUFFER_BIT),
                I.clear(i)
            }
            ,
            this.clearColor = function() {
                this.clear(!0, !1, !1)
            }
            ,
            this.clearDepth = function() {
                this.clear(!1, !0, !1)
            }
            ,
            this.clearStencil = function() {
                this.clear(!1, !1, !0)
            }
            ,
            this.clearTarget = function(e, t, n, i) {
                this.setRenderTarget(e),
                this.clear(t, n, i)
            }
            ,
            this.resetGLState = le,
            this.dispose = function() {
                r.removeEventListener("webglcontextlost", me, !1),
                te.dispose()
            }
            ,
            this.renderBufferImmediate = function(e, t, n) {
                $.initAttributes();
                var i = X.get(e);
                e.hasPositions && !i.position && (i.position = I.createBuffer()),
                e.hasNormals && !i.normal && (i.normal = I.createBuffer()),
                e.hasUvs && !i.uv && (i.uv = I.createBuffer()),
                e.hasColors && !i.color && (i.color = I.createBuffer());
                var r = t.getAttributes();
                if (e.hasPositions && (I.bindBuffer(I.ARRAY_BUFFER, i.position),
                I.bufferData(I.ARRAY_BUFFER, e.positionArray, I.DYNAMIC_DRAW),
                $.enableAttribute(r.position),
                I.vertexAttribPointer(r.position, 3, I.FLOAT, !1, 0, 0)),
                e.hasNormals) {
                    if (I.bindBuffer(I.ARRAY_BUFFER, i.normal),
                    !n.isMeshPhongMaterial && !n.isMeshStandardMaterial && !n.isMeshNormalMaterial && n.shading === ke)
                        for (var a = 0, o = 3 * e.count; a < o; a += 9) {
                            var s = e.normalArray
                              , l = (s[a + 0] + s[a + 3] + s[a + 6]) / 3
                              , u = (s[a + 1] + s[a + 4] + s[a + 7]) / 3
                              , c = (s[a + 2] + s[a + 5] + s[a + 8]) / 3;
                            s[a + 0] = l,
                            s[a + 1] = u,
                            s[a + 2] = c,
                            s[a + 3] = l,
                            s[a + 4] = u,
                            s[a + 5] = c,
                            s[a + 6] = l,
                            s[a + 7] = u,
                            s[a + 8] = c
                        }
                    I.bufferData(I.ARRAY_BUFFER, e.normalArray, I.DYNAMIC_DRAW),
                    $.enableAttribute(r.normal),
                    I.vertexAttribPointer(r.normal, 3, I.FLOAT, !1, 0, 0)
                }
                e.hasUvs && n.map && (I.bindBuffer(I.ARRAY_BUFFER, i.uv),
                I.bufferData(I.ARRAY_BUFFER, e.uvArray, I.DYNAMIC_DRAW),
                $.enableAttribute(r.uv),
                I.vertexAttribPointer(K.uv, 2, I.FLOAT, !1, 0, 0)),
                e.hasColors && n.vertexColors !== Pe && (I.bindBuffer(I.ARRAY_BUFFER, i.color),
                I.bufferData(I.ARRAY_BUFFER, e.colorArray, I.DYNAMIC_DRAW),
                $.enableAttribute(r.color),
                I.vertexAttribPointer(r.color, 3, I.FLOAT, !1, 0, 0)),
                $.disableUnusedAttributes(),
                I.drawArrays(I.TRIANGLES, 0, e.count),
                e.count = 0
            }
            ,
            this.renderBufferDirect = function(e, t, n, i, r, a) {
                $.setMaterial(i);
                var o = xe(e, t, i, r)
                  , s = n.id + "_" + o.id + "_" + (!0 === i.wireframe)
                  , l = !1;
                s !== L && (L = s,
                l = !0);
                var u = r.morphTargetInfluences;
                if (void 0 !== u) {
                    for (var c = [], h = 0, d = u.length; h < d; h++) {
                        var p = u[h];
                        c.push([p, h])
                    }
                    c.sort(ye),
                    8 < c.length && (c.length = 8);
                    var f = n.morphAttributes;
                    for (h = 0,
                    d = c.length; h < d; h++) {
                        p = c[h];
                        if (A[h] = p[0],
                        0 !== p[0]) {
                            var m = p[1];
                            !0 === i.morphTargets && f.position && n.addAttribute("morphTarget" + h, f.position[m]),
                            !0 === i.morphNormals && f.normal && n.addAttribute("morphNormal" + h, f.normal[m])
                        } else
                            !0 === i.morphTargets && n.removeAttribute("morphTarget" + h),
                            !0 === i.morphNormals && n.removeAttribute("morphNormal" + h)
                    }
                    h = c.length;
                    for (var g = A.length; h < g; h++)
                        A[h] = 0;
                    o.getUniforms().setValue(I, "morphTargetInfluences", A),
                    l = !0
                }
                m = n.index;
                var v, y = n.attributes.position, b = 1;
                !0 === i.wireframe && (m = Z.getWireframeAttribute(n),
                b = 2);
                var _ = re;
                null !== m && (v = K.get(m),
                (_ = ae).setIndex(v)),
                l && (function(e, t, n, i) {
                    if (n && n.isInstancedBufferGeometry && null === W.get("ANGLE_instanced_arrays"))
                        return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    void 0 === i && (i = 0);
                    $.initAttributes();
                    var r = n.attributes
                      , a = t.getAttributes()
                      , o = e.defaultAttributeValues;
                    for (var s in a) {
                        var l = a[s];
                        if (0 <= l) {
                            var u = r[s];
                            if (void 0 !== u) {
                                var c = u.normalized
                                  , h = u.itemSize
                                  , d = K.get(u)
                                  , p = d.buffer
                                  , f = d.type
                                  , m = d.bytesPerElement;
                                if (u.isInterleavedBufferAttribute) {
                                    var g = u.data
                                      , v = g.stride
                                      , y = u.offset;
                                    g && g.isInstancedInterleavedBuffer ? ($.enableAttributeAndDivisor(l, g.meshPerAttribute),
                                    void 0 === n.maxInstancedCount && (n.maxInstancedCount = g.meshPerAttribute * g.count)) : $.enableAttribute(l),
                                    I.bindBuffer(I.ARRAY_BUFFER, p),
                                    I.vertexAttribPointer(l, h, f, c, v * m, (i * v + y) * m)
                                } else
                                    u.isInstancedBufferAttribute ? ($.enableAttributeAndDivisor(l, u.meshPerAttribute),
                                    void 0 === n.maxInstancedCount && (n.maxInstancedCount = u.meshPerAttribute * u.count)) : $.enableAttribute(l),
                                    I.bindBuffer(I.ARRAY_BUFFER, p),
                                    I.vertexAttribPointer(l, h, f, c, 0, i * h * m)
                            } else if (void 0 !== o) {
                                var b = o[s];
                                if (void 0 !== b)
                                    switch (b.length) {
                                    case 2:
                                        I.vertexAttrib2fv(l, b);
                                        break;
                                    case 3:
                                        I.vertexAttrib3fv(l, b);
                                        break;
                                    case 4:
                                        I.vertexAttrib4fv(l, b);
                                        break;
                                    default:
                                        I.vertexAttrib1fv(l, b)
                                    }
                            }
                        }
                    }
                    $.disableUnusedAttributes()
                }(i, o, n),
                null !== m && I.bindBuffer(I.ELEMENT_ARRAY_BUFFER, v.buffer));
                var w = 0;
                null !== m ? w = m.count : void 0 !== y && (w = y.count);
                var x = n.drawRange.start * b
                  , T = n.drawRange.count * b
                  , S = null !== a ? a.start * b : 0
                  , E = null !== a ? a.count * b : 1 / 0
                  , C = Math.max(x, S)
                  , M = Math.min(w, x + T, S + E) - 1
                  , k = Math.max(0, M - C + 1);
                if (0 !== k) {
                    if (r.isMesh)
                        if (!0 === i.wireframe)
                            $.setLineWidth(i.wireframeLinewidth * oe()),
                            _.setMode(I.LINES);
                        else
                            switch (r.drawMode) {
                            case Ke:
                                _.setMode(I.TRIANGLES);
                                break;
                            case 1:
                                _.setMode(I.TRIANGLE_STRIP);
                                break;
                            case 2:
                                _.setMode(I.TRIANGLE_FAN)
                            }
                    else if (r.isLine) {
                        var P = i.linewidth;
                        void 0 === P && (P = 1),
                        $.setLineWidth(P * oe()),
                        r.isLineSegments ? _.setMode(I.LINES) : r.isLineLoop ? _.setMode(I.LINE_LOOP) : _.setMode(I.LINE_STRIP)
                    } else
                        r.isPoints && _.setMode(I.POINTS);
                    n && n.isInstancedBufferGeometry ? 0 < n.maxInstancedCount && _.renderInstances(n, C, k) : _.render(C, k)
                }
            }
            ,
            this.compile = function(n, e) {
                p = [],
                n.traverse(function(e) {
                    e.isLight && p.push(e)
                }),
                Ce(p, e),
                n.traverse(function(e) {
                    if (e.material)
                        if (Array.isArray(e.material))
                            for (var t = 0; t < e.material.length; t++)
                                we(e.material[t], n.fog, e);
                        else
                            we(e.material, n.fog, e)
                })
            }
            ,
            this.animate = function(t) {
                (ie.getDevice() || window).requestAnimationFrame(function e() {
                    t(),
                    (ie.getDevice() || window).requestAnimationFrame(e)
                })
            }
            ,
            this.render = function(e, t, n, i) {
                if (t && t.isCamera) {
                    L = "",
                    b = -1,
                    !(w = null) === e.autoUpdate && e.updateMatrixWorld(),
                    null === t.parent && t.updateMatrixWorld(),
                    ie.enabled && (t = ie.getCamera(t)),
                    F.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse),
                    O.setFromMatrix(F),
                    p.length = 0,
                    m.length = 0,
                    g.length = 0,
                    N = this.localClippingEnabled,
                    D = R.init(this.clippingPlanes, N, t),
                    (f = te.get(e, t)).init(),
                    function e(t, n, i) {
                        if (!t.visible)
                            return;
                        var r = t.layers.test(n.layers);
                        if (r)
                            if (t.isLight)
                                p.push(t);
                            else if (t.isSprite)
                                t.frustumCulled && !O.intersectsSprite(t) || m.push(t);
                            else if (t.isLensFlare)
                                g.push(t);
                            else if (t.isImmediateRenderObject)
                                i && B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),
                                f.push(t, null, t.material, B.z, null);
                            else if ((t.isMesh || t.isLine || t.isPoints) && (t.isSkinnedMesh && t.skeleton.update(),
                            !t.frustumCulled || O.intersectsObject(t))) {
                                i && B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);
                                var a = Q.update(t)
                                  , o = t.material;
                                if (Array.isArray(o))
                                    for (var s = a.groups, l = 0, u = s.length; l < u; l++) {
                                        var c = s[l]
                                          , h = o[c.materialIndex];
                                        h && h.visible && f.push(t, a, h, B.z, c)
                                    }
                                else
                                    o.visible && f.push(t, a, o, B.z, null)
                            }
                        var d = t.children;
                        for (var l = 0, u = d.length; l < u; l++)
                            e(d[l], n, i)
                    }(e, t, _.sortObjects),
                    f.finish(),
                    !0 === _.sortObjects && f.sort(),
                    D && R.beginShadows(),
                    function(e) {
                        for (var t = 0, n = 0, i = e.length; n < i; n++) {
                            var r = e[n];
                            r.castShadow && (z.shadows[t] = r,
                            t++)
                        }
                        z.shadows.length = t
                    }(p),
                    ue.render(e, t),
                    Ce(p, t),
                    D && R.endShadows(),
                    V.frame++,
                    V.calls = 0,
                    V.vertices = 0,
                    V.faces = 0,
                    void (V.points = 0) === n && (n = null),
                    this.setRenderTarget(n),
                    ne.render(e, t, i);
                    var r = f.opaque
                      , a = f.transparent;
                    if (e.overrideMaterial) {
                        var o = e.overrideMaterial;
                        r.length && be(r, e, t, o),
                        a.length && be(a, e, t, o)
                    } else
                        r.length && be(r, e, t),
                        a.length && be(a, e, t);
                    pe.render(e, t),
                    fe.render(e, t, v),
                    n && Y.updateRenderTargetMipmap(n),
                    $.buffers.depth.setTest(!0),
                    $.buffers.depth.setMask(!0),
                    $.buffers.color.setMask(!0),
                    t.isArrayCamera && _.setScissorTest(!1),
                    ie.enabled && ie.submitFrame()
                } else
                    console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
            }
            ,
            this.setFaceCulling = function(e, t) {
                $.setCullFace(e),
                $.setFlipSided(0 === t)
            }
            ,
            this.allocTextureUnit = function() {
                var e = T;
                return e >= q.maxTextures && console.warn("THREE.WebGLRenderer: Trying to use " + e + " texture units while this GPU supports only " + q.maxTextures),
                T += 1,
                e
            }
            ,
            this.setTexture2D = (ce = !1,
            function(e, t) {
                e && e.isWebGLRenderTarget && (ce || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
                ce = !0),
                e = e.texture),
                Y.setTexture2D(e, t)
            }
            ),
            this.setTexture = (he = !1,
            function(e, t) {
                he || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
                he = !0),
                Y.setTexture2D(e, t)
            }
            ),
            this.setTextureCube = (de = !1,
            function(e, t) {
                e && e.isWebGLRenderTargetCube && (de || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),
                de = !0),
                e = e.texture),
                e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? Y.setTextureCube(e, t) : Y.setTextureCubeDynamic(e, t)
            }
            ),
            this.getRenderTarget = function() {
                return u
            }
            ,
            this.setRenderTarget = function(e) {
                (u = e) && void 0 === X.get(e).__webglFramebuffer && Y.setupRenderTarget(e);
                var t, n = e && e.isWebGLRenderTargetCube;
                if (e) {
                    var i = X.get(e);
                    t = n ? i.__webglFramebuffer[e.activeCubeFace] : i.__webglFramebuffer,
                    c.copy(e.scissor),
                    d = e.scissorTest,
                    v.copy(e.viewport)
                } else
                    t = null,
                    c.copy(M).multiplyScalar(C),
                    d = k,
                    v.copy(P).multiplyScalar(C);
                if (h !== t && (I.bindFramebuffer(I.FRAMEBUFFER, t),
                h = t),
                $.scissor(c),
                $.setScissorTest(d),
                $.viewport(v),
                n) {
                    var r = X.get(e.texture);
                    I.framebufferTexture2D(I.FRAMEBUFFER, I.COLOR_ATTACHMENT0, I.TEXTURE_CUBE_MAP_POSITIVE_X + e.activeCubeFace, r.__webglTexture, e.activeMipMapLevel)
                }
            }
            ,
            this.readRenderTargetPixels = function(e, t, n, i, r, a) {
                if (e && e.isWebGLRenderTarget) {
                    var o = X.get(e).__webglFramebuffer;
                    if (o) {
                        var s = !1;
                        o !== h && (I.bindFramebuffer(I.FRAMEBUFFER, o),
                        s = !0);
                        try {
                            var l = e.texture
                              , u = l.format
                              , c = l.type;
                            if (u !== $e && Me(u) !== I.getParameter(I.IMPLEMENTATION_COLOR_READ_FORMAT))
                                return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                            if (!(c === je || Me(c) === I.getParameter(I.IMPLEMENTATION_COLOR_READ_TYPE) || c === Ve && (W.get("OES_texture_float") || W.get("WEBGL_color_buffer_float")) || c === Ge && W.get("EXT_color_buffer_half_float")))
                                return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                            I.checkFramebufferStatus(I.FRAMEBUFFER) === I.FRAMEBUFFER_COMPLETE ? 0 <= t && t <= e.width - i && 0 <= n && n <= e.height - r && I.readPixels(t, n, i, r, Me(u), Me(c), a) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                        } finally {
                            s && I.bindFramebuffer(I.FRAMEBUFFER, h)
                        }
                    }
                } else
                    console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
            }
        }
        function ga(e, t) {
            this.name = "",
            this.color = new zt(e),
            this.density = void 0 !== t ? t : 25e-5
        }
        function va(e, t, n) {
            this.name = "",
            this.color = new zt(e),
            this.near = void 0 !== t ? t : 1,
            this.far = void 0 !== n ? n : 1e3
        }
        function ya() {
            Yn.call(this),
            this.type = "Scene",
            this.background = null,
            this.fog = null,
            this.overrideMaterial = null,
            this.autoUpdate = !0
        }
        function ba(e, t, n, i, r) {
            Yn.call(this),
            this.lensFlares = [],
            this.positionScreen = new Je,
            (this.customUpdateCallback = void 0) !== e && this.add(e, t, n, i, r)
        }
        function _a(e) {
            bn.call(this),
            this.type = "SpriteMaterial",
            this.color = new zt(16777215),
            this.map = null,
            this.rotation = 0,
            this.fog = !1,
            this.lights = !1,
            this.setValues(e)
        }
        function wa(e) {
            Yn.call(this),
            this.type = "Sprite",
            this.material = void 0 !== e ? e : new _a
        }
        function xa() {
            Yn.call(this),
            this.type = "LOD",
            Object.defineProperties(this, {
                levels: {
                    enumerable: !0,
                    value: []
                }
            })
        }
        function Ta(e, t) {
            if (e = e || [],
            this.bones = e.slice(0),
            this.boneMatrices = new Float32Array(16 * this.bones.length),
            void 0 === t)
                this.calculateInverses();
            else if (this.bones.length === t.length)
                this.boneInverses = t.slice(0);
            else {
                console.warn("THREE.Skeleton boneInverses is the wrong length."),
                this.boneInverses = [];
                for (var n = 0, i = this.bones.length; n < i; n++)
                    this.boneInverses.push(new et)
            }
        }
        function Sa() {
            Yn.call(this),
            this.type = "Bone"
        }
        function Ea(e, t) {
            Tr.call(this, e, t),
            this.type = "SkinnedMesh",
            this.bindMode = "attached",
            this.bindMatrix = new et,
            this.bindMatrixInverse = new et;
            var n = new Ta(this.initBones());
            this.bind(n, this.matrixWorld),
            this.normalizeSkinWeights()
        }
        function Ca(e) {
            bn.call(this),
            this.type = "LineBasicMaterial",
            this.color = new zt(16777215),
            this.linewidth = 1,
            this.linecap = "round",
            this.linejoin = "round",
            this.lights = !1,
            this.setValues(e)
        }
        function Ma(e, t, n) {
            if (1 === n)
                return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),
                new ka(e,t);
            Yn.call(this),
            this.type = "Line",
            this.geometry = void 0 !== e ? e : new fr,
            this.material = void 0 !== t ? t : new Ca({
                color: 16777215 * Math.random()
            })
        }
        function ka(e, t) {
            Ma.call(this, e, t),
            this.type = "LineSegments"
        }
        function Pa(e, t) {
            Ma.call(this, e, t),
            this.type = "LineLoop"
        }
        function Aa(e) {
            bn.call(this),
            this.type = "PointsMaterial",
            this.color = new zt(16777215),
            this.map = null,
            this.size = 1,
            this.sizeAttenuation = !0,
            this.lights = !1,
            this.setValues(e)
        }
        function Ia(e, t) {
            Yn.call(this),
            this.type = "Points",
            this.geometry = void 0 !== e ? e : new fr,
            this.material = void 0 !== t ? t : new Aa({
                color: 16777215 * Math.random()
            })
        }
        function La() {
            Yn.call(this),
            this.type = "Group"
        }
        function Oa(t, e, n, i, r, a, o, s, l) {
            xe.call(this, t, e, n, i, r, a, o, s, l),
            this.generateMipmaps = !1;
            var u = this;
            !function e() {
                requestAnimationFrame(e),
                t.readyState >= t.HAVE_CURRENT_DATA && (u.needsUpdate = !0)
            }()
        }
        function Ra(e, t, n, i, r, a, o, s, l, u, c, h) {
            xe.call(this, null, a, o, s, l, u, i, r, c, h),
            this.image = {
                width: t,
                height: n
            },
            this.mipmaps = e,
            this.flipY = !1,
            this.generateMipmaps = !1
        }
        function Da(e, t, n, i, r, a, o, s, l) {
            xe.call(this, e, t, n, i, r, a, o, s, l),
            this.needsUpdate = !0
        }
        function Na(e, t, n, i, r, a, o, s, l, u) {
            if ((u = void 0 !== u ? u : Xe) !== Xe && u !== Ye)
                throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
            void 0 === n && u === Xe && (n = ze),
            void 0 === n && u === Ye && (n = We),
            xe.call(this, null, i, r, a, o, s, u, n, l),
            this.image = {
                width: e,
                height: t
            },
            this.magFilter = void 0 !== o ? o : De,
            this.minFilter = void 0 !== s ? s : De,
            this.flipY = !1,
            this.generateMipmaps = !1
        }
        function Fa(e) {
            fr.call(this),
            this.type = "WireframeGeometry";
            var t, n, i, r, a, o, s, l, u, c, h = [], d = [0, 0], p = {}, f = ["a", "b", "c"];
            if (e && e.isGeometry) {
                var m = e.faces;
                for (t = 0,
                i = m.length; t < i; t++) {
                    var g = m[t];
                    for (n = 0; n < 3; n++)
                        s = g[f[n]],
                        l = g[f[(n + 1) % 3]],
                        d[0] = Math.min(s, l),
                        d[1] = Math.max(s, l),
                        void 0 === p[u = d[0] + "," + d[1]] && (p[u] = {
                            index1: d[0],
                            index2: d[1]
                        })
                }
                for (u in p)
                    o = p[u],
                    c = e.vertices[o.index1],
                    h.push(c.x, c.y, c.z),
                    c = e.vertices[o.index2],
                    h.push(c.x, c.y, c.z)
            } else if (e && e.isBufferGeometry) {
                var v, y, b, _, w, x;
                if (c = new Je,
                null !== e.index) {
                    for (v = e.attributes.position,
                    y = e.index,
                    0 === (b = e.groups).length && (b = [{
                        start: 0,
                        count: y.count,
                        materialIndex: 0
                    }]),
                    r = 0,
                    a = b.length; r < a; ++r)
                        for (i = (t = (_ = b[r]).start) + _.count; t < i; t += 3)
                            for (n = 0; n < 3; n++)
                                s = y.getX(t + n),
                                l = y.getX(t + (n + 1) % 3),
                                d[0] = Math.min(s, l),
                                d[1] = Math.max(s, l),
                                void 0 === p[u = d[0] + "," + d[1]] && (p[u] = {
                                    index1: d[0],
                                    index2: d[1]
                                });
                    for (u in p)
                        o = p[u],
                        c.fromBufferAttribute(v, o.index1),
                        h.push(c.x, c.y, c.z),
                        c.fromBufferAttribute(v, o.index2),
                        h.push(c.x, c.y, c.z)
                } else
                    for (t = 0,
                    i = (v = e.attributes.position).count / 3; t < i; t++)
                        for (n = 0; n < 3; n++)
                            w = 3 * t + n,
                            c.fromBufferAttribute(v, w),
                            h.push(c.x, c.y, c.z),
                            x = 3 * t + (n + 1) % 3,
                            c.fromBufferAttribute(v, x),
                            h.push(c.x, c.y, c.z)
            }
            this.addAttribute("position", new cr(h,3))
        }
        function Ba(e, t, n) {
            tr.call(this),
            this.type = "ParametricGeometry",
            this.parameters = {
                func: e,
                slices: t,
                stacks: n
            },
            this.fromBufferGeometry(new Ua(e,t,n)),
            this.mergeVertices()
        }
        function Ua(e, t, n) {
            fr.call(this),
            this.type = "ParametricBufferGeometry",
            this.parameters = {
                func: e,
                slices: t,
                stacks: n
            };
            var i, r, a = [], o = [], s = [], l = [], u = new Je, c = new Je, h = new Je, d = new Je, p = new Je, f = t + 1;
            for (i = 0; i <= n; i++) {
                var m = i / n;
                for (r = 0; r <= t; r++) {
                    var g = r / t;
                    c = e(g, m, c),
                    o.push(c.x, c.y, c.z),
                    0 <= g - 1e-5 ? (h = e(g - 1e-5, m, h),
                    d.subVectors(c, h)) : (h = e(1e-5 + g, m, h),
                    d.subVectors(h, c)),
                    0 <= m - 1e-5 ? (h = e(g, m - 1e-5, h),
                    p.subVectors(c, h)) : (h = e(g, 1e-5 + m, h),
                    p.subVectors(h, c)),
                    u.crossVectors(d, p).normalize(),
                    s.push(u.x, u.y, u.z),
                    l.push(g, m)
                }
            }
            for (i = 0; i < n; i++)
                for (r = 0; r < t; r++) {
                    var v = i * f + r
                      , y = i * f + r + 1
                      , b = (i + 1) * f + r + 1
                      , _ = (i + 1) * f + r;
                    a.push(v, y, _),
                    a.push(y, b, _)
                }
            this.setIndex(a),
            this.addAttribute("position", new cr(o,3)),
            this.addAttribute("normal", new cr(s,3)),
            this.addAttribute("uv", new cr(l,2))
        }
        function ja(e, t, n, i) {
            tr.call(this),
            this.type = "PolyhedronGeometry",
            this.parameters = {
                vertices: e,
                indices: t,
                radius: n,
                detail: i
            },
            this.fromBufferGeometry(new za(e,t,n,i)),
            this.mergeVertices()
        }
        function za(i, a, e, t) {
            fr.call(this),
            this.type = "PolyhedronBufferGeometry",
            this.parameters = {
                vertices: i,
                indices: a,
                radius: e,
                detail: t
            },
            e = e || 1;
            var c = []
              , h = [];
            function o(e, t, n, i) {
                var r, a, o = Math.pow(2, i), s = [];
                for (r = 0; r <= o; r++) {
                    s[r] = [];
                    var l = e.clone().lerp(n, r / o)
                      , u = t.clone().lerp(n, r / o)
                      , c = o - r;
                    for (a = 0; a <= c; a++)
                        s[r][a] = 0 === a && r === o ? l : l.clone().lerp(u, a / c)
                }
                for (r = 0; r < o; r++)
                    for (a = 0; a < 2 * (o - r) - 1; a++) {
                        var h = Math.floor(a / 2);
                        a % 2 == 0 ? (d(s[r][h + 1]),
                        d(s[r + 1][h]),
                        d(s[r][h])) : (d(s[r][h + 1]),
                        d(s[r + 1][h + 1]),
                        d(s[r + 1][h]))
                    }
            }
            function d(e) {
                c.push(e.x, e.y, e.z)
            }
            function s(e, t) {
                var n = 3 * e;
                t.x = i[0 + n],
                t.y = i[1 + n],
                t.z = i[2 + n]
            }
            function p(e, t, n, i) {
                i < 0 && 1 === e.x && (h[t] = e.x - 1),
                0 === n.x && 0 === n.z && (h[t] = i / 2 / Math.PI + .5)
            }
            function f(e) {
                return Math.atan2(e.z, -e.x)
            }
            !function(e) {
                for (var t = new Je, n = new Je, i = new Je, r = 0; r < a.length; r += 3)
                    s(a[r + 0], t),
                    s(a[r + 1], n),
                    s(a[r + 2], i),
                    o(t, n, i, e)
            }(t = t || 0),
            function(e) {
                for (var t = new Je, n = 0; n < c.length; n += 3)
                    t.x = c[n + 0],
                    t.y = c[n + 1],
                    t.z = c[n + 2],
                    t.normalize().multiplyScalar(e),
                    c[n + 0] = t.x,
                    c[n + 1] = t.y,
                    c[n + 2] = t.z
            }(e),
            function() {
                for (var e = new Je, t = 0; t < c.length; t += 3) {
                    e.x = c[t + 0],
                    e.y = c[t + 1],
                    e.z = c[t + 2];
                    var n = f(e) / 2 / Math.PI + .5
                      , i = (r = e,
                    Math.atan2(-r.y, Math.sqrt(r.x * r.x + r.z * r.z)) / Math.PI + .5);
                    h.push(n, 1 - i)
                }
                var r;
                (function() {
                    for (var e = new Je, t = new Je, n = new Je, i = new Je, r = new fe, a = new fe, o = new fe, s = 0, l = 0; s < c.length; s += 9,
                    l += 6) {
                        e.set(c[s + 0], c[s + 1], c[s + 2]),
                        t.set(c[s + 3], c[s + 4], c[s + 5]),
                        n.set(c[s + 6], c[s + 7], c[s + 8]),
                        r.set(h[l + 0], h[l + 1]),
                        a.set(h[l + 2], h[l + 3]),
                        o.set(h[l + 4], h[l + 5]),
                        i.copy(e).add(t).add(n).divideScalar(3);
                        var u = f(i);
                        p(r, l + 0, e, u),
                        p(a, l + 2, t, u),
                        p(o, l + 4, n, u)
                    }
                }
                )(),
                function() {
                    for (var e = 0; e < h.length; e += 6) {
                        var t = h[e + 0]
                          , n = h[e + 2]
                          , i = h[e + 4]
                          , r = Math.max(t, n, i)
                          , a = Math.min(t, n, i);
                        .9 < r && a < .1 && (t < .2 && (h[e + 0] += 1),
                        n < .2 && (h[e + 2] += 1),
                        i < .2 && (h[e + 4] += 1))
                    }
                }()
            }(),
            this.addAttribute("position", new cr(c,3)),
            this.addAttribute("normal", new cr(c.slice(),3)),
            this.addAttribute("uv", new cr(h,2)),
            0 === t ? this.computeVertexNormals() : this.normalizeNormals()
        }
        function Ha(e, t) {
            tr.call(this),
            this.type = "TetrahedronGeometry",
            this.parameters = {
                radius: e,
                detail: t
            },
            this.fromBufferGeometry(new Va(e,t)),
            this.mergeVertices()
        }
        function Va(e, t) {
            za.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], e, t),
            this.type = "TetrahedronBufferGeometry",
            this.parameters = {
                radius: e,
                detail: t
            }
        }
        function Ga(e, t) {
            tr.call(this),
            this.type = "OctahedronGeometry",
            this.parameters = {
                radius: e,
                detail: t
            },
            this.fromBufferGeometry(new Wa(e,t)),
            this.mergeVertices()
        }
        function Wa(e, t) {
            za.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], e, t),
            this.type = "OctahedronBufferGeometry",
            this.parameters = {
                radius: e,
                detail: t
            }
        }
        function qa(e, t) {
            tr.call(this),
            this.type = "IcosahedronGeometry",
            this.parameters = {
                radius: e,
                detail: t
            },
            this.fromBufferGeometry(new $a(e,t)),
            this.mergeVertices()
        }
        function $a(e, t) {
            var n = (1 + Math.sqrt(5)) / 2;
            za.call(this, [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1], [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], e, t),
            this.type = "IcosahedronBufferGeometry",
            this.parameters = {
                radius: e,
                detail: t
            }
        }
        function Xa(e, t) {
            tr.call(this),
            this.type = "DodecahedronGeometry",
            this.parameters = {
                radius: e,
                detail: t
            },
            this.fromBufferGeometry(new Ya(e,t)),
            this.mergeVertices()
        }
        function Ya(e, t) {
            var n = (1 + Math.sqrt(5)) / 2
              , i = 1 / n;
            za.call(this, [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, 0, -n, 0, -i, n, 0, -i, -n, 0, i, n, 0, i], [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], e, t),
            this.type = "DodecahedronBufferGeometry",
            this.parameters = {
                radius: e,
                detail: t
            }
        }
        function Ka(e, t, n, i, r, a) {
            tr.call(this),
            this.type = "TubeGeometry",
            this.parameters = {
                path: e,
                tubularSegments: t,
                radius: n,
                radialSegments: i,
                closed: r
            },
            void 0 !== a && console.warn("THREE.TubeGeometry: taper has been removed.");
            var o = new Za(e,t,n,i,r);
            this.tangents = o.tangents,
            this.normals = o.normals,
            this.binormals = o.binormals,
            this.fromBufferGeometry(o),
            this.mergeVertices()
        }
        function Za(s, l, u, c, e) {
            fr.call(this),
            this.type = "TubeBufferGeometry",
            this.parameters = {
                path: s,
                tubularSegments: l,
                radius: u,
                radialSegments: c,
                closed: e
            },
            l = l || 64,
            u = u || 1,
            c = c || 8,
            e = e || !1;
            var h = s.computeFrenetFrames(l, e);
            this.tangents = h.tangents,
            this.normals = h.normals,
            this.binormals = h.binormals;
            var r, d, p = new Je, f = new Je, t = new fe, m = [], g = [], n = [], a = [];
            function i(e) {
                var t = s.getPointAt(e / l)
                  , n = h.normals[e]
                  , i = h.binormals[e];
                for (d = 0; d <= c; d++) {
                    var r = d / c * Math.PI * 2
                      , a = Math.sin(r)
                      , o = -Math.cos(r);
                    f.x = o * n.x + a * i.x,
                    f.y = o * n.y + a * i.y,
                    f.z = o * n.z + a * i.z,
                    f.normalize(),
                    g.push(f.x, f.y, f.z),
                    p.x = t.x + u * f.x,
                    p.y = t.y + u * f.y,
                    p.z = t.z + u * f.z,
                    m.push(p.x, p.y, p.z)
                }
            }
            !function() {
                for (r = 0; r < l; r++)
                    i(r);
                i(!1 === e ? l : 0),
                function() {
                    for (r = 0; r <= l; r++)
                        for (d = 0; d <= c; d++)
                            t.x = r / l,
                            t.y = d / c,
                            n.push(t.x, t.y)
                }(),
                function() {
                    for (d = 1; d <= l; d++)
                        for (r = 1; r <= c; r++) {
                            var e = (c + 1) * (d - 1) + (r - 1)
                              , t = (c + 1) * d + (r - 1)
                              , n = (c + 1) * d + r
                              , i = (c + 1) * (d - 1) + r;
                            a.push(e, t, i),
                            a.push(t, n, i)
                        }
                }()
            }(),
            this.setIndex(a),
            this.addAttribute("position", new cr(m,3)),
            this.addAttribute("normal", new cr(g,3)),
            this.addAttribute("uv", new cr(n,2))
        }
        function Qa(e, t, n, i, r, a, o) {
            tr.call(this),
            this.type = "TorusKnotGeometry",
            this.parameters = {
                radius: e,
                tube: t,
                tubularSegments: n,
                radialSegments: i,
                p: r,
                q: a
            },
            void 0 !== o && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),
            this.fromBufferGeometry(new Ja(e,t,n,i,r,a)),
            this.mergeVertices()
        }
        function Ja(e, t, n, i, r, a) {
            fr.call(this),
            this.type = "TorusKnotBufferGeometry",
            this.parameters = {
                radius: e,
                tube: t,
                tubularSegments: n,
                radialSegments: i,
                p: r,
                q: a
            },
            e = e || 100,
            t = t || 40,
            n = Math.floor(n) || 64,
            i = Math.floor(i) || 8,
            r = r || 2,
            a = a || 3;
            var o, s, l = [], u = [], c = [], h = [], d = new Je, p = new Je, f = new Je, m = new Je, g = new Je, v = new Je, y = new Je;
            for (o = 0; o <= n; ++o) {
                var b = o / n * r * Math.PI * 2;
                for (M(b, r, a, e, f),
                M(.01 + b, r, a, e, m),
                v.subVectors(m, f),
                y.addVectors(m, f),
                g.crossVectors(v, y),
                y.crossVectors(g, v),
                g.normalize(),
                y.normalize(),
                s = 0; s <= i; ++s) {
                    var _ = s / i * Math.PI * 2
                      , w = -t * Math.cos(_)
                      , x = t * Math.sin(_);
                    d.x = f.x + (w * y.x + x * g.x),
                    d.y = f.y + (w * y.y + x * g.y),
                    d.z = f.z + (w * y.z + x * g.z),
                    u.push(d.x, d.y, d.z),
                    p.subVectors(d, f).normalize(),
                    c.push(p.x, p.y, p.z),
                    h.push(o / n),
                    h.push(s / i)
                }
            }
            for (s = 1; s <= n; s++)
                for (o = 1; o <= i; o++) {
                    var T = (i + 1) * (s - 1) + (o - 1)
                      , S = (i + 1) * s + (o - 1)
                      , E = (i + 1) * s + o
                      , C = (i + 1) * (s - 1) + o;
                    l.push(T, S, C),
                    l.push(S, E, C)
                }
            function M(e, t, n, i, r) {
                var a = Math.cos(e)
                  , o = Math.sin(e)
                  , s = n / t * e
                  , l = Math.cos(s);
                r.x = i * (2 + l) * .5 * a,
                r.y = i * (2 + l) * o * .5,
                r.z = i * Math.sin(s) * .5
            }
            this.setIndex(l),
            this.addAttribute("position", new cr(u,3)),
            this.addAttribute("normal", new cr(c,3)),
            this.addAttribute("uv", new cr(h,2))
        }
        function eo(e, t, n, i, r) {
            tr.call(this),
            this.type = "TorusGeometry",
            this.parameters = {
                radius: e,
                tube: t,
                radialSegments: n,
                tubularSegments: i,
                arc: r
            },
            this.fromBufferGeometry(new to(e,t,n,i,r)),
            this.mergeVertices()
        }
        function to(e, t, n, i, r) {
            fr.call(this),
            this.type = "TorusBufferGeometry",
            this.parameters = {
                radius: e,
                tube: t,
                radialSegments: n,
                tubularSegments: i,
                arc: r
            },
            e = e || 100,
            t = t || 40,
            n = Math.floor(n) || 8,
            i = Math.floor(i) || 6,
            r = r || 2 * Math.PI;
            var a, o, s = [], l = [], u = [], c = [], h = new Je, d = new Je, p = new Je;
            for (a = 0; a <= n; a++)
                for (o = 0; o <= i; o++) {
                    var f = o / i * r
                      , m = a / n * Math.PI * 2;
                    d.x = (e + t * Math.cos(m)) * Math.cos(f),
                    d.y = (e + t * Math.cos(m)) * Math.sin(f),
                    d.z = t * Math.sin(m),
                    l.push(d.x, d.y, d.z),
                    h.x = e * Math.cos(f),
                    h.y = e * Math.sin(f),
                    p.subVectors(d, h).normalize(),
                    u.push(p.x, p.y, p.z),
                    c.push(o / i),
                    c.push(a / n)
                }
            for (a = 1; a <= n; a++)
                for (o = 1; o <= i; o++) {
                    var g = (i + 1) * a + o - 1
                      , v = (i + 1) * (a - 1) + o - 1
                      , y = (i + 1) * (a - 1) + o
                      , b = (i + 1) * a + o;
                    s.push(g, v, b),
                    s.push(v, y, b)
                }
            this.setIndex(s),
            this.addAttribute("position", new cr(l,3)),
            this.addAttribute("normal", new cr(u,3)),
            this.addAttribute("uv", new cr(c,2))
        }
        ha.prototype = Object.assign(Object.create(Qn.prototype), {
            constructor: ha,
            isArrayCamera: !0
        }),
        ga.prototype.isFogExp2 = !0,
        ga.prototype.clone = function() {
            return new ga(this.color.getHex(),this.density)
        }
        ,
        ga.prototype.toJSON = function(e) {
            return {
                type: "FogExp2",
                color: this.color.getHex(),
                density: this.density
            }
        }
        ,
        va.prototype.isFog = !0,
        va.prototype.clone = function() {
            return new va(this.color.getHex(),this.near,this.far)
        }
        ,
        va.prototype.toJSON = function(e) {
            return {
                type: "Fog",
                color: this.color.getHex(),
                near: this.near,
                far: this.far
            }
        }
        ,
        ya.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: ya,
            copy: function(e, t) {
                return Yn.prototype.copy.call(this, e, t),
                null !== e.background && (this.background = e.background.clone()),
                null !== e.fog && (this.fog = e.fog.clone()),
                null !== e.overrideMaterial && (this.overrideMaterial = e.overrideMaterial.clone()),
                this.autoUpdate = e.autoUpdate,
                this.matrixAutoUpdate = e.matrixAutoUpdate,
                this
            },
            toJSON: function(e) {
                var t = Yn.prototype.toJSON.call(this, e);
                return null !== this.background && (t.object.background = this.background.toJSON(e)),
                null !== this.fog && (t.object.fog = this.fog.toJSON()),
                t
            }
        }),
        ba.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: ba,
            isLensFlare: !0,
            copy: function(e) {
                Yn.prototype.copy.call(this, e),
                this.positionScreen.copy(e.positionScreen),
                this.customUpdateCallback = e.customUpdateCallback;
                for (var t = 0, n = e.lensFlares.length; t < n; t++)
                    this.lensFlares.push(e.lensFlares[t]);
                return this
            },
            add: function(e, t, n, i, r, a) {
                void 0 === t && (t = -1),
                void 0 === n && (n = 0),
                void 0 === a && (a = 1),
                void 0 === r && (r = new zt(16777215)),
                void 0 === i && (i = X),
                n = Math.min(n, Math.max(0, n)),
                this.lensFlares.push({
                    texture: e,
                    size: t,
                    distance: n,
                    x: 0,
                    y: 0,
                    z: 0,
                    scale: 1,
                    rotation: 0,
                    opacity: a,
                    color: r,
                    blending: i
                })
            },
            updateLensFlares: function() {
                var e, t, n = this.lensFlares.length, i = 2 * -this.positionScreen.x, r = 2 * -this.positionScreen.y;
                for (e = 0; e < n; e++)
                    (t = this.lensFlares[e]).x = this.positionScreen.x + i * t.distance,
                    t.y = this.positionScreen.y + r * t.distance,
                    t.wantedRotation = t.x * Math.PI * .25,
                    t.rotation += .25 * (t.wantedRotation - t.rotation)
            }
        }),
        ((_a.prototype = Object.create(bn.prototype)).constructor = _a).prototype.isSpriteMaterial = !0,
        _a.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.map = e.map,
            this.rotation = e.rotation,
            this
        }
        ,
        wa.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: wa,
            isSprite: !0,
            raycast: (Br = new Je,
            Ur = new Je,
            jr = new Je,
            function(e, t) {
                Ur.setFromMatrixPosition(this.matrixWorld),
                e.ray.closestPointToPoint(Ur, Br),
                jr.setFromMatrixScale(this.matrixWorld);
                var n = jr.x * jr.y / 4;
                if (!(Ur.distanceToSquared(Br) > n)) {
                    var i = e.ray.origin.distanceTo(Br);
                    i < e.near || i > e.far || t.push({
                        distance: i,
                        point: Br.clone(),
                        face: null,
                        object: this
                    })
                }
            }
            ),
            clone: function() {
                return new this.constructor(this.material).copy(this)
            }
        }),
        xa.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: xa,
            copy: function(e) {
                Yn.prototype.copy.call(this, e, !1);
                for (var t = e.levels, n = 0, i = t.length; n < i; n++) {
                    var r = t[n];
                    this.addLevel(r.object.clone(), r.distance)
                }
                return this
            },
            addLevel: function(e, t) {
                void 0 === t && (t = 0),
                t = Math.abs(t);
                for (var n = this.levels, i = 0; i < n.length && !(t < n[i].distance); i++)
                    ;
                n.splice(i, 0, {
                    distance: t,
                    object: e
                }),
                this.add(e)
            },
            getObjectForDistance: function(e) {
                for (var t = this.levels, n = 1, i = t.length; n < i && !(e < t[n].distance); n++)
                    ;
                return t[n - 1].object
            },
            raycast: (Vr = new Je,
            function(e, t) {
                Vr.setFromMatrixPosition(this.matrixWorld);
                var n = e.ray.origin.distanceTo(Vr);
                this.getObjectForDistance(n).raycast(e, t)
            }
            ),
            update: (zr = new Je,
            Hr = new Je,
            function(e) {
                var t = this.levels;
                if (1 < t.length) {
                    zr.setFromMatrixPosition(e.matrixWorld),
                    Hr.setFromMatrixPosition(this.matrixWorld);
                    var n = zr.distanceTo(Hr);
                    t[0].object.visible = !0;
                    for (var i = 1, r = t.length; i < r && n >= t[i].distance; i++)
                        t[i - 1].object.visible = !1,
                        t[i].object.visible = !0;
                    for (; i < r; i++)
                        t[i].object.visible = !1
                }
            }
            ),
            toJSON: function(e) {
                var t = Yn.prototype.toJSON.call(this, e);
                t.object.levels = [];
                for (var n = this.levels, i = 0, r = n.length; i < r; i++) {
                    var a = n[i];
                    t.object.levels.push({
                        object: a.object.uuid,
                        distance: a.distance
                    })
                }
                return t
            }
        }),
        Object.assign(Ta.prototype, {
            calculateInverses: function() {
                this.boneInverses = [];
                for (var e = 0, t = this.bones.length; e < t; e++) {
                    var n = new et;
                    this.bones[e] && n.getInverse(this.bones[e].matrixWorld),
                    this.boneInverses.push(n)
                }
            },
            pose: function() {
                var e, t, n;
                for (t = 0,
                n = this.bones.length; t < n; t++)
                    (e = this.bones[t]) && e.matrixWorld.getInverse(this.boneInverses[t]);
                for (t = 0,
                n = this.bones.length; t < n; t++)
                    (e = this.bones[t]) && (e.parent && e.parent.isBone ? (e.matrix.getInverse(e.parent.matrixWorld),
                    e.matrix.multiply(e.matrixWorld)) : e.matrix.copy(e.matrixWorld),
                    e.matrix.decompose(e.position, e.quaternion, e.scale))
            },
            update: (Gr = new et,
            Wr = new et,
            function() {
                for (var e = this.bones, t = this.boneInverses, n = this.boneMatrices, i = this.boneTexture, r = 0, a = e.length; r < a; r++) {
                    var o = e[r] ? e[r].matrixWorld : Wr;
                    Gr.multiplyMatrices(o, t[r]),
                    Gr.toArray(n, 16 * r)
                }
                void 0 !== i && (i.needsUpdate = !0)
            }
            ),
            clone: function() {
                return new Ta(this.bones,this.boneInverses)
            }
        }),
        Sa.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Sa,
            isBone: !0
        }),
        Ea.prototype = Object.assign(Object.create(Tr.prototype), {
            constructor: Ea,
            isSkinnedMesh: !0,
            initBones: function() {
                var e, t, n, i, r = [];
                if (this.geometry && void 0 !== this.geometry.bones) {
                    for (n = 0,
                    i = this.geometry.bones.length; n < i; n++)
                        t = this.geometry.bones[n],
                        e = new Sa,
                        r.push(e),
                        e.name = t.name,
                        e.position.fromArray(t.pos),
                        e.quaternion.fromArray(t.rotq),
                        void 0 !== t.scl && e.scale.fromArray(t.scl);
                    for (n = 0,
                    i = this.geometry.bones.length; n < i; n++)
                        -1 !== (t = this.geometry.bones[n]).parent && null !== t.parent && void 0 !== r[t.parent] ? r[t.parent].add(r[n]) : this.add(r[n])
                }
                return this.updateMatrixWorld(!0),
                r
            },
            bind: function(e, t) {
                this.skeleton = e,
                void 0 === t && (this.updateMatrixWorld(!0),
                this.skeleton.calculateInverses(),
                t = this.matrixWorld),
                this.bindMatrix.copy(t),
                this.bindMatrixInverse.getInverse(t)
            },
            pose: function() {
                this.skeleton.pose()
            },
            normalizeSkinWeights: function() {
                var e, t;
                if (this.geometry && this.geometry.isGeometry)
                    for (t = 0; t < this.geometry.skinWeights.length; t++) {
                        var n = this.geometry.skinWeights[t];
                        (e = 1 / n.lengthManhattan()) !== 1 / 0 ? n.multiplyScalar(e) : n.set(1, 0, 0, 0)
                    }
                else if (this.geometry && this.geometry.isBufferGeometry) {
                    var i = new Qe
                      , r = this.geometry.attributes.skinWeight;
                    for (t = 0; t < r.count; t++)
                        i.x = r.getX(t),
                        i.y = r.getY(t),
                        i.z = r.getZ(t),
                        i.w = r.getW(t),
                        (e = 1 / i.lengthManhattan()) !== 1 / 0 ? i.multiplyScalar(e) : i.set(1, 0, 0, 0),
                        r.setXYZW(t, i.x, i.y, i.z, i.w)
                }
            },
            updateMatrixWorld: function(e) {
                Tr.prototype.updateMatrixWorld.call(this, e),
                "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
            },
            clone: function() {
                return new this.constructor(this.geometry,this.material).copy(this)
            }
        }),
        ((Ca.prototype = Object.create(bn.prototype)).constructor = Ca).prototype.isLineBasicMaterial = !0,
        Ca.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.linewidth = e.linewidth,
            this.linecap = e.linecap,
            this.linejoin = e.linejoin,
            this
        }
        ,
        Ma.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Ma,
            isLine: !0,
            raycast: (qr = new et,
            $r = new _r,
            Xr = new Tn,
            function(e, t) {
                var n = e.linePrecision
                  , i = n * n
                  , r = this.geometry
                  , a = this.matrixWorld;
                if (null === r.boundingSphere && r.computeBoundingSphere(),
                Xr.copy(r.boundingSphere),
                Xr.applyMatrix4(a),
                !1 !== e.ray.intersectsSphere(Xr)) {
                    qr.getInverse(a),
                    $r.copy(e.ray).applyMatrix4(qr);
                    var o = new Je
                      , s = new Je
                      , l = new Je
                      , u = new Je
                      , c = this && this.isLineSegments ? 2 : 1;
                    if (r.isBufferGeometry) {
                        var h = r.index
                          , d = r.attributes.position.array;
                        if (null !== h)
                            for (var p = h.array, f = 0, m = p.length - 1; f < m; f += c) {
                                var g = p[f]
                                  , v = p[f + 1];
                                o.fromArray(d, 3 * g),
                                s.fromArray(d, 3 * v),
                                i < $r.distanceSqToSegment(o, s, u, l) || (u.applyMatrix4(this.matrixWorld),
                                (_ = e.ray.origin.distanceTo(u)) < e.near || _ > e.far || t.push({
                                    distance: _,
                                    point: l.clone().applyMatrix4(this.matrixWorld),
                                    index: f,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                }))
                            }
                        else
                            for (f = 0,
                            m = d.length / 3 - 1; f < m; f += c)
                                o.fromArray(d, 3 * f),
                                s.fromArray(d, 3 * f + 3),
                                i < $r.distanceSqToSegment(o, s, u, l) || (u.applyMatrix4(this.matrixWorld),
                                (_ = e.ray.origin.distanceTo(u)) < e.near || _ > e.far || t.push({
                                    distance: _,
                                    point: l.clone().applyMatrix4(this.matrixWorld),
                                    index: f,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                }))
                    } else if (r.isGeometry) {
                        var y = r.vertices
                          , b = y.length;
                        for (f = 0; f < b - 1; f += c) {
                            var _;
                            i < $r.distanceSqToSegment(y[f], y[f + 1], u, l) || (u.applyMatrix4(this.matrixWorld),
                            (_ = e.ray.origin.distanceTo(u)) < e.near || _ > e.far || t.push({
                                distance: _,
                                point: l.clone().applyMatrix4(this.matrixWorld),
                                index: f,
                                face: null,
                                faceIndex: null,
                                object: this
                            }))
                        }
                    }
                }
            }
            ),
            clone: function() {
                return new this.constructor(this.geometry,this.material).copy(this)
            }
        }),
        ka.prototype = Object.assign(Object.create(Ma.prototype), {
            constructor: ka,
            isLineSegments: !0
        }),
        Pa.prototype = Object.assign(Object.create(Ma.prototype), {
            constructor: Pa,
            isLineLoop: !0
        }),
        ((Aa.prototype = Object.create(bn.prototype)).constructor = Aa).prototype.isPointsMaterial = !0,
        Aa.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.map = e.map,
            this.size = e.size,
            this.sizeAttenuation = e.sizeAttenuation,
            this
        }
        ,
        Ia.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Ia,
            isPoints: !0,
            raycast: (Yr = new et,
            Kr = new _r,
            Zr = new Tn,
            function(a, o) {
                var s = this
                  , e = this.geometry
                  , l = this.matrixWorld
                  , t = a.params.Points.threshold;
                if (null === e.boundingSphere && e.computeBoundingSphere(),
                Zr.copy(e.boundingSphere),
                Zr.applyMatrix4(l),
                Zr.radius += t,
                !1 !== a.ray.intersectsSphere(Zr)) {
                    Yr.getInverse(l),
                    Kr.copy(a.ray).applyMatrix4(Yr);
                    var n = t / ((this.scale.x + this.scale.y + this.scale.z) / 3)
                      , u = n * n
                      , i = new Je;
                    if (e.isBufferGeometry) {
                        var r = e.index
                          , c = e.attributes.position.array;
                        if (null !== r)
                            for (var h = r.array, d = 0, p = h.length; d < p; d++) {
                                var f = h[d];
                                i.fromArray(c, 3 * f),
                                v(i, f)
                            }
                        else {
                            d = 0;
                            for (var m = c.length / 3; d < m; d++)
                                i.fromArray(c, 3 * d),
                                v(i, d)
                        }
                    } else {
                        var g = e.vertices;
                        for (d = 0,
                        m = g.length; d < m; d++)
                            v(g[d], d)
                    }
                }
                function v(e, t) {
                    var n = Kr.distanceSqToPoint(e);
                    if (n < u) {
                        var i = Kr.closestPointToPoint(e);
                        i.applyMatrix4(l);
                        var r = a.ray.origin.distanceTo(i);
                        if (r < a.near || r > a.far)
                            return;
                        o.push({
                            distance: r,
                            distanceToRay: Math.sqrt(n),
                            point: i.clone(),
                            index: t,
                            face: null,
                            object: s
                        })
                    }
                }
            }
            ),
            clone: function() {
                return new this.constructor(this.geometry,this.material).copy(this)
            }
        }),
        La.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: La
        }),
        (Oa.prototype = Object.create(xe.prototype)).constructor = Oa,
        ((Ra.prototype = Object.create(xe.prototype)).constructor = Ra).prototype.isCompressedTexture = !0,
        (Da.prototype = Object.create(xe.prototype)).constructor = Da,
        ((Na.prototype = Object.create(xe.prototype)).constructor = Na).prototype.isDepthTexture = !0,
        (Fa.prototype = Object.create(fr.prototype)).constructor = Fa,
        (Ba.prototype = Object.create(tr.prototype)).constructor = Ba,
        (Ua.prototype = Object.create(fr.prototype)).constructor = Ua,
        (ja.prototype = Object.create(tr.prototype)).constructor = ja,
        (za.prototype = Object.create(fr.prototype)).constructor = za,
        (Ha.prototype = Object.create(tr.prototype)).constructor = Ha,
        (Va.prototype = Object.create(za.prototype)).constructor = Va,
        (Ga.prototype = Object.create(tr.prototype)).constructor = Ga,
        (Wa.prototype = Object.create(za.prototype)).constructor = Wa,
        (qa.prototype = Object.create(tr.prototype)).constructor = qa,
        ($a.prototype = Object.create(za.prototype)).constructor = $a,
        (Xa.prototype = Object.create(tr.prototype)).constructor = Xa,
        (Ya.prototype = Object.create(za.prototype)).constructor = Ya,
        (Ka.prototype = Object.create(tr.prototype)).constructor = Ka,
        (Za.prototype = Object.create(fr.prototype)).constructor = Za,
        (Qa.prototype = Object.create(tr.prototype)).constructor = Qa,
        (Ja.prototype = Object.create(fr.prototype)).constructor = Ja,
        (eo.prototype = Object.create(tr.prototype)).constructor = eo,
        (to.prototype = Object.create(fr.prototype)).constructor = to;
        var no = {
            area: function(e) {
                for (var t = e.length, n = 0, i = t - 1, r = 0; r < t; i = r++)
                    n += e[i].x * e[r].y - e[r].x * e[i].y;
                return .5 * n
            },
            triangulate: function(e, t) {
                var n = e.length;
                if (n < 3)
                    return null;
                var i, r, a, o = [], s = [], l = [];
                if (0 < no.area(e))
                    for (r = 0; r < n; r++)
                        s[r] = r;
                else
                    for (r = 0; r < n; r++)
                        s[r] = n - 1 - r;
                var u = n
                  , c = 2 * u;
                for (r = u - 1; 2 < u; ) {
                    if (c-- <= 0)
                        return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),
                        t ? l : o;
                    if (u <= (i = r) && (i = 0),
                    u <= (r = i + 1) && (r = 0),
                    u <= (a = r + 1) && (a = 0),
                    io(e, i, r, a, u, s)) {
                        var h, d, p, f, m;
                        for (h = s[i],
                        d = s[r],
                        p = s[a],
                        o.push([e[h], e[d], e[p]]),
                        l.push([s[i], s[r], s[a]]),
                        m = (f = r) + 1; m < u; f++,
                        m++)
                            s[f] = s[m];
                        c = 2 * --u
                    }
                }
                return t ? l : o
            },
            triangulateShape: function(e, t) {
                function n(e) {
                    var t = e.length;
                    2 < t && e[t - 1].equals(e[0]) && e.pop()
                }
                function E(e, t, n) {
                    return e.x !== t.x ? e.x < t.x ? e.x <= n.x && n.x <= t.x : t.x <= n.x && n.x <= e.x : e.y < t.y ? e.y <= n.y && n.y <= t.y : t.y <= n.y && n.y <= e.y
                }
                function S(e, t, n, i, r) {
                    var a = t.x - e.x
                      , o = t.y - e.y
                      , s = i.x - n.x
                      , l = i.y - n.y
                      , u = e.x - n.x
                      , c = e.y - n.y
                      , h = o * s - a * l
                      , d = o * u - a * c;
                    if (Math.abs(h) > Number.EPSILON) {
                        var p;
                        if (0 < h) {
                            if (d < 0 || h < d)
                                return [];
                            if ((p = l * u - s * c) < 0 || h < p)
                                return []
                        } else {
                            if (0 < d || d < h)
                                return [];
                            if (0 < (p = l * u - s * c) || p < h)
                                return []
                        }
                        if (0 === p)
                            return !r || 0 != d && d != h ? [e] : [];
                        if (p === h)
                            return !r || 0 != d && d != h ? [t] : [];
                        if (0 == d)
                            return [n];
                        if (d == h)
                            return [i];
                        var f = p / h;
                        return [{
                            x: e.x + f * a,
                            y: e.y + f * o
                        }]
                    }
                    if (0 != d || l * u != s * c)
                        return [];
                    var m, g, v, y, b, _, w, x, T = 0 == a && 0 == o, S = 0 == s && 0 == l;
                    return T && S ? e.x !== n.x || e.y !== n.y ? [] : [e] : T ? E(n, i, e) ? [e] : [] : S ? E(e, t, n) ? [n] : [] : (x = 0 != a ? (y = e.x < t.x ? (v = (m = e).x,
                    (g = t).x) : (v = (m = t).x,
                    (g = e).x),
                    n.x < i.x ? (w = (b = n).x,
                    (_ = i).x) : (w = (b = i).x,
                    (_ = n).x)) : (y = e.y < t.y ? (v = (m = e).y,
                    (g = t).y) : (v = (m = t).y,
                    (g = e).y),
                    n.y < i.y ? (w = (b = n).y,
                    (_ = i).y) : (w = (b = i).y,
                    (_ = n).y)),
                    v <= w ? y < w ? [] : y === w ? r ? [] : [b] : y <= x ? [b, g] : [b, _] : x < v ? [] : v === x ? r ? [] : [m] : y <= x ? [m, g] : [m, _])
                }
                function C(e, t, n, i) {
                    var r = t.x - e.x
                      , a = t.y - e.y
                      , o = n.x - e.x
                      , s = n.y - e.y
                      , l = i.x - e.x
                      , u = i.y - e.y
                      , c = r * s - a * o
                      , h = r * u - a * l;
                    if (Math.abs(c) > Number.EPSILON) {
                        var d = l * s - u * o;
                        return 0 < c ? 0 <= h && 0 <= d : 0 <= h || 0 <= d
                    }
                    return 0 < h
                }
                n(e),
                t.forEach(n);
                for (var i, r, a, o, s, l, u = {}, c = e.concat(), h = 0, d = t.length; h < d; h++)
                    Array.prototype.push.apply(c, t[h]);
                for (i = 0,
                r = c.length; i < r; i++)
                    void 0 !== u[s = c[i].x + ":" + c[i].y] && console.warn("THREE.ShapeUtils: Duplicate point", s, i),
                    u[s] = i;
                var p = function(e, o) {
                    var u, c = e.concat();
                    function t(e, t) {
                        var n = c.length - 1
                          , i = e - 1;
                        i < 0 && (i = n);
                        var r = e + 1;
                        n < r && (r = 0);
                        var a = C(c[e], c[i], c[r], u[t]);
                        if (!a)
                            return !1;
                        var o = u.length - 1
                          , s = t - 1;
                        s < 0 && (s = o);
                        var l = t + 1;
                        return o < l && (l = 0),
                        !!(a = C(u[t], u[s], u[l], c[e]))
                    }
                    function n(e, t) {
                        var n, i;
                        for (n = 0; n < c.length; n++)
                            if (i = n + 1,
                            i %= c.length,
                            0 < S(e, t, c[n], c[i], !0).length)
                                return !0;
                        return !1
                    }
                    var s = [];
                    function i(e, t) {
                        var n, i, r, a;
                        for (n = 0; n < s.length; n++)
                            for (i = o[s[n]],
                            r = 0; r < i.length; r++)
                                if (a = r + 1,
                                a %= i.length,
                                0 < S(e, t, i[r], i[a], !0).length)
                                    return !0;
                        return !1
                    }
                    for (var r, a, l, h, d, p, f, m, g, v, y = [], b = 0, _ = o.length; b < _; b++)
                        s.push(b);
                    for (var w = 0, x = 2 * s.length; 0 < s.length; ) {
                        if (--x < 0) {
                            console.log("Infinite Loop! Holes left:" + s.length + ", Probably Hole outside Shape!");
                            break
                        }
                        for (a = w; a < c.length; a++) {
                            l = c[a],
                            r = -1;
                            for (b = 0; b < s.length; b++)
                                if (d = s[b],
                                void 0 === y[p = l.x + ":" + l.y + ":" + d]) {
                                    u = o[d];
                                    for (var T = 0; T < u.length; T++)
                                        if (h = u[T],
                                        t(a, T) && !n(l, h) && !i(l, h)) {
                                            r = T,
                                            s.splice(b, 1),
                                            f = c.slice(0, a + 1),
                                            m = c.slice(a),
                                            g = u.slice(r),
                                            v = u.slice(0, r + 1),
                                            c = f.concat(g).concat(v).concat(m),
                                            w = a;
                                            break
                                        }
                                    if (0 <= r)
                                        break;
                                    y[p] = !0
                                }
                            if (0 <= r)
                                break
                        }
                    }
                    return c
                }(e, t)
                  , f = no.triangulate(p, !1);
                for (i = 0,
                r = f.length; i < r; i++)
                    for (o = f[i],
                    a = 0; a < 3; a++)
                        void 0 !== (l = u[s = o[a].x + ":" + o[a].y]) && (o[a] = l);
                return f.concat()
            },
            isClockWise: function(e) {
                return no.area(e) < 0
            }
        };
        function io(e, t, n, i, r, a) {
            var o, s, l, u, c, h, d, p, f, m, g, v, y, b, _, w, x;
            if (s = e[a[t]].x,
            l = e[a[t]].y,
            u = e[a[n]].x,
            c = e[a[n]].y,
            h = e[a[i]].x,
            (u - s) * ((d = e[a[i]].y) - l) - (c - l) * (h - s) <= 0)
                return !1;
            for (m = h - u,
            g = d - c,
            v = s - h,
            y = l - d,
            b = u - s,
            _ = c - l,
            o = 0; o < r; o++)
                if (p = e[a[o]].x,
                f = e[a[o]].y,
                !(p === s && f === l || p === u && f === c || p === h && f === d) && (w = b * (f - l) - _ * (p - s),
                x = v * (f - d) - y * (p - h),
                m * (f - c) - g * (p - u) >= -Number.EPSILON && x >= -Number.EPSILON && w >= -Number.EPSILON))
                    return !1;
            return !0
        }
        function ro(e, t) {
            tr.call(this),
            this.type = "ExtrudeGeometry",
            this.parameters = {
                shapes: e,
                options: t
            },
            this.fromBufferGeometry(new ao(e,t)),
            this.mergeVertices()
        }
        function ao(e, t) {
            void 0 !== e && (fr.call(this),
            this.type = "ExtrudeBufferGeometry",
            e = Array.isArray(e) ? e : [e],
            this.addShapeList(e, t),
            this.computeVertexNormals())
        }
        function oo(e, t) {
            tr.call(this),
            this.type = "TextGeometry",
            this.parameters = {
                text: e,
                parameters: t
            },
            this.fromBufferGeometry(new so(e,t)),
            this.mergeVertices()
        }
        function so(e, t) {
            var n = (t = t || {}).font;
            if (!n || !n.isFont)
                return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
                new tr;
            var i = n.generateShapes(e, t.size, t.curveSegments);
            t.amount = void 0 !== t.height ? t.height : 50,
            void 0 === t.bevelThickness && (t.bevelThickness = 10),
            void 0 === t.bevelSize && (t.bevelSize = 8),
            void 0 === t.bevelEnabled && (t.bevelEnabled = !1),
            ao.call(this, i, t),
            this.type = "TextBufferGeometry"
        }
        function lo(e, t, n, i, r, a, o) {
            tr.call(this),
            this.type = "SphereGeometry",
            this.parameters = {
                radius: e,
                widthSegments: t,
                heightSegments: n,
                phiStart: i,
                phiLength: r,
                thetaStart: a,
                thetaLength: o
            },
            this.fromBufferGeometry(new uo(e,t,n,i,r,a,o)),
            this.mergeVertices()
        }
        function uo(e, t, n, i, r, a, o) {
            fr.call(this),
            this.type = "SphereBufferGeometry",
            this.parameters = {
                radius: e,
                widthSegments: t,
                heightSegments: n,
                phiStart: i,
                phiLength: r,
                thetaStart: a,
                thetaLength: o
            },
            e = e || 50,
            t = Math.max(3, Math.floor(t) || 8),
            n = Math.max(2, Math.floor(n) || 6),
            i = void 0 !== i ? i : 0,
            r = void 0 !== r ? r : 2 * Math.PI;
            var s, l, u = (a = void 0 !== a ? a : 0) + (o = void 0 !== o ? o : Math.PI), c = 0, h = [], d = new Je, p = new Je, f = [], m = [], g = [], v = [];
            for (l = 0; l <= n; l++) {
                var y = []
                  , b = l / n;
                for (s = 0; s <= t; s++) {
                    var _ = s / t;
                    d.x = -e * Math.cos(i + _ * r) * Math.sin(a + b * o),
                    d.y = e * Math.cos(a + b * o),
                    d.z = e * Math.sin(i + _ * r) * Math.sin(a + b * o),
                    m.push(d.x, d.y, d.z),
                    p.set(d.x, d.y, d.z).normalize(),
                    g.push(p.x, p.y, p.z),
                    v.push(_, 1 - b),
                    y.push(c++)
                }
                h.push(y)
            }
            for (l = 0; l < n; l++)
                for (s = 0; s < t; s++) {
                    var w = h[l][s + 1]
                      , x = h[l][s]
                      , T = h[l + 1][s]
                      , S = h[l + 1][s + 1];
                    (0 !== l || 0 < a) && f.push(w, x, S),
                    (l !== n - 1 || u < Math.PI) && f.push(x, T, S)
                }
            this.setIndex(f),
            this.addAttribute("position", new cr(m,3)),
            this.addAttribute("normal", new cr(g,3)),
            this.addAttribute("uv", new cr(v,2))
        }
        function co(e, t, n, i, r, a) {
            tr.call(this),
            this.type = "RingGeometry",
            this.parameters = {
                innerRadius: e,
                outerRadius: t,
                thetaSegments: n,
                phiSegments: i,
                thetaStart: r,
                thetaLength: a
            },
            this.fromBufferGeometry(new ho(e,t,n,i,r,a)),
            this.mergeVertices()
        }
        function ho(e, t, n, i, r, a) {
            fr.call(this),
            this.type = "RingBufferGeometry",
            this.parameters = {
                innerRadius: e,
                outerRadius: t,
                thetaSegments: n,
                phiSegments: i,
                thetaStart: r,
                thetaLength: a
            },
            e = e || 20,
            t = t || 50,
            r = void 0 !== r ? r : 0,
            a = void 0 !== a ? a : 2 * Math.PI,
            n = void 0 !== n ? Math.max(3, n) : 8;
            var o, s, l, u = [], c = [], h = [], d = [], p = e, f = (t - e) / (i = void 0 !== i ? Math.max(1, i) : 1), m = new Je, g = new fe;
            for (s = 0; s <= i; s++) {
                for (l = 0; l <= n; l++)
                    o = r + l / n * a,
                    m.x = p * Math.cos(o),
                    m.y = p * Math.sin(o),
                    c.push(m.x, m.y, m.z),
                    h.push(0, 0, 1),
                    g.x = (m.x / t + 1) / 2,
                    g.y = (m.y / t + 1) / 2,
                    d.push(g.x, g.y);
                p += f
            }
            for (s = 0; s < i; s++) {
                var v = s * (n + 1);
                for (l = 0; l < n; l++) {
                    var y = o = l + v
                      , b = o + n + 1
                      , _ = o + n + 2
                      , w = o + 1;
                    u.push(y, b, w),
                    u.push(b, _, w)
                }
            }
            this.setIndex(u),
            this.addAttribute("position", new cr(c,3)),
            this.addAttribute("normal", new cr(h,3)),
            this.addAttribute("uv", new cr(d,2))
        }
        function po(e, t, n, i) {
            tr.call(this),
            this.type = "LatheGeometry",
            this.parameters = {
                points: e,
                segments: t,
                phiStart: n,
                phiLength: i
            },
            this.fromBufferGeometry(new fo(e,t,n,i)),
            this.mergeVertices()
        }
        function fo(e, t, n, i) {
            fr.call(this),
            this.type = "LatheBufferGeometry",
            this.parameters = {
                points: e,
                segments: t,
                phiStart: n,
                phiLength: i
            },
            t = Math.floor(t) || 12,
            n = n || 0,
            i = i || 2 * Math.PI,
            i = Ze.clamp(i, 0, 2 * Math.PI);
            var r, a, o, s = [], l = [], u = [], c = 1 / t, h = new Je, d = new fe;
            for (a = 0; a <= t; a++) {
                var p = n + a * c * i
                  , f = Math.sin(p)
                  , m = Math.cos(p);
                for (o = 0; o <= e.length - 1; o++)
                    h.x = e[o].x * f,
                    h.y = e[o].y,
                    h.z = e[o].x * m,
                    l.push(h.x, h.y, h.z),
                    d.x = a / t,
                    d.y = o / (e.length - 1),
                    u.push(d.x, d.y)
            }
            for (a = 0; a < t; a++)
                for (o = 0; o < e.length - 1; o++) {
                    var g = r = o + a * e.length
                      , v = r + e.length
                      , y = r + e.length + 1
                      , b = r + 1;
                    s.push(g, v, b),
                    s.push(v, y, b)
                }
            if (this.setIndex(s),
            this.addAttribute("position", new cr(l,3)),
            this.addAttribute("uv", new cr(u,2)),
            this.computeVertexNormals(),
            i === 2 * Math.PI) {
                var _ = this.attributes.normal.array
                  , w = new Je
                  , x = new Je
                  , T = new Je;
                for (r = t * e.length * 3,
                o = a = 0; a < e.length; a++,
                o += 3)
                    w.x = _[o + 0],
                    w.y = _[o + 1],
                    w.z = _[o + 2],
                    x.x = _[r + o + 0],
                    x.y = _[r + o + 1],
                    x.z = _[r + o + 2],
                    T.addVectors(w, x).normalize(),
                    _[o + 0] = _[r + o + 0] = T.x,
                    _[o + 1] = _[r + o + 1] = T.y,
                    _[o + 2] = _[r + o + 2] = T.z
            }
        }
        function mo(e, t) {
            tr.call(this),
            this.type = "ShapeGeometry",
            "object" === Hu(t) && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."),
            t = t.curveSegments),
            this.parameters = {
                shapes: e,
                curveSegments: t
            },
            this.fromBufferGeometry(new go(e,t)),
            this.mergeVertices()
        }
        function go(e, f) {
            fr.call(this),
            this.type = "ShapeBufferGeometry",
            this.parameters = {
                shapes: e,
                curveSegments: f
            },
            f = f || 12;
            var m = []
              , g = []
              , v = []
              , y = []
              , t = 0
              , b = 0;
            if (!1 === Array.isArray(e))
                i(e);
            else
                for (var n = 0; n < e.length; n++)
                    i(e[n]),
                    this.addGroup(t, b, n),
                    t += b,
                    b = 0;
            function i(e) {
                var t, n, i, r = g.length / 3, a = e.extractPoints(f), o = a.shape, s = a.holes;
                if (!1 === no.isClockWise(o))
                    for (o = o.reverse(),
                    t = 0,
                    n = s.length; t < n; t++)
                        i = s[t],
                        !0 === no.isClockWise(i) && (s[t] = i.reverse());
                var l = no.triangulateShape(o, s);
                for (t = 0,
                n = s.length; t < n; t++)
                    i = s[t],
                    o = o.concat(i);
                for (t = 0,
                n = o.length; t < n; t++) {
                    var u = o[t];
                    g.push(u.x, u.y, 0),
                    v.push(0, 0, 1),
                    y.push(u.x, u.y)
                }
                for (t = 0,
                n = l.length; t < n; t++) {
                    var c = l[t]
                      , h = c[0] + r
                      , d = c[1] + r
                      , p = c[2] + r;
                    m.push(h, d, p),
                    b += 3
                }
            }
            this.setIndex(m),
            this.addAttribute("position", new cr(g,3)),
            this.addAttribute("normal", new cr(v,3)),
            this.addAttribute("uv", new cr(y,2))
        }
        function vo(e, t) {
            fr.call(this),
            this.type = "EdgesGeometry",
            this.parameters = {
                thresholdAngle: t
            },
            t = void 0 !== t ? t : 1;
            var n, i, r, a, o = [], s = Math.cos(Ze.DEG2RAD * t), l = [0, 0], u = {}, c = ["a", "b", "c"];
            e.isBufferGeometry ? (a = new tr).fromBufferGeometry(e) : a = e.clone(),
            a.mergeVertices(),
            a.computeFaceNormals();
            for (var h = a.vertices, d = a.faces, p = 0, f = d.length; p < f; p++)
                for (var m = d[p], g = 0; g < 3; g++)
                    n = m[c[g]],
                    i = m[c[(g + 1) % 3]],
                    l[0] = Math.min(n, i),
                    l[1] = Math.max(n, i),
                    void 0 === u[r = l[0] + "," + l[1]] ? u[r] = {
                        index1: l[0],
                        index2: l[1],
                        face1: p,
                        face2: void 0
                    } : u[r].face2 = p;
            for (r in u) {
                var v = u[r];
                if (void 0 === v.face2 || d[v.face1].normal.dot(d[v.face2].normal) <= s) {
                    var y = h[v.index1];
                    o.push(y.x, y.y, y.z),
                    y = h[v.index2],
                    o.push(y.x, y.y, y.z)
                }
            }
            this.addAttribute("position", new cr(o,3))
        }
        function yo(e, t, n, i, r, a, o, s) {
            tr.call(this),
            this.type = "CylinderGeometry",
            this.parameters = {
                radiusTop: e,
                radiusBottom: t,
                height: n,
                radialSegments: i,
                heightSegments: r,
                openEnded: a,
                thetaStart: o,
                thetaLength: s
            },
            this.fromBufferGeometry(new bo(e,t,n,i,r,a,o,s)),
            this.mergeVertices()
        }
        function bo(v, y, b, _, w, e, x, T) {
            fr.call(this),
            this.type = "CylinderBufferGeometry",
            this.parameters = {
                radiusTop: v,
                radiusBottom: y,
                height: b,
                radialSegments: _,
                heightSegments: w,
                openEnded: e,
                thetaStart: x,
                thetaLength: T
            };
            var S = this;
            v = void 0 !== v ? v : 20,
            y = void 0 !== y ? y : 20,
            b = void 0 !== b ? b : 100,
            _ = Math.floor(_) || 8,
            w = Math.floor(w) || 1,
            e = void 0 !== e && e,
            x = void 0 !== x ? x : 0,
            T = void 0 !== T ? T : 2 * Math.PI;
            var E = []
              , C = []
              , M = []
              , k = []
              , P = 0
              , A = []
              , I = b / 2
              , L = 0;
            function t(e) {
                var t, n, i, r = new fe, a = new Je, o = 0, s = !0 === e ? v : y, l = !0 === e ? 1 : -1;
                for (n = P,
                t = 1; t <= _; t++)
                    C.push(0, I * l, 0),
                    M.push(0, l, 0),
                    k.push(.5, .5),
                    P++;
                for (i = P,
                t = 0; t <= _; t++) {
                    var u = t / _ * T + x
                      , c = Math.cos(u)
                      , h = Math.sin(u);
                    a.x = s * h,
                    a.y = I * l,
                    a.z = s * c,
                    C.push(a.x, a.y, a.z),
                    M.push(0, l, 0),
                    r.x = .5 * c + .5,
                    r.y = .5 * h * l + .5,
                    k.push(r.x, r.y),
                    P++
                }
                for (t = 0; t < _; t++) {
                    var d = n + t
                      , p = i + t;
                    !0 === e ? E.push(p, p + 1, d) : E.push(p + 1, p, d),
                    o += 3
                }
                S.addGroup(L, o, !0 === e ? 1 : 2),
                L += o
            }
            !function() {
                var e, t, n = new Je, i = new Je, r = 0, a = (y - v) / b;
                for (t = 0; t <= w; t++) {
                    var o = []
                      , s = t / w
                      , l = s * (y - v) + v;
                    for (e = 0; e <= _; e++) {
                        var u = e / _
                          , c = u * T + x
                          , h = Math.sin(c)
                          , d = Math.cos(c);
                        i.x = l * h,
                        i.y = -s * b + I,
                        i.z = l * d,
                        C.push(i.x, i.y, i.z),
                        n.set(h, a, d).normalize(),
                        M.push(n.x, n.y, n.z),
                        k.push(u, 1 - s),
                        o.push(P++)
                    }
                    A.push(o)
                }
                for (e = 0; e < _; e++)
                    for (t = 0; t < w; t++) {
                        var p = A[t][e]
                          , f = A[t + 1][e]
                          , m = A[t + 1][e + 1]
                          , g = A[t][e + 1];
                        E.push(p, f, g),
                        E.push(f, m, g),
                        r += 6
                    }
                S.addGroup(L, r, 0),
                L += r
            }(),
            !1 === e && (0 < v && t(!0),
            0 < y && t(!1)),
            this.setIndex(E),
            this.addAttribute("position", new cr(C,3)),
            this.addAttribute("normal", new cr(M,3)),
            this.addAttribute("uv", new cr(k,2))
        }
        function _o(e, t, n, i, r, a, o) {
            yo.call(this, 0, e, t, n, i, r, a, o),
            this.type = "ConeGeometry",
            this.parameters = {
                radius: e,
                height: t,
                radialSegments: n,
                heightSegments: i,
                openEnded: r,
                thetaStart: a,
                thetaLength: o
            }
        }
        function wo(e, t, n, i, r, a, o) {
            bo.call(this, 0, e, t, n, i, r, a, o),
            this.type = "ConeBufferGeometry",
            this.parameters = {
                radius: e,
                height: t,
                radialSegments: n,
                heightSegments: i,
                openEnded: r,
                thetaStart: a,
                thetaLength: o
            }
        }
        function xo(e, t, n, i) {
            tr.call(this),
            this.type = "CircleGeometry",
            this.parameters = {
                radius: e,
                segments: t,
                thetaStart: n,
                thetaLength: i
            },
            this.fromBufferGeometry(new To(e,t,n,i)),
            this.mergeVertices()
        }
        function To(e, t, n, i) {
            fr.call(this),
            this.type = "CircleBufferGeometry",
            this.parameters = {
                radius: e,
                segments: t,
                thetaStart: n,
                thetaLength: i
            },
            e = e || 50,
            t = void 0 !== t ? Math.max(3, t) : 8,
            n = void 0 !== n ? n : 0,
            i = void 0 !== i ? i : 2 * Math.PI;
            var r, a, o = [], s = [], l = [], u = [], c = new Je, h = new fe;
            for (s.push(0, 0, 0),
            l.push(0, 0, 1),
            u.push(.5, .5),
            a = 0,
            r = 3; a <= t; a++,
            r += 3) {
                var d = n + a / t * i;
                c.x = e * Math.cos(d),
                c.y = e * Math.sin(d),
                s.push(c.x, c.y, c.z),
                l.push(0, 0, 1),
                h.x = (s[r] / e + 1) / 2,
                h.y = (s[r + 1] / e + 1) / 2,
                u.push(h.x, h.y)
            }
            for (r = 1; r <= t; r++)
                o.push(r, r + 1, 0);
            this.setIndex(o),
            this.addAttribute("position", new cr(s,3)),
            this.addAttribute("normal", new cr(l,3)),
            this.addAttribute("uv", new cr(u,2))
        }
        (ro.prototype = Object.create(tr.prototype)).constructor = ro,
        ((ao.prototype = Object.create(fr.prototype)).constructor = ao).prototype.getArrays = function() {
            var e = this.getAttribute("position")
              , t = e ? Array.prototype.slice.call(e.array) : []
              , n = this.getAttribute("uv")
              , i = n ? Array.prototype.slice.call(n.array) : []
              , r = this.index;
            return {
                position: t,
                uv: i,
                index: r ? Array.prototype.slice.call(r.array) : []
            }
        }
        ,
        ao.prototype.addShapeList = function(e, t) {
            var n = e.length;
            t.arrays = this.getArrays();
            for (var i = 0; i < n; i++) {
                var r = e[i];
                this.addShape(r, t)
            }
            this.setIndex(t.arrays.index),
            this.addAttribute("position", new cr(t.arrays.position,3)),
            this.addAttribute("uv", new cr(t.arrays.uv,2))
        }
        ,
        ao.prototype.addShape = function(e, i) {
            var t, n, r, a, o, s, l, u, c = i.arrays ? i.arrays : this.getArrays(), h = c.position, d = c.index, p = c.uv, f = [], m = void 0 !== i.amount ? i.amount : 100, g = void 0 !== i.bevelThickness ? i.bevelThickness : 6, v = void 0 !== i.bevelSize ? i.bevelSize : g - 2, y = void 0 !== i.bevelSegments ? i.bevelSegments : 3, b = void 0 === i.bevelEnabled || i.bevelEnabled, _ = void 0 !== i.curveSegments ? i.curveSegments : 12, w = void 0 !== i.steps ? i.steps : 1, x = i.extrudePath, T = !1, S = void 0 !== i.UVGenerator ? i.UVGenerator : ro.WorldUVGenerator;
            x && (t = x.getSpacedPoints(w),
            b = !(T = !0),
            n = void 0 !== i.frames ? i.frames : x.computeFrenetFrames(w, !1),
            r = new Je,
            a = new Je,
            o = new Je),
            b || (v = g = y = 0);
            var E = this
              , C = e.extractPoints(_)
              , M = C.shape
              , k = C.holes;
            if (!no.isClockWise(M))
                for (M = M.reverse(),
                l = 0,
                u = k.length; l < u; l++)
                    s = k[l],
                    no.isClockWise(s) && (k[l] = s.reverse());
            var P = no.triangulateShape(M, k)
              , A = M;
            for (l = 0,
            u = k.length; l < u; l++)
                s = k[l],
                M = M.concat(s);
            function I(e, t, n) {
                return t || console.error("THREE.ExtrudeGeometry: vec does not exist"),
                t.clone().multiplyScalar(n).add(e)
            }
            var L, O, R, D, N, F, B = M.length, U = P.length;
            function j(e, t, n) {
                var i, r, a, o = e.x - t.x, s = e.y - t.y, l = n.x - e.x, u = n.y - e.y, c = o * o + s * s, h = o * u - s * l;
                if (Math.abs(h) > Number.EPSILON) {
                    var d = Math.sqrt(c)
                      , p = Math.sqrt(l * l + u * u)
                      , f = t.x - s / d
                      , m = t.y + o / d
                      , g = ((n.x - u / p - f) * u - (n.y + l / p - m) * l) / (o * u - s * l)
                      , v = (i = f + o * g - e.x) * i + (r = m + s * g - e.y) * r;
                    if (v <= 2)
                        return new fe(i,r);
                    a = Math.sqrt(v / 2)
                } else {
                    var y = !1;
                    o > Number.EPSILON ? l > Number.EPSILON && (y = !0) : o < -Number.EPSILON ? l < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(u) && (y = !0),
                    a = y ? (i = -s,
                    r = o,
                    Math.sqrt(c)) : (i = o,
                    r = s,
                    Math.sqrt(c / 2))
                }
                return new fe(i / a,r / a)
            }
            for (var z = [], H = 0, V = A.length, G = V - 1, W = H + 1; H < V; H++,
            G++,
            W++)
                G === V && (G = 0),
                W === V && (W = 0),
                z[H] = j(A[H], A[G], A[W]);
            var q, $, X = [], Y = z.concat();
            for (l = 0,
            u = k.length; l < u; l++) {
                for (s = k[l],
                q = [],
                H = 0,
                G = (V = s.length) - 1,
                W = H + 1; H < V; H++,
                G++,
                W++)
                    G === V && (G = 0),
                    W === V && (W = 0),
                    q[H] = j(s[H], s[G], s[W]);
                X.push(q),
                Y = Y.concat(q)
            }
            for (L = 0; L < y; L++) {
                for (R = L / y,
                D = g * Math.cos(R * Math.PI / 2),
                O = v * Math.sin(R * Math.PI / 2),
                H = 0,
                V = A.length; H < V; H++)
                    Z((N = I(A[H], z[H], O)).x, N.y, -D);
                for (l = 0,
                u = k.length; l < u; l++)
                    for (s = k[l],
                    q = X[l],
                    H = 0,
                    V = s.length; H < V; H++)
                        Z((N = I(s[H], q[H], O)).x, N.y, -D)
            }
            for (O = v,
            H = 0; H < B; H++)
                N = b ? I(M[H], Y[H], O) : M[H],
                T ? (a.copy(n.normals[0]).multiplyScalar(N.x),
                r.copy(n.binormals[0]).multiplyScalar(N.y),
                o.copy(t[0]).add(a).add(r),
                Z(o.x, o.y, o.z)) : Z(N.x, N.y, 0);
            for ($ = 1; $ <= w; $++)
                for (H = 0; H < B; H++)
                    N = b ? I(M[H], Y[H], O) : M[H],
                    T ? (a.copy(n.normals[$]).multiplyScalar(N.x),
                    r.copy(n.binormals[$]).multiplyScalar(N.y),
                    o.copy(t[$]).add(a).add(r),
                    Z(o.x, o.y, o.z)) : Z(N.x, N.y, m / w * $);
            for (L = y - 1; 0 <= L; L--) {
                for (R = L / y,
                D = g * Math.cos(R * Math.PI / 2),
                O = v * Math.sin(R * Math.PI / 2),
                H = 0,
                V = A.length; H < V; H++)
                    Z((N = I(A[H], z[H], O)).x, N.y, m + D);
                for (l = 0,
                u = k.length; l < u; l++)
                    for (s = k[l],
                    q = X[l],
                    H = 0,
                    V = s.length; H < V; H++)
                        N = I(s[H], q[H], O),
                        T ? Z(N.x, N.y + t[w - 1].y, t[w - 1].x + D) : Z(N.x, N.y, m + D)
            }
            function K(e, t) {
                var n, i;
                for (H = e.length; 0 <= --H; ) {
                    (i = (n = H) - 1) < 0 && (i = e.length - 1);
                    var r = 0
                      , a = w + 2 * y;
                    for (r = 0; r < a; r++) {
                        var o = B * r
                          , s = B * (r + 1);
                        J(t + n + o, t + i + o, t + i + s, t + n + s, e, r, a, n, i)
                    }
                }
            }
            function Z(e, t, n) {
                f.push(e),
                f.push(t),
                f.push(n)
            }
            function Q(e, t, n) {
                ee(e),
                ee(t),
                ee(n);
                var i = h.length / 3
                  , r = S.generateTopUV(E, h, i - 3, i - 2, i - 1);
                te(r[0]),
                te(r[1]),
                te(r[2])
            }
            function J(e, t, n, i) {
                ee(e),
                ee(t),
                ee(i),
                ee(t),
                ee(n),
                ee(i);
                var r = h.length / 3
                  , a = S.generateSideWallUV(E, h, r - 6, r - 3, r - 2, r - 1);
                te(a[0]),
                te(a[1]),
                te(a[3]),
                te(a[1]),
                te(a[2]),
                te(a[3])
            }
            function ee(e) {
                d.push(h.length / 3),
                h.push(f[3 * e + 0]),
                h.push(f[3 * e + 1]),
                h.push(f[3 * e + 2])
            }
            function te(e) {
                p.push(e.x),
                p.push(e.y)
            }
            !function() {
                var e = h.length / 3;
                if (b) {
                    var t = 0
                      , n = B * t;
                    for (H = 0; H < U; H++)
                        Q((F = P[H])[2] + n, F[1] + n, F[0] + n);
                    for (n = B * (t = w + 2 * y),
                    H = 0; H < U; H++)
                        Q((F = P[H])[0] + n, F[1] + n, F[2] + n)
                } else {
                    for (H = 0; H < U; H++)
                        Q((F = P[H])[2], F[1], F[0]);
                    for (H = 0; H < U; H++)
                        Q((F = P[H])[0] + B * w, F[1] + B * w, F[2] + B * w)
                }
                E.addGroup(e, h.length / 3 - e, void 0 !== i.material ? i.material : 0)
            }(),
            function() {
                var e = h.length / 3
                  , t = 0;
                for (K(A, t),
                t += A.length,
                l = 0,
                u = k.length; l < u; l++)
                    K(s = k[l], t),
                    t += s.length;
                E.addGroup(e, h.length / 3 - e, void 0 !== i.extrudeMaterial ? i.extrudeMaterial : 1)
            }(),
            i.arrays || (this.setIndex(d),
            this.addAttribute("position", new cr(h,3)),
            this.addAttribute("uv", new cr(i.arrays.uv,2)))
        }
        ,
        ro.WorldUVGenerator = {
            generateTopUV: function(e, t, n, i, r) {
                var a = t[3 * n]
                  , o = t[3 * n + 1]
                  , s = t[3 * i]
                  , l = t[3 * i + 1]
                  , u = t[3 * r]
                  , c = t[3 * r + 1];
                return [new fe(a,o), new fe(s,l), new fe(u,c)]
            },
            generateSideWallUV: function(e, t, n, i, r, a) {
                var o = t[3 * n]
                  , s = t[3 * n + 1]
                  , l = t[3 * n + 2]
                  , u = t[3 * i]
                  , c = t[3 * i + 1]
                  , h = t[3 * i + 2]
                  , d = t[3 * r]
                  , p = t[3 * r + 1]
                  , f = t[3 * r + 2]
                  , m = t[3 * a]
                  , g = t[3 * a + 1]
                  , v = t[3 * a + 2];
                return Math.abs(s - c) < .01 ? [new fe(o,1 - l), new fe(u,1 - h), new fe(d,1 - f), new fe(m,1 - v)] : [new fe(s,1 - l), new fe(c,1 - h), new fe(p,1 - f), new fe(g,1 - v)]
            }
        },
        (oo.prototype = Object.create(tr.prototype)).constructor = oo,
        (so.prototype = Object.create(ao.prototype)).constructor = so,
        (lo.prototype = Object.create(tr.prototype)).constructor = lo,
        (uo.prototype = Object.create(fr.prototype)).constructor = uo,
        (co.prototype = Object.create(tr.prototype)).constructor = co,
        (ho.prototype = Object.create(fr.prototype)).constructor = ho,
        (po.prototype = Object.create(tr.prototype)).constructor = po,
        (fo.prototype = Object.create(fr.prototype)).constructor = fo,
        (mo.prototype = Object.create(tr.prototype)).constructor = mo,
        (go.prototype = Object.create(fr.prototype)).constructor = go,
        (vo.prototype = Object.create(fr.prototype)).constructor = vo,
        (yo.prototype = Object.create(tr.prototype)).constructor = yo,
        (bo.prototype = Object.create(fr.prototype)).constructor = bo,
        (_o.prototype = Object.create(yo.prototype)).constructor = _o,
        (wo.prototype = Object.create(bo.prototype)).constructor = wo,
        (xo.prototype = Object.create(tr.prototype)).constructor = xo,
        (To.prototype = Object.create(fr.prototype)).constructor = To;
        var So = Object.freeze({
            WireframeGeometry: Fa,
            ParametricGeometry: Ba,
            ParametricBufferGeometry: Ua,
            TetrahedronGeometry: Ha,
            TetrahedronBufferGeometry: Va,
            OctahedronGeometry: Ga,
            OctahedronBufferGeometry: Wa,
            IcosahedronGeometry: qa,
            IcosahedronBufferGeometry: $a,
            DodecahedronGeometry: Xa,
            DodecahedronBufferGeometry: Ya,
            PolyhedronGeometry: ja,
            PolyhedronBufferGeometry: za,
            TubeGeometry: Ka,
            TubeBufferGeometry: Za,
            TorusKnotGeometry: Qa,
            TorusKnotBufferGeometry: Ja,
            TorusGeometry: eo,
            TorusBufferGeometry: to,
            TextGeometry: oo,
            TextBufferGeometry: so,
            SphereGeometry: lo,
            SphereBufferGeometry: uo,
            RingGeometry: co,
            RingBufferGeometry: ho,
            PlaneGeometry: vr,
            PlaneBufferGeometry: yr,
            LatheGeometry: po,
            LatheBufferGeometry: fo,
            ShapeGeometry: mo,
            ShapeBufferGeometry: go,
            ExtrudeGeometry: ro,
            ExtrudeBufferGeometry: ao,
            EdgesGeometry: vo,
            ConeGeometry: _o,
            ConeBufferGeometry: wo,
            CylinderGeometry: yo,
            CylinderBufferGeometry: bo,
            CircleGeometry: xo,
            CircleBufferGeometry: To,
            BoxGeometry: mr,
            BoxBufferGeometry: gr
        });
        function Eo(e) {
            _n.call(this, {
                uniforms: qt.merge([Wt.lights, {
                    opacity: {
                        value: 1
                    }
                }]),
                vertexShader: $t.shadow_vert,
                fragmentShader: $t.shadow_frag
            }),
            this.lights = !0,
            this.transparent = !0,
            Object.defineProperties(this, {
                opacity: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.opacity.value
                    },
                    set: function(e) {
                        this.uniforms.opacity.value = e
                    }
                }
            }),
            this.setValues(e)
        }
        function Co(e) {
            _n.call(this, e),
            this.type = "RawShaderMaterial"
        }
        function Mo(e) {
            bn.call(this),
            this.defines = {
                STANDARD: ""
            },
            this.type = "MeshStandardMaterial",
            this.color = new zt(16777215),
            this.roughness = .5,
            this.metalness = .5,
            this.map = null,
            this.lightMap = null,
            this.lightMapIntensity = 1,
            this.aoMap = null,
            this.aoMapIntensity = 1,
            this.emissive = new zt(0),
            this.emissiveIntensity = 1,
            this.emissiveMap = null,
            this.bumpMap = null,
            this.bumpScale = 1,
            this.normalMap = null,
            this.normalScale = new fe(1,1),
            this.displacementMap = null,
            this.displacementScale = 1,
            this.displacementBias = 0,
            this.roughnessMap = null,
            this.metalnessMap = null,
            this.alphaMap = null,
            this.envMap = null,
            this.envMapIntensity = 1,
            this.refractionRatio = .98,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.wireframeLinecap = "round",
            this.wireframeLinejoin = "round",
            this.skinning = !1,
            this.morphTargets = !1,
            this.morphNormals = !1,
            this.setValues(e)
        }
        function ko(e) {
            Mo.call(this),
            this.defines = {
                PHYSICAL: ""
            },
            this.type = "MeshPhysicalMaterial",
            this.reflectivity = .5,
            this.clearCoat = 0,
            this.clearCoatRoughness = 0,
            this.setValues(e)
        }
        function Po(e) {
            bn.call(this),
            this.type = "MeshPhongMaterial",
            this.color = new zt(16777215),
            this.specular = new zt(1118481),
            this.shininess = 30,
            this.map = null,
            this.lightMap = null,
            this.lightMapIntensity = 1,
            this.aoMap = null,
            this.aoMapIntensity = 1,
            this.emissive = new zt(0),
            this.emissiveIntensity = 1,
            this.emissiveMap = null,
            this.bumpMap = null,
            this.bumpScale = 1,
            this.normalMap = null,
            this.normalScale = new fe(1,1),
            this.displacementMap = null,
            this.displacementScale = 1,
            this.displacementBias = 0,
            this.specularMap = null,
            this.alphaMap = null,
            this.envMap = null,
            this.combine = L,
            this.reflectivity = 1,
            this.refractionRatio = .98,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.wireframeLinecap = "round",
            this.wireframeLinejoin = "round",
            this.skinning = !1,
            this.morphTargets = !1,
            this.morphNormals = !1,
            this.setValues(e)
        }
        function Ao(e) {
            Po.call(this),
            this.defines = {
                TOON: ""
            },
            this.type = "MeshToonMaterial",
            this.gradientMap = null,
            this.setValues(e)
        }
        function Io(e) {
            bn.call(this),
            this.type = "MeshNormalMaterial",
            this.bumpMap = null,
            this.bumpScale = 1,
            this.normalMap = null,
            this.normalScale = new fe(1,1),
            this.displacementMap = null,
            this.displacementScale = 1,
            this.displacementBias = 0,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.fog = !1,
            this.lights = !1,
            this.skinning = !1,
            this.morphTargets = !1,
            this.morphNormals = !1,
            this.setValues(e)
        }
        function Lo(e) {
            bn.call(this),
            this.type = "MeshLambertMaterial",
            this.color = new zt(16777215),
            this.map = null,
            this.lightMap = null,
            this.lightMapIntensity = 1,
            this.aoMap = null,
            this.aoMapIntensity = 1,
            this.emissive = new zt(0),
            this.emissiveIntensity = 1,
            this.emissiveMap = null,
            this.specularMap = null,
            this.alphaMap = null,
            this.envMap = null,
            this.combine = L,
            this.reflectivity = 1,
            this.refractionRatio = .98,
            this.wireframe = !1,
            this.wireframeLinewidth = 1,
            this.wireframeLinecap = "round",
            this.wireframeLinejoin = "round",
            this.skinning = !1,
            this.morphTargets = !1,
            this.morphNormals = !1,
            this.setValues(e)
        }
        function Oo(e) {
            bn.call(this),
            this.type = "LineDashedMaterial",
            this.color = new zt(16777215),
            this.linewidth = 1,
            this.scale = 1,
            this.dashSize = 3,
            this.gapSize = 1,
            this.lights = !1,
            this.setValues(e)
        }
        ((Eo.prototype = Object.create(_n.prototype)).constructor = Eo).prototype.isShadowMaterial = !0,
        ((Co.prototype = Object.create(_n.prototype)).constructor = Co).prototype.isRawShaderMaterial = !0,
        ((Mo.prototype = Object.create(bn.prototype)).constructor = Mo).prototype.isMeshStandardMaterial = !0,
        Mo.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.defines = {
                STANDARD: ""
            },
            this.color.copy(e.color),
            this.roughness = e.roughness,
            this.metalness = e.metalness,
            this.map = e.map,
            this.lightMap = e.lightMap,
            this.lightMapIntensity = e.lightMapIntensity,
            this.aoMap = e.aoMap,
            this.aoMapIntensity = e.aoMapIntensity,
            this.emissive.copy(e.emissive),
            this.emissiveMap = e.emissiveMap,
            this.emissiveIntensity = e.emissiveIntensity,
            this.bumpMap = e.bumpMap,
            this.bumpScale = e.bumpScale,
            this.normalMap = e.normalMap,
            this.normalScale.copy(e.normalScale),
            this.displacementMap = e.displacementMap,
            this.displacementScale = e.displacementScale,
            this.displacementBias = e.displacementBias,
            this.roughnessMap = e.roughnessMap,
            this.metalnessMap = e.metalnessMap,
            this.alphaMap = e.alphaMap,
            this.envMap = e.envMap,
            this.envMapIntensity = e.envMapIntensity,
            this.refractionRatio = e.refractionRatio,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.wireframeLinecap = e.wireframeLinecap,
            this.wireframeLinejoin = e.wireframeLinejoin,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.morphNormals = e.morphNormals,
            this
        }
        ,
        ((ko.prototype = Object.create(Mo.prototype)).constructor = ko).prototype.isMeshPhysicalMaterial = !0,
        ko.prototype.copy = function(e) {
            return Mo.prototype.copy.call(this, e),
            this.defines = {
                PHYSICAL: ""
            },
            this.reflectivity = e.reflectivity,
            this.clearCoat = e.clearCoat,
            this.clearCoatRoughness = e.clearCoatRoughness,
            this
        }
        ,
        ((Po.prototype = Object.create(bn.prototype)).constructor = Po).prototype.isMeshPhongMaterial = !0,
        Po.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.specular.copy(e.specular),
            this.shininess = e.shininess,
            this.map = e.map,
            this.lightMap = e.lightMap,
            this.lightMapIntensity = e.lightMapIntensity,
            this.aoMap = e.aoMap,
            this.aoMapIntensity = e.aoMapIntensity,
            this.emissive.copy(e.emissive),
            this.emissiveMap = e.emissiveMap,
            this.emissiveIntensity = e.emissiveIntensity,
            this.bumpMap = e.bumpMap,
            this.bumpScale = e.bumpScale,
            this.normalMap = e.normalMap,
            this.normalScale.copy(e.normalScale),
            this.displacementMap = e.displacementMap,
            this.displacementScale = e.displacementScale,
            this.displacementBias = e.displacementBias,
            this.specularMap = e.specularMap,
            this.alphaMap = e.alphaMap,
            this.envMap = e.envMap,
            this.combine = e.combine,
            this.reflectivity = e.reflectivity,
            this.refractionRatio = e.refractionRatio,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.wireframeLinecap = e.wireframeLinecap,
            this.wireframeLinejoin = e.wireframeLinejoin,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.morphNormals = e.morphNormals,
            this
        }
        ,
        ((Ao.prototype = Object.create(Po.prototype)).constructor = Ao).prototype.isMeshToonMaterial = !0,
        Ao.prototype.copy = function(e) {
            return Po.prototype.copy.call(this, e),
            this.gradientMap = e.gradientMap,
            this
        }
        ,
        ((Io.prototype = Object.create(bn.prototype)).constructor = Io).prototype.isMeshNormalMaterial = !0,
        Io.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.bumpMap = e.bumpMap,
            this.bumpScale = e.bumpScale,
            this.normalMap = e.normalMap,
            this.normalScale.copy(e.normalScale),
            this.displacementMap = e.displacementMap,
            this.displacementScale = e.displacementScale,
            this.displacementBias = e.displacementBias,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.morphNormals = e.morphNormals,
            this
        }
        ,
        ((Lo.prototype = Object.create(bn.prototype)).constructor = Lo).prototype.isMeshLambertMaterial = !0,
        Lo.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.map = e.map,
            this.lightMap = e.lightMap,
            this.lightMapIntensity = e.lightMapIntensity,
            this.aoMap = e.aoMap,
            this.aoMapIntensity = e.aoMapIntensity,
            this.emissive.copy(e.emissive),
            this.emissiveMap = e.emissiveMap,
            this.emissiveIntensity = e.emissiveIntensity,
            this.specularMap = e.specularMap,
            this.alphaMap = e.alphaMap,
            this.envMap = e.envMap,
            this.combine = e.combine,
            this.reflectivity = e.reflectivity,
            this.refractionRatio = e.refractionRatio,
            this.wireframe = e.wireframe,
            this.wireframeLinewidth = e.wireframeLinewidth,
            this.wireframeLinecap = e.wireframeLinecap,
            this.wireframeLinejoin = e.wireframeLinejoin,
            this.skinning = e.skinning,
            this.morphTargets = e.morphTargets,
            this.morphNormals = e.morphNormals,
            this
        }
        ,
        ((Oo.prototype = Object.create(bn.prototype)).constructor = Oo).prototype.isLineDashedMaterial = !0,
        Oo.prototype.copy = function(e) {
            return bn.prototype.copy.call(this, e),
            this.color.copy(e.color),
            this.linewidth = e.linewidth,
            this.scale = e.scale,
            this.dashSize = e.dashSize,
            this.gapSize = e.gapSize,
            this
        }
        ;
        var Ro = Object.freeze({
            ShadowMaterial: Eo,
            SpriteMaterial: _a,
            RawShaderMaterial: Co,
            ShaderMaterial: _n,
            PointsMaterial: Aa,
            MeshPhysicalMaterial: ko,
            MeshStandardMaterial: Mo,
            MeshPhongMaterial: Po,
            MeshToonMaterial: Ao,
            MeshNormalMaterial: Io,
            MeshLambertMaterial: Lo,
            MeshDepthMaterial: wn,
            MeshBasicMaterial: br,
            LineDashedMaterial: Oo,
            LineBasicMaterial: Ca,
            Material: bn
        })
          , Do = {
            enabled: !1,
            files: {},
            add: function(e, t) {
                !1 !== this.enabled && (this.files[e] = t)
            },
            get: function(e) {
                if (!1 !== this.enabled)
                    return this.files[e]
            },
            remove: function(e) {
                delete this.files[e]
            },
            clear: function() {
                this.files = {}
            }
        };
        function No(e, t, n) {
            var i = this
              , r = !1
              , a = 0
              , o = 0;
            this.onStart = void 0,
            this.onLoad = e,
            this.onProgress = t,
            this.onError = n,
            this.itemStart = function(e) {
                o++,
                !1 === r && void 0 !== i.onStart && i.onStart(e, a, o),
                r = !0
            }
            ,
            this.itemEnd = function(e) {
                a++,
                void 0 !== i.onProgress && i.onProgress(e, a, o),
                a === o && (r = !1,
                void 0 !== i.onLoad && i.onLoad())
            }
            ,
            this.itemError = function(e) {
                void 0 !== i.onError && i.onError(e)
            }
        }
        var Fo = new No;
        function Bo(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        function Uo(e) {
            this.manager = void 0 !== e ? e : Fo,
            this._parser = null
        }
        function jo(e) {
            this.manager = void 0 !== e ? e : Fo,
            this._parser = null
        }
        function zo(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        function Ho(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        function Vo(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        function Go(e, t) {
            Yn.call(this),
            this.type = "Light",
            this.color = new zt(e),
            this.intensity = void 0 !== t ? t : 1,
            this.receiveShadow = void 0
        }
        function Wo(e, t, n) {
            Go.call(this, e, n),
            this.type = "HemisphereLight",
            this.castShadow = void 0,
            this.position.copy(Yn.DefaultUp),
            this.updateMatrix(),
            this.groundColor = new zt(t)
        }
        function qo(e) {
            this.camera = e,
            this.bias = 0,
            this.radius = 1,
            this.mapSize = new fe(512,512),
            this.map = null,
            this.matrix = new et
        }
        function $o() {
            qo.call(this, new Qn(50,1,.5,500))
        }
        function Xo(e, t, n, i, r, a) {
            Go.call(this, e, t),
            this.type = "SpotLight",
            this.position.copy(Yn.DefaultUp),
            this.updateMatrix(),
            this.target = new Yn,
            Object.defineProperty(this, "power", {
                get: function() {
                    return this.intensity * Math.PI
                },
                set: function(e) {
                    this.intensity = e / Math.PI
                }
            }),
            this.distance = void 0 !== n ? n : 0,
            this.angle = void 0 !== i ? i : Math.PI / 3,
            this.penumbra = void 0 !== r ? r : 0,
            this.decay = void 0 !== a ? a : 1,
            this.shadow = new $o
        }
        function Yo(e, t, n, i) {
            Go.call(this, e, t),
            this.type = "PointLight",
            Object.defineProperty(this, "power", {
                get: function() {
                    return 4 * this.intensity * Math.PI
                },
                set: function(e) {
                    this.intensity = e / (4 * Math.PI)
                }
            }),
            this.distance = void 0 !== n ? n : 0,
            this.decay = void 0 !== i ? i : 1,
            this.shadow = new qo(new Qn(90,1,.5,500))
        }
        function Ko() {
            qo.call(this, new Zn(-5,5,5,-5,.5,500))
        }
        function Zo(e, t) {
            Go.call(this, e, t),
            this.type = "DirectionalLight",
            this.position.copy(Yn.DefaultUp),
            this.updateMatrix(),
            this.target = new Yn,
            this.shadow = new Ko
        }
        function Qo(e, t) {
            Go.call(this, e, t),
            this.type = "AmbientLight",
            this.castShadow = void 0
        }
        function Jo(e, t, n, i) {
            Go.call(this, e, t),
            this.type = "RectAreaLight",
            this.position.set(0, 1, 0),
            this.updateMatrix(),
            this.width = void 0 !== n ? n : 10,
            this.height = void 0 !== i ? i : 10
        }
        Object.assign(Bo.prototype, {
            load: function(n, i, t, r) {
                void 0 === n && (n = ""),
                void 0 !== this.path && (n = this.path + n);
                var a = this
                  , e = Do.get(n);
                if (void 0 !== e)
                    return a.manager.itemStart(n),
                    setTimeout(function() {
                        i && i(e),
                        a.manager.itemEnd(n)
                    }, 0),
                    e;
                var o = n.match(/^data:(.*?)(;base64)?,(.*)$/);
                if (o) {
                    var s = o[1]
                      , l = !!o[2]
                      , u = o[3];
                    u = window.decodeURIComponent(u),
                    l && (u = window.atob(u));
                    try {
                        var c, h = (this.responseType || "").toLowerCase();
                        switch (h) {
                        case "arraybuffer":
                        case "blob":
                            c = new ArrayBuffer(u.length);
                            for (var d = new Uint8Array(c), p = 0; p < u.length; p++)
                                d[p] = u.charCodeAt(p);
                            "blob" === h && (c = new Blob([c],{
                                type: s
                            }));
                            break;
                        case "document":
                            var f = new DOMParser;
                            c = f.parseFromString(u, s);
                            break;
                        case "json":
                            c = JSON.parse(u);
                            break;
                        default:
                            c = u
                        }
                        window.setTimeout(function() {
                            i && i(c),
                            a.manager.itemEnd(n)
                        }, 0)
                    } catch (e) {
                        window.setTimeout(function() {
                            r && r(e),
                            a.manager.itemEnd(n),
                            a.manager.itemError(n)
                        }, 0)
                    }
                } else {
                    var m = new XMLHttpRequest;
                    for (var g in m.open("GET", n, !0),
                    m.addEventListener("load", function(e) {
                        var t = e.target.response;
                        Do.add(n, t),
                        200 === this.status ? (i && i(t),
                        a.manager.itemEnd(n)) : 0 === this.status ? (console.warn("THREE.FileLoader: HTTP Status 0 received."),
                        i && i(t),
                        a.manager.itemEnd(n)) : (r && r(e),
                        a.manager.itemEnd(n),
                        a.manager.itemError(n))
                    }, !1),
                    void 0 !== t && m.addEventListener("progress", function(e) {
                        t(e)
                    }, !1),
                    m.addEventListener("error", function(e) {
                        r && r(e),
                        a.manager.itemEnd(n),
                        a.manager.itemError(n)
                    }, !1),
                    void 0 !== this.responseType && (m.responseType = this.responseType),
                    void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials),
                    m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"),
                    this.requestHeader)
                        m.setRequestHeader(g, this.requestHeader[g]);
                    m.send(null)
                }
                return a.manager.itemStart(n),
                m
            },
            setPath: function(e) {
                return this.path = e,
                this
            },
            setResponseType: function(e) {
                return this.responseType = e,
                this
            },
            setWithCredentials: function(e) {
                return this.withCredentials = e,
                this
            },
            setMimeType: function(e) {
                return this.mimeType = e,
                this
            },
            setRequestHeader: function(e) {
                return this.requestHeader = e,
                this
            }
        }),
        Object.assign(Uo.prototype, {
            load: function(e, a, t, i) {
                var o = this
                  , s = []
                  , l = new Ra;
                l.image = s;
                var r = new Bo(this.manager);
                function n(n) {
                    r.load(e[n], function(e) {
                        var t = o._parser(e, !0);
                        s[n] = {
                            width: t.width,
                            height: t.height,
                            format: t.format,
                            mipmaps: t.mipmaps
                        },
                        6 === (u += 1) && (1 === t.mipmapCount && (l.minFilter = Be),
                        l.format = t.format,
                        l.needsUpdate = !0,
                        a && a(l))
                    }, t, i)
                }
                if (r.setPath(this.path),
                r.setResponseType("arraybuffer"),
                Array.isArray(e))
                    for (var u = 0, c = 0, h = e.length; c < h; ++c)
                        n(c);
                else
                    r.load(e, function(e) {
                        var t = o._parser(e, !0);
                        if (t.isCubemap)
                            for (var n = t.mipmaps.length / t.mipmapCount, i = 0; i < n; i++) {
                                s[i] = {
                                    mipmaps: []
                                };
                                for (var r = 0; r < t.mipmapCount; r++)
                                    s[i].mipmaps.push(t.mipmaps[i * t.mipmapCount + r]),
                                    s[i].format = t.format,
                                    s[i].width = t.width,
                                    s[i].height = t.height
                            }
                        else
                            l.image.width = t.width,
                            l.image.height = t.height,
                            l.mipmaps = t.mipmaps;
                        1 === t.mipmapCount && (l.minFilter = Be),
                        l.format = t.format,
                        l.needsUpdate = !0,
                        a && a(l)
                    }, t, i);
                return l
            },
            setPath: function(e) {
                return this.path = e,
                this
            }
        }),
        Object.assign(jo.prototype, {
            load: function(e, n, t, i) {
                var r = this
                  , a = new tt
                  , o = new Bo(this.manager);
                return o.setResponseType("arraybuffer"),
                o.load(e, function(e) {
                    var t = r._parser(e);
                    t && (void 0 !== t.image ? a.image = t.image : void 0 !== t.data && (a.image.width = t.width,
                    a.image.height = t.height,
                    a.image.data = t.data),
                    a.wrapS = void 0 !== t.wrapS ? t.wrapS : Re,
                    a.wrapT = void 0 !== t.wrapT ? t.wrapT : Re,
                    a.magFilter = void 0 !== t.magFilter ? t.magFilter : Be,
                    a.minFilter = void 0 !== t.minFilter ? t.minFilter : Ue,
                    a.anisotropy = void 0 !== t.anisotropy ? t.anisotropy : 1,
                    void 0 !== t.format && (a.format = t.format),
                    void 0 !== t.type && (a.type = t.type),
                    void 0 !== t.mipmaps && (a.mipmaps = t.mipmaps),
                    1 === t.mipmapCount && (a.minFilter = Be),
                    a.needsUpdate = !0,
                    n && n(a, t))
                }, t, i),
                a
            }
        }),
        Object.assign(zo.prototype, {
            load: function(t, e, n, i) {
                void 0 === t && (t = ""),
                void 0 !== this.path && (t = this.path + t);
                var r = this
                  , a = Do.get(t);
                if (void 0 !== a)
                    return r.manager.itemStart(t),
                    setTimeout(function() {
                        e && e(a),
                        r.manager.itemEnd(t)
                    }, 0),
                    a;
                var o = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
                return o.addEventListener("load", function() {
                    Do.add(t, this),
                    e && e(this),
                    r.manager.itemEnd(t)
                }, !1),
                o.addEventListener("error", function(e) {
                    i && i(e),
                    r.manager.itemEnd(t),
                    r.manager.itemError(t)
                }, !1),
                "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (o.crossOrigin = this.crossOrigin),
                r.manager.itemStart(t),
                o.src = t,
                o
            },
            setCrossOrigin: function(e) {
                return this.crossOrigin = e,
                this
            },
            setPath: function(e) {
                return this.path = e,
                this
            }
        }),
        Object.assign(Ho.prototype, {
            load: function(e, n, t, i) {
                var r = new Ce
                  , a = new zo(this.manager);
                a.setCrossOrigin(this.crossOrigin),
                a.setPath(this.path);
                var o = 0;
                function s(t) {
                    a.load(e[t], function(e) {
                        r.images[t] = e,
                        6 === ++o && (r.needsUpdate = !0,
                        n && n(r))
                    }, void 0, i)
                }
                for (var l = 0; l < e.length; ++l)
                    s(l);
                return r
            },
            setCrossOrigin: function(e) {
                return this.crossOrigin = e,
                this
            },
            setPath: function(e) {
                return this.path = e,
                this
            }
        }),
        Object.assign(Vo.prototype, {
            load: function(t, n, e, i) {
                var r = new zo(this.manager);
                r.setCrossOrigin(this.crossOrigin),
                r.setPath(this.path);
                var a = new xe;
                return a.image = r.load(t, function() {
                    var e = 0 < t.search(/\.(jpg|jpeg)$/) || 0 === t.search(/^data\:image\/jpeg/);
                    a.format = e ? qe : $e,
                    a.needsUpdate = !0,
                    void 0 !== n && n(a)
                }, e, i),
                a
            },
            setCrossOrigin: function(e) {
                return this.crossOrigin = e,
                this
            },
            setPath: function(e) {
                return this.path = e,
                this
            }
        }),
        Go.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: Go,
            isLight: !0,
            copy: function(e) {
                return Yn.prototype.copy.call(this, e),
                this.color.copy(e.color),
                this.intensity = e.intensity,
                this
            },
            toJSON: function(e) {
                var t = Yn.prototype.toJSON.call(this, e);
                return t.object.color = this.color.getHex(),
                t.object.intensity = this.intensity,
                void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()),
                void 0 !== this.distance && (t.object.distance = this.distance),
                void 0 !== this.angle && (t.object.angle = this.angle),
                void 0 !== this.decay && (t.object.decay = this.decay),
                void 0 !== this.penumbra && (t.object.penumbra = this.penumbra),
                void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()),
                t
            }
        }),
        Wo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Wo,
            isHemisphereLight: !0,
            copy: function(e) {
                return Go.prototype.copy.call(this, e),
                this.groundColor.copy(e.groundColor),
                this
            }
        }),
        Object.assign(qo.prototype, {
            copy: function(e) {
                return this.camera = e.camera.clone(),
                this.bias = e.bias,
                this.radius = e.radius,
                this.mapSize.copy(e.mapSize),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            toJSON: function() {
                var e = {};
                return 0 !== this.bias && (e.bias = this.bias),
                1 !== this.radius && (e.radius = this.radius),
                512 === this.mapSize.x && 512 === this.mapSize.y || (e.mapSize = this.mapSize.toArray()),
                e.camera = this.camera.toJSON(!1).object,
                delete e.camera.matrix,
                e
            }
        }),
        $o.prototype = Object.assign(Object.create(qo.prototype), {
            constructor: $o,
            isSpotLightShadow: !0,
            update: function(e) {
                var t = this.camera
                  , n = 2 * Ze.RAD2DEG * e.angle
                  , i = this.mapSize.width / this.mapSize.height
                  , r = e.distance || t.far;
                n === t.fov && i === t.aspect && r === t.far || (t.fov = n,
                t.aspect = i,
                t.far = r,
                t.updateProjectionMatrix())
            }
        }),
        Xo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Xo,
            isSpotLight: !0,
            copy: function(e) {
                return Go.prototype.copy.call(this, e),
                this.distance = e.distance,
                this.angle = e.angle,
                this.penumbra = e.penumbra,
                this.decay = e.decay,
                this.target = e.target.clone(),
                this.shadow = e.shadow.clone(),
                this
            }
        }),
        Yo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Yo,
            isPointLight: !0,
            copy: function(e) {
                return Go.prototype.copy.call(this, e),
                this.distance = e.distance,
                this.decay = e.decay,
                this.shadow = e.shadow.clone(),
                this
            }
        }),
        Ko.prototype = Object.assign(Object.create(qo.prototype), {
            constructor: Ko
        }),
        Zo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Zo,
            isDirectionalLight: !0,
            copy: function(e) {
                return Go.prototype.copy.call(this, e),
                this.target = e.target.clone(),
                this.shadow = e.shadow.clone(),
                this
            }
        }),
        Qo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Qo,
            isAmbientLight: !0
        }),
        Jo.prototype = Object.assign(Object.create(Go.prototype), {
            constructor: Jo,
            isRectAreaLight: !0,
            copy: function(e) {
                return Go.prototype.copy.call(this, e),
                this.width = e.width,
                this.height = e.height,
                this
            },
            toJSON: function(e) {
                var t = Go.prototype.toJSON.call(this, e);
                return t.object.width = this.width,
                t.object.height = this.height,
                t
            }
        });
        var es, ts = {
            arraySlice: function(e, t, n) {
                return ts.isTypedArray(e) ? new e.constructor(e.subarray(t, void 0 !== n ? n : e.length)) : e.slice(t, n)
            },
            convertArray: function(e, t, n) {
                return !e || !n && e.constructor === t ? e : "number" == typeof t.BYTES_PER_ELEMENT ? new t(e) : Array.prototype.slice.call(e)
            },
            isTypedArray: function(e) {
                return ArrayBuffer.isView(e) && !(e instanceof DataView)
            },
            getKeyframeOrder: function(n) {
                for (var e = n.length, t = new Array(e), i = 0; i !== e; ++i)
                    t[i] = i;
                return t.sort(function(e, t) {
                    return n[e] - n[t]
                }),
                t
            },
            sortedArray: function(e, t, n) {
                for (var i = e.length, r = new e.constructor(i), a = 0, o = 0; o !== i; ++a)
                    for (var s = n[a] * t, l = 0; l !== t; ++l)
                        r[o++] = e[s + l];
                return r
            },
            flattenJSON: function(e, t, n, i) {
                for (var r = 1, a = e[0]; void 0 !== a && void 0 === a[i]; )
                    a = e[r++];
                if (void 0 !== a) {
                    var o = a[i];
                    if (void 0 !== o)
                        if (Array.isArray(o))
                            for (; void 0 !== (o = a[i]) && (t.push(a.time),
                            n.push.apply(n, o)),
                            void 0 !== (a = e[r++]); )
                                ;
                        else if (void 0 !== o.toArray)
                            for (; void 0 !== (o = a[i]) && (t.push(a.time),
                            o.toArray(n, n.length)),
                            void 0 !== (a = e[r++]); )
                                ;
                        else
                            for (; void 0 !== (o = a[i]) && (t.push(a.time),
                            n.push(o)),
                            void 0 !== (a = e[r++]); )
                                ;
                }
            }
        };
        function ns(e, t, n, i) {
            this.parameterPositions = e,
            this._cachedIndex = 0,
            this.resultBuffer = void 0 !== i ? i : new t.constructor(n),
            this.sampleValues = t,
            this.valueSize = n
        }
        function is(e, t, n, i) {
            ns.call(this, e, t, n, i),
            this._weightPrev = -0,
            this._offsetPrev = -0,
            this._weightNext = -0,
            this._offsetNext = -0
        }
        function rs(e, t, n, i) {
            ns.call(this, e, t, n, i)
        }
        function as(e, t, n, i) {
            ns.call(this, e, t, n, i)
        }
        function os(e, t, n, i) {
            if (void 0 === e)
                throw new Error("track name is undefined");
            if (void 0 === t || 0 === t.length)
                throw new Error("no keyframes in track named " + e);
            this.name = e,
            this.times = ts.convertArray(t, this.TimeBufferType),
            this.values = ts.convertArray(n, this.ValueBufferType),
            this.setInterpolation(i || this.DefaultInterpolation),
            this.validate(),
            this.optimize()
        }
        function ss(e, t, n, i) {
            os.call(this, e, t, n, i)
        }
        function ls(e, t, n, i) {
            ns.call(this, e, t, n, i)
        }
        function us(e, t, n, i) {
            os.call(this, e, t, n, i)
        }
        function cs(e, t, n, i) {
            os.call(this, e, t, n, i)
        }
        function hs(e, t, n, i) {
            os.call(this, e, t, n, i)
        }
        function ds(e, t, n) {
            os.call(this, e, t, n)
        }
        function ps(e, t, n, i) {
            os.call(this, e, t, n, i)
        }
        function fs(e, t, n, i) {
            os.apply(this, arguments)
        }
        function ms(e, t, n) {
            this.name = e,
            this.tracks = n,
            this.duration = void 0 !== t ? t : -1,
            this.uuid = Ze.generateUUID(),
            this.duration < 0 && this.resetDuration(),
            this.optimize()
        }
        function gs(e) {
            this.manager = void 0 !== e ? e : Fo,
            this.textures = {}
        }
        function vs(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        Object.assign(ns.prototype, {
            evaluate: function(e) {
                var t = this.parameterPositions
                  , n = this._cachedIndex
                  , i = t[n]
                  , r = t[n - 1];
                e: {
                    t: {
                        var a;
                        n: {
                            i: if (!(e < i)) {
                                for (var o = n + 2; ; ) {
                                    if (void 0 === i) {
                                        if (e < r)
                                            break i;
                                        return n = t.length,
                                        this._cachedIndex = n,
                                        this.afterEnd_(n - 1, e, r)
                                    }
                                    if (n === o)
                                        break;
                                    if (r = i,
                                    e < (i = t[++n]))
                                        break t
                                }
                                a = t.length;
                                break n
                            }
                            if (r <= e)
                                break e;
                            var s = t[1];
                            e < s && (n = 2,
                            r = s);
                            for (o = n - 2; ; ) {
                                if (void 0 === r)
                                    return this._cachedIndex = 0,
                                    this.beforeStart_(0, e, i);
                                if (n === o)
                                    break;
                                if (i = r,
                                (r = t[--n - 1]) <= e)
                                    break t
                            }
                            a = n,
                            n = 0
                        }
                        for (; n < a; ) {
                            var l = n + a >>> 1;
                            e < t[l] ? a = l : n = 1 + l
                        }
                        if (i = t[n],
                        void 0 === (r = t[n - 1]))
                            return this._cachedIndex = 0,
                            this.beforeStart_(0, e, i);
                        if (void 0 === i)
                            return n = t.length,
                            this._cachedIndex = n,
                            this.afterEnd_(n - 1, r, e)
                    }
                    this._cachedIndex = n,
                    this.intervalChanged_(n, r, i)
                }
                return this.interpolate_(n, r, e, i)
            },
            settings: null,
            DefaultSettings_: {},
            getSettings_: function() {
                return this.settings || this.DefaultSettings_
            },
            copySampleValue_: function(e) {
                for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i, a = 0; a !== i; ++a)
                    t[a] = n[r + a];
                return t
            },
            interpolate_: function(e, t, n, i) {
                throw new Error("call to abstract method")
            },
            intervalChanged_: function(e, t, n) {}
        }),
        //!\ DECLARE ALIAS AFTER assign prototype !
        Object.assign(ns.prototype, {
            beforeStart_: ns.prototype.copySampleValue_,
            afterEnd_: ns.prototype.copySampleValue_
        }),
        is.prototype = Object.assign(Object.create(ns.prototype), {
            constructor: is,
            DefaultSettings_: {
                endingStart: 2400,
                endingEnd: 2400
            },
            intervalChanged_: function(e, t, n) {
                var i = this.parameterPositions
                  , r = e - 2
                  , a = e + 1
                  , o = i[r]
                  , s = i[a];
                if (void 0 === o)
                    switch (this.getSettings_().endingStart) {
                    case 2401:
                        r = e,
                        o = 2 * t - n;
                        break;
                    case 2402:
                        o = t + i[r = i.length - 2] - i[r + 1];
                        break;
                    default:
                        r = e,
                        o = n
                    }
                if (void 0 === s)
                    switch (this.getSettings_().endingEnd) {
                    case 2401:
                        a = e,
                        s = 2 * n - t;
                        break;
                    case 2402:
                        s = n + i[a = 1] - i[0];
                        break;
                    default:
                        a = e - 1,
                        s = t
                    }
                var l = .5 * (n - t)
                  , u = this.valueSize;
                this._weightPrev = l / (t - o),
                this._weightNext = l / (s - n),
                this._offsetPrev = r * u,
                this._offsetNext = a * u
            },
            interpolate_: function(e, t, n, i) {
                for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = e * o, l = s - o, u = this._offsetPrev, c = this._offsetNext, h = this._weightPrev, d = this._weightNext, p = (n - t) / (i - t), f = p * p, m = f * p, g = -h * m + 2 * h * f - h * p, v = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, b = d * m - d * f, _ = 0; _ !== o; ++_)
                    r[_] = g * a[u + _] + v * a[l + _] + y * a[s + _] + b * a[c + _];
                return r
            }
        }),
        rs.prototype = Object.assign(Object.create(ns.prototype), {
            constructor: rs,
            interpolate_: function(e, t, n, i) {
                for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = e * o, l = s - o, u = (n - t) / (i - t), c = 1 - u, h = 0; h !== o; ++h)
                    r[h] = a[l + h] * c + a[s + h] * u;
                return r
            }
        }),
        as.prototype = Object.assign(Object.create(ns.prototype), {
            constructor: as,
            interpolate_: function(e, t, n, i) {
                return this.copySampleValue_(e - 1)
            }
        }),
        es = {
            TimeBufferType: Float32Array,
            ValueBufferType: Float32Array,
            DefaultInterpolation: 2301,
            InterpolantFactoryMethodDiscrete: function(e) {
                return new as(this.times,this.values,this.getValueSize(),e)
            },
            InterpolantFactoryMethodLinear: function(e) {
                return new rs(this.times,this.values,this.getValueSize(),e)
            },
            InterpolantFactoryMethodSmooth: function(e) {
                return new is(this.times,this.values,this.getValueSize(),e)
            },
            setInterpolation: function(e) {
                var t;
                switch (e) {
                case 2300:
                    t = this.InterpolantFactoryMethodDiscrete;
                    break;
                case 2301:
                    t = this.InterpolantFactoryMethodLinear;
                    break;
                case 2302:
                    t = this.InterpolantFactoryMethodSmooth
                }
                if (void 0 !== t)
                    this.createInterpolant = t;
                else {
                    var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                    if (void 0 === this.createInterpolant) {
                        if (e === this.DefaultInterpolation)
                            throw new Error(n);
                        this.setInterpolation(this.DefaultInterpolation)
                    }
                    console.warn("THREE.KeyframeTrackPrototype:", n)
                }
            },
            getInterpolation: function() {
                switch (this.createInterpolant) {
                case this.InterpolantFactoryMethodDiscrete:
                    return 2300;
                case this.InterpolantFactoryMethodLinear:
                    return 2301;
                case this.InterpolantFactoryMethodSmooth:
                    return 2302
                }
            },
            getValueSize: function() {
                return this.values.length / this.times.length
            },
            shift: function(e) {
                if (0 !== e)
                    for (var t = this.times, n = 0, i = t.length; n !== i; ++n)
                        t[n] += e;
                return this
            },
            scale: function(e) {
                if (1 !== e)
                    for (var t = this.times, n = 0, i = t.length; n !== i; ++n)
                        t[n] *= e;
                return this
            },
            trim: function(e, t) {
                for (var n = this.times, i = n.length, r = 0, a = i - 1; r !== i && n[r] < e; )
                    ++r;
                for (; -1 !== a && n[a] > t; )
                    --a;
                if (++a,
                0 !== r || a !== i) {
                    a <= r && (r = (a = Math.max(a, 1)) - 1);
                    var o = this.getValueSize();
                    this.times = ts.arraySlice(n, r, a),
                    this.values = ts.arraySlice(this.values, r * o, a * o)
                }
                return this
            },
            validate: function() {
                var e = !0
                  , t = this.getValueSize();
                t - Math.floor(t) != 0 && (console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.", this),
                e = !1);
                var n = this.times
                  , i = this.values
                  , r = n.length;
                0 === r && (console.error("THREE.KeyframeTrackPrototype: Track is empty.", this),
                e = !1);
                for (var a = null, o = 0; o !== r; o++) {
                    var s = n[o];
                    if ("number" == typeof s && isNaN(s)) {
                        console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.", this, o, s),
                        e = !1;
                        break
                    }
                    if (null !== a && s < a) {
                        console.error("THREE.KeyframeTrackPrototype: Out of order keys.", this, o, s, a),
                        e = !1;
                        break
                    }
                    a = s
                }
                if (void 0 !== i && ts.isTypedArray(i)) {
                    o = 0;
                    for (var l = i.length; o !== l; ++o) {
                        var u = i[o];
                        if (isNaN(u)) {
                            console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.", this, o, u),
                            e = !1;
                            break
                        }
                    }
                }
                return e
            },
            optimize: function() {
                for (var e = this.times, t = this.values, n = this.getValueSize(), i = 2302 === this.getInterpolation(), r = 1, a = e.length - 1, o = 1; o < a; ++o) {
                    var s = !1
                      , l = e[o];
                    if (l !== e[o + 1] && (1 !== o || l !== l[0]))
                        if (i)
                            s = !0;
                        else
                            for (var u = o * n, c = u - n, h = u + n, d = 0; d !== n; ++d) {
                                var p = t[u + d];
                                if (p !== t[c + d] || p !== t[h + d]) {
                                    s = !0;
                                    break
                                }
                            }
                    if (s) {
                        if (o !== r) {
                            e[r] = e[o];
                            var f = o * n
                              , m = r * n;
                            for (d = 0; d !== n; ++d)
                                t[m + d] = t[f + d]
                        }
                        ++r
                    }
                }
                if (0 < a) {
                    e[r] = e[a];
                    for (f = a * n,
                    m = r * n,
                    d = 0; d !== n; ++d)
                        t[m + d] = t[f + d];
                    ++r
                }
                return r !== e.length && (this.times = ts.arraySlice(e, 0, r),
                this.values = ts.arraySlice(t, 0, r * n)),
                this
            }
        },
        ss.prototype = Object.assign(Object.create(es), {
            constructor: ss,
            ValueTypeName: "vector"
        }),
        ls.prototype = Object.assign(Object.create(ns.prototype), {
            constructor: ls,
            interpolate_: function(e, t, n, i) {
                for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = e * o, l = (n - t) / (i - t), u = s + o; s !== u; s += 4)
                    Ee.slerpFlat(r, 0, a, s - o, a, s, l);
                return r
            }
        }),
        us.prototype = Object.assign(Object.create(es), {
            constructor: us,
            ValueTypeName: "quaternion",
            DefaultInterpolation: 2301,
            InterpolantFactoryMethodLinear: function(e) {
                return new ls(this.times,this.values,this.getValueSize(),e)
            },
            InterpolantFactoryMethodSmooth: void 0
        }),
        cs.prototype = Object.assign(Object.create(es), {
            constructor: cs,
            ValueTypeName: "number"
        }),
        hs.prototype = Object.assign(Object.create(es), {
            constructor: hs,
            ValueTypeName: "string",
            ValueBufferType: Array,
            DefaultInterpolation: 2300,
            InterpolantFactoryMethodLinear: void 0,
            InterpolantFactoryMethodSmooth: void 0
        }),
        ds.prototype = Object.assign(Object.create(es), {
            constructor: ds,
            ValueTypeName: "bool",
            ValueBufferType: Array,
            DefaultInterpolation: 2300,
            InterpolantFactoryMethodLinear: void 0,
            InterpolantFactoryMethodSmooth: void 0
        }),
        ps.prototype = Object.assign(Object.create(es), {
            constructor: ps,
            ValueTypeName: "color"
        }),
        (fs.prototype = es).constructor = fs,
        Object.assign(fs, {
            parse: function(e) {
                if (void 0 === e.type)
                    throw new Error("track type undefined, can not parse");
                var t = fs._getTrackTypeForValueTypeName(e.type);
                if (void 0 === e.times) {
                    var n = []
                      , i = [];
                    ts.flattenJSON(e.keys, n, i, "value"),
                    e.times = n,
                    e.values = i
                }
                return void 0 !== t.parse ? t.parse(e) : new t(e.name,e.times,e.values,e.interpolation)
            },
            toJSON: function(e) {
                var t, n = e.constructor;
                if (void 0 !== n.toJSON)
                    t = n.toJSON(e);
                else {
                    t = {
                        name: e.name,
                        times: ts.convertArray(e.times, Array),
                        values: ts.convertArray(e.values, Array)
                    };
                    var i = e.getInterpolation();
                    i !== e.DefaultInterpolation && (t.interpolation = i)
                }
                return t.type = e.ValueTypeName,
                t
            },
            _getTrackTypeForValueTypeName: function(e) {
                switch (e.toLowerCase()) {
                case "scalar":
                case "double":
                case "float":
                case "number":
                case "integer":
                    return cs;
                case "vector":
                case "vector2":
                case "vector3":
                case "vector4":
                    return ss;
                case "color":
                    return ps;
                case "quaternion":
                    return us;
                case "bool":
                case "boolean":
                    return ds;
                case "string":
                    return hs
                }
                throw new Error("Unsupported typeName: " + e)
            }
        }),
        Object.assign(ms, {
            parse: function(e) {
                for (var t = [], n = e.tracks, i = 1 / (e.fps || 1), r = 0, a = n.length; r !== a; ++r)
                    t.push(fs.parse(n[r]).scale(i));
                return new ms(e.name,e.duration,t)
            },
            toJSON: function(e) {
                for (var t = [], n = e.tracks, i = {
                    name: e.name,
                    duration: e.duration,
                    tracks: t
                }, r = 0, a = n.length; r !== a; ++r)
                    t.push(fs.toJSON(n[r]));
                return i
            },
            CreateFromMorphTargetSequence: function(e, t, n, i) {
                for (var r = t.length, a = [], o = 0; o < r; o++) {
                    var s = []
                      , l = [];
                    s.push((o + r - 1) % r, o, (o + 1) % r),
                    l.push(0, 1, 0);
                    var u = ts.getKeyframeOrder(s);
                    s = ts.sortedArray(s, 1, u),
                    l = ts.sortedArray(l, 1, u),
                    i || 0 !== s[0] || (s.push(r),
                    l.push(l[0])),
                    a.push(new cs(".morphTargetInfluences[" + t[o].name + "]",s,l).scale(1 / n))
                }
                return new ms(e,-1,a)
            },
            findByName: function(e, t) {
                var n = e;
                if (!Array.isArray(e)) {
                    var i = e;
                    n = i.geometry && i.geometry.animations || i.animations
                }
                for (var r = 0; r < n.length; r++)
                    if (n[r].name === t)
                        return n[r];
                return null
            },
            CreateClipsFromMorphTargetSequences: function(e, t, n) {
                for (var i = {}, r = /^([\w-]*?)([\d]+)$/, a = 0, o = e.length; a < o; a++) {
                    var s = e[a]
                      , l = s.name.match(r);
                    if (l && 1 < l.length) {
                        var u = i[h = l[1]];
                        u || (i[h] = u = []),
                        u.push(s)
                    }
                }
                var c = [];
                for (var h in i)
                    c.push(ms.CreateFromMorphTargetSequence(h, i[h], t, n));
                return c
            },
            parseAnimation: function(e, t) {
                if (!e)
                    return console.error("THREE.AnimationClip: No animation in JSONLoader data."),
                    null;
                for (var n = function(e, t, n, i, r) {
                    if (0 !== n.length) {
                        var a = []
                          , o = [];
                        ts.flattenJSON(n, a, o, i),
                        0 !== a.length && r.push(new e(t,a,o))
                    }
                }, i = [], r = e.name || "default", a = e.length || -1, o = e.fps || 30, s = e.hierarchy || [], l = 0; l < s.length; l++) {
                    var u = s[l].keys;
                    if (u && 0 !== u.length)
                        if (u[0].morphTargets) {
                            for (var c = {}, h = 0; h < u.length; h++)
                                if (u[h].morphTargets)
                                    for (var d = 0; d < u[h].morphTargets.length; d++)
                                        c[u[h].morphTargets[d]] = -1;
                            for (var p in c) {
                                var f = []
                                  , m = [];
                                for (d = 0; d !== u[h].morphTargets.length; ++d) {
                                    var g = u[h];
                                    f.push(g.time),
                                    m.push(g.morphTarget === p ? 1 : 0)
                                }
                                i.push(new cs(".morphTargetInfluence[" + p + "]",f,m))
                            }
                            a = c.length * (o || 1)
                        } else {
                            var v = ".bones[" + t[l].name + "]";
                            n(ss, v + ".position", u, "pos", i),
                            n(us, v + ".quaternion", u, "rot", i),
                            n(ss, v + ".scale", u, "scl", i)
                        }
                }
                return 0 === i.length ? null : new ms(r,a,i)
            }
        }),
        Object.assign(ms.prototype, {
            resetDuration: function() {
                for (var e = 0, t = 0, n = this.tracks.length; t !== n; ++t) {
                    var i = this.tracks[t];
                    e = Math.max(e, i.times[i.times.length - 1])
                }
                this.duration = e
            },
            trim: function() {
                for (var e = 0; e < this.tracks.length; e++)
                    this.tracks[e].trim(0, this.duration);
                return this
            },
            optimize: function() {
                for (var e = 0; e < this.tracks.length; e++)
                    this.tracks[e].optimize();
                return this
            }
        }),
        Object.assign(gs.prototype, {
            load: function(e, t, n, i) {
                var r = this;
                new Bo(r.manager).load(e, function(e) {
                    t(r.parse(JSON.parse(e)))
                }, n, i)
            },
            setTextures: function(e) {
                this.textures = e
            },
            parse: function(e) {
                var t = this.textures;
                function n(e) {
                    return void 0 === t[e] && console.warn("THREE.MaterialLoader: Undefined texture", e),
                    t[e]
                }
                var i = new Ro[e.type];
                if (void 0 !== e.uuid && (i.uuid = e.uuid),
                void 0 !== e.name && (i.name = e.name),
                void 0 !== e.color && i.color.setHex(e.color),
                void 0 !== e.roughness && (i.roughness = e.roughness),
                void 0 !== e.metalness && (i.metalness = e.metalness),
                void 0 !== e.emissive && i.emissive.setHex(e.emissive),
                void 0 !== e.specular && i.specular.setHex(e.specular),
                void 0 !== e.shininess && (i.shininess = e.shininess),
                void 0 !== e.clearCoat && (i.clearCoat = e.clearCoat),
                void 0 !== e.clearCoatRoughness && (i.clearCoatRoughness = e.clearCoatRoughness),
                void 0 !== e.uniforms && (i.uniforms = e.uniforms),
                void 0 !== e.vertexShader && (i.vertexShader = e.vertexShader),
                void 0 !== e.fragmentShader && (i.fragmentShader = e.fragmentShader),
                void 0 !== e.vertexColors && (i.vertexColors = e.vertexColors),
                void 0 !== e.fog && (i.fog = e.fog),
                void 0 !== e.shading && (i.shading = e.shading),
                void 0 !== e.blending && (i.blending = e.blending),
                void 0 !== e.side && (i.side = e.side),
                void 0 !== e.opacity && (i.opacity = e.opacity),
                void 0 !== e.transparent && (i.transparent = e.transparent),
                void 0 !== e.alphaTest && (i.alphaTest = e.alphaTest),
                void 0 !== e.depthTest && (i.depthTest = e.depthTest),
                void 0 !== e.depthWrite && (i.depthWrite = e.depthWrite),
                void 0 !== e.colorWrite && (i.colorWrite = e.colorWrite),
                void 0 !== e.wireframe && (i.wireframe = e.wireframe),
                void 0 !== e.wireframeLinewidth && (i.wireframeLinewidth = e.wireframeLinewidth),
                void 0 !== e.wireframeLinecap && (i.wireframeLinecap = e.wireframeLinecap),
                void 0 !== e.wireframeLinejoin && (i.wireframeLinejoin = e.wireframeLinejoin),
                void 0 !== e.skinning && (i.skinning = e.skinning),
                void 0 !== e.morphTargets && (i.morphTargets = e.morphTargets),
                void 0 !== e.size && (i.size = e.size),
                void 0 !== e.sizeAttenuation && (i.sizeAttenuation = e.sizeAttenuation),
                void 0 !== e.map && (i.map = n(e.map)),
                void 0 !== e.alphaMap && (i.alphaMap = n(e.alphaMap),
                i.transparent = !0),
                void 0 !== e.bumpMap && (i.bumpMap = n(e.bumpMap)),
                void 0 !== e.bumpScale && (i.bumpScale = e.bumpScale),
                void 0 !== e.normalMap && (i.normalMap = n(e.normalMap)),
                void 0 !== e.normalScale) {
                    var r = e.normalScale;
                    !1 === Array.isArray(r) && (r = [r, r]),
                    i.normalScale = (new fe).fromArray(r)
                }
                return void 0 !== e.displacementMap && (i.displacementMap = n(e.displacementMap)),
                void 0 !== e.displacementScale && (i.displacementScale = e.displacementScale),
                void 0 !== e.displacementBias && (i.displacementBias = e.displacementBias),
                void 0 !== e.roughnessMap && (i.roughnessMap = n(e.roughnessMap)),
                void 0 !== e.metalnessMap && (i.metalnessMap = n(e.metalnessMap)),
                void 0 !== e.emissiveMap && (i.emissiveMap = n(e.emissiveMap)),
                void 0 !== e.emissiveIntensity && (i.emissiveIntensity = e.emissiveIntensity),
                void 0 !== e.specularMap && (i.specularMap = n(e.specularMap)),
                void 0 !== e.envMap && (i.envMap = n(e.envMap)),
                void 0 !== e.reflectivity && (i.reflectivity = e.reflectivity),
                void 0 !== e.lightMap && (i.lightMap = n(e.lightMap)),
                void 0 !== e.lightMapIntensity && (i.lightMapIntensity = e.lightMapIntensity),
                void 0 !== e.aoMap && (i.aoMap = n(e.aoMap)),
                void 0 !== e.aoMapIntensity && (i.aoMapIntensity = e.aoMapIntensity),
                void 0 !== e.gradientMap && (i.gradientMap = n(e.gradientMap)),
                i
            }
        }),
        Object.assign(vs.prototype, {
            load: function(e, t, n, i) {
                var r = this;
                new Bo(r.manager).load(e, function(e) {
                    t(r.parse(JSON.parse(e)))
                }, n, i)
            },
            parse: function(e) {
                var t = new fr
                  , n = e.data.index;
                if (void 0 !== n) {
                    var i = new Ts[n.type](n.array);
                    t.setIndex(new nr(i,1))
                }
                var r = e.data.attributes;
                for (var a in r) {
                    var o = r[a];
                    i = new Ts[o.type](o.array);
                    t.addAttribute(a, new nr(i,o.itemSize,o.normalized))
                }
                var s = e.data.groups || e.data.drawcalls || e.data.offsets;
                if (void 0 !== s)
                    for (var l = 0, u = s.length; l !== u; ++l) {
                        var c = s[l];
                        t.addGroup(c.start, c.count, c.materialIndex)
                    }
                var h = e.data.boundingSphere;
                if (void 0 !== h) {
                    var d = new Je;
                    void 0 !== h.center && d.fromArray(h.center),
                    t.boundingSphere = new Tn(d,h.radius)
                }
                return t
            }
        });
        var ys, bs, _s, ws, xs, Ts = {
            Int8Array: Int8Array,
            Uint8Array: Uint8Array,
            Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
            Int16Array: Int16Array,
            Uint16Array: Uint16Array,
            Int32Array: Int32Array,
            Uint32Array: Uint32Array,
            Float32Array: Float32Array,
            Float64Array: Float64Array
        };
        function Ss() {
            this.onLoadStart = function() {}
            ,
            this.onLoadProgress = function() {}
            ,
            this.onLoadComplete = function() {}
        }
        function Es(e) {
            "boolean" == typeof e && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),
            e = void 0),
            this.manager = void 0 !== e ? e : Fo,
            this.withCredentials = !1
        }
        function Cs(e) {
            this.manager = void 0 !== e ? e : Fo,
            this.texturePath = ""
        }
        Ss.Handlers = {
            handlers: [],
            add: function(e, t) {
                this.handlers.push(e, t)
            },
            get: function(e) {
                for (var t = this.handlers, n = 0, i = t.length; n < i; n += 2) {
                    var r = t[n]
                      , a = t[n + 1];
                    if (r.test(e))
                        return a
                }
                return null
            }
        },
        Object.assign(Ss.prototype, {
            crossOrigin: void 0,
            extractUrlBase: function(e) {
                var t = e.split("/");
                return 1 === t.length ? "./" : (t.pop(),
                t.join("/") + "/")
            },
            initMaterials: function(e, t, n) {
                for (var i = [], r = 0; r < e.length; ++r)
                    i[r] = this.createMaterial(e[r], t, n);
                return i
            },
            createMaterial: (ys = {
                NoBlending: $,
                NormalBlending: X,
                AdditiveBlending: Y,
                SubtractiveBlending: K,
                MultiplyBlending: Z,
                CustomBlending: Q
            },
            bs = new zt,
            _s = new Vo,
            ws = new gs,
            function(e, u, c) {
                var h = {};
                function t(e, t, n, i, r) {
                    var a, o = u + e, s = Ss.Handlers.get(o);
                    a = null !== s ? s.load(o) : (_s.setCrossOrigin(c),
                    _s.load(o)),
                    void 0 !== t && (a.repeat.fromArray(t),
                    1 !== t[0] && (a.wrapS = 1e3),
                    1 !== t[1] && (a.wrapT = 1e3)),
                    void 0 !== n && a.offset.fromArray(n),
                    void 0 !== i && ("repeat" === i[0] && (a.wrapS = 1e3),
                    "mirror" === i[0] && (a.wrapS = 1002),
                    "repeat" === i[1] && (a.wrapT = 1e3),
                    "mirror" === i[1] && (a.wrapT = 1002)),
                    void 0 !== r && (a.anisotropy = r);
                    var l = Ze.generateUUID();
                    return h[l] = a,
                    l
                }
                var n = {
                    uuid: Ze.generateUUID(),
                    type: "MeshLambertMaterial"
                };
                for (var i in e) {
                    var r = e[i];
                    switch (i) {
                    case "DbgColor":
                    case "DbgIndex":
                    case "opticalDensity":
                    case "illumination":
                        break;
                    case "DbgName":
                        n.name = r;
                        break;
                    case "blending":
                        n.blending = ys[r];
                        break;
                    case "colorAmbient":
                    case "mapAmbient":
                        console.warn("THREE.Loader.createMaterial:", i, "is no longer supported.");
                        break;
                    case "colorDiffuse":
                        n.color = bs.fromArray(r).getHex();
                        break;
                    case "colorSpecular":
                        n.specular = bs.fromArray(r).getHex();
                        break;
                    case "colorEmissive":
                        n.emissive = bs.fromArray(r).getHex();
                        break;
                    case "specularCoef":
                        n.shininess = r;
                        break;
                    case "shading":
                        "basic" === r.toLowerCase() && (n.type = "MeshBasicMaterial"),
                        "phong" === r.toLowerCase() && (n.type = "MeshPhongMaterial"),
                        "standard" === r.toLowerCase() && (n.type = "MeshStandardMaterial");
                        break;
                    case "mapDiffuse":
                        n.map = t(r, e.mapDiffuseRepeat, e.mapDiffuseOffset, e.mapDiffuseWrap, e.mapDiffuseAnisotropy);
                        break;
                    case "mapDiffuseRepeat":
                    case "mapDiffuseOffset":
                    case "mapDiffuseWrap":
                    case "mapDiffuseAnisotropy":
                        break;
                    case "mapEmissive":
                        n.emissiveMap = t(r, e.mapEmissiveRepeat, e.mapEmissiveOffset, e.mapEmissiveWrap, e.mapEmissiveAnisotropy);
                        break;
                    case "mapEmissiveRepeat":
                    case "mapEmissiveOffset":
                    case "mapEmissiveWrap":
                    case "mapEmissiveAnisotropy":
                        break;
                    case "mapLight":
                        n.lightMap = t(r, e.mapLightRepeat, e.mapLightOffset, e.mapLightWrap, e.mapLightAnisotropy);
                        break;
                    case "mapLightRepeat":
                    case "mapLightOffset":
                    case "mapLightWrap":
                    case "mapLightAnisotropy":
                        break;
                    case "mapAO":
                        n.aoMap = t(r, e.mapAORepeat, e.mapAOOffset, e.mapAOWrap, e.mapAOAnisotropy);
                        break;
                    case "mapAORepeat":
                    case "mapAOOffset":
                    case "mapAOWrap":
                    case "mapAOAnisotropy":
                        break;
                    case "mapBump":
                        n.bumpMap = t(r, e.mapBumpRepeat, e.mapBumpOffset, e.mapBumpWrap, e.mapBumpAnisotropy);
                        break;
                    case "mapBumpScale":
                        n.bumpScale = r;
                        break;
                    case "mapBumpRepeat":
                    case "mapBumpOffset":
                    case "mapBumpWrap":
                    case "mapBumpAnisotropy":
                        break;
                    case "mapNormal":
                        n.normalMap = t(r, e.mapNormalRepeat, e.mapNormalOffset, e.mapNormalWrap, e.mapNormalAnisotropy);
                        break;
                    case "mapNormalFactor":
                        n.normalScale = [r, r];
                        break;
                    case "mapNormalRepeat":
                    case "mapNormalOffset":
                    case "mapNormalWrap":
                    case "mapNormalAnisotropy":
                        break;
                    case "mapSpecular":
                        n.specularMap = t(r, e.mapSpecularRepeat, e.mapSpecularOffset, e.mapSpecularWrap, e.mapSpecularAnisotropy);
                        break;
                    case "mapSpecularRepeat":
                    case "mapSpecularOffset":
                    case "mapSpecularWrap":
                    case "mapSpecularAnisotropy":
                        break;
                    case "mapMetalness":
                        n.metalnessMap = t(r, e.mapMetalnessRepeat, e.mapMetalnessOffset, e.mapMetalnessWrap, e.mapMetalnessAnisotropy);
                        break;
                    case "mapMetalnessRepeat":
                    case "mapMetalnessOffset":
                    case "mapMetalnessWrap":
                    case "mapMetalnessAnisotropy":
                        break;
                    case "mapRoughness":
                        n.roughnessMap = t(r, e.mapRoughnessRepeat, e.mapRoughnessOffset, e.mapRoughnessWrap, e.mapRoughnessAnisotropy);
                        break;
                    case "mapRoughnessRepeat":
                    case "mapRoughnessOffset":
                    case "mapRoughnessWrap":
                    case "mapRoughnessAnisotropy":
                        break;
                    case "mapAlpha":
                        n.alphaMap = t(r, e.mapAlphaRepeat, e.mapAlphaOffset, e.mapAlphaWrap, e.mapAlphaAnisotropy);
                        break;
                    case "mapAlphaRepeat":
                    case "mapAlphaOffset":
                    case "mapAlphaWrap":
                    case "mapAlphaAnisotropy":
                        break;
                    case "flipSided":
                        n.side = W;
                        break;
                    case "doubleSided":
                        n.side = q;
                        break;
                    case "transparency":
                        console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),
                        n.opacity = r;
                        break;
                    case "depthTest":
                    case "depthWrite":
                    case "colorWrite":
                    case "opacity":
                    case "reflectivity":
                    case "transparent":
                    case "visible":
                    case "wireframe":
                        n[i] = r;
                        break;
                    case "vertexColors":
                        !0 === r && (n.vertexColors = 2),
                        "face" === r && (n.vertexColors = 1);
                        break;
                    default:
                        console.error("THREE.Loader.createMaterial: Unsupported", i, r)
                    }
                }
                return "MeshBasicMaterial" === n.type && delete n.emissive,
                "MeshPhongMaterial" !== n.type && delete n.specular,
                n.opacity < 1 && (n.transparent = !0),
                ws.setTextures(h),
                ws.parse(n)
            }
            )
        }),
        Object.assign(Es.prototype, {
            load: function(a, o, e, t) {
                var s = this
                  , l = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : Ss.prototype.extractUrlBase(a)
                  , n = new Bo(this.manager);
                n.setWithCredentials(this.withCredentials),
                n.load(a, function(e) {
                    var t = JSON.parse(e)
                      , n = t.metadata;
                    if (void 0 !== n) {
                        var i = n.type;
                        if (void 0 !== i) {
                            if ("object" === i.toLowerCase())
                                return void console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.ObjectLoader instead.");
                            if ("scene" === i.toLowerCase())
                                return void console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.SceneLoader instead.")
                        }
                    }
                    var r = s.parse(t, l);
                    o(r.geometry, r.materials)
                }, e, t)
            },
            setTexturePath: function(e) {
                this.texturePath = e
            },
            parse: function(e, t) {
                void 0 !== e.data && (e = e.data),
                void 0 !== e.scale ? e.scale = 1 / e.scale : e.scale = 1;
                var n = new tr;
                return function(e, t) {
                    function n(e, t) {
                        return e & 1 << t
                    }
                    var i, r, a, o, s, l, u, c, h, d, p, f, m, g, v, y, b, _, w, x, T, S, E, C, M, k = e.faces, P = e.vertices, A = e.normals, I = e.colors, L = e.scale, O = 0;
                    if (void 0 !== e.uvs) {
                        for (i = 0; i < e.uvs.length; i++)
                            e.uvs[i].length && O++;
                        for (i = 0; i < O; i++)
                            t.faceVertexUvs[i] = []
                    }
                    for (o = 0,
                    s = P.length; o < s; )
                        (_ = new Je).x = P[o++] * L,
                        _.y = P[o++] * L,
                        _.z = P[o++] * L,
                        t.vertices.push(_);
                    for (o = 0,
                    s = k.length; o < s; )
                        if (p = n(d = k[o++], 0),
                        f = n(d, 1),
                        m = n(d, 3),
                        g = n(d, 4),
                        v = n(d, 5),
                        y = n(d, 6),
                        b = n(d, 7),
                        p) {
                            if ((x = new Jn).a = k[o],
                            x.b = k[o + 1],
                            x.c = k[o + 3],
                            (T = new Jn).a = k[o + 1],
                            T.b = k[o + 2],
                            T.c = k[o + 3],
                            o += 4,
                            f && (h = k[o++],
                            x.materialIndex = h,
                            T.materialIndex = h),
                            a = t.faces.length,
                            m)
                                for (i = 0; i < O; i++)
                                    for (C = e.uvs[i],
                                    t.faceVertexUvs[i][a] = [],
                                    t.faceVertexUvs[i][a + 1] = [],
                                    r = 0; r < 4; r++)
                                        M = new fe(C[2 * (c = k[o++])],C[2 * c + 1]),
                                        2 !== r && t.faceVertexUvs[i][a].push(M),
                                        0 !== r && t.faceVertexUvs[i][a + 1].push(M);
                            if (g && (u = 3 * k[o++],
                            x.normal.set(A[u++], A[u++], A[u]),
                            T.normal.copy(x.normal)),
                            v)
                                for (i = 0; i < 4; i++)
                                    u = 3 * k[o++],
                                    E = new Je(A[u++],A[u++],A[u]),
                                    2 !== i && x.vertexNormals.push(E),
                                    0 !== i && T.vertexNormals.push(E);
                            if (y && (S = I[l = k[o++]],
                            x.color.setHex(S),
                            T.color.setHex(S)),
                            b)
                                for (i = 0; i < 4; i++)
                                    S = I[l = k[o++]],
                                    2 !== i && x.vertexColors.push(new zt(S)),
                                    0 !== i && T.vertexColors.push(new zt(S));
                            t.faces.push(x),
                            t.faces.push(T)
                        } else {
                            if ((w = new Jn).a = k[o++],
                            w.b = k[o++],
                            w.c = k[o++],
                            f && (h = k[o++],
                            w.materialIndex = h),
                            a = t.faces.length,
                            m)
                                for (i = 0; i < O; i++)
                                    for (C = e.uvs[i],
                                    t.faceVertexUvs[i][a] = [],
                                    r = 0; r < 3; r++)
                                        M = new fe(C[2 * (c = k[o++])],C[2 * c + 1]),
                                        t.faceVertexUvs[i][a].push(M);
                            if (g && (u = 3 * k[o++],
                            w.normal.set(A[u++], A[u++], A[u])),
                            v)
                                for (i = 0; i < 3; i++)
                                    u = 3 * k[o++],
                                    E = new Je(A[u++],A[u++],A[u]),
                                    w.vertexNormals.push(E);
                            if (y && (l = k[o++],
                            w.color.setHex(I[l])),
                            b)
                                for (i = 0; i < 3; i++)
                                    l = k[o++],
                                    w.vertexColors.push(new zt(I[l]));
                            t.faces.push(w)
                        }
                }(e, n),
                function(e, t) {
                    var n = void 0 !== e.influencesPerVertex ? e.influencesPerVertex : 2;
                    if (e.skinWeights)
                        for (var i = 0, r = e.skinWeights.length; i < r; i += n) {
                            var a = e.skinWeights[i]
                              , o = 1 < n ? e.skinWeights[i + 1] : 0
                              , s = 2 < n ? e.skinWeights[i + 2] : 0
                              , l = 3 < n ? e.skinWeights[i + 3] : 0;
                            t.skinWeights.push(new Qe(a,o,s,l))
                        }
                    if (e.skinIndices)
                        for (i = 0,
                        r = e.skinIndices.length; i < r; i += n) {
                            var u = e.skinIndices[i]
                              , c = 1 < n ? e.skinIndices[i + 1] : 0
                              , h = 2 < n ? e.skinIndices[i + 2] : 0
                              , d = 3 < n ? e.skinIndices[i + 3] : 0;
                            t.skinIndices.push(new Qe(u,c,h,d))
                        }
                    t.bones = e.bones,
                    t.bones && 0 < t.bones.length && (t.skinWeights.length !== t.skinIndices.length || t.skinIndices.length !== t.vertices.length) && console.warn("When skinning, number of vertices (" + t.vertices.length + "), skinIndices (" + t.skinIndices.length + "), and skinWeights (" + t.skinWeights.length + ") should match.")
                }(e, n),
                function(e, t) {
                    var n = e.scale;
                    if (void 0 !== e.morphTargets)
                        for (var i = 0, r = e.morphTargets.length; i < r; i++) {
                            t.morphTargets[i] = {},
                            t.morphTargets[i].name = e.morphTargets[i].name,
                            t.morphTargets[i].vertices = [];
                            for (var a = t.morphTargets[i].vertices, o = e.morphTargets[i].vertices, s = 0, l = o.length; s < l; s += 3) {
                                var u = new Je;
                                u.x = o[s] * n,
                                u.y = o[s + 1] * n,
                                u.z = o[s + 2] * n,
                                a.push(u)
                            }
                        }
                    if (void 0 !== e.morphColors && 0 < e.morphColors.length) {
                        console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');
                        var c = t.faces
                          , h = e.morphColors[0].colors;
                        for (i = 0,
                        r = c.length; i < r; i++)
                            c[i].color.fromArray(h, 3 * i)
                    }
                }(e, n),
                function(e, t) {
                    var n = []
                      , i = [];
                    void 0 !== e.animation && i.push(e.animation),
                    void 0 !== e.animations && (e.animations.length ? i = i.concat(e.animations) : i.push(e.animations));
                    for (var r = 0; r < i.length; r++) {
                        var a = ms.parseAnimation(i[r], t.bones);
                        a && n.push(a)
                    }
                    if (t.morphTargets) {
                        var o = ms.CreateClipsFromMorphTargetSequences(t.morphTargets, 10);
                        n = n.concat(o)
                    }
                    0 < n.length && (t.animations = n)
                }(e, n),
                n.computeFaceNormals(),
                n.computeBoundingSphere(),
                void 0 === e.materials || 0 === e.materials.length ? {
                    geometry: n
                } : {
                    geometry: n,
                    materials: Ss.prototype.initMaterials(e.materials, t, this.crossOrigin)
                }
            }
        }),
        Object.assign(Cs.prototype, {
            load: function(i, r, e, a) {
                "" === this.texturePath && (this.texturePath = i.substring(0, i.lastIndexOf("/") + 1));
                var o = this;
                new Bo(o.manager).load(i, function(e) {
                    var t = null;
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        return void 0 !== a && a(e),
                        void console.error("THREE:ObjectLoader: Can't parse " + i + ".", e.message)
                    }
                    var n = t.metadata;
                    void 0 !== n && void 0 !== n.type && "geometry" !== n.type.toLowerCase() ? o.parse(t, r) : console.error("THREE.ObjectLoader: Can't load " + i + ". Use THREE.JSONLoader instead.")
                }, e, a)
            },
            setTexturePath: function(e) {
                this.texturePath = e
            },
            setCrossOrigin: function(e) {
                this.crossOrigin = e
            },
            parse: function(e, t) {
                var n = this.parseGeometries(e.geometries)
                  , i = this.parseImages(e.images, function() {
                    void 0 !== t && t(o)
                })
                  , r = this.parseTextures(e.textures, i)
                  , a = this.parseMaterials(e.materials, r)
                  , o = this.parseObject(e.object, n, a);
                return e.animations && (o.animations = this.parseAnimations(e.animations)),
                void 0 !== e.images && 0 !== e.images.length || void 0 !== t && t(o),
                o
            },
            parseGeometries: function(e) {
                var t = {};
                if (void 0 !== e)
                    for (var n = new Es, i = new vs, r = 0, a = e.length; r < a; r++) {
                        var o, s = e[r];
                        switch (s.type) {
                        case "PlaneGeometry":
                        case "PlaneBufferGeometry":
                            o = new So[s.type](s.width,s.height,s.widthSegments,s.heightSegments);
                            break;
                        case "BoxGeometry":
                        case "BoxBufferGeometry":
                        case "CubeGeometry":
                            o = new So[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);
                            break;
                        case "CircleGeometry":
                        case "CircleBufferGeometry":
                            o = new So[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);
                            break;
                        case "CylinderGeometry":
                        case "CylinderBufferGeometry":
                            o = new So[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);
                            break;
                        case "ConeGeometry":
                        case "ConeBufferGeometry":
                            o = new So[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);
                            break;
                        case "SphereGeometry":
                        case "SphereBufferGeometry":
                            o = new So[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);
                            break;
                        case "DodecahedronGeometry":
                        case "IcosahedronGeometry":
                        case "OctahedronGeometry":
                        case "TetrahedronGeometry":
                            o = new So[s.type](s.radius,s.detail);
                            break;
                        case "RingGeometry":
                        case "RingBufferGeometry":
                            o = new So[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);
                            break;
                        case "TorusGeometry":
                        case "TorusBufferGeometry":
                            o = new So[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);
                            break;
                        case "TorusKnotGeometry":
                        case "TorusKnotBufferGeometry":
                            o = new So[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);
                            break;
                        case "LatheGeometry":
                        case "LatheBufferGeometry":
                            o = new So[s.type](s.points,s.segments,s.phiStart,s.phiLength);
                            break;
                        case "BufferGeometry":
                            o = i.parse(s);
                            break;
                        case "Geometry":
                            o = n.parse(s, this.texturePath).geometry;
                            break;
                        default:
                            console.warn('THREE.ObjectLoader: Unsupported geometry type "' + s.type + '"');
                            continue
                        }
                        o.uuid = s.uuid,
                        void 0 !== s.name && (o.name = s.name),
                        t[s.uuid] = o
                    }
                return t
            },
            parseMaterials: function(e, t) {
                var n = {};
                if (void 0 !== e) {
                    var i = new gs;
                    i.setTextures(t);
                    for (var r = 0, a = e.length; r < a; r++) {
                        var o = e[r];
                        if ("MultiMaterial" === o.type) {
                            for (var s = [], l = 0; l < o.materials.length; l++)
                                s.push(i.parse(o.materials[l]));
                            n[o.uuid] = s
                        } else
                            n[o.uuid] = i.parse(o)
                    }
                }
                return n
            },
            parseAnimations: function(e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    var i = ms.parse(e[n]);
                    t.push(i)
                }
                return t
            },
            parseImages: function(e, t) {
                var n = this
                  , i = {};
                function r(e) {
                    return n.manager.itemStart(e),
                    a.load(e, function() {
                        n.manager.itemEnd(e)
                    }, void 0, function() {
                        n.manager.itemEnd(e),
                        n.manager.itemError(e)
                    })
                }
                if (void 0 !== e && 0 < e.length) {
                    var a = new zo(new No(t));
                    a.setCrossOrigin(this.crossOrigin);
                    for (var o = 0, s = e.length; o < s; o++) {
                        var l = e[o]
                          , u = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url) ? l.url : n.texturePath + l.url;
                        i[l.uuid] = r(u)
                    }
                }
                return i
            },
            parseTextures: function(e, t) {
                function n(e, t) {
                    return "number" == typeof e ? e : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", e),
                    t[e])
                }
                var i = {};
                if (void 0 !== e)
                    for (var r = 0, a = e.length; r < a; r++) {
                        var o = e[r];
                        void 0 === o.image && console.warn('THREE.ObjectLoader: No "image" specified for', o.uuid),
                        void 0 === t[o.image] && console.warn("THREE.ObjectLoader: Undefined image", o.image);
                        var s = new xe(t[o.image]);
                        s.needsUpdate = !0,
                        s.uuid = o.uuid,
                        void 0 !== o.name && (s.name = o.name),
                        void 0 !== o.mapping && (s.mapping = n(o.mapping, Ms)),
                        void 0 !== o.offset && s.offset.fromArray(o.offset),
                        void 0 !== o.repeat && s.repeat.fromArray(o.repeat),
                        void 0 !== o.wrap && (s.wrapS = n(o.wrap[0], ks),
                        s.wrapT = n(o.wrap[1], ks)),
                        void 0 !== o.minFilter && (s.minFilter = n(o.minFilter, Ps)),
                        void 0 !== o.magFilter && (s.magFilter = n(o.magFilter, Ps)),
                        void 0 !== o.anisotropy && (s.anisotropy = o.anisotropy),
                        void 0 !== o.flipY && (s.flipY = o.flipY),
                        i[o.uuid] = s
                    }
                return i
            },
            parseObject: (xs = new et,
            function(e, t, a) {
                var n;
                function i(e) {
                    return void 0 === t[e] && console.warn("THREE.ObjectLoader: Undefined geometry", e),
                    t[e]
                }
                function r(e) {
                    if (void 0 !== e) {
                        if (Array.isArray(e)) {
                            for (var t = [], n = 0, i = e.length; n < i; n++) {
                                var r = e[n];
                                void 0 === a[r] && console.warn("THREE.ObjectLoader: Undefined material", r),
                                t.push(a[r])
                            }
                            return t
                        }
                        return void 0 === a[e] && console.warn("THREE.ObjectLoader: Undefined material", e),
                        a[e]
                    }
                }
                switch (e.type) {
                case "Scene":
                    n = new ya,
                    void 0 !== e.background && Number.isInteger(e.background) && (n.background = new zt(e.background)),
                    void 0 !== e.fog && ("Fog" === e.fog.type ? n.fog = new va(e.fog.color,e.fog.near,e.fog.far) : "FogExp2" === e.fog.type && (n.fog = new ga(e.fog.color,e.fog.density)));
                    break;
                case "PerspectiveCamera":
                    n = new Qn(e.fov,e.aspect,e.near,e.far),
                    void 0 !== e.focus && (n.focus = e.focus),
                    void 0 !== e.zoom && (n.zoom = e.zoom),
                    void 0 !== e.filmGauge && (n.filmGauge = e.filmGauge),
                    void 0 !== e.filmOffset && (n.filmOffset = e.filmOffset),
                    void 0 !== e.view && (n.view = Object.assign({}, e.view));
                    break;
                case "OrthographicCamera":
                    n = new Zn(e.left,e.right,e.top,e.bottom,e.near,e.far);
                    break;
                case "AmbientLight":
                    n = new Qo(e.color,e.intensity);
                    break;
                case "DirectionalLight":
                    n = new Zo(e.color,e.intensity);
                    break;
                case "PointLight":
                    n = new Yo(e.color,e.intensity,e.distance,e.decay);
                    break;
                case "RectAreaLight":
                    n = new Jo(e.color,e.intensity,e.width,e.height);
                    break;
                case "SpotLight":
                    n = new Xo(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);
                    break;
                case "HemisphereLight":
                    n = new Wo(e.color,e.groundColor,e.intensity);
                    break;
                case "SkinnedMesh":
                    console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
                case "Mesh":
                    var o = i(e.geometry)
                      , s = r(e.material);
                    n = o.bones && 0 < o.bones.length ? new Ea(o,s) : new Tr(o,s);
                    break;
                case "LOD":
                    n = new xa;
                    break;
                case "Line":
                    n = new Ma(i(e.geometry),r(e.material),e.mode);
                    break;
                case "LineLoop":
                    n = new Pa(i(e.geometry),r(e.material));
                    break;
                case "LineSegments":
                    n = new ka(i(e.geometry),r(e.material));
                    break;
                case "PointCloud":
                case "Points":
                    n = new Ia(i(e.geometry),r(e.material));
                    break;
                case "Sprite":
                    n = new wa(r(e.material));
                    break;
                case "Group":
                    n = new La;
                    break;
                default:
                    n = new Yn
                }
                if (n.uuid = e.uuid,
                void 0 !== e.name && (n.name = e.name),
                void 0 !== e.matrix ? (xs.fromArray(e.matrix),
                xs.decompose(n.position, n.quaternion, n.scale)) : (void 0 !== e.position && n.position.fromArray(e.position),
                void 0 !== e.rotation && n.rotation.fromArray(e.rotation),
                void 0 !== e.quaternion && n.quaternion.fromArray(e.quaternion),
                void 0 !== e.scale && n.scale.fromArray(e.scale)),
                void 0 !== e.castShadow && (n.castShadow = e.castShadow),
                void 0 !== e.receiveShadow && (n.receiveShadow = e.receiveShadow),
                e.shadow && (void 0 !== e.shadow.bias && (n.shadow.bias = e.shadow.bias),
                void 0 !== e.shadow.radius && (n.shadow.radius = e.shadow.radius),
                void 0 !== e.shadow.mapSize && n.shadow.mapSize.fromArray(e.shadow.mapSize),
                void 0 !== e.shadow.camera && (n.shadow.camera = this.parseObject(e.shadow.camera))),
                void 0 !== e.visible && (n.visible = e.visible),
                void 0 !== e.userData && (n.userData = e.userData),
                void 0 !== e.children)
                    for (var l in e.children)
                        n.add(this.parseObject(e.children[l], t, a));
                if ("LOD" === e.type)
                    for (var u = e.levels, c = 0; c < u.length; c++) {
                        var h = u[c];
                        void 0 !== (l = n.getObjectByProperty("uuid", h.object)) && n.addLevel(l, h.distance)
                    }
                return n
            }
            )
        });
        var Ms = {
            UVMapping: 300,
            CubeReflectionMapping: z,
            CubeRefractionMapping: se,
            EquirectangularReflectionMapping: le,
            EquirectangularRefractionMapping: ue,
            SphericalReflectionMapping: ce,
            CubeUVReflectionMapping: he,
            CubeUVRefractionMapping: de
        }
          , ks = {
            RepeatWrapping: 1e3,
            ClampToEdgeWrapping: Re,
            MirroredRepeatWrapping: 1002
        }
          , Ps = {
            NearestFilter: De,
            NearestMipMapNearestFilter: Ne,
            NearestMipMapLinearFilter: Fe,
            LinearFilter: Be,
            LinearMipMapNearestFilter: 1007,
            LinearMipMapLinearFilter: Ue
        };
        function As(e, t, n, i, r) {
            var a = .5 * (i - t)
              , o = .5 * (r - n)
              , s = e * e;
            return (2 * n - 2 * i + a + o) * (e * s) + (-3 * n + 3 * i - 2 * a - o) * s + a * e + n
        }
        function Is(e, t, n, i) {
            return function(e, t) {
                var n = 1 - e;
                return n * n * t
            }(e, t) + function(e, t) {
                return 2 * (1 - e) * e * t
            }(e, n) + function(e, t) {
                return e * e * t
            }(e, i)
        }
        function Ls(e, t, n, i, r) {
            return function(e, t) {
                var n = 1 - e;
                return n * n * n * t
            }(e, t) + function(e, t) {
                var n = 1 - e;
                return 3 * n * n * e * t
            }(e, n) + function(e, t) {
                return 3 * (1 - e) * e * e * t
            }(e, i) + function(e, t) {
                return e * e * e * t
            }(e, r)
        }
        function Os() {
            this.arcLengthDivisions = 200
        }
        function Rs(e, t) {
            Os.call(this),
            this.v1 = e,
            this.v2 = t
        }
        function Ds() {
            Os.call(this),
            this.curves = [],
            this.autoClose = !1
        }
        function Ns(e, t, n, i, r, a, o, s) {
            Os.call(this),
            this.aX = e,
            this.aY = t,
            this.xRadius = n,
            this.yRadius = i,
            this.aStartAngle = r,
            this.aEndAngle = a,
            this.aClockwise = o,
            this.aRotation = s || 0
        }
        function Fs(e) {
            Os.call(this),
            this.points = void 0 === e ? [] : e
        }
        function Bs(e, t, n, i) {
            Os.call(this),
            this.v0 = e,
            this.v1 = t,
            this.v2 = n,
            this.v3 = i
        }
        function Us(e, t, n) {
            Os.call(this),
            this.v0 = e,
            this.v1 = t,
            this.v2 = n
        }
        Object.assign(Os.prototype, {
            getPoint: function() {
                return console.warn("THREE.Curve: .getPoint() not implemented."),
                null
            },
            getPointAt: function(e) {
                var t = this.getUtoTmapping(e);
                return this.getPoint(t)
            },
            getPoints: function(e) {
                void 0 === e && (e = 5);
                for (var t = [], n = 0; n <= e; n++)
                    t.push(this.getPoint(n / e));
                return t
            },
            getSpacedPoints: function(e) {
                void 0 === e && (e = 5);
                for (var t = [], n = 0; n <= e; n++)
                    t.push(this.getPointAt(n / e));
                return t
            },
            getLength: function() {
                var e = this.getLengths();
                return e[e.length - 1]
            },
            getLengths: function(e) {
                if (void 0 === e && (e = this.arcLengthDivisions),
                this.cacheArcLengths && this.cacheArcLengths.length === e + 1 && !this.needsUpdate)
                    return this.cacheArcLengths;
                this.needsUpdate = !1;
                var t, n, i = [], r = this.getPoint(0), a = 0;
                for (i.push(0),
                n = 1; n <= e; n++)
                    a += (t = this.getPoint(n / e)).distanceTo(r),
                    i.push(a),
                    r = t;
                return this.cacheArcLengths = i
            },
            updateArcLengths: function() {
                this.needsUpdate = !0,
                this.getLengths()
            },
            getUtoTmapping: function(e, t) {
                var n, i = this.getLengths(), r = 0, a = i.length;
                n = t || e * i[a - 1];
                for (var o, s = 0, l = a - 1; s <= l; )
                    if ((o = i[r = Math.floor(s + (l - s) / 2)] - n) < 0)
                        s = r + 1;
                    else {
                        if (!(0 < o)) {
                            l = r;
                            break
                        }
                        l = r - 1
                    }
                if (i[r = l] === n)
                    return r / (a - 1);
                var u = i[r];
                return (r + (n - u) / (i[r + 1] - u)) / (a - 1)
            },
            getTangent: function(e) {
                var t = e - 1e-4
                  , n = e + 1e-4;
                t < 0 && (t = 0),
                1 < n && (n = 1);
                var i = this.getPoint(t);
                return this.getPoint(n).clone().sub(i).normalize()
            },
            getTangentAt: function(e) {
                var t = this.getUtoTmapping(e);
                return this.getTangent(t)
            },
            computeFrenetFrames: function(e, t) {
                var n, i, r, a = new Je, o = [], s = [], l = [], u = new Je, c = new et;
                for (n = 0; n <= e; n++)
                    i = n / e,
                    o[n] = this.getTangentAt(i),
                    o[n].normalize();
                s[0] = new Je,
                l[0] = new Je;
                var h = Number.MAX_VALUE
                  , d = Math.abs(o[0].x)
                  , p = Math.abs(o[0].y)
                  , f = Math.abs(o[0].z);
                for (d <= h && (h = d,
                a.set(1, 0, 0)),
                p <= h && (h = p,
                a.set(0, 1, 0)),
                f <= h && a.set(0, 0, 1),
                u.crossVectors(o[0], a).normalize(),
                s[0].crossVectors(o[0], u),
                l[0].crossVectors(o[0], s[0]),
                n = 1; n <= e; n++)
                    s[n] = s[n - 1].clone(),
                    l[n] = l[n - 1].clone(),
                    u.crossVectors(o[n - 1], o[n]),
                    u.length() > Number.EPSILON && (u.normalize(),
                    r = Math.acos(Ze.clamp(o[n - 1].dot(o[n]), -1, 1)),
                    s[n].applyMatrix4(c.makeRotationAxis(u, r))),
                    l[n].crossVectors(o[n], s[n]);
                if (!0 === t)
                    for (r = Math.acos(Ze.clamp(s[0].dot(s[e]), -1, 1)),
                    r /= e,
                    0 < o[0].dot(u.crossVectors(s[0], s[e])) && (r = -r),
                    n = 1; n <= e; n++)
                        s[n].applyMatrix4(c.makeRotationAxis(o[n], r * n)),
                        l[n].crossVectors(o[n], s[n]);
                return {
                    tangents: o,
                    normals: s,
                    binormals: l
                }
            }
        }),
        ((Rs.prototype = Object.create(Os.prototype)).constructor = Rs).prototype.isLineCurve = !0,
        Rs.prototype.getPoint = function(e) {
            if (1 === e)
                return this.v2.clone();
            var t = this.v2.clone().sub(this.v1);
            return t.multiplyScalar(e).add(this.v1),
            t
        }
        ,
        Rs.prototype.getPointAt = function(e) {
            return this.getPoint(e)
        }
        ,
        Rs.prototype.getTangent = function(e) {
            return this.v2.clone().sub(this.v1).normalize()
        }
        ,
        Ds.prototype = Object.assign(Object.create(Os.prototype), {
            constructor: Ds,
            add: function(e) {
                this.curves.push(e)
            },
            closePath: function() {
                var e = this.curves[0].getPoint(0)
                  , t = this.curves[this.curves.length - 1].getPoint(1);
                e.equals(t) || this.curves.push(new Rs(t,e))
            },
            getPoint: function(e) {
                for (var t = e * this.getLength(), n = this.getCurveLengths(), i = 0; i < n.length; ) {
                    if (n[i] >= t) {
                        var r = n[i] - t
                          , a = this.curves[i]
                          , o = a.getLength()
                          , s = 0 === o ? 0 : 1 - r / o;
                        return a.getPointAt(s)
                    }
                    i++
                }
                return null
            },
            getLength: function() {
                var e = this.getCurveLengths();
                return e[e.length - 1]
            },
            updateArcLengths: function() {
                this.needsUpdate = !0,
                this.cacheLengths = null,
                this.getCurveLengths()
            },
            getCurveLengths: function() {
                if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
                    return this.cacheLengths;
                for (var e = [], t = 0, n = 0, i = this.curves.length; n < i; n++)
                    t += this.curves[n].getLength(),
                    e.push(t);
                return this.cacheLengths = e
            },
            getSpacedPoints: function(e) {
                void 0 === e && (e = 40);
                for (var t = [], n = 0; n <= e; n++)
                    t.push(this.getPoint(n / e));
                return this.autoClose && t.push(t[0]),
                t
            },
            getPoints: function(e) {
                e = e || 12;
                for (var t, n = [], i = 0, r = this.curves; i < r.length; i++)
                    for (var a = r[i], o = a && a.isEllipseCurve ? 2 * e : a && a.isLineCurve ? 1 : a && a.isSplineCurve ? e * a.points.length : e, s = a.getPoints(o), l = 0; l < s.length; l++) {
                        var u = s[l];
                        t && t.equals(u) || (n.push(u),
                        t = u)
                    }
                return this.autoClose && 1 < n.length && !n[n.length - 1].equals(n[0]) && n.push(n[0]),
                n
            },
            createPointsGeometry: function(e) {
                var t = this.getPoints(e);
                return this.createGeometry(t)
            },
            createSpacedPointsGeometry: function(e) {
                var t = this.getSpacedPoints(e);
                return this.createGeometry(t)
            },
            createGeometry: function(e) {
                for (var t = new tr, n = 0, i = e.length; n < i; n++) {
                    var r = e[n];
                    t.vertices.push(new Je(r.x,r.y,r.z || 0))
                }
                return t
            }
        }),
        ((Ns.prototype = Object.create(Os.prototype)).constructor = Ns).prototype.isEllipseCurve = !0,
        Ns.prototype.getPoint = function(e) {
            for (var t = 2 * Math.PI, n = this.aEndAngle - this.aStartAngle, i = Math.abs(n) < Number.EPSILON; n < 0; )
                n += t;
            for (; t < n; )
                n -= t;
            n < Number.EPSILON && (n = i ? 0 : t),
            !0 !== this.aClockwise || i || (n === t ? n = -t : n -= t);
            var r = this.aStartAngle + e * n
              , a = this.aX + this.xRadius * Math.cos(r)
              , o = this.aY + this.yRadius * Math.sin(r);
            if (0 !== this.aRotation) {
                var s = Math.cos(this.aRotation)
                  , l = Math.sin(this.aRotation)
                  , u = a - this.aX
                  , c = o - this.aY;
                a = u * s - c * l + this.aX,
                o = u * l + c * s + this.aY
            }
            return new fe(a,o)
        }
        ,
        ((Fs.prototype = Object.create(Os.prototype)).constructor = Fs).prototype.isSplineCurve = !0,
        Fs.prototype.getPoint = function(e) {
            var t = this.points
              , n = (t.length - 1) * e
              , i = Math.floor(n)
              , r = n - i
              , a = t[0 === i ? i : i - 1]
              , o = t[i]
              , s = t[i > t.length - 2 ? t.length - 1 : i + 1]
              , l = t[i > t.length - 3 ? t.length - 1 : i + 2];
            return new fe(As(r, a.x, o.x, s.x, l.x),As(r, a.y, o.y, s.y, l.y))
        }
        ,
        ((Bs.prototype = Object.create(Os.prototype)).constructor = Bs).prototype.getPoint = function(e) {
            var t = this.v0
              , n = this.v1
              , i = this.v2
              , r = this.v3;
            return new fe(Ls(e, t.x, n.x, i.x, r.x),Ls(e, t.y, n.y, i.y, r.y))
        }
        ,
        ((Us.prototype = Object.create(Os.prototype)).constructor = Us).prototype.getPoint = function(e) {
            var t = this.v0
              , n = this.v1
              , i = this.v2;
            return new fe(Is(e, t.x, n.x, i.x),Is(e, t.y, n.y, i.y))
        }
        ;
        var js, zs = Object.assign(Object.create(Ds.prototype), {
            fromPoints: function(e) {
                this.moveTo(e[0].x, e[0].y);
                for (var t = 1, n = e.length; t < n; t++)
                    this.lineTo(e[t].x, e[t].y)
            },
            moveTo: function(e, t) {
                this.currentPoint.set(e, t)
            },
            lineTo: function(e, t) {
                var n = new Rs(this.currentPoint.clone(),new fe(e,t));
                this.curves.push(n),
                this.currentPoint.set(e, t)
            },
            quadraticCurveTo: function(e, t, n, i) {
                var r = new Us(this.currentPoint.clone(),new fe(e,t),new fe(n,i));
                this.curves.push(r),
                this.currentPoint.set(n, i)
            },
            bezierCurveTo: function(e, t, n, i, r, a) {
                var o = new Bs(this.currentPoint.clone(),new fe(e,t),new fe(n,i),new fe(r,a));
                this.curves.push(o),
                this.currentPoint.set(r, a)
            },
            splineThru: function(e) {
                var t = new Fs([this.currentPoint.clone()].concat(e));
                this.curves.push(t),
                this.currentPoint.copy(e[e.length - 1])
            },
            arc: function(e, t, n, i, r, a) {
                var o = this.currentPoint.x
                  , s = this.currentPoint.y;
                this.absarc(e + o, t + s, n, i, r, a)
            },
            absarc: function(e, t, n, i, r, a) {
                this.absellipse(e, t, n, n, i, r, a)
            },
            ellipse: function(e, t, n, i, r, a, o, s) {
                var l = this.currentPoint.x
                  , u = this.currentPoint.y;
                this.absellipse(e + l, t + u, n, i, r, a, o, s)
            },
            absellipse: function(e, t, n, i, r, a, o, s) {
                var l = new Ns(e,t,n,i,r,a,o,s);
                if (0 < this.curves.length) {
                    var u = l.getPoint(0);
                    u.equals(this.currentPoint) || this.lineTo(u.x, u.y)
                }
                this.curves.push(l);
                var c = l.getPoint(1);
                this.currentPoint.copy(c)
            }
        });
        function Hs(e) {
            Ds.call(this),
            this.currentPoint = new fe,
            e && this.fromPoints(e)
        }
        function Vs() {
            Hs.apply(this, arguments),
            this.holes = []
        }
        function Gs() {
            this.subPaths = [],
            this.currentPath = null
        }
        function Ws(e) {
            this.data = e
        }
        function qs(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        (Hs.prototype = zs).constructor = Hs,
        Vs.prototype = Object.assign(Object.create(zs), {
            constructor: Vs,
            getPointsHoles: function(e) {
                for (var t = [], n = 0, i = this.holes.length; n < i; n++)
                    t[n] = this.holes[n].getPoints(e);
                return t
            },
            extractAllPoints: function(e) {
                return {
                    shape: this.getPoints(e),
                    holes: this.getPointsHoles(e)
                }
            },
            extractPoints: function(e) {
                return this.extractAllPoints(e)
            }
        }),
        Object.assign(Gs.prototype, {
            moveTo: function(e, t) {
                this.currentPath = new Hs,
                this.subPaths.push(this.currentPath),
                this.currentPath.moveTo(e, t)
            },
            lineTo: function(e, t) {
                this.currentPath.lineTo(e, t)
            },
            quadraticCurveTo: function(e, t, n, i) {
                this.currentPath.quadraticCurveTo(e, t, n, i)
            },
            bezierCurveTo: function(e, t, n, i, r, a) {
                this.currentPath.bezierCurveTo(e, t, n, i, r, a)
            },
            splineThru: function(e) {
                this.currentPath.splineThru(e)
            },
            toShapes: function(e, t) {
                function n(e) {
                    for (var t = [], n = 0, i = e.length; n < i; n++) {
                        var r = e[n]
                          , a = new Vs;
                        a.curves = r.curves,
                        t.push(a)
                    }
                    return t
                }
                function i(e, t) {
                    for (var n = t.length, i = !1, r = n - 1, a = 0; a < n; r = a++) {
                        var o = t[r]
                          , s = t[a]
                          , l = s.x - o.x
                          , u = s.y - o.y;
                        if (Math.abs(u) > Number.EPSILON) {
                            if (u < 0 && (o = t[a],
                            l = -l,
                            s = t[r],
                            u = -u),
                            e.y < o.y || e.y > s.y)
                                continue;
                            if (e.y === o.y) {
                                if (e.x === o.x)
                                    return !0
                            } else {
                                var c = u * (e.x - o.x) - l * (e.y - o.y);
                                if (0 == c)
                                    return !0;
                                if (c < 0)
                                    continue;
                                i = !i
                            }
                        } else {
                            if (e.y !== o.y)
                                continue;
                            if (s.x <= e.x && e.x <= o.x || o.x <= e.x && e.x <= s.x)
                                return !0
                        }
                    }
                    return i
                }
                var r = no.isClockWise
                  , a = this.subPaths;
                if (0 === a.length)
                    return [];
                if (!0 === t)
                    return n(a);
                var o, s, l, u = [];
                if (1 === a.length)
                    return s = a[0],
                    (l = new Vs).curves = s.curves,
                    u.push(l),
                    u;
                var c = !r(a[0].getPoints());
                c = e ? !c : c;
                var h, d, p = [], f = [], m = [], g = 0;
                f[g] = void 0,
                m[g] = [];
                for (var v = 0, y = a.length; v < y; v++)
                    o = r(h = (s = a[v]).getPoints()),
                    (o = e ? !o : o) ? (!c && f[g] && g++,
                    f[g] = {
                        s: new Vs,
                        p: h
                    },
                    f[g].s.curves = s.curves,
                    c && g++,
                    m[g] = []) : m[g].push({
                        h: s,
                        p: h[0]
                    });
                if (!f[0])
                    return n(a);
                if (1 < f.length) {
                    for (var b = !1, _ = [], w = 0, x = f.length; w < x; w++)
                        p[w] = [];
                    for (w = 0,
                    x = f.length; w < x; w++)
                        for (var T = m[w], S = 0; S < T.length; S++) {
                            for (var E = T[S], C = !0, M = 0; M < f.length; M++)
                                i(E.p, f[M].p) && (w !== M && _.push({
                                    froms: w,
                                    tos: M,
                                    hole: S
                                }),
                                C ? (C = !1,
                                p[M].push(E)) : b = !0);
                            C && p[w].push(E)
                        }
                    0 < _.length && (b || (m = p))
                }
                v = 0;
                for (var k = f.length; v < k; v++) {
                    l = f[v].s,
                    u.push(l);
                    for (var P = 0, A = (d = m[v]).length; P < A; P++)
                        l.holes.push(d[P].h)
                }
                return u
            }
        }),
        Object.assign(Ws.prototype, {
            isFont: !0,
            generateShapes: function(e, c, T) {
                function h(e, t, n, i) {
                    var r = S.glyphs[e] || S.glyphs["?"];
                    if (r) {
                        var a, o, s, l, u, c, h, d, p, f, m, g = new Gs, v = [];
                        if (r.o)
                            for (var y = r._cachedOutline || (r._cachedOutline = r.o.split(" ")), b = 0, _ = y.length; b < _; ) {
                                switch (y[b++]) {
                                case "m":
                                    a = y[b++] * t + n,
                                    o = y[b++] * t + i,
                                    g.moveTo(a, o);
                                    break;
                                case "l":
                                    a = y[b++] * t + n,
                                    o = y[b++] * t + i,
                                    g.lineTo(a, o);
                                    break;
                                case "q":
                                    if (s = y[b++] * t + n,
                                    l = y[b++] * t + i,
                                    h = y[b++] * t + n,
                                    d = y[b++] * t + i,
                                    g.quadraticCurveTo(h, d, s, l),
                                    m = v[v.length - 1]) {
                                        u = m.x,
                                        c = m.y;
                                        for (var w = 1; w <= T; w++) {
                                            Is(x = w / T, u, h, s),
                                            Is(x, c, d, l)
                                        }
                                    }
                                    break;
                                case "b":
                                    if (s = y[b++] * t + n,
                                    l = y[b++] * t + i,
                                    h = y[b++] * t + n,
                                    d = y[b++] * t + i,
                                    p = y[b++] * t + n,
                                    f = y[b++] * t + i,
                                    g.bezierCurveTo(h, d, p, f, s, l),
                                    m = v[v.length - 1]) {
                                        u = m.x,
                                        c = m.y;
                                        for (w = 1; w <= T; w++) {
                                            var x;
                                            Ls(x = w / T, u, h, p, s),
                                            Ls(x, c, d, f, l)
                                        }
                                    }
                                }
                            }
                        return {
                            offsetX: r.ha * t,
                            path: g
                        }
                    }
                }
                void 0 === c && (c = 100),
                void 0 === T && (T = 4);
                for (var S = this.data, t = function(e) {
                    for (var t = String(e).split(""), n = c / S.resolution, i = (S.boundingBox.yMax - S.boundingBox.yMin + S.underlineThickness) * n, r = 0, a = 0, o = [], s = 0; s < t.length; s++) {
                        var l = t[s];
                        if ("\n" === l)
                            r = 0,
                            a -= i;
                        else {
                            var u = h(l, n, r, a);
                            r += u.offsetX,
                            o.push(u.path)
                        }
                    }
                    return o
                }(e), n = [], i = 0, r = t.length; i < r; i++)
                    Array.prototype.push.apply(n, t[i].toShapes());
                return n
            }
        }),
        Object.assign(qs.prototype, {
            load: function(e, i, t, n) {
                var r = this;
                new Bo(this.manager).load(e, function(t) {
                    var n;
                    try {
                        n = JSON.parse(t)
                    } catch (e) {
                        console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
                        n = JSON.parse(t.substring(65, t.length - 2))
                    }
                    var e = r.parse(n);
                    i && i(e)
                }, t, n)
            },
            parse: function(e) {
                return new Ws(e)
            }
        });
        var $s, Xs, Ys, Ks, Zs, Qs, Js, el, tl, nl, il, rl, al, ol, sl, ll, ul, cl, hl, dl, pl, fl, ml, gl, vl, yl, bl, _l, wl, xl, Tl, Sl, El, Cl, Ml, kl, Pl, Al, Il, Ll, Ol, Rl, Dl, Nl = {
            getContext: function() {
                return void 0 === js && (js = new (window.AudioContext || window.webkitAudioContext)),
                js
            },
            setContext: function(e) {
                js = e
            }
        };
        function Fl(e) {
            this.manager = void 0 !== e ? e : Fo
        }
        function Bl() {
            this.type = "StereoCamera",
            this.aspect = 1,
            this.eyeSep = .064,
            this.cameraL = new Qn,
            this.cameraL.layers.enable(1),
            this.cameraL.matrixAutoUpdate = !1,
            this.cameraR = new Qn,
            this.cameraR.layers.enable(2),
            this.cameraR.matrixAutoUpdate = !1
        }
        function Ul(e, t, n) {
            Yn.call(this),
            this.type = "CubeCamera";
            var r = new Qn(90,1,e,t);
            r.up.set(0, -1, 0),
            r.lookAt(new Je(1,0,0)),
            this.add(r);
            var a = new Qn(90,1,e,t);
            a.up.set(0, -1, 0),
            a.lookAt(new Je(-1,0,0)),
            this.add(a);
            var o = new Qn(90,1,e,t);
            o.up.set(0, 0, 1),
            o.lookAt(new Je(0,1,0)),
            this.add(o);
            var s = new Qn(90,1,e,t);
            s.up.set(0, 0, -1),
            s.lookAt(new Je(0,-1,0)),
            this.add(s);
            var l = new Qn(90,1,e,t);
            l.up.set(0, -1, 0),
            l.lookAt(new Je(0,0,1)),
            this.add(l);
            var u = new Qn(90,1,e,t);
            u.up.set(0, -1, 0),
            u.lookAt(new Je(0,0,-1)),
            this.add(u);
            var i = {
                format: qe,
                magFilter: Be,
                minFilter: Be
            };
            this.renderTarget = new Se(n,n,i),
            this.renderTarget.texture.name = "CubeCamera",
            this.updateCubeMap = function(e, t) {
                null === this.parent && this.updateMatrixWorld();
                var n = this.renderTarget
                  , i = n.texture.generateMipmaps;
                n.texture.generateMipmaps = !1,
                n.activeCubeFace = 0,
                e.render(t, r, n),
                n.activeCubeFace = 1,
                e.render(t, a, n),
                n.activeCubeFace = 2,
                e.render(t, o, n),
                n.activeCubeFace = 3,
                e.render(t, s, n),
                n.activeCubeFace = 4,
                e.render(t, l, n),
                n.texture.generateMipmaps = i,
                n.activeCubeFace = 5,
                e.render(t, u, n),
                e.setRenderTarget(null)
            }
        }
        function jl() {
            Yn.call(this),
            this.type = "AudioListener",
            this.context = Nl.getContext(),
            this.gain = this.context.createGain(),
            this.gain.connect(this.context.destination),
            this.filter = null
        }
        function zl(e) {
            Yn.call(this),
            this.type = "Audio",
            this.context = e.context,
            this.gain = this.context.createGain(),
            this.gain.connect(e.getInput()),
            this.autoplay = !1,
            this.buffer = null,
            this.loop = !1,
            this.startTime = 0,
            this.playbackRate = 1,
            this.isPlaying = !1,
            this.hasPlaybackControl = !0,
            this.sourceType = "empty",
            this.filters = []
        }
        function Hl(e) {
            zl.call(this, e),
            this.panner = this.context.createPanner(),
            this.panner.connect(this.gain)
        }
        function Vl(e, t) {
            this.analyser = e.context.createAnalyser(),
            this.analyser.fftSize = void 0 !== t ? t : 2048,
            this.data = new Uint8Array(this.analyser.frequencyBinCount),
            e.getOutput().connect(this.analyser)
        }
        function Gl(e, t, n) {
            this.binding = e,
            this.valueSize = n;
            var i, r = Float64Array;
            switch (t) {
            case "quaternion":
                i = this._slerp;
                break;
            case "string":
            case "bool":
                r = Array,
                i = this._select;
                break;
            default:
                i = this._lerp
            }
            this.buffer = new r(4 * n),
            this._mixBufferRegion = i,
            this.cumulativeWeight = 0,
            this.useCount = 0,
            this.referenceCount = 0
        }
        function Wl(e, t, n) {
            var i = n || ql.parseTrackName(t);
            this._targetGroup = e,
            this._bindings = e.subscribe_(t, i)
        }
        function ql(e, t, n) {
            this.path = t,
            this.parsedPath = n || ql.parseTrackName(t),
            this.node = ql.findNode(e, this.parsedPath.nodeName) || e,
            this.rootNode = e
        }
        function $l(e) {
            this.uuid = Ze.generateUUID(),
            this._objects = Array.prototype.slice.call(arguments),
            this.nCachedObjects_ = 0;
            var t = {};
            this._indicesByUUID = t;
            for (var n = 0, i = arguments.length; n !== i; ++n)
                t[arguments[n].uuid] = n;
            this._paths = [],
            this._parsedPaths = [],
            this._bindings = [],
            this._bindingsIndicesByPath = {};
            var r = this;
            this.stats = {
                objects: {
                    get total() {
                        return r._objects.length
                    },
                    get inUse() {
                        return this.total - r.nCachedObjects_
                    }
                },
                get bindingsPerObject() {
                    return r._bindings.length
                }
            }
        }
        function Xl(e, t, n) {
            this._mixer = e,
            this._clip = t,
            this._localRoot = n || null;
            for (var i = t.tracks, r = i.length, a = new Array(r), o = {
                endingStart: 2400,
                endingEnd: 2400
            }, s = 0; s !== r; ++s) {
                var l = i[s].createInterpolant(null);
                (a[s] = l).settings = o
            }
            this._interpolantSettings = o,
            this._interpolants = a,
            this._propertyBindings = new Array(r),
            this._cacheIndex = null,
            this._byClipCacheIndex = null,
            this._timeScaleInterpolant = null,
            this._weightInterpolant = null,
            this.loop = 2201,
            this._loopCount = -1,
            this._startTime = null,
            this.time = 0,
            this.timeScale = 1,
            this._effectiveTimeScale = 1,
            this.weight = 1,
            this._effectiveWeight = 1,
            this.repetitions = 1 / 0,
            this.paused = !1,
            this.enabled = !0,
            this.clampWhenFinished = !1,
            this.zeroSlopeAtStart = !0,
            this.zeroSlopeAtEnd = !0
        }
        function Yl(e) {
            this._root = e,
            this._initMemoryManager(),
            this._accuIndex = 0,
            this.time = 0,
            this.timeScale = 1
        }
        function Kl(e) {
            "string" == typeof e && (console.warn("THREE.Uniform: Type parameter is no longer needed."),
            e = arguments[1]),
            this.value = e
        }
        function Zl() {
            fr.call(this),
            this.type = "InstancedBufferGeometry",
            this.maxInstancedCount = void 0
        }
        function Ql(e, t, n, i) {
            this.uuid = Ze.generateUUID(),
            this.data = e,
            this.itemSize = t,
            this.offset = n,
            this.normalized = !0 === i
        }
        function Jl(e, t) {
            this.uuid = Ze.generateUUID(),
            this.array = e,
            this.stride = t,
            this.count = void 0 !== e ? e.length / t : 0,
            this.dynamic = !1,
            this.updateRange = {
                offset: 0,
                count: -1
            },
            this.onUploadCallback = function() {}
            ,
            this.version = 0
        }
        function eu(e, t, n) {
            Jl.call(this, e, t),
            this.meshPerAttribute = n || 1
        }
        function tu(e, t, n) {
            nr.call(this, e, t),
            this.meshPerAttribute = n || 1
        }
        function nu(e, t, n, i) {
            this.ray = new _r(e,t),
            this.near = n || 0,
            this.far = i || 1 / 0,
            this.params = {
                Mesh: {},
                Line: {},
                LOD: {},
                Points: {
                    threshold: 1
                },
                Sprite: {}
            },
            Object.defineProperties(this.params, {
                PointCloud: {
                    get: function() {
                        return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
                        this.Points
                    }
                }
            })
        }
        function iu(e, t) {
            return e.distance - t.distance
        }
        function ru(e, t, n, i) {
            if (!1 !== e.visible && (e.raycast(t, n),
            !0 === i))
                for (var r = e.children, a = 0, o = r.length; a < o; a++)
                    ru(r[a], t, n, !0)
        }
        function au(e) {
            this.autoStart = void 0 === e || e,
            this.startTime = 0,
            this.oldTime = 0,
            this.elapsedTime = 0,
            this.running = !1
        }
        function ou(e, t, n) {
            return this.radius = void 0 !== e ? e : 1,
            this.phi = void 0 !== t ? t : 0,
            this.theta = void 0 !== n ? n : 0,
            this
        }
        function su(e, t, n) {
            return this.radius = void 0 !== e ? e : 1,
            this.theta = void 0 !== t ? t : 0,
            this.y = void 0 !== n ? n : 0,
            this
        }
        function lu(e, t) {
            Tr.call(this, e, t),
            this.animationsMap = {},
            this.animationsList = [];
            var n = this.geometry.morphTargets.length
              , i = n - 1
              , r = n / 1;
            this.createAnimation("__default", 0, i, r),
            this.setAnimationWeight("__default", 1)
        }
        function uu(e) {
            Yn.call(this),
            this.material = e,
            this.render = function(e) {}
        }
        function cu(e, t, n, i) {
            this.object = e,
            this.size = void 0 !== t ? t : 1;
            var r = void 0 !== n ? n : 16711680
              , a = void 0 !== i ? i : 1
              , o = 0
              , s = this.object.geometry;
            s && s.isGeometry ? o = 3 * s.faces.length : s && s.isBufferGeometry && (o = s.attributes.normal.count);
            var l = new fr
              , u = new cr(2 * o * 3,3);
            l.addAttribute("position", u),
            ka.call(this, l, new Ca({
                color: r,
                linewidth: a
            })),
            this.matrixAutoUpdate = !1,
            this.update()
        }
        function hu(e) {
            Yn.call(this),
            this.light = e,
            this.light.updateMatrixWorld(),
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1;
            for (var t = new fr, n = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], i = 0, r = 1; i < 32; i++,
            r++) {
                var a = i / 32 * Math.PI * 2
                  , o = r / 32 * Math.PI * 2;
                n.push(Math.cos(a), Math.sin(a), 1, Math.cos(o), Math.sin(o), 1)
            }
            t.addAttribute("position", new cr(n,3));
            var s = new Ca({
                fog: !1
            });
            this.cone = new ka(t,s),
            this.add(this.cone),
            this.update()
        }
        function du(e) {
            for (var t = function e(t) {
                var n = [];
                t && t.isBone && n.push(t);
                for (var i = 0; i < t.children.length; i++)
                    n.push.apply(n, e(t.children[i]));
                return n
            }(e), n = new fr, i = [], r = [], a = new zt(0,0,1), o = new zt(0,1,0), s = 0; s < t.length; s++) {
                var l = t[s];
                l.parent && l.parent.isBone && (i.push(0, 0, 0),
                i.push(0, 0, 0),
                r.push(a.r, a.g, a.b),
                r.push(o.r, o.g, o.b))
            }
            n.addAttribute("position", new cr(i,3)),
            n.addAttribute("color", new cr(r,3));
            var u = new Ca({
                vertexColors: 2,
                depthTest: !1,
                depthWrite: !1,
                transparent: !0
            });
            ka.call(this, n, u),
            this.root = e,
            this.bones = t,
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1,
            this.onBeforeRender()
        }
        function pu(e, t) {
            this.light = e,
            this.light.updateMatrixWorld();
            var n = new uo(t,4,2)
              , i = new br({
                wireframe: !0,
                fog: !1
            });
            i.color.copy(this.light.color),
            Tr.call(this, n, i),
            this.matrix = this.light.matrixWorld,
            this.matrixAutoUpdate = !1
        }
        function fu(e) {
            Yn.call(this),
            this.light = e,
            this.light.updateMatrixWorld(),
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1;
            var t = new Ca({
                color: e.color
            })
              , n = new fr;
            n.addAttribute("position", new nr(new Float32Array(15),3)),
            this.add(new Ma(n,t)),
            this.update()
        }
        function mu(e, t) {
            Yn.call(this),
            this.light = e,
            this.light.updateMatrixWorld(),
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1;
            var n = new Wa(t);
            n.rotateY(.5 * Math.PI);
            var i = new br({
                vertexColors: 2,
                wireframe: !0
            })
              , r = n.getAttribute("position")
              , a = new Float32Array(3 * r.count);
            n.addAttribute("color", new nr(a,3)),
            this.add(new Tr(n,i)),
            this.update()
        }
        function gu(e, t, n, i) {
            e = e || 10,
            t = t || 10,
            n = new zt(void 0 !== n ? n : 4473924),
            i = new zt(void 0 !== i ? i : 8947848);
            for (var r = t / 2, a = e / t, o = e / 2, s = [], l = [], u = 0, c = 0, h = -o; u <= t; u++,
            h += a) {
                s.push(-o, 0, h, o, 0, h),
                s.push(h, 0, -o, h, 0, o);
                var d = u === r ? n : i;
                d.toArray(l, c),
                c += 3,
                d.toArray(l, c),
                c += 3,
                d.toArray(l, c),
                c += 3,
                d.toArray(l, c),
                c += 3
            }
            var p = new fr;
            p.addAttribute("position", new cr(s,3)),
            p.addAttribute("color", new cr(l,3));
            var f = new Ca({
                vertexColors: 2
            });
            ka.call(this, p, f)
        }
        function vu(e, t, n, i, r, a) {
            e = e || 10,
            t = t || 16,
            n = n || 8,
            i = i || 64,
            r = new zt(void 0 !== r ? r : 4473924),
            a = new zt(void 0 !== a ? a : 8947848);
            var o, s, l, u, c, h, d, p = [], f = [];
            for (u = 0; u <= t; u++)
                l = u / t * (2 * Math.PI),
                o = Math.sin(l) * e,
                s = Math.cos(l) * e,
                p.push(0, 0, 0),
                p.push(o, 0, s),
                d = 1 & u ? r : a,
                f.push(d.r, d.g, d.b),
                f.push(d.r, d.g, d.b);
            for (u = 0; u <= n; u++)
                for (d = 1 & u ? r : a,
                h = e - e / n * u,
                c = 0; c < i; c++)
                    l = c / i * (2 * Math.PI),
                    o = Math.sin(l) * h,
                    s = Math.cos(l) * h,
                    p.push(o, 0, s),
                    f.push(d.r, d.g, d.b),
                    l = (c + 1) / i * (2 * Math.PI),
                    o = Math.sin(l) * h,
                    s = Math.cos(l) * h,
                    p.push(o, 0, s),
                    f.push(d.r, d.g, d.b);
            var m = new fr;
            m.addAttribute("position", new cr(p,3)),
            m.addAttribute("color", new cr(f,3));
            var g = new Ca({
                vertexColors: 2
            });
            ka.call(this, m, g)
        }
        function yu(e, t, n, i) {
            this.object = e,
            this.size = void 0 !== t ? t : 1;
            var r = void 0 !== n ? n : 16776960
              , a = void 0 !== i ? i : 1
              , o = 0
              , s = this.object.geometry;
            s && s.isGeometry ? o = s.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
            var l = new fr
              , u = new cr(2 * o * 3,3);
            l.addAttribute("position", u),
            ka.call(this, l, new Ca({
                color: r,
                linewidth: a
            })),
            this.matrixAutoUpdate = !1,
            this.update()
        }
        function bu(e, t) {
            Yn.call(this),
            this.light = e,
            this.light.updateMatrixWorld(),
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1,
            void 0 === t && (t = 1);
            var n = new fr;
            n.addAttribute("position", new cr([-t, t, 0, t, t, 0, t, -t, 0, -t, -t, 0, -t, t, 0],3));
            var i = new Ca({
                fog: !1
            });
            this.add(new Ma(n,i)),
            (n = new fr).addAttribute("position", new cr([0, 0, 0, 0, 0, 1],3)),
            this.add(new Ma(n,i)),
            this.update()
        }
        function _u(e) {
            var t = new fr
              , n = new Ca({
                color: 16777215,
                vertexColors: 1
            })
              , i = []
              , r = []
              , a = {}
              , o = new zt(16755200)
              , s = new zt(16711680)
              , l = new zt(43775)
              , u = new zt(16777215)
              , c = new zt(3355443);
            function h(e, t, n) {
                d(e, n),
                d(t, n)
            }
            function d(e, t) {
                i.push(0, 0, 0),
                r.push(t.r, t.g, t.b),
                void 0 === a[e] && (a[e] = []),
                a[e].push(i.length / 3 - 1)
            }
            h("n1", "n2", o),
            h("n2", "n4", o),
            h("n4", "n3", o),
            h("n3", "n1", o),
            h("f1", "f2", o),
            h("f2", "f4", o),
            h("f4", "f3", o),
            h("f3", "f1", o),
            h("n1", "f1", o),
            h("n2", "f2", o),
            h("n3", "f3", o),
            h("n4", "f4", o),
            h("p", "n1", s),
            h("p", "n2", s),
            h("p", "n3", s),
            h("p", "n4", s),
            h("u1", "u2", l),
            h("u2", "u3", l),
            h("u3", "u1", l),
            h("c", "t", u),
            h("p", "c", c),
            h("cn1", "cn2", c),
            h("cn3", "cn4", c),
            h("cf1", "cf2", c),
            h("cf3", "cf4", c),
            t.addAttribute("position", new cr(i,3)),
            t.addAttribute("color", new cr(r,3)),
            ka.call(this, t, n),
            this.camera = e,
            this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(),
            this.matrix = e.matrixWorld,
            this.matrixAutoUpdate = !1,
            this.pointMap = a,
            this.update()
        }
        function wu(e, t, n, i) {
            Pl.set(t, n, i).unproject(Al);
            var r = kl[e];
            if (void 0 !== r)
                for (var a = Ml.getAttribute("position"), o = 0, s = r.length; o < s; o++)
                    a.setXYZ(r[o], Pl.x, Pl.y, Pl.z)
        }
        function xu(e, t) {
            this.object = e,
            void 0 === t && (t = 16776960);
            var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
              , i = new Float32Array(24)
              , r = new fr;
            r.setIndex(new nr(n,1)),
            r.addAttribute("position", new nr(i,3)),
            ka.call(this, r, new Ca({
                color: t
            })),
            this.matrixAutoUpdate = !1,
            this.update()
        }
        function Tu(e, t, n, i, r, a) {
            Yn.call(this),
            void 0 === i && (i = 16776960),
            void 0 === n && (n = 1),
            void 0 === r && (r = .2 * n),
            void 0 === a && (a = .2 * r),
            void 0 === Ll && ((Ll = new fr).addAttribute("position", new cr([0, 0, 0, 0, 1, 0],3)),
            (Ol = new bo(0,.5,1,5,1)).translate(0, -.5, 0)),
            this.position.copy(t),
            this.line = new Ma(Ll,new Ca({
                color: i
            })),
            this.line.matrixAutoUpdate = !1,
            this.add(this.line),
            this.cone = new Tr(Ol,new br({
                color: i
            })),
            this.cone.matrixAutoUpdate = !1,
            this.add(this.cone),
            this.setDirection(e),
            this.setLength(n, r, a)
        }
        function Su(e) {
            var t = [0, 0, 0, e = e || 1, 0, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 0, e]
              , n = new fr;
            n.addAttribute("position", new cr(t,3)),
            n.addAttribute("color", new cr([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1],3));
            var i = new Ca({
                vertexColors: 2
            });
            ka.call(this, n, i)
        }
        function Eu() {
            var r = 0
              , a = 0
              , o = 0
              , s = 0;
            function u(e, t, n, i) {
                o = -3 * (r = e) + 3 * t - 2 * (a = n) - i,
                s = 2 * e - 2 * t + n + i
            }
            return {
                initCatmullRom: function(e, t, n, i, r) {
                    u(t, n, r * (n - e), r * (i - t))
                },
                initNonuniformCatmullRom: function(e, t, n, i, r, a, o) {
                    var s = (t - e) / r - (n - e) / (r + a) + (n - t) / a
                      , l = (n - t) / a - (i - t) / (a + o) + (i - n) / o;
                    u(t, n, s *= a, l *= a)
                },
                calc: function(e) {
                    var t = e * e;
                    return r + a * e + o * t + s * (t * e)
                }
            }
        }
        Object.assign(Fl.prototype, {
            load: function(e, t, n, i) {
                var r = new Bo(this.manager);
                r.setResponseType("arraybuffer"),
                r.load(e, function(e) {
                    Nl.getContext().decodeAudioData(e, function(e) {
                        t(e)
                    })
                }, n, i)
            }
        }),
        Object.assign(Bl.prototype, {
            update: (tl = new et,
            nl = new et,
            function(e) {
                if ($s !== this || Xs !== e.focus || Ys !== e.fov || Ks !== e.aspect * this.aspect || Zs !== e.near || Qs !== e.far || Js !== e.zoom || el !== this.eyeSep) {
                    $s = this,
                    Xs = e.focus,
                    Ys = e.fov,
                    Ks = e.aspect * this.aspect,
                    Zs = e.near,
                    Qs = e.far,
                    Js = e.zoom;
                    var t, n, i = e.projectionMatrix.clone(), r = (el = this.eyeSep / 2) * Zs / Xs, a = Zs * Math.tan(Ze.DEG2RAD * Ys * .5) / Js;
                    nl.elements[12] = -el,
                    tl.elements[12] = el,
                    t = -a * Ks + r,
                    n = a * Ks + r,
                    i.elements[0] = 2 * Zs / (n - t),
                    i.elements[8] = (n + t) / (n - t),
                    this.cameraL.projectionMatrix.copy(i),
                    t = -a * Ks - r,
                    n = a * Ks - r,
                    i.elements[0] = 2 * Zs / (n - t),
                    i.elements[8] = (n + t) / (n - t),
                    this.cameraR.projectionMatrix.copy(i)
                }
                this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nl),
                this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tl)
            }
            )
        }),
        (Ul.prototype = Object.create(Yn.prototype)).constructor = Ul,
        jl.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: jl,
            getInput: function() {
                return this.gain
            },
            removeFilter: function() {
                null !== this.filter && (this.gain.disconnect(this.filter),
                this.filter.disconnect(this.context.destination),
                this.gain.connect(this.context.destination),
                this.filter = null)
            },
            getFilter: function() {
                return this.filter
            },
            setFilter: function(e) {
                null !== this.filter ? (this.gain.disconnect(this.filter),
                this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination),
                this.filter = e,
                this.gain.connect(this.filter),
                this.filter.connect(this.context.destination)
            },
            getMasterVolume: function() {
                return this.gain.gain.value
            },
            setMasterVolume: function(e) {
                this.gain.gain.value = e
            },
            updateMatrixWorld: (il = new Je,
            rl = new Ee,
            al = new Je,
            ol = new Je,
            function(e) {
                Yn.prototype.updateMatrixWorld.call(this, e);
                var t = this.context.listener
                  , n = this.up;
                this.matrixWorld.decompose(il, rl, al),
                ol.set(0, 0, -1).applyQuaternion(rl),
                t.positionX ? (t.positionX.setValueAtTime(il.x, this.context.currentTime),
                t.positionY.setValueAtTime(il.y, this.context.currentTime),
                t.positionZ.setValueAtTime(il.z, this.context.currentTime),
                t.forwardX.setValueAtTime(ol.x, this.context.currentTime),
                t.forwardY.setValueAtTime(ol.y, this.context.currentTime),
                t.forwardZ.setValueAtTime(ol.z, this.context.currentTime),
                t.upX.setValueAtTime(n.x, this.context.currentTime),
                t.upY.setValueAtTime(n.y, this.context.currentTime),
                t.upZ.setValueAtTime(n.z, this.context.currentTime)) : (t.setPosition(il.x, il.y, il.z),
                t.setOrientation(ol.x, ol.y, ol.z, n.x, n.y, n.z))
            }
            )
        }),
        zl.prototype = Object.assign(Object.create(Yn.prototype), {
            constructor: zl,
            getOutput: function() {
                return this.gain
            },
            setNodeSource: function(e) {
                return this.hasPlaybackControl = !1,
                this.sourceType = "audioNode",
                this.source = e,
                this.connect(),
                this
            },
            setBuffer: function(e) {
                return this.buffer = e,
                this.sourceType = "buffer",
                this.autoplay && this.play(),
                this
            },
            play: function() {
                if (!0 !== this.isPlaying) {
                    if (!1 !== this.hasPlaybackControl) {
                        var e = this.context.createBufferSource();
                        return e.buffer = this.buffer,
                        e.loop = this.loop,
                        e.onended = this.onEnded.bind(this),
                        e.playbackRate.setValueAtTime(this.playbackRate, this.startTime),
                        e.start(0, this.startTime),
                        this.isPlaying = !0,
                        this.source = e,
                        this.connect()
                    }
                    console.warn("THREE.Audio: this Audio has no playback control.")
                } else
                    console.warn("THREE.Audio: Audio is already playing.")
            },
            pause: function() {
                if (!1 !== this.hasPlaybackControl)
                    return this.source.stop(),
                    this.startTime = this.context.currentTime,
                    this.isPlaying = !1,
                    this;
                console.warn("THREE.Audio: this Audio has no playback control.")
            },
            stop: function() {
                if (!1 !== this.hasPlaybackControl)
                    return this.source.stop(),
                    this.startTime = 0,
                    this.isPlaying = !1,
                    this;
                console.warn("THREE.Audio: this Audio has no playback control.")
            },
            connect: function() {
                if (0 < this.filters.length) {
                    this.source.connect(this.filters[0]);
                    for (var e = 1, t = this.filters.length; e < t; e++)
                        this.filters[e - 1].connect(this.filters[e]);
                    this.filters[this.filters.length - 1].connect(this.getOutput())
                } else
                    this.source.connect(this.getOutput());
                return this
            },
            disconnect: function() {
                if (0 < this.filters.length) {
                    this.source.disconnect(this.filters[0]);
                    for (var e = 1, t = this.filters.length; e < t; e++)
                        this.filters[e - 1].disconnect(this.filters[e]);
                    this.filters[this.filters.length - 1].disconnect(this.getOutput())
                } else
                    this.source.disconnect(this.getOutput());
                return this
            },
            getFilters: function() {
                return this.filters
            },
            setFilters: function(e) {
                return e = e || [],
                !0 === this.isPlaying ? (this.disconnect(),
                this.filters = e,
                this.connect()) : this.filters = e,
                this
            },
            getFilter: function() {
                return this.getFilters()[0]
            },
            setFilter: function(e) {
                return this.setFilters(e ? [e] : [])
            },
            setPlaybackRate: function(e) {
                if (!1 !== this.hasPlaybackControl)
                    return this.playbackRate = e,
                    !0 === this.isPlaying && this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime),
                    this;
                console.warn("THREE.Audio: this Audio has no playback control.")
            },
            getPlaybackRate: function() {
                return this.playbackRate
            },
            onEnded: function() {
                this.isPlaying = !1
            },
            getLoop: function() {
                return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."),
                !1) : this.loop
            },
            setLoop: function(e) {
                if (!1 !== this.hasPlaybackControl)
                    return this.loop = e,
                    !0 === this.isPlaying && (this.source.loop = this.loop),
                    this;
                console.warn("THREE.Audio: this Audio has no playback control.")
            },
            getVolume: function() {
                return this.gain.gain.value
            },
            setVolume: function(e) {
                return this.gain.gain.value = e,
                this
            }
        }),
        Hl.prototype = Object.assign(Object.create(zl.prototype), {
            constructor: Hl,
            getOutput: function() {
                return this.panner
            },
            getRefDistance: function() {
                return this.panner.refDistance
            },
            setRefDistance: function(e) {
                this.panner.refDistance = e
            },
            getRolloffFactor: function() {
                return this.panner.rolloffFactor
            },
            setRolloffFactor: function(e) {
                this.panner.rolloffFactor = e
            },
            getDistanceModel: function() {
                return this.panner.distanceModel
            },
            setDistanceModel: function(e) {
                this.panner.distanceModel = e
            },
            getMaxDistance: function() {
                return this.panner.maxDistance
            },
            setMaxDistance: function(e) {
                this.panner.maxDistance = e
            },
            updateMatrixWorld: (sl = new Je,
            function(e) {
                Yn.prototype.updateMatrixWorld.call(this, e),
                sl.setFromMatrixPosition(this.matrixWorld),
                this.panner.setPosition(sl.x, sl.y, sl.z)
            }
            )
        }),
        Object.assign(Vl.prototype, {
            getFrequencyData: function() {
                return this.analyser.getByteFrequencyData(this.data),
                this.data
            },
            getAverageFrequency: function() {
                for (var e = 0, t = this.getFrequencyData(), n = 0; n < t.length; n++)
                    e += t[n];
                return e / t.length
            }
        }),
        Object.assign(Gl.prototype, {
            accumulate: function(e, t) {
                var n = this.buffer
                  , i = this.valueSize
                  , r = e * i + i
                  , a = this.cumulativeWeight;
                if (0 === a) {
                    for (var o = 0; o !== i; ++o)
                        n[r + o] = n[o];
                    a = t
                } else {
                    var s = t / (a += t);
                    this._mixBufferRegion(n, r, 0, s, i)
                }
                this.cumulativeWeight = a
            },
            apply: function(e) {
                var t = this.valueSize
                  , n = this.buffer
                  , i = e * t + t
                  , r = this.cumulativeWeight
                  , a = this.binding;
                if (this.cumulativeWeight = 0,
                r < 1) {
                    var o = 3 * t;
                    this._mixBufferRegion(n, i, o, 1 - r, t)
                }
                for (var s = t, l = t + t; s !== l; ++s)
                    if (n[s] !== n[s + t]) {
                        a.setValue(n, i);
                        break
                    }
            },
            saveOriginalState: function() {
                var e = this.binding
                  , t = this.buffer
                  , n = this.valueSize
                  , i = 3 * n;
                e.getValue(t, i);
                for (var r = n, a = i; r !== a; ++r)
                    t[r] = t[i + r % n];
                this.cumulativeWeight = 0
            },
            restoreOriginalState: function() {
                var e = 3 * this.valueSize;
                this.binding.setValue(this.buffer, e)
            },
            _select: function(e, t, n, i, r) {
                if (.5 <= i)
                    for (var a = 0; a !== r; ++a)
                        e[t + a] = e[n + a]
            },
            _slerp: function(e, t, n, i) {
                Ee.slerpFlat(e, t, e, t, e, n, i)
            },
            _lerp: function(e, t, n, i, r) {
                for (var a = 1 - i, o = 0; o !== r; ++o) {
                    var s = t + o;
                    e[s] = e[s] * a + e[n + o] * i
                }
            }
        }),
        Object.assign(Wl.prototype, {
            getValue: function(e, t) {
                this.bind();
                var n = this._targetGroup.nCachedObjects_
                  , i = this._bindings[n];
                void 0 !== i && i.getValue(e, t)
            },
            setValue: function(e, t) {
                for (var n = this._bindings, i = this._targetGroup.nCachedObjects_, r = n.length; i !== r; ++i)
                    n[i].setValue(e, t)
            },
            bind: function() {
                for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t)
                    e[t].bind()
            },
            unbind: function() {
                for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t)
                    e[t].unbind()
            }
        }),
        Object.assign(ql, {
            Composite: Wl,
            create: function(e, t, n) {
                return e && e.isAnimationObjectGroup ? new ql.Composite(e,t,n) : new ql(e,t,n)
            },
            sanitizeNodeName: function(e) {
                return e.replace(/\s/g, "_").replace(/[^\w-]/g, "")
            },
            parseTrackName: (ll = new RegExp("^" + /((?:[\w-]+[\/:])*)/.source + /([\w-\.]+)?/.source + /(?:\.([\w-]+)(?:\[(.+)\])?)?/.source + /\.([\w-]+)(?:\[(.+)\])?/.source + "$"),
            ul = ["material", "materials", "bones"],
            function(e) {
                var t = ll.exec(e);
                if (!t)
                    throw new Error("PropertyBinding: Cannot parse trackName: " + e);
                var n = {
                    nodeName: t[2],
                    objectName: t[3],
                    objectIndex: t[4],
                    propertyName: t[5],
                    propertyIndex: t[6]
                }
                  , i = n.nodeName && n.nodeName.lastIndexOf(".");
                if (void 0 !== i && -1 !== i) {
                    var r = n.nodeName.substring(i + 1);
                    -1 !== ul.indexOf(r) && (n.nodeName = n.nodeName.substring(0, i),
                    n.objectName = r)
                }
                if (null === n.propertyName || 0 === n.propertyName.length)
                    throw new Error("PropertyBinding: can not parse propertyName from trackName: " + e);
                return n
            }
            ),
            findNode: function(e, a) {
                if (!a || "" === a || "root" === a || "." === a || -1 === a || a === e.name || a === e.uuid)
                    return e;
                if (e.skeleton) {
                    var t = function(e) {
                        for (var t = 0; t < e.bones.length; t++) {
                            var n = e.bones[t];
                            if (n.name === a)
                                return n
                        }
                        return null
                    }(e.skeleton);
                    if (t)
                        return t
                }
                if (e.children) {
                    var n = function e(t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (i.name === a || i.uuid === a)
                                return i;
                            var r = e(i.children);
                            if (r)
                                return r
                        }
                        return null
                    }(e.children);
                    if (n)
                        return n
                }
                return null
            }
        }),
        Object.assign(ql.prototype, {
            _getValue_unavailable: function() {},
            _setValue_unavailable: function() {},
            BindingType: {
                Direct: 0,
                EntireArray: 1,
                ArrayElement: 2,
                HasFromToArray: 3
            },
            Versioning: {
                None: 0,
                NeedsUpdate: 1,
                MatrixWorldNeedsUpdate: 2
            },
            GetterByBindingType: [function(e, t) {
                e[t] = this.node[this.propertyName]
            }
            , function(e, t) {
                for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
                    e[t++] = n[i]
            }
            , function(e, t) {
                e[t] = this.resolvedProperty[this.propertyIndex]
            }
            , function(e, t) {
                this.resolvedProperty.toArray(e, t)
            }
            ],
            SetterByBindingTypeAndVersioning: [[function(e, t) {
                this.node[this.propertyName] = e[t]
            }
            , function(e, t) {
                this.node[this.propertyName] = e[t],
                this.targetObject.needsUpdate = !0
            }
            , function(e, t) {
                this.node[this.propertyName] = e[t],
                this.targetObject.matrixWorldNeedsUpdate = !0
            }
            ], [function(e, t) {
                for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
                    n[i] = e[t++]
            }
            , function(e, t) {
                for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
                    n[i] = e[t++];
                this.targetObject.needsUpdate = !0
            }
            , function(e, t) {
                for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
                    n[i] = e[t++];
                this.targetObject.matrixWorldNeedsUpdate = !0
            }
            ], [function(e, t) {
                this.resolvedProperty[this.propertyIndex] = e[t]
            }
            , function(e, t) {
                this.resolvedProperty[this.propertyIndex] = e[t],
                this.targetObject.needsUpdate = !0
            }
            , function(e, t) {
                this.resolvedProperty[this.propertyIndex] = e[t],
                this.targetObject.matrixWorldNeedsUpdate = !0
            }
            ], [function(e, t) {
                this.resolvedProperty.fromArray(e, t)
            }
            , function(e, t) {
                this.resolvedProperty.fromArray(e, t),
                this.targetObject.needsUpdate = !0
            }
            , function(e, t) {
                this.resolvedProperty.fromArray(e, t),
                this.targetObject.matrixWorldNeedsUpdate = !0
            }
            ]],
            getValue: function(e, t) {
                this.bind(),
                this.getValue(e, t)
            },
            setValue: function(e, t) {
                this.bind(),
                this.setValue(e, t)
            },
            bind: function() {
                var e = this.node
                  , t = this.parsedPath
                  , n = t.objectName
                  , i = t.propertyName
                  , r = t.propertyIndex;
                if (e || (e = ql.findNode(this.rootNode, t.nodeName) || this.rootNode,
                this.node = e),
                this.getValue = this._getValue_unavailable,
                this.setValue = this._setValue_unavailable,
                e) {
                    if (n) {
                        var a = t.objectIndex;
                        switch (n) {
                        case "materials":
                            if (!e.material)
                                return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                            if (!e.material.materials)
                                return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                            e = e.material.materials;
                            break;
                        case "bones":
                            if (!e.skeleton)
                                return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                            e = e.skeleton.bones;
                            for (var o = 0; o < e.length; o++)
                                if (e[o].name === a) {
                                    a = o;
                                    break
                                }
                            break;
                        default:
                            if (void 0 === e[n])
                                return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                            e = e[n]
                        }
                        if (void 0 !== a) {
                            if (void 0 === e[a])
                                return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, e);
                            e = e[a]
                        }
                    }
                    var s = e[i];
                    if (void 0 !== s) {
                        var l = this.Versioning.None;
                        void 0 !== e.needsUpdate ? (l = this.Versioning.NeedsUpdate,
                        this.targetObject = e) : void 0 !== e.matrixWorldNeedsUpdate && (l = this.Versioning.MatrixWorldNeedsUpdate,
                        this.targetObject = e);
                        var u = this.BindingType.Direct;
                        if (void 0 !== r) {
                            if ("morphTargetInfluences" === i) {
                                if (!e.geometry)
                                    return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                                if (e.geometry.isBufferGeometry) {
                                    if (!e.geometry.morphAttributes)
                                        return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                    for (o = 0; o < this.node.geometry.morphAttributes.position.length; o++)
                                        if (e.geometry.morphAttributes.position[o].name === r) {
                                            r = o;
                                            break
                                        }
                                } else {
                                    if (!e.geometry.morphTargets)
                                        return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                    for (o = 0; o < this.node.geometry.morphTargets.length; o++)
                                        if (e.geometry.morphTargets[o].name === r) {
                                            r = o;
                                            break
                                        }
                                }
                            }
                            u = this.BindingType.ArrayElement,
                            this.resolvedProperty = s,
                            this.propertyIndex = r
                        } else
                            void 0 !== s.fromArray && void 0 !== s.toArray ? (u = this.BindingType.HasFromToArray,
                            this.resolvedProperty = s) : Array.isArray(s) ? (u = this.BindingType.EntireArray,
                            this.resolvedProperty = s) : this.propertyName = i;
                        this.getValue = this.GetterByBindingType[u],
                        this.setValue = this.SetterByBindingTypeAndVersioning[u][l]
                    } else {
                        var c = t.nodeName;
                        console.error("THREE.PropertyBinding: Trying to update property for track: " + c + "." + i + " but it wasn't found.", e)
                    }
                } else
                    console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.")
            },
            unbind: function() {
                this.node = null,
                this.getValue = this._getValue_unbound,
                this.setValue = this._setValue_unbound
            }
        }),
        //!\ DECLARE ALIAS AFTER assign prototype !
        Object.assign(ql.prototype, {
            _getValue_unbound: ql.prototype.getValue,
            _setValue_unbound: ql.prototype.setValue
        }),
        Object.assign($l.prototype, {
            isAnimationObjectGroup: !0,
            add: function(e) {
                for (var t = this._objects, n = t.length, i = this.nCachedObjects_, r = this._indicesByUUID, a = this._paths, o = this._parsedPaths, s = this._bindings, l = s.length, u = 0, c = arguments.length; u !== c; ++u) {
                    var h = arguments[u]
                      , d = h.uuid
                      , p = r[d]
                      , f = void 0;
                    if (void 0 === p) {
                        p = n++,
                        r[d] = p,
                        t.push(h);
                        for (var m = 0, g = l; m !== g; ++m)
                            s[m].push(new ql(h,a[m],o[m]))
                    } else if (p < i) {
                        f = t[p];
                        var v = --i
                          , y = t[v];
                        t[r[y.uuid] = p] = y,
                        t[r[d] = v] = h;
                        for (m = 0,
                        g = l; m !== g; ++m) {
                            var b = s[m]
                              , _ = b[v]
                              , w = b[p];
                            b[p] = _,
                            void 0 === w && (w = new ql(h,a[m],o[m])),
                            b[v] = w
                        }
                    } else
                        t[p] !== f && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
                }
                this.nCachedObjects_ = i
            },
            remove: function(e) {
                for (var t = this._objects, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._bindings, a = r.length, o = 0, s = arguments.length; o !== s; ++o) {
                    var l = arguments[o]
                      , u = l.uuid
                      , c = i[u];
                    if (void 0 !== c && n <= c) {
                        var h = n++
                          , d = t[h];
                        t[i[d.uuid] = c] = d,
                        t[i[u] = h] = l;
                        for (var p = 0, f = a; p !== f; ++p) {
                            var m = r[p]
                              , g = m[h]
                              , v = m[c];
                            m[c] = g,
                            m[h] = v
                        }
                    }
                }
                this.nCachedObjects_ = n
            },
            uncache: function(e) {
                for (var t = this._objects, n = t.length, i = this.nCachedObjects_, r = this._indicesByUUID, a = this._bindings, o = a.length, s = 0, l = arguments.length; s !== l; ++s) {
                    var u = arguments[s].uuid
                      , c = r[u];
                    if (void 0 !== c)
                        if (delete r[u],
                        c < i) {
                            var h = --i
                              , d = t[h]
                              , p = t[y = --n];
                            t[r[d.uuid] = c] = d,
                            t[r[p.uuid] = h] = p,
                            t.pop();
                            for (var f = 0, m = o; f !== m; ++f) {
                                var g = (b = a[f])[h]
                                  , v = b[y];
                                b[c] = g,
                                b[h] = v,
                                b.pop()
                            }
                        } else {
                            var y;
                            t[r[(p = t[y = --n]).uuid] = c] = p,
                            t.pop();
                            for (f = 0,
                            m = o; f !== m; ++f) {
                                var b;
                                (b = a[f])[c] = b[y],
                                b.pop()
                            }
                        }
                }
                this.nCachedObjects_ = i
            },
            subscribe_: function(e, t) {
                var n = this._bindingsIndicesByPath
                  , i = n[e]
                  , r = this._bindings;
                if (void 0 !== i)
                    return r[i];
                var a = this._paths
                  , o = this._parsedPaths
                  , s = this._objects
                  , l = s.length
                  , u = this.nCachedObjects_
                  , c = new Array(l);
                i = r.length,
                n[e] = i,
                a.push(e),
                o.push(t),
                r.push(c);
                for (var h = u, d = s.length; h !== d; ++h) {
                    var p = s[h];
                    c[h] = new ql(p,e,t)
                }
                return c
            },
            unsubscribe_: function(e) {
                var t = this._bindingsIndicesByPath
                  , n = t[e];
                if (void 0 !== n) {
                    var i = this._paths
                      , r = this._parsedPaths
                      , a = this._bindings
                      , o = a.length - 1
                      , s = a[o];
                    a[t[e[o]] = n] = s,
                    a.pop(),
                    r[n] = r[o],
                    r.pop(),
                    i[n] = i[o],
                    i.pop()
                }
            }
        }),
        Object.assign(Xl.prototype, {
            play: function() {
                return this._mixer._activateAction(this),
                this
            },
            stop: function() {
                return this._mixer._deactivateAction(this),
                this.reset()
            },
            reset: function() {
                return this.paused = !1,
                this.enabled = !0,
                this.time = 0,
                this._loopCount = -1,
                this._startTime = null,
                this.stopFading().stopWarping()
            },
            isRunning: function() {
                return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
            },
            isScheduled: function() {
                return this._mixer._isActiveAction(this)
            },
            startAt: function(e) {
                return this._startTime = e,
                this
            },
            setLoop: function(e, t) {
                return this.loop = e,
                this.repetitions = t,
                this
            },
            setEffectiveWeight: function(e) {
                return this.weight = e,
                this._effectiveWeight = this.enabled ? e : 0,
                this.stopFading()
            },
            getEffectiveWeight: function() {
                return this._effectiveWeight
            },
            fadeIn: function(e) {
                return this._scheduleFading(e, 0, 1)
            },
            fadeOut: function(e) {
                return this._scheduleFading(e, 1, 0)
            },
            crossFadeFrom: function(e, t, n) {
                if (e.fadeOut(t),
                this.fadeIn(t),
                n) {
                    var i = this._clip.duration
                      , r = e._clip.duration
                      , a = r / i
                      , o = i / r;
                    e.warp(1, a, t),
                    this.warp(o, 1, t)
                }
                return this
            },
            crossFadeTo: function(e, t, n) {
                return e.crossFadeFrom(this, t, n)
            },
            stopFading: function() {
                var e = this._weightInterpolant;
                return null !== e && (this._weightInterpolant = null,
                this._mixer._takeBackControlInterpolant(e)),
                this
            },
            setEffectiveTimeScale: function(e) {
                return this.timeScale = e,
                this._effectiveTimeScale = this.paused ? 0 : e,
                this.stopWarping()
            },
            getEffectiveTimeScale: function() {
                return this._effectiveTimeScale
            },
            setDuration: function(e) {
                return this.timeScale = this._clip.duration / e,
                this.stopWarping()
            },
            syncWith: function(e) {
                return this.time = e.time,
                this.timeScale = e.timeScale,
                this.stopWarping()
            },
            halt: function(e) {
                return this.warp(this._effectiveTimeScale, 0, e)
            },
            warp: function(e, t, n) {
                var i = this._mixer
                  , r = i.time
                  , a = this._timeScaleInterpolant
                  , o = this.timeScale;
                null === a && (a = i._lendControlInterpolant(),
                this._timeScaleInterpolant = a);
                var s = a.parameterPositions
                  , l = a.sampleValues;
                return s[0] = r,
                s[1] = r + n,
                l[0] = e / o,
                l[1] = t / o,
                this
            },
            stopWarping: function() {
                var e = this._timeScaleInterpolant;
                return null !== e && (this._timeScaleInterpolant = null,
                this._mixer._takeBackControlInterpolant(e)),
                this
            },
            getMixer: function() {
                return this._mixer
            },
            getClip: function() {
                return this._clip
            },
            getRoot: function() {
                return this._localRoot || this._mixer._root
            },
            _update: function(e, t, n, i) {
                if (this.enabled) {
                    var r = this._startTime;
                    if (null !== r) {
                        var a = (e - r) * n;
                        if (a < 0 || 0 === n)
                            return;
                        this._startTime = null,
                        t = n * a
                    }
                    t *= this._updateTimeScale(e);
                    var o = this._updateTime(t)
                      , s = this._updateWeight(e);
                    if (0 < s)
                        for (var l = this._interpolants, u = this._propertyBindings, c = 0, h = l.length; c !== h; ++c)
                            l[c].evaluate(o),
                            u[c].accumulate(i, s)
                } else
                    this._updateWeight(e)
            },
            _updateWeight: function(e) {
                var t = 0;
                if (this.enabled) {
                    t = this.weight;
                    var n = this._weightInterpolant;
                    if (null !== n) {
                        var i = n.evaluate(e)[0];
                        t *= i,
                        e > n.parameterPositions[1] && (this.stopFading(),
                        0 === i && (this.enabled = !1))
                    }
                }
                return this._effectiveWeight = t
            },
            _updateTimeScale: function(e) {
                var t = 0;
                if (!this.paused) {
                    t = this.timeScale;
                    var n = this._timeScaleInterpolant;
                    if (null !== n)
                        t *= n.evaluate(e)[0],
                        e > n.parameterPositions[1] && (this.stopWarping(),
                        0 === t ? this.paused = !0 : this.timeScale = t)
                }
                return this._effectiveTimeScale = t
            },
            _updateTime: function(e) {
                var t = this.time + e;
                if (0 === e)
                    return t;
                var n = this._clip.duration
                  , i = this.loop
                  , r = this._loopCount;
                if (2200 === i) {
                    -1 === r && (this._loopCount = 0,
                    this._setEndings(!0, !0, !1));
                    e: {
                        if (n <= t)
                            t = n;
                        else {
                            if (!(t < 0))
                                break e;
                            t = 0
                        }
                        this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                        this._mixer.dispatchEvent({
                            type: "finished",
                            action: this,
                            direction: e < 0 ? -1 : 1
                        })
                    }
                } else {
                    var a = 2202 === i;
                    if (-1 === r && (0 <= e ? (r = 0,
                    this._setEndings(!0, 0 === this.repetitions, a)) : this._setEndings(0 === this.repetitions, !0, a)),
                    n <= t || t < 0) {
                        var o = Math.floor(t / n);
                        t -= n * o,
                        r += Math.abs(o);
                        var s = this.repetitions - r;
                        if (s < 0)
                            this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                            t = 0 < e ? n : 0,
                            this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: 0 < e ? 1 : -1
                            });
                        else {
                            if (0 == s) {
                                var l = e < 0;
                                this._setEndings(l, !l, a)
                            } else
                                this._setEndings(!1, !1, a);
                            this._loopCount = r,
                            this._mixer.dispatchEvent({
                                type: "loop",
                                action: this,
                                loopDelta: o
                            })
                        }
                    }
                    if (a && 1 == (1 & r))
                        return n - (this.time = t)
                }
                return this.time = t
            },
            _setEndings: function(e, t, n) {
                var i = this._interpolantSettings;
                n ? (i.endingStart = 2401,
                i.endingEnd = 2401) : (i.endingStart = e ? this.zeroSlopeAtStart ? 2401 : 2400 : 2402,
                i.endingEnd = t ? this.zeroSlopeAtEnd ? 2401 : 2400 : 2402)
            },
            _scheduleFading: function(e, t, n) {
                var i = this._mixer
                  , r = i.time
                  , a = this._weightInterpolant;
                null === a && (a = i._lendControlInterpolant(),
                this._weightInterpolant = a);
                var o = a.parameterPositions
                  , s = a.sampleValues;
                return o[0] = r,
                s[0] = t,
                o[1] = r + e,
                s[1] = n,
                this
            }
        }),
        Object.assign(Yl.prototype, t.prototype, {
            _bindAction: function(e, t) {
                var n = e._localRoot || this._root
                  , i = e._clip.tracks
                  , r = i.length
                  , a = e._propertyBindings
                  , o = e._interpolants
                  , s = n.uuid
                  , l = this._bindingsByRootAndName
                  , u = l[s];
                void 0 === u && (u = {},
                l[s] = u);
                for (var c = 0; c !== r; ++c) {
                    var h = i[c]
                      , d = h.name
                      , p = u[d];
                    if (void 0 !== p)
                        a[c] = p;
                    else {
                        if (void 0 !== (p = a[c])) {
                            null === p._cacheIndex && (++p.referenceCount,
                            this._addInactiveBinding(p, s, d));
                            continue
                        }
                        var f = t && t._propertyBindings[c].binding.parsedPath;
                        ++(p = new Gl(ql.create(n, d, f),h.ValueTypeName,h.getValueSize())).referenceCount,
                        this._addInactiveBinding(p, s, d),
                        a[c] = p
                    }
                    o[c].resultBuffer = p.buffer
                }
            },
            _activateAction: function(e) {
                if (!this._isActiveAction(e)) {
                    if (null === e._cacheIndex) {
                        var t = (e._localRoot || this._root).uuid
                          , n = e._clip.uuid
                          , i = this._actionsByClip[n];
                        this._bindAction(e, i && i.knownActions[0]),
                        this._addInactiveAction(e, n, t)
                    }
                    for (var r = e._propertyBindings, a = 0, o = r.length; a !== o; ++a) {
                        var s = r[a];
                        0 == s.useCount++ && (this._lendBinding(s),
                        s.saveOriginalState())
                    }
                    this._lendAction(e)
                }
            },
            _deactivateAction: function(e) {
                if (this._isActiveAction(e)) {
                    for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                        var r = t[n];
                        0 == --r.useCount && (r.restoreOriginalState(),
                        this._takeBackBinding(r))
                    }
                    this._takeBackAction(e)
                }
            },
            _initMemoryManager: function() {
                this._actions = [],
                this._nActiveActions = 0,
                this._actionsByClip = {},
                this._bindings = [],
                this._nActiveBindings = 0,
                this._bindingsByRootAndName = {},
                this._controlInterpolants = [],
                this._nActiveControlInterpolants = 0;
                var e = this;
                this.stats = {
                    actions: {
                        get total() {
                            return e._actions.length
                        },
                        get inUse() {
                            return e._nActiveActions
                        }
                    },
                    bindings: {
                        get total() {
                            return e._bindings.length
                        },
                        get inUse() {
                            return e._nActiveBindings
                        }
                    },
                    controlInterpolants: {
                        get total() {
                            return e._controlInterpolants.length
                        },
                        get inUse() {
                            return e._nActiveControlInterpolants
                        }
                    }
                }
            },
            _isActiveAction: function(e) {
                var t = e._cacheIndex;
                return null !== t && t < this._nActiveActions
            },
            _addInactiveAction: function(e, t, n) {
                var i = this._actions
                  , r = this._actionsByClip
                  , a = r[t];
                if (void 0 === a)
                    a = {
                        knownActions: [e],
                        actionByRoot: {}
                    },
                    e._byClipCacheIndex = 0,
                    r[t] = a;
                else {
                    var o = a.knownActions;
                    e._byClipCacheIndex = o.length,
                    o.push(e)
                }
                e._cacheIndex = i.length,
                i.push(e),
                a.actionByRoot[n] = e
            },
            _removeInactiveAction: function(e) {
                var t = this._actions
                  , n = t[t.length - 1]
                  , i = e._cacheIndex;
                t[n._cacheIndex = i] = n,
                t.pop(),
                e._cacheIndex = null;
                var r = e._clip.uuid
                  , a = this._actionsByClip
                  , o = a[r]
                  , s = o.knownActions
                  , l = s[s.length - 1]
                  , u = e._byClipCacheIndex;
                s[l._byClipCacheIndex = u] = l,
                s.pop(),
                e._byClipCacheIndex = null,
                delete o.actionByRoot[(e._localRoot || this._root).uuid],
                0 === s.length && delete a[r],
                this._removeInactiveBindingsForAction(e)
            },
            _removeInactiveBindingsForAction: function(e) {
                for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                    var r = t[n];
                    0 == --r.referenceCount && this._removeInactiveBinding(r)
                }
            },
            _lendAction: function(e) {
                var t = this._actions
                  , n = e._cacheIndex
                  , i = this._nActiveActions++
                  , r = t[i];
                t[e._cacheIndex = i] = e,
                t[r._cacheIndex = n] = r
            },
            _takeBackAction: function(e) {
                var t = this._actions
                  , n = e._cacheIndex
                  , i = --this._nActiveActions
                  , r = t[i];
                t[e._cacheIndex = i] = e,
                t[r._cacheIndex = n] = r
            },
            _addInactiveBinding: function(e, t, n) {
                var i = this._bindingsByRootAndName
                  , r = i[t]
                  , a = this._bindings;
                void 0 === r && (r = {},
                i[t] = r),
                (r[n] = e)._cacheIndex = a.length,
                a.push(e)
            },
            _removeInactiveBinding: function(e) {
                var t = this._bindings
                  , n = e.binding
                  , i = n.rootNode.uuid
                  , r = n.path
                  , a = this._bindingsByRootAndName
                  , o = a[i]
                  , s = t[t.length - 1]
                  , l = e._cacheIndex;
                t[s._cacheIndex = l] = s,
                t.pop(),
                delete o[r];
                e: {
                    for (var u in o)
                        break e;
                    delete a[i]
                }
            },
            _lendBinding: function(e) {
                var t = this._bindings
                  , n = e._cacheIndex
                  , i = this._nActiveBindings++
                  , r = t[i];
                t[e._cacheIndex = i] = e,
                t[r._cacheIndex = n] = r
            },
            _takeBackBinding: function(e) {
                var t = this._bindings
                  , n = e._cacheIndex
                  , i = --this._nActiveBindings
                  , r = t[i];
                t[e._cacheIndex = i] = e,
                t[r._cacheIndex = n] = r
            },
            _lendControlInterpolant: function() {
                var e = this._controlInterpolants
                  , t = this._nActiveControlInterpolants++
                  , n = e[t];
                return void 0 === n && (e[(n = new rs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex = t] = n),
                n
            },
            _takeBackControlInterpolant: function(e) {
                var t = this._controlInterpolants
                  , n = e.__cacheIndex
                  , i = --this._nActiveControlInterpolants
                  , r = t[i];
                t[e.__cacheIndex = i] = e,
                t[r.__cacheIndex = n] = r
            },
            _controlInterpolantsResultBuffer: new Float32Array(1),
            clipAction: function(e, t) {
                var n = t || this._root
                  , i = n.uuid
                  , r = "string" == typeof e ? ms.findByName(n, e) : e
                  , a = null !== r ? r.uuid : e
                  , o = this._actionsByClip[a]
                  , s = null;
                if (void 0 !== o) {
                    var l = o.actionByRoot[i];
                    if (void 0 !== l)
                        return l;
                    s = o.knownActions[0],
                    null === r && (r = s._clip)
                }
                if (null === r)
                    return null;
                var u = new Xl(this,r,t);
                return this._bindAction(u, s),
                this._addInactiveAction(u, a, i),
                u
            },
            existingAction: function(e, t) {
                var n = t || this._root
                  , i = n.uuid
                  , r = "string" == typeof e ? ms.findByName(n, e) : e
                  , a = r ? r.uuid : e
                  , o = this._actionsByClip[a];
                return void 0 !== o && o.actionByRoot[i] || null
            },
            stopAllAction: function() {
                var e = this._actions
                  , t = this._nActiveActions
                  , n = this._bindings
                  , i = this._nActiveBindings;
                this._nActiveActions = 0;
                for (var r = this._nActiveBindings = 0; r !== t; ++r)
                    e[r].reset();
                for (r = 0; r !== i; ++r)
                    n[r].useCount = 0;
                return this
            },
            update: function(e) {
                e *= this.timeScale;
                for (var t = this._actions, n = this._nActiveActions, i = this.time += e, r = Math.sign(e), a = this._accuIndex ^= 1, o = 0; o !== n; ++o) {
                    t[o]._update(i, e, r, a)
                }
                var s = this._bindings
                  , l = this._nActiveBindings;
                for (o = 0; o !== l; ++o)
                    s[o].apply(a);
                return this
            },
            getRoot: function() {
                return this._root
            },
            uncacheClip: function(e) {
                var t = this._actions
                  , n = e.uuid
                  , i = this._actionsByClip
                  , r = i[n];
                if (void 0 !== r) {
                    for (var a = r.knownActions, o = 0, s = a.length; o !== s; ++o) {
                        var l = a[o];
                        this._deactivateAction(l);
                        var u = l._cacheIndex
                          , c = t[t.length - 1];
                        l._cacheIndex = null,
                        l._byClipCacheIndex = null,
                        t[c._cacheIndex = u] = c,
                        t.pop(),
                        this._removeInactiveBindingsForAction(l)
                    }
                    delete i[n]
                }
            },
            uncacheRoot: function(e) {
                var t = e.uuid
                  , n = this._actionsByClip;
                for (var i in n) {
                    var r = n[i].actionByRoot[t];
                    void 0 !== r && (this._deactivateAction(r),
                    this._removeInactiveAction(r))
                }
                var a = this._bindingsByRootAndName[t];
                if (void 0 !== a)
                    for (var o in a) {
                        var s = a[o];
                        s.restoreOriginalState(),
                        this._removeInactiveBinding(s)
                    }
            },
            uncacheAction: function(e, t) {
                var n = this.existingAction(e, t);
                null !== n && (this._deactivateAction(n),
                this._removeInactiveAction(n))
            }
        }),
        Kl.prototype.clone = function() {
            return new Kl(void 0 === this.value.clone ? this.value : this.value.clone())
        }
        ,
        Zl.prototype = Object.assign(Object.create(fr.prototype), {
            constructor: Zl,
            isInstancedBufferGeometry: !0,
            addGroup: function(e, t, n) {
                this.groups.push({
                    start: e,
                    count: t,
                    materialIndex: n
                })
            },
            copy: function(e) {
                var t = e.index;
                null !== t && this.setIndex(t.clone());
                var n = e.attributes;
                for (var i in n) {
                    var r = n[i];
                    this.addAttribute(i, r.clone())
                }
                for (var a = e.groups, o = 0, s = a.length; o < s; o++) {
                    var l = a[o];
                    this.addGroup(l.start, l.count, l.materialIndex)
                }
                return this
            }
        }),
        Object.defineProperties(Ql.prototype, {
            count: {
                get: function() {
                    return this.data.count
                }
            },
            array: {
                get: function() {
                    return this.data.array
                }
            }
        }),
        Object.assign(Ql.prototype, {
            isInterleavedBufferAttribute: !0,
            setX: function(e, t) {
                return this.data.array[e * this.data.stride + this.offset] = t,
                this
            },
            setY: function(e, t) {
                return this.data.array[e * this.data.stride + this.offset + 1] = t,
                this
            },
            setZ: function(e, t) {
                return this.data.array[e * this.data.stride + this.offset + 2] = t,
                this
            },
            setW: function(e, t) {
                return this.data.array[e * this.data.stride + this.offset + 3] = t,
                this
            },
            getX: function(e) {
                return this.data.array[e * this.data.stride + this.offset]
            },
            getY: function(e) {
                return this.data.array[e * this.data.stride + this.offset + 1]
            },
            getZ: function(e) {
                return this.data.array[e * this.data.stride + this.offset + 2]
            },
            getW: function(e) {
                return this.data.array[e * this.data.stride + this.offset + 3]
            },
            setXY: function(e, t, n) {
                return e = e * this.data.stride + this.offset,
                this.data.array[e + 0] = t,
                this.data.array[e + 1] = n,
                this
            },
            setXYZ: function(e, t, n, i) {
                return e = e * this.data.stride + this.offset,
                this.data.array[e + 0] = t,
                this.data.array[e + 1] = n,
                this.data.array[e + 2] = i,
                this
            },
            setXYZW: function(e, t, n, i, r) {
                return e = e * this.data.stride + this.offset,
                this.data.array[e + 0] = t,
                this.data.array[e + 1] = n,
                this.data.array[e + 2] = i,
                this.data.array[e + 3] = r,
                this
            }
        }),
        Object.defineProperty(Jl.prototype, "needsUpdate", {
            set: function(e) {
                !0 === e && this.version++
            }
        }),
        Object.assign(Jl.prototype, {
            isInterleavedBuffer: !0,
            setArray: function(e) {
                if (Array.isArray(e))
                    throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.count = void 0 !== e ? e.length / this.stride : 0,
                this.array = e
            },
            setDynamic: function(e) {
                return this.dynamic = e,
                this
            },
            copy: function(e) {
                return this.array = new e.array.constructor(e.array),
                this.count = e.count,
                this.stride = e.stride,
                this.dynamic = e.dynamic,
                this
            },
            copyAt: function(e, t, n) {
                e *= this.stride,
                n *= t.stride;
                for (var i = 0, r = this.stride; i < r; i++)
                    this.array[e + i] = t.array[n + i];
                return this
            },
            set: function(e, t) {
                return void 0 === t && (t = 0),
                this.array.set(e, t),
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            onUpload: function(e) {
                return this.onUploadCallback = e,
                this
            }
        }),
        eu.prototype = Object.assign(Object.create(Jl.prototype), {
            constructor: eu,
            isInstancedInterleavedBuffer: !0,
            copy: function(e) {
                return Jl.prototype.copy.call(this, e),
                this.meshPerAttribute = e.meshPerAttribute,
                this
            }
        }),
        tu.prototype = Object.assign(Object.create(nr.prototype), {
            constructor: tu,
            isInstancedBufferAttribute: !0,
            copy: function(e) {
                return nr.prototype.copy.call(this, e),
                this.meshPerAttribute = e.meshPerAttribute,
                this
            }
        }),
        Object.assign(nu.prototype, {
            linePrecision: 1,
            set: function(e, t) {
                this.ray.set(e, t)
            },
            setFromCamera: function(e, t) {
                t && t.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld),
                this.ray.direction.set(e.x, e.y, .5).unproject(t).sub(this.ray.origin).normalize()) : t && t.isOrthographicCamera ? (this.ray.origin.set(e.x, e.y, (t.near + t.far) / (t.near - t.far)).unproject(t),
                this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
            },
            intersectObject: function(e, t) {
                var n = [];
                return ru(e, this, n, t),
                n.sort(iu),
                n
            },
            intersectObjects: function(e, t) {
                var n = [];
                if (!1 === Array.isArray(e))
                    return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
                    n;
                for (var i = 0, r = e.length; i < r; i++)
                    ru(e[i], this, n, t);
                return n.sort(iu),
                n
            }
        }),
        Object.assign(au.prototype, {
            start: function() {
                this.startTime = ("undefined" == typeof performance ? Date : performance).now(),
                this.oldTime = this.startTime,
                this.elapsedTime = 0,
                this.running = !0
            },
            stop: function() {
                this.getElapsedTime(),
                this.running = !1,
                this.autoStart = !1
            },
            getElapsedTime: function() {
                return this.getDelta(),
                this.elapsedTime
            },
            getDelta: function() {
                var e = 0;
                if (this.autoStart && !this.running)
                    return this.start(),
                    0;
                if (this.running) {
                    var t = ("undefined" == typeof performance ? Date : performance).now();
                    e = (t - this.oldTime) / 1e3,
                    this.oldTime = t,
                    this.elapsedTime += e
                }
                return e
            }
        }),
        Object.assign(ou.prototype, {
            set: function(e, t, n) {
                return this.radius = e,
                this.phi = t,
                this.theta = n,
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.radius = e.radius,
                this.phi = e.phi,
                this.theta = e.theta,
                this
            },
            makeSafe: function() {
                return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)),
                this
            },
            setFromVector3: function(e) {
                return this.radius = e.length(),
                0 === this.radius ? (this.theta = 0,
                this.phi = 0) : (this.theta = Math.atan2(e.x, e.z),
                this.phi = Math.acos(Ze.clamp(e.y / this.radius, -1, 1))),
                this
            }
        }),
        Object.assign(su.prototype, {
            set: function(e, t, n) {
                return this.radius = e,
                this.theta = t,
                this.y = n,
                this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(e) {
                return this.radius = e.radius,
                this.theta = e.theta,
                this.y = e.y,
                this
            },
            setFromVector3: function(e) {
                return this.radius = Math.sqrt(e.x * e.x + e.z * e.z),
                this.theta = Math.atan2(e.x, e.z),
                this.y = e.y,
                this
            }
        }),
        ((lu.prototype = Object.create(Tr.prototype)).constructor = lu).prototype.createAnimation = function(e, t, n, i) {
            var r = {
                start: t,
                end: n,
                length: n - t + 1,
                fps: i,
                duration: (n - t) / i,
                lastFrame: 0,
                currentFrame: 0,
                active: !1,
                time: 0,
                direction: 1,
                weight: 1,
                directionBackwards: !1,
                mirroredLoop: !1
            };
            this.animationsMap[e] = r,
            this.animationsList.push(r)
        }
        ,
        lu.prototype.autoCreateAnimations = function(e) {
            for (var t, n = /([a-z]+)_?(\d+)/i, i = {}, r = this.geometry, a = 0, o = r.morphTargets.length; a < o; a++) {
                var s = r.morphTargets[a].name.match(n);
                if (s && 1 < s.length)
                    i[l = s[1]] || (i[l] = {
                        start: 1 / 0,
                        end: -1 / 0
                    }),
                    a < (u = i[l]).start && (u.start = a),
                    a > u.end && (u.end = a),
                    t = t || l
            }
            for (var l in i) {
                var u = i[l];
                this.createAnimation(l, u.start, u.end, e)
            }
            this.firstAnimation = t
        }
        ,
        lu.prototype.setAnimationDirectionForward = function(e) {
            var t = this.animationsMap[e];
            t && (t.direction = 1,
            t.directionBackwards = !1)
        }
        ,
        lu.prototype.setAnimationDirectionBackward = function(e) {
            var t = this.animationsMap[e];
            t && (t.direction = -1,
            t.directionBackwards = !0)
        }
        ,
        lu.prototype.setAnimationFPS = function(e, t) {
            var n = this.animationsMap[e];
            n && (n.fps = t,
            n.duration = (n.end - n.start) / n.fps)
        }
        ,
        lu.prototype.setAnimationDuration = function(e, t) {
            var n = this.animationsMap[e];
            n && (n.duration = t,
            n.fps = (n.end - n.start) / n.duration)
        }
        ,
        lu.prototype.setAnimationWeight = function(e, t) {
            var n = this.animationsMap[e];
            n && (n.weight = t)
        }
        ,
        lu.prototype.setAnimationTime = function(e, t) {
            var n = this.animationsMap[e];
            n && (n.time = t)
        }
        ,
        lu.prototype.getAnimationTime = function(e) {
            var t = 0
              , n = this.animationsMap[e];
            return n && (t = n.time),
            t
        }
        ,
        lu.prototype.getAnimationDuration = function(e) {
            var t = -1
              , n = this.animationsMap[e];
            return n && (t = n.duration),
            t
        }
        ,
        lu.prototype.playAnimation = function(e) {
            var t = this.animationsMap[e];
            t ? (t.time = 0,
            t.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + e + "] undefined in .playAnimation()")
        }
        ,
        lu.prototype.stopAnimation = function(e) {
            var t = this.animationsMap[e];
            t && (t.active = !1)
        }
        ,
        lu.prototype.update = function(e) {
            for (var t = 0, n = this.animationsList.length; t < n; t++) {
                var i = this.animationsList[t];
                if (i.active) {
                    var r = i.duration / i.length;
                    i.time += i.direction * e,
                    i.mirroredLoop ? (i.time > i.duration || i.time < 0) && (i.direction *= -1,
                    i.time > i.duration && (i.time = i.duration,
                    i.directionBackwards = !0),
                    i.time < 0 && (i.time = 0,
                    i.directionBackwards = !1)) : (i.time = i.time % i.duration,
                    i.time < 0 && (i.time += i.duration));
                    var a = i.start + Ze.clamp(Math.floor(i.time / r), 0, i.length - 1)
                      , o = i.weight;
                    a !== i.currentFrame && (this.morphTargetInfluences[i.lastFrame] = 0,
                    this.morphTargetInfluences[i.currentFrame] = 1 * o,
                    this.morphTargetInfluences[a] = 0,
                    i.lastFrame = i.currentFrame,
                    i.currentFrame = a);
                    var s = i.time % r / r;
                    i.directionBackwards && (s = 1 - s),
                    i.currentFrame !== i.lastFrame ? (this.morphTargetInfluences[i.currentFrame] = s * o,
                    this.morphTargetInfluences[i.lastFrame] = (1 - s) * o) : this.morphTargetInfluences[i.currentFrame] = o
                }
            }
        }
        ,
        ((uu.prototype = Object.create(Yn.prototype)).constructor = uu).prototype.isImmediateRenderObject = !0,
        ((cu.prototype = Object.create(ka.prototype)).constructor = cu).prototype.update = (cl = new Je,
        hl = new Je,
        dl = new Sn,
        function() {
            var e = ["a", "b", "c"];
            this.object.updateMatrixWorld(!0),
            dl.getNormalMatrix(this.object.matrixWorld);
            var t = this.object.matrixWorld
              , n = this.geometry.attributes.position
              , i = this.object.geometry;
            if (i && i.isGeometry)
                for (var r = i.vertices, a = i.faces, o = 0, s = 0, l = a.length; s < l; s++)
                    for (var u = a[s], c = 0, h = u.vertexNormals.length; c < h; c++) {
                        var d = r[u[e[c]]]
                          , p = u.vertexNormals[c];
                        cl.copy(d).applyMatrix4(t),
                        hl.copy(p).applyMatrix3(dl).normalize().multiplyScalar(this.size).add(cl),
                        n.setXYZ(o, cl.x, cl.y, cl.z),
                        o += 1,
                        n.setXYZ(o, hl.x, hl.y, hl.z),
                        o += 1
                    }
            else if (i && i.isBufferGeometry) {
                var f = i.attributes.position
                  , m = i.attributes.normal;
                for (c = o = 0,
                h = f.count; c < h; c++)
                    cl.set(f.getX(c), f.getY(c), f.getZ(c)).applyMatrix4(t),
                    hl.set(m.getX(c), m.getY(c), m.getZ(c)),
                    hl.applyMatrix3(dl).normalize().multiplyScalar(this.size).add(cl),
                    n.setXYZ(o, cl.x, cl.y, cl.z),
                    o += 1,
                    n.setXYZ(o, hl.x, hl.y, hl.z),
                    o += 1
            }
            n.needsUpdate = !0
        }
        ),
        ((hu.prototype = Object.create(Yn.prototype)).constructor = hu).prototype.dispose = function() {
            this.cone.geometry.dispose(),
            this.cone.material.dispose()
        }
        ,
        hu.prototype.update = (pl = new Je,
        fl = new Je,
        function() {
            this.light.updateMatrixWorld();
            var e = this.light.distance ? this.light.distance : 1e3
              , t = e * Math.tan(this.light.angle);
            this.cone.scale.set(t, t, e),
            pl.setFromMatrixPosition(this.light.matrixWorld),
            fl.setFromMatrixPosition(this.light.target.matrixWorld),
            this.cone.lookAt(fl.sub(pl)),
            this.cone.material.color.copy(this.light.color)
        }
        ),
        ((du.prototype = Object.create(ka.prototype)).constructor = du).prototype.onBeforeRender = (ml = new Je,
        gl = new et,
        vl = new et,
        function() {
            var e = this.bones
              , t = this.geometry
              , n = t.getAttribute("position");
            vl.getInverse(this.root.matrixWorld);
            for (var i = 0, r = 0; i < e.length; i++) {
                var a = e[i];
                a.parent && a.parent.isBone && (gl.multiplyMatrices(vl, a.matrixWorld),
                ml.setFromMatrixPosition(gl),
                n.setXYZ(r, ml.x, ml.y, ml.z),
                gl.multiplyMatrices(vl, a.parent.matrixWorld),
                ml.setFromMatrixPosition(gl),
                n.setXYZ(r + 1, ml.x, ml.y, ml.z),
                r += 2)
            }
            t.getAttribute("position").needsUpdate = !0
        }
        ),
        ((pu.prototype = Object.create(Tr.prototype)).constructor = pu).prototype.dispose = function() {
            this.geometry.dispose(),
            this.material.dispose()
        }
        ,
        pu.prototype.update = function() {
            this.material.color.copy(this.light.color)
        }
        ,
        ((fu.prototype = Object.create(Yn.prototype)).constructor = fu).prototype.dispose = function() {
            this.children[0].geometry.dispose(),
            this.children[0].material.dispose()
        }
        ,
        fu.prototype.update = function() {
            var e = this.children[0];
            e.material.color.copy(this.light.color);
            var t = .5 * this.light.width
              , n = .5 * this.light.height
              , i = e.geometry.attributes.position
              , r = i.array;
            r[0] = t,
            r[1] = -n,
            r[2] = 0,
            r[3] = t,
            r[4] = n,
            r[5] = 0,
            r[6] = -t,
            r[7] = n,
            r[8] = 0,
            r[9] = -t,
            r[10] = -n,
            r[11] = 0,
            r[12] = t,
            r[13] = -n,
            r[14] = 0,
            i.needsUpdate = !0
        }
        ,
        ((mu.prototype = Object.create(Yn.prototype)).constructor = mu).prototype.dispose = function() {
            this.children[0].geometry.dispose(),
            this.children[0].material.dispose()
        }
        ,
        mu.prototype.update = (yl = new Je,
        bl = new zt,
        _l = new zt,
        function() {
            var e = this.children[0]
              , t = e.geometry.getAttribute("color");
            bl.copy(this.light.color),
            _l.copy(this.light.groundColor);
            for (var n = 0, i = t.count; n < i; n++) {
                var r = n < i / 2 ? bl : _l;
                t.setXYZ(n, r.r, r.g, r.b)
            }
            e.lookAt(yl.setFromMatrixPosition(this.light.matrixWorld).negate()),
            t.needsUpdate = !0
        }
        ),
        (gu.prototype = Object.create(ka.prototype)).constructor = gu,
        (vu.prototype = Object.create(ka.prototype)).constructor = vu,
        ((yu.prototype = Object.create(ka.prototype)).constructor = yu).prototype.update = (wl = new Je,
        xl = new Je,
        Tl = new Sn,
        function() {
            this.object.updateMatrixWorld(!0),
            Tl.getNormalMatrix(this.object.matrixWorld);
            for (var e = this.object.matrixWorld, t = this.geometry.attributes.position, n = this.object.geometry, i = n.vertices, r = n.faces, a = 0, o = 0, s = r.length; o < s; o++) {
                var l = r[o]
                  , u = l.normal;
                wl.copy(i[l.a]).add(i[l.b]).add(i[l.c]).divideScalar(3).applyMatrix4(e),
                xl.copy(u).applyMatrix3(Tl).normalize().multiplyScalar(this.size).add(wl),
                t.setXYZ(a, wl.x, wl.y, wl.z),
                a += 1,
                t.setXYZ(a, xl.x, xl.y, xl.z),
                a += 1
            }
            t.needsUpdate = !0
        }
        ),
        ((bu.prototype = Object.create(Yn.prototype)).constructor = bu).prototype.dispose = function() {
            var e = this.children[0]
              , t = this.children[1];
            e.geometry.dispose(),
            e.material.dispose(),
            t.geometry.dispose(),
            t.material.dispose()
        }
        ,
        bu.prototype.update = (Sl = new Je,
        El = new Je,
        Cl = new Je,
        function() {
            Sl.setFromMatrixPosition(this.light.matrixWorld),
            El.setFromMatrixPosition(this.light.target.matrixWorld),
            Cl.subVectors(El, Sl);
            var e = this.children[0]
              , t = this.children[1];
            e.lookAt(Cl),
            e.material.color.copy(this.light.color),
            t.lookAt(Cl),
            t.scale.z = Cl.length()
        }
        ),
        ((_u.prototype = Object.create(ka.prototype)).constructor = _u).prototype.update = (Pl = new Je,
        Al = new Kn,
        function() {
            Ml = this.geometry,
            kl = this.pointMap,
            Al.projectionMatrix.copy(this.camera.projectionMatrix),
            wu("c", 0, 0, -1),
            wu("t", 0, 0, 1),
            wu("n1", -1, -1, -1),
            wu("n2", 1, -1, -1),
            wu("n3", -1, 1, -1),
            wu("n4", 1, 1, -1),
            wu("f1", -1, -1, 1),
            wu("f2", 1, -1, 1),
            wu("f3", -1, 1, 1),
            wu("f4", 1, 1, 1),
            wu("u1", .7, 1.1, -1),
            wu("u2", -.7, 1.1, -1),
            wu("u3", 0, 2, -1),
            wu("cf1", -1, 0, 1),
            wu("cf2", 1, 0, 1),
            wu("cf3", 0, -1, 1),
            wu("cf4", 0, 1, 1),
            wu("cn1", -1, 0, -1),
            wu("cn2", 1, 0, -1),
            wu("cn3", 0, -1, -1),
            wu("cn4", 0, 1, -1),
            Ml.getAttribute("position").needsUpdate = !0
        }
        ),
        ((xu.prototype = Object.create(ka.prototype)).constructor = xu).prototype.update = (Il = new xn,
        function(e) {
            if (void 0 !== e && console.warn("THREE.BoxHelper: .update() has no longer arguments."),
            void 0 !== this.object && Il.setFromObject(this.object),
            !Il.isEmpty()) {
                var t = Il.min
                  , n = Il.max
                  , i = this.geometry.attributes.position
                  , r = i.array;
                r[0] = n.x,
                r[1] = n.y,
                r[2] = n.z,
                r[3] = t.x,
                r[4] = n.y,
                r[5] = n.z,
                r[6] = t.x,
                r[7] = t.y,
                r[8] = n.z,
                r[9] = n.x,
                r[10] = t.y,
                r[11] = n.z,
                r[12] = n.x,
                r[13] = n.y,
                r[14] = t.z,
                r[15] = t.x,
                r[16] = n.y,
                r[17] = t.z,
                r[18] = t.x,
                r[19] = t.y,
                r[20] = t.z,
                r[21] = n.x,
                r[22] = t.y,
                r[23] = t.z,
                i.needsUpdate = !0,
                this.geometry.computeBoundingSphere()
            }
        }
        ),
        xu.prototype.setFromObject = function(e) {
            return this.object = e,
            this.update(),
            this
        }
        ,
        ((Tu.prototype = Object.create(Yn.prototype)).constructor = Tu).prototype.setDirection = (Dl = new Je,
        function(e) {
            .99999 < e.y ? this.quaternion.set(0, 0, 0, 1) : e.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (Dl.set(e.z, 0, -e.x).normalize(),
            Rl = Math.acos(e.y),
            this.quaternion.setFromAxisAngle(Dl, Rl))
        }
        ),
        Tu.prototype.setLength = function(e, t, n) {
            void 0 === t && (t = .2 * e),
            void 0 === n && (n = .2 * t),
            this.line.scale.set(1, Math.max(0, e - t), 1),
            this.line.updateMatrix(),
            this.cone.scale.set(n, t, n),
            this.cone.position.y = e,
            this.cone.updateMatrix()
        }
        ,
        Tu.prototype.setColor = function(e) {
            this.line.material.color.copy(e),
            this.cone.material.color.copy(e)
        }
        ,
        (Su.prototype = Object.create(ka.prototype)).constructor = Su;
        var Cu = new Je
          , Mu = new Eu
          , ku = new Eu
          , Pu = new Eu;
        function Au(e) {
            Os.call(this),
            e.length < 2 && console.warn("THREE.CatmullRomCurve3: Points array needs at least two entries."),
            this.points = e || [],
            this.closed = !1
        }
        function Iu(e, t, n, i) {
            Os.call(this),
            this.v0 = e,
            this.v1 = t,
            this.v2 = n,
            this.v3 = i
        }
        function Lu(e, t, n) {
            Os.call(this),
            this.v0 = e,
            this.v1 = t,
            this.v2 = n
        }
        function Ou(e, t) {
            Os.call(this),
            this.v1 = e,
            this.v2 = t
        }
        function Ru(e, t, n, i, r, a) {
            Ns.call(this, e, t, n, n, i, r, a)
        }
        ((Au.prototype = Object.create(Os.prototype)).constructor = Au).prototype.getPoint = function(e) {
            var t, n, i, r, a = this.points, o = a.length, s = (o - (this.closed ? 0 : 1)) * e, l = Math.floor(s), u = s - l;
            if (this.closed ? l += 0 < l ? 0 : (Math.floor(Math.abs(l) / a.length) + 1) * a.length : 0 === u && l === o - 1 && (l = o - 2,
            u = 1),
            t = this.closed || 0 < l ? a[(l - 1) % o] : (Cu.subVectors(a[0], a[1]).add(a[0]),
            Cu),
            n = a[l % o],
            i = a[(l + 1) % o],
            r = this.closed || l + 2 < o ? a[(l + 2) % o] : (Cu.subVectors(a[o - 1], a[o - 2]).add(a[o - 1]),
            Cu),
            void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
                var c = "chordal" === this.type ? .5 : .25
                  , h = Math.pow(t.distanceToSquared(n), c)
                  , d = Math.pow(n.distanceToSquared(i), c)
                  , p = Math.pow(i.distanceToSquared(r), c);
                d < 1e-4 && (d = 1),
                h < 1e-4 && (h = d),
                p < 1e-4 && (p = d),
                Mu.initNonuniformCatmullRom(t.x, n.x, i.x, r.x, h, d, p),
                ku.initNonuniformCatmullRom(t.y, n.y, i.y, r.y, h, d, p),
                Pu.initNonuniformCatmullRom(t.z, n.z, i.z, r.z, h, d, p)
            } else if ("catmullrom" === this.type) {
                var f = void 0 !== this.tension ? this.tension : .5;
                Mu.initCatmullRom(t.x, n.x, i.x, r.x, f),
                ku.initCatmullRom(t.y, n.y, i.y, r.y, f),
                Pu.initCatmullRom(t.z, n.z, i.z, r.z, f)
            }
            return new Je(Mu.calc(u),ku.calc(u),Pu.calc(u))
        }
        ,
        ((Iu.prototype = Object.create(Os.prototype)).constructor = Iu).prototype.getPoint = function(e) {
            var t = this.v0
              , n = this.v1
              , i = this.v2
              , r = this.v3;
            return new Je(Ls(e, t.x, n.x, i.x, r.x),Ls(e, t.y, n.y, i.y, r.y),Ls(e, t.z, n.z, i.z, r.z))
        }
        ,
        ((Lu.prototype = Object.create(Os.prototype)).constructor = Lu).prototype.getPoint = function(e) {
            var t = this.v0
              , n = this.v1
              , i = this.v2;
            return new Je(Is(e, t.x, n.x, i.x),Is(e, t.y, n.y, i.y),Is(e, t.z, n.z, i.z))
        }
        ,
        ((Ou.prototype = Object.create(Os.prototype)).constructor = Ou).prototype.getPoint = function(e) {
            if (1 === e)
                return this.v2.clone();
            var t = new Je;
            return t.subVectors(this.v2, this.v1),
            t.multiplyScalar(e),
            t.add(this.v1),
            t
        }
        ,
        (Ru.prototype = Object.create(Ns.prototype)).constructor = Ru;
        var Du = {
            createMultiMaterialObject: function(e, t) {
                for (var n = new La, i = 0, r = t.length; i < r; i++)
                    n.add(new Tr(e,t[i]));
                return n
            },
            detach: function(e, t, n) {
                e.applyMatrix(t.matrixWorld),
                t.remove(e),
                n.add(e)
            },
            attach: function(e, t, n) {
                e.applyMatrix((new et).getInverse(n.matrixWorld)),
                t.remove(e),
                n.add(e)
            }
        };
        var Nu;
        function Fu(e) {
            console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
            Au.call(this, e),
            this.type = "catmullrom",
            this.closed = !0
        }
        function Bu(e) {
            console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
            Au.call(this, e),
            this.type = "catmullrom"
        }
        function Uu(e) {
            console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),
            Au.call(this, e),
            this.type = "catmullrom"
        }
        Os.create = function(e, t) {
            return console.log("THREE.Curve.create() has been deprecated"),
            e.prototype = Object.create(Os.prototype),
            (e.prototype.constructor = e).prototype.getPoint = t,
            e
        }
        ,
        Fu.prototype = Object.create(Au.prototype),
        Bu.prototype = Object.create(Au.prototype),
        Uu.prototype = Object.create(Au.prototype),
        Object.assign(Uu.prototype, {
            initFromArray: function(e) {
                console.error("THREE.Spline: .initFromArray() has been removed.")
            },
            getControlPointsArray: function(e) {
                console.error("THREE.Spline: .getControlPointsArray() has been removed.")
            },
            reparametrizeByArcLength: function(e) {
                console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
            }
        }),
        gu.prototype.setColors = function() {
            console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
        }
        ,
        du.prototype.update = function() {
            console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
        }
        ,
        Object.assign(Yt.prototype, {
            center: function(e) {
                return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),
                this.getCenter(e)
            },
            empty: function() {
                return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),
                this.isEmpty()
            },
            isIntersectionBox: function(e) {
                return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),
                this.intersectsBox(e)
            },
            size: function(e) {
                return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),
                this.getSize(e)
            }
        }),
        Object.assign(xn.prototype, {
            center: function(e) {
                return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),
                this.getCenter(e)
            },
            empty: function() {
                return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),
                this.isEmpty()
            },
            isIntersectionBox: function(e) {
                return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),
                this.intersectsBox(e)
            },
            isIntersectionSphere: function(e) {
                return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
                this.intersectsSphere(e)
            },
            size: function(e) {
                return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),
                this.getSize(e)
            }
        }),
        wr.prototype.center = function(e) {
            return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),
            this.getCenter(e)
        }
        ,
        Ze.random16 = function() {
            return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),
            Math.random()
        }
        ,
        Object.assign(Sn.prototype, {
            flattenToArrayOffset: function(e, t) {
                return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
                this.toArray(e, t)
            },
            multiplyVector3: function(e) {
                return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),
                e.applyMatrix3(this)
            },
            multiplyVector3Array: function(e) {
                console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
            },
            applyToBuffer: function(e, t, n) {
                return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
                this.applyToBufferAttribute(e)
            },
            applyToVector3Array: function(e, t, n) {
                console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
            }
        }),
        Object.assign(et.prototype, {
            extractPosition: function(e) {
                return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),
                this.copyPosition(e)
            },
            flattenToArrayOffset: function(e, t) {
                return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
                this.toArray(e, t)
            },
            getPosition: function() {
                return void 0 === Nu && (Nu = new Je),
                console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
                Nu.setFromMatrixColumn(this, 3)
            },
            setRotationFromQuaternion: function(e) {
                return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),
                this.makeRotationFromQuaternion(e)
            },
            multiplyToArray: function() {
                console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
            },
            multiplyVector3: function(e) {
                return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),
                e.applyMatrix4(this)
            },
            multiplyVector4: function(e) {
                return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),
                e.applyMatrix4(this)
            },
            multiplyVector3Array: function(e) {
                console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
            },
            rotateAxis: function(e) {
                console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),
                e.transformDirection(this)
            },
            crossVector: function(e) {
                return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
                e.applyMatrix4(this)
            },
            translate: function() {
                console.error("THREE.Matrix4: .translate() has been removed.")
            },
            rotateX: function() {
                console.error("THREE.Matrix4: .rotateX() has been removed.")
            },
            rotateY: function() {
                console.error("THREE.Matrix4: .rotateY() has been removed.")
            },
            rotateZ: function() {
                console.error("THREE.Matrix4: .rotateZ() has been removed.")
            },
            rotateByAxis: function() {
                console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
            },
            applyToBuffer: function(e, t, n) {
                return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
                this.applyToBufferAttribute(e)
            },
            applyToVector3Array: function(e, t, n) {
                console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
            },
            makeFrustum: function(e, t, n, i, r, a) {
                return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),
                this.makePerspective(e, t, i, n, r, a)
            }
        }),
        En.prototype.isIntersectionLine = function(e) {
            return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),
            this.intersectsLine(e)
        }
        ,
        Ee.prototype.multiplyVector3 = function(e) {
            return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),
            e.applyQuaternion(this)
        }
        ,
        Object.assign(_r.prototype, {
            isIntersectionBox: function(e) {
                return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),
                this.intersectsBox(e)
            },
            isIntersectionPlane: function(e) {
                return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),
                this.intersectsPlane(e)
            },
            isIntersectionSphere: function(e) {
                return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
                this.intersectsSphere(e)
            }
        }),
        Object.assign(Vs.prototype, {
            extrude: function(e) {
                return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),
                new ro(this,e)
            },
            makeGeometry: function(e) {
                return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),
                new mo(this,e)
            }
        }),
        Object.assign(fe.prototype, {
            fromAttribute: function(e, t, n) {
                return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),
                this.fromBufferAttribute(e, t, n)
            }
        }),
        Object.assign(Je.prototype, {
            setEulerFromRotationMatrix: function() {
                console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
            },
            setEulerFromQuaternion: function() {
                console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
            },
            getPositionFromMatrix: function(e) {
                return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),
                this.setFromMatrixPosition(e)
            },
            getScaleFromMatrix: function(e) {
                return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),
                this.setFromMatrixScale(e)
            },
            getColumnFromMatrix: function(e, t) {
                return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),
                this.setFromMatrixColumn(t, e)
            },
            applyProjection: function(e) {
                return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),
                this.applyMatrix4(e)
            },
            fromAttribute: function(e, t, n) {
                return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),
                this.fromBufferAttribute(e, t, n)
            }
        }),
        Object.assign(Qe.prototype, {
            fromAttribute: function(e, t, n) {
                return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),
                this.fromBufferAttribute(e, t, n)
            }
        }),
        tr.prototype.computeTangents = function() {
            console.warn("THREE.Geometry: .computeTangents() has been removed.")
        }
        ,
        Object.assign(Yn.prototype, {
            getChildByName: function(e) {
                return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),
                this.getObjectByName(e)
            },
            renderDepth: function() {
                console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
            },
            translate: function(e, t) {
                return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),
                this.translateOnAxis(t, e)
            }
        }),
        Object.defineProperties(Yn.prototype, {
            eulerOrder: {
                get: function() {
                    return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                    this.rotation.order
                },
                set: function(e) {
                    console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                    this.rotation.order = e
                }
            },
            useQuaternion: {
                get: function() {
                    console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                },
                set: function() {
                    console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                }
            }
        }),
        Object.defineProperties(xa.prototype, {
            objects: {
                get: function() {
                    return console.warn("THREE.LOD: .objects has been renamed to .levels."),
                    this.levels
                }
            }
        }),
        Object.defineProperty(Ta.prototype, "useVertexTexture", {
            get: function() {
                console.warn("THREE.Skeleton: useVertexTexture has been removed.")
            },
            set: function() {
                console.warn("THREE.Skeleton: useVertexTexture has been removed.")
            }
        }),
        Object.defineProperty(Os.prototype, "__arcLengthDivisions", {
            get: function() {
                return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
                this.arcLengthDivisions
            },
            set: function(e) {
                console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
                this.arcLengthDivisions = e
            }
        }),
        Qn.prototype.setLens = function(e, t) {
            console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),
            void 0 !== t && (this.filmGauge = t),
            this.setFocalLength(e)
        }
        ,
        Object.defineProperties(Go.prototype, {
            onlyShadow: {
                set: function() {
                    console.warn("THREE.Light: .onlyShadow has been removed.")
                }
            },
            shadowCameraFov: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),
                    this.shadow.camera.fov = e
                }
            },
            shadowCameraLeft: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),
                    this.shadow.camera.left = e
                }
            },
            shadowCameraRight: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),
                    this.shadow.camera.right = e
                }
            },
            shadowCameraTop: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),
                    this.shadow.camera.top = e
                }
            },
            shadowCameraBottom: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),
                    this.shadow.camera.bottom = e
                }
            },
            shadowCameraNear: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),
                    this.shadow.camera.near = e
                }
            },
            shadowCameraFar: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),
                    this.shadow.camera.far = e
                }
            },
            shadowCameraVisible: {
                set: function() {
                    console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
                }
            },
            shadowBias: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
                    this.shadow.bias = e
                }
            },
            shadowDarkness: {
                set: function() {
                    console.warn("THREE.Light: .shadowDarkness has been removed.")
                }
            },
            shadowMapWidth: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),
                    this.shadow.mapSize.width = e
                }
            },
            shadowMapHeight: {
                set: function(e) {
                    console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),
                    this.shadow.mapSize.height = e
                }
            }
        }),
        Object.defineProperties(nr.prototype, {
            length: {
                get: function() {
                    return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),
                    this.array.length
                }
            }
        }),
        Object.assign(fr.prototype, {
            addIndex: function(e) {
                console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),
                this.setIndex(e)
            },
            addDrawCall: function(e, t, n) {
                void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),
                console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),
                this.addGroup(e, t)
            },
            clearDrawCalls: function() {
                console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),
                this.clearGroups()
            },
            computeTangents: function() {
                console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
            },
            computeOffsets: function() {
                console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
            }
        }),
        Object.defineProperties(fr.prototype, {
            drawcalls: {
                get: function() {
                    return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),
                    this.groups
                }
            },
            offsets: {
                get: function() {
                    return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),
                    this.groups
                }
            }
        }),
        Object.defineProperties(Kl.prototype, {
            dynamic: {
                set: function() {
                    console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
                }
            },
            onUpdate: {
                value: function() {
                    return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),
                    this
                }
            }
        }),
        Object.defineProperties(bn.prototype, {
            wrapAround: {
                get: function() {
                    console.warn("THREE.Material: .wrapAround has been removed.")
                },
                set: function() {
                    console.warn("THREE.Material: .wrapAround has been removed.")
                }
            },
            wrapRGB: {
                get: function() {
                    return console.warn("THREE.Material: .wrapRGB has been removed."),
                    new zt
                }
            }
        }),
        Object.defineProperties(Po.prototype, {
            metal: {
                get: function() {
                    return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),
                    !1
                },
                set: function() {
                    console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
                }
            }
        }),
        Object.defineProperties(_n.prototype, {
            derivatives: {
                get: function() {
                    return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                    this.extensions.derivatives
                },
                set: function(e) {
                    console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                    this.extensions.derivatives = e
                }
            }
        }),
        Object.assign(ma.prototype, {
            getCurrentRenderTarget: function() {
                return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),
                this.getRenderTarget()
            },
            supportsFloatTextures: function() {
                return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),
                this.extensions.get("OES_texture_float")
            },
            supportsHalfFloatTextures: function() {
                return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),
                this.extensions.get("OES_texture_half_float")
            },
            supportsStandardDerivatives: function() {
                return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),
                this.extensions.get("OES_standard_derivatives")
            },
            supportsCompressedTextureS3TC: function() {
                return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),
                this.extensions.get("WEBGL_compressed_texture_s3tc")
            },
            supportsCompressedTexturePVRTC: function() {
                return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),
                this.extensions.get("WEBGL_compressed_texture_pvrtc")
            },
            supportsBlendMinMax: function() {
                return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),
                this.extensions.get("EXT_blend_minmax")
            },
            supportsVertexTextures: function() {
                return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),
                this.capabilities.vertexTextures
            },
            supportsInstancedArrays: function() {
                return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),
                this.extensions.get("ANGLE_instanced_arrays")
            },
            enableScissorTest: function(e) {
                console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),
                this.setScissorTest(e)
            },
            initMaterial: function() {
                console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
            },
            addPrePlugin: function() {
                console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
            },
            addPostPlugin: function() {
                console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
            },
            updateShadowMap: function() {
                console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
            }
        }),
        Object.defineProperties(ma.prototype, {
            shadowMapEnabled: {
                get: function() {
                    return this.shadowMap.enabled
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),
                    this.shadowMap.enabled = e
                }
            },
            shadowMapType: {
                get: function() {
                    return this.shadowMap.type
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
                    this.shadowMap.type = e
                }
            },
            shadowMapCullFace: {
                get: function() {
                    return this.shadowMap.cullFace
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),
                    this.shadowMap.cullFace = e
                }
            }
        }),
        Object.defineProperties(Mn.prototype, {
            cullFace: {
                get: function() {
                    return this.renderReverseSided ? G : V
                },
                set: function(e) {
                    var t = e !== V;
                    console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + t + "."),
                    this.renderReverseSided = t
                }
            }
        }),
        Object.defineProperties(Te.prototype, {
            wrapS: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                    this.texture.wrapS
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                    this.texture.wrapS = e
                }
            },
            wrapT: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                    this.texture.wrapT
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                    this.texture.wrapT = e
                }
            },
            magFilter: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                    this.texture.magFilter
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                    this.texture.magFilter = e
                }
            },
            minFilter: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                    this.texture.minFilter
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                    this.texture.minFilter = e
                }
            },
            anisotropy: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                    this.texture.anisotropy
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                    this.texture.anisotropy = e
                }
            },
            offset: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                    this.texture.offset
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                    this.texture.offset = e
                }
            },
            repeat: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                    this.texture.repeat
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                    this.texture.repeat = e
                }
            },
            format: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                    this.texture.format
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                    this.texture.format = e
                }
            },
            type: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                    this.texture.type
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                    this.texture.type = e
                }
            },
            generateMipmaps: {
                get: function() {
                    return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                    this.texture.generateMipmaps
                },
                set: function(e) {
                    console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                    this.texture.generateMipmaps = e
                }
            }
        }),
        zl.prototype.load = function(e) {
            console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
            var t = this;
            return (new Fl).load(e, function(e) {
                t.setBuffer(e)
            }),
            this
        }
        ,
        Vl.prototype.getData = function() {
            return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),
            this.getFrequencyData()
        }
        ;
        var ju = {
            merge: function(e, t, n) {
                var i;
                console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),
                t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(),
                i = t.matrix,
                t = t.geometry),
                e.merge(t, i, n)
            },
            center: function(e) {
                return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),
                e.center()
            }
        }
          , zu = {
            crossOrigin: "anonymous",
            loadTexture: function(e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
                var r = new Vo;
                r.setCrossOrigin(this.crossOrigin);
                var a = r.load(e, n, void 0, i);
                return t && (a.mapping = t),
                a
            },
            loadTextureCube: function(e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
                var r = new Ho;
                r.setCrossOrigin(this.crossOrigin);
                var a = r.load(e, n, void 0, i);
                return t && (a.mapping = t),
                a
            },
            loadCompressedTexture: function() {
                console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
            },
            loadCompressedTextureCube: function() {
                console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
            }
        };
        e.WebGLRenderTargetCube = Se,
        e.WebGLRenderTarget = Te,
        e.WebGLRenderer = ma,
        e.ShaderLib = Xt,
        e.UniformsLib = Wt,
        e.UniformsUtils = qt,
        e.ShaderChunk = $t,
        e.FogExp2 = ga,
        e.Fog = va,
        e.Scene = ya,
        e.LensFlare = ba,
        e.Sprite = wa,
        e.LOD = xa,
        e.SkinnedMesh = Ea,
        e.Skeleton = Ta,
        e.Bone = Sa,
        e.Mesh = Tr,
        e.LineSegments = ka,
        e.LineLoop = Pa,
        e.Line = Ma,
        e.Points = Ia,
        e.Group = La,
        e.VideoTexture = Oa,
        e.DataTexture = tt,
        e.CompressedTexture = Ra,
        e.CubeTexture = Ce,
        e.CanvasTexture = Da,
        e.DepthTexture = Na,
        e.Texture = xe,
        e.CompressedTextureLoader = Uo,
        e.DataTextureLoader = jo,
        e.CubeTextureLoader = Ho,
        e.TextureLoader = Vo,
        e.ObjectLoader = Cs,
        e.MaterialLoader = gs,
        e.BufferGeometryLoader = vs,
        e.DefaultLoadingManager = Fo,
        e.LoadingManager = No,
        e.JSONLoader = Es,
        e.ImageLoader = zo,
        e.FontLoader = qs,
        e.FileLoader = Bo,
        e.Loader = Ss,
        e.Cache = Do,
        e.AudioLoader = Fl,
        e.SpotLightShadow = $o,
        e.SpotLight = Xo,
        e.PointLight = Yo,
        e.RectAreaLight = Jo,
        e.HemisphereLight = Wo,
        e.DirectionalLightShadow = Ko,
        e.DirectionalLight = Zo,
        e.AmbientLight = Qo,
        e.LightShadow = qo,
        e.Light = Go,
        e.StereoCamera = Bl,
        e.PerspectiveCamera = Qn,
        e.OrthographicCamera = Zn,
        e.CubeCamera = Ul,
        e.ArrayCamera = ha,
        e.Camera = Kn,
        e.AudioListener = jl,
        e.PositionalAudio = Hl,
        e.AudioContext = Nl,
        e.AudioAnalyser = Vl,
        e.Audio = zl,
        e.VectorKeyframeTrack = ss,
        e.StringKeyframeTrack = hs,
        e.QuaternionKeyframeTrack = us,
        e.NumberKeyframeTrack = cs,
        e.ColorKeyframeTrack = ps,
        e.BooleanKeyframeTrack = ds,
        e.PropertyMixer = Gl,
        e.PropertyBinding = ql,
        e.KeyframeTrack = fs,
        e.AnimationUtils = ts,
        e.AnimationObjectGroup = $l,
        e.AnimationMixer = Yl,
        e.AnimationClip = ms,
        e.Uniform = Kl,
        e.InstancedBufferGeometry = Zl,
        e.BufferGeometry = fr,
        e.GeometryIdCount = er,
        e.Geometry = tr,
        e.InterleavedBufferAttribute = Ql,
        e.InstancedInterleavedBuffer = eu,
        e.InterleavedBuffer = Jl,
        e.InstancedBufferAttribute = tu,
        e.Face3 = Jn,
        e.Object3D = Yn,
        e.Raycaster = nu,
        e.Layers = An,
        e.EventDispatcher = t,
        e.Clock = au,
        e.QuaternionLinearInterpolant = ls,
        e.LinearInterpolant = rs,
        e.DiscreteInterpolant = as,
        e.CubicInterpolant = is,
        e.Interpolant = ns,
        e.Triangle = xr,
        e.Math = Ze,
        e.Spherical = ou,
        e.Cylindrical = su,
        e.Plane = En,
        e.Frustum = Cn,
        e.Sphere = Tn,
        e.Ray = _r,
        e.Matrix4 = et,
        e.Matrix3 = Sn,
        e.Box3 = xn,
        e.Box2 = Yt,
        e.Line3 = wr,
        e.Euler = Pn,
        e.Vector4 = Qe,
        e.Vector3 = Je,
        e.Vector2 = fe,
        e.Quaternion = Ee,
        e.Color = zt,
        e.MorphBlendMesh = lu,
        e.ImmediateRenderObject = uu,
        e.VertexNormalsHelper = cu,
        e.SpotLightHelper = hu,
        e.SkeletonHelper = du,
        e.PointLightHelper = pu,
        e.RectAreaLightHelper = fu,
        e.HemisphereLightHelper = mu,
        e.GridHelper = gu,
        e.PolarGridHelper = vu,
        e.FaceNormalsHelper = yu,
        e.DirectionalLightHelper = bu,
        e.CameraHelper = _u,
        e.BoxHelper = xu,
        e.ArrowHelper = Tu,
        e.AxisHelper = Su,
        e.CatmullRomCurve3 = Au,
        e.CubicBezierCurve3 = Iu,
        e.QuadraticBezierCurve3 = Lu,
        e.LineCurve3 = Ou,
        e.ArcCurve = Ru,
        e.EllipseCurve = Ns,
        e.SplineCurve = Fs,
        e.CubicBezierCurve = Bs,
        e.QuadraticBezierCurve = Us,
        e.LineCurve = Rs,
        e.Shape = Vs,
        e.Path = Hs,
        e.ShapePath = Gs,
        e.Font = Ws,
        e.CurvePath = Ds,
        e.Curve = Os,
        e.ShapeUtils = no,
        e.SceneUtils = Du,
        e.WireframeGeometry = Fa,
        e.ParametricGeometry = Ba,
        e.ParametricBufferGeometry = Ua,
        e.TetrahedronGeometry = Ha,
        e.TetrahedronBufferGeometry = Va,
        e.OctahedronGeometry = Ga,
        e.OctahedronBufferGeometry = Wa,
        e.IcosahedronGeometry = qa,
        e.IcosahedronBufferGeometry = $a,
        e.DodecahedronGeometry = Xa,
        e.DodecahedronBufferGeometry = Ya,
        e.PolyhedronGeometry = ja,
        e.PolyhedronBufferGeometry = za,
        e.TubeGeometry = Ka,
        e.TubeBufferGeometry = Za,
        e.TorusKnotGeometry = Qa,
        e.TorusKnotBufferGeometry = Ja,
        e.TorusGeometry = eo,
        e.TorusBufferGeometry = to,
        e.TextGeometry = oo,
        e.TextBufferGeometry = so,
        e.SphereGeometry = lo,
        e.SphereBufferGeometry = uo,
        e.RingGeometry = co,
        e.RingBufferGeometry = ho,
        e.PlaneGeometry = vr,
        e.PlaneBufferGeometry = yr,
        e.LatheGeometry = po,
        e.LatheBufferGeometry = fo,
        e.ShapeGeometry = mo,
        e.ShapeBufferGeometry = go,
        e.ExtrudeGeometry = ro,
        e.ExtrudeBufferGeometry = ao,
        e.EdgesGeometry = vo,
        e.ConeGeometry = _o,
        e.ConeBufferGeometry = wo,
        e.CylinderGeometry = yo,
        e.CylinderBufferGeometry = bo,
        e.CircleGeometry = xo,
        e.CircleBufferGeometry = To,
        e.BoxGeometry = mr,
        e.BoxBufferGeometry = gr,
        e.ShadowMaterial = Eo,
        e.SpriteMaterial = _a,
        e.RawShaderMaterial = Co,
        e.ShaderMaterial = _n,
        e.PointsMaterial = Aa,
        e.MeshPhysicalMaterial = ko,
        e.MeshStandardMaterial = Mo,
        e.MeshPhongMaterial = Po,
        e.MeshToonMaterial = Ao,
        e.MeshNormalMaterial = Io,
        e.MeshLambertMaterial = Lo,
        e.MeshDepthMaterial = wn,
        e.MeshBasicMaterial = br,
        e.LineDashedMaterial = Oo,
        e.LineBasicMaterial = Ca,
        e.Material = bn,
        e.Float64BufferAttribute = hr,
        e.Float32BufferAttribute = cr,
        e.Uint32BufferAttribute = ur,
        e.Int32BufferAttribute = lr,
        e.Uint16BufferAttribute = sr,
        e.Int16BufferAttribute = or,
        e.Uint8ClampedBufferAttribute = ar,
        e.Uint8BufferAttribute = rr,
        e.Int8BufferAttribute = ir,
        e.BufferAttribute = nr,
        e.REVISION = "86",
        e.MOUSE = {
            LEFT: 0,
            MIDDLE: 1,
            RIGHT: 2
        },
        e.CullFaceNone = H,
        e.CullFaceBack = V,
        e.CullFaceFront = G,
        e.CullFaceFrontBack = 3,
        e.FrontFaceDirectionCW = 0,
        e.FrontFaceDirectionCCW = 1,
        e.BasicShadowMap = 0,
        e.PCFShadowMap = F,
        e.PCFSoftShadowMap = I,
        e.FrontSide = B,
        e.BackSide = W,
        e.DoubleSide = q,
        e.FlatShading = ke,
        e.SmoothShading = l,
        e.NoColors = Pe,
        e.FaceColors = 1,
        e.VertexColors = 2,
        e.NoBlending = $,
        e.NormalBlending = X,
        e.AdditiveBlending = Y,
        e.SubtractiveBlending = K,
        e.MultiplyBlending = Z,
        e.CustomBlending = Q,
        e.AddEquation = Ae,
        e.SubtractEquation = 101,
        e.ReverseSubtractEquation = 102,
        e.MinEquation = 103,
        e.MaxEquation = 104,
        e.ZeroFactor = 200,
        e.OneFactor = 201,
        e.SrcColorFactor = 202,
        e.OneMinusSrcColorFactor = 203,
        e.SrcAlphaFactor = Ie,
        e.OneMinusSrcAlphaFactor = Le,
        e.DstAlphaFactor = 206,
        e.OneMinusDstAlphaFactor = 207,
        e.DstColorFactor = 208,
        e.OneMinusDstColorFactor = 209,
        e.SrcAlphaSaturateFactor = 210,
        e.NeverDepth = J,
        e.AlwaysDepth = ee,
        e.LessDepth = te,
        e.LessEqualDepth = ne,
        e.EqualDepth = ie,
        e.GreaterEqualDepth = re,
        e.GreaterDepth = ae,
        e.NotEqualDepth = oe,
        e.MultiplyOperation = L,
        e.MixOperation = O,
        e.AddOperation = R,
        e.NoToneMapping = D,
        e.LinearToneMapping = Oe,
        e.ReinhardToneMapping = N,
        e.Uncharted2ToneMapping = U,
        e.CineonToneMapping = j,
        e.UVMapping = 300,
        e.CubeReflectionMapping = z,
        e.CubeRefractionMapping = se,
        e.EquirectangularReflectionMapping = le,
        e.EquirectangularRefractionMapping = ue,
        e.SphericalReflectionMapping = ce,
        e.CubeUVReflectionMapping = he,
        e.CubeUVRefractionMapping = de,
        e.RepeatWrapping = 1e3,
        e.ClampToEdgeWrapping = Re,
        e.MirroredRepeatWrapping = 1002,
        e.NearestFilter = De,
        e.NearestMipMapNearestFilter = Ne,
        e.NearestMipMapLinearFilter = Fe,
        e.LinearFilter = Be,
        e.LinearMipMapNearestFilter = 1007,
        e.LinearMipMapLinearFilter = Ue,
        e.UnsignedByteType = je,
        e.ByteType = 1010,
        e.ShortType = 1011,
        e.UnsignedShortType = ze,
        e.IntType = 1013,
        e.UnsignedIntType = He,
        e.FloatType = Ve,
        e.HalfFloatType = Ge,
        e.UnsignedShort4444Type = 1017,
        e.UnsignedShort5551Type = 1018,
        e.UnsignedShort565Type = 1019,
        e.UnsignedInt248Type = We,
        e.AlphaFormat = 1021,
        e.RGBFormat = qe,
        e.RGBAFormat = $e,
        e.LuminanceFormat = 1024,
        e.LuminanceAlphaFormat = 1025,
        e.RGBEFormat = u,
        e.DepthFormat = Xe,
        e.DepthStencilFormat = Ye,
        e.RGB_S3TC_DXT1_Format = 2001,
        e.RGBA_S3TC_DXT1_Format = 2002,
        e.RGBA_S3TC_DXT3_Format = 2003,
        e.RGBA_S3TC_DXT5_Format = 2004,
        e.RGB_PVRTC_4BPPV1_Format = 2100,
        e.RGB_PVRTC_2BPPV1_Format = 2101,
        e.RGBA_PVRTC_4BPPV1_Format = 2102,
        e.RGBA_PVRTC_2BPPV1_Format = 2103,
        e.RGB_ETC1_Format = 2151,
        e.LoopOnce = 2200,
        e.LoopRepeat = 2201,
        e.LoopPingPong = 2202,
        e.InterpolateDiscrete = 2300,
        e.InterpolateLinear = 2301,
        e.InterpolateSmooth = 2302,
        e.ZeroCurvatureEnding = 2400,
        e.ZeroSlopeEnding = 2401,
        e.WrapAroundEnding = 2402,
        e.TrianglesDrawMode = Ke,
        e.TriangleStripDrawMode = 1,
        e.TriangleFanDrawMode = 2,
        e.LinearEncoding = f,
        e.sRGBEncoding = c,
        e.GammaEncoding = m,
        e.RGBEEncoding = h,
        e.LogLuvEncoding = 3003,
        e.RGBM7Encoding = d,
        e.RGBM16Encoding = p,
        e.RGBDEncoding = g,
        e.BasicDepthPacking = v,
        e.RGBADepthPacking = pe,
        e.CubeGeometry = mr,
        e.Face4 = function(e, t, n, i, r, a, o) {
            return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),
            new Jn(e,t,n,r,a,o)
        }
        ,
        e.LineStrip = 0,
        e.LinePieces = 1,
        e.MeshFaceMaterial = function(e) {
            return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),
            e
        }
        ,
        e.MultiMaterial = function(e) {
            return void 0 === e && (e = []),
            console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),
            e.isMultiMaterial = !0,
            (e.materials = e).clone = function() {
                return e.slice()
            }
            ,
            e
        }
        ,
        e.PointCloud = function(e, t) {
            return console.warn("THREE.PointCloud has been renamed to THREE.Points."),
            new Ia(e,t)
        }
        ,
        e.Particle = function(e) {
            return console.warn("THREE.Particle has been renamed to THREE.Sprite."),
            new wa(e)
        }
        ,
        e.ParticleSystem = function(e, t) {
            return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),
            new Ia(e,t)
        }
        ,
        e.PointCloudMaterial = function(e) {
            return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),
            new Aa(e)
        }
        ,
        e.ParticleBasicMaterial = function(e) {
            return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),
            new Aa(e)
        }
        ,
        e.ParticleSystemMaterial = function(e) {
            return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
            new Aa(e)
        }
        ,
        e.Vertex = function(e, t, n) {
            return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),
            new Je(e,t,n)
        }
        ,
        e.DynamicBufferAttribute = function(e, t) {
            return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),
            new nr(e,t).setDynamic(!0)
        }
        ,
        e.Int8Attribute = function(e, t) {
            return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),
            new ir(e,t)
        }
        ,
        e.Uint8Attribute = function(e, t) {
            return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),
            new rr(e,t)
        }
        ,
        e.Uint8ClampedAttribute = function(e, t) {
            return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),
            new ar(e,t)
        }
        ,
        e.Int16Attribute = function(e, t) {
            return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),
            new or(e,t)
        }
        ,
        e.Uint16Attribute = function(e, t) {
            return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),
            new sr(e,t)
        }
        ,
        e.Int32Attribute = function(e, t) {
            return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),
            new lr(e,t)
        }
        ,
        e.Uint32Attribute = function(e, t) {
            return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),
            new ur(e,t)
        }
        ,
        e.Float32Attribute = function(e, t) {
            return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),
            new cr(e,t)
        }
        ,
        e.Float64Attribute = function(e, t) {
            return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),
            new hr(e,t)
        }
        ,
        e.ClosedSplineCurve3 = Fu,
        e.SplineCurve3 = Bu,
        e.Spline = Uu,
        e.BoundingBoxHelper = function(e, t) {
            return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),
            new xu(e,t)
        }
        ,
        e.EdgesHelper = function(e, t) {
            return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),
            new ka(new vo(e.geometry),new Ca({
                color: void 0 !== t ? t : 16777215
            }))
        }
        ,
        e.WireframeHelper = function(e, t) {
            return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),
            new ka(new Fa(e.geometry),new Ca({
                color: void 0 !== t ? t : 16777215
            }))
        }
        ,
        e.XHRLoader = function(e) {
            return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),
            new Bo(e)
        }
        ,
        e.BinaryTextureLoader = function(e) {
            return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),
            new jo(e)
        }
        ,
        e.GeometryUtils = ju,
        e.ImageUtils = zu,
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    "object" === Hu(t) && void 0 !== e ? o(t) : (r = [t],
    void 0 === (a = "function" == typeof (i = o) ? i.apply(t, r) : i) || (e.exports = a))
}
, function(e, t, n) {
    var i, r;
    i = "undefined" != typeof window ? window : this,
    r = function() {
        function n(e) {
            return e instanceof Date ? e : isNaN(e) ? /^\d+$/.test(e) ? new Date(o(e)) : (e = (e || "").trim().replace(/\.\d+/, "").replace(/-/, "/").replace(/-/, "/").replace(/(\d)T(\d)/, "$1 $2").replace(/Z/, " UTC").replace(/([\+\-]\d\d)\:?(\d\d)/, " $1$2"),
            new Date(e)) : new Date(o(e))
        }
        function o(e) {
            return parseInt(e)
        }
        function s(e, t, n) {
            t = c[t] ? t : c[n] ? n : "en";
            for (var i = 0, r = e < 0 ? 1 : 0, a = e = Math.abs(e); h[i] <= e && i < 6; i++)
                e /= h[i];
            return (0 === (i *= 2) ? 9 : 1) < (e = o(e)) && (i += 1),
            c[t](e, i, a)[r].replace("%s", e)
        }
        function l(e, t) {
            return ((t = t ? n(t) : new Date) - n(e)) / 1e3
        }
        function a(e, t) {
            return e.getAttribute ? e.getAttribute(t) : e.attr ? e.attr(t) : void 0
        }
        function i(e, t) {
            this.nowDate = e,
            this.defaultLocale = t || "en"
        }
        function e(e, t) {
            return new i(e,t)
        }
        var r = "second_minute_hour_day_week_month_year".split("_")
          , u = "秒_分钟_小时_天_周_月_年".split("_")
          , c = {
            en: function(e, t) {
                if (0 === t)
                    return ["just now", "right now"];
                var n = r[parseInt(t / 2)];
                return 1 < e && (n += "s"),
                [e + " " + n + " ago", "in " + e + " " + n]
            },
            zh_CN: function(e, t) {
                if (0 === t)
                    return ["刚刚", "片刻后"];
                var n = u[parseInt(t / 2)];
                return [e + n + "前", e + n + "后"]
            }
        }
          , h = [60, 60, 24, 7, 365 / 7 / 12, 12]
          , d = "data-tid"
          , p = {};
        return i.prototype.doRender = function(e, t, n) {
            var i, r = l(t, this.nowDate), a = this;
            e.innerHTML = s(r, n, this.defaultLocale),
            p[i = setTimeout(function() {
                a.doRender(e, t, n),
                delete p[i]
            }, Math.min(1e3 * function(e) {
                for (var t = 1, n = 0, i = Math.abs(e); h[n] <= e && n < 6; n++)
                    e /= h[n],
                    t *= h[n];
                return i = (i %= t) ? t - i : t,
                Math.ceil(i)
            }(r), 2147483647))] = 0,
            function(e, t) {
                e.setAttribute ? e.setAttribute(d, t) : e.attr && e.attr(d, t)
            }(e, i)
        }
        ,
        i.prototype.format = function(e, t) {
            return s(l(e, this.nowDate), t, this.defaultLocale)
        }
        ,
        i.prototype.render = function(e, t) {
            void 0 === e.length && (e = [e]);
            for (var n = 0, i = e.length; n < i; n++)
                this.doRender(e[n], a(r = e[n], "data-timeago") || a(r, "datetime"), t);
            var r
        }
        ,
        i.prototype.setLocale = function(e) {
            this.defaultLocale = e
        }
        ,
        e.register = function(e, t) {
            c[e] = t
        }
        ,
        e.cancel = function(e) {
            var t;
            if (e)
                (t = a(e, d)) && (clearTimeout(t),
                delete p[t]);
            else {
                for (t in p)
                    clearTimeout(t);
                p = {}
            }
        }
        ,
        e
    }
    ,
    e.exports ? (e.exports = r(),
    e.exports.default = e.exports) : i.timeago = r()
}
, function(e, t, n) {
    var i = n(8)
      , r = n(5).document
      , a = i(r) && i(r.createElement);
    e.exports = function(e) {
        return a ? r.createElement(e) : {}
    }
}
, function(e, t, n) {
    t.f = n(9)
}
, function(e, t, n) {
    var i = n(85)("keys")
      , r = n(43);
    e.exports = function(e) {
        return i[e] || (i[e] = r(e))
    }
}
, function(e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(e, t, n) {
    var i = n(5).document;
    e.exports = i && i.documentElement
}
, function(e, t, r) {
    function a(e, t) {
        if (i(e),
        !n(t) && null !== t)
            throw TypeError(t + ": can't set as prototype!")
    }
    var n = r(8)
      , i = r(7);
    e.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(e, n, i) {
            try {
                (i = r(27)(Function.call, r(30).f(Object.prototype, "__proto__").set, 2))(e, []),
                n = !(e instanceof Array)
            } catch (e) {
                n = !0
            }
            return function(e, t) {
                return a(e, t),
                n ? e.__proto__ = t : i(e, t),
                e
            }
        }({}, !1) : void 0),
        check: a
    }
}
, function(e, t) {
    e.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
}
, function(e, t, n) {
    var a = n(8)
      , o = n(116).set;
    e.exports = function(e, t, n) {
        var i, r = t.constructor;
        return r !== n && "function" == typeof r && (i = r.prototype) !== n.prototype && a(i) && o && o(e, i),
        e
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(29)
      , a = n(35);
    e.exports = function(e) {
        var t = String(a(this))
          , n = ""
          , i = r(e);
        if (i < 0 || i == 1 / 0)
            throw RangeError("Count can't be negative");
        for (; 0 < i; (i >>>= 1) && (t += t))
            1 & i && (n += t);
        return n
    }
}
, function(e, t) {
    e.exports = Math.sign || function(e) {
        return 0 == (e = +e) || e != e ? e : e < 0 ? -1 : 1
    }
}
, function(e, t) {
    var n = Math.expm1;
    e.exports = !n || 22025.465794806718 < n(10) || n(10) < 22025.465794806718 || -2e-17 != n(-2e-17) ? function(e) {
        return 0 == (e = +e) ? e : -1e-6 < e && e < 1e-6 ? e + e * e / 2 : Math.exp(e) - 1
    }
    : n
}
, function(e, t, n) {
    var l = n(29)
      , u = n(35);
    e.exports = function(s) {
        return function(e, t) {
            var n, i, r = String(u(e)), a = l(t), o = r.length;
            return a < 0 || o <= a ? s ? "" : void 0 : (n = r.charCodeAt(a)) < 55296 || 56319 < n || a + 1 === o || (i = r.charCodeAt(a + 1)) < 56320 || 57343 < i ? s ? r.charAt(a) : n : s ? r.slice(a, a + 2) : i - 56320 + (n - 55296 << 10) + 65536
        }
    }
}
, function(e, t, n) {
    "use strict";
    function b() {
        return this
    }
    var _ = n(44)
      , w = n(2)
      , x = n(19)
      , T = n(22)
      , S = n(60)
      , E = n(175)
      , C = n(58)
      , M = n(49)
      , k = n(9)("iterator")
      , P = !([].keys && "next"in [].keys())
      , A = "values";
    e.exports = function(e, t, n, i, r, a, o) {
        E(n, t, i);
        function s(e) {
            if (!P && e in f)
                return f[e];
            switch (e) {
            case "keys":
            case A:
                return function() {
                    return new n(this,e)
                }
            }
            return function() {
                return new n(this,e)
            }
        }
        var l, u, c, h = t + " Iterator", d = r == A, p = !1, f = e.prototype, m = f[k] || f["@@iterator"] || r && f[r], g = m || s(r), v = r ? d ? s("entries") : g : void 0, y = "Array" == t && f.entries || m;
        if (y && (c = M(y.call(new e))) !== Object.prototype && c.next && (C(c, h, !0),
        _ || "function" == typeof c[k] || T(c, k, b)),
        d && m && m.name !== A && (p = !0,
        g = function() {
            return m.call(this)
        }
        ),
        _ && !o || !P && !p && f[k] || T(f, k, g),
        S[t] = g,
        S[h] = b,
        r)
            if (l = {
                values: d ? g : s(A),
                keys: a ? g : s("keys"),
                entries: v
            },
            o)
                for (u in l)
                    u in f || x(f, u, l[u]);
            else
                w(w.P + w.F * (P || p), t, l);
        return l
    }
}
, function(e, t, n) {
    var i = n(125)
      , r = n(35);
    e.exports = function(e, t, n) {
        if (i(t))
            throw TypeError("String#" + n + " doesn't accept regex!");
        return String(r(e))
    }
}
, function(e, t, n) {
    var i = n(8)
      , r = n(34)
      , a = n(9)("match");
    e.exports = function(e) {
        var t;
        return i(e) && (void 0 !== (t = e[a]) ? !!t : "RegExp" == r(e))
    }
}
, function(e, t, n) {
    var i = n(9)("match");
    e.exports = function(t) {
        var n = /./;
        try {
            "/./"[t](n)
        } catch (e) {
            try {
                return n[i] = !1,
                !"/./"[t](n)
            } catch (e) {}
        }
        return !0
    }
}
, function(e, t, n) {
    var i = n(60)
      , r = n(9)("iterator")
      , a = Array.prototype;
    e.exports = function(e) {
        return void 0 !== e && (i.Array === e || a[r] === e)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(13)
      , r = n(42);
    e.exports = function(e, t, n) {
        t in e ? i.f(e, t, r(0, n)) : e[t] = n
    }
}
, function(e, t, n) {
    var i = n(76)
      , r = n(9)("iterator")
      , a = n(60);
    e.exports = n(11).getIteratorMethod = function(e) {
        if (null != e)
            return e[r] || e["@@iterator"] || a[i(e)]
    }
}
, function(e, t, n) {
    "use strict";
    var u = n(15)
      , c = n(46)
      , h = n(10);
    e.exports = function(e, t, n) {
        for (var i = u(this), r = h(i.length), a = arguments.length, o = c(1 < a ? t : void 0, r), s = 2 < a ? n : void 0, l = void 0 === s ? r : c(s, r); o < l; )
            i[o++] = e;
        return i
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(50)
      , r = n(180)
      , a = n(60)
      , o = n(23);
    e.exports = n(123)(Array, "Array", function(e, t) {
        this._t = o(e),
        this._i = 0,
        this._k = t
    }, function() {
        var e = this._t
          , t = this._k
          , n = this._i++;
        return !e || n >= e.length ? (this._t = void 0,
        r(1)) : r(0, "keys" == t ? n : "values" == t ? e[n] : [n, e[n]])
    }, "values"),
    a.Arguments = a.Array,
    i("keys"),
    i("values"),
    i("entries")
}
, function(e, t, n) {
    "use strict";
    var i, r, a = n(90), o = RegExp.prototype.exec, s = String.prototype.replace, l = o, u = "lastIndex", c = (i = /a/,
    r = /b*/g,
    o.call(i, "a"),
    o.call(r, "a"),
    0 !== i[u] || 0 !== r[u]), h = void 0 !== /()??/.exec("")[1];
    (c || h) && (l = function(e) {
        var t, n, i, r;
        return h && (n = new RegExp("^" + this.source + "$(?!\\s)",a.call(this))),
        c && (t = this[u]),
        i = o.call(this, e),
        c && i && (this[u] = this.global ? i.index + i[0].length : t),
        h && i && 1 < i.length && s.call(i[0], n, function() {
            for (r = 1; r < arguments.length - 2; r++)
                void 0 === arguments[r] && (i[r] = void 0)
        }),
        i
    }
    ),
    e.exports = l
}
, function(e, t, n) {
    "use strict";
    var i = n(122)(!0);
    e.exports = function(e, t, n) {
        return t + (n ? i(e, t).length : 1)
    }
}
, function(e, t, n) {
    function i() {
        var e = +this;
        if (b.hasOwnProperty(e)) {
            var t = b[e];
            delete b[e],
            t()
        }
    }
    function r(e) {
        i.call(e.data)
    }
    var a, o, s, l = n(27), u = n(169), c = n(115), h = n(111), d = n(5), p = d.process, f = d.setImmediate, m = d.clearImmediate, g = d.MessageChannel, v = d.Dispatch, y = 0, b = {}, _ = "onreadystatechange";
    f && m || (f = function(e) {
        for (var t = [], n = 1; n < arguments.length; )
            t.push(arguments[n++]);
        return b[++y] = function() {
            u("function" == typeof e ? e : Function(e), t)
        }
        ,
        a(y),
        y
    }
    ,
    m = function(e) {
        delete b[e]
    }
    ,
    "process" == n(34)(p) ? a = function(e) {
        p.nextTick(l(i, e, 1))
    }
    : v && v.now ? a = function(e) {
        v.now(l(i, e, 1))
    }
    : g ? (s = (o = new g).port2,
    o.port1.onmessage = r,
    a = l(s.postMessage, s, 1)) : d.addEventListener && "function" == typeof postMessage && !d.importScripts ? (a = function(e) {
        d.postMessage(e + "", "*")
    }
    ,
    d.addEventListener("message", r, !1)) : a = _ in h("script") ? function(e) {
        c.appendChild(h("script"))[_] = function() {
            c.removeChild(this),
            i.call(e)
        }
    }
    : function(e) {
        setTimeout(l(i, e, 1), 0)
    }
    ),
    e.exports = {
        set: f,
        clear: m
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(5)
      , r = n(12)
      , a = n(44)
      , o = n(96)
      , s = n(22)
      , l = n(63)
      , u = n(6)
      , c = n(62)
      , h = n(29)
      , d = n(10)
      , p = n(188)
      , f = n(48).f
      , m = n(13).f
      , g = n(130)
      , v = n(58)
      , y = "ArrayBuffer"
      , b = "DataView"
      , _ = "prototype"
      , w = "Wrong index!"
      , x = i[y]
      , T = i[b]
      , S = i.Math
      , E = i.RangeError
      , C = i.Infinity
      , M = x
      , k = S.abs
      , P = S.pow
      , A = S.floor
      , I = S.log
      , L = S.LN2
      , O = "byteLength"
      , R = "byteOffset"
      , D = r ? "_b" : "buffer"
      , N = r ? "_l" : O
      , F = r ? "_o" : R;
    function B(e, t, n) {
        var i, r, a, o = new Array(n), s = 8 * n - t - 1, l = (1 << s) - 1, u = l >> 1, c = 23 === t ? P(2, -24) - P(2, -77) : 0, h = 0, d = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
        for ((e = k(e)) != e || e === C ? (r = e != e ? 1 : 0,
        i = l) : (i = A(I(e) / L),
        e * (a = P(2, -i)) < 1 && (i--,
        a *= 2),
        2 <= (e += 1 <= i + u ? c / a : c * P(2, 1 - u)) * a && (i++,
        a /= 2),
        l <= i + u ? (r = 0,
        i = l) : 1 <= i + u ? (r = (e * a - 1) * P(2, t),
        i += u) : (r = e * P(2, u - 1) * P(2, t),
        i = 0)); 8 <= t; o[h++] = 255 & r,
        r /= 256,
        t -= 8)
            ;
        for (i = i << t | r,
        s += t; 0 < s; o[h++] = 255 & i,
        i /= 256,
        s -= 8)
            ;
        return o[--h] |= 128 * d,
        o
    }
    function U(e, t, n) {
        var i, r = 8 * n - t - 1, a = (1 << r) - 1, o = a >> 1, s = r - 7, l = n - 1, u = e[l--], c = 127 & u;
        for (u >>= 7; 0 < s; c = 256 * c + e[l],
        l--,
        s -= 8)
            ;
        for (i = c & (1 << -s) - 1,
        c >>= -s,
        s += t; 0 < s; i = 256 * i + e[l],
        l--,
        s -= 8)
            ;
        if (0 === c)
            c = 1 - o;
        else {
            if (c === a)
                return i ? NaN : u ? -C : C;
            i += P(2, t),
            c -= o
        }
        return (u ? -1 : 1) * i * P(2, c - t)
    }
    function j(e) {
        return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0]
    }
    function z(e) {
        return [255 & e]
    }
    function H(e) {
        return [255 & e, e >> 8 & 255]
    }
    function V(e) {
        return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255]
    }
    function G(e) {
        return B(e, 52, 8)
    }
    function W(e) {
        return B(e, 23, 4)
    }
    function q(e, t, n) {
        m(e[_], t, {
            get: function() {
                return this[n]
            }
        })
    }
    function $(e, t, n, i) {
        var r = p(+n);
        if (r + t > e[N])
            throw E(w);
        var a = e[D]._b
          , o = r + e[F]
          , s = a.slice(o, o + t);
        return i ? s : s.reverse()
    }
    function X(e, t, n, i, r, a) {
        var o = p(+n);
        if (o + t > e[N])
            throw E(w);
        for (var s = e[D]._b, l = o + e[F], u = i(+r), c = 0; c < t; c++)
            s[l + c] = u[a ? c : t - c - 1]
    }
    if (o.ABV) {
        if (!u(function() {
            x(1)
        }) || !u(function() {
            new x(-1)
        }) || u(function() {
            return new x,
            new x(1.5),
            new x(NaN),
            x.name != y
        })) {
            for (var Y, K = (x = function(e) {
                return c(this, x),
                new M(p(e))
            }
            )[_] = M[_], Z = f(M), Q = 0; Z.length > Q; )
                (Y = Z[Q++])in x || s(x, Y, M[Y]);
            a || (K.constructor = x)
        }
        var J = new T(new x(2))
          , ee = T[_].setInt8;
        J.setInt8(0, 2147483648),
        J.setInt8(1, 2147483649),
        !J.getInt8(0) && J.getInt8(1) || l(T[_], {
            setInt8: function(e, t) {
                ee.call(this, e, t << 24 >> 24)
            },
            setUint8: function(e, t) {
                ee.call(this, e, t << 24 >> 24)
            }
        }, !0)
    } else
        x = function(e) {
            c(this, x, y);
            var t = p(e);
            this._b = g.call(new Array(t), 0),
            this[N] = t
        }
        ,
        T = function(e, t, n) {
            c(this, T, b),
            c(e, x, b);
            var i = e[N]
              , r = h(t);
            if (r < 0 || i < r)
                throw E("Wrong offset!");
            if (i < r + (n = void 0 === n ? i - r : d(n)))
                throw E("Wrong length!");
            this[D] = e,
            this[F] = r,
            this[N] = n
        }
        ,
        r && (q(x, O, "_l"),
        q(T, "buffer", "_b"),
        q(T, O, "_l"),
        q(T, R, "_o")),
        l(T[_], {
            getInt8: function(e) {
                return $(this, 1, e)[0] << 24 >> 24
            },
            getUint8: function(e) {
                return $(this, 1, e)[0]
            },
            getInt16: function(e, t) {
                var n = $(this, 2, e, t);
                return (n[1] << 8 | n[0]) << 16 >> 16
            },
            getUint16: function(e, t) {
                var n = $(this, 2, e, t);
                return n[1] << 8 | n[0]
            },
            getInt32: function(e, t) {
                return j($(this, 4, e, t))
            },
            getUint32: function(e, t) {
                return j($(this, 4, e, t)) >>> 0
            },
            getFloat32: function(e, t) {
                return U($(this, 4, e, t), 23, 4)
            },
            getFloat64: function(e, t) {
                return U($(this, 8, e, t), 52, 8)
            },
            setInt8: function(e, t) {
                X(this, 1, e, z, t)
            },
            setUint8: function(e, t) {
                X(this, 1, e, z, t)
            },
            setInt16: function(e, t, n) {
                X(this, 2, e, H, t, n)
            },
            setUint16: function(e, t, n) {
                X(this, 2, e, H, t, n)
            },
            setInt32: function(e, t, n) {
                X(this, 4, e, V, t, n)
            },
            setUint32: function(e, t, n) {
                X(this, 4, e, V, t, n)
            },
            setFloat32: function(e, t, n) {
                X(this, 4, e, W, t, n)
            },
            setFloat64: function(e, t, n) {
                X(this, 8, e, G, t, n)
            }
        });
    v(x, y),
    v(T, b),
    s(T[_], o.VIEW, !0),
    t[y] = x,
    t[b] = T
}
, function(e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}
, function(e, t, n) {
    e.exports = !n(193)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, n) {
    var i, r;
    i = [n(78)],
    void 0 === (r = function(e) {
        "use strict";
        return e.indexOf
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(98)],
    void 0 === (r = function(e) {
        "use strict";
        return e.hasOwnProperty
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(64), n(14), n(40)],
    void 0 === (r = function(c, h, d, p) {
        "use strict";
        return c.Callbacks = function(i) {
            i = "string" == typeof i ? function(e) {
                var n = {};
                return c.each(e.match(p) || [], function(e, t) {
                    n[t] = !0
                }),
                n
            }(i) : c.extend({}, i);
            function n() {
                for (a = a || i.once,
                t = r = !0; s.length; l = -1)
                    for (e = s.shift(); ++l < o.length; )
                        !1 === o[l].apply(e[0], e[1]) && i.stopOnFalse && (l = o.length,
                        e = !1);
                i.memory || (e = !1),
                r = !1,
                a && (o = e ? [] : "")
            }
            var r, e, t, a, o = [], s = [], l = -1, u = {
                add: function() {
                    return o && (e && !r && (l = o.length - 1,
                    s.push(e)),
                    function n(e) {
                        c.each(e, function(e, t) {
                            d(t) ? i.unique && u.has(t) || o.push(t) : t && t.length && "string" !== h(t) && n(t)
                        })
                    }(arguments),
                    e && !r && n()),
                    this
                },
                remove: function() {
                    return c.each(arguments, function(e, t) {
                        for (var n; -1 < (n = c.inArray(t, o, n)); )
                            o.splice(n, 1),
                            n <= l && l--
                    }),
                    this
                },
                has: function(e) {
                    return e ? -1 < c.inArray(e, o) : 0 < o.length
                },
                empty: function() {
                    return o = o && [],
                    this
                },
                disable: function() {
                    return a = s = [],
                    o = e = "",
                    this
                },
                disabled: function() {
                    return !o
                },
                lock: function() {
                    return a = s = [],
                    e || r || (o = e = ""),
                    this
                },
                locked: function() {
                    return !!a
                },
                fireWith: function(e, t) {
                    return a || (t = [e, (t = t || []).slice ? t.slice() : t],
                    s.push(t),
                    r || n()),
                    this
                },
                fire: function() {
                    return u.fireWith(this, arguments),
                    this
                },
                fired: function() {
                    return !!t
                }
            };
            return u
        }
        ,
        c
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(33), n(66), n(141)],
    void 0 === (r = function(l, u) {
        "use strict";
        return l.extend({
            queue: function(e, t, n) {
                var i;
                if (e)
                    return t = (t || "fx") + "queue",
                    i = u.get(e, t),
                    n && (!i || Array.isArray(n) ? i = u.access(e, t, l.makeArray(n)) : i.push(n)),
                    i || []
            },
            dequeue: function(e, t) {
                t = t || "fx";
                var n = l.queue(e, t)
                  , i = n.length
                  , r = n.shift()
                  , a = l._queueHooks(e, t);
                "inprogress" === r && (r = n.shift(),
                i--),
                r && ("fx" === t && n.unshift("inprogress"),
                delete a.stop,
                r.call(e, function() {
                    l.dequeue(e, t)
                }, a)),
                !i && a && a.empty.fire()
            },
            _queueHooks: function(e, t) {
                var n = t + "queueHooks";
                return u.get(e, n) || u.access(e, n, {
                    empty: l.Callbacks("once memory").add(function() {
                        u.remove(e, [t + "queue", n])
                    })
                })
            }
        }),
        l.fn.extend({
            queue: function(t, n) {
                var e = 2;
                return "string" != typeof t && (n = t,
                t = "fx",
                e--),
                arguments.length < e ? l.queue(this[0], t) : void 0 === n ? this : this.each(function() {
                    var e = l.queue(this, t, n);
                    l._queueHooks(this, t),
                    "fx" === t && "inprogress" !== e[0] && l.dequeue(this, t)
                })
            },
            dequeue: function(e) {
                return this.each(function() {
                    l.dequeue(this, e)
                })
            },
            clearQueue: function(e) {
                return this.queue(e || "fx", [])
            },
            promise: function(e, t) {
                function n() {
                    --r || a.resolveWith(o, [o])
                }
                var i, r = 1, a = l.Deferred(), o = this, s = this.length;
                for ("string" != typeof e && (t = e,
                e = void 0),
                e = e || "fx"; s--; )
                    (i = u.get(o[s], e + "queueHooks")) && i.empty && (r++,
                    i.empty.add(n));
                return n(),
                a.promise(t)
            }
        }),
        l
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(80), n(16), n(14), n(144), n(40), n(145), n(208), n(209), n(33), n(531), n(26), n(142), n(66), n(65), n(102), n(81), n(536)],
    void 0 === (r = function(v, h, e, d, i, a, o, y, r, b, _) {
        "use strict";
        var p, t, w = /^(?:toggle|show|hide)$/, s = /queueHooks$/;
        function n() {
            t && (!1 === e.hidden && window.requestAnimationFrame ? window.requestAnimationFrame(n) : window.setTimeout(n, v.fx.interval),
            v.fx.tick())
        }
        function f() {
            return window.setTimeout(function() {
                p = void 0
            }),
            p = Date.now()
        }
        function l(e, t) {
            var n, i = 0, r = {
                height: e
            };
            for (t = t ? 1 : 0; i < 4; i += 2 - t)
                r["margin" + (n = o[i])] = r["padding" + n] = e;
            return t && (r.opacity = r.width = e),
            r
        }
        function x(e, t, n) {
            for (var i, r = (m.tweeners[t] || []).concat(m.tweeners["*"]), a = 0, o = r.length; a < o; a++)
                if (i = r[a].call(n, t, e))
                    return i
        }
        function m(a, e, t) {
            var n, o, i = 0, r = m.prefilters.length, s = v.Deferred().always(function() {
                delete l.elem
            }), l = function() {
                if (o)
                    return !1;
                for (var e = p || f(), t = Math.max(0, u.startTime + u.duration - e), n = 1 - (t / u.duration || 0), i = 0, r = u.tweens.length; i < r; i++)
                    u.tweens[i].run(n);
                return s.notifyWith(a, [u, n, t]),
                n < 1 && r ? t : (r || s.notifyWith(a, [u, 1, 0]),
                s.resolveWith(a, [u]),
                !1)
            }, u = s.promise({
                elem: a,
                props: v.extend({}, e),
                opts: v.extend(!0, {
                    specialEasing: {},
                    easing: v.easing._default
                }, t),
                originalProperties: e,
                originalOptions: t,
                startTime: p || f(),
                duration: t.duration,
                tweens: [],
                createTween: function(e, t) {
                    var n = v.Tween(a, u.opts, e, t, u.opts.specialEasing[e] || u.opts.easing);
                    return u.tweens.push(n),
                    n
                },
                stop: function(e) {
                    var t = 0
                      , n = e ? u.tweens.length : 0;
                    if (o)
                        return this;
                    for (o = !0; t < n; t++)
                        u.tweens[t].run(1);
                    return e ? (s.notifyWith(a, [u, 1, 0]),
                    s.resolveWith(a, [u, e])) : s.rejectWith(a, [u, e]),
                    this
                }
            }), c = u.props;
            for (!function(e, t) {
                var n, i, r, a, o;
                for (n in e)
                    if (r = t[i = h(n)],
                    a = e[n],
                    Array.isArray(a) && (r = a[1],
                    a = e[n] = a[0]),
                    n !== i && (e[i] = a,
                    delete e[n]),
                    (o = v.cssHooks[i]) && "expand"in o)
                        for (n in a = o.expand(a),
                        delete e[i],
                        a)
                            n in e || (e[n] = a[n],
                            t[n] = r);
                    else
                        t[i] = r
            }(c, u.opts.specialEasing); i < r; i++)
                if (n = m.prefilters[i].call(u, a, c, u.opts))
                    return d(n.stop) && (v._queueHooks(u.elem, u.opts.queue).stop = n.stop.bind(n)),
                    n;
            return v.map(c, x, u),
            d(u.opts.start) && u.opts.start.call(a, u),
            u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always),
            v.fx.timer(v.extend(l, {
                elem: a,
                anim: u,
                queue: u.opts.queue
            })),
            u
        }
        return v.Animation = v.extend(m, {
            tweeners: {
                "*": [function(e, t) {
                    var n = this.createTween(e, t);
                    return r(n.elem, e, i.exec(t), n),
                    n
                }
                ]
            },
            tweener: function(e, t) {
                for (var n, i = 0, r = (e = d(e) ? (t = e,
                ["*"]) : e.match(a)).length; i < r; i++)
                    n = e[i],
                    m.tweeners[n] = m.tweeners[n] || [],
                    m.tweeners[n].unshift(t)
            },
            prefilters: [function(e, t, n) {
                var i, r, a, o, s, l, u, c, h = "width"in t || "height"in t, d = this, p = {}, f = e.style, m = e.nodeType && y(e), g = b.get(e, "fxshow");
                for (i in n.queue || (null == (o = v._queueHooks(e, "fx")).unqueued && (o.unqueued = 0,
                s = o.empty.fire,
                o.empty.fire = function() {
                    o.unqueued || s()
                }
                ),
                o.unqueued++,
                d.always(function() {
                    d.always(function() {
                        o.unqueued--,
                        v.queue(e, "fx").length || o.empty.fire()
                    })
                })),
                t)
                    if (r = t[i],
                    w.test(r)) {
                        if (delete t[i],
                        a = a || "toggle" === r,
                        r === (m ? "hide" : "show")) {
                            if ("show" !== r || !g || void 0 === g[i])
                                continue;
                            m = !0
                        }
                        p[i] = g && g[i] || v.style(e, i)
                    }
                if ((l = !v.isEmptyObject(t)) || !v.isEmptyObject(p))
                    for (i in h && 1 === e.nodeType && (n.overflow = [f.overflow, f.overflowX, f.overflowY],
                    null == (u = g && g.display) && (u = b.get(e, "display")),
                    "none" === (c = v.css(e, "display")) && (u ? c = u : (_([e], !0),
                    u = e.style.display || u,
                    c = v.css(e, "display"),
                    _([e]))),
                    ("inline" === c || "inline-block" === c && null != u) && "none" === v.css(e, "float") && (l || (d.done(function() {
                        f.display = u
                    }),
                    null == u && (c = f.display,
                    u = "none" === c ? "" : c)),
                    f.display = "inline-block")),
                    n.overflow && (f.overflow = "hidden",
                    d.always(function() {
                        f.overflow = n.overflow[0],
                        f.overflowX = n.overflow[1],
                        f.overflowY = n.overflow[2]
                    })),
                    l = !1,
                    p)
                        l || (g ? "hidden"in g && (m = g.hidden) : g = b.access(e, "fxshow", {
                            display: u
                        }),
                        a && (g.hidden = !m),
                        m && _([e], !0),
                        d.done(function() {
                            for (i in m || _([e]),
                            b.remove(e, "fxshow"),
                            p)
                                v.style(e, i, p[i])
                        })),
                        l = x(m ? g[i] : 0, i, d),
                        i in g || (g[i] = l.start,
                        m && (l.end = l.start,
                        l.start = 0))
            }
            ],
            prefilter: function(e, t) {
                t ? m.prefilters.unshift(e) : m.prefilters.push(e)
            }
        }),
        v.speed = function(e, t, n) {
            var i = e && "object" == typeof e ? v.extend({}, e) : {
                complete: n || !n && t || d(e) && e,
                duration: e,
                easing: n && t || t && !d(t) && t
            };
            return v.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in v.fx.speeds ? i.duration = v.fx.speeds[i.duration] : i.duration = v.fx.speeds._default),
            null != i.queue && !0 !== i.queue || (i.queue = "fx"),
            i.old = i.complete,
            i.complete = function() {
                d(i.old) && i.old.call(this),
                i.queue && v.dequeue(this, i.queue)
            }
            ,
            i
        }
        ,
        v.fn.extend({
            fadeTo: function(e, t, n, i) {
                return this.filter(y).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, i)
            },
            animate: function(t, e, n, i) {
                function r() {
                    var e = m(this, v.extend({}, t), o);
                    (a || b.get(this, "finish")) && e.stop(!0)
                }
                var a = v.isEmptyObject(t)
                  , o = v.speed(e, n, i);
                return r.finish = r,
                a || !1 === o.queue ? this.each(r) : this.queue(o.queue, r)
            },
            stop: function(r, e, a) {
                function o(e) {
                    var t = e.stop;
                    delete e.stop,
                    t(a)
                }
                return "string" != typeof r && (a = e,
                e = r,
                r = void 0),
                e && this.queue(r || "fx", []),
                this.each(function() {
                    var e = !0
                      , t = null != r && r + "queueHooks"
                      , n = v.timers
                      , i = b.get(this);
                    if (t)
                        i[t] && i[t].stop && o(i[t]);
                    else
                        for (t in i)
                            i[t] && i[t].stop && s.test(t) && o(i[t]);
                    for (t = n.length; t--; )
                        n[t].elem !== this || null != r && n[t].queue !== r || (n[t].anim.stop(a),
                        e = !1,
                        n.splice(t, 1));
                    !e && a || v.dequeue(this, r)
                })
            },
            finish: function(o) {
                return !1 !== o && (o = o || "fx"),
                this.each(function() {
                    var e, t = b.get(this), n = t[o + "queue"], i = t[o + "queueHooks"], r = v.timers, a = n ? n.length : 0;
                    for (t.finish = !0,
                    v.queue(this, o, []),
                    i && i.stop && i.stop.call(this, !0),
                    e = r.length; e--; )
                        r[e].elem === this && r[e].queue === o && (r[e].anim.stop(!0),
                        r.splice(e, 1));
                    for (e = 0; e < a; e++)
                        n[e] && n[e].finish && n[e].finish.call(this);
                    delete t.finish
                })
            }
        }),
        v.each(["toggle", "show", "hide"], function(e, i) {
            var r = v.fn[i];
            v.fn[i] = function(e, t, n) {
                return null == e || "boolean" == typeof e ? r.apply(this, arguments) : this.animate(l(i, !0), e, t, n)
            }
        }),
        v.each({
            slideDown: l("show"),
            slideUp: l("hide"),
            slideToggle: l("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, i) {
            v.fn[e] = function(e, t, n) {
                return this.animate(i, e, t, n)
            }
        }),
        v.timers = [],
        v.fx.tick = function() {
            var e, t = 0, n = v.timers;
            for (p = Date.now(); t < n.length; t++)
                (e = n[t])() || n[t] !== e || n.splice(t--, 1);
            n.length || v.fx.stop(),
            p = void 0
        }
        ,
        v.fx.timer = function(e) {
            v.timers.push(e),
            v.fx.start()
        }
        ,
        v.fx.interval = 13,
        v.fx.start = function() {
            t || (t = !0,
            n())
        }
        ,
        v.fx.stop = function() {
            t = null
        }
        ,
        v.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        },
        v
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(207)],
    void 0 === (r = function(e) {
        "use strict";
        return new RegExp("^(?:([+-])=|)(" + e + ")([a-z%]*)$","i")
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return ["Top", "Right", "Bottom", "Left"]
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /^(?:checkbox|radio)$/i
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(207)],
    void 0 === (r = function(e) {
        "use strict";
        return new RegExp("^(" + e + ")(?!px)[a-z%]+$","i")
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(101), n(53)],
    void 0 === (r = function(e, r, a, t) {
        "use strict";
        function n() {
            if (p) {
                d.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",
                p.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",
                a.appendChild(d).appendChild(p);
                var e = window.getComputedStyle(p);
                o = "1%" !== e.top,
                h = 12 === i(e.marginLeft),
                p.style.right = "60%",
                u = 36 === i(e.right),
                s = 36 === i(e.width),
                p.style.position = "absolute",
                l = 12 === i(p.offsetWidth / 3),
                a.removeChild(d),
                p = null
            }
        }
        function i(e) {
            return Math.round(parseFloat(e))
        }
        var o, s, l, u, c, h, d, p;
        return d = r.createElement("div"),
        (p = r.createElement("div")).style && (p.style.backgroundClip = "content-box",
        p.cloneNode(!0).style.backgroundClip = "",
        t.clearCloneStyle = "content-box" === p.style.backgroundClip,
        e.extend(t, {
            boxSizingReliable: function() {
                return n(),
                s
            },
            pixelBoxStyles: function() {
                return n(),
                u
            },
            pixelPosition: function() {
                return n(),
                o
            },
            reliableMarginLeft: function() {
                return n(),
                h
            },
            scrollboxSize: function() {
                return n(),
                l
            },
            reliableTrDimensions: function() {
                var e, t, n, i;
                return null == c && (e = r.createElement("table"),
                t = r.createElement("tr"),
                n = r.createElement("div"),
                e.style.cssText = "position:absolute;left:-11111px;border-collapse:separate",
                t.style.cssText = "border:1px solid",
                t.style.height = "1px",
                n.style.height = "9px",
                n.style.display = "block",
                a.appendChild(e).appendChild(t).appendChild(n),
                i = window.getComputedStyle(t),
                c = parseInt(i.height, 10) + parseInt(i.borderTopWidth, 10) + parseInt(i.borderBottomWidth, 10) === t.offsetHeight,
                a.removeChild(e)),
                c
            }
        })),
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(16), n(53)],
    void 0 === (r = function(e, t) {
        "use strict";
        var n, i;
        return n = e.createElement("input"),
        i = e.createElement("select").appendChild(e.createElement("option")),
        n.type = "checkbox",
        t.checkOn = "" !== n.value,
        t.optSelected = i.selected,
        (n = e.createElement("input")).value = "t",
        n.type = "radio",
        t.radioValue = "t" === n.value,
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(40)],
    void 0 === (r = function(t) {
        "use strict";
        return function(e) {
            return (e.match(t) || []).join(" ")
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(33), n(99), n(140), n(14), n(79), n(67)],
    void 0 === (r = function(m, g, v, y, b, _, w) {
        "use strict";
        function x(e) {
            e.stopPropagation()
        }
        var T = /^(?:focusinfocus|focusoutblur)$/;
        return m.extend(m.event, {
            trigger: function(e, t, n, i) {
                var r, a, o, s, l, u, c, h, d = [n || g], p = b.call(e, "type") ? e.type : e, f = b.call(e, "namespace") ? e.namespace.split(".") : [];
                if (a = h = o = n = n || g,
                3 !== n.nodeType && 8 !== n.nodeType && !T.test(p + m.event.triggered) && (-1 < p.indexOf(".") && (p = (f = p.split(".")).shift(),
                f.sort()),
                l = p.indexOf(":") < 0 && "on" + p,
                (e = e[m.expando] ? e : new m.Event(p,"object" == typeof e && e)).isTrigger = i ? 2 : 3,
                e.namespace = f.join("."),
                e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                e.result = void 0,
                e.target || (e.target = n),
                t = null == t ? [e] : m.makeArray(t, [e]),
                c = m.event.special[p] || {},
                i || !c.trigger || !1 !== c.trigger.apply(n, t))) {
                    if (!i && !c.noBubble && !w(n)) {
                        for (s = c.delegateType || p,
                        T.test(s + p) || (a = a.parentNode); a; a = a.parentNode)
                            d.push(a),
                            o = a;
                        o === (n.ownerDocument || g) && d.push(o.defaultView || o.parentWindow || window)
                    }
                    for (r = 0; (a = d[r++]) && !e.isPropagationStopped(); )
                        h = a,
                        e.type = 1 < r ? s : c.bindType || p,
                        (u = (v.get(a, "events") || Object.create(null))[e.type] && v.get(a, "handle")) && u.apply(a, t),
                        (u = l && a[l]) && u.apply && y(a) && (e.result = u.apply(a, t),
                        !1 === e.result && e.preventDefault());
                    return e.type = p,
                    i || e.isDefaultPrevented() || c._default && !1 !== c._default.apply(d.pop(), t) || !y(n) || l && _(n[p]) && !w(n) && ((o = n[l]) && (n[l] = null),
                    m.event.triggered = p,
                    e.isPropagationStopped() && h.addEventListener(p, x),
                    n[p](),
                    e.isPropagationStopped() && h.removeEventListener(p, x),
                    m.event.triggered = void 0,
                    o && (n[l] = o)),
                    e.result
                }
            },
            simulate: function(e, t, n) {
                var i = m.extend(new m.Event, n, {
                    type: e,
                    isSimulated: !0
                });
                m.event.trigger(i, null, t)
            }
        }),
        m.fn.extend({
            trigger: function(e, t) {
                return this.each(function() {
                    m.event.trigger(e, t, this)
                })
            },
            triggerHandler: function(e, t) {
                var n = this[0];
                if (n)
                    return m.event.trigger(e, t, n, !0)
            }
        }),
        m
    }
    .apply(t, i)) || (e.exports = r)
}
, function(n, e) {
    function i(e, t) {
        return n.exports = i = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        ,
        n.exports.default = n.exports,
        n.exports.__esModule = !0,
        i(e, t)
    }
    n.exports = i,
    n.exports.default = n.exports,
    n.exports.__esModule = !0
}
, function(e, t) {
    e.exports = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    ,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t) {
    e.exports = ["ar", "be", "bg", "ca", "da", "de", "el", "en", "en_short", "es", "eu", "fa", "fi", "fr", "he", "hu", "in_BG", "in_HI", "in_ID", "it", "ja", "ko", "ml", "my", "nb_NO", "nl", "nn_NO", "pl", "pt_BR", "ro", "ru", "sv", "ta", "th", "tr", "uk", "vi", "zh_CN", "zh_TW"]
}
, function(e, t, n) {
    "use strict";
    /**
 * @license
 * Video.js 7.15.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */
    var i = n(230)
      , r = n(231)
      , a = n(82)
      , o = n(156)
      , s = n(84)
      , l = n(565)
      , u = n(566)
      , c = n(567)
      , h = n(570)
      , d = n(574)
      , p = n(576)
      , f = n(577)
      , m = n(597)
      , g = n(582)
      , v = n(583)
      , y = n(598)
      , b = n(587)
      , _ = n(234)
      , w = n(588)
      , x = n(56)
      , T = n(593);
    function S(e) {
        return e && "object" == typeof e && "default"in e ? e : {
            default: e
        }
    }
    for (var E, C = S(i), M = S(r), k = S(a), P = S(o), A = S(s), I = S(l), L = S(u), O = S(c), R = S(h), D = S(d), N = S(p), F = S(f), B = S(b), U = {}, j = function(e, t) {
        return U[e] = U[e] || [],
        t && (U[e] = U[e].concat(t)),
        U[e]
    }, z = function(e, t) {
        var n = j(e).indexOf(t);
        return !(n <= -1) && (U[e] = U[e].slice(),
        U[e].splice(n, 1),
        !0)
    }, H = {
        prefixed: !0
    }, V = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror", "fullscreen"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"]], G = V[0], W = 0; W < V.length; W++)
        if (V[W][1]in M.default) {
            E = V[W];
            break
        }
    if (E) {
        for (var q = 0; q < E.length; q++)
            H[G[q]] = E[q];
        H.prefixed = E[0] !== G[0]
    }
    var $ = []
      , X = function(s, l) {
        return function(e, t, n) {
            var i = l.levels[t]
              , r = new RegExp("^(" + i + ")$");
            if ("log" !== e && n.unshift(e.toUpperCase() + ":"),
            n.unshift(s + ":"),
            $) {
                $.push([].concat(n));
                var a = $.length - 1e3;
                $.splice(0, 0 < a ? a : 0)
            }
            if (C.default.console) {
                var o = C.default.console[e];
                o || "debug" !== e || (o = C.default.console.info || C.default.console.log),
                o && i && r.test(e) && o[Array.isArray(n) ? "apply" : "call"](C.default.console, n)
            }
        }
    };
    var Y = function t(n) {
        function i() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            r("log", a, t)
        }
        var r, a = "info";
        return r = X(n, i),
        i.createLogger = function(e) {
            return t(n + ": " + e)
        }
        ,
        i.levels = {
            all: "debug|log|warn|error",
            off: "",
            debug: "debug|log|warn|error",
            info: "log|warn|error",
            warn: "warn|error",
            error: "error",
            DEFAULT: a
        },
        i.level = function(e) {
            if ("string" == typeof e) {
                if (!i.levels.hasOwnProperty(e))
                    throw new Error('"' + e + '" in not a valid log level');
                a = e
            }
            return a
        }
        ,
        (i.history = function() {
            return $ ? [].concat($) : []
        }
        ).filter = function(t) {
            return ($ || []).filter(function(e) {
                return new RegExp(".*" + t + ".*").test(e[0])
            })
        }
        ,
        i.history.clear = function() {
            $ && ($.length = 0)
        }
        ,
        i.history.disable = function() {
            null !== $ && ($.length = 0,
            $ = null)
        }
        ,
        i.history.enable = function() {
            null === $ && ($ = [])
        }
        ,
        i.error = function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return r("error", a, t)
        }
        ,
        i.warn = function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return r("warn", a, t)
        }
        ,
        i.debug = function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return r("debug", a, t)
        }
        ,
        i
    }("VIDEOJS")
      , K = Y.createLogger
      , Z = Object.prototype.toString
      , Q = function(e) {
        return te(e) ? Object.keys(e) : []
    };
    function J(t, n) {
        Q(t).forEach(function(e) {
            return n(t[e], e)
        })
    }
    function ee(n) {
        for (var e = arguments.length, t = new Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)
            t[i - 1] = arguments[i];
        return Object.assign ? k.default.apply(void 0, [n].concat(t)) : (t.forEach(function(e) {
            e && J(e, function(e, t) {
                n[t] = e
            })
        }),
        n)
    }
    function te(e) {
        return !!e && "object" == typeof e
    }
    function ne(e) {
        return te(e) && "[object Object]" === Z.call(e) && e.constructor === Object
    }
    function ie(e, t) {
        if (!e || !t)
            return "";
        if ("function" != typeof C.default.getComputedStyle)
            return "";
        var n;
        try {
            n = C.default.getComputedStyle(e)
        } catch (e) {
            return ""
        }
        return n ? n.getPropertyValue(t) || n[t] : ""
    }
    var re, ae, oe, se, le = C.default.navigator && C.default.navigator.userAgent || "", ue = /AppleWebKit\/([\d.]+)/i.exec(le), ce = ue ? parseFloat(ue.pop()) : null, he = /iPod/i.test(le), de = (re = le.match(/OS (\d+)_/i)) && re[1] ? re[1] : null, pe = /Android/i.test(le), fe = function() {
        var e = le.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
        if (!e)
            return null;
        var t = e[1] && parseFloat(e[1])
          , n = e[2] && parseFloat(e[2]);
        return t && n ? parseFloat(e[1] + "." + e[2]) : t || null
    }(), me = pe && fe < 5 && ce < 537, ge = /Firefox/i.test(le), ve = /Edg/i.test(le), ye = !ve && (/Chrome/i.test(le) || /CriOS/i.test(le)), be = (ae = le.match(/(Chrome|CriOS)\/(\d+)/)) && ae[2] ? parseFloat(ae[2]) : null, _e = (oe = /MSIE\s(\d+)\.\d/.exec(le),
    !(se = oe && parseFloat(oe[1])) && /Trident\/7.0/i.test(le) && /rv:11.0/.test(le) && (se = 11),
    se), we = /Safari/i.test(le) && !ye && !pe && !ve, xe = /Windows/i.test(le), Te = Boolean(Ie() && ("ontouchstart"in C.default || C.default.navigator.maxTouchPoints || C.default.DocumentTouch && C.default.document instanceof C.default.DocumentTouch)), Se = /iPad/i.test(le) || we && Te && !/iPhone/i.test(le), Ee = /iPhone/i.test(le) && !Se, Ce = Ee || Se || he, Me = (we || Ce) && !ye, ke = Object.freeze({
        __proto__: null,
        IS_IPOD: he,
        IOS_VERSION: de,
        IS_ANDROID: pe,
        ANDROID_VERSION: fe,
        IS_NATIVE_ANDROID: me,
        IS_FIREFOX: ge,
        IS_EDGE: ve,
        IS_CHROME: ye,
        CHROME_VERSION: be,
        IE_VERSION: _e,
        IS_SAFARI: we,
        IS_WINDOWS: xe,
        TOUCH_ENABLED: Te,
        IS_IPAD: Se,
        IS_IPHONE: Ee,
        IS_IOS: Ce,
        IS_ANY_SAFARI: Me
    });
    function Pe(e) {
        return "string" == typeof e && Boolean(e.trim())
    }
    function Ae(e) {
        if (0 <= e.indexOf(" "))
            throw new Error("class has illegal whitespace characters")
    }
    function Ie() {
        return M.default === C.default.document
    }
    function Le(e) {
        return te(e) && 1 === e.nodeType
    }
    function Oe() {
        try {
            return C.default.parent !== C.default.self
        } catch (e) {
            return !0
        }
    }
    function Re(i) {
        return function(e, t) {
            if (!Pe(e))
                return M.default[i](null);
            Pe(t) && (t = M.default.querySelector(t));
            var n = Le(t) ? t : M.default;
            return n[i] && n[i](e)
        }
    }
    function De(e, n, t, i) {
        void 0 === e && (e = "div"),
        void 0 === n && (n = {}),
        void 0 === t && (t = {});
        var r = M.default.createElement(e);
        return Object.getOwnPropertyNames(n).forEach(function(e) {
            var t = n[e];
            -1 !== e.indexOf("aria-") || "role" === e || "type" === e ? (Y.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set " + e + " to " + t + "."),
            r.setAttribute(e, t)) : "textContent" === e ? Ne(r, t) : r[e] === t && "tabIndex" !== e || (r[e] = t)
        }),
        Object.getOwnPropertyNames(t).forEach(function(e) {
            r.setAttribute(e, t[e])
        }),
        i && tt(r, i),
        r
    }
    function Ne(e, t) {
        return void 0 === e.textContent ? e.innerText = t : e.textContent = t,
        e
    }
    function Fe(e, t) {
        t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
    }
    function Be(e, t) {
        return Ae(t),
        e.classList ? e.classList.contains(t) : function(e) {
            return new RegExp("(^|\\s)" + e + "($|\\s)")
        }(t).test(e.className)
    }
    function Ue(e, t) {
        return e.classList ? e.classList.add(t) : Be(e, t) || (e.className = (e.className + " " + t).trim()),
        e
    }
    function je(e, t) {
        return e ? (e.classList ? e.classList.remove(t) : (Ae(t),
        e.className = e.className.split(/\s+/).filter(function(e) {
            return e !== t
        }).join(" ")),
        e) : (Y.warn("removeClass was called with an element that doesn't exist"),
        null)
    }
    function ze(e, t, n) {
        var i = Be(e, t);
        if ("function" == typeof n && (n = n(e, t)),
        "boolean" != typeof n && (n = !i),
        n !== i)
            return n ? Ue(e, t) : je(e, t),
            e
    }
    function He(n, i) {
        Object.getOwnPropertyNames(i).forEach(function(e) {
            var t = i[e];
            null == t || !1 === t ? n.removeAttribute(e) : n.setAttribute(e, !0 === t ? "" : t)
        })
    }
    function Ve(e) {
        var t = {}
          , n = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";
        if (e && e.attributes && 0 < e.attributes.length)
            for (var i = e.attributes, r = i.length - 1; 0 <= r; r--) {
                var a = i[r].name
                  , o = i[r].value;
                "boolean" != typeof e[a] && -1 === n.indexOf("," + a + ",") || (o = null !== o),
                t[a] = o
            }
        return t
    }
    function Ge(e, t) {
        return e.getAttribute(t)
    }
    function We(e, t, n) {
        e.setAttribute(t, n)
    }
    function qe(e, t) {
        e.removeAttribute(t)
    }
    function $e() {
        M.default.body.focus(),
        M.default.onselectstart = function() {
            return !1
        }
    }
    function Xe() {
        M.default.onselectstart = function() {
            return !0
        }
    }
    function Ye(e) {
        if (e && e.getBoundingClientRect && e.parentNode) {
            var t = e.getBoundingClientRect()
              , n = {};
            return ["bottom", "height", "left", "right", "top", "width"].forEach(function(e) {
                void 0 !== t[e] && (n[e] = t[e])
            }),
            n.height || (n.height = parseFloat(ie(e, "height"))),
            n.width || (n.width = parseFloat(ie(e, "width"))),
            n
        }
    }
    function Ke(e) {
        if (!e || e && !e.offsetParent)
            return {
                left: 0,
                top: 0,
                width: 0,
                height: 0
            };
        for (var t = e.offsetWidth, n = e.offsetHeight, i = 0, r = 0; e.offsetParent && e !== M.default[H.fullscreenElement]; )
            i += e.offsetLeft,
            r += e.offsetTop,
            e = e.offsetParent;
        return {
            left: i,
            top: r,
            width: t,
            height: n
        }
    }
    function Ze(e, t) {
        var n = {
            x: 0,
            y: 0
        };
        if (Ce)
            for (var i = e; i && "html" !== i.nodeName.toLowerCase(); ) {
                var r = ie(i, "transform");
                if (/^matrix/.test(r)) {
                    var a = r.slice(7, -1).split(/,\s/).map(Number);
                    n.x += a[4],
                    n.y += a[5]
                } else if (/^matrix3d/.test(r)) {
                    var o = r.slice(9, -1).split(/,\s/).map(Number);
                    n.x += o[12],
                    n.y += o[13]
                }
                i = i.parentNode
            }
        var s = {}
          , l = Ke(t.target)
          , u = Ke(e)
          , c = u.width
          , h = u.height
          , d = t.offsetY - (u.top - l.top)
          , p = t.offsetX - (u.left - l.left);
        return t.changedTouches && (p = t.changedTouches[0].pageX - u.left,
        d = t.changedTouches[0].pageY + u.top,
        Ce && (p -= n.x,
        d -= n.y)),
        s.y = 1 - Math.max(0, Math.min(1, d / h)),
        s.x = Math.max(0, Math.min(1, p / c)),
        s
    }
    function Qe(e) {
        return te(e) && 3 === e.nodeType
    }
    function Je(e) {
        for (; e.firstChild; )
            e.removeChild(e.firstChild);
        return e
    }
    function et(e) {
        return "function" == typeof e && (e = e()),
        (Array.isArray(e) ? e : [e]).map(function(e) {
            return "function" == typeof e && (e = e()),
            Le(e) || Qe(e) ? e : "string" == typeof e && /\S/.test(e) ? M.default.createTextNode(e) : void 0
        }).filter(function(e) {
            return e
        })
    }
    function tt(t, e) {
        return et(e).forEach(function(e) {
            return t.appendChild(e)
        }),
        t
    }
    function nt(e, t) {
        return tt(Je(e), t)
    }
    function it(e) {
        return void 0 === e.button && void 0 === e.buttons || (0 === e.button && void 0 === e.buttons || ("mouseup" === e.type && 0 === e.button && 0 === e.buttons || 0 === e.button && 1 === e.buttons))
    }
    var rt, at = Re("querySelector"), ot = Re("querySelectorAll"), st = Object.freeze({
        __proto__: null,
        isReal: Ie,
        isEl: Le,
        isInFrame: Oe,
        createEl: De,
        textContent: Ne,
        prependTo: Fe,
        hasClass: Be,
        addClass: Ue,
        removeClass: je,
        toggleClass: ze,
        setAttributes: He,
        getAttributes: Ve,
        getAttribute: Ge,
        setAttribute: We,
        removeAttribute: qe,
        blockTextSelection: $e,
        unblockTextSelection: Xe,
        getBoundingClientRect: Ye,
        findPosition: Ke,
        getPointerPosition: Ze,
        isTextNode: Qe,
        emptyEl: Je,
        normalizeContent: et,
        appendContent: tt,
        insertContent: nt,
        isSingleLeftClick: it,
        $: at,
        $$: ot
    }), lt = !1, ut = function() {
        if (!1 !== rt.options.autoSetup) {
            var e = Array.prototype.slice.call(M.default.getElementsByTagName("video"))
              , t = Array.prototype.slice.call(M.default.getElementsByTagName("audio"))
              , n = Array.prototype.slice.call(M.default.getElementsByTagName("video-js"))
              , i = e.concat(t, n);
            if (i && 0 < i.length)
                for (var r = 0, a = i.length; r < a; r++) {
                    var o = i[r];
                    if (!o || !o.getAttribute) {
                        ct(1);
                        break
                    }
                    void 0 === o.player && null !== o.getAttribute("data-setup") && rt(o)
                }
            else
                lt || ct(1)
        }
    };
    function ct(e, t) {
        Ie() && (t && (rt = t),
        C.default.setTimeout(ut, e))
    }
    function ht() {
        lt = !0,
        C.default.removeEventListener("load", ht)
    }
    Ie() && ("complete" === M.default.readyState ? ht() : C.default.addEventListener("load", ht));
    function dt(e) {
        var t = M.default.createElement("style");
        return t.className = e,
        t
    }
    function pt(e, t) {
        e.styleSheet ? e.styleSheet.cssText = t : e.textContent = t
    }
    var ft, mt = 3;
    function gt() {
        return mt++
    }
    C.default.WeakMap || (ft = function() {
        function e() {
            this.vdata = "vdata" + Math.floor(C.default.performance && C.default.performance.now() || Date.now()),
            this.data = {}
        }
        var t = e.prototype;
        return t.set = function(e, t) {
            var n = e[this.vdata] || gt();
            return e[this.vdata] || (e[this.vdata] = n),
            this.data[n] = t,
            this
        }
        ,
        t.get = function(e) {
            var t = e[this.vdata];
            if (t)
                return this.data[t];
            Y("We have no data for this element", e)
        }
        ,
        t.has = function(e) {
            return e[this.vdata]in this.data
        }
        ,
        t.delete = function(e) {
            var t = e[this.vdata];
            t && (delete this.data[t],
            delete e[this.vdata])
        }
        ,
        e
    }());
    var vt, yt = C.default.WeakMap ? new WeakMap : new ft;
    function bt(e, t) {
        if (yt.has(e)) {
            var n = yt.get(e);
            0 === n.handlers[t].length && (delete n.handlers[t],
            e.removeEventListener ? e.removeEventListener(t, n.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, n.dispatcher)),
            Object.getOwnPropertyNames(n.handlers).length <= 0 && (delete n.handlers,
            delete n.dispatcher,
            delete n.disabled),
            0 === Object.getOwnPropertyNames(n).length && yt.delete(e)
        }
    }
    function _t(t, n, e, i) {
        e.forEach(function(e) {
            t(n, e, i)
        })
    }
    function wt(e) {
        if (e.fixed_)
            return e;
        function t() {
            return !0
        }
        function n() {
            return !1
        }
        if (!e || !e.isPropagationStopped || !e.isImmediatePropagationStopped) {
            var i = e || C.default.event;
            for (var r in e = {},
            i)
                "layerX" !== r && "layerY" !== r && "keyLocation" !== r && "webkitMovementX" !== r && "webkitMovementY" !== r && ("returnValue" === r && i.preventDefault || (e[r] = i[r]));
            if (e.target || (e.target = e.srcElement || M.default),
            e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement),
            e.preventDefault = function() {
                i.preventDefault && i.preventDefault(),
                e.returnValue = !1,
                i.returnValue = !1,
                e.defaultPrevented = !0
            }
            ,
            e.defaultPrevented = !1,
            e.stopPropagation = function() {
                i.stopPropagation && i.stopPropagation(),
                e.cancelBubble = !0,
                i.cancelBubble = !0,
                e.isPropagationStopped = t
            }
            ,
            e.isPropagationStopped = n,
            e.stopImmediatePropagation = function() {
                i.stopImmediatePropagation && i.stopImmediatePropagation(),
                e.isImmediatePropagationStopped = t,
                e.stopPropagation()
            }
            ,
            e.isImmediatePropagationStopped = n,
            null !== e.clientX && void 0 !== e.clientX) {
                var a = M.default.documentElement
                  , o = M.default.body;
                e.pageX = e.clientX + (a && a.scrollLeft || o && o.scrollLeft || 0) - (a && a.clientLeft || o && o.clientLeft || 0),
                e.pageY = e.clientY + (a && a.scrollTop || o && o.scrollTop || 0) - (a && a.clientTop || o && o.clientTop || 0)
            }
            e.which = e.charCode || e.keyCode,
            null !== e.button && void 0 !== e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0)
        }
        return e.fixed_ = !0,
        e
    }
    var xt = function() {
        if ("boolean" != typeof vt) {
            vt = !1;
            try {
                var e = Object.defineProperty({}, "passive", {
                    get: function() {
                        vt = !0
                    }
                });
                C.default.addEventListener("test", null, e),
                C.default.removeEventListener("test", null, e)
            } catch (e) {}
        }
        return vt
    }
      , Tt = ["touchstart", "touchmove"];
    function St(o, e, t) {
        if (Array.isArray(e))
            return _t(St, o, e, t);
        yt.has(o) || yt.set(o, {});
        var s = yt.get(o);
        if (s.handlers || (s.handlers = {}),
        s.handlers[e] || (s.handlers[e] = []),
        t.guid || (t.guid = gt()),
        s.handlers[e].push(t),
        s.dispatcher || (s.disabled = !1,
        s.dispatcher = function(e, t) {
            if (!s.disabled) {
                e = wt(e);
                var n = s.handlers[e.type];
                if (n)
                    for (var i = n.slice(0), r = 0, a = i.length; r < a && !e.isImmediatePropagationStopped(); r++)
                        try {
                            i[r].call(o, e, t)
                        } catch (e) {
                            Y.error(e)
                        }
            }
        }
        ),
        1 === s.handlers[e].length)
            if (o.addEventListener) {
                var n = !1;
                xt() && -1 < Tt.indexOf(e) && (n = {
                    passive: !0
                }),
                o.addEventListener(e, s.dispatcher, n)
            } else
                o.attachEvent && o.attachEvent("on" + e, s.dispatcher)
    }
    function Et(e, t, n) {
        if (yt.has(e)) {
            var i = yt.get(e);
            if (i.handlers) {
                if (Array.isArray(t))
                    return _t(Et, e, t, n);
                var r = function(e, t) {
                    i.handlers[t] = [],
                    bt(e, t)
                };
                if (void 0 !== t) {
                    var a = i.handlers[t];
                    if (a)
                        if (n) {
                            if (n.guid)
                                for (var o = 0; o < a.length; o++)
                                    a[o].guid === n.guid && a.splice(o--, 1);
                            bt(e, t)
                        } else
                            r(e, t)
                } else
                    for (var s in i.handlers)
                        Object.prototype.hasOwnProperty.call(i.handlers || {}, s) && r(e, s)
            }
        }
    }
    function Ct(e, t, n) {
        var i = yt.has(e) ? yt.get(e) : {}
          , r = e.parentNode || e.ownerDocument;
        if ("string" == typeof t ? t = {
            type: t,
            target: e
        } : t.target || (t.target = e),
        t = wt(t),
        i.dispatcher && i.dispatcher.call(e, t, n),
        r && !t.isPropagationStopped() && !0 === t.bubbles)
            Ct.call(null, r, t, n);
        else if (!r && !t.defaultPrevented && t.target && t.target[t.type]) {
            yt.has(t.target) || yt.set(t.target, {});
            var a = yt.get(t.target);
            t.target[t.type] && (a.disabled = !0,
            "function" == typeof t.target[t.type] && t.target[t.type](),
            a.disabled = !1)
        }
        return !t.defaultPrevented
    }
    function Mt(e, t, n) {
        if (Array.isArray(t))
            return _t(Mt, e, t, n);
        function i() {
            Et(e, t, i),
            n.apply(this, arguments)
        }
        i.guid = n.guid = n.guid || gt(),
        St(e, t, i)
    }
    function kt(e, t, n) {
        function i() {
            Et(e, t, i),
            n.apply(this, arguments)
        }
        i.guid = n.guid = n.guid || gt(),
        St(e, t, i)
    }
    function Pt(e, t, n) {
        t.guid || (t.guid = gt());
        var i = t.bind(e);
        return i.guid = n ? n + "_" + t.guid : t.guid,
        i
    }
    function At(t, n) {
        var i = C.default.performance.now();
        return function() {
            var e = C.default.performance.now();
            n <= e - i && (t.apply(void 0, arguments),
            i = e)
        }
    }
    function It() {}
    var Lt, Ot = Object.freeze({
        __proto__: null,
        fixEvent: wt,
        on: St,
        off: Et,
        trigger: Ct,
        one: Mt,
        any: kt
    });
    It.prototype.allowedEvents_ = {},
    It.prototype.addEventListener = It.prototype.on = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}
        ,
        St(this, e, t),
        this.addEventListener = n
    }
    ,
    It.prototype.removeEventListener = It.prototype.off = function(e, t) {
        Et(this, e, t)
    }
    ,
    It.prototype.one = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}
        ,
        Mt(this, e, t),
        this.addEventListener = n
    }
    ,
    It.prototype.any = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}
        ,
        kt(this, e, t),
        this.addEventListener = n
    }
    ,
    It.prototype.dispatchEvent = It.prototype.trigger = function(e) {
        var t = e.type || e;
        "string" == typeof e && (e = {
            type: t
        }),
        e = wt(e),
        this.allowedEvents_[t] && this["on" + t] && this["on" + t](e),
        Ct(this, e)
    }
    ,
    It.prototype.queueTrigger = function(e) {
        var t = this;
        Lt = Lt || new Map;
        var n = e.type || e
          , i = Lt.get(this);
        i || (i = new Map,
        Lt.set(this, i));
        var r = i.get(n);
        i.delete(n),
        C.default.clearTimeout(r);
        var a = C.default.setTimeout(function() {
            0 === i.size && (i = null,
            Lt.delete(t)),
            t.trigger(e)
        }, 0);
        i.set(n, a)
    }
    ;
    function Rt(e) {
        return "function" == typeof e.name ? e.name() : "string" == typeof e.name ? e.name : e.name_ ? e.name_ : e.constructor && e.constructor.name ? e.constructor.name : typeof e
    }
    function Dt(e) {
        return "string" == typeof e && /\S/.test(e) || Array.isArray(e) && !!e.length
    }
    function Nt(e, t, n) {
        if (!e || !e.nodeName && !zt(e))
            throw new Error("Invalid target for " + Rt(t) + "#" + n + "; must be a DOM node or evented object.")
    }
    function Ft(e, t, n) {
        if (!Dt(e))
            throw new Error("Invalid event type for " + Rt(t) + "#" + n + "; must be a non-empty string or array.")
    }
    function Bt(e, t, n) {
        if ("function" != typeof e)
            throw new Error("Invalid listener for " + Rt(t) + "#" + n + "; must be a function.")
    }
    function Ut(e, t, n) {
        var i, r, a, o = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
        return a = o ? (i = e.eventBusEl_,
        3 <= t.length && t.shift(),
        r = t[0],
        t[1]) : (i = t[0],
        r = t[1],
        t[2]),
        Nt(i, e, n),
        Ft(r, e, n),
        Bt(a, e, n),
        {
            isTargetingSelf: o,
            target: i,
            type: r,
            listener: a = Pt(e, a)
        }
    }
    function jt(e, t, n, i) {
        Nt(e, e, t),
        e.nodeName ? Ot[t](e, n, i) : e[t](n, i)
    }
    var zt = function(t) {
        return t instanceof It || !!t.eventBusEl_ && ["on", "one", "off", "trigger"].every(function(e) {
            return "function" == typeof t[e]
        })
    }
      , Ht = {
        on: function() {
            for (var e = this, t = arguments.length, n = new Array(t), i = 0; i < t; i++)
                n[i] = arguments[i];
            var r = Ut(this, n, "on")
              , a = r.isTargetingSelf
              , o = r.target
              , s = r.type
              , l = r.listener;
            if (jt(o, "on", s, l),
            !a) {
                var u = function() {
                    return e.off(o, s, l)
                };
                u.guid = l.guid;
                var c = function() {
                    return e.off("dispose", u)
                };
                c.guid = l.guid,
                jt(this, "on", "dispose", u),
                jt(o, "on", "dispose", c)
            }
        },
        one: function() {
            for (var r = this, e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            var i = Ut(this, t, "one")
              , a = i.isTargetingSelf
              , o = i.target
              , s = i.type
              , l = i.listener;
            if (a)
                jt(o, "one", s, l);
            else {
                var u = function e() {
                    r.off(o, s, e);
                    for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
                        n[i] = arguments[i];
                    l.apply(null, n)
                };
                u.guid = l.guid,
                jt(o, "one", s, u)
            }
        },
        any: function() {
            for (var r = this, e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            var i = Ut(this, t, "any")
              , a = i.isTargetingSelf
              , o = i.target
              , s = i.type
              , l = i.listener;
            if (a)
                jt(o, "any", s, l);
            else {
                var u = function e() {
                    r.off(o, s, e);
                    for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
                        n[i] = arguments[i];
                    l.apply(null, n)
                };
                u.guid = l.guid,
                jt(o, "any", s, u)
            }
        },
        off: function(e, t, n) {
            if (!e || Dt(e))
                Et(this.eventBusEl_, e, t);
            else {
                var i = e
                  , r = t;
                Nt(i, this, "off"),
                Ft(r, this, "off"),
                Bt(n, this, "off"),
                n = Pt(this, n),
                this.off("dispose", n),
                i.nodeName ? (Et(i, r, n),
                Et(i, "dispose", n)) : zt(i) && (i.off(r, n),
                i.off("dispose", n))
            }
        },
        trigger: function(e, t) {
            Nt(this.eventBusEl_, this, "trigger");
            var n = e && "string" != typeof e ? e.type : e;
            if (!Dt(n)) {
                var i = "Invalid event type for " + Rt(this) + "#trigger; must be a non-empty string or object with a type key that has a non-empty value.";
                if (!e)
                    throw new Error(i);
                (this.log || Y).error(i)
            }
            return Ct(this.eventBusEl_, e, t)
        }
    };
    function Vt(e, t) {
        void 0 === t && (t = {});
        var n = t.eventBusKey;
        if (n) {
            if (!e[n].nodeName)
                throw new Error('The eventBusKey "' + n + '" does not refer to an element.');
            e.eventBusEl_ = e[n]
        } else
            e.eventBusEl_ = De("span", {
                className: "vjs-event-bus"
            });
        return ee(e, Ht),
        e.eventedCallbacks && e.eventedCallbacks.forEach(function(e) {
            e()
        }),
        e.on("dispose", function() {
            e.off(),
            [e, e.el_, e.eventBusEl_].forEach(function(e) {
                e && yt.has(e) && yt.delete(e)
            }),
            C.default.setTimeout(function() {
                e.eventBusEl_ = null
            }, 0)
        }),
        e
    }
    var Gt = {
        state: {},
        setState: function(e) {
            var n, i = this;
            return "function" == typeof e && (e = e()),
            J(e, function(e, t) {
                i.state[t] !== e && ((n = n || {})[t] = {
                    from: i.state[t],
                    to: e
                }),
                i.state[t] = e
            }),
            n && zt(this) && this.trigger({
                changes: n,
                type: "statechanged"
            }),
            n
        }
    };
    function Wt(e, t) {
        return ee(e, Gt),
        e.state = ee({}, e.state, t),
        "function" == typeof e.handleStateChanged && zt(e) && e.on("statechanged", e.handleStateChanged),
        e
    }
    function qt(e) {
        return "string" != typeof e ? e : e.replace(/./, function(e) {
            return e.toLowerCase()
        })
    }
    function $t(e) {
        return "string" != typeof e ? e : e.replace(/./, function(e) {
            return e.toUpperCase()
        })
    }
    function Xt() {
        for (var n = {}, e = arguments.length, t = new Array(e), i = 0; i < e; i++)
            t[i] = arguments[i];
        return t.forEach(function(e) {
            e && J(e, function(e, t) {
                ne(e) ? (ne(n[t]) || (n[t] = {}),
                n[t] = Xt(n[t], e)) : n[t] = e
            })
        }),
        n
    }
    var Yt = function() {
        function e() {
            this.map_ = {}
        }
        var t = e.prototype;
        return t.has = function(e) {
            return e in this.map_
        }
        ,
        t.delete = function(e) {
            var t = this.has(e);
            return delete this.map_[e],
            t
        }
        ,
        t.set = function(e, t) {
            return this.map_[e] = t,
            this
        }
        ,
        t.forEach = function(e, t) {
            for (var n in this.map_)
                e.call(t, this.map_[n], n, this)
        }
        ,
        e
    }()
      , Kt = C.default.Map ? C.default.Map : Yt
      , Zt = function() {
        function e() {
            this.set_ = {}
        }
        var t = e.prototype;
        return t.has = function(e) {
            return e in this.set_
        }
        ,
        t.delete = function(e) {
            var t = this.has(e);
            return delete this.set_[e],
            t
        }
        ,
        t.add = function(e) {
            return this.set_[e] = 1,
            this
        }
        ,
        t.forEach = function(e, t) {
            for (var n in this.set_)
                e.call(t, n, n, this)
        }
        ,
        e
    }()
      , Qt = C.default.Set ? C.default.Set : Zt
      , Jt = function() {
        function u(e, t, n) {
            if (!e && this.play ? this.player_ = e = this : this.player_ = e,
            this.isDisposed_ = !1,
            this.parentComponent_ = null,
            this.options_ = Xt({}, this.options_),
            t = this.options_ = Xt(this.options_, t),
            this.id_ = t.id || t.el && t.el.id,
            !this.id_) {
                var i = e && e.id && e.id() || "no_player";
                this.id_ = i + "_component_" + gt()
            }
            this.name_ = t.name || null,
            t.el ? this.el_ = t.el : !1 !== t.createEl && (this.el_ = this.createEl()),
            !1 !== t.evented && (Vt(this, {
                eventBusKey: this.el_ ? "el_" : null
            }),
            this.handleLanguagechange = this.handleLanguagechange.bind(this),
            this.on(this.player_, "languagechange", this.handleLanguagechange)),
            Wt(this, this.constructor.defaultState),
            this.children_ = [],
            this.childIndex_ = {},
            this.childNameIndex_ = {},
            this.setTimeoutIds_ = new Qt,
            this.setIntervalIds_ = new Qt,
            this.rafIds_ = new Qt,
            this.namedRafs_ = new Kt,
            (this.clearingTimersOnDispose_ = !1) !== t.initChildren && this.initChildren(),
            this.ready(n),
            !1 !== t.reportTouchActivity && this.enableTouchActivity()
        }
        var e = u.prototype;
        return e.dispose = function() {
            if (!this.isDisposed_) {
                if (this.readyQueue_ && (this.readyQueue_.length = 0),
                this.trigger({
                    type: "dispose",
                    bubbles: !1
                }),
                this.isDisposed_ = !0,
                this.children_)
                    for (var e = this.children_.length - 1; 0 <= e; e--)
                        this.children_[e].dispose && this.children_[e].dispose();
                this.children_ = null,
                this.childIndex_ = null,
                this.childNameIndex_ = null,
                this.parentComponent_ = null,
                this.el_ && (this.el_.parentNode && this.el_.parentNode.removeChild(this.el_),
                this.el_ = null),
                this.player_ = null
            }
        }
        ,
        e.isDisposed = function() {
            return Boolean(this.isDisposed_)
        }
        ,
        e.player = function() {
            return this.player_
        }
        ,
        e.options = function(e) {
            return e && (this.options_ = Xt(this.options_, e)),
            this.options_
        }
        ,
        e.el = function() {
            return this.el_
        }
        ,
        e.createEl = function(e, t, n) {
            return De(e, t, n)
        }
        ,
        e.localize = function(e, r, t) {
            void 0 === t && (t = e);
            var n = this.player_.language && this.player_.language()
              , i = this.player_.languages && this.player_.languages()
              , a = i && i[n]
              , o = n && n.split("-")[0]
              , s = i && i[o]
              , l = t;
            return a && a[e] ? l = a[e] : s && s[e] && (l = s[e]),
            r && (l = l.replace(/\{(\d+)\}/g, function(e, t) {
                var n = r[t - 1]
                  , i = n;
                return void 0 === n && (i = e),
                i
            })),
            l
        }
        ,
        e.handleLanguagechange = function() {}
        ,
        e.contentEl = function() {
            return this.contentEl_ || this.el_
        }
        ,
        e.id = function() {
            return this.id_
        }
        ,
        e.name = function() {
            return this.name_
        }
        ,
        e.children = function() {
            return this.children_
        }
        ,
        e.getChildById = function(e) {
            return this.childIndex_[e]
        }
        ,
        e.getChild = function(e) {
            if (e)
                return this.childNameIndex_[e]
        }
        ,
        e.getDescendant = function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            t = t.reduce(function(e, t) {
                return e.concat(t)
            }, []);
            for (var i = this, r = 0; r < t.length; r++)
                if (!(i = i.getChild(t[r])) || !i.getChild)
                    return;
            return i
        }
        ,
        e.addChild = function(e, t, n) {
            var i, r;
            if (void 0 === t && (t = {}),
            void 0 === n && (n = this.children_.length),
            "string" == typeof e) {
                r = $t(e);
                var a = t.componentClass || r;
                t.name = r;
                var o = u.getComponent(a);
                if (!o)
                    throw new Error("Component " + a + " does not exist");
                if ("function" != typeof o)
                    return null;
                i = new o(this.player_ || this,t)
            } else
                i = e;
            if (i.parentComponent_ && i.parentComponent_.removeChild(i),
            this.children_.splice(n, 0, i),
            i.parentComponent_ = this,
            "function" == typeof i.id && (this.childIndex_[i.id()] = i),
            (r = r || i.name && $t(i.name())) && (this.childNameIndex_[r] = i,
            this.childNameIndex_[qt(r)] = i),
            "function" == typeof i.el && i.el()) {
                var s = null;
                this.children_[n + 1] && (this.children_[n + 1].el_ ? s = this.children_[n + 1].el_ : Le(this.children_[n + 1]) && (s = this.children_[n + 1])),
                this.contentEl().insertBefore(i.el(), s)
            }
            return i
        }
        ,
        e.removeChild = function(e) {
            if ("string" == typeof e && (e = this.getChild(e)),
            e && this.children_) {
                for (var t = !1, n = this.children_.length - 1; 0 <= n; n--)
                    if (this.children_[n] === e) {
                        t = !0,
                        this.children_.splice(n, 1);
                        break
                    }
                if (t) {
                    e.parentComponent_ = null,
                    this.childIndex_[e.id()] = null,
                    this.childNameIndex_[$t(e.name())] = null,
                    this.childNameIndex_[qt(e.name())] = null;
                    var i = e.el();
                    i && i.parentNode === this.contentEl() && this.contentEl().removeChild(e.el())
                }
            }
        }
        ,
        e.initChildren = function() {
            var r = this
              , i = this.options_.children;
            if (i) {
                var e, a = this.options_, n = u.getComponent("Tech");
                (e = Array.isArray(i) ? i : Object.keys(i)).concat(Object.keys(this.options_).filter(function(t) {
                    return !e.some(function(e) {
                        return "string" == typeof e ? t === e : t === e.name
                    })
                })).map(function(e) {
                    var t, n;
                    return n = "string" == typeof e ? i[t = e] || r.options_[t] || {} : (t = e.name,
                    e),
                    {
                        name: t,
                        opts: n
                    }
                }).filter(function(e) {
                    var t = u.getComponent(e.opts.componentClass || $t(e.name));
                    return t && !n.isTech(t)
                }).forEach(function(e) {
                    var t = e.name
                      , n = e.opts;
                    if (void 0 !== a[t] && (n = a[t]),
                    !1 !== n) {
                        !0 === n && (n = {}),
                        n.playerOptions = r.options_.playerOptions;
                        var i = r.addChild(t, n);
                        i && (r[t] = i)
                    }
                })
            }
        }
        ,
        e.buildCSSClass = function() {
            return ""
        }
        ,
        e.ready = function(e, t) {
            if (void 0 === t && (t = !1),
            e)
                return this.isReady_ ? void (t ? e.call(this) : this.setTimeout(e, 1)) : (this.readyQueue_ = this.readyQueue_ || [],
                void this.readyQueue_.push(e))
        }
        ,
        e.triggerReady = function() {
            this.isReady_ = !0,
            this.setTimeout(function() {
                var e = this.readyQueue_;
                this.readyQueue_ = [],
                e && 0 < e.length && e.forEach(function(e) {
                    e.call(this)
                }, this),
                this.trigger("ready")
            }, 1)
        }
        ,
        e.$ = function(e, t) {
            return at(e, t || this.contentEl())
        }
        ,
        e.$$ = function(e, t) {
            return ot(e, t || this.contentEl())
        }
        ,
        e.hasClass = function(e) {
            return Be(this.el_, e)
        }
        ,
        e.addClass = function(e) {
            Ue(this.el_, e)
        }
        ,
        e.removeClass = function(e) {
            je(this.el_, e)
        }
        ,
        e.toggleClass = function(e, t) {
            ze(this.el_, e, t)
        }
        ,
        e.show = function() {
            this.removeClass("vjs-hidden")
        }
        ,
        e.hide = function() {
            this.addClass("vjs-hidden")
        }
        ,
        e.lockShowing = function() {
            this.addClass("vjs-lock-showing")
        }
        ,
        e.unlockShowing = function() {
            this.removeClass("vjs-lock-showing")
        }
        ,
        e.getAttribute = function(e) {
            return Ge(this.el_, e)
        }
        ,
        e.setAttribute = function(e, t) {
            We(this.el_, e, t)
        }
        ,
        e.removeAttribute = function(e) {
            qe(this.el_, e)
        }
        ,
        e.width = function(e, t) {
            return this.dimension("width", e, t)
        }
        ,
        e.height = function(e, t) {
            return this.dimension("height", e, t)
        }
        ,
        e.dimensions = function(e, t) {
            this.width(e, !0),
            this.height(t)
        }
        ,
        e.dimension = function(e, t, n) {
            if (void 0 !== t)
                return null !== t && t == t || (t = 0),
                -1 !== ("" + t).indexOf("%") || -1 !== ("" + t).indexOf("px") ? this.el_.style[e] = t : this.el_.style[e] = "auto" === t ? "" : t + "px",
                void (n || this.trigger("componentresize"));
            if (!this.el_)
                return 0;
            var i = this.el_.style[e]
              , r = i.indexOf("px");
            return -1 !== r ? parseInt(i.slice(0, r), 10) : parseInt(this.el_["offset" + $t(e)], 10)
        }
        ,
        e.currentDimension = function(e) {
            var t = 0;
            if ("width" !== e && "height" !== e)
                throw new Error("currentDimension only accepts width or height value");
            if (t = ie(this.el_, e),
            0 === (t = parseFloat(t)) || isNaN(t)) {
                var n = "offset" + $t(e);
                t = this.el_[n]
            }
            return t
        }
        ,
        e.currentDimensions = function() {
            return {
                width: this.currentDimension("width"),
                height: this.currentDimension("height")
            }
        }
        ,
        e.currentWidth = function() {
            return this.currentDimension("width")
        }
        ,
        e.currentHeight = function() {
            return this.currentDimension("height")
        }
        ,
        e.focus = function() {
            this.el_.focus()
        }
        ,
        e.blur = function() {
            this.el_.blur()
        }
        ,
        e.handleKeyDown = function(e) {
            this.player_ && (e.stopPropagation(),
            this.player_.handleKeyDown(e))
        }
        ,
        e.handleKeyPress = function(e) {
            this.handleKeyDown(e)
        }
        ,
        e.emitTapEvents = function() {
            var i, t = 0, r = null;
            this.on("touchstart", function(e) {
                1 === e.touches.length && (r = {
                    pageX: e.touches[0].pageX,
                    pageY: e.touches[0].pageY
                },
                t = C.default.performance.now(),
                i = !0)
            }),
            this.on("touchmove", function(e) {
                if (1 < e.touches.length)
                    i = !1;
                else if (r) {
                    var t = e.touches[0].pageX - r.pageX
                      , n = e.touches[0].pageY - r.pageY;
                    10 < Math.sqrt(t * t + n * n) && (i = !1)
                }
            });
            function e() {
                i = !1
            }
            this.on("touchleave", e),
            this.on("touchcancel", e),
            this.on("touchend", function(e) {
                !(r = null) === i && C.default.performance.now() - t < 200 && (e.preventDefault(),
                this.trigger("tap"))
            })
        }
        ,
        e.enableTouchActivity = function() {
            if (this.player() && this.player().reportUserActivity) {
                var t, n = Pt(this.player(), this.player().reportUserActivity);
                this.on("touchstart", function() {
                    n(),
                    this.clearInterval(t),
                    t = this.setInterval(n, 250)
                });
                var e = function(e) {
                    n(),
                    this.clearInterval(t)
                };
                this.on("touchmove", n),
                this.on("touchend", e),
                this.on("touchcancel", e)
            }
        }
        ,
        e.setTimeout = function(e, t) {
            var n, i = this;
            return e = Pt(this, e),
            this.clearTimersOnDispose_(),
            n = C.default.setTimeout(function() {
                i.setTimeoutIds_.has(n) && i.setTimeoutIds_.delete(n),
                e()
            }, t),
            this.setTimeoutIds_.add(n),
            n
        }
        ,
        e.clearTimeout = function(e) {
            return this.setTimeoutIds_.has(e) && (this.setTimeoutIds_.delete(e),
            C.default.clearTimeout(e)),
            e
        }
        ,
        e.setInterval = function(e, t) {
            e = Pt(this, e),
            this.clearTimersOnDispose_();
            var n = C.default.setInterval(e, t);
            return this.setIntervalIds_.add(n),
            n
        }
        ,
        e.clearInterval = function(e) {
            return this.setIntervalIds_.has(e) && (this.setIntervalIds_.delete(e),
            C.default.clearInterval(e)),
            e
        }
        ,
        e.requestAnimationFrame = function(e) {
            var t, n = this;
            return this.supportsRaf_ ? (this.clearTimersOnDispose_(),
            e = Pt(this, e),
            t = C.default.requestAnimationFrame(function() {
                n.rafIds_.has(t) && n.rafIds_.delete(t),
                e()
            }),
            this.rafIds_.add(t),
            t) : this.setTimeout(e, 1e3 / 60)
        }
        ,
        e.requestNamedAnimationFrame = function(e, t) {
            var n = this;
            if (!this.namedRafs_.has(e)) {
                this.clearTimersOnDispose_(),
                t = Pt(this, t);
                var i = this.requestAnimationFrame(function() {
                    t(),
                    n.namedRafs_.has(e) && n.namedRafs_.delete(e)
                });
                return this.namedRafs_.set(e, i),
                e
            }
        }
        ,
        e.cancelNamedAnimationFrame = function(e) {
            this.namedRafs_.has(e) && (this.cancelAnimationFrame(this.namedRafs_.get(e)),
            this.namedRafs_.delete(e))
        }
        ,
        e.cancelAnimationFrame = function(e) {
            return this.supportsRaf_ ? (this.rafIds_.has(e) && (this.rafIds_.delete(e),
            C.default.cancelAnimationFrame(e)),
            e) : this.clearTimeout(e)
        }
        ,
        e.clearTimersOnDispose_ = function() {
            var i = this;
            this.clearingTimersOnDispose_ || (this.clearingTimersOnDispose_ = !0,
            this.one("dispose", function() {
                [["namedRafs_", "cancelNamedAnimationFrame"], ["rafIds_", "cancelAnimationFrame"], ["setTimeoutIds_", "clearTimeout"], ["setIntervalIds_", "clearInterval"]].forEach(function(e) {
                    var t = e[0]
                      , n = e[1];
                    i[t].forEach(function(e, t) {
                        return i[n](t)
                    })
                }),
                i.clearingTimersOnDispose_ = !1
            }))
        }
        ,
        u.registerComponent = function(e, t) {
            if ("string" != typeof e || !e)
                throw new Error('Illegal component name, "' + e + '"; must be a non-empty string.');
            var n, i = u.getComponent("Tech"), r = i && i.isTech(t), a = u === t || u.prototype.isPrototypeOf(t.prototype);
            if (r || !a)
                throw n = r ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass",
                new Error('Illegal component, "' + e + '"; ' + n + ".");
            e = $t(e),
            u.components_ || (u.components_ = {});
            var o = u.getComponent("Player");
            if ("Player" === e && o && o.players) {
                var s = o.players
                  , l = Object.keys(s);
                if (s && 0 < l.length && l.map(function(e) {
                    return s[e]
                }).every(Boolean))
                    throw new Error("Can not register Player component after player has been created.")
            }
            return u.components_[e] = t,
            u.components_[qt(e)] = t
        }
        ,
        u.getComponent = function(e) {
            if (e && u.components_)
                return u.components_[e]
        }
        ,
        u
    }();
    function en(e, t, n, i) {
        return function(e, t, n) {
            if ("number" != typeof t || t < 0 || n < t)
                throw new Error("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + t + ") is non-numeric or out of bounds (0-" + n + ").")
        }(e, i, n.length - 1),
        n[i][t]
    }
    function tn(e) {
        var t;
        return t = void 0 === e || 0 === e.length ? {
            length: 0,
            start: function() {
                throw new Error("This TimeRanges object is empty")
            },
            end: function() {
                throw new Error("This TimeRanges object is empty")
            }
        } : {
            length: e.length,
            start: en.bind(null, "start", 0, e),
            end: en.bind(null, "end", 1, e)
        },
        C.default.Symbol && C.default.Symbol.iterator && (t[C.default.Symbol.iterator] = function() {
            return (e || []).values()
        }
        ),
        t
    }
    function nn(e, t) {
        return Array.isArray(e) ? tn(e) : void 0 === e || void 0 === t ? tn() : tn([[e, t]])
    }
    function rn(e, t) {
        var n, i, r = 0;
        if (!t)
            return 0;
        e && e.length || (e = nn(0, 0));
        for (var a = 0; a < e.length; a++)
            n = e.start(a),
            t < (i = e.end(a)) && (i = t),
            r += i - n;
        return r / t
    }
    function an(e) {
        if (e instanceof an)
            return e;
        "number" == typeof e ? this.code = e : "string" == typeof e ? this.message = e : te(e) && ("number" == typeof e.code && (this.code = e.code),
        ee(this, e)),
        this.message || (this.message = an.defaultMessages[this.code] || "")
    }
    Jt.prototype.supportsRaf_ = "function" == typeof C.default.requestAnimationFrame && "function" == typeof C.default.cancelAnimationFrame,
    Jt.registerComponent("Component", Jt),
    an.prototype.code = 0,
    an.prototype.message = "",
    an.prototype.status = null,
    an.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"],
    an.defaultMessages = {
        1: "You aborted the media playback",
        2: "A network error caused the media download to fail part-way.",
        3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
        4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
        5: "The media is encrypted and we do not have the keys to decrypt it."
    };
    for (var on = 0; on < an.errorTypes.length; on++)
        an[an.errorTypes[on]] = on,
        an.prototype[an.errorTypes[on]] = on;
    function sn(e) {
        return null != e && "function" == typeof e.then
    }
    function ln(e) {
        sn(e) && e.then(null, function(e) {})
    }
    function un(i) {
        return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(function(e, t, n) {
            return i[t] && (e[t] = i[t]),
            e
        }, {
            cues: i.cues && Array.prototype.map.call(i.cues, function(e) {
                return {
                    startTime: e.startTime,
                    endTime: e.endTime,
                    text: e.text,
                    id: e.id
                }
            })
        })
    }
    var cn = function(e) {
        var t = e.$$("track")
          , n = Array.prototype.map.call(t, function(e) {
            return e.track
        });
        return Array.prototype.map.call(t, function(e) {
            var t = un(e.track);
            return e.src && (t.src = e.src),
            t
        }).concat(Array.prototype.filter.call(e.textTracks(), function(e) {
            return -1 === n.indexOf(e)
        }).map(un))
    }
      , hn = function(e, n) {
        return e.forEach(function(e) {
            var t = n.addRemoteTextTrack(e).track;
            !e.src && e.cues && e.cues.forEach(function(e) {
                return t.addCue(e)
            })
        }),
        n.textTracks()
    }
      , dn = "vjs-modal-dialog"
      , pn = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).handleKeyDown_ = function(e) {
                return n.handleKeyDown(e)
            }
            ,
            n.close_ = function(e) {
                return n.close(e)
            }
            ,
            n.opened_ = n.hasBeenOpened_ = n.hasBeenFilled_ = !1,
            n.closeable(!n.options_.uncloseable),
            n.content(n.options_.content),
            n.contentEl_ = De("div", {
                className: dn + "-content"
            }, {
                role: "document"
            }),
            n.descEl_ = De("p", {
                className: dn + "-description vjs-control-text",
                id: n.el().getAttribute("aria-describedby")
            }),
            Ne(n.descEl_, n.description()),
            n.el_.appendChild(n.descEl_),
            n.el_.appendChild(n.contentEl_),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: this.buildCSSClass(),
                tabIndex: -1
            }, {
                "aria-describedby": this.id() + "_description",
                "aria-hidden": "true",
                "aria-label": this.label(),
                role: "dialog"
            })
        }
        ,
        t.dispose = function() {
            this.contentEl_ = null,
            this.descEl_ = null,
            this.previouslyActiveEl_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.buildCSSClass = function() {
            return dn + " vjs-hidden " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.label = function() {
            return this.localize(this.options_.label || "Modal Window")
        }
        ,
        t.description = function() {
            var e = this.options_.description || this.localize("This is a modal window.");
            return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),
            e
        }
        ,
        t.open = function() {
            if (!this.opened_) {
                var e = this.player();
                this.trigger("beforemodalopen"),
                this.opened_ = !0,
                !this.options_.fillAlways && (this.hasBeenOpened_ || this.hasBeenFilled_) || this.fill(),
                this.wasPlaying_ = !e.paused(),
                this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(),
                this.on("keydown", this.handleKeyDown_),
                this.hadControls_ = e.controls(),
                e.controls(!1),
                this.show(),
                this.conditionalFocus_(),
                this.el().setAttribute("aria-hidden", "false"),
                this.trigger("modalopen"),
                this.hasBeenOpened_ = !0
            }
        }
        ,
        t.opened = function(e) {
            return "boolean" == typeof e && this[e ? "open" : "close"](),
            this.opened_
        }
        ,
        t.close = function() {
            if (this.opened_) {
                var e = this.player();
                this.trigger("beforemodalclose"),
                this.opened_ = !1,
                this.wasPlaying_ && this.options_.pauseOnOpen && e.play(),
                this.off("keydown", this.handleKeyDown_),
                this.hadControls_ && e.controls(!0),
                this.hide(),
                this.el().setAttribute("aria-hidden", "true"),
                this.trigger("modalclose"),
                this.conditionalBlur_(),
                this.options_.temporary && this.dispose()
            }
        }
        ,
        t.closeable = function(e) {
            if ("boolean" == typeof e) {
                var t = this.closeable_ = !!e
                  , n = this.getChild("closeButton");
                if (t && !n) {
                    var i = this.contentEl_;
                    this.contentEl_ = this.el_,
                    n = this.addChild("closeButton", {
                        controlText: "Close Modal Dialog"
                    }),
                    this.contentEl_ = i,
                    this.on(n, "close", this.close_)
                }
                !t && n && (this.off(n, "close", this.close_),
                this.removeChild(n),
                n.dispose())
            }
            return this.closeable_
        }
        ,
        t.fill = function() {
            this.fillWith(this.content())
        }
        ,
        t.fillWith = function(e) {
            var t = this.contentEl()
              , n = t.parentNode
              , i = t.nextSibling;
            this.trigger("beforemodalfill"),
            this.hasBeenFilled_ = !0,
            n.removeChild(t),
            this.empty(),
            nt(t, e),
            this.trigger("modalfill"),
            i ? n.insertBefore(t, i) : n.appendChild(t);
            var r = this.getChild("closeButton");
            r && n.appendChild(r.el_)
        }
        ,
        t.empty = function() {
            this.trigger("beforemodalempty"),
            Je(this.contentEl()),
            this.trigger("modalempty")
        }
        ,
        t.content = function(e) {
            return void 0 !== e && (this.content_ = e),
            this.content_
        }
        ,
        t.conditionalFocus_ = function() {
            var e = M.default.activeElement
              , t = this.player_.el_;
            this.previouslyActiveEl_ = null,
            !t.contains(e) && t !== e || (this.previouslyActiveEl_ = e,
            this.focus())
        }
        ,
        t.conditionalBlur_ = function() {
            this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(),
            this.previouslyActiveEl_ = null)
        }
        ,
        t.handleKeyDown = function(e) {
            if (e.stopPropagation(),
            L.default.isEventKey(e, "Escape") && this.closeable())
                return e.preventDefault(),
                void this.close();
            if (L.default.isEventKey(e, "Tab")) {
                for (var t, n = this.focusableEls_(), i = this.el_.querySelector(":focus"), r = 0; r < n.length; r++)
                    if (i === n[r]) {
                        t = r;
                        break
                    }
                M.default.activeElement === this.el_ && (t = 0),
                e.shiftKey && 0 === t ? (n[n.length - 1].focus(),
                e.preventDefault()) : e.shiftKey || t !== n.length - 1 || (n[0].focus(),
                e.preventDefault())
            }
        }
        ,
        t.focusableEls_ = function() {
            var e = this.el_.querySelectorAll("*");
            return Array.prototype.filter.call(e, function(e) {
                return (e instanceof C.default.HTMLAnchorElement || e instanceof C.default.HTMLAreaElement) && e.hasAttribute("href") || (e instanceof C.default.HTMLInputElement || e instanceof C.default.HTMLSelectElement || e instanceof C.default.HTMLTextAreaElement || e instanceof C.default.HTMLButtonElement) && !e.hasAttribute("disabled") || e instanceof C.default.HTMLIFrameElement || e instanceof C.default.HTMLObjectElement || e instanceof C.default.HTMLEmbedElement || e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex") || e.hasAttribute("contenteditable")
            })
        }
        ,
        e
    }(Jt);
    pn.prototype.options_ = {
        pauseOnOpen: !0,
        temporary: !0
    },
    Jt.registerComponent("ModalDialog", pn);
    var fn = function(i) {
        function e(e) {
            var t;
            void 0 === e && (e = []),
            (t = i.call(this) || this).tracks_ = [],
            Object.defineProperty(P.default(t), "length", {
                get: function() {
                    return this.tracks_.length
                }
            });
            for (var n = 0; n < e.length; n++)
                t.addTrack(e[n]);
            return t
        }
        A.default(e, i);
        var t = e.prototype;
        return t.addTrack = function(e) {
            var t = this
              , n = this.tracks_.length;
            "" + n in this || Object.defineProperty(this, n, {
                get: function() {
                    return this.tracks_[n]
                }
            }),
            -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e),
            this.trigger({
                track: e,
                type: "addtrack",
                target: this
            })),
            e.labelchange_ = function() {
                t.trigger({
                    track: e,
                    type: "labelchange",
                    target: t
                })
            }
            ,
            zt(e) && e.addEventListener("labelchange", e.labelchange_)
        }
        ,
        t.removeTrack = function(e) {
            for (var t, n = 0, i = this.length; n < i; n++)
                if (this[n] === e) {
                    (t = this[n]).off && t.off(),
                    this.tracks_.splice(n, 1);
                    break
                }
            t && this.trigger({
                track: t,
                type: "removetrack",
                target: this
            })
        }
        ,
        t.getTrackById = function(e) {
            for (var t = null, n = 0, i = this.length; n < i; n++) {
                var r = this[n];
                if (r.id === e) {
                    t = r;
                    break
                }
            }
            return t
        }
        ,
        e
    }(It);
    for (var mn in fn.prototype.allowedEvents_ = {
        change: "change",
        addtrack: "addtrack",
        removetrack: "removetrack",
        labelchange: "labelchange"
    },
    fn.prototype.allowedEvents_)
        fn.prototype["on" + mn] = null;
    function gn(e, t) {
        for (var n = 0; n < e.length; n++)
            Object.keys(e[n]).length && t.id !== e[n].id && (e[n].enabled = !1)
    }
    function vn(e, t) {
        for (var n = 0; n < e.length; n++)
            Object.keys(e[n]).length && t.id !== e[n].id && (e[n].selected = !1)
    }
    function yn(e) {
        var t = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"]
          , n = M.default.createElement("a");
        n.href = e;
        for (var i = {}, r = 0; r < t.length; r++)
            i[t[r]] = n[t[r]];
        return "http:" === i.protocol && (i.host = i.host.replace(/:80$/, "")),
        "https:" === i.protocol && (i.host = i.host.replace(/:443$/, "")),
        i.protocol || (i.protocol = C.default.location.protocol),
        i.host || (i.host = C.default.location.host),
        i
    }
    function bn(e) {
        if (!e.match(/^https?:\/\//)) {
            var t = M.default.createElement("a");
            t.href = e,
            e = t.href
        }
        return e
    }
    function _n(e) {
        if ("string" == typeof e) {
            var t = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);
            if (t)
                return t.pop().toLowerCase()
        }
        return ""
    }
    function wn(e, t) {
        void 0 === t && (t = C.default.location);
        var n = yn(e);
        return (":" === n.protocol ? t.protocol : n.protocol) + n.host !== t.protocol + t.host
    }
    function xn(e, t) {
        var n = new C.default.WebVTT.Parser(C.default,C.default.vttjs,C.default.WebVTT.StringDecoder())
          , i = [];
        n.oncue = function(e) {
            t.addCue(e)
        }
        ,
        n.onparsingerror = function(e) {
            i.push(e)
        }
        ,
        n.onflush = function() {
            t.trigger({
                type: "loadeddata",
                target: t
            })
        }
        ,
        n.parse(e),
        0 < i.length && (C.default.console && C.default.console.groupCollapsed && C.default.console.groupCollapsed("Text Track parsing errors for " + t.src),
        i.forEach(function(e) {
            return Y.error(e)
        }),
        C.default.console && C.default.console.groupEnd && C.default.console.groupEnd()),
        n.flush()
    }
    function Tn(e, i) {
        var t = {
            uri: e
        }
          , n = wn(e);
        n && (t.cors = n);
        var r = "use-credentials" === i.tech_.crossOrigin();
        r && (t.withCredentials = r),
        O.default(t, Pt(this, function(e, t, n) {
            if (e)
                return Y.error(e, t);
            i.loaded_ = !0,
            "function" != typeof C.default.WebVTT ? i.tech_ && i.tech_.any(["vttjsloaded", "vttjserror"], function(e) {
                if ("vttjserror" !== e.type)
                    return xn(n, i);
                Y.error("vttjs failed to load, stopping trying to process " + i.src)
            }) : xn(n, i)
        }))
    }
    var Sn = function(i) {
        function e(e) {
            var t;
            void 0 === e && (e = []);
            for (var n = e.length - 1; 0 <= n; n--)
                if (e[n].enabled) {
                    gn(e, e[n]);
                    break
                }
            return (t = i.call(this, e) || this).changing_ = !1,
            t
        }
        A.default(e, i);
        var t = e.prototype;
        return t.addTrack = function(e) {
            var t = this;
            e.enabled && gn(this, e),
            i.prototype.addTrack.call(this, e),
            e.addEventListener && (e.enabledChange_ = function() {
                t.changing_ || (t.changing_ = !0,
                gn(t, e),
                t.changing_ = !1,
                t.trigger("change"))
            }
            ,
            e.addEventListener("enabledchange", e.enabledChange_))
        }
        ,
        t.removeTrack = function(e) {
            i.prototype.removeTrack.call(this, e),
            e.removeEventListener && e.enabledChange_ && (e.removeEventListener("enabledchange", e.enabledChange_),
            e.enabledChange_ = null)
        }
        ,
        e
    }(fn)
      , En = function(i) {
        function e(e) {
            var t;
            void 0 === e && (e = []);
            for (var n = e.length - 1; 0 <= n; n--)
                if (e[n].selected) {
                    vn(e, e[n]);
                    break
                }
            return (t = i.call(this, e) || this).changing_ = !1,
            Object.defineProperty(P.default(t), "selectedIndex", {
                get: function() {
                    for (var e = 0; e < this.length; e++)
                        if (this[e].selected)
                            return e;
                    return -1
                },
                set: function() {}
            }),
            t
        }
        A.default(e, i);
        var t = e.prototype;
        return t.addTrack = function(e) {
            var t = this;
            e.selected && vn(this, e),
            i.prototype.addTrack.call(this, e),
            e.addEventListener && (e.selectedChange_ = function() {
                t.changing_ || (t.changing_ = !0,
                vn(t, e),
                t.changing_ = !1,
                t.trigger("change"))
            }
            ,
            e.addEventListener("selectedchange", e.selectedChange_))
        }
        ,
        t.removeTrack = function(e) {
            i.prototype.removeTrack.call(this, e),
            e.removeEventListener && e.selectedChange_ && (e.removeEventListener("selectedchange", e.selectedChange_),
            e.selectedChange_ = null)
        }
        ,
        e
    }(fn)
      , Cn = function(n) {
        function e() {
            return n.apply(this, arguments) || this
        }
        A.default(e, n);
        var t = e.prototype;
        return t.addTrack = function(e) {
            var t = this;
            n.prototype.addTrack.call(this, e),
            this.queueChange_ || (this.queueChange_ = function() {
                return t.queueTrigger("change")
            }
            ),
            this.triggerSelectedlanguagechange || (this.triggerSelectedlanguagechange_ = function() {
                return t.trigger("selectedlanguagechange")
            }
            ),
            e.addEventListener("modechange", this.queueChange_);
            -1 === ["metadata", "chapters"].indexOf(e.kind) && e.addEventListener("modechange", this.triggerSelectedlanguagechange_)
        }
        ,
        t.removeTrack = function(e) {
            n.prototype.removeTrack.call(this, e),
            e.removeEventListener && (this.queueChange_ && e.removeEventListener("modechange", this.queueChange_),
            this.selectedlanguagechange_ && e.removeEventListener("modechange", this.triggerSelectedlanguagechange_))
        }
        ,
        e
    }(fn)
      , Mn = function() {
        function e(e) {
            void 0 === e && (e = []),
            this.trackElements_ = [],
            Object.defineProperty(this, "length", {
                get: function() {
                    return this.trackElements_.length
                }
            });
            for (var t = 0, n = e.length; t < n; t++)
                this.addTrackElement_(e[t])
        }
        var t = e.prototype;
        return t.addTrackElement_ = function(e) {
            var t = this.trackElements_.length;
            "" + t in this || Object.defineProperty(this, t, {
                get: function() {
                    return this.trackElements_[t]
                }
            }),
            -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e)
        }
        ,
        t.getTrackElementByTrack_ = function(e) {
            for (var t, n = 0, i = this.trackElements_.length; n < i; n++)
                if (e === this.trackElements_[n].track) {
                    t = this.trackElements_[n];
                    break
                }
            return t
        }
        ,
        t.removeTrackElement_ = function(e) {
            for (var t = 0, n = this.trackElements_.length; t < n; t++)
                if (e === this.trackElements_[t]) {
                    this.trackElements_[t].track && "function" == typeof this.trackElements_[t].track.off && this.trackElements_[t].track.off(),
                    "function" == typeof this.trackElements_[t].off && this.trackElements_[t].off(),
                    this.trackElements_.splice(t, 1);
                    break
                }
        }
        ,
        e
    }()
      , kn = function() {
        function t(e) {
            t.prototype.setCues_.call(this, e),
            Object.defineProperty(this, "length", {
                get: function() {
                    return this.length_
                }
            })
        }
        var e = t.prototype;
        return e.setCues_ = function(e) {
            var t = this.length || 0
              , n = 0
              , i = e.length;
            this.cues_ = e,
            this.length_ = e.length;
            function r(e) {
                "" + e in this || Object.defineProperty(this, "" + e, {
                    get: function() {
                        return this.cues_[e]
                    }
                })
            }
            if (t < i)
                for (n = t; n < i; n++)
                    r.call(this, n)
        }
        ,
        e.getCueById = function(e) {
            for (var t = null, n = 0, i = this.length; n < i; n++) {
                var r = this[n];
                if (r.id === e) {
                    t = r;
                    break
                }
            }
            return t
        }
        ,
        t
    }()
      , Pn = {
        alternative: "alternative",
        captions: "captions",
        main: "main",
        sign: "sign",
        subtitles: "subtitles",
        commentary: "commentary"
    }
      , An = {
        alternative: "alternative",
        descriptions: "descriptions",
        main: "main",
        "main-desc": "main-desc",
        translation: "translation",
        commentary: "commentary"
    }
      , In = {
        subtitles: "subtitles",
        captions: "captions",
        descriptions: "descriptions",
        chapters: "chapters",
        metadata: "metadata"
    }
      , Ln = {
        disabled: "disabled",
        hidden: "hidden",
        showing: "showing"
    }
      , On = function(o) {
        function e(e) {
            var t;
            void 0 === e && (e = {}),
            t = o.call(this) || this;
            function n(e) {
                Object.defineProperty(P.default(t), e, {
                    get: function() {
                        return i[e]
                    },
                    set: function() {}
                })
            }
            var i = {
                id: e.id || "vjs_track_" + gt(),
                kind: e.kind || "",
                language: e.language || ""
            }
              , r = e.label || "";
            for (var a in i)
                n(a);
            return Object.defineProperty(P.default(t), "label", {
                get: function() {
                    return r
                },
                set: function(e) {
                    e !== r && (r = e,
                    this.trigger("labelchange"))
                }
            }),
            t
        }
        return A.default(e, o),
        e
    }(It)
      , Rn = Object.freeze({
        __proto__: null,
        parseUrl: yn,
        getAbsoluteURL: bn,
        getFileExtension: _n,
        isCrossOrigin: wn
    })
      , Dn = function(u) {
        function e(e) {
            var t;
            if (void 0 === e && (e = {}),
            !e.tech)
                throw new Error("A tech was not provided.");
            var n = Xt(e, {
                kind: In[e.kind] || "subtitles",
                language: e.language || e.srclang || ""
            })
              , i = Ln[n.mode] || "disabled"
              , r = n.default;
            "metadata" !== n.kind && "chapters" !== n.kind || (i = "hidden"),
            (t = u.call(this, n) || this).tech_ = n.tech,
            t.cues_ = [],
            t.activeCues_ = [],
            t.preload_ = !1 !== t.tech_.preloadTextTracks;
            var a = new kn(t.cues_)
              , o = new kn(t.activeCues_)
              , s = !1
              , l = Pt(P.default(t), function() {
                this.tech_.isReady_ && !this.tech_.isDisposed() && (this.activeCues = this.activeCues,
                s && (this.trigger("cuechange"),
                s = !1))
            });
            return t.tech_.one("dispose", function() {
                t.tech_.off("timeupdate", l)
            }),
            "disabled" !== i && t.tech_.on("timeupdate", l),
            Object.defineProperties(P.default(t), {
                default: {
                    get: function() {
                        return r
                    },
                    set: function() {}
                },
                mode: {
                    get: function() {
                        return i
                    },
                    set: function(e) {
                        Ln[e] && i !== e && (i = e,
                        this.preload_ || "disabled" === i || 0 !== this.cues.length || Tn(this.src, this),
                        this.tech_.off("timeupdate", l),
                        "disabled" !== i && this.tech_.on("timeupdate", l),
                        this.trigger("modechange"))
                    }
                },
                cues: {
                    get: function() {
                        return this.loaded_ ? a : null
                    },
                    set: function() {}
                },
                activeCues: {
                    get: function() {
                        if (!this.loaded_)
                            return null;
                        if (0 === this.cues.length)
                            return o;
                        for (var e = this.tech_.currentTime(), t = [], n = 0, i = this.cues.length; n < i; n++) {
                            var r = this.cues[n];
                            r.startTime <= e && r.endTime >= e ? t.push(r) : r.startTime === r.endTime && r.startTime <= e && r.startTime + .5 >= e && t.push(r)
                        }
                        if (s = !1,
                        t.length !== this.activeCues_.length)
                            s = !0;
                        else
                            for (var a = 0; a < t.length; a++)
                                -1 === this.activeCues_.indexOf(t[a]) && (s = !0);
                        return this.activeCues_ = t,
                        o.setCues_(this.activeCues_),
                        o
                    },
                    set: function() {}
                }
            }),
            n.src ? (t.src = n.src,
            t.preload_ || (t.loaded_ = !0),
            (t.preload_ || "subtitles" !== n.kind && "captions" !== n.kind) && Tn(t.src, P.default(t))) : t.loaded_ = !0,
            t
        }
        A.default(e, u);
        var t = e.prototype;
        return t.addCue = function(e) {
            var t = e;
            if (C.default.vttjs && !(e instanceof C.default.vttjs.VTTCue)) {
                for (var n in t = new C.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),
                e)
                    n in t || (t[n] = e[n]);
                t.id = e.id,
                t.originalCue_ = e
            }
            for (var i = this.tech_.textTracks(), r = 0; r < i.length; r++)
                i[r] !== this && i[r].removeCue(t);
            this.cues_.push(t),
            this.cues.setCues_(this.cues_)
        }
        ,
        t.removeCue = function(e) {
            for (var t = this.cues_.length; t--; ) {
                var n = this.cues_[t];
                if (n === e || n.originalCue_ && n.originalCue_ === e) {
                    this.cues_.splice(t, 1),
                    this.cues.setCues_(this.cues_);
                    break
                }
            }
        }
        ,
        e
    }(On);
    Dn.prototype.allowedEvents_ = {
        cuechange: "cuechange"
    };
    var Nn = function(r) {
        function e(e) {
            var t;
            void 0 === e && (e = {});
            var n = Xt(e, {
                kind: An[e.kind] || ""
            });
            t = r.call(this, n) || this;
            var i = !1;
            return Object.defineProperty(P.default(t), "enabled", {
                get: function() {
                    return i
                },
                set: function(e) {
                    "boolean" == typeof e && e !== i && (i = e,
                    this.trigger("enabledchange"))
                }
            }),
            n.enabled && (t.enabled = n.enabled),
            t.loaded_ = !0,
            t
        }
        return A.default(e, r),
        e
    }(On)
      , Fn = function(r) {
        function e(e) {
            var t;
            void 0 === e && (e = {});
            var n = Xt(e, {
                kind: Pn[e.kind] || ""
            });
            t = r.call(this, n) || this;
            var i = !1;
            return Object.defineProperty(P.default(t), "selected", {
                get: function() {
                    return i
                },
                set: function(e) {
                    "boolean" == typeof e && e !== i && (i = e,
                    this.trigger("selectedchange"))
                }
            }),
            n.selected && (t.selected = n.selected),
            t
        }
        return A.default(e, r),
        e
    }(On)
      , Bn = function(r) {
        function e(e) {
            var t, n;
            void 0 === e && (e = {}),
            t = r.call(this) || this;
            var i = new Dn(e);
            return t.kind = i.kind,
            t.src = i.src,
            t.srclang = i.language,
            t.label = i.label,
            t.default = i.default,
            Object.defineProperties(P.default(t), {
                readyState: {
                    get: function() {
                        return n
                    }
                },
                track: {
                    get: function() {
                        return i
                    }
                }
            }),
            n = 0,
            i.addEventListener("loadeddata", function() {
                n = 2,
                t.trigger({
                    type: "load",
                    target: P.default(t)
                })
            }),
            t
        }
        return A.default(e, r),
        e
    }(It);
    Bn.prototype.allowedEvents_ = {
        load: "load"
    },
    Bn.NONE = 0,
    Bn.LOADING = 1,
    Bn.LOADED = 2,
    Bn.ERROR = 3;
    var Un = {
        audio: {
            ListClass: Sn,
            TrackClass: Nn,
            capitalName: "Audio"
        },
        video: {
            ListClass: En,
            TrackClass: Fn,
            capitalName: "Video"
        },
        text: {
            ListClass: Cn,
            TrackClass: Dn,
            capitalName: "Text"
        }
    };
    Object.keys(Un).forEach(function(e) {
        Un[e].getterName = e + "Tracks",
        Un[e].privateName = e + "Tracks_"
    });
    var jn = {
        remoteText: {
            ListClass: Cn,
            TrackClass: Dn,
            capitalName: "RemoteText",
            getterName: "remoteTextTracks",
            privateName: "remoteTextTracks_"
        },
        remoteTextEl: {
            ListClass: Mn,
            TrackClass: Bn,
            capitalName: "RemoteTextTrackEls",
            getterName: "remoteTextTrackEls",
            privateName: "remoteTextTrackEls_"
        }
    }
      , zn = k.default({}, Un, jn);
    jn.names = Object.keys(jn),
    Un.names = Object.keys(Un),
    zn.names = [].concat(jn.names).concat(Un.names);
    var Hn = function(t) {
        function n(n, e) {
            var i;
            return void 0 === n && (n = {}),
            void 0 === e && (e = function() {}
            ),
            n.reportTouchActivity = !1,
            (i = t.call(this, null, n, e) || this).onDurationChange_ = function(e) {
                return i.onDurationChange(e)
            }
            ,
            i.trackProgress_ = function(e) {
                return i.trackProgress(e)
            }
            ,
            i.trackCurrentTime_ = function(e) {
                return i.trackCurrentTime(e)
            }
            ,
            i.stopTrackingCurrentTime_ = function(e) {
                return i.stopTrackingCurrentTime(e)
            }
            ,
            i.disposeSourceHandler_ = function(e) {
                return i.disposeSourceHandler(e)
            }
            ,
            i.hasStarted_ = !1,
            i.on("playing", function() {
                this.hasStarted_ = !0
            }),
            i.on("loadstart", function() {
                this.hasStarted_ = !1
            }),
            zn.names.forEach(function(e) {
                var t = zn[e];
                n && n[t.getterName] && (i[t.privateName] = n[t.getterName])
            }),
            i.featuresProgressEvents || i.manualProgressOn(),
            i.featuresTimeupdateEvents || i.manualTimeUpdatesOn(),
            ["Text", "Audio", "Video"].forEach(function(e) {
                !1 === n["native" + e + "Tracks"] && (i["featuresNative" + e + "Tracks"] = !1)
            }),
            !1 === n.nativeCaptions || !1 === n.nativeTextTracks ? i.featuresNativeTextTracks = !1 : !0 !== n.nativeCaptions && !0 !== n.nativeTextTracks || (i.featuresNativeTextTracks = !0),
            i.featuresNativeTextTracks || i.emulateTextTracks(),
            i.preloadTextTracks = !1 !== n.preloadTextTracks,
            i.autoRemoteTextTracks_ = new zn.text.ListClass,
            i.initTrackListeners(),
            n.nativeControlsForTouch || i.emitTapEvents(),
            i.constructor && (i.name_ = i.constructor.name || "Unknown Tech"),
            i
        }
        A.default(n, t);
        var e = n.prototype;
        return e.triggerSourceset = function(e) {
            var t = this;
            this.isReady_ || this.one("ready", function() {
                return t.setTimeout(function() {
                    return t.triggerSourceset(e)
                }, 1)
            }),
            this.trigger({
                src: e,
                type: "sourceset"
            })
        }
        ,
        e.manualProgressOn = function() {
            this.on("durationchange", this.onDurationChange_),
            this.manualProgress = !0,
            this.one("ready", this.trackProgress_)
        }
        ,
        e.manualProgressOff = function() {
            this.manualProgress = !1,
            this.stopTrackingProgress(),
            this.off("durationchange", this.onDurationChange_)
        }
        ,
        e.trackProgress = function(e) {
            this.stopTrackingProgress(),
            this.progressInterval = this.setInterval(Pt(this, function() {
                var e = this.bufferedPercent();
                this.bufferedPercent_ !== e && this.trigger("progress"),
                1 === (this.bufferedPercent_ = e) && this.stopTrackingProgress()
            }), 500)
        }
        ,
        e.onDurationChange = function(e) {
            this.duration_ = this.duration()
        }
        ,
        e.buffered = function() {
            return nn(0, 0)
        }
        ,
        e.bufferedPercent = function() {
            return rn(this.buffered(), this.duration_)
        }
        ,
        e.stopTrackingProgress = function() {
            this.clearInterval(this.progressInterval)
        }
        ,
        e.manualTimeUpdatesOn = function() {
            this.manualTimeUpdates = !0,
            this.on("play", this.trackCurrentTime_),
            this.on("pause", this.stopTrackingCurrentTime_)
        }
        ,
        e.manualTimeUpdatesOff = function() {
            this.manualTimeUpdates = !1,
            this.stopTrackingCurrentTime(),
            this.off("play", this.trackCurrentTime_),
            this.off("pause", this.stopTrackingCurrentTime_)
        }
        ,
        e.trackCurrentTime = function() {
            this.currentTimeInterval && this.stopTrackingCurrentTime(),
            this.currentTimeInterval = this.setInterval(function() {
                this.trigger({
                    type: "timeupdate",
                    target: this,
                    manuallyTriggered: !0
                })
            }, 250)
        }
        ,
        e.stopTrackingCurrentTime = function() {
            this.clearInterval(this.currentTimeInterval),
            this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }
        ,
        e.dispose = function() {
            this.clearTracks(Un.names),
            this.manualProgress && this.manualProgressOff(),
            this.manualTimeUpdates && this.manualTimeUpdatesOff(),
            t.prototype.dispose.call(this)
        }
        ,
        e.clearTracks = function(e) {
            var r = this;
            (e = [].concat(e)).forEach(function(e) {
                for (var t = r[e + "Tracks"]() || [], n = t.length; n--; ) {
                    var i = t[n];
                    "text" === e && r.removeRemoteTextTrack(i),
                    t.removeTrack(i)
                }
            })
        }
        ,
        e.cleanupAutoTextTracks = function() {
            for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--; ) {
                var n = e[t];
                this.removeRemoteTextTrack(n)
            }
        }
        ,
        e.reset = function() {}
        ,
        e.crossOrigin = function() {}
        ,
        e.setCrossOrigin = function() {}
        ,
        e.error = function(e) {
            return void 0 !== e && (this.error_ = new an(e),
            this.trigger("error")),
            this.error_
        }
        ,
        e.played = function() {
            return this.hasStarted_ ? nn(0, 0) : nn()
        }
        ,
        e.play = function() {}
        ,
        e.setScrubbing = function() {}
        ,
        e.scrubbing = function() {}
        ,
        e.setCurrentTime = function() {
            this.manualTimeUpdates && this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }
        ,
        e.initTrackListeners = function() {
            var r = this;
            Un.names.forEach(function(e) {
                function t() {
                    r.trigger(e + "trackchange")
                }
                var n = Un[e]
                  , i = r[n.getterName]();
                i.addEventListener("removetrack", t),
                i.addEventListener("addtrack", t),
                r.on("dispose", function() {
                    i.removeEventListener("removetrack", t),
                    i.removeEventListener("addtrack", t)
                })
            })
        }
        ,
        e.addWebVttScript_ = function() {
            var e = this;
            if (!C.default.WebVTT)
                if (M.default.body.contains(this.el())) {
                    if (!this.options_["vtt.js"] && ne(R.default) && 0 < Object.keys(R.default).length)
                        return void this.trigger("vttjsloaded");
                    var t = M.default.createElement("script");
                    t.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",
                    t.onload = function() {
                        e.trigger("vttjsloaded")
                    }
                    ,
                    t.onerror = function() {
                        e.trigger("vttjserror")
                    }
                    ,
                    this.on("dispose", function() {
                        t.onload = null,
                        t.onerror = null
                    }),
                    C.default.WebVTT = !0,
                    this.el().parentNode.appendChild(t)
                } else
                    this.ready(this.addWebVttScript_)
        }
        ,
        e.emulateTextTracks = function() {
            function t(e) {
                return i.addTrack(e.track)
            }
            function n(e) {
                return i.removeTrack(e.track)
            }
            var e = this
              , i = this.textTracks()
              , r = this.remoteTextTracks();
            r.on("addtrack", t),
            r.on("removetrack", n),
            this.addWebVttScript_();
            function a() {
                return e.trigger("texttrackchange")
            }
            function o() {
                a();
                for (var e = 0; e < i.length; e++) {
                    var t = i[e];
                    t.removeEventListener("cuechange", a),
                    "showing" === t.mode && t.addEventListener("cuechange", a)
                }
            }
            o(),
            i.addEventListener("change", o),
            i.addEventListener("addtrack", o),
            i.addEventListener("removetrack", o),
            this.on("dispose", function() {
                r.off("addtrack", t),
                r.off("removetrack", n),
                i.removeEventListener("change", o),
                i.removeEventListener("addtrack", o),
                i.removeEventListener("removetrack", o);
                for (var e = 0; e < i.length; e++) {
                    i[e].removeEventListener("cuechange", a)
                }
            })
        }
        ,
        e.addTextTrack = function(e, t, n) {
            if (!e)
                throw new Error("TextTrack kind is required but was not provided");
            return function(e, t, n, i, r) {
                void 0 === r && (r = {});
                var a = e.textTracks();
                r.kind = t,
                n && (r.label = n),
                i && (r.language = i),
                r.tech = e;
                var o = new zn.text.TrackClass(r);
                return a.addTrack(o),
                o
            }(this, e, t, n)
        }
        ,
        e.createRemoteTextTrack = function(e) {
            var t = Xt(e, {
                tech: this
            });
            return new jn.remoteTextEl.TrackClass(t)
        }
        ,
        e.addRemoteTextTrack = function(e, t) {
            var n = this;
            void 0 === e && (e = {});
            var i = this.createRemoteTextTrack(e);
            return !0 !== t && !1 !== t && (Y.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),
            t = !0),
            this.remoteTextTrackEls().addTrackElement_(i),
            this.remoteTextTracks().addTrack(i.track),
            !0 !== t && this.ready(function() {
                return n.autoRemoteTextTracks_.addTrack(i.track)
            }),
            i
        }
        ,
        e.removeRemoteTextTrack = function(e) {
            var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
            this.remoteTextTrackEls().removeTrackElement_(t),
            this.remoteTextTracks().removeTrack(e),
            this.autoRemoteTextTracks_.removeTrack(e)
        }
        ,
        e.getVideoPlaybackQuality = function() {
            return {}
        }
        ,
        e.requestPictureInPicture = function() {
            var e = this.options_.Promise || C.default.Promise;
            if (e)
                return e.reject()
        }
        ,
        e.disablePictureInPicture = function() {
            return !0
        }
        ,
        e.setDisablePictureInPicture = function() {}
        ,
        e.setPoster = function() {}
        ,
        e.playsinline = function() {}
        ,
        e.setPlaysinline = function() {}
        ,
        e.overrideNativeAudioTracks = function() {}
        ,
        e.overrideNativeVideoTracks = function() {}
        ,
        e.canPlayType = function() {
            return ""
        }
        ,
        n.canPlayType = function() {
            return ""
        }
        ,
        n.canPlaySource = function(e, t) {
            return n.canPlayType(e.type)
        }
        ,
        n.isTech = function(e) {
            return e.prototype instanceof n || e instanceof n || e === n
        }
        ,
        n.registerTech = function(e, t) {
            if (n.techs_ || (n.techs_ = {}),
            !n.isTech(t))
                throw new Error("Tech " + e + " must be a Tech");
            if (!n.canPlayType)
                throw new Error("Techs must have a static canPlayType method on them");
            if (!n.canPlaySource)
                throw new Error("Techs must have a static canPlaySource method on them");
            return e = $t(e),
            n.techs_[e] = t,
            n.techs_[qt(e)] = t,
            "Tech" !== e && n.defaultTechOrder_.push(e),
            t
        }
        ,
        n.getTech = function(e) {
            if (e)
                return n.techs_ && n.techs_[e] ? n.techs_[e] : (e = $t(e),
                C.default && C.default.videojs && C.default.videojs[e] ? (Y.warn("The " + e + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),
                C.default.videojs[e]) : void 0)
        }
        ,
        n
    }(Jt);
    zn.names.forEach(function(e) {
        var t = zn[e];
        Hn.prototype[t.getterName] = function() {
            return this[t.privateName] = this[t.privateName] || new t.ListClass,
            this[t.privateName]
        }
    }),
    Hn.prototype.featuresVolumeControl = !0,
    Hn.prototype.featuresMuteControl = !0,
    Hn.prototype.featuresFullscreenResize = !1,
    Hn.prototype.featuresPlaybackRate = !1,
    Hn.prototype.featuresProgressEvents = !1,
    Hn.prototype.featuresSourceset = !1,
    Hn.prototype.featuresTimeupdateEvents = !1,
    Hn.prototype.featuresNativeTextTracks = !1,
    Hn.withSourceHandlers = function(r) {
        r.registerSourceHandler = function(e, t) {
            var n = r.sourceHandlers;
            n = n || (r.sourceHandlers = []),
            void 0 === t && (t = n.length),
            n.splice(t, 0, e)
        }
        ,
        r.canPlayType = function(e) {
            for (var t, n = r.sourceHandlers || [], i = 0; i < n.length; i++)
                if (t = n[i].canPlayType(e))
                    return t;
            return ""
        }
        ,
        r.selectSourceHandler = function(e, t) {
            for (var n = r.sourceHandlers || [], i = 0; i < n.length; i++)
                if (n[i].canHandleSource(e, t))
                    return n[i];
            return null
        }
        ,
        r.canPlaySource = function(e, t) {
            var n = r.selectSourceHandler(e, t);
            return n ? n.canHandleSource(e, t) : ""
        }
        ;
        ["seekable", "seeking", "duration"].forEach(function(e) {
            var t = this[e];
            "function" == typeof t && (this[e] = function() {
                return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments)
            }
            )
        }, r.prototype),
        r.prototype.setSource = function(e) {
            var t = r.selectSourceHandler(e, this.options_);
            t || (r.nativeSourceHandler ? t = r.nativeSourceHandler : Y.error("No source handler found for the current source.")),
            this.disposeSourceHandler(),
            this.off("dispose", this.disposeSourceHandler_),
            t !== r.nativeSourceHandler && (this.currentSource_ = e),
            this.sourceHandler_ = t.handleSource(e, this, this.options_),
            this.one("dispose", this.disposeSourceHandler_)
        }
        ,
        r.prototype.disposeSourceHandler = function() {
            this.currentSource_ && (this.clearTracks(["audio", "video"]),
            this.currentSource_ = null),
            this.cleanupAutoTextTracks(),
            this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(),
            this.sourceHandler_ = null)
        }
    }
    ,
    Jt.registerComponent("Tech", Hn),
    Hn.registerTech("Tech", Hn),
    Hn.defaultTechOrder_ = [];
    var Vn = {}
      , Gn = {}
      , Wn = {};
    function qn(e, t, n) {
        e.setTimeout(function() {
            return function n(i, e, r, a, o, s) {
                void 0 === i && (i = {});
                void 0 === e && (e = []);
                void 0 === o && (o = []);
                void 0 === s && (s = !1);
                var t = e
                  , l = t[0]
                  , u = t.slice(1);
                if ("string" == typeof l)
                    n(i, Vn[l], r, a, o, s);
                else if (l) {
                    var c = Qn(a, l);
                    if (!c.setSource)
                        return o.push(c),
                        n(i, u, r, a, o, s);
                    c.setSource(ee({}, i), function(e, t) {
                        if (e)
                            return n(i, u, r, a, o, s);
                        o.push(c),
                        n(t, i.type === t.type ? u : Vn[t.type], r, a, o, s)
                    })
                } else
                    u.length ? n(i, u, r, a, o, s) : s ? r(i, o) : n(i, Vn["*"], r, a, o, !0)
            }(t, Vn[t.type], n, e)
        }, 1)
    }
    function $n(e, t, n, i) {
        void 0 === i && (i = null);
        var r = "call" + $t(n)
          , a = e.reduce(Zn(r), i)
          , o = a === Wn
          , s = o ? null : t[n](a);
        return function(e, t, n, i) {
            for (var r = e.length - 1; 0 <= r; r--) {
                var a = e[r];
                a[t] && a[t](i, n)
            }
        }(e, n, s, o),
        s
    }
    var Xn = {
        buffered: 1,
        currentTime: 1,
        duration: 1,
        muted: 1,
        played: 1,
        paused: 1,
        seekable: 1,
        volume: 1,
        ended: 1
    }
      , Yn = {
        setCurrentTime: 1,
        setMuted: 1,
        setVolume: 1
    }
      , Kn = {
        play: 1,
        pause: 1
    };
    function Zn(n) {
        return function(e, t) {
            return e === Wn ? Wn : t[n] ? t[n](e) : e
        }
    }
    function Qn(e, t) {
        var n = Gn[e.id()]
          , i = null;
        if (null == n)
            return i = t(e),
            Gn[e.id()] = [[t, i]],
            i;
        for (var r = 0; r < n.length; r++) {
            var a = n[r]
              , o = a[0]
              , s = a[1];
            o === t && (i = s)
        }
        return null === i && (i = t(e),
        n.push([t, i])),
        i
    }
    function Jn(e) {
        void 0 === e && (e = "");
        var t = _n(e);
        return ei[t.toLowerCase()] || ""
    }
    var ei = {
        opus: "video/ogg",
        ogv: "video/ogg",
        mp4: "video/mp4",
        mov: "video/mp4",
        m4v: "video/mp4",
        mkv: "video/x-matroska",
        m4a: "audio/mp4",
        mp3: "audio/mpeg",
        aac: "audio/aac",
        caf: "audio/x-caf",
        flac: "audio/flac",
        oga: "audio/ogg",
        wav: "audio/wav",
        m3u8: "application/x-mpegURL",
        jpg: "image/jpeg",
        jpeg: "image/jpeg",
        gif: "image/gif",
        png: "image/png",
        svg: "image/svg+xml",
        webp: "image/webp"
    };
    function ti(e) {
        if (!e.type) {
            var t = Jn(e.src);
            t && (e.type = t)
        }
        return e
    }
    var ni = function(u) {
        function e(e, t, n) {
            var i, r = Xt({
                createEl: !1
            }, t);
            if (i = u.call(this, e, r, n) || this,
            t.playerOptions.sources && 0 !== t.playerOptions.sources.length)
                e.src(t.playerOptions.sources);
            else
                for (var a = 0, o = t.playerOptions.techOrder; a < o.length; a++) {
                    var s = $t(o[a])
                      , l = Hn.getTech(s);
                    if (s || (l = Jt.getComponent(s)),
                    l && l.isSupported()) {
                        e.loadTech_(s);
                        break
                    }
                }
            return i
        }
        return A.default(e, u),
        e
    }(Jt);
    Jt.registerComponent("MediaLoader", ni);
    var ii = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).handleMouseOver_ = function(e) {
                return n.handleMouseOver(e)
            }
            ,
            n.handleMouseOut_ = function(e) {
                return n.handleMouseOut(e)
            }
            ,
            n.handleClick_ = function(e) {
                return n.handleClick(e)
            }
            ,
            n.handleKeyDown_ = function(e) {
                return n.handleKeyDown(e)
            }
            ,
            n.emitTapEvents(),
            n.enable(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function(e, t, n) {
            void 0 === e && (e = "div"),
            void 0 === t && (t = {}),
            void 0 === n && (n = {}),
            t = ee({
                className: this.buildCSSClass(),
                tabIndex: 0
            }, t),
            "button" === e && Y.error("Creating a ClickableComponent with an HTML element of " + e + " is not supported; use a Button instead."),
            n = ee({
                role: "button"
            }, n),
            this.tabIndex_ = t.tabIndex;
            var i = De(e, t, n);
            return i.appendChild(De("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            this.createControlTextEl(i),
            i
        }
        ,
        t.dispose = function() {
            this.controlTextEl_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.createControlTextEl = function(e) {
            return this.controlTextEl_ = De("span", {
                className: "vjs-control-text"
            }, {
                "aria-live": "polite"
            }),
            e && e.appendChild(this.controlTextEl_),
            this.controlText(this.controlText_, e),
            this.controlTextEl_
        }
        ,
        t.controlText = function(e, t) {
            if (void 0 === t && (t = this.el()),
            void 0 === e)
                return this.controlText_ || "Need Text";
            var n = this.localize(e);
            this.controlText_ = e,
            Ne(this.controlTextEl_, n),
            this.nonIconControl || this.player_.options_.noUITitleAttributes || t.setAttribute("title", n)
        }
        ,
        t.buildCSSClass = function() {
            return "vjs-control vjs-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.enable = function() {
            this.enabled_ || (this.enabled_ = !0,
            this.removeClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "false"),
            void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_),
            this.on(["tap", "click"], this.handleClick_),
            this.on("keydown", this.handleKeyDown_))
        }
        ,
        t.disable = function() {
            this.enabled_ = !1,
            this.addClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "true"),
            void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"),
            this.off("mouseover", this.handleMouseOver_),
            this.off("mouseout", this.handleMouseOut_),
            this.off(["tap", "click"], this.handleClick_),
            this.off("keydown", this.handleKeyDown_)
        }
        ,
        t.handleLanguagechange = function() {
            this.controlText(this.controlText_)
        }
        ,
        t.handleClick = function(e) {
            this.options_.clickHandler && this.options_.clickHandler.call(this, arguments)
        }
        ,
        t.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Space") || L.default.isEventKey(e, "Enter") ? (e.preventDefault(),
            e.stopPropagation(),
            this.trigger("click")) : i.prototype.handleKeyDown.call(this, e)
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("ClickableComponent", ii);
    var ri = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update(),
            n.update_ = function(e) {
                return n.update(e)
            }
            ,
            e.on("posterchange", n.update_),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.dispose = function() {
            this.player().off("posterchange", this.update_),
            i.prototype.dispose.call(this)
        }
        ,
        t.createEl = function() {
            return De("div", {
                className: "vjs-poster",
                tabIndex: -1
            })
        }
        ,
        t.update = function(e) {
            var t = this.player().poster();
            this.setSrc(t),
            t ? this.show() : this.hide()
        }
        ,
        t.setSrc = function(e) {
            var t = "";
            e && (t = 'url("' + e + '")'),
            this.el_.style.backgroundImage = t
        }
        ,
        t.handleClick = function(e) {
            if (this.player_.controls()) {
                var t = this.player_.usingPlugin("eme") && this.player_.eme.sessions && 0 < this.player_.eme.sessions.length;
                !this.player_.tech(!0) || (_e || ve) && t || this.player_.tech(!0).focus(),
                this.player_.paused() ? ln(this.player_.play()) : this.player_.pause()
            }
        }
        ,
        e
    }(ii);
    Jt.registerComponent("PosterImage", ri);
    var ai = {
        monospace: "monospace",
        sansSerif: "sans-serif",
        serif: "serif",
        monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
        monospaceSerif: '"Courier New", monospace',
        proportionalSansSerif: "sans-serif",
        proportionalSerif: "serif",
        casual: '"Comic Sans MS", Impact, fantasy',
        script: '"Monotype Corsiva", cursive',
        smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
    };
    function oi(e, t) {
        var n;
        if (4 === e.length)
            n = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
        else {
            if (7 !== e.length)
                throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
            n = e.slice(1)
        }
        return "rgba(" + parseInt(n.slice(0, 2), 16) + "," + parseInt(n.slice(2, 4), 16) + "," + parseInt(n.slice(4, 6), 16) + "," + t + ")"
    }
    function si(e, t, n) {
        try {
            e.style[t] = n
        } catch (e) {
            return
        }
    }
    var li = function(a) {
        function e(n, e, t) {
            var i;
            i = a.call(this, n, e, t) || this;
            function r(e) {
                return i.updateDisplay(e)
            }
            return n.on("loadstart", function(e) {
                return i.toggleDisplay(e)
            }),
            n.on("texttrackchange", r),
            n.on("loadedmetadata", function(e) {
                return i.preselectTrack(e)
            }),
            n.ready(Pt(P.default(i), function() {
                if (n.tech_ && n.tech_.featuresNativeTextTracks)
                    this.hide();
                else {
                    n.on("fullscreenchange", r),
                    n.on("playerresize", r),
                    C.default.addEventListener("orientationchange", r),
                    n.on("dispose", function() {
                        return C.default.removeEventListener("orientationchange", r)
                    });
                    for (var e = this.options_.playerOptions.tracks || [], t = 0; t < e.length; t++)
                        this.player_.addRemoteTextTrack(e[t], !0);
                    this.preselectTrack()
                }
            })),
            i
        }
        A.default(e, a);
        var t = e.prototype;
        return t.preselectTrack = function() {
            for (var e, t, n, i = {
                captions: 1,
                subtitles: 1
            }, r = this.player_.textTracks(), a = this.player_.cache_.selectedLanguage, o = 0; o < r.length; o++) {
                var s = r[o];
                a && a.enabled && a.language && a.language === s.language && s.kind in i ? n = s.kind === a.kind ? s : n || s : a && !a.enabled ? t = e = n = null : s.default && ("descriptions" !== s.kind || e ? s.kind in i && !t && (t = s) : e = s)
            }
            n ? n.mode = "showing" : t ? t.mode = "showing" : e && (e.mode = "showing")
        }
        ,
        t.toggleDisplay = function() {
            this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
        }
        ,
        t.createEl = function() {
            return a.prototype.createEl.call(this, "div", {
                className: "vjs-text-track-display"
            }, {
                "aria-live": "off",
                "aria-atomic": "true"
            })
        }
        ,
        t.clearDisplay = function() {
            "function" == typeof C.default.WebVTT && C.default.WebVTT.processCues(C.default, [], this.el_)
        }
        ,
        t.updateDisplay = function() {
            var e = this.player_.textTracks()
              , t = this.options_.allowMultipleShowingTracks;
            if (this.clearDisplay(),
            t) {
                for (var n = [], i = 0; i < e.length; ++i) {
                    var r = e[i];
                    "showing" === r.mode && n.push(r)
                }
                this.updateForTrack(n)
            } else {
                for (var a = null, o = null, s = e.length; s--; ) {
                    var l = e[s];
                    "showing" === l.mode && ("descriptions" === l.kind ? a = l : o = l)
                }
                o ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"),
                this.updateForTrack(o)) : a && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"),
                this.updateForTrack(a))
            }
        }
        ,
        t.updateDisplayState = function(e) {
            for (var t = this.player_.textTrackSettings.getValues(), n = e.activeCues, i = n.length; i--; ) {
                var r = n[i];
                if (r) {
                    var a = r.displayState;
                    if (t.color && (a.firstChild.style.color = t.color),
                    t.textOpacity && si(a.firstChild, "color", oi(t.color || "#fff", t.textOpacity)),
                    t.backgroundColor && (a.firstChild.style.backgroundColor = t.backgroundColor),
                    t.backgroundOpacity && si(a.firstChild, "backgroundColor", oi(t.backgroundColor || "#000", t.backgroundOpacity)),
                    t.windowColor && (t.windowOpacity ? si(a, "backgroundColor", oi(t.windowColor, t.windowOpacity)) : a.style.backgroundColor = t.windowColor),
                    t.edgeStyle && ("dropshadow" === t.edgeStyle ? a.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222" : "raised" === t.edgeStyle ? a.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222" : "depressed" === t.edgeStyle ? a.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222" : "uniform" === t.edgeStyle && (a.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),
                    t.fontPercent && 1 !== t.fontPercent) {
                        var o = C.default.parseFloat(a.style.fontSize);
                        a.style.fontSize = o * t.fontPercent + "px",
                        a.style.height = "auto",
                        a.style.top = "auto"
                    }
                    t.fontFamily && "default" !== t.fontFamily && ("small-caps" === t.fontFamily ? a.firstChild.style.fontVariant = "small-caps" : a.firstChild.style.fontFamily = ai[t.fontFamily])
                }
            }
        }
        ,
        t.updateForTrack = function(e) {
            if (Array.isArray(e) || (e = [e]),
            "function" == typeof C.default.WebVTT && !e.every(function(e) {
                return !e.activeCues
            })) {
                for (var t = [], n = 0; n < e.length; ++n)
                    for (var i = e[n], r = 0; r < i.activeCues.length; ++r)
                        t.push(i.activeCues[r]);
                C.default.WebVTT.processCues(C.default, t, this.el_);
                for (var a = 0; a < e.length; ++a) {
                    for (var o = e[a], s = 0; s < o.activeCues.length; ++s) {
                        var l = o.activeCues[s].displayState;
                        Ue(l, "vjs-text-track-cue"),
                        Ue(l, "vjs-text-track-cue-" + (o.language ? o.language : a))
                    }
                    this.player_.textTrackSettings && this.updateDisplayState(o)
                }
            }
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("TextTrackDisplay", li);
    var ui = function(r) {
        function e() {
            return r.apply(this, arguments) || this
        }
        return A.default(e, r),
        e.prototype.createEl = function() {
            var e = this.player_.isAudio()
              , t = this.localize(e ? "Audio Player" : "Video Player")
              , n = De("span", {
                className: "vjs-control-text",
                textContent: this.localize("{1} is loading.", [t])
            })
              , i = r.prototype.createEl.call(this, "div", {
                className: "vjs-loading-spinner",
                dir: "ltr"
            });
            return i.appendChild(n),
            i
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("LoadingSpinner", ui);
    var ci = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        A.default(e, t);
        var n = e.prototype;
        return n.createEl = function(e, t, n) {
            void 0 === t && (t = {}),
            void 0 === n && (n = {});
            var i = De("button", t = ee({
                className: this.buildCSSClass()
            }, t), n = ee({
                type: "button"
            }, n));
            return i.appendChild(De("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            this.createControlTextEl(i),
            i
        }
        ,
        n.addChild = function(e, t) {
            void 0 === t && (t = {});
            var n = this.constructor.name;
            return Y.warn("Adding an actionable (user controllable) child to a Button (" + n + ") is not supported; use a ClickableComponent instead."),
            Jt.prototype.addChild.call(this, e, t)
        }
        ,
        n.enable = function() {
            t.prototype.enable.call(this),
            this.el_.removeAttribute("disabled")
        }
        ,
        n.disable = function() {
            t.prototype.disable.call(this),
            this.el_.setAttribute("disabled", "disabled")
        }
        ,
        n.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Space") || L.default.isEventKey(e, "Enter") ? e.stopPropagation() : t.prototype.handleKeyDown.call(this, e)
        }
        ,
        e
    }(ii);
    Jt.registerComponent("Button", ci);
    var hi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).mouseused_ = !1,
            n.on("mousedown", function(e) {
                return n.handleMouseDown(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-big-play-button"
        }
        ,
        t.handleClick = function(e) {
            var t = this.player_.play();
            if (this.mouseused_ && e.clientX && e.clientY) {
                var n = this.player_.usingPlugin("eme") && this.player_.eme.sessions && 0 < this.player_.eme.sessions.length;
                return ln(t),
                void (!this.player_.tech(!0) || (_e || ve) && n || this.player_.tech(!0).focus())
            }
            var i = this.player_.getChild("controlBar")
              , r = i && i.getChild("playToggle");
            if (r) {
                var a = function() {
                    return r.focus()
                };
                sn(t) ? t.then(a, function() {}) : this.setTimeout(a, 1)
            } else
                this.player_.tech(!0).focus()
        }
        ,
        t.handleKeyDown = function(e) {
            this.mouseused_ = !1,
            i.prototype.handleKeyDown.call(this, e)
        }
        ,
        t.handleMouseDown = function(e) {
            this.mouseused_ = !0
        }
        ,
        e
    }(ci);
    hi.prototype.controlText_ = "Play Video",
    Jt.registerComponent("BigPlayButton", hi);
    var di = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).controlText(t && t.controlText || n.localize("Close")),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-close-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.handleClick = function(e) {
            this.trigger({
                type: "close",
                bubbles: !1
            })
        }
        ,
        t.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Esc") ? (e.preventDefault(),
            e.stopPropagation(),
            this.trigger("click")) : i.prototype.handleKeyDown.call(this, e)
        }
        ,
        e
    }(ci);
    Jt.registerComponent("CloseButton", di);
    var pi = function(i) {
        function e(e, t) {
            var n;
            return void 0 === t && (t = {}),
            n = i.call(this, e, t) || this,
            t.replay = void 0 === t.replay || t.replay,
            n.on(e, "play", function(e) {
                return n.handlePlay(e)
            }),
            n.on(e, "pause", function(e) {
                return n.handlePause(e)
            }),
            t.replay && n.on(e, "ended", function(e) {
                return n.handleEnded(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-play-control " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.handleClick = function(e) {
            this.player_.paused() ? ln(this.player_.play()) : this.player_.pause()
        }
        ,
        t.handleSeeked = function(e) {
            this.removeClass("vjs-ended"),
            this.player_.paused() ? this.handlePause(e) : this.handlePlay(e)
        }
        ,
        t.handlePlay = function(e) {
            this.removeClass("vjs-ended"),
            this.removeClass("vjs-paused"),
            this.addClass("vjs-playing"),
            this.controlText("Pause")
        }
        ,
        t.handlePause = function(e) {
            this.removeClass("vjs-playing"),
            this.addClass("vjs-paused"),
            this.controlText("Play")
        }
        ,
        t.handleEnded = function(e) {
            var t = this;
            this.removeClass("vjs-playing"),
            this.addClass("vjs-ended"),
            this.controlText("Replay"),
            this.one(this.player_, "seeked", function(e) {
                return t.handleSeeked(e)
            })
        }
        ,
        e
    }(ci);
    pi.prototype.controlText_ = "Play",
    Jt.registerComponent("PlayToggle", pi);
    function fi(e, t) {
        e = e < 0 ? 0 : e;
        var n = Math.floor(e % 60)
          , i = Math.floor(e / 60 % 60)
          , r = Math.floor(e / 3600)
          , a = Math.floor(t / 60 % 60)
          , o = Math.floor(t / 3600);
        return !isNaN(e) && e !== 1 / 0 || (r = i = n = "-"),
        (r = 0 < r || 0 < o ? r + ":" : "") + (i = ((r || 10 <= a) && i < 10 ? "0" + i : i) + ":") + (n = n < 10 ? "0" + n : n)
    }
    var mi = fi;
    function gi(e, t) {
        return void 0 === t && (t = e),
        mi(e, t)
    }
    var vi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on(e, ["timeupdate", "ended"], function(e) {
                return n.updateContent(e)
            }),
            n.updateTextNode_(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            var e = this.buildCSSClass()
              , t = i.prototype.createEl.call(this, "div", {
                className: e + " vjs-time-control vjs-control"
            })
              , n = De("span", {
                className: "vjs-control-text",
                textContent: this.localize(this.labelText_) + " "
            }, {
                role: "presentation"
            });
            return t.appendChild(n),
            this.contentEl_ = De("span", {
                className: e + "-display"
            }, {
                "aria-live": "off",
                role: "presentation"
            }),
            t.appendChild(this.contentEl_),
            t
        }
        ,
        t.dispose = function() {
            this.contentEl_ = null,
            this.textNode_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.updateTextNode_ = function(e) {
            var t = this;
            void 0 === e && (e = 0),
            e = gi(e),
            this.formattedTime_ !== e && (this.formattedTime_ = e,
            this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_", function() {
                if (t.contentEl_) {
                    var e = t.textNode_;
                    e && t.contentEl_.firstChild !== e && (e = null,
                    Y.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),
                    t.textNode_ = M.default.createTextNode(t.formattedTime_),
                    t.textNode_ && (e ? t.contentEl_.replaceChild(t.textNode_, e) : t.contentEl_.appendChild(t.textNode_))
                }
            }))
        }
        ,
        t.updateContent = function(e) {}
        ,
        e
    }(Jt);
    vi.prototype.labelText_ = "Time",
    vi.prototype.controlText_ = "Time",
    Jt.registerComponent("TimeDisplay", vi);
    var yi = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        A.default(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-current-time"
        }
        ,
        n.updateContent = function(e) {
            var t;
            t = this.player_.ended() ? this.player_.duration() : this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime(),
            this.updateTextNode_(t)
        }
        ,
        t
    }(vi);
    yi.prototype.labelText_ = "Current Time",
    yi.prototype.controlText_ = "Current Time",
    Jt.registerComponent("CurrentTimeDisplay", yi);
    var bi = function(r) {
        function e(e, t) {
            function n(e) {
                return i.updateContent(e)
            }
            var i;
            return (i = r.call(this, e, t) || this).on(e, "durationchange", n),
            i.on(e, "loadstart", n),
            i.on(e, "loadedmetadata", n),
            i
        }
        A.default(e, r);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-duration"
        }
        ,
        t.updateContent = function(e) {
            var t = this.player_.duration();
            this.updateTextNode_(t)
        }
        ,
        e
    }(vi);
    bi.prototype.labelText_ = "Duration",
    bi.prototype.controlText_ = "Duration",
    Jt.registerComponent("DurationDisplay", bi);
    var _i = function(i) {
        function e() {
            return i.apply(this, arguments) || this
        }
        return A.default(e, i),
        e.prototype.createEl = function() {
            var e = i.prototype.createEl.call(this, "div", {
                className: "vjs-time-control vjs-time-divider"
            }, {
                "aria-hidden": !0
            })
              , t = i.prototype.createEl.call(this, "div")
              , n = i.prototype.createEl.call(this, "span", {
                textContent: "/"
            });
            return t.appendChild(n),
            e.appendChild(t),
            e
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("TimeDivider", _i);
    var wi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on(e, "durationchange", function(e) {
                return n.updateContent(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-remaining-time"
        }
        ,
        t.createEl = function() {
            var e = i.prototype.createEl.call(this);
            return e.insertBefore(De("span", {}, {
                "aria-hidden": !0
            }, "-"), this.contentEl_),
            e
        }
        ,
        t.updateContent = function(e) {
            var t;
            "number" == typeof this.player_.duration() && (t = this.player_.ended() ? 0 : this.player_.remainingTimeDisplay ? this.player_.remainingTimeDisplay() : this.player_.remainingTime(),
            this.updateTextNode_(t))
        }
        ,
        e
    }(vi);
    wi.prototype.labelText_ = "Remaining Time",
    wi.prototype.controlText_ = "Remaining Time",
    Jt.registerComponent("RemainingTimeDisplay", wi);
    var xi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).updateShowing(),
            n.on(n.player(), "durationchange", function(e) {
                return n.updateShowing(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            var e = i.prototype.createEl.call(this, "div", {
                className: "vjs-live-control vjs-control"
            });
            return this.contentEl_ = De("div", {
                className: "vjs-live-display"
            }, {
                "aria-live": "off"
            }),
            this.contentEl_.appendChild(De("span", {
                className: "vjs-control-text",
                textContent: this.localize("Stream Type") + " "
            })),
            this.contentEl_.appendChild(M.default.createTextNode(this.localize("LIVE"))),
            e.appendChild(this.contentEl_),
            e
        }
        ,
        t.dispose = function() {
            this.contentEl_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.updateShowing = function(e) {
            this.player().duration() === 1 / 0 ? this.show() : this.hide()
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("LiveDisplay", xi);
    var Ti = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).updateLiveEdgeStatus(),
            n.player_.liveTracker && (n.updateLiveEdgeStatusHandler_ = function(e) {
                return n.updateLiveEdgeStatus(e)
            }
            ,
            n.on(n.player_.liveTracker, "liveedgechange", n.updateLiveEdgeStatusHandler_)),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            var e = i.prototype.createEl.call(this, "button", {
                className: "vjs-seek-to-live-control vjs-control"
            });
            return this.textEl_ = De("span", {
                className: "vjs-seek-to-live-text",
                textContent: this.localize("LIVE")
            }, {
                "aria-hidden": "true"
            }),
            e.appendChild(this.textEl_),
            e
        }
        ,
        t.updateLiveEdgeStatus = function() {
            !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge() ? (this.setAttribute("aria-disabled", !0),
            this.addClass("vjs-at-live-edge"),
            this.controlText("Seek to live, currently playing live")) : (this.setAttribute("aria-disabled", !1),
            this.removeClass("vjs-at-live-edge"),
            this.controlText("Seek to live, currently behind live"))
        }
        ,
        t.handleClick = function() {
            this.player_.liveTracker.seekToLiveEdge()
        }
        ,
        t.dispose = function() {
            this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatusHandler_),
            this.textEl_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        e
    }(ci);
    Ti.prototype.controlText_ = "Seek to live, currently playing live",
    Jt.registerComponent("SeekToLive", Ti);
    function Si(e, t, n) {
        return e = Number(e),
        Math.min(n, Math.max(t, isNaN(e) ? t : e))
    }
    var Ei = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).handleMouseDown_ = function(e) {
                return n.handleMouseDown(e)
            }
            ,
            n.handleMouseUp_ = function(e) {
                return n.handleMouseUp(e)
            }
            ,
            n.handleKeyDown_ = function(e) {
                return n.handleKeyDown(e)
            }
            ,
            n.handleClick_ = function(e) {
                return n.handleClick(e)
            }
            ,
            n.handleMouseMove_ = function(e) {
                return n.handleMouseMove(e)
            }
            ,
            n.update_ = function(e) {
                return n.update(e)
            }
            ,
            n.bar = n.getChild(n.options_.barName),
            n.vertical(!!n.options_.vertical),
            n.enable(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.enabled = function() {
            return this.enabled_
        }
        ,
        t.enable = function() {
            this.enabled() || (this.on("mousedown", this.handleMouseDown_),
            this.on("touchstart", this.handleMouseDown_),
            this.on("keydown", this.handleKeyDown_),
            this.on("click", this.handleClick_),
            this.on(this.player_, "controlsvisible", this.update),
            this.playerEvent && this.on(this.player_, this.playerEvent, this.update),
            this.removeClass("disabled"),
            this.setAttribute("tabindex", 0),
            this.enabled_ = !0)
        }
        ,
        t.disable = function() {
            if (this.enabled()) {
                var e = this.bar.el_.ownerDocument;
                this.off("mousedown", this.handleMouseDown_),
                this.off("touchstart", this.handleMouseDown_),
                this.off("keydown", this.handleKeyDown_),
                this.off("click", this.handleClick_),
                this.off(this.player_, "controlsvisible", this.update_),
                this.off(e, "mousemove", this.handleMouseMove_),
                this.off(e, "mouseup", this.handleMouseUp_),
                this.off(e, "touchmove", this.handleMouseMove_),
                this.off(e, "touchend", this.handleMouseUp_),
                this.removeAttribute("tabindex"),
                this.addClass("disabled"),
                this.playerEvent && this.off(this.player_, this.playerEvent, this.update),
                this.enabled_ = !1
            }
        }
        ,
        t.createEl = function(e, t, n) {
            return void 0 === t && (t = {}),
            void 0 === n && (n = {}),
            t.className = t.className + " vjs-slider",
            t = ee({
                tabIndex: 0
            }, t),
            n = ee({
                role: "slider",
                "aria-valuenow": 0,
                "aria-valuemin": 0,
                "aria-valuemax": 100,
                tabIndex: 0
            }, n),
            i.prototype.createEl.call(this, e, t, n)
        }
        ,
        t.handleMouseDown = function(e) {
            var t = this.bar.el_.ownerDocument;
            "mousedown" === e.type && e.preventDefault(),
            "touchstart" !== e.type || ye || e.preventDefault(),
            $e(),
            this.addClass("vjs-sliding"),
            this.trigger("slideractive"),
            this.on(t, "mousemove", this.handleMouseMove_),
            this.on(t, "mouseup", this.handleMouseUp_),
            this.on(t, "touchmove", this.handleMouseMove_),
            this.on(t, "touchend", this.handleMouseUp_),
            this.handleMouseMove(e)
        }
        ,
        t.handleMouseMove = function(e) {}
        ,
        t.handleMouseUp = function() {
            var e = this.bar.el_.ownerDocument;
            Xe(),
            this.removeClass("vjs-sliding"),
            this.trigger("sliderinactive"),
            this.off(e, "mousemove", this.handleMouseMove_),
            this.off(e, "mouseup", this.handleMouseUp_),
            this.off(e, "touchmove", this.handleMouseMove_),
            this.off(e, "touchend", this.handleMouseUp_),
            this.update()
        }
        ,
        t.update = function() {
            var t = this;
            if (this.el_ && this.bar) {
                var n = this.getProgress();
                return n === this.progress_ || (this.progress_ = n,
                this.requestNamedAnimationFrame("Slider#update", function() {
                    var e = t.vertical() ? "height" : "width";
                    t.bar.el().style[e] = (100 * n).toFixed(2) + "%"
                })),
                n
            }
        }
        ,
        t.getProgress = function() {
            return Number(Si(this.getPercent(), 0, 1).toFixed(4))
        }
        ,
        t.calculateDistance = function(e) {
            var t = Ze(this.el_, e);
            return this.vertical() ? t.y : t.x
        }
        ,
        t.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Left") || L.default.isEventKey(e, "Down") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepBack()) : L.default.isEventKey(e, "Right") || L.default.isEventKey(e, "Up") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepForward()) : i.prototype.handleKeyDown.call(this, e)
        }
        ,
        t.handleClick = function(e) {
            e.stopPropagation(),
            e.preventDefault()
        }
        ,
        t.vertical = function(e) {
            if (void 0 === e)
                return this.vertical_ || !1;
            this.vertical_ = !!e,
            this.vertical_ ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal")
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("Slider", Ei);
    function Ci(e, t) {
        return Si(e / t * 100, 0, 100).toFixed(2) + "%"
    }
    var Mi = function(r) {
        function e(e, t) {
            var n;
            return (n = r.call(this, e, t) || this).partEls_ = [],
            n.on(e, "progress", function(e) {
                return n.update(e)
            }),
            n
        }
        A.default(e, r);
        var t = e.prototype;
        return t.createEl = function() {
            var e = r.prototype.createEl.call(this, "div", {
                className: "vjs-load-progress"
            })
              , t = De("span", {
                className: "vjs-control-text"
            })
              , n = De("span", {
                textContent: this.localize("Loaded")
            })
              , i = M.default.createTextNode(": ");
            return this.percentageEl_ = De("span", {
                className: "vjs-control-text-loaded-percentage",
                textContent: "0%"
            }),
            e.appendChild(t),
            t.appendChild(n),
            t.appendChild(i),
            t.appendChild(this.percentageEl_),
            e
        }
        ,
        t.dispose = function() {
            this.partEls_ = null,
            this.percentageEl_ = null,
            r.prototype.dispose.call(this)
        }
        ,
        t.update = function(e) {
            var h = this;
            this.requestNamedAnimationFrame("LoadProgressBar#update", function() {
                var e = h.player_.liveTracker
                  , t = h.player_.buffered()
                  , n = e && e.isLive() ? e.seekableEnd() : h.player_.duration()
                  , i = h.player_.bufferedEnd()
                  , r = h.partEls_
                  , a = Ci(i, n);
                h.percent_ !== a && (h.el_.style.width = a,
                Ne(h.percentageEl_, a),
                h.percent_ = a);
                for (var o = 0; o < t.length; o++) {
                    var s = t.start(o)
                      , l = t.end(o)
                      , u = r[o];
                    u || (u = h.el_.appendChild(De()),
                    r[o] = u),
                    u.dataset.start === s && u.dataset.end === l || (u.dataset.start = s,
                    u.dataset.end = l,
                    u.style.left = Ci(s, i),
                    u.style.width = Ci(l - s, i))
                }
                for (var c = r.length; c > t.length; c--)
                    h.el_.removeChild(r[c - 1]);
                r.length = t.length
            })
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("LoadProgressBar", Mi);
    var ki = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update = At(Pt(P.default(n), n.update), 30),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-time-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }
        ,
        t.update = function(e, t, n) {
            var i = Ke(this.el_)
              , r = Ye(this.player_.el())
              , a = e.width * t;
            if (r && i) {
                var o = e.left - r.left + a
                  , s = e.width - a + (r.right - e.right)
                  , l = i.width / 2;
                o < l ? l += l - o : s < l && (l = s),
                l < 0 ? l = 0 : l > i.width && (l = i.width),
                l = Math.round(l),
                this.el_.style.right = "-" + l + "px",
                this.write(n)
            }
        }
        ,
        t.write = function(e) {
            Ne(this.el_, e)
        }
        ,
        t.updateTime = function(r, a, o, s) {
            var l = this;
            this.requestNamedAnimationFrame("TimeTooltip#updateTime", function() {
                var e, t = l.player_.duration();
                if (l.player_.liveTracker && l.player_.liveTracker.isLive()) {
                    var n = l.player_.liveTracker.liveWindow()
                      , i = n - a * n;
                    e = (i < 1 ? "" : "-") + gi(i, n)
                } else
                    e = gi(o, t);
                l.update(r, a, e),
                s && s()
            })
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("TimeTooltip", ki);
    var Pi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update = At(Pt(P.default(n), n.update), 30),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-play-progress vjs-slider-bar"
            }, {
                "aria-hidden": "true"
            })
        }
        ,
        t.update = function(e, t) {
            var n = this.getChild("timeTooltip");
            if (n) {
                var i = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                n.updateTime(e, t, i)
            }
        }
        ,
        e
    }(Jt);
    Pi.prototype.options_ = {
        children: []
    },
    Ce || pe || Pi.prototype.options_.children.push("timeTooltip"),
    Jt.registerComponent("PlayProgressBar", Pi);
    var Ai = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update = At(Pt(P.default(n), n.update), 30),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-mouse-display"
            })
        }
        ,
        t.update = function(e, t) {
            var n = this
              , i = t * this.player_.duration();
            this.getChild("timeTooltip").updateTime(e, t, i, function() {
                n.el_.style.left = e.width * t + "px"
            })
        }
        ,
        e
    }(Jt);
    Ai.prototype.options_ = {
        children: ["timeTooltip"]
    },
    Jt.registerComponent("MouseTimeDisplay", Ai);
    var Ii = function(a) {
        function e(e, t) {
            var n;
            return (n = a.call(this, e, t) || this).setEventHandlers_(),
            n
        }
        A.default(e, a);
        var t = e.prototype;
        return t.setEventHandlers_ = function() {
            var t = this;
            this.update_ = Pt(this, this.update),
            this.update = At(this.update_, 30),
            this.on(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
            this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update),
            this.updateInterval = null,
            this.enableIntervalHandler_ = function(e) {
                return t.enableInterval_(e)
            }
            ,
            this.disableIntervalHandler_ = function(e) {
                return t.disableInterval_(e)
            }
            ,
            this.on(this.player_, ["playing"], this.enableIntervalHandler_),
            this.on(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_),
            "hidden"in M.default && "visibilityState"in M.default && this.on(M.default, "visibilitychange", this.toggleVisibility_)
        }
        ,
        t.toggleVisibility_ = function(e) {
            "hidden" === M.default.visibilityState ? (this.cancelNamedAnimationFrame("SeekBar#update"),
            this.cancelNamedAnimationFrame("Slider#update"),
            this.disableInterval_(e)) : (this.player_.ended() || this.player_.paused() || this.enableInterval_(),
            this.update())
        }
        ,
        t.enableInterval_ = function() {
            this.updateInterval || (this.updateInterval = this.setInterval(this.update, 30))
        }
        ,
        t.disableInterval_ = function(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && e && "ended" !== e.type || this.updateInterval && (this.clearInterval(this.updateInterval),
            this.updateInterval = null)
        }
        ,
        t.createEl = function() {
            return a.prototype.createEl.call(this, "div", {
                className: "vjs-progress-holder"
            }, {
                "aria-label": this.localize("Progress Bar")
            })
        }
        ,
        t.update = function(e) {
            var i = this;
            if ("hidden" !== M.default.visibilityState) {
                var r = a.prototype.update.call(this);
                return this.requestNamedAnimationFrame("SeekBar#update", function() {
                    var e = i.player_.ended() ? i.player_.duration() : i.getCurrentTime_()
                      , t = i.player_.liveTracker
                      , n = i.player_.duration();
                    t && t.isLive() && (n = i.player_.liveTracker.liveCurrentTime()),
                    i.percent_ !== r && (i.el_.setAttribute("aria-valuenow", (100 * r).toFixed(2)),
                    i.percent_ = r),
                    i.currentTime_ === e && i.duration_ === n || (i.el_.setAttribute("aria-valuetext", i.localize("progress bar timing: currentTime={1} duration={2}", [gi(e, n), gi(n, n)], "{1} of {2}")),
                    i.currentTime_ = e,
                    i.duration_ = n),
                    i.bar && i.bar.update(Ye(i.el()), i.getProgress())
                }),
                r
            }
        }
        ,
        t.userSeek_ = function(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && this.player_.liveTracker.nextSeekedFromUser(),
            this.player_.currentTime(e)
        }
        ,
        t.getCurrentTime_ = function() {
            return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime()
        }
        ,
        t.getPercent = function() {
            var e, t = this.getCurrentTime_(), n = this.player_.liveTracker;
            return n && n.isLive() ? (e = (t - n.seekableStart()) / n.liveWindow(),
            n.atLiveEdge() && (e = 1)) : e = t / this.player_.duration(),
            e
        }
        ,
        t.handleMouseDown = function(e) {
            it(e) && (e.stopPropagation(),
            this.player_.scrubbing(!0),
            this.videoWasPlaying = !this.player_.paused(),
            this.player_.pause(),
            a.prototype.handleMouseDown.call(this, e))
        }
        ,
        t.handleMouseMove = function(e) {
            if (it(e)) {
                var t, n = this.calculateDistance(e), i = this.player_.liveTracker;
                if (i && i.isLive()) {
                    if (.99 <= n)
                        return void i.seekToLiveEdge();
                    var r = i.seekableStart()
                      , a = i.liveCurrentTime();
                    if (a <= (t = r + n * i.liveWindow()) && (t = a),
                    t <= r && (t = r + .1),
                    t === 1 / 0)
                        return
                } else
                    (t = n * this.player_.duration()) === this.player_.duration() && (t -= .1);
                this.userSeek_(t)
            }
        }
        ,
        t.enable = function() {
            a.prototype.enable.call(this);
            var e = this.getChild("mouseTimeDisplay");
            e && e.show()
        }
        ,
        t.disable = function() {
            a.prototype.disable.call(this);
            var e = this.getChild("mouseTimeDisplay");
            e && e.hide()
        }
        ,
        t.handleMouseUp = function(e) {
            a.prototype.handleMouseUp.call(this, e),
            e && e.stopPropagation(),
            this.player_.scrubbing(!1),
            this.player_.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            }),
            this.videoWasPlaying ? ln(this.player_.play()) : this.update_()
        }
        ,
        t.stepForward = function() {
            this.userSeek_(this.player_.currentTime() + 5)
        }
        ,
        t.stepBack = function() {
            this.userSeek_(this.player_.currentTime() - 5)
        }
        ,
        t.handleAction = function(e) {
            this.player_.paused() ? this.player_.play() : this.player_.pause()
        }
        ,
        t.handleKeyDown = function(e) {
            var t = this.player_.liveTracker;
            if (L.default.isEventKey(e, "Space") || L.default.isEventKey(e, "Enter"))
                e.preventDefault(),
                e.stopPropagation(),
                this.handleAction(e);
            else if (L.default.isEventKey(e, "Home"))
                e.preventDefault(),
                e.stopPropagation(),
                this.userSeek_(0);
            else if (L.default.isEventKey(e, "End"))
                e.preventDefault(),
                e.stopPropagation(),
                t && t.isLive() ? this.userSeek_(t.liveCurrentTime()) : this.userSeek_(this.player_.duration());
            else if (/^[0-9]$/.test(L.default(e))) {
                e.preventDefault(),
                e.stopPropagation();
                var n = 10 * (L.default.codes[L.default(e)] - L.default.codes[0]) / 100;
                t && t.isLive() ? this.userSeek_(t.seekableStart() + t.liveWindow() * n) : this.userSeek_(this.player_.duration() * n)
            } else
                L.default.isEventKey(e, "PgDn") ? (e.preventDefault(),
                e.stopPropagation(),
                this.userSeek_(this.player_.currentTime() - 60)) : L.default.isEventKey(e, "PgUp") ? (e.preventDefault(),
                e.stopPropagation(),
                this.userSeek_(this.player_.currentTime() + 60)) : a.prototype.handleKeyDown.call(this, e)
        }
        ,
        t.dispose = function() {
            this.disableInterval_(),
            this.off(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
            this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.update),
            this.off(this.player_, ["playing"], this.enableIntervalHandler_),
            this.off(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_),
            "hidden"in M.default && "visibilityState"in M.default && this.off(M.default, "visibilitychange", this.toggleVisibility_),
            a.prototype.dispose.call(this)
        }
        ,
        e
    }(Ei);
    Ii.prototype.options_ = {
        children: ["loadProgressBar", "playProgressBar"],
        barName: "playProgressBar"
    },
    Ce || pe || Ii.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"),
    Jt.registerComponent("SeekBar", Ii);
    var Li = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).handleMouseMove = At(Pt(P.default(n), n.handleMouseMove), 30),
            n.throttledHandleMouseSeek = At(Pt(P.default(n), n.handleMouseSeek), 30),
            n.handleMouseUpHandler_ = function(e) {
                return n.handleMouseUp(e)
            }
            ,
            n.handleMouseDownHandler_ = function(e) {
                return n.handleMouseDown(e)
            }
            ,
            n.enable(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-progress-control vjs-control"
            })
        }
        ,
        t.handleMouseMove = function(e) {
            var t = this.getChild("seekBar");
            if (t) {
                var n = t.getChild("playProgressBar")
                  , i = t.getChild("mouseTimeDisplay");
                if (n || i) {
                    var r = t.el()
                      , a = Ke(r)
                      , o = Ze(r, e).x;
                    o = Si(o, 0, 1),
                    i && i.update(a, o),
                    n && n.update(a, t.getProgress())
                }
            }
        }
        ,
        t.handleMouseSeek = function(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseMove(e)
        }
        ,
        t.enabled = function() {
            return this.enabled_
        }
        ,
        t.disable = function() {
            if (this.children().forEach(function(e) {
                return e.disable && e.disable()
            }),
            this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDownHandler_),
            this.off(this.el_, "mousemove", this.handleMouseMove),
            this.removeListenersAddedOnMousedownAndTouchstart(),
            this.addClass("disabled"),
            this.enabled_ = !1,
            this.player_.scrubbing())) {
                var e = this.getChild("seekBar");
                this.player_.scrubbing(!1),
                e.videoWasPlaying && ln(this.player_.play())
            }
        }
        ,
        t.enable = function() {
            this.children().forEach(function(e) {
                return e.enable && e.enable()
            }),
            this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDownHandler_),
            this.on(this.el_, "mousemove", this.handleMouseMove),
            this.removeClass("disabled"),
            this.enabled_ = !0)
        }
        ,
        t.removeListenersAddedOnMousedownAndTouchstart = function() {
            var e = this.el_.ownerDocument;
            this.off(e, "mousemove", this.throttledHandleMouseSeek),
            this.off(e, "touchmove", this.throttledHandleMouseSeek),
            this.off(e, "mouseup", this.handleMouseUpHandler_),
            this.off(e, "touchend", this.handleMouseUpHandler_)
        }
        ,
        t.handleMouseDown = function(e) {
            var t = this.el_.ownerDocument
              , n = this.getChild("seekBar");
            n && n.handleMouseDown(e),
            this.on(t, "mousemove", this.throttledHandleMouseSeek),
            this.on(t, "touchmove", this.throttledHandleMouseSeek),
            this.on(t, "mouseup", this.handleMouseUpHandler_),
            this.on(t, "touchend", this.handleMouseUpHandler_)
        }
        ,
        t.handleMouseUp = function(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseUp(e),
            this.removeListenersAddedOnMousedownAndTouchstart()
        }
        ,
        e
    }(Jt);
    Li.prototype.options_ = {
        children: ["seekBar"]
    },
    Jt.registerComponent("ProgressControl", Li);
    var Oi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on(e, ["enterpictureinpicture", "leavepictureinpicture"], function(e) {
                return n.handlePictureInPictureChange(e)
            }),
            n.on(e, ["disablepictureinpicturechanged", "loadedmetadata"], function(e) {
                return n.handlePictureInPictureEnabledChange(e)
            }),
            n.disable(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-picture-in-picture-control " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.handlePictureInPictureEnabledChange = function() {
            M.default.pictureInPictureEnabled && !1 === this.player_.disablePictureInPicture() ? this.enable() : this.disable()
        }
        ,
        t.handlePictureInPictureChange = function(e) {
            this.player_.isInPictureInPicture() ? this.controlText("Exit Picture-in-Picture") : this.controlText("Picture-in-Picture"),
            this.handlePictureInPictureEnabledChange()
        }
        ,
        t.handleClick = function(e) {
            this.player_.isInPictureInPicture() ? this.player_.exitPictureInPicture() : this.player_.requestPictureInPicture()
        }
        ,
        e
    }(ci);
    Oi.prototype.controlText_ = "Picture-in-Picture",
    Jt.registerComponent("PictureInPictureToggle", Oi);
    var Ri = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on(e, "fullscreenchange", function(e) {
                return n.handleFullscreenChange(e)
            }),
            !1 === M.default[e.fsApi_.fullscreenEnabled] && n.disable(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-fullscreen-control " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.handleFullscreenChange = function(e) {
            this.player_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen")
        }
        ,
        t.handleClick = function(e) {
            this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen()
        }
        ,
        e
    }(ci);
    Ri.prototype.controlText_ = "Fullscreen",
    Jt.registerComponent("FullscreenToggle", Ri);
    var Di = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        return A.default(e, t),
        e.prototype.createEl = function() {
            var e = t.prototype.createEl.call(this, "div", {
                className: "vjs-volume-level"
            });
            return e.appendChild(t.prototype.createEl.call(this, "span", {
                className: "vjs-control-text"
            })),
            e
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("VolumeLevel", Di);
    var Ni = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update = At(Pt(P.default(n), n.update), 30),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-volume-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }
        ,
        t.update = function(e, t, n, i) {
            if (!n) {
                var r = Ye(this.el_)
                  , a = Ye(this.player_.el())
                  , o = e.width * t;
                if (!a || !r)
                    return;
                var s = e.left - a.left + o
                  , l = e.width - o + (a.right - e.right)
                  , u = r.width / 2;
                s < u ? u += u - s : l < u && (u = l),
                u < 0 ? u = 0 : u > r.width && (u = r.width),
                this.el_.style.right = "-" + u + "px"
            }
            this.write(i + "%")
        }
        ,
        t.write = function(e) {
            Ne(this.el_, e)
        }
        ,
        t.updateVolume = function(e, t, n, i, r) {
            var a = this;
            this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume", function() {
                a.update(e, t, n, i.toFixed(0)),
                r && r()
            })
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("VolumeLevelTooltip", Ni);
    var Fi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).update = At(Pt(P.default(n), n.update), 30),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-mouse-display"
            })
        }
        ,
        t.update = function(e, t, n) {
            var i = this
              , r = 100 * t;
            this.getChild("volumeLevelTooltip").updateVolume(e, t, n, r, function() {
                n ? i.el_.style.bottom = e.height * t + "px" : i.el_.style.left = e.width * t + "px"
            })
        }
        ,
        e
    }(Jt);
    Fi.prototype.options_ = {
        children: ["volumeLevelTooltip"]
    },
    Jt.registerComponent("MouseVolumeLevelDisplay", Fi);
    var Bi = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on("slideractive", function(e) {
                return n.updateLastVolume_(e)
            }),
            n.on(e, "volumechange", function(e) {
                return n.updateARIAAttributes(e)
            }),
            e.ready(function() {
                return n.updateARIAAttributes()
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            return i.prototype.createEl.call(this, "div", {
                className: "vjs-volume-bar vjs-slider-bar"
            }, {
                "aria-label": this.localize("Volume Level"),
                "aria-live": "polite"
            })
        }
        ,
        t.handleMouseDown = function(e) {
            it(e) && i.prototype.handleMouseDown.call(this, e)
        }
        ,
        t.handleMouseMove = function(e) {
            var t = this.getChild("mouseVolumeLevelDisplay");
            if (t) {
                var n = this.el()
                  , i = Ye(n)
                  , r = this.vertical()
                  , a = Ze(n, e);
                a = r ? a.y : a.x,
                a = Si(a, 0, 1),
                t.update(i, a, r)
            }
            it(e) && (this.checkMuted(),
            this.player_.volume(this.calculateDistance(e)))
        }
        ,
        t.checkMuted = function() {
            this.player_.muted() && this.player_.muted(!1)
        }
        ,
        t.getPercent = function() {
            return this.player_.muted() ? 0 : this.player_.volume()
        }
        ,
        t.stepForward = function() {
            this.checkMuted(),
            this.player_.volume(this.player_.volume() + .1)
        }
        ,
        t.stepBack = function() {
            this.checkMuted(),
            this.player_.volume(this.player_.volume() - .1)
        }
        ,
        t.updateARIAAttributes = function(e) {
            var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
            this.el_.setAttribute("aria-valuenow", t),
            this.el_.setAttribute("aria-valuetext", t + "%")
        }
        ,
        t.volumeAsPercentage_ = function() {
            return Math.round(100 * this.player_.volume())
        }
        ,
        t.updateLastVolume_ = function() {
            var e = this
              , t = this.player_.volume();
            this.one("sliderinactive", function() {
                0 === e.player_.volume() && e.player_.lastVolume_(t)
            })
        }
        ,
        e
    }(Ei);
    Bi.prototype.options_ = {
        children: ["volumeLevel"],
        barName: "volumeLevel"
    },
    Ce || pe || Bi.prototype.options_.children.splice(0, 0, "mouseVolumeLevelDisplay"),
    Bi.prototype.playerEvent = "volumechange",
    Jt.registerComponent("VolumeBar", Bi);
    var Ui = function(i) {
        function e(e, t) {
            var n;
            return void 0 === t && (t = {}),
            t.vertical = t.vertical || !1,
            void 0 !== t.volumeBar && !ne(t.volumeBar) || (t.volumeBar = t.volumeBar || {},
            t.volumeBar.vertical = t.vertical),
            n = i.call(this, e, t) || this,
            function(e, t) {
                t.tech_ && !t.tech_.featuresVolumeControl && e.addClass("vjs-hidden"),
                e.on(t, "loadstart", function() {
                    t.tech_.featuresVolumeControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                })
            }(P.default(n), e),
            n.throttledHandleMouseMove = At(Pt(P.default(n), n.handleMouseMove), 30),
            n.handleMouseUpHandler_ = function(e) {
                return n.handleMouseUp(e)
            }
            ,
            n.on("mousedown", function(e) {
                return n.handleMouseDown(e)
            }),
            n.on("touchstart", function(e) {
                return n.handleMouseDown(e)
            }),
            n.on("mousemove", function(e) {
                return n.handleMouseMove(e)
            }),
            n.on(n.volumeBar, ["focus", "slideractive"], function() {
                n.volumeBar.addClass("vjs-slider-active"),
                n.addClass("vjs-slider-active"),
                n.trigger("slideractive")
            }),
            n.on(n.volumeBar, ["blur", "sliderinactive"], function() {
                n.volumeBar.removeClass("vjs-slider-active"),
                n.removeClass("vjs-slider-active"),
                n.trigger("sliderinactive")
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            var e = "vjs-volume-horizontal";
            return this.options_.vertical && (e = "vjs-volume-vertical"),
            i.prototype.createEl.call(this, "div", {
                className: "vjs-volume-control vjs-control " + e
            })
        }
        ,
        t.handleMouseDown = function(e) {
            var t = this.el_.ownerDocument;
            this.on(t, "mousemove", this.throttledHandleMouseMove),
            this.on(t, "touchmove", this.throttledHandleMouseMove),
            this.on(t, "mouseup", this.handleMouseUpHandler_),
            this.on(t, "touchend", this.handleMouseUpHandler_)
        }
        ,
        t.handleMouseUp = function(e) {
            var t = this.el_.ownerDocument;
            this.off(t, "mousemove", this.throttledHandleMouseMove),
            this.off(t, "touchmove", this.throttledHandleMouseMove),
            this.off(t, "mouseup", this.handleMouseUpHandler_),
            this.off(t, "touchend", this.handleMouseUpHandler_)
        }
        ,
        t.handleMouseMove = function(e) {
            this.volumeBar.handleMouseMove(e)
        }
        ,
        e
    }(Jt);
    Ui.prototype.options_ = {
        children: ["volumeBar"]
    },
    Jt.registerComponent("VolumeControl", Ui);
    var ji = function(i) {
        function e(e, t) {
            var n;
            return n = i.call(this, e, t) || this,
            function(e, t) {
                t.tech_ && !t.tech_.featuresMuteControl && e.addClass("vjs-hidden"),
                e.on(t, "loadstart", function() {
                    t.tech_.featuresMuteControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                })
            }(P.default(n), e),
            n.on(e, ["loadstart", "volumechange"], function(e) {
                return n.update(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-mute-control " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.handleClick = function(e) {
            var t = this.player_.volume()
              , n = this.player_.lastVolume_();
            if (0 === t) {
                var i = n < .1 ? .1 : n;
                this.player_.volume(i),
                this.player_.muted(!1)
            } else
                this.player_.muted(!this.player_.muted())
        }
        ,
        t.update = function(e) {
            this.updateIcon_(),
            this.updateControlText_()
        }
        ,
        t.updateIcon_ = function() {
            var e = this.player_.volume()
              , t = 3;
            Ce && this.player_.tech_ && this.player_.tech_.el_ && this.player_.muted(this.player_.tech_.el_.muted),
            0 === e || this.player_.muted() ? t = 0 : e < .33 ? t = 1 : e < .67 && (t = 2);
            for (var n = 0; n < 4; n++)
                je(this.el_, "vjs-vol-" + n);
            Ue(this.el_, "vjs-vol-" + t)
        }
        ,
        t.updateControlText_ = function() {
            var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
            this.controlText() !== e && this.controlText(e)
        }
        ,
        e
    }(ci);
    ji.prototype.controlText_ = "Mute",
    Jt.registerComponent("MuteToggle", ji);
    var zi = function(i) {
        function e(e, t) {
            var n;
            return void 0 === t && (t = {}),
            void 0 !== t.inline ? t.inline = t.inline : t.inline = !0,
            void 0 !== t.volumeControl && !ne(t.volumeControl) || (t.volumeControl = t.volumeControl || {},
            t.volumeControl.vertical = !t.inline),
            (n = i.call(this, e, t) || this).handleKeyPressHandler_ = function(e) {
                return n.handleKeyPress(e)
            }
            ,
            n.on(e, ["loadstart"], function(e) {
                return n.volumePanelState_(e)
            }),
            n.on(n.muteToggle, "keyup", function(e) {
                return n.handleKeyPress(e)
            }),
            n.on(n.volumeControl, "keyup", function(e) {
                return n.handleVolumeControlKeyUp(e)
            }),
            n.on("keydown", function(e) {
                return n.handleKeyPress(e)
            }),
            n.on("mouseover", function(e) {
                return n.handleMouseOver(e)
            }),
            n.on("mouseout", function(e) {
                return n.handleMouseOut(e)
            }),
            n.on(n.volumeControl, ["slideractive"], n.sliderActive_),
            n.on(n.volumeControl, ["sliderinactive"], n.sliderInactive_),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.sliderActive_ = function() {
            this.addClass("vjs-slider-active")
        }
        ,
        t.sliderInactive_ = function() {
            this.removeClass("vjs-slider-active")
        }
        ,
        t.volumePanelState_ = function() {
            this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"),
            this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only")
        }
        ,
        t.createEl = function() {
            var e = "vjs-volume-panel-horizontal";
            return this.options_.inline || (e = "vjs-volume-panel-vertical"),
            i.prototype.createEl.call(this, "div", {
                className: "vjs-volume-panel vjs-control " + e
            })
        }
        ,
        t.dispose = function() {
            this.handleMouseOut(),
            i.prototype.dispose.call(this)
        }
        ,
        t.handleVolumeControlKeyUp = function(e) {
            L.default.isEventKey(e, "Esc") && this.muteToggle.focus()
        }
        ,
        t.handleMouseOver = function(e) {
            this.addClass("vjs-hover"),
            St(M.default, "keyup", this.handleKeyPressHandler_)
        }
        ,
        t.handleMouseOut = function(e) {
            this.removeClass("vjs-hover"),
            Et(M.default, "keyup", this.handleKeyPressHandler_)
        }
        ,
        t.handleKeyPress = function(e) {
            L.default.isEventKey(e, "Esc") && this.handleMouseOut()
        }
        ,
        e
    }(Jt);
    zi.prototype.options_ = {
        children: ["muteToggle", "volumeControl"]
    },
    Jt.registerComponent("VolumePanel", zi);
    var Hi = function(i) {
        function e(e, t) {
            var n;
            return n = i.call(this, e, t) || this,
            t && (n.menuButton_ = t.menuButton),
            n.focusedChild_ = -1,
            n.on("keydown", function(e) {
                return n.handleKeyDown(e)
            }),
            n.boundHandleBlur_ = function(e) {
                return n.handleBlur(e)
            }
            ,
            n.boundHandleTapClick_ = function(e) {
                return n.handleTapClick(e)
            }
            ,
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.addEventListenerForItem = function(e) {
            e instanceof Jt && (this.on(e, "blur", this.boundHandleBlur_),
            this.on(e, ["tap", "click"], this.boundHandleTapClick_))
        }
        ,
        t.removeEventListenerForItem = function(e) {
            e instanceof Jt && (this.off(e, "blur", this.boundHandleBlur_),
            this.off(e, ["tap", "click"], this.boundHandleTapClick_))
        }
        ,
        t.removeChild = function(e) {
            "string" == typeof e && (e = this.getChild(e)),
            this.removeEventListenerForItem(e),
            i.prototype.removeChild.call(this, e)
        }
        ,
        t.addItem = function(e) {
            var t = this.addChild(e);
            t && this.addEventListenerForItem(t)
        }
        ,
        t.createEl = function() {
            var e = this.options_.contentElType || "ul";
            this.contentEl_ = De(e, {
                className: "vjs-menu-content"
            }),
            this.contentEl_.setAttribute("role", "menu");
            var t = i.prototype.createEl.call(this, "div", {
                append: this.contentEl_,
                className: "vjs-menu"
            });
            return t.appendChild(this.contentEl_),
            St(t, "click", function(e) {
                e.preventDefault(),
                e.stopImmediatePropagation()
            }),
            t
        }
        ,
        t.dispose = function() {
            this.contentEl_ = null,
            this.boundHandleBlur_ = null,
            this.boundHandleTapClick_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.handleBlur = function(e) {
            var t = e.relatedTarget || M.default.activeElement;
            if (!this.children().some(function(e) {
                return e.el() === t
            })) {
                var n = this.menuButton_;
                n && n.buttonPressed_ && t !== n.el().firstChild && n.unpressButton()
            }
        }
        ,
        t.handleTapClick = function(t) {
            if (this.menuButton_) {
                this.menuButton_.unpressButton();
                var e = this.children();
                if (!Array.isArray(e))
                    return;
                var n = e.filter(function(e) {
                    return e.el() === t.target
                })[0];
                if (!n)
                    return;
                "CaptionSettingsMenuItem" !== n.name() && this.menuButton_.focus()
            }
        }
        ,
        t.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Left") || L.default.isEventKey(e, "Down") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepForward()) : (L.default.isEventKey(e, "Right") || L.default.isEventKey(e, "Up")) && (e.preventDefault(),
            e.stopPropagation(),
            this.stepBack())
        }
        ,
        t.stepForward = function() {
            var e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1),
            this.focus(e)
        }
        ,
        t.stepBack = function() {
            var e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1),
            this.focus(e)
        }
        ,
        t.focus = function(e) {
            void 0 === e && (e = 0);
            var t = this.children().slice();
            t.length && t[0].hasClass("vjs-menu-title") && t.shift(),
            0 < t.length && (e < 0 ? e = 0 : e >= t.length && (e = t.length - 1),
            t[this.focusedChild_ = e].el_.focus())
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("Menu", Hi);
    var Vi = function(a) {
        function e(e, t) {
            var n;
            void 0 === t && (t = {}),
            (n = a.call(this, e, t) || this).menuButton_ = new ci(e,t),
            n.menuButton_.controlText(n.controlText_),
            n.menuButton_.el_.setAttribute("aria-haspopup", "true");
            var i = ci.prototype.buildCSSClass();
            n.menuButton_.el_.className = n.buildCSSClass() + " " + i,
            n.menuButton_.removeClass("vjs-control"),
            n.addChild(n.menuButton_),
            n.update(),
            n.enabled_ = !0;
            function r(e) {
                return n.handleClick(e)
            }
            return n.handleMenuKeyUp_ = function(e) {
                return n.handleMenuKeyUp(e)
            }
            ,
            n.on(n.menuButton_, "tap", r),
            n.on(n.menuButton_, "click", r),
            n.on(n.menuButton_, "keydown", function(e) {
                return n.handleKeyDown(e)
            }),
            n.on(n.menuButton_, "mouseenter", function() {
                n.addClass("vjs-hover"),
                n.menu.show(),
                St(M.default, "keyup", n.handleMenuKeyUp_)
            }),
            n.on("mouseleave", function(e) {
                return n.handleMouseLeave(e)
            }),
            n.on("keydown", function(e) {
                return n.handleSubmenuKeyDown(e)
            }),
            n
        }
        A.default(e, a);
        var t = e.prototype;
        return t.update = function() {
            var e = this.createMenu();
            this.menu && (this.menu.dispose(),
            this.removeChild(this.menu)),
            this.menu = e,
            this.addChild(e),
            this.buttonPressed_ = !1,
            this.menuButton_.el_.setAttribute("aria-expanded", "false"),
            this.items && this.items.length <= this.hideThreshold_ ? this.hide() : this.show()
        }
        ,
        t.createMenu = function() {
            var e = new Hi(this.player_,{
                menuButton: this
            });
            if (this.hideThreshold_ = 0,
            this.options_.title) {
                var t = De("li", {
                    className: "vjs-menu-title",
                    textContent: $t(this.options_.title),
                    tabIndex: -1
                })
                  , n = new Jt(this.player_,{
                    el: t
                });
                e.addItem(n)
            }
            if (this.items = this.createItems(),
            this.items)
                for (var i = 0; i < this.items.length; i++)
                    e.addItem(this.items[i]);
            return e
        }
        ,
        t.createItems = function() {}
        ,
        t.createEl = function() {
            return a.prototype.createEl.call(this, "div", {
                className: this.buildWrapperCSSClass()
            }, {})
        }
        ,
        t.buildWrapperCSSClass = function() {
            var e = "vjs-menu-button";
            return !0 === this.options_.inline ? e += "-inline" : e += "-popup",
            "vjs-menu-button " + e + " " + ci.prototype.buildCSSClass() + " " + a.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildCSSClass = function() {
            var e = "vjs-menu-button";
            return !0 === this.options_.inline ? e += "-inline" : e += "-popup",
            "vjs-menu-button " + e + " " + a.prototype.buildCSSClass.call(this)
        }
        ,
        t.controlText = function(e, t) {
            return void 0 === t && (t = this.menuButton_.el()),
            this.menuButton_.controlText(e, t)
        }
        ,
        t.dispose = function() {
            this.handleMouseLeave(),
            a.prototype.dispose.call(this)
        }
        ,
        t.handleClick = function(e) {
            this.buttonPressed_ ? this.unpressButton() : this.pressButton()
        }
        ,
        t.handleMouseLeave = function(e) {
            this.removeClass("vjs-hover"),
            Et(M.default, "keyup", this.handleMenuKeyUp_)
        }
        ,
        t.focus = function() {
            this.menuButton_.focus()
        }
        ,
        t.blur = function() {
            this.menuButton_.blur()
        }
        ,
        t.handleKeyDown = function(e) {
            L.default.isEventKey(e, "Esc") || L.default.isEventKey(e, "Tab") ? (this.buttonPressed_ && this.unpressButton(),
            L.default.isEventKey(e, "Tab") || (e.preventDefault(),
            this.menuButton_.focus())) : (L.default.isEventKey(e, "Up") || L.default.isEventKey(e, "Down")) && (this.buttonPressed_ || (e.preventDefault(),
            this.pressButton()))
        }
        ,
        t.handleMenuKeyUp = function(e) {
            (L.default.isEventKey(e, "Esc") || L.default.isEventKey(e, "Tab")) && this.removeClass("vjs-hover")
        }
        ,
        t.handleSubmenuKeyPress = function(e) {
            this.handleSubmenuKeyDown(e)
        }
        ,
        t.handleSubmenuKeyDown = function(e) {
            (L.default.isEventKey(e, "Esc") || L.default.isEventKey(e, "Tab")) && (this.buttonPressed_ && this.unpressButton(),
            L.default.isEventKey(e, "Tab") || (e.preventDefault(),
            this.menuButton_.focus()))
        }
        ,
        t.pressButton = function() {
            if (this.enabled_) {
                if (this.buttonPressed_ = !0,
                this.menu.show(),
                this.menu.lockShowing(),
                this.menuButton_.el_.setAttribute("aria-expanded", "true"),
                Ce && Oe())
                    return;
                this.menu.focus()
            }
        }
        ,
        t.unpressButton = function() {
            this.enabled_ && (this.buttonPressed_ = !1,
            this.menu.unlockShowing(),
            this.menu.hide(),
            this.menuButton_.el_.setAttribute("aria-expanded", "false"))
        }
        ,
        t.disable = function() {
            this.unpressButton(),
            this.enabled_ = !1,
            this.addClass("vjs-disabled"),
            this.menuButton_.disable()
        }
        ,
        t.enable = function() {
            this.enabled_ = !0,
            this.removeClass("vjs-disabled"),
            this.menuButton_.enable()
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("MenuButton", Vi);
    var Gi = function(a) {
        function e(e, t) {
            var n, i = t.tracks;
            if ((n = a.call(this, e, t) || this).items.length <= 1 && n.hide(),
            !i)
                return P.default(n);
            var r = Pt(P.default(n), n.update);
            return i.addEventListener("removetrack", r),
            i.addEventListener("addtrack", r),
            i.addEventListener("labelchange", r),
            n.player_.on("ready", r),
            n.player_.on("dispose", function() {
                i.removeEventListener("removetrack", r),
                i.removeEventListener("addtrack", r),
                i.removeEventListener("labelchange", r)
            }),
            n
        }
        return A.default(e, a),
        e
    }(Vi);
    Jt.registerComponent("TrackButton", Gi);
    var Wi = ["Tab", "Esc", "Up", "Down", "Right", "Left"]
      , qi = function(r) {
        function e(e, t) {
            var n;
            return (n = r.call(this, e, t) || this).selectable = t.selectable,
            n.isSelected_ = t.selected || !1,
            n.multiSelectable = t.multiSelectable,
            n.selected(n.isSelected_),
            n.selectable ? n.multiSelectable ? n.el_.setAttribute("role", "menuitemcheckbox") : n.el_.setAttribute("role", "menuitemradio") : n.el_.setAttribute("role", "menuitem"),
            n
        }
        A.default(e, r);
        var t = e.prototype;
        return t.createEl = function(e, t, n) {
            this.nonIconControl = !0;
            var i = r.prototype.createEl.call(this, "li", ee({
                className: "vjs-menu-item",
                tabIndex: -1
            }, t), n);
            return i.replaceChild(De("span", {
                className: "vjs-menu-item-text",
                textContent: this.localize(this.options_.label)
            }), i.querySelector(".vjs-icon-placeholder")),
            i
        }
        ,
        t.handleKeyDown = function(t) {
            Wi.some(function(e) {
                return L.default.isEventKey(t, e)
            }) || r.prototype.handleKeyDown.call(this, t)
        }
        ,
        t.handleClick = function(e) {
            this.selected(!0)
        }
        ,
        t.selected = function(e) {
            this.selectable && (e ? (this.addClass("vjs-selected"),
            this.el_.setAttribute("aria-checked", "true"),
            this.controlText(", selected"),
            this.isSelected_ = !0) : (this.removeClass("vjs-selected"),
            this.el_.setAttribute("aria-checked", "false"),
            this.controlText(""),
            this.isSelected_ = !1))
        }
        ,
        e
    }(ii);
    Jt.registerComponent("MenuItem", qi);
    var $i = function(l) {
        function e(e, t) {
            var i, n = t.track, r = e.textTracks();
            t.label = n.label || n.language || "Unknown",
            t.selected = "showing" === n.mode,
            (i = l.call(this, e, t) || this).track = n,
            i.kinds = (t.kinds || [t.kind || i.track.kind]).filter(Boolean);
            function a() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                i.handleTracksChange.apply(P.default(i), t)
            }
            function o() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                i.handleSelectedLanguageChange.apply(P.default(i), t)
            }
            var s;
            e.on(["loadstart", "texttrackchange"], a),
            r.addEventListener("change", a),
            r.addEventListener("selectedlanguagechange", o),
            i.on("dispose", function() {
                e.off(["loadstart", "texttrackchange"], a),
                r.removeEventListener("change", a),
                r.removeEventListener("selectedlanguagechange", o)
            }),
            void 0 === r.onchange && i.on(["tap", "click"], function() {
                if ("object" != typeof C.default.Event)
                    try {
                        s = new C.default.Event("change")
                    } catch (e) {}
                s || (s = M.default.createEvent("Event")).initEvent("change", !0, !0),
                r.dispatchEvent(s)
            });
            return i.handleTracksChange(),
            i
        }
        A.default(e, l);
        var t = e.prototype;
        return t.handleClick = function(e) {
            var t = this.track
              , n = this.player_.textTracks();
            if (l.prototype.handleClick.call(this, e),
            n)
                for (var i = 0; i < n.length; i++) {
                    var r = n[i];
                    -1 !== this.kinds.indexOf(r.kind) && (r === t ? "showing" !== r.mode && (r.mode = "showing") : "disabled" !== r.mode && (r.mode = "disabled"))
                }
        }
        ,
        t.handleTracksChange = function(e) {
            var t = "showing" === this.track.mode;
            t !== this.isSelected_ && this.selected(t)
        }
        ,
        t.handleSelectedLanguageChange = function(e) {
            if ("showing" === this.track.mode) {
                var t = this.player_.cache_.selectedLanguage;
                if (t && t.enabled && t.language === this.track.language && t.kind !== this.track.kind)
                    return;
                this.player_.cache_.selectedLanguage = {
                    enabled: !0,
                    language: this.track.language,
                    kind: this.track.kind
                }
            }
        }
        ,
        t.dispose = function() {
            this.track = null,
            l.prototype.dispose.call(this)
        }
        ,
        e
    }(qi);
    Jt.registerComponent("TextTrackMenuItem", $i);
    var Xi = function(n) {
        function e(e, t) {
            return t.track = {
                player: e,
                kind: t.kind,
                kinds: t.kinds,
                default: !1,
                mode: "disabled"
            },
            t.kinds || (t.kinds = [t.kind]),
            t.label ? t.track.label = t.label : t.track.label = t.kinds.join(" and ") + " off",
            t.selectable = !0,
            t.multiSelectable = !1,
            n.call(this, e, t) || this
        }
        A.default(e, n);
        var t = e.prototype;
        return t.handleTracksChange = function(e) {
            for (var t = this.player().textTracks(), n = !0, i = 0, r = t.length; i < r; i++) {
                var a = t[i];
                if (-1 < this.options_.kinds.indexOf(a.kind) && "showing" === a.mode) {
                    n = !1;
                    break
                }
            }
            n !== this.isSelected_ && this.selected(n)
        }
        ,
        t.handleSelectedLanguageChange = function(e) {
            for (var t = this.player().textTracks(), n = !0, i = 0, r = t.length; i < r; i++) {
                var a = t[i];
                if (-1 < ["captions", "descriptions", "subtitles"].indexOf(a.kind) && "showing" === a.mode) {
                    n = !1;
                    break
                }
            }
            n && (this.player_.cache_.selectedLanguage = {
                enabled: !1
            })
        }
        ,
        e
    }($i);
    Jt.registerComponent("OffTextTrackMenuItem", Xi);
    var Yi = function(n) {
        function e(e, t) {
            return void 0 === t && (t = {}),
            t.tracks = e.textTracks(),
            n.call(this, e, t) || this
        }
        return A.default(e, n),
        e.prototype.createItems = function(e, t) {
            var n;
            void 0 === e && (e = []),
            void 0 === t && (t = $i),
            this.label_ && (n = this.label_ + " off"),
            e.push(new Xi(this.player_,{
                kinds: this.kinds_,
                kind: this.kind_,
                label: n
            })),
            this.hideThreshold_ += 1;
            var i = this.player_.textTracks();
            Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
            for (var r = 0; r < i.length; r++) {
                var a = i[r];
                if (-1 < this.kinds_.indexOf(a.kind)) {
                    var o = new t(this.player_,{
                        track: a,
                        kinds: this.kinds_,
                        kind: this.kind_,
                        selectable: !0,
                        multiSelectable: !1
                    });
                    o.addClass("vjs-" + a.kind + "-menu-item"),
                    e.push(o)
                }
            }
            return e
        }
        ,
        e
    }(Gi);
    Jt.registerComponent("TextTrackButton", Yi);
    var Ki = function(o) {
        function e(e, t) {
            var n, i = t.track, r = t.cue, a = e.currentTime();
            return t.selectable = !0,
            t.multiSelectable = !1,
            t.label = r.text,
            t.selected = r.startTime <= a && a < r.endTime,
            (n = o.call(this, e, t) || this).track = i,
            n.cue = r,
            i.addEventListener("cuechange", Pt(P.default(n), n.update)),
            n
        }
        A.default(e, o);
        var t = e.prototype;
        return t.handleClick = function(e) {
            o.prototype.handleClick.call(this),
            this.player_.currentTime(this.cue.startTime),
            this.update(this.cue.startTime)
        }
        ,
        t.update = function(e) {
            var t = this.cue
              , n = this.player_.currentTime();
            this.selected(t.startTime <= n && n < t.endTime)
        }
        ,
        e
    }(qi);
    Jt.registerComponent("ChaptersTrackMenuItem", Ki);
    var Zi = function(i) {
        function e(e, t, n) {
            return i.call(this, e, t, n) || this
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-chapters-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-chapters-button " + i.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        t.update = function(e) {
            this.track_ && (!e || "addtrack" !== e.type && "removetrack" !== e.type) || this.setTrack(this.findChaptersTrack()),
            i.prototype.update.call(this)
        }
        ,
        t.setTrack = function(e) {
            if (this.track_ !== e) {
                if (this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)),
                this.track_) {
                    var t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                    t && t.removeEventListener("load", this.updateHandler_),
                    this.track_ = null
                }
                if (this.track_ = e,
                this.track_) {
                    this.track_.mode = "hidden";
                    var n = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                    n && n.addEventListener("load", this.updateHandler_)
                }
            }
        }
        ,
        t.findChaptersTrack = function() {
            for (var e = this.player_.textTracks() || [], t = e.length - 1; 0 <= t; t--) {
                var n = e[t];
                if (n.kind === this.kind_)
                    return n
            }
        }
        ,
        t.getMenuCaption = function() {
            return this.track_ && this.track_.label ? this.track_.label : this.localize($t(this.kind_))
        }
        ,
        t.createMenu = function() {
            return this.options_.title = this.getMenuCaption(),
            i.prototype.createMenu.call(this)
        }
        ,
        t.createItems = function() {
            var e = [];
            if (!this.track_)
                return e;
            var t = this.track_.cues;
            if (!t)
                return e;
            for (var n = 0, i = t.length; n < i; n++) {
                var r = t[n]
                  , a = new Ki(this.player_,{
                    track: this.track_,
                    cue: r
                });
                e.push(a)
            }
            return e
        }
        ,
        e
    }(Yi);
    Zi.prototype.kind_ = "chapters",
    Zi.prototype.controlText_ = "Chapters",
    Jt.registerComponent("ChaptersButton", Zi);
    var Qi = function(o) {
        function e(e, t, n) {
            var i;
            i = o.call(this, e, t, n) || this;
            var r = e.textTracks()
              , a = Pt(P.default(i), i.handleTracksChange);
            return r.addEventListener("change", a),
            i.on("dispose", function() {
                r.removeEventListener("change", a)
            }),
            i
        }
        A.default(e, o);
        var t = e.prototype;
        return t.handleTracksChange = function(e) {
            for (var t = this.player().textTracks(), n = !1, i = 0, r = t.length; i < r; i++) {
                var a = t[i];
                if (a.kind !== this.kind_ && "showing" === a.mode) {
                    n = !0;
                    break
                }
            }
            n ? this.disable() : this.enable()
        }
        ,
        t.buildCSSClass = function() {
            return "vjs-descriptions-button " + o.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-descriptions-button " + o.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        e
    }(Yi);
    Qi.prototype.kind_ = "descriptions",
    Qi.prototype.controlText_ = "Descriptions",
    Jt.registerComponent("DescriptionsButton", Qi);
    var Ji = function(i) {
        function e(e, t, n) {
            return i.call(this, e, t, n) || this
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-subtitles-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-subtitles-button " + i.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        e
    }(Yi);
    Ji.prototype.kind_ = "subtitles",
    Ji.prototype.controlText_ = "Subtitles",
    Jt.registerComponent("SubtitlesButton", Ji);
    var er = function(i) {
        function e(e, t) {
            var n;
            return t.track = {
                player: e,
                kind: t.kind,
                label: t.kind + " settings",
                selectable: !1,
                default: !1,
                mode: "disabled"
            },
            t.selectable = !1,
            t.name = "CaptionSettingsMenuItem",
            (n = i.call(this, e, t) || this).addClass("vjs-texttrack-settings"),
            n.controlText(", opens " + t.kind + " settings dialog"),
            n
        }
        return A.default(e, i),
        e.prototype.handleClick = function(e) {
            this.player().getChild("textTrackSettings").open()
        }
        ,
        e
    }($i);
    Jt.registerComponent("CaptionSettingsMenuItem", er);
    var tr = function(i) {
        function e(e, t, n) {
            return i.call(this, e, t, n) || this
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-captions-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-captions-button " + i.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        t.createItems = function() {
            var e = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (e.push(new er(this.player_,{
                kind: this.kind_
            })),
            this.hideThreshold_ += 1),
            i.prototype.createItems.call(this, e)
        }
        ,
        e
    }(Yi);
    tr.prototype.kind_ = "captions",
    tr.prototype.controlText_ = "Captions",
    Jt.registerComponent("CaptionsButton", tr);
    var nr = function(a) {
        function e() {
            return a.apply(this, arguments) || this
        }
        return A.default(e, a),
        e.prototype.createEl = function(e, t, n) {
            var i = a.prototype.createEl.call(this, e, t, n)
              , r = i.querySelector(".vjs-menu-item-text");
            return "captions" === this.options_.track.kind && (r.appendChild(De("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            r.appendChild(De("span", {
                className: "vjs-control-text",
                textContent: " " + this.localize("Captions")
            }))),
            i
        }
        ,
        e
    }($i);
    Jt.registerComponent("SubsCapsMenuItem", nr);
    var ir = function(i) {
        function e(e, t) {
            var n;
            return void 0 === t && (t = {}),
            (n = i.call(this, e, t) || this).label_ = "subtitles",
            -1 < ["en", "en-us", "en-ca", "fr-ca"].indexOf(n.player_.language_) && (n.label_ = "captions"),
            n.menuButton_.controlText($t(n.label_)),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-subs-caps-button " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-subs-caps-button " + i.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        t.createItems = function() {
            var e = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (e.push(new er(this.player_,{
                kind: this.label_
            })),
            this.hideThreshold_ += 1),
            e = i.prototype.createItems.call(this, e, nr)
        }
        ,
        e
    }(Yi);
    ir.prototype.kinds_ = ["captions", "subtitles"],
    ir.prototype.controlText_ = "Subtitles",
    Jt.registerComponent("SubsCapsButton", ir);
    var rr = function(o) {
        function e(e, t) {
            var i, n = t.track, r = e.audioTracks();
            t.label = n.label || n.language || "Unknown",
            t.selected = n.enabled,
            (i = o.call(this, e, t) || this).track = n,
            i.addClass("vjs-" + n.kind + "-menu-item");
            function a() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                i.handleTracksChange.apply(P.default(i), t)
            }
            return r.addEventListener("change", a),
            i.on("dispose", function() {
                r.removeEventListener("change", a)
            }),
            i
        }
        A.default(e, o);
        var t = e.prototype;
        return t.createEl = function(e, t, n) {
            var i = o.prototype.createEl.call(this, e, t, n)
              , r = i.querySelector(".vjs-menu-item-text");
            return "main-desc" === this.options_.track.kind && (r.appendChild(o.prototype.createEl.call(this, "span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            r.appendChild(o.prototype.createEl.call(this, "span", {
                className: "vjs-control-text",
                textContent: this.localize("Descriptions")
            }))),
            i
        }
        ,
        t.handleClick = function(e) {
            o.prototype.handleClick.call(this, e),
            this.track.enabled = !0
        }
        ,
        t.handleTracksChange = function(e) {
            this.selected(this.track.enabled)
        }
        ,
        e
    }(qi);
    Jt.registerComponent("AudioTrackMenuItem", rr);
    var ar = function(n) {
        function e(e, t) {
            return void 0 === t && (t = {}),
            t.tracks = e.audioTracks(),
            n.call(this, e, t) || this
        }
        A.default(e, n);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-audio-button " + n.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-audio-button " + n.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        t.createItems = function(e) {
            void 0 === e && (e = []),
            this.hideThreshold_ = 1;
            for (var t = this.player_.audioTracks(), n = 0; n < t.length; n++) {
                var i = t[n];
                e.push(new rr(this.player_,{
                    track: i,
                    selectable: !0,
                    multiSelectable: !1
                }))
            }
            return e
        }
        ,
        e
    }(Gi);
    ar.prototype.controlText_ = "Audio Track",
    Jt.registerComponent("AudioTrackButton", ar);
    var or = function(a) {
        function e(e, t) {
            var n, i = t.rate, r = parseFloat(i, 10);
            return t.label = i,
            t.selected = r === e.playbackRate(),
            t.selectable = !0,
            t.multiSelectable = !1,
            (n = a.call(this, e, t) || this).label = i,
            n.rate = r,
            n.on(e, "ratechange", function(e) {
                return n.update(e)
            }),
            n
        }
        A.default(e, a);
        var t = e.prototype;
        return t.handleClick = function(e) {
            a.prototype.handleClick.call(this),
            this.player().playbackRate(this.rate)
        }
        ,
        t.update = function(e) {
            this.selected(this.player().playbackRate() === this.rate)
        }
        ,
        e
    }(qi);
    or.prototype.contentElType = "button",
    Jt.registerComponent("PlaybackRateMenuItem", or);
    var sr = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).menuButton_.el_.setAttribute("aria-describedby", n.labelElId_),
            n.updateVisibility(),
            n.updateLabel(),
            n.on(e, "loadstart", function(e) {
                return n.updateVisibility(e)
            }),
            n.on(e, "ratechange", function(e) {
                return n.updateLabel(e)
            }),
            n.on(e, "playbackrateschange", function(e) {
                return n.handlePlaybackRateschange(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createEl = function() {
            var e = i.prototype.createEl.call(this);
            return this.labelElId_ = "vjs-playback-rate-value-label-" + this.id_,
            this.labelEl_ = De("div", {
                className: "vjs-playback-rate-value",
                id: this.labelElId_,
                textContent: "1x"
            }),
            e.appendChild(this.labelEl_),
            e
        }
        ,
        t.dispose = function() {
            this.labelEl_ = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.buildCSSClass = function() {
            return "vjs-playback-rate " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.buildWrapperCSSClass = function() {
            return "vjs-playback-rate " + i.prototype.buildWrapperCSSClass.call(this)
        }
        ,
        t.createItems = function() {
            for (var e = this.playbackRates(), t = [], n = e.length - 1; 0 <= n; n--)
                t.push(new or(this.player(),{
                    rate: e[n] + "x"
                }));
            return t
        }
        ,
        t.updateARIAAttributes = function() {
            this.el().setAttribute("aria-valuenow", this.player().playbackRate())
        }
        ,
        t.handleClick = function(e) {
            for (var t = this.player().playbackRate(), n = this.playbackRates(), i = n[0], r = 0; r < n.length; r++)
                if (n[r] > t) {
                    i = n[r];
                    break
                }
            this.player().playbackRate(i)
        }
        ,
        t.handlePlaybackRateschange = function(e) {
            this.update()
        }
        ,
        t.playbackRates = function() {
            var e = this.player();
            return e.playbackRates && e.playbackRates() || []
        }
        ,
        t.playbackRateSupported = function() {
            return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && 0 < this.playbackRates().length
        }
        ,
        t.updateVisibility = function(e) {
            this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
        }
        ,
        t.updateLabel = function(e) {
            this.playbackRateSupported() && (this.labelEl_.textContent = this.player().playbackRate() + "x")
        }
        ,
        e
    }(Vi);
    sr.prototype.controlText_ = "Playback Rate",
    Jt.registerComponent("PlaybackRateMenuButton", sr);
    var lr = function(i) {
        function e() {
            return i.apply(this, arguments) || this
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-spacer " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.createEl = function(e, t, n) {
            return void 0 === e && (e = "div"),
            void 0 === t && (t = {}),
            void 0 === n && (n = {}),
            t.className || (t.className = this.buildCSSClass()),
            i.prototype.createEl.call(this, e, t, n)
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("Spacer", lr);
    var ur = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        A.default(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this)
        }
        ,
        n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: this.buildCSSClass(),
                textContent: " "
            })
        }
        ,
        t
    }(lr);
    Jt.registerComponent("CustomControlSpacer", ur);
    var cr = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return A.default(t, e),
        t.prototype.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-control-bar",
                dir: "ltr"
            })
        }
        ,
        t
    }(Jt);
    cr.prototype.options_ = {
        children: ["playToggle", "volumePanel", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "seekToLive", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subsCapsButton", "audioTrackButton", "fullscreenToggle"]
    },
    "exitPictureInPicture"in M.default && cr.prototype.options_.children.splice(cr.prototype.options_.children.length - 1, 0, "pictureInPictureToggle"),
    Jt.registerComponent("ControlBar", cr);
    var hr = function(i) {
        function e(e, t) {
            var n;
            return (n = i.call(this, e, t) || this).on(e, "error", function(e) {
                return n.open(e)
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.buildCSSClass = function() {
            return "vjs-error-display " + i.prototype.buildCSSClass.call(this)
        }
        ,
        t.content = function() {
            var e = this.player().error();
            return e ? this.localize(e.message) : ""
        }
        ,
        e
    }(pn);
    hr.prototype.options_ = k.default({}, pn.prototype.options_, {
        pauseOnOpen: !1,
        fillAlways: !0,
        temporary: !1,
        uncloseable: !0
    }),
    Jt.registerComponent("ErrorDisplay", hr);
    var dr = "vjs-text-track-settings"
      , pr = ["#000", "Black"]
      , fr = ["#00F", "Blue"]
      , mr = ["#0FF", "Cyan"]
      , gr = ["#0F0", "Green"]
      , vr = ["#F0F", "Magenta"]
      , yr = ["#F00", "Red"]
      , br = ["#FFF", "White"]
      , _r = ["#FF0", "Yellow"]
      , wr = ["1", "Opaque"]
      , xr = ["0.5", "Semi-Transparent"]
      , Tr = ["0", "Transparent"]
      , Sr = {
        backgroundColor: {
            selector: ".vjs-bg-color > select",
            id: "captions-background-color-%s",
            label: "Color",
            options: [pr, br, yr, gr, fr, _r, vr, mr]
        },
        backgroundOpacity: {
            selector: ".vjs-bg-opacity > select",
            id: "captions-background-opacity-%s",
            label: "Transparency",
            options: [wr, xr, Tr]
        },
        color: {
            selector: ".vjs-fg-color > select",
            id: "captions-foreground-color-%s",
            label: "Color",
            options: [br, pr, yr, gr, fr, _r, vr, mr]
        },
        edgeStyle: {
            selector: ".vjs-edge-style > select",
            id: "%s",
            label: "Text Edge Style",
            options: [["none", "None"], ["raised", "Raised"], ["depressed", "Depressed"], ["uniform", "Uniform"], ["dropshadow", "Dropshadow"]]
        },
        fontFamily: {
            selector: ".vjs-font-family > select",
            id: "captions-font-family-%s",
            label: "Font Family",
            options: [["proportionalSansSerif", "Proportional Sans-Serif"], ["monospaceSansSerif", "Monospace Sans-Serif"], ["proportionalSerif", "Proportional Serif"], ["monospaceSerif", "Monospace Serif"], ["casual", "Casual"], ["script", "Script"], ["small-caps", "Small Caps"]]
        },
        fontPercent: {
            selector: ".vjs-font-percent > select",
            id: "captions-font-size-%s",
            label: "Font Size",
            options: [["0.50", "50%"], ["0.75", "75%"], ["1.00", "100%"], ["1.25", "125%"], ["1.50", "150%"], ["1.75", "175%"], ["2.00", "200%"], ["3.00", "300%"], ["4.00", "400%"]],
            default: 2,
            parser: function(e) {
                return "1.00" === e ? null : Number(e)
            }
        },
        textOpacity: {
            selector: ".vjs-text-opacity > select",
            id: "captions-foreground-opacity-%s",
            label: "Transparency",
            options: [wr, xr]
        },
        windowColor: {
            selector: ".vjs-window-color > select",
            id: "captions-window-color-%s",
            label: "Color"
        },
        windowOpacity: {
            selector: ".vjs-window-opacity > select",
            id: "captions-window-opacity-%s",
            label: "Transparency",
            options: [Tr, xr, wr]
        }
    };
    function Er(e, t) {
        if (t && (e = t(e)),
        e && "none" !== e)
            return e
    }
    Sr.windowColor.options = Sr.backgroundColor.options;
    var Cr = function(i) {
        function e(e, t) {
            var n;
            return t.temporary = !1,
            (n = i.call(this, e, t) || this).updateDisplay = n.updateDisplay.bind(P.default(n)),
            n.fill(),
            n.hasBeenOpened_ = n.hasBeenFilled_ = !0,
            n.endDialog = De("p", {
                className: "vjs-control-text",
                textContent: n.localize("End of dialog window.")
            }),
            n.el().appendChild(n.endDialog),
            n.setDefaults(),
            void 0 === t.persistTextTrackSettings && (n.options_.persistTextTrackSettings = n.options_.playerOptions.persistTextTrackSettings),
            n.on(n.$(".vjs-done-button"), "click", function() {
                n.saveSettings(),
                n.close()
            }),
            n.on(n.$(".vjs-default-button"), "click", function() {
                n.setDefaults(),
                n.updateDisplay()
            }),
            J(Sr, function(e) {
                n.on(n.$(e.selector), "change", n.updateDisplay)
            }),
            n.options_.persistTextTrackSettings && n.restoreSettings(),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.dispose = function() {
            this.endDialog = null,
            i.prototype.dispose.call(this)
        }
        ,
        t.createElSelect_ = function(e, t, n) {
            var i = this;
            void 0 === t && (t = ""),
            void 0 === n && (n = "label");
            var r = Sr[e]
              , a = r.id.replace("%s", this.id_)
              , o = [t, a].join(" ").trim();
            return ["<" + n + ' id="' + a + '" class="' + ("label" === n ? "vjs-label" : "") + '">', this.localize(r.label), "</" + n + ">", '<select aria-labelledby="' + o + '">'].concat(r.options.map(function(e) {
                var t = a + "-" + e[1].replace(/\W+/g, "");
                return ['<option id="' + t + '" value="' + e[0] + '" ', 'aria-labelledby="' + o + " " + t + '">', i.localize(e[1]), "</option>"].join("")
            })).concat("</select>").join("")
        }
        ,
        t.createElFgColor_ = function() {
            var e = "captions-text-legend-" + this.id_;
            return ['<fieldset class="vjs-fg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Text"), "</legend>", this.createElSelect_("color", e), '<span class="vjs-text-opacity vjs-opacity">', this.createElSelect_("textOpacity", e), "</span>", "</fieldset>"].join("")
        }
        ,
        t.createElBgColor_ = function() {
            var e = "captions-background-" + this.id_;
            return ['<fieldset class="vjs-bg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Background"), "</legend>", this.createElSelect_("backgroundColor", e), '<span class="vjs-bg-opacity vjs-opacity">', this.createElSelect_("backgroundOpacity", e), "</span>", "</fieldset>"].join("")
        }
        ,
        t.createElWinColor_ = function() {
            var e = "captions-window-" + this.id_;
            return ['<fieldset class="vjs-window-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Window"), "</legend>", this.createElSelect_("windowColor", e), '<span class="vjs-window-opacity vjs-opacity">', this.createElSelect_("windowOpacity", e), "</span>", "</fieldset>"].join("")
        }
        ,
        t.createElColors_ = function() {
            return De("div", {
                className: "vjs-track-settings-colors",
                innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("")
            })
        }
        ,
        t.createElFont_ = function() {
            return De("div", {
                className: "vjs-track-settings-font",
                innerHTML: ['<fieldset class="vjs-font-percent vjs-track-setting">', this.createElSelect_("fontPercent", "", "legend"), "</fieldset>", '<fieldset class="vjs-edge-style vjs-track-setting">', this.createElSelect_("edgeStyle", "", "legend"), "</fieldset>", '<fieldset class="vjs-font-family vjs-track-setting">', this.createElSelect_("fontFamily", "", "legend"), "</fieldset>"].join("")
            })
        }
        ,
        t.createElControls_ = function() {
            var e = this.localize("restore all settings to the default values");
            return De("div", {
                className: "vjs-track-settings-controls",
                innerHTML: ['<button type="button" class="vjs-default-button" title="' + e + '">', this.localize("Reset"), '<span class="vjs-control-text"> ' + e + "</span>", "</button>", '<button type="button" class="vjs-done-button">' + this.localize("Done") + "</button>"].join("")
            })
        }
        ,
        t.content = function() {
            return [this.createElColors_(), this.createElFont_(), this.createElControls_()]
        }
        ,
        t.label = function() {
            return this.localize("Caption Settings Dialog")
        }
        ,
        t.description = function() {
            return this.localize("Beginning of dialog window. Escape will cancel and close the window.")
        }
        ,
        t.buildCSSClass = function() {
            return i.prototype.buildCSSClass.call(this) + " vjs-text-track-settings"
        }
        ,
        t.getValues = function() {
            var r = this;
            return function(n, i, e) {
                return void 0 === e && (e = 0),
                Q(n).reduce(function(e, t) {
                    return i(e, n[t], t)
                }, e)
            }(Sr, function(e, t, n) {
                var i = function(e, t) {
                    return Er(e.options[e.options.selectedIndex].value, t)
                }(r.$(t.selector), t.parser);
                return void 0 !== i && (e[n] = i),
                e
            }, {})
        }
        ,
        t.setValues = function(n) {
            var i = this;
            J(Sr, function(e, t) {
                !function(e, t, n) {
                    if (t)
                        for (var i = 0; i < e.options.length; i++)
                            if (Er(e.options[i].value, n) === t) {
                                e.selectedIndex = i;
                                break
                            }
                }(i.$(e.selector), n[t], e.parser)
            })
        }
        ,
        t.setDefaults = function() {
            var n = this;
            J(Sr, function(e) {
                var t = e.hasOwnProperty("default") ? e.default : 0;
                n.$(e.selector).selectedIndex = t
            })
        }
        ,
        t.restoreSettings = function() {
            var e;
            try {
                e = JSON.parse(C.default.localStorage.getItem(dr))
            } catch (e) {
                Y.warn(e)
            }
            e && this.setValues(e)
        }
        ,
        t.saveSettings = function() {
            if (this.options_.persistTextTrackSettings) {
                var e = this.getValues();
                try {
                    Object.keys(e).length ? C.default.localStorage.setItem(dr, JSON.stringify(e)) : C.default.localStorage.removeItem(dr)
                } catch (e) {
                    Y.warn(e)
                }
            }
        }
        ,
        t.updateDisplay = function() {
            var e = this.player_.getChild("textTrackDisplay");
            e && e.updateDisplay()
        }
        ,
        t.conditionalBlur_ = function() {
            this.previouslyActiveEl_ = null;
            var e = this.player_.controlBar
              , t = e && e.subsCapsButton
              , n = e && e.captionsButton;
            t ? t.focus() : n && n.focus()
        }
        ,
        e
    }(pn);
    Jt.registerComponent("TextTrackSettings", Cr);
    var Mr = function(a) {
        function e(e, t) {
            var n, i = t.ResizeObserver || C.default.ResizeObserver;
            null === t.ResizeObserver && (i = !1);
            var r = Xt({
                createEl: !i,
                reportTouchActivity: !1
            }, t);
            return (n = a.call(this, e, r) || this).ResizeObserver = t.ResizeObserver || C.default.ResizeObserver,
            n.loadListener_ = null,
            n.resizeObserver_ = null,
            n.debouncedHandler_ = function(i, r, a, o) {
                var s;
                void 0 === o && (o = C.default);
                function e() {
                    var e = this
                      , t = arguments
                      , n = function() {
                        n = s = null,
                        a || i.apply(e, t)
                    };
                    !s && a && i.apply(e, t),
                    o.clearTimeout(s),
                    s = o.setTimeout(n, r)
                }
                return e.cancel = function() {
                    o.clearTimeout(s),
                    s = null
                }
                ,
                e
            }(function() {
                n.resizeHandler()
            }, 100, !1, P.default(n)),
            i ? (n.resizeObserver_ = new n.ResizeObserver(n.debouncedHandler_),
            n.resizeObserver_.observe(e.el())) : (n.loadListener_ = function() {
                if (n.el_ && n.el_.contentWindow) {
                    var e = n.debouncedHandler_
                      , t = n.unloadListener_ = function() {
                        Et(this, "resize", e),
                        Et(this, "unload", t),
                        t = null
                    }
                    ;
                    St(n.el_.contentWindow, "unload", t),
                    St(n.el_.contentWindow, "resize", e)
                }
            }
            ,
            n.one("load", n.loadListener_)),
            n
        }
        A.default(e, a);
        var t = e.prototype;
        return t.createEl = function() {
            return a.prototype.createEl.call(this, "iframe", {
                className: "vjs-resize-manager",
                tabIndex: -1
            }, {
                "aria-hidden": "true"
            })
        }
        ,
        t.resizeHandler = function() {
            this.player_ && this.player_.trigger && this.player_.trigger("playerresize")
        }
        ,
        t.dispose = function() {
            this.debouncedHandler_ && this.debouncedHandler_.cancel(),
            this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()),
            this.resizeObserver_.disconnect()),
            this.loadListener_ && this.off("load", this.loadListener_),
            this.el_ && this.el_.contentWindow && this.unloadListener_ && this.unloadListener_.call(this.el_.contentWindow),
            this.ResizeObserver = null,
            this.resizeObserver = null,
            this.debouncedHandler_ = null,
            this.loadListener_ = null,
            a.prototype.dispose.call(this)
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("ResizeManager", Mr);
    var kr = {
        trackingThreshold: 30,
        liveTolerance: 15
    }
      , Pr = function(r) {
        function e(e, t) {
            var n, i = Xt(kr, t, {
                createEl: !1
            });
            return (n = r.call(this, e, i) || this).handleVisibilityChange_ = function(e) {
                return n.handleVisibilityChange(e)
            }
            ,
            n.trackLiveHandler_ = function() {
                return n.trackLive_()
            }
            ,
            n.handlePlay_ = function(e) {
                return n.handlePlay(e)
            }
            ,
            n.handleFirstTimeupdate_ = function(e) {
                return n.handleFirstTimeupdate(e)
            }
            ,
            n.handleSeeked_ = function(e) {
                return n.handleSeeked(e)
            }
            ,
            n.seekToLiveEdge_ = function(e) {
                return n.seekToLiveEdge(e)
            }
            ,
            n.reset_(),
            n.on(n.player_, "durationchange", function(e) {
                return n.handleDurationchange(e)
            }),
            n.one(n.player_, "canplay", function() {
                return n.toggleTracking()
            }),
            _e && "hidden"in M.default && "visibilityState"in M.default && n.on(M.default, "visibilitychange", n.handleVisibilityChange_),
            n
        }
        A.default(e, r);
        var t = e.prototype;
        return t.handleVisibilityChange = function() {
            this.player_.duration() === 1 / 0 && (M.default.hidden ? this.stopTracking() : this.startTracking())
        }
        ,
        t.trackLive_ = function() {
            var e = this.player_.seekable();
            if (e && e.length) {
                var t = Number(C.default.performance.now().toFixed(4))
                  , n = -1 === this.lastTime_ ? 0 : (t - this.lastTime_) / 1e3;
                this.lastTime_ = t,
                this.pastSeekEnd_ = this.pastSeekEnd() + n;
                var i = this.liveCurrentTime()
                  , r = this.player_.currentTime()
                  , a = this.player_.paused() || this.seekedBehindLive_ || Math.abs(i - r) > this.options_.liveTolerance;
                this.timeupdateSeen_ && i !== 1 / 0 || (a = !1),
                a !== this.behindLiveEdge_ && (this.behindLiveEdge_ = a,
                this.trigger("liveedgechange"))
            }
        }
        ,
        t.handleDurationchange = function() {
            this.toggleTracking()
        }
        ,
        t.toggleTracking = function() {
            this.player_.duration() === 1 / 0 && this.liveWindow() >= this.options_.trackingThreshold ? (this.player_.options_.liveui && this.player_.addClass("vjs-liveui"),
            this.startTracking()) : (this.player_.removeClass("vjs-liveui"),
            this.stopTracking())
        }
        ,
        t.startTracking = function() {
            this.isTracking() || (this.timeupdateSeen_ || (this.timeupdateSeen_ = this.player_.hasStarted()),
            this.trackingInterval_ = this.setInterval(this.trackLiveHandler_, 30),
            this.trackLive_(),
            this.on(this.player_, ["play", "pause"], this.trackLiveHandler_),
            this.timeupdateSeen_ ? this.on(this.player_, "seeked", this.handleSeeked_) : (this.one(this.player_, "play", this.handlePlay_),
            this.one(this.player_, "timeupdate", this.handleFirstTimeupdate_)))
        }
        ,
        t.handleFirstTimeupdate = function() {
            this.timeupdateSeen_ = !0,
            this.on(this.player_, "seeked", this.handleSeeked_)
        }
        ,
        t.handleSeeked = function() {
            var e = Math.abs(this.liveCurrentTime() - this.player_.currentTime());
            this.seekedBehindLive_ = this.nextSeekedFromUser_ && 2 < e,
            this.nextSeekedFromUser_ = !1,
            this.trackLive_()
        }
        ,
        t.handlePlay = function() {
            this.one(this.player_, "timeupdate", this.seekToLiveEdge_)
        }
        ,
        t.reset_ = function() {
            this.lastTime_ = -1,
            this.pastSeekEnd_ = 0,
            this.lastSeekEnd_ = -1,
            this.behindLiveEdge_ = !0,
            this.timeupdateSeen_ = !1,
            this.seekedBehindLive_ = !1,
            this.nextSeekedFromUser_ = !1,
            this.clearInterval(this.trackingInterval_),
            this.trackingInterval_ = null,
            this.off(this.player_, ["play", "pause"], this.trackLiveHandler_),
            this.off(this.player_, "seeked", this.handleSeeked_),
            this.off(this.player_, "play", this.handlePlay_),
            this.off(this.player_, "timeupdate", this.handleFirstTimeupdate_),
            this.off(this.player_, "timeupdate", this.seekToLiveEdge_)
        }
        ,
        t.nextSeekedFromUser = function() {
            this.nextSeekedFromUser_ = !0
        }
        ,
        t.stopTracking = function() {
            this.isTracking() && (this.reset_(),
            this.trigger("liveedgechange"))
        }
        ,
        t.seekableEnd = function() {
            for (var e = this.player_.seekable(), t = [], n = e ? e.length : 0; n--; )
                t.push(e.end(n));
            return t.length ? t.sort()[t.length - 1] : 1 / 0
        }
        ,
        t.seekableStart = function() {
            for (var e = this.player_.seekable(), t = [], n = e ? e.length : 0; n--; )
                t.push(e.start(n));
            return t.length ? t.sort()[0] : 0
        }
        ,
        t.liveWindow = function() {
            var e = this.liveCurrentTime();
            return e === 1 / 0 ? 0 : e - this.seekableStart()
        }
        ,
        t.isLive = function() {
            return this.isTracking()
        }
        ,
        t.atLiveEdge = function() {
            return !this.behindLiveEdge()
        }
        ,
        t.liveCurrentTime = function() {
            return this.pastSeekEnd() + this.seekableEnd()
        }
        ,
        t.pastSeekEnd = function() {
            var e = this.seekableEnd();
            return -1 !== this.lastSeekEnd_ && e !== this.lastSeekEnd_ && (this.pastSeekEnd_ = 0),
            this.lastSeekEnd_ = e,
            this.pastSeekEnd_
        }
        ,
        t.behindLiveEdge = function() {
            return this.behindLiveEdge_
        }
        ,
        t.isTracking = function() {
            return "number" == typeof this.trackingInterval_
        }
        ,
        t.seekToLiveEdge = function() {
            this.seekedBehindLive_ = !1,
            this.atLiveEdge() || (this.nextSeekedFromUser_ = !1,
            this.player_.currentTime(this.liveCurrentTime()))
        }
        ,
        t.dispose = function() {
            this.off(M.default, "visibilitychange", this.handleVisibilityChange_),
            this.stopTracking(),
            r.prototype.dispose.call(this)
        }
        ,
        e
    }(Jt);
    Jt.registerComponent("LiveTracker", Pr);
    function Ar(e) {
        var t = e.el();
        if (t.hasAttribute("src"))
            return e.triggerSourceset(t.src),
            !0;
        var n = e.$$("source")
          , i = []
          , r = "";
        if (!n.length)
            return !1;
        for (var a = 0; a < n.length; a++) {
            var o = n[a].src;
            o && -1 === i.indexOf(o) && i.push(o)
        }
        return !!i.length && (1 === i.length && (r = i[0]),
        e.triggerSourceset(r),
        !0)
    }
    function Ir(e, t) {
        for (var n = {}, i = 0; i < e.length && !((n = Object.getOwnPropertyDescriptor(e[i], t)) && n.set && n.get); i++)
            ;
        return n.enumerable = !0,
        n.configurable = !0,
        n
    }
    function Lr(a) {
        var o = a.el();
        if (!o.resetSourceWatch_) {
            var t = {}
              , e = function(e) {
                return Ir([e.el(), C.default.HTMLMediaElement.prototype, C.default.Element.prototype, Nr], "innerHTML")
            }(a)
              , n = function(r) {
                return function() {
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                        t[n] = arguments[n];
                    var i = r.apply(o, t);
                    return Ar(a),
                    i
                }
            };
            ["append", "appendChild", "insertAdjacentHTML"].forEach(function(e) {
                o[e] && (t[e] = o[e],
                o[e] = n(t[e]))
            }),
            Object.defineProperty(o, "innerHTML", Xt(e, {
                set: n(e.set)
            })),
            o.resetSourceWatch_ = function() {
                o.resetSourceWatch_ = null,
                Object.keys(t).forEach(function(e) {
                    o[e] = t[e]
                }),
                Object.defineProperty(o, "innerHTML", e)
            }
            ,
            a.one("sourceset", o.resetSourceWatch_)
        }
    }
    function Or(i) {
        if (i.featuresSourceset) {
            var r = i.el();
            if (!r.resetSourceset_) {
                var n = function(e) {
                    return Ir([e.el(), C.default.HTMLMediaElement.prototype, Fr], "src")
                }(i)
                  , a = r.setAttribute
                  , t = r.load;
                Object.defineProperty(r, "src", Xt(n, {
                    set: function(e) {
                        var t = n.set.call(r, e);
                        return i.triggerSourceset(r.src),
                        t
                    }
                })),
                r.setAttribute = function(e, t) {
                    var n = a.call(r, e, t);
                    return /src/i.test(e) && i.triggerSourceset(r.src),
                    n
                }
                ,
                r.load = function() {
                    var e = t.call(r);
                    return Ar(i) || (i.triggerSourceset(""),
                    Lr(i)),
                    e
                }
                ,
                r.currentSrc ? i.triggerSourceset(r.currentSrc) : Ar(i) || Lr(i),
                r.resetSourceset_ = function() {
                    r.resetSourceset_ = null,
                    r.load = t,
                    r.setAttribute = a,
                    Object.defineProperty(r, "src", n),
                    r.resetSourceWatch_ && r.resetSourceWatch_()
                }
            }
        }
    }
    function Rr(t, n, i, e) {
        function r(e) {
            return Object.defineProperty(t, n, {
                value: e,
                enumerable: !0,
                writable: !0
            })
        }
        void 0 === e && (e = !0);
        var a = {
            configurable: !0,
            enumerable: !0,
            get: function() {
                var e = i();
                return r(e),
                e
            }
        };
        return e && (a.set = r),
        Object.defineProperty(t, n, a)
    }
    var Dr, Nr = Object.defineProperty({}, "innerHTML", {
        get: function() {
            return this.cloneNode(!0).innerHTML
        },
        set: function(e) {
            var t = M.default.createElement(this.nodeName.toLowerCase());
            t.innerHTML = e;
            for (var n = M.default.createDocumentFragment(); t.childNodes.length; )
                n.appendChild(t.childNodes[0]);
            return this.innerText = "",
            C.default.Element.prototype.appendChild.call(this, n),
            this.innerHTML
        }
    }), Fr = Object.defineProperty({}, "src", {
        get: function() {
            return this.hasAttribute("src") ? bn(C.default.Element.prototype.getAttribute.call(this, "src")) : ""
        },
        set: function(e) {
            return C.default.Element.prototype.setAttribute.call(this, "src", e),
            e
        }
    }), Br = function(c) {
        function s(e, t) {
            var n;
            n = c.call(this, e, t) || this;
            var i = e.source
              , r = !1;
            if (i && (n.el_.currentSrc !== i.src || e.tag && 3 === e.tag.initNetworkState_) ? n.setSource(i) : n.handleLateInit_(n.el_),
            e.enableSourceset && n.setupSourcesetHandling_(),
            n.isScrubbing_ = !1,
            n.el_.hasChildNodes()) {
                for (var a = n.el_.childNodes, o = a.length, s = []; o--; ) {
                    var l = a[o];
                    "track" === l.nodeName.toLowerCase() && (n.featuresNativeTextTracks ? (n.remoteTextTrackEls().addTrackElement_(l),
                    n.remoteTextTracks().addTrack(l.track),
                    n.textTracks().addTrack(l.track),
                    r || n.el_.hasAttribute("crossorigin") || !wn(l.src) || (r = !0)) : s.push(l))
                }
                for (var u = 0; u < s.length; u++)
                    n.el_.removeChild(s[u])
            }
            return n.proxyNativeTracks_(),
            n.featuresNativeTextTracks && r && Y.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),
            n.restoreMetadataTracksInIOSNativePlayer_(),
            (Te || Ee || me) && !0 === e.nativeControlsForTouch && n.setControls(!0),
            n.proxyWebkitFullscreen_(),
            n.triggerReady(),
            n
        }
        A.default(s, c);
        var e = s.prototype;
        return e.dispose = function() {
            this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(),
            s.disposeMediaElement(this.el_),
            this.options_ = null,
            c.prototype.dispose.call(this)
        }
        ,
        e.setupSourcesetHandling_ = function() {
            Or(this)
        }
        ,
        e.restoreMetadataTracksInIOSNativePlayer_ = function() {
            function e() {
                n = [];
                for (var e = 0; e < i.length; e++) {
                    var t = i[e];
                    "metadata" === t.kind && n.push({
                        track: t,
                        storedMode: t.mode
                    })
                }
            }
            var n, i = this.textTracks();
            e(),
            i.addEventListener("change", e),
            this.on("dispose", function() {
                return i.removeEventListener("change", e)
            });
            function r() {
                for (var e = 0; e < n.length; e++) {
                    var t = n[e];
                    "disabled" === t.track.mode && t.track.mode !== t.storedMode && (t.track.mode = t.storedMode)
                }
                i.removeEventListener("change", r)
            }
            this.on("webkitbeginfullscreen", function() {
                i.removeEventListener("change", e),
                i.removeEventListener("change", r),
                i.addEventListener("change", r)
            }),
            this.on("webkitendfullscreen", function() {
                i.removeEventListener("change", e),
                i.addEventListener("change", e),
                i.removeEventListener("change", r)
            })
        }
        ,
        e.overrideNative_ = function(e, t) {
            var n = this;
            if (t === this["featuresNative" + e + "Tracks"]) {
                var i = e.toLowerCase();
                this[i + "TracksListeners_"] && Object.keys(this[i + "TracksListeners_"]).forEach(function(e) {
                    n.el()[i + "Tracks"].removeEventListener(e, n[i + "TracksListeners_"][e])
                }),
                this["featuresNative" + e + "Tracks"] = !t,
                this[i + "TracksListeners_"] = null,
                this.proxyNativeTracksForType_(i)
            }
        }
        ,
        e.overrideNativeAudioTracks = function(e) {
            this.overrideNative_("Audio", e)
        }
        ,
        e.overrideNativeVideoTracks = function(e) {
            this.overrideNative_("Video", e)
        }
        ,
        e.proxyNativeTracksForType_ = function(n) {
            var i = this
              , e = Un[n]
              , r = this.el()[e.getterName]
              , a = this[e.getterName]();
            if (this["featuresNative" + e.capitalName + "Tracks"] && r && r.addEventListener) {
                var o = {
                    change: function(e) {
                        var t = {
                            type: "change",
                            target: a,
                            currentTarget: a,
                            srcElement: a
                        };
                        a.trigger(t),
                        "text" === n && i[jn.remoteText.getterName]().trigger(t)
                    },
                    addtrack: function(e) {
                        a.addTrack(e.track)
                    },
                    removetrack: function(e) {
                        a.removeTrack(e.track)
                    }
                }
                  , t = function() {
                    for (var e = [], t = 0; t < a.length; t++) {
                        for (var n = !1, i = 0; i < r.length; i++)
                            if (r[i] === a[t]) {
                                n = !0;
                                break
                            }
                        n || e.push(a[t])
                    }
                    for (; e.length; )
                        a.removeTrack(e.shift())
                };
                this[e.getterName + "Listeners_"] = o,
                Object.keys(o).forEach(function(t) {
                    var n = o[t];
                    r.addEventListener(t, n),
                    i.on("dispose", function(e) {
                        return r.removeEventListener(t, n)
                    })
                }),
                this.on("loadstart", t),
                this.on("dispose", function(e) {
                    return i.off("loadstart", t)
                })
            }
        }
        ,
        e.proxyNativeTracks_ = function() {
            var t = this;
            Un.names.forEach(function(e) {
                t.proxyNativeTracksForType_(e)
            })
        }
        ,
        e.createEl = function() {
            var e = this.options_.tag;
            if (!e || !this.options_.playerElIngest && !this.movingMediaElementInDOM) {
                if (e) {
                    var t = e.cloneNode(!0);
                    e.parentNode && e.parentNode.insertBefore(t, e),
                    s.disposeMediaElement(e),
                    e = t
                } else {
                    e = M.default.createElement("video");
                    var n = Xt({}, this.options_.tag && Ve(this.options_.tag));
                    Te && !0 === this.options_.nativeControlsForTouch || delete n.controls,
                    He(e, ee(n, {
                        id: this.options_.techId,
                        class: "vjs-tech"
                    }))
                }
                e.playerId = this.options_.playerId
            }
            void 0 !== this.options_.preload && We(e, "preload", this.options_.preload),
            void 0 !== this.options_.disablePictureInPicture && (e.disablePictureInPicture = this.options_.disablePictureInPicture);
            for (var i = ["loop", "muted", "playsinline", "autoplay"], r = 0; r < i.length; r++) {
                var a = i[r]
                  , o = this.options_[a];
                void 0 !== o && (o ? We(e, a, a) : qe(e, a),
                e[a] = o)
            }
            return e
        }
        ,
        e.handleLateInit_ = function(e) {
            if (0 !== e.networkState && 3 !== e.networkState) {
                if (0 === e.readyState) {
                    var t = !1
                      , n = function() {
                        t = !0
                    };
                    this.on("loadstart", n);
                    var i = function() {
                        t || this.trigger("loadstart")
                    };
                    return this.on("loadedmetadata", i),
                    void this.ready(function() {
                        this.off("loadstart", n),
                        this.off("loadedmetadata", i),
                        t || this.trigger("loadstart")
                    })
                }
                var r = ["loadstart"];
                r.push("loadedmetadata"),
                2 <= e.readyState && r.push("loadeddata"),
                3 <= e.readyState && r.push("canplay"),
                4 <= e.readyState && r.push("canplaythrough"),
                this.ready(function() {
                    r.forEach(function(e) {
                        this.trigger(e)
                    }, this)
                })
            }
        }
        ,
        e.setScrubbing = function(e) {
            this.isScrubbing_ = e
        }
        ,
        e.scrubbing = function() {
            return this.isScrubbing_
        }
        ,
        e.setCurrentTime = function(e) {
            try {
                this.isScrubbing_ && this.el_.fastSeek && Me ? this.el_.fastSeek(e) : this.el_.currentTime = e
            } catch (e) {
                Y(e, "Video is not ready. (Video.js)")
            }
        }
        ,
        e.duration = function() {
            var t = this;
            if (this.el_.duration === 1 / 0 && pe && ye && 0 === this.el_.currentTime) {
                return this.on("timeupdate", function e() {
                    0 < t.el_.currentTime && (t.el_.duration === 1 / 0 && t.trigger("durationchange"),
                    t.off("timeupdate", e))
                }),
                NaN
            }
            return this.el_.duration || NaN
        }
        ,
        e.width = function() {
            return this.el_.offsetWidth
        }
        ,
        e.height = function() {
            return this.el_.offsetHeight
        }
        ,
        e.proxyWebkitFullscreen_ = function() {
            var e = this;
            if ("webkitDisplayingFullscreen"in this.el_) {
                var t = function() {
                    this.trigger("fullscreenchange", {
                        isFullscreen: !1
                    })
                }
                  , n = function() {
                    "webkitPresentationMode"in this.el_ && "picture-in-picture" !== this.el_.webkitPresentationMode && (this.one("webkitendfullscreen", t),
                    this.trigger("fullscreenchange", {
                        isFullscreen: !0,
                        nativeIOSFullscreen: !0
                    }))
                };
                this.on("webkitbeginfullscreen", n),
                this.on("dispose", function() {
                    e.off("webkitbeginfullscreen", n),
                    e.off("webkitendfullscreen", t)
                })
            }
        }
        ,
        e.supportsFullScreen = function() {
            if ("function" == typeof this.el_.webkitEnterFullScreen) {
                var e = C.default.navigator && C.default.navigator.userAgent || "";
                if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e))
                    return !0
            }
            return !1
        }
        ,
        e.enterFullScreen = function() {
            var e = this.el_;
            if (e.paused && e.networkState <= e.HAVE_METADATA)
                ln(this.el_.play()),
                this.setTimeout(function() {
                    e.pause();
                    try {
                        e.webkitEnterFullScreen()
                    } catch (e) {
                        this.trigger("fullscreenerror", e)
                    }
                }, 0);
            else
                try {
                    e.webkitEnterFullScreen()
                } catch (e) {
                    this.trigger("fullscreenerror", e)
                }
        }
        ,
        e.exitFullScreen = function() {
            this.el_.webkitDisplayingFullscreen ? this.el_.webkitExitFullScreen() : this.trigger("fullscreenerror", new Error("The video is not fullscreen"))
        }
        ,
        e.requestPictureInPicture = function() {
            return this.el_.requestPictureInPicture()
        }
        ,
        e.src = function(e) {
            if (void 0 === e)
                return this.el_.src;
            this.setSrc(e)
        }
        ,
        e.reset = function() {
            s.resetMediaElement(this.el_)
        }
        ,
        e.currentSrc = function() {
            return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
        }
        ,
        e.setControls = function(e) {
            this.el_.controls = !!e
        }
        ,
        e.addTextTrack = function(e, t, n) {
            return this.featuresNativeTextTracks ? this.el_.addTextTrack(e, t, n) : c.prototype.addTextTrack.call(this, e, t, n)
        }
        ,
        e.createRemoteTextTrack = function(e) {
            if (!this.featuresNativeTextTracks)
                return c.prototype.createRemoteTextTrack.call(this, e);
            var t = M.default.createElement("track");
            return e.kind && (t.kind = e.kind),
            e.label && (t.label = e.label),
            (e.language || e.srclang) && (t.srclang = e.language || e.srclang),
            e.default && (t.default = e.default),
            e.id && (t.id = e.id),
            e.src && (t.src = e.src),
            t
        }
        ,
        e.addRemoteTextTrack = function(e, t) {
            var n = c.prototype.addRemoteTextTrack.call(this, e, t);
            return this.featuresNativeTextTracks && this.el().appendChild(n),
            n
        }
        ,
        e.removeRemoteTextTrack = function(e) {
            if (c.prototype.removeRemoteTextTrack.call(this, e),
            this.featuresNativeTextTracks)
                for (var t = this.$$("track"), n = t.length; n--; )
                    e !== t[n] && e !== t[n].track || this.el().removeChild(t[n])
        }
        ,
        e.getVideoPlaybackQuality = function() {
            if ("function" == typeof this.el().getVideoPlaybackQuality)
                return this.el().getVideoPlaybackQuality();
            var e = {};
            return void 0 !== this.el().webkitDroppedFrameCount && void 0 !== this.el().webkitDecodedFrameCount && (e.droppedVideoFrames = this.el().webkitDroppedFrameCount,
            e.totalVideoFrames = this.el().webkitDecodedFrameCount),
            C.default.performance && "function" == typeof C.default.performance.now ? e.creationTime = C.default.performance.now() : C.default.performance && C.default.performance.timing && "number" == typeof C.default.performance.timing.navigationStart && (e.creationTime = C.default.Date.now() - C.default.performance.timing.navigationStart),
            e
        }
        ,
        s
    }(Hn);
    Rr(Br, "TEST_VID", function() {
        if (Ie()) {
            var e = M.default.createElement("video")
              , t = M.default.createElement("track");
            return t.kind = "captions",
            t.srclang = "en",
            t.label = "English",
            e.appendChild(t),
            e
        }
    }),
    Br.isSupported = function() {
        try {
            Br.TEST_VID.volume = .5
        } catch (e) {
            return !1
        }
        return !(!Br.TEST_VID || !Br.TEST_VID.canPlayType)
    }
    ,
    Br.canPlayType = function(e) {
        return Br.TEST_VID.canPlayType(e)
    }
    ,
    Br.canPlaySource = function(e, t) {
        return Br.canPlayType(e.type)
    }
    ,
    Br.canControlVolume = function() {
        try {
            var e = Br.TEST_VID.volume;
            return Br.TEST_VID.volume = e / 2 + .1,
            e !== Br.TEST_VID.volume
        } catch (e) {
            return !1
        }
    }
    ,
    Br.canMuteVolume = function() {
        try {
            var e = Br.TEST_VID.muted;
            return Br.TEST_VID.muted = !e,
            Br.TEST_VID.muted ? We(Br.TEST_VID, "muted", "muted") : qe(Br.TEST_VID, "muted"),
            e !== Br.TEST_VID.muted
        } catch (e) {
            return !1
        }
    }
    ,
    Br.canControlPlaybackRate = function() {
        if (pe && ye && be < 58)
            return !1;
        try {
            var e = Br.TEST_VID.playbackRate;
            return Br.TEST_VID.playbackRate = e / 2 + .1,
            e !== Br.TEST_VID.playbackRate
        } catch (e) {
            return !1
        }
    }
    ,
    Br.canOverrideAttributes = function() {
        try {
            var e = function() {};
            Object.defineProperty(M.default.createElement("video"), "src", {
                get: e,
                set: e
            }),
            Object.defineProperty(M.default.createElement("audio"), "src", {
                get: e,
                set: e
            }),
            Object.defineProperty(M.default.createElement("video"), "innerHTML", {
                get: e,
                set: e
            }),
            Object.defineProperty(M.default.createElement("audio"), "innerHTML", {
                get: e,
                set: e
            })
        } catch (e) {
            return !1
        }
        return !0
    }
    ,
    Br.supportsNativeTextTracks = function() {
        return Me || Ce && ye
    }
    ,
    Br.supportsNativeVideoTracks = function() {
        return !(!Br.TEST_VID || !Br.TEST_VID.videoTracks)
    }
    ,
    Br.supportsNativeAudioTracks = function() {
        return !(!Br.TEST_VID || !Br.TEST_VID.audioTracks)
    }
    ,
    Br.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "resize", "volumechange"],
    [["featuresVolumeControl", "canControlVolume"], ["featuresMuteControl", "canMuteVolume"], ["featuresPlaybackRate", "canControlPlaybackRate"], ["featuresSourceset", "canOverrideAttributes"], ["featuresNativeTextTracks", "supportsNativeTextTracks"], ["featuresNativeVideoTracks", "supportsNativeVideoTracks"], ["featuresNativeAudioTracks", "supportsNativeAudioTracks"]].forEach(function(e) {
        var t = e[0]
          , n = e[1];
        Rr(Br.prototype, t, function() {
            return Br[n]()
        }, !0)
    }),
    Br.prototype.movingMediaElementInDOM = !Ce,
    Br.prototype.featuresFullscreenResize = !0,
    Br.prototype.featuresProgressEvents = !0,
    Br.prototype.featuresTimeupdateEvents = !0,
    Br.patchCanPlayType = function() {
        4 <= fe && !ge && !ye && (Dr = Br.TEST_VID && Br.TEST_VID.constructor.prototype.canPlayType,
        Br.TEST_VID.constructor.prototype.canPlayType = function(e) {
            return e && /^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e) ? "maybe" : Dr.call(this, e)
        }
        )
    }
    ,
    Br.unpatchCanPlayType = function() {
        var e = Br.TEST_VID.constructor.prototype.canPlayType;
        return Dr && (Br.TEST_VID.constructor.prototype.canPlayType = Dr),
        e
    }
    ,
    Br.patchCanPlayType(),
    Br.disposeMediaElement = function(e) {
        if (e) {
            for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes(); )
                e.removeChild(e.firstChild);
            e.removeAttribute("src"),
            "function" == typeof e.load && function() {
                try {
                    e.load()
                } catch (e) {}
            }()
        }
    }
    ,
    Br.resetMediaElement = function(e) {
        if (e) {
            for (var t = e.querySelectorAll("source"), n = t.length; n--; )
                e.removeChild(t[n]);
            e.removeAttribute("src"),
            "function" == typeof e.load && function() {
                try {
                    e.load()
                } catch (e) {}
            }()
        }
    }
    ,
    ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach(function(e) {
        Br.prototype[e] = function() {
            return this.el_[e] || this.el_.hasAttribute(e)
        }
    }),
    ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach(function(t) {
        Br.prototype["set" + $t(t)] = function(e) {
            (this.el_[t] = e) ? this.el_.setAttribute(t, t) : this.el_.removeAttribute(t)
        }
    }),
    ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "played", "networkState", "readyState", "videoWidth", "videoHeight", "crossOrigin"].forEach(function(e) {
        Br.prototype[e] = function() {
            return this.el_[e]
        }
    }),
    ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "crossOrigin"].forEach(function(t) {
        Br.prototype["set" + $t(t)] = function(e) {
            this.el_[t] = e
        }
    }),
    ["pause", "load", "play"].forEach(function(e) {
        Br.prototype[e] = function() {
            return this.el_[e]()
        }
    }),
    Hn.withSourceHandlers(Br),
    Br.nativeSourceHandler = {},
    Br.nativeSourceHandler.canPlayType = function(e) {
        try {
            return Br.TEST_VID.canPlayType(e)
        } catch (e) {
            return ""
        }
    }
    ,
    Br.nativeSourceHandler.canHandleSource = function(e, t) {
        if (e.type)
            return Br.nativeSourceHandler.canPlayType(e.type);
        if (e.src) {
            var n = _n(e.src);
            return Br.nativeSourceHandler.canPlayType("video/" + n)
        }
        return ""
    }
    ,
    Br.nativeSourceHandler.handleSource = function(e, t, n) {
        t.setSrc(e.src)
    }
    ,
    Br.nativeSourceHandler.dispose = function() {}
    ,
    Br.registerSourceHandler(Br.nativeSourceHandler),
    Hn.registerTech("Html5", Br);
    var Ur = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"]
      , jr = {
        canplay: "CanPlay",
        canplaythrough: "CanPlayThrough",
        playing: "Playing",
        seeked: "Seeked"
    }
      , zr = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"]
      , Hr = {};
    zr.forEach(function(e) {
        var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
        Hr[e] = "vjs-layout-" + t
    });
    var Vr = {
        tiny: 210,
        xsmall: 320,
        small: 425,
        medium: 768,
        large: 1440,
        xlarge: 2560,
        huge: 1 / 0
    }
      , Gr = function(c) {
        function u(e, t, n) {
            var i;
            if (e.id = e.id || t.id || "vjs_video_" + gt(),
            (t = ee(u.getTagSettings(e), t)).initChildren = !1,
            t.createEl = !1,
            t.evented = !1,
            t.reportTouchActivity = !1,
            !t.language)
                if ("function" == typeof e.closest) {
                    var r = e.closest("[lang]");
                    r && r.getAttribute && (t.language = r.getAttribute("lang"))
                } else
                    for (var a = e; a && 1 === a.nodeType; ) {
                        if (Ve(a).hasOwnProperty("lang")) {
                            t.language = a.getAttribute("lang");
                            break
                        }
                        a = a.parentNode
                    }
            if ((i = c.call(this, null, t, n) || this).boundDocumentFullscreenChange_ = function(e) {
                return i.documentFullscreenChange_(e)
            }
            ,
            i.boundFullWindowOnEscKey_ = function(e) {
                return i.fullWindowOnEscKey(e)
            }
            ,
            i.boundUpdateStyleEl_ = function(e) {
                return i.updateStyleEl_(e)
            }
            ,
            i.boundApplyInitTime_ = function(e) {
                return i.applyInitTime_(e)
            }
            ,
            i.boundUpdateCurrentBreakpoint_ = function(e) {
                return i.updateCurrentBreakpoint_(e)
            }
            ,
            i.boundHandleTechClick_ = function(e) {
                return i.handleTechClick_(e)
            }
            ,
            i.boundHandleTechDoubleClick_ = function(e) {
                return i.handleTechDoubleClick_(e)
            }
            ,
            i.boundHandleTechTouchStart_ = function(e) {
                return i.handleTechTouchStart_(e)
            }
            ,
            i.boundHandleTechTouchMove_ = function(e) {
                return i.handleTechTouchMove_(e)
            }
            ,
            i.boundHandleTechTouchEnd_ = function(e) {
                return i.handleTechTouchEnd_(e)
            }
            ,
            i.boundHandleTechTap_ = function(e) {
                return i.handleTechTap_(e)
            }
            ,
            i.isFullscreen_ = !1,
            i.log = K(i.id_),
            i.fsApi_ = H,
            i.isPosterFromTech_ = !1,
            i.queuedCallbacks_ = [],
            i.isReady_ = !1,
            i.hasStarted_ = !1,
            i.userActive_ = !1,
            i.debugEnabled_ = !1,
            !i.options_ || !i.options_.techOrder || !i.options_.techOrder.length)
                throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
            if (i.tag = e,
            i.tagAttributes = e && Ve(e),
            i.language(i.options_.language),
            t.languages) {
                var o = {};
                Object.getOwnPropertyNames(t.languages).forEach(function(e) {
                    o[e.toLowerCase()] = t.languages[e]
                }),
                i.languages_ = o
            } else
                i.languages_ = u.prototype.options_.languages;
            i.resetCache_(),
            i.poster_ = t.poster || "",
            i.controls_ = !!t.controls,
            e.controls = !1,
            e.removeAttribute("controls"),
            i.changingSrc_ = !1,
            i.playCallbacks_ = [],
            i.playTerminatedQueue_ = [],
            e.hasAttribute("autoplay") ? i.autoplay(!0) : i.autoplay(i.options_.autoplay),
            t.plugins && Object.keys(t.plugins).forEach(function(e) {
                if ("function" != typeof i[e])
                    throw new Error('plugin "' + e + '" does not exist')
            }),
            i.scrubbing_ = !1,
            i.el_ = i.createEl(),
            Vt(P.default(i), {
                eventBusKey: "el_"
            }),
            i.fsApi_.requestFullscreen && (St(M.default, i.fsApi_.fullscreenchange, i.boundDocumentFullscreenChange_),
            i.on(i.fsApi_.fullscreenchange, i.boundDocumentFullscreenChange_)),
            i.fluid_ && i.on(["playerreset", "resize"], i.boundUpdateStyleEl_);
            var s = Xt(i.options_);
            t.plugins && Object.keys(t.plugins).forEach(function(e) {
                i[e](t.plugins[e])
            }),
            t.debug && i.debug(!0),
            i.options_.playerOptions = s,
            i.middleware_ = [],
            i.playbackRates(t.playbackRates),
            i.initChildren(),
            i.isAudio("audio" === e.nodeName.toLowerCase()),
            i.controls() ? i.addClass("vjs-controls-enabled") : i.addClass("vjs-controls-disabled"),
            i.el_.setAttribute("role", "region"),
            i.isAudio() ? i.el_.setAttribute("aria-label", i.localize("Audio Player")) : i.el_.setAttribute("aria-label", i.localize("Video Player")),
            i.isAudio() && i.addClass("vjs-audio"),
            i.flexNotSupported_() && i.addClass("vjs-no-flex"),
            Te && i.addClass("vjs-touch-enabled"),
            Ce || i.addClass("vjs-workinghover"),
            u.players[i.id_] = P.default(i);
            var l = "7.15.4".split(".")[0];
            return i.addClass("vjs-v" + l),
            i.userActive(!0),
            i.reportUserActivity(),
            i.one("play", function(e) {
                return i.listenForUserActivity_(e)
            }),
            i.on("stageclick", function(e) {
                return i.handleStageClick_(e)
            }),
            i.on("keydown", function(e) {
                return i.handleKeyDown(e)
            }),
            i.on("languagechange", function(e) {
                return i.handleLanguagechange(e)
            }),
            i.breakpoints(i.options_.breakpoints),
            i.responsive(i.options_.responsive),
            i
        }
        A.default(u, c);
        var e = u.prototype;
        return e.dispose = function() {
            var i = this;
            this.trigger("dispose"),
            this.off("dispose"),
            Et(M.default, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_),
            Et(M.default, "keydown", this.boundFullWindowOnEscKey_),
            this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_),
            this.styleEl_ = null),
            u.players[this.id_] = null,
            this.tag && this.tag.player && (this.tag.player = null),
            this.el_ && this.el_.player && (this.el_.player = null),
            this.tech_ && (this.tech_.dispose(),
            this.isPosterFromTech_ = !1,
            this.poster_ = ""),
            this.playerElIngest_ && (this.playerElIngest_ = null),
            this.tag && (this.tag = null),
            function(e) {
                Gn[e.id()] = null
            }(this),
            zn.names.forEach(function(e) {
                var t = zn[e]
                  , n = i[t.getterName]();
                n && n.off && n.off()
            }),
            c.prototype.dispose.call(this)
        }
        ,
        e.createEl = function() {
            var t, n = this.tag, e = this.playerElIngest_ = n.parentNode && n.parentNode.hasAttribute && n.parentNode.hasAttribute("data-vjs-player"), i = "video-js" === this.tag.tagName.toLowerCase();
            e ? t = this.el_ = n.parentNode : i || (t = this.el_ = c.prototype.createEl.call(this, "div"));
            var r = Ve(n);
            if (i) {
                for (t = this.el_ = n,
                n = this.tag = M.default.createElement("video"); t.children.length; )
                    n.appendChild(t.firstChild);
                Be(t, "video-js") || Ue(t, "video-js"),
                t.appendChild(n),
                e = this.playerElIngest_ = t,
                Object.keys(t).forEach(function(e) {
                    try {
                        n[e] = t[e]
                    } catch (e) {}
                })
            }
            if (n.setAttribute("tabindex", "-1"),
            r.tabindex = "-1",
            (_e || ye && xe) && (n.setAttribute("role", "application"),
            r.role = "application"),
            n.removeAttribute("width"),
            n.removeAttribute("height"),
            "width"in r && delete r.width,
            "height"in r && delete r.height,
            Object.getOwnPropertyNames(r).forEach(function(e) {
                i && "class" === e || t.setAttribute(e, r[e]),
                i && n.setAttribute(e, r[e])
            }),
            n.playerId = n.id,
            n.id += "_html5_api",
            n.className = "vjs-tech",
            n.player = t.player = this,
            this.addClass("vjs-paused"),
            !0 !== C.default.VIDEOJS_NO_DYNAMIC_STYLE) {
                this.styleEl_ = dt("vjs-styles-dimensions");
                var a = at(".vjs-styles-defaults")
                  , o = at("head");
                o.insertBefore(this.styleEl_, a ? a.nextSibling : o.firstChild)
            }
            this.fill_ = !1,
            this.fluid_ = !1,
            this.width(this.options_.width),
            this.height(this.options_.height),
            this.fill(this.options_.fill),
            this.fluid(this.options_.fluid),
            this.aspectRatio(this.options_.aspectRatio),
            this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin);
            for (var s = n.getElementsByTagName("a"), l = 0; l < s.length; l++) {
                var u = s.item(l);
                Ue(u, "vjs-hidden"),
                u.setAttribute("hidden", "hidden")
            }
            return n.initNetworkState_ = n.networkState,
            n.parentNode && !e && n.parentNode.insertBefore(t, n),
            Fe(n, t),
            this.children_.unshift(n),
            this.el_.setAttribute("lang", this.language_),
            this.el_ = t
        }
        ,
        e.crossOrigin = function(e) {
            if (!e)
                return this.techGet_("crossOrigin");
            "anonymous" === e || "use-credentials" === e ? this.techCall_("setCrossOrigin", e) : Y.warn('crossOrigin must be "anonymous" or "use-credentials", given "' + e + '"')
        }
        ,
        e.width = function(e) {
            return this.dimension("width", e)
        }
        ,
        e.height = function(e) {
            return this.dimension("height", e)
        }
        ,
        e.dimension = function(e, t) {
            var n = e + "_";
            if (void 0 === t)
                return this[n] || 0;
            if ("" === t || "auto" === t)
                return this[n] = void 0,
                void this.updateStyleEl_();
            var i = parseFloat(t);
            isNaN(i) ? Y.error('Improper value "' + t + '" supplied for for ' + e) : (this[n] = i,
            this.updateStyleEl_())
        }
        ,
        e.fluid = function(e) {
            var t = this;
            if (void 0 === e)
                return !!this.fluid_;
            this.fluid_ = !!e,
            zt(this) && this.off(["playerreset", "resize"], this.boundUpdateStyleEl_),
            e ? (this.addClass("vjs-fluid"),
            this.fill(!1),
            function(e, t) {
                zt(e) ? t() : (e.eventedCallbacks || (e.eventedCallbacks = []),
                e.eventedCallbacks.push(t))
            }(this, function() {
                t.on(["playerreset", "resize"], t.boundUpdateStyleEl_)
            })) : this.removeClass("vjs-fluid"),
            this.updateStyleEl_()
        }
        ,
        e.fill = function(e) {
            if (void 0 === e)
                return !!this.fill_;
            this.fill_ = !!e,
            e ? (this.addClass("vjs-fill"),
            this.fluid(!1)) : this.removeClass("vjs-fill")
        }
        ,
        e.aspectRatio = function(e) {
            if (void 0 === e)
                return this.aspectRatio_;
            if (!/^\d+\:\d+$/.test(e))
                throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
            this.aspectRatio_ = e,
            this.fluid(!0),
            this.updateStyleEl_()
        }
        ,
        e.updateStyleEl_ = function() {
            if (!0 !== C.default.VIDEOJS_NO_DYNAMIC_STYLE) {
                var e, t, n, i = (void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : 0 < this.videoWidth() ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"), r = i[1] / i[0];
                e = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / r : this.videoWidth() || 300,
                t = void 0 !== this.height_ ? this.height_ : e * r,
                n = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions",
                this.addClass(n),
                pt(this.styleEl_, "\n      ." + n + " {\n        width: " + e + "px;\n        height: " + t + "px;\n      }\n\n      ." + n + ".vjs-fluid {\n        padding-top: " + 100 * r + "%;\n      }\n    ")
            } else {
                var a = "number" == typeof this.width_ ? this.width_ : this.options_.width
                  , o = "number" == typeof this.height_ ? this.height_ : this.options_.height
                  , s = this.tech_ && this.tech_.el();
                s && (0 <= a && (s.width = a),
                0 <= o && (s.height = o))
            }
        }
        ,
        e.loadTech_ = function(e, t) {
            var n = this;
            this.tech_ && this.unloadTech_();
            var i = $t(e)
              , r = e.charAt(0).toLowerCase() + e.slice(1);
            "Html5" !== i && this.tag && (Hn.getTech("Html5").disposeMediaElement(this.tag),
            this.tag.player = null,
            this.tag = null),
            this.techName_ = i,
            this.isReady_ = !1;
            var a = this.autoplay();
            ("string" == typeof this.autoplay() || !0 === this.autoplay() && this.options_.normalizeAutoplay) && (a = !1);
            var o = {
                source: t,
                autoplay: a,
                nativeControlsForTouch: this.options_.nativeControlsForTouch,
                playerId: this.id(),
                techId: this.id() + "_" + r + "_api",
                playsinline: this.options_.playsinline,
                preload: this.options_.preload,
                loop: this.options_.loop,
                disablePictureInPicture: this.options_.disablePictureInPicture,
                muted: this.options_.muted,
                poster: this.poster(),
                language: this.language(),
                playerElIngest: this.playerElIngest_ || !1,
                "vtt.js": this.options_["vtt.js"],
                canOverridePoster: !!this.options_.techCanOverridePoster,
                enableSourceset: this.options_.enableSourceset,
                Promise: this.options_.Promise
            };
            zn.names.forEach(function(e) {
                var t = zn[e];
                o[t.getterName] = n[t.privateName]
            }),
            ee(o, this.options_[i]),
            ee(o, this.options_[r]),
            ee(o, this.options_[e.toLowerCase()]),
            this.tag && (o.tag = this.tag),
            t && t.src === this.cache_.src && 0 < this.cache_.currentTime && (o.startTime = this.cache_.currentTime);
            var s = Hn.getTech(e);
            if (!s)
                throw new Error("No Tech named '" + i + "' exists! '" + i + "' should be registered using videojs.registerTech()'");
            this.tech_ = new s(o),
            this.tech_.ready(Pt(this, this.handleTechReady_), !0),
            hn(this.textTracksJson_ || [], this.tech_),
            Ur.forEach(function(t) {
                n.on(n.tech_, t, function(e) {
                    return n["handleTech" + $t(t) + "_"](e)
                })
            }),
            Object.keys(jr).forEach(function(t) {
                n.on(n.tech_, t, function(e) {
                    0 === n.tech_.playbackRate() && n.tech_.seeking() ? n.queuedCallbacks_.push({
                        callback: n["handleTech" + jr[t] + "_"].bind(n),
                        event: e
                    }) : n["handleTech" + jr[t] + "_"](e)
                })
            }),
            this.on(this.tech_, "loadstart", function(e) {
                return n.handleTechLoadStart_(e)
            }),
            this.on(this.tech_, "sourceset", function(e) {
                return n.handleTechSourceset_(e)
            }),
            this.on(this.tech_, "waiting", function(e) {
                return n.handleTechWaiting_(e)
            }),
            this.on(this.tech_, "ended", function(e) {
                return n.handleTechEnded_(e)
            }),
            this.on(this.tech_, "seeking", function(e) {
                return n.handleTechSeeking_(e)
            }),
            this.on(this.tech_, "play", function(e) {
                return n.handleTechPlay_(e)
            }),
            this.on(this.tech_, "firstplay", function(e) {
                return n.handleTechFirstPlay_(e)
            }),
            this.on(this.tech_, "pause", function(e) {
                return n.handleTechPause_(e)
            }),
            this.on(this.tech_, "durationchange", function(e) {
                return n.handleTechDurationChange_(e)
            }),
            this.on(this.tech_, "fullscreenchange", function(e, t) {
                return n.handleTechFullscreenChange_(e, t)
            }),
            this.on(this.tech_, "fullscreenerror", function(e, t) {
                return n.handleTechFullscreenError_(e, t)
            }),
            this.on(this.tech_, "enterpictureinpicture", function(e) {
                return n.handleTechEnterPictureInPicture_(e)
            }),
            this.on(this.tech_, "leavepictureinpicture", function(e) {
                return n.handleTechLeavePictureInPicture_(e)
            }),
            this.on(this.tech_, "error", function(e) {
                return n.handleTechError_(e)
            }),
            this.on(this.tech_, "posterchange", function(e) {
                return n.handleTechPosterChange_(e)
            }),
            this.on(this.tech_, "textdata", function(e) {
                return n.handleTechTextData_(e)
            }),
            this.on(this.tech_, "ratechange", function(e) {
                return n.handleTechRateChange_(e)
            }),
            this.on(this.tech_, "loadedmetadata", this.boundUpdateStyleEl_),
            this.usingNativeControls(this.techGet_("controls")),
            this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(),
            this.tech_.el().parentNode === this.el() || "Html5" === i && this.tag || Fe(this.tech_.el(), this.el()),
            this.tag && (this.tag.player = null,
            this.tag = null)
        }
        ,
        e.unloadTech_ = function() {
            var n = this;
            zn.names.forEach(function(e) {
                var t = zn[e];
                n[t.privateName] = n[t.getterName]()
            }),
            this.textTracksJson_ = cn(this.tech_),
            this.isReady_ = !1,
            this.tech_.dispose(),
            this.tech_ = !1,
            this.isPosterFromTech_ && (this.poster_ = "",
            this.trigger("posterchange")),
            this.isPosterFromTech_ = !1
        }
        ,
        e.tech = function(e) {
            return void 0 === e && Y.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),
            this.tech_
        }
        ,
        e.addTechControlsListeners_ = function() {
            this.removeTechControlsListeners_(),
            this.on(this.tech_, "click", this.boundHandleTechClick_),
            this.on(this.tech_, "dblclick", this.boundHandleTechDoubleClick_),
            this.on(this.tech_, "touchstart", this.boundHandleTechTouchStart_),
            this.on(this.tech_, "touchmove", this.boundHandleTechTouchMove_),
            this.on(this.tech_, "touchend", this.boundHandleTechTouchEnd_),
            this.on(this.tech_, "tap", this.boundHandleTechTap_)
        }
        ,
        e.removeTechControlsListeners_ = function() {
            this.off(this.tech_, "tap", this.boundHandleTechTap_),
            this.off(this.tech_, "touchstart", this.boundHandleTechTouchStart_),
            this.off(this.tech_, "touchmove", this.boundHandleTechTouchMove_),
            this.off(this.tech_, "touchend", this.boundHandleTechTouchEnd_),
            this.off(this.tech_, "click", this.boundHandleTechClick_),
            this.off(this.tech_, "dblclick", this.boundHandleTechDoubleClick_)
        }
        ,
        e.handleTechReady_ = function() {
            this.triggerReady(),
            this.cache_.volume && this.techCall_("setVolume", this.cache_.volume),
            this.handleTechPosterChange_(),
            this.handleTechDurationChange_()
        }
        ,
        e.handleTechLoadStart_ = function() {
            this.removeClass("vjs-ended"),
            this.removeClass("vjs-seeking"),
            this.error(null),
            this.handleTechDurationChange_(),
            this.paused() ? (this.hasStarted(!1),
            this.trigger("loadstart")) : (this.trigger("loadstart"),
            this.trigger("firstplay")),
            this.manualAutoplay_(!0 === this.autoplay() && this.options_.normalizeAutoplay ? "play" : this.autoplay())
        }
        ,
        e.manualAutoplay_ = function(e) {
            var i = this;
            if (this.tech_ && "string" == typeof e) {
                var t, n = function() {
                    var e = i.muted();
                    i.muted(!0);
                    function t() {
                        i.muted(e)
                    }
                    i.playTerminatedQueue_.push(t);
                    var n = i.play();
                    if (sn(n))
                        return n.catch(function(e) {
                            throw t(),
                            new Error("Rejection at manualAutoplay. Restoring muted value. " + (e || ""))
                        })
                };
                if ("any" !== e || this.muted() ? t = "muted" !== e || this.muted() ? this.play() : n() : sn(t = this.play()) && (t = t.catch(n)),
                sn(t))
                    return t.then(function() {
                        i.trigger({
                            type: "autoplay-success",
                            autoplay: e
                        })
                    }).catch(function() {
                        i.trigger({
                            type: "autoplay-failure",
                            autoplay: e
                        })
                    })
            }
        }
        ,
        e.updateSourceCaches_ = function(e) {
            void 0 === e && (e = "");
            var t = e
              , n = "";
            "string" != typeof t && (t = e.src,
            n = e.type),
            this.cache_.source = this.cache_.source || {},
            this.cache_.sources = this.cache_.sources || [],
            t && !n && (n = function(e, t) {
                if (!t)
                    return "";
                if (e.cache_.source.src === t && e.cache_.source.type)
                    return e.cache_.source.type;
                var n = e.cache_.sources.filter(function(e) {
                    return e.src === t
                });
                if (n.length)
                    return n[0].type;
                for (var i = e.$$("source"), r = 0; r < i.length; r++) {
                    var a = i[r];
                    if (a.type && a.src && a.src === t)
                        return a.type
                }
                return Jn(t)
            }(this, t)),
            this.cache_.source = Xt({}, e, {
                src: t,
                type: n
            });
            for (var i = this.cache_.sources.filter(function(e) {
                return e.src && e.src === t
            }), r = [], a = this.$$("source"), o = [], s = 0; s < a.length; s++) {
                var l = Ve(a[s]);
                r.push(l),
                l.src && l.src === t && o.push(l.src)
            }
            o.length && !i.length ? this.cache_.sources = r : i.length || (this.cache_.sources = [this.cache_.source]),
            this.cache_.src = t
        }
        ,
        e.handleTechSourceset_ = function(e) {
            var n = this;
            if (!this.changingSrc_) {
                var t = function(e) {
                    return n.updateSourceCaches_(e)
                }
                  , i = this.currentSource().src
                  , r = e.src;
                i && !/^blob:/.test(i) && /^blob:/.test(r) && (this.lastSource_ && (this.lastSource_.tech === r || this.lastSource_.player === i) || (t = function() {}
                )),
                t(r),
                e.src || this.tech_.any(["sourceset", "loadstart"], function(e) {
                    if ("sourceset" !== e.type) {
                        var t = n.techGet("currentSrc");
                        n.lastSource_.tech = t,
                        n.updateSourceCaches_(t)
                    }
                })
            }
            this.lastSource_ = {
                player: this.currentSource().src,
                tech: e.src
            },
            this.trigger({
                src: e.src,
                type: "sourceset"
            })
        }
        ,
        e.hasStarted = function(e) {
            if (void 0 === e)
                return this.hasStarted_;
            e !== this.hasStarted_ && (this.hasStarted_ = e,
            this.hasStarted_ ? (this.addClass("vjs-has-started"),
            this.trigger("firstplay")) : this.removeClass("vjs-has-started"))
        }
        ,
        e.handleTechPlay_ = function() {
            this.removeClass("vjs-ended"),
            this.removeClass("vjs-paused"),
            this.addClass("vjs-playing"),
            this.hasStarted(!0),
            this.trigger("play")
        }
        ,
        e.handleTechRateChange_ = function() {
            0 < this.tech_.playbackRate() && 0 === this.cache_.lastPlaybackRate && (this.queuedCallbacks_.forEach(function(e) {
                return e.callback(e.event)
            }),
            this.queuedCallbacks_ = []),
            this.cache_.lastPlaybackRate = this.tech_.playbackRate(),
            this.trigger("ratechange")
        }
        ,
        e.handleTechWaiting_ = function() {
            var t = this;
            this.addClass("vjs-waiting"),
            this.trigger("waiting");
            var n = this.currentTime();
            this.on("timeupdate", function e() {
                n !== t.currentTime() && (t.removeClass("vjs-waiting"),
                t.off("timeupdate", e))
            })
        }
        ,
        e.handleTechCanPlay_ = function() {
            this.removeClass("vjs-waiting"),
            this.trigger("canplay")
        }
        ,
        e.handleTechCanPlayThrough_ = function() {
            this.removeClass("vjs-waiting"),
            this.trigger("canplaythrough")
        }
        ,
        e.handleTechPlaying_ = function() {
            this.removeClass("vjs-waiting"),
            this.trigger("playing")
        }
        ,
        e.handleTechSeeking_ = function() {
            this.addClass("vjs-seeking"),
            this.trigger("seeking")
        }
        ,
        e.handleTechSeeked_ = function() {
            this.removeClass("vjs-seeking"),
            this.removeClass("vjs-ended"),
            this.trigger("seeked")
        }
        ,
        e.handleTechFirstPlay_ = function() {
            this.options_.starttime && (Y.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),
            this.currentTime(this.options_.starttime)),
            this.addClass("vjs-has-started"),
            this.trigger("firstplay")
        }
        ,
        e.handleTechPause_ = function() {
            this.removeClass("vjs-playing"),
            this.addClass("vjs-paused"),
            this.trigger("pause")
        }
        ,
        e.handleTechEnded_ = function() {
            this.addClass("vjs-ended"),
            this.removeClass("vjs-waiting"),
            this.options_.loop ? (this.currentTime(0),
            this.play()) : this.paused() || this.pause(),
            this.trigger("ended")
        }
        ,
        e.handleTechDurationChange_ = function() {
            this.duration(this.techGet_("duration"))
        }
        ,
        e.handleTechClick_ = function(e) {
            this.controls_ && (this.paused() ? ln(this.play()) : this.pause())
        }
        ,
        e.handleTechDoubleClick_ = function(t) {
            this.controls_ && (Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), function(e) {
                return e.contains(t.target)
            }) || void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.doubleClick && !1 === this.options_.userActions.doubleClick || (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.doubleClick ? this.options_.userActions.doubleClick.call(this, t) : this.isFullscreen() ? this.exitFullscreen() : this.requestFullscreen()))
        }
        ,
        e.handleTechTap_ = function() {
            this.userActive(!this.userActive())
        }
        ,
        e.handleTechTouchStart_ = function() {
            this.userWasActive = this.userActive()
        }
        ,
        e.handleTechTouchMove_ = function() {
            this.userWasActive && this.reportUserActivity()
        }
        ,
        e.handleTechTouchEnd_ = function(e) {
            e.cancelable && e.preventDefault()
        }
        ,
        e.handleStageClick_ = function() {
            this.reportUserActivity()
        }
        ,
        e.toggleFullscreenClass_ = function() {
            this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
        }
        ,
        e.documentFullscreenChange_ = function(e) {
            var t = e.target.player;
            if (!t || t === this) {
                var n = this.el()
                  , i = M.default[this.fsApi_.fullscreenElement] === n;
                !i && n.matches ? i = n.matches(":" + this.fsApi_.fullscreen) : !i && n.msMatchesSelector && (i = n.msMatchesSelector(":" + this.fsApi_.fullscreen)),
                this.isFullscreen(i)
            }
        }
        ,
        e.handleTechFullscreenChange_ = function(e, t) {
            t && (t.nativeIOSFullscreen && this.toggleClass("vjs-ios-native-fs"),
            this.isFullscreen(t.isFullscreen))
        }
        ,
        e.handleTechFullscreenError_ = function(e, t) {
            this.trigger("fullscreenerror", t)
        }
        ,
        e.togglePictureInPictureClass_ = function() {
            this.isInPictureInPicture() ? this.addClass("vjs-picture-in-picture") : this.removeClass("vjs-picture-in-picture")
        }
        ,
        e.handleTechEnterPictureInPicture_ = function(e) {
            this.isInPictureInPicture(!0)
        }
        ,
        e.handleTechLeavePictureInPicture_ = function(e) {
            this.isInPictureInPicture(!1)
        }
        ,
        e.handleTechError_ = function() {
            var e = this.tech_.error();
            this.error(e)
        }
        ,
        e.handleTechTextData_ = function(e, t) {
            var n = null;
            1 < arguments.length && (n = t),
            this.trigger("textdata", n)
        }
        ,
        e.getCache = function() {
            return this.cache_
        }
        ,
        e.resetCache_ = function() {
            this.cache_ = {
                currentTime: 0,
                initTime: 0,
                inactivityTimeout: this.options_.inactivityTimeout,
                duration: NaN,
                lastVolume: 1,
                lastPlaybackRate: this.defaultPlaybackRate(),
                media: null,
                src: "",
                source: {},
                sources: [],
                playbackRates: [],
                volume: 1
            }
        }
        ,
        e.techCall_ = function(e, t) {
            this.ready(function() {
                if (e in Yn)
                    return function(e, t, n, i) {
                        return t[n](e.reduce(Zn(n), i))
                    }(this.middleware_, this.tech_, e, t);
                if (e in Kn)
                    return $n(this.middleware_, this.tech_, e, t);
                try {
                    this.tech_ && this.tech_[e](t)
                } catch (e) {
                    throw Y(e),
                    e
                }
            }, !0)
        }
        ,
        e.techGet_ = function(t) {
            if (this.tech_ && this.tech_.isReady_) {
                if (t in Xn)
                    return function(e, t, n) {
                        return e.reduceRight(Zn(n), t[n]())
                    }(this.middleware_, this.tech_, t);
                if (t in Kn)
                    return $n(this.middleware_, this.tech_, t);
                try {
                    return this.tech_[t]()
                } catch (e) {
                    if (void 0 === this.tech_[t])
                        throw Y("Video.js: " + t + " method not defined for " + this.techName_ + " playback technology.", e),
                        e;
                    if ("TypeError" === e.name)
                        throw Y("Video.js: " + t + " unavailable on " + this.techName_ + " playback technology element.", e),
                        this.tech_.isReady_ = !1,
                        e;
                    throw Y(e),
                    e
                }
            }
        }
        ,
        e.play = function() {
            var t = this
              , e = this.options_.Promise || C.default.Promise;
            return e ? new e(function(e) {
                t.play_(e)
            }
            ) : this.play_()
        }
        ,
        e.play_ = function(e) {
            var t = this;
            void 0 === e && (e = ln),
            this.playCallbacks_.push(e);
            var n = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));
            if (this.waitToPlay_ && (this.off(["ready", "loadstart"], this.waitToPlay_),
            this.waitToPlay_ = null),
            !this.isReady_ || !n)
                return this.waitToPlay_ = function(e) {
                    t.play_()
                }
                ,
                this.one(["ready", "loadstart"], this.waitToPlay_),
                void (n || !Me && !Ce || this.load());
            var i = this.techGet_("play");
            null === i ? this.runPlayTerminatedQueue_() : this.runPlayCallbacks_(i)
        }
        ,
        e.runPlayTerminatedQueue_ = function() {
            var e = this.playTerminatedQueue_.slice(0);
            this.playTerminatedQueue_ = [],
            e.forEach(function(e) {
                e()
            })
        }
        ,
        e.runPlayCallbacks_ = function(t) {
            var e = this.playCallbacks_.slice(0);
            this.playCallbacks_ = [],
            this.playTerminatedQueue_ = [],
            e.forEach(function(e) {
                e(t)
            })
        }
        ,
        e.pause = function() {
            this.techCall_("pause")
        }
        ,
        e.paused = function() {
            return !1 !== this.techGet_("paused")
        }
        ,
        e.played = function() {
            return this.techGet_("played") || nn(0, 0)
        }
        ,
        e.scrubbing = function(e) {
            if (void 0 === e)
                return this.scrubbing_;
            this.scrubbing_ = !!e,
            this.techCall_("setScrubbing", this.scrubbing_),
            e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing")
        }
        ,
        e.currentTime = function(e) {
            return void 0 !== e ? (e < 0 && (e = 0),
            this.isReady_ && !this.changingSrc_ && this.tech_ && this.tech_.isReady_ ? (this.techCall_("setCurrentTime", e),
            void (this.cache_.initTime = 0)) : (this.cache_.initTime = e,
            this.off("canplay", this.boundApplyInitTime_),
            void this.one("canplay", this.boundApplyInitTime_))) : (this.cache_.currentTime = this.techGet_("currentTime") || 0,
            this.cache_.currentTime)
        }
        ,
        e.applyInitTime_ = function() {
            this.currentTime(this.cache_.initTime)
        }
        ,
        e.duration = function(e) {
            if (void 0 === e)
                return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
            (e = parseFloat(e)) < 0 && (e = 1 / 0),
            e !== this.cache_.duration && ((this.cache_.duration = e) === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"),
            isNaN(e) || this.trigger("durationchange"))
        }
        ,
        e.remainingTime = function() {
            return this.duration() - this.currentTime()
        }
        ,
        e.remainingTimeDisplay = function() {
            return Math.floor(this.duration()) - Math.floor(this.currentTime())
        }
        ,
        e.buffered = function() {
            var e = this.techGet_("buffered");
            return e && e.length || (e = nn(0, 0)),
            e
        }
        ,
        e.bufferedPercent = function() {
            return rn(this.buffered(), this.duration())
        }
        ,
        e.bufferedEnd = function() {
            var e = this.buffered()
              , t = this.duration()
              , n = e.end(e.length - 1);
            return t < n && (n = t),
            n
        }
        ,
        e.volume = function(e) {
            var t;
            return void 0 !== e ? (t = Math.max(0, Math.min(1, parseFloat(e))),
            this.cache_.volume = t,
            this.techCall_("setVolume", t),
            void (0 < t && this.lastVolume_(t))) : (t = parseFloat(this.techGet_("volume")),
            isNaN(t) ? 1 : t)
        }
        ,
        e.muted = function(e) {
            if (void 0 === e)
                return this.techGet_("muted") || !1;
            this.techCall_("setMuted", e)
        }
        ,
        e.defaultMuted = function(e) {
            return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1
        }
        ,
        e.lastVolume_ = function(e) {
            if (void 0 === e || 0 === e)
                return this.cache_.lastVolume;
            this.cache_.lastVolume = e
        }
        ,
        e.supportsFullScreen = function() {
            return this.techGet_("supportsFullScreen") || !1
        }
        ,
        e.isFullscreen = function(e) {
            if (void 0 === e)
                return this.isFullscreen_;
            var t = this.isFullscreen_;
            return this.isFullscreen_ = Boolean(e),
            this.isFullscreen_ !== t && this.fsApi_.prefixed && this.trigger("fullscreenchange"),
            void this.toggleFullscreenClass_()
        }
        ,
        e.requestFullscreen = function(o) {
            var e = this.options_.Promise || C.default.Promise;
            if (e) {
                var s = this;
                return new e(function(e, n) {
                    function i() {
                        s.off("fullscreenerror", r),
                        s.off("fullscreenchange", t)
                    }
                    function t() {
                        i(),
                        e()
                    }
                    function r(e, t) {
                        i(),
                        n(t)
                    }
                    s.one("fullscreenchange", t),
                    s.one("fullscreenerror", r);
                    var a = s.requestFullscreenHelper_(o);
                    a && (a.then(i, i),
                    a.then(e, n))
                }
                )
            }
            return this.requestFullscreenHelper_()
        }
        ,
        e.requestFullscreenHelper_ = function(e) {
            var t, n = this;
            if (this.fsApi_.prefixed || (t = this.options_.fullscreen && this.options_.fullscreen.options || {},
            void 0 !== e && (t = e)),
            this.fsApi_.requestFullscreen) {
                var i = this.el_[this.fsApi_.requestFullscreen](t);
                return i && i.then(function() {
                    return n.isFullscreen(!0)
                }, function() {
                    return n.isFullscreen(!1)
                }),
                i
            }
            this.tech_.supportsFullScreen() && !0 == !this.options_.preferFullWindow ? this.techCall_("enterFullScreen") : this.enterFullWindow()
        }
        ,
        e.exitFullscreen = function() {
            var e = this.options_.Promise || C.default.Promise;
            if (e) {
                var o = this;
                return new e(function(e, n) {
                    function i() {
                        o.off("fullscreenerror", r),
                        o.off("fullscreenchange", t)
                    }
                    function t() {
                        i(),
                        e()
                    }
                    function r(e, t) {
                        i(),
                        n(t)
                    }
                    o.one("fullscreenchange", t),
                    o.one("fullscreenerror", r);
                    var a = o.exitFullscreenHelper_();
                    a && (a.then(i, i),
                    a.then(e, n))
                }
                )
            }
            return this.exitFullscreenHelper_()
        }
        ,
        e.exitFullscreenHelper_ = function() {
            var e = this;
            if (this.fsApi_.requestFullscreen) {
                var t = M.default[this.fsApi_.exitFullscreen]();
                return t && ln(t.then(function() {
                    return e.isFullscreen(!1)
                })),
                t
            }
            this.tech_.supportsFullScreen() && !0 == !this.options_.preferFullWindow ? this.techCall_("exitFullScreen") : this.exitFullWindow()
        }
        ,
        e.enterFullWindow = function() {
            this.isFullscreen(!0),
            this.isFullWindow = !0,
            this.docOrigOverflow = M.default.documentElement.style.overflow,
            St(M.default, "keydown", this.boundFullWindowOnEscKey_),
            M.default.documentElement.style.overflow = "hidden",
            Ue(M.default.body, "vjs-full-window"),
            this.trigger("enterFullWindow")
        }
        ,
        e.fullWindowOnEscKey = function(e) {
            L.default.isEventKey(e, "Esc") && !0 === this.isFullscreen() && (this.isFullWindow ? this.exitFullWindow() : this.exitFullscreen())
        }
        ,
        e.exitFullWindow = function() {
            this.isFullscreen(!1),
            this.isFullWindow = !1,
            Et(M.default, "keydown", this.boundFullWindowOnEscKey_),
            M.default.documentElement.style.overflow = this.docOrigOverflow,
            je(M.default.body, "vjs-full-window"),
            this.trigger("exitFullWindow")
        }
        ,
        e.disablePictureInPicture = function(e) {
            if (void 0 === e)
                return this.techGet_("disablePictureInPicture");
            this.techCall_("setDisablePictureInPicture", e),
            this.options_.disablePictureInPicture = e,
            this.trigger("disablepictureinpicturechanged")
        }
        ,
        e.isInPictureInPicture = function(e) {
            return void 0 !== e ? (this.isInPictureInPicture_ = !!e,
            void this.togglePictureInPictureClass_()) : !!this.isInPictureInPicture_
        }
        ,
        e.requestPictureInPicture = function() {
            if ("pictureInPictureEnabled"in M.default && !1 === this.disablePictureInPicture())
                return this.techGet_("requestPictureInPicture")
        }
        ,
        e.exitPictureInPicture = function() {
            if ("pictureInPictureEnabled"in M.default)
                return M.default.exitPictureInPicture()
        }
        ,
        e.handleKeyDown = function(e) {
            var t = this.options_.userActions;
            if (t && t.hotkeys) {
                !function(e) {
                    var t = e.tagName.toLowerCase();
                    if (e.isContentEditable)
                        return !0;
                    if ("input" === t)
                        return -1 === ["button", "checkbox", "hidden", "radio", "reset", "submit"].indexOf(e.type);
                    return -1 !== ["textarea"].indexOf(t)
                }(this.el_.ownerDocument.activeElement) && ("function" == typeof t.hotkeys ? t.hotkeys.call(this, e) : this.handleHotkeys(e))
            }
        }
        ,
        e.handleHotkeys = function(e) {
            var t = this.options_.userActions ? this.options_.userActions.hotkeys : {}
              , n = t.fullscreenKey
              , i = void 0 === n ? function(e) {
                return L.default.isEventKey(e, "f")
            }
            : n
              , r = t.muteKey
              , a = void 0 === r ? function(e) {
                return L.default.isEventKey(e, "m")
            }
            : r
              , o = t.playPauseKey
              , s = void 0 === o ? function(e) {
                return L.default.isEventKey(e, "k") || L.default.isEventKey(e, "Space")
            }
            : o;
            if (i.call(this, e)) {
                e.preventDefault(),
                e.stopPropagation();
                var l = Jt.getComponent("FullscreenToggle");
                !1 !== M.default[this.fsApi_.fullscreenEnabled] && l.prototype.handleClick.call(this, e)
            } else if (a.call(this, e)) {
                e.preventDefault(),
                e.stopPropagation(),
                Jt.getComponent("MuteToggle").prototype.handleClick.call(this, e)
            } else if (s.call(this, e)) {
                e.preventDefault(),
                e.stopPropagation(),
                Jt.getComponent("PlayToggle").prototype.handleClick.call(this, e)
            }
        }
        ,
        e.canPlayType = function(e) {
            for (var t, n = 0, i = this.options_.techOrder; n < i.length; n++) {
                var r = i[n]
                  , a = Hn.getTech(r);
                if (a = a || Jt.getComponent(r)) {
                    if (a.isSupported() && (t = a.canPlayType(e)))
                        return t
                } else
                    Y.error('The "' + r + '" tech is undefined. Skipped browser support check for that tech.')
            }
            return ""
        }
        ,
        e.selectSource = function(e) {
            function t(e, n, i) {
                var r;
                return e.some(function(t) {
                    return n.some(function(e) {
                        if (r = i(t, e))
                            return !0
                    })
                }),
                r
            }
            function n(e, t) {
                var n = e[0];
                if (e[1].canPlaySource(t, r.options_[n.toLowerCase()]))
                    return {
                        source: t,
                        tech: n
                    }
            }
            var i, r = this, a = this.options_.techOrder.map(function(e) {
                return [e, Hn.getTech(e)]
            }).filter(function(e) {
                var t = e[0]
                  , n = e[1];
                return n ? n.isSupported() : (Y.error('The "' + t + '" tech is undefined. Skipped browser support check for that tech.'),
                !1)
            });
            return (this.options_.sourceOrder ? t(e, a, (i = n,
            function(e, t) {
                return i(t, e)
            }
            )) : t(a, e, n)) || !1
        }
        ,
        e.handleSrc_ = function(e, n) {
            var i = this;
            if (void 0 === e)
                return this.cache_.src || "";
            this.resetRetryOnError_ && this.resetRetryOnError_();
            var r = function t(e) {
                if (Array.isArray(e)) {
                    var n = [];
                    e.forEach(function(e) {
                        e = t(e),
                        Array.isArray(e) ? n = n.concat(e) : te(e) && n.push(e)
                    }),
                    e = n
                } else
                    e = "string" == typeof e && e.trim() ? [ti({
                        src: e
                    })] : te(e) && "string" == typeof e.src && e.src && e.src.trim() ? [ti(e)] : [];
                return e
            }(e);
            if (r.length) {
                if (this.changingSrc_ = !0,
                n || (this.cache_.sources = r),
                this.updateSourceCaches_(r[0]),
                qn(this, r[0], function(e, t) {
                    if (i.middleware_ = t,
                    n || (i.cache_.sources = r),
                    i.updateSourceCaches_(e),
                    i.src_(e))
                        return 1 < r.length ? i.handleSrc_(r.slice(1)) : (i.changingSrc_ = !1,
                        i.setTimeout(function() {
                            this.error({
                                code: 4,
                                message: this.localize(this.options_.notSupportedMessage)
                            })
                        }, 0),
                        void i.triggerReady());
                    !function(e, t) {
                        e.forEach(function(e) {
                            return e.setTech && e.setTech(t)
                        })
                    }(t, i.tech_)
                }),
                this.options_.retryOnError && 1 < r.length) {
                    var t = function() {
                        i.error(null),
                        i.handleSrc_(r.slice(1), !0)
                    }
                      , a = function() {
                        i.off("error", t)
                    };
                    this.one("error", t),
                    this.one("playing", a),
                    this.resetRetryOnError_ = function() {
                        i.off("error", t),
                        i.off("playing", a)
                    }
                }
            } else
                this.setTimeout(function() {
                    this.error({
                        code: 4,
                        message: this.localize(this.options_.notSupportedMessage)
                    })
                }, 0)
        }
        ,
        e.src = function(e) {
            return this.handleSrc_(e, !1)
        }
        ,
        e.src_ = function(e) {
            var t = this
              , n = this.selectSource([e]);
            return !n || (function(e, t) {
                return $t(e) === $t(t)
            }(n.tech, this.techName_) ? this.ready(function() {
                this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src),
                this.changingSrc_ = !1
            }, !0) : (this.changingSrc_ = !0,
            this.loadTech_(n.tech, n.source),
            this.tech_.ready(function() {
                t.changingSrc_ = !1
            })),
            !1)
        }
        ,
        e.load = function() {
            this.techCall_("load")
        }
        ,
        e.reset = function() {
            var e = this
              , t = this.options_.Promise || C.default.Promise;
            this.paused() || !t ? this.doReset_() : ln(this.play().then(function() {
                return e.doReset_()
            }))
        }
        ,
        e.doReset_ = function() {
            this.tech_ && this.tech_.clearTracks("text"),
            this.resetCache_(),
            this.poster(""),
            this.loadTech_(this.options_.techOrder[0], null),
            this.techCall_("reset"),
            this.resetControlBarUI_(),
            zt(this) && this.trigger("playerreset")
        }
        ,
        e.resetControlBarUI_ = function() {
            this.resetProgressBar_(),
            this.resetPlaybackRate_(),
            this.resetVolumeBar_()
        }
        ,
        e.resetProgressBar_ = function() {
            this.currentTime(0);
            var e = this.controlBar
              , t = e.durationDisplay
              , n = e.remainingTimeDisplay;
            t && t.updateContent(),
            n && n.updateContent()
        }
        ,
        e.resetPlaybackRate_ = function() {
            this.playbackRate(this.defaultPlaybackRate()),
            this.handleTechRateChange_()
        }
        ,
        e.resetVolumeBar_ = function() {
            this.volume(1),
            this.trigger("volumechange")
        }
        ,
        e.currentSources = function() {
            var e = this.currentSource()
              , t = [];
            return 0 !== Object.keys(e).length && t.push(e),
            this.cache_.sources || t
        }
        ,
        e.currentSource = function() {
            return this.cache_.source || {}
        }
        ,
        e.currentSrc = function() {
            return this.currentSource() && this.currentSource().src || ""
        }
        ,
        e.currentType = function() {
            return this.currentSource() && this.currentSource().type || ""
        }
        ,
        e.preload = function(e) {
            return void 0 !== e ? (this.techCall_("setPreload", e),
            void (this.options_.preload = e)) : this.techGet_("preload")
        }
        ,
        e.autoplay = function(e) {
            if (void 0 === e)
                return this.options_.autoplay || !1;
            var t;
            "string" == typeof e && /(any|play|muted)/.test(e) || !0 === e && this.options_.normalizeAutoplay ? (this.options_.autoplay = e,
            this.manualAutoplay_("string" == typeof e ? e : "play"),
            t = !1) : this.options_.autoplay = !!e,
            t = void 0 === t ? this.options_.autoplay : t,
            this.tech_ && this.techCall_("setAutoplay", t)
        }
        ,
        e.playsinline = function(e) {
            return void 0 !== e ? (this.techCall_("setPlaysinline", e),
            this.options_.playsinline = e,
            this) : this.techGet_("playsinline")
        }
        ,
        e.loop = function(e) {
            return void 0 !== e ? (this.techCall_("setLoop", e),
            void (this.options_.loop = e)) : this.techGet_("loop")
        }
        ,
        e.poster = function(e) {
            if (void 0 === e)
                return this.poster_;
            (e = e || "") !== this.poster_ && (this.poster_ = e,
            this.techCall_("setPoster", e),
            this.isPosterFromTech_ = !1,
            this.trigger("posterchange"))
        }
        ,
        e.handleTechPosterChange_ = function() {
            if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {
                var e = this.tech_.poster() || "";
                e !== this.poster_ && (this.poster_ = e,
                this.isPosterFromTech_ = !0,
                this.trigger("posterchange"))
            }
        }
        ,
        e.controls = function(e) {
            if (void 0 === e)
                return !!this.controls_;
            e = !!e,
            this.controls_ !== e && (this.controls_ = e,
            this.usingNativeControls() && this.techCall_("setControls", e),
            this.controls_ ? (this.removeClass("vjs-controls-disabled"),
            this.addClass("vjs-controls-enabled"),
            this.trigger("controlsenabled"),
            this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"),
            this.addClass("vjs-controls-disabled"),
            this.trigger("controlsdisabled"),
            this.usingNativeControls() || this.removeTechControlsListeners_()))
        }
        ,
        e.usingNativeControls = function(e) {
            if (void 0 === e)
                return !!this.usingNativeControls_;
            e = !!e,
            this.usingNativeControls_ !== e && (this.usingNativeControls_ = e,
            this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"),
            this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"),
            this.trigger("usingcustomcontrols")))
        }
        ,
        e.error = function(n) {
            var i = this;
            if (void 0 === n)
                return this.error_ || null;
            if (j("beforeerror").forEach(function(e) {
                var t = e(i, n);
                te(t) && !Array.isArray(t) || "string" == typeof t || "number" == typeof t || null === t ? n = t : i.log.error("please return a value that MediaError expects in beforeerror hooks")
            }),
            this.options_.suppressNotSupportedError && n && 4 === n.code) {
                var e = function() {
                    this.error(n)
                };
                return this.options_.suppressNotSupportedError = !1,
                this.any(["click", "touchstart"], e),
                void this.one("loadstart", function() {
                    this.off(["click", "touchstart"], e)
                })
            }
            if (null === n)
                return this.error_ = n,
                this.removeClass("vjs-error"),
                void (this.errorDisplay && this.errorDisplay.close());
            this.error_ = new an(n),
            this.addClass("vjs-error"),
            Y.error("(CODE:" + this.error_.code + " " + an.errorTypes[this.error_.code] + ")", this.error_.message, this.error_),
            this.trigger("error"),
            j("error").forEach(function(e) {
                return e(i, i.error_)
            })
        }
        ,
        e.reportUserActivity = function(e) {
            this.userActivity_ = !0
        }
        ,
        e.userActive = function(e) {
            if (void 0 === e)
                return this.userActive_;
            if ((e = !!e) !== this.userActive_) {
                if (this.userActive_ = e,
                this.userActive_)
                    return this.userActivity_ = !0,
                    this.removeClass("vjs-user-inactive"),
                    this.addClass("vjs-user-active"),
                    void this.trigger("useractive");
                this.tech_ && this.tech_.one("mousemove", function(e) {
                    e.stopPropagation(),
                    e.preventDefault()
                }),
                this.userActivity_ = !1,
                this.removeClass("vjs-user-active"),
                this.addClass("vjs-user-inactive"),
                this.trigger("userinactive")
            }
        }
        ,
        e.listenForUserActivity_ = function() {
            function e(e) {
                r(),
                this.clearInterval(t)
            }
            var t, n, i, r = Pt(this, this.reportUserActivity);
            this.on("mousedown", function() {
                r(),
                this.clearInterval(t),
                t = this.setInterval(r, 250)
            }),
            this.on("mousemove", function(e) {
                e.screenX === n && e.screenY === i || (n = e.screenX,
                i = e.screenY,
                r())
            }),
            this.on("mouseup", e),
            this.on("mouseleave", e);
            var a, o = this.getChild("controlBar");
            !o || Ce || pe || (o.on("mouseenter", function(e) {
                0 !== this.player().options_.inactivityTimeout && (this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout),
                this.player().options_.inactivityTimeout = 0
            }),
            o.on("mouseleave", function(e) {
                this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout
            })),
            this.on("keydown", r),
            this.on("keyup", r),
            this.setInterval(function() {
                if (this.userActivity_) {
                    this.userActivity_ = !1,
                    this.userActive(!0),
                    this.clearTimeout(a);
                    var e = this.options_.inactivityTimeout;
                    e <= 0 || (a = this.setTimeout(function() {
                        this.userActivity_ || this.userActive(!1)
                    }, e))
                }
            }, 250)
        }
        ,
        e.playbackRate = function(e) {
            if (void 0 === e)
                return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
            this.techCall_("setPlaybackRate", e)
        }
        ,
        e.defaultPlaybackRate = function(e) {
            return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1
        }
        ,
        e.isAudio = function(e) {
            if (void 0 === e)
                return !!this.isAudio_;
            this.isAudio_ = !!e
        }
        ,
        e.addTextTrack = function(e, t, n) {
            if (this.tech_)
                return this.tech_.addTextTrack(e, t, n)
        }
        ,
        e.addRemoteTextTrack = function(e, t) {
            if (this.tech_)
                return this.tech_.addRemoteTextTrack(e, t)
        }
        ,
        e.removeRemoteTextTrack = function(e) {
            void 0 === e && (e = {});
            var t = e.track;
            if (t = t || e,
            this.tech_)
                return this.tech_.removeRemoteTextTrack(t)
        }
        ,
        e.getVideoPlaybackQuality = function() {
            return this.techGet_("getVideoPlaybackQuality")
        }
        ,
        e.videoWidth = function() {
            return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
        }
        ,
        e.videoHeight = function() {
            return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
        }
        ,
        e.language = function(e) {
            if (void 0 === e)
                return this.language_;
            this.language_ !== String(e).toLowerCase() && (this.language_ = String(e).toLowerCase(),
            zt(this) && this.trigger("languagechange"))
        }
        ,
        e.languages = function() {
            return Xt(u.prototype.options_.languages, this.languages_)
        }
        ,
        e.toJSON = function() {
            var e = Xt(this.options_)
              , t = e.tracks;
            e.tracks = [];
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                (i = Xt(i)).player = void 0,
                e.tracks[n] = i
            }
            return e
        }
        ,
        e.createModal = function(e, t) {
            var n = this;
            (t = t || {}).content = e || "";
            var i = new pn(this,t);
            return this.addChild(i),
            i.on("dispose", function() {
                n.removeChild(i)
            }),
            i.open(),
            i
        }
        ,
        e.updateCurrentBreakpoint_ = function() {
            if (this.responsive())
                for (var e = this.currentBreakpoint(), t = this.currentWidth(), n = 0; n < zr.length; n++) {
                    var i = zr[n];
                    if (t <= this.breakpoints_[i]) {
                        if (e === i)
                            return;
                        e && this.removeClass(Hr[e]),
                        this.addClass(Hr[i]),
                        this.breakpoint_ = i;
                        break
                    }
                }
        }
        ,
        e.removeCurrentBreakpoint_ = function() {
            var e = this.currentBreakpointClass();
            this.breakpoint_ = "",
            e && this.removeClass(e)
        }
        ,
        e.breakpoints = function(e) {
            return void 0 === e || (this.breakpoint_ = "",
            this.breakpoints_ = ee({}, Vr, e),
            this.updateCurrentBreakpoint_()),
            ee(this.breakpoints_)
        }
        ,
        e.responsive = function(e) {
            return void 0 === e ? this.responsive_ : (e = Boolean(e)) !== this.responsive_ ? ((this.responsive_ = e) ? (this.on("playerresize", this.boundUpdateCurrentBreakpoint_),
            this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.boundUpdateCurrentBreakpoint_),
            this.removeCurrentBreakpoint_()),
            e) : void 0
        }
        ,
        e.currentBreakpoint = function() {
            return this.breakpoint_
        }
        ,
        e.currentBreakpointClass = function() {
            return Hr[this.breakpoint_] || ""
        }
        ,
        e.loadMedia = function(e, t) {
            var n = this;
            if (e && "object" == typeof e) {
                this.reset(),
                this.cache_.media = Xt(e);
                var i = this.cache_.media
                  , r = i.artwork
                  , a = i.poster
                  , o = i.src
                  , s = i.textTracks;
                !r && a && (this.cache_.media.artwork = [{
                    src: a,
                    type: Jn(a)
                }]),
                o && this.src(o),
                a && this.poster(a),
                Array.isArray(s) && s.forEach(function(e) {
                    return n.addRemoteTextTrack(e, !1)
                }),
                this.ready(t)
            }
        }
        ,
        e.getMedia = function() {
            if (this.cache_.media)
                return Xt(this.cache_.media);
            var e = this.poster()
              , t = {
                src: this.currentSources(),
                textTracks: Array.prototype.map.call(this.remoteTextTracks(), function(e) {
                    return {
                        kind: e.kind,
                        label: e.label,
                        language: e.language,
                        src: e.src
                    }
                })
            };
            return e && (t.poster = e,
            t.artwork = [{
                src: t.poster,
                type: Jn(t.poster)
            }]),
            t
        }
        ,
        u.getTagSettings = function(e) {
            var t = {
                sources: [],
                tracks: []
            }
              , n = Ve(e)
              , i = n["data-setup"];
            if (Be(e, "vjs-fill") && (n.fill = !0),
            Be(e, "vjs-fluid") && (n.fluid = !0),
            null !== i) {
                var r = I.default(i || "{}")
                  , a = r[0]
                  , o = r[1];
                a && Y.error(a),
                ee(n, o)
            }
            if (ee(t, n),
            e.hasChildNodes())
                for (var s = e.childNodes, l = 0, u = s.length; l < u; l++) {
                    var c = s[l]
                      , h = c.nodeName.toLowerCase();
                    "source" === h ? t.sources.push(Ve(c)) : "track" === h && t.tracks.push(Ve(c))
                }
            return t
        }
        ,
        e.flexNotSupported_ = function() {
            var e = M.default.createElement("i");
            return !("flexBasis"in e.style || "webkitFlexBasis"in e.style || "mozFlexBasis"in e.style || "msFlexBasis"in e.style || "msFlexOrder"in e.style)
        }
        ,
        e.debug = function(e) {
            if (void 0 === e)
                return this.debugEnabled_;
            e ? (this.trigger("debugon"),
            this.previousLogLevel_ = this.log.level,
            this.log.level("debug"),
            this.debugEnabled_ = !0) : (this.trigger("debugoff"),
            this.log.level(this.previousLogLevel_),
            this.previousLogLevel_ = void 0,
            this.debugEnabled_ = !1)
        }
        ,
        e.playbackRates = function(e) {
            if (void 0 === e)
                return this.cache_.playbackRates;
            Array.isArray(e) && e.every(function(e) {
                return "number" == typeof e
            }) && (this.cache_.playbackRates = e,
            this.trigger("playbackrateschange"))
        }
        ,
        u
    }(Jt);
    zn.names.forEach(function(e) {
        var t = zn[e];
        Gr.prototype[t.getterName] = function() {
            return this.tech_ ? this.tech_[t.getterName]() : (this[t.privateName] = this[t.privateName] || new t.ListClass,
            this[t.privateName])
        }
    }),
    Gr.prototype.crossorigin = Gr.prototype.crossOrigin,
    Gr.players = {};
    var Wr = C.default.navigator;
    Gr.prototype.options_ = {
        techOrder: Hn.defaultTechOrder_,
        html5: {},
        inactivityTimeout: 2e3,
        playbackRates: [],
        liveui: !1,
        children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
        language: Wr && (Wr.languages && Wr.languages[0] || Wr.userLanguage || Wr.language) || "en",
        languages: {},
        notSupportedMessage: "No compatible source was found for this media.",
        normalizeAutoplay: !1,
        fullscreen: {
            options: {
                navigationUI: "hide"
            }
        },
        breakpoints: {},
        responsive: !1
    },
    ["ended", "seeking", "seekable", "networkState", "readyState"].forEach(function(e) {
        Gr.prototype[e] = function() {
            return this.techGet_(e)
        }
    }),
    Ur.forEach(function(e) {
        Gr.prototype["handleTech" + $t(e) + "_"] = function() {
            return this.trigger(e)
        }
    }),
    Jt.registerComponent("Player", Gr);
    function qr(e) {
        return Jr.hasOwnProperty(e)
    }
    function $r(e) {
        return qr(e) ? Jr[e] : void 0
    }
    function Xr(e, t) {
        e[Qr] = e[Qr] || {},
        e[Qr][t] = !0
    }
    function Yr(e, t, n) {
        var i = (n ? "before" : "") + "pluginsetup";
        e.trigger(i, t),
        e.trigger(i + ":" + t.name, t)
    }
    function Kr(r, a) {
        return a.prototype.name = r,
        function() {
            Yr(this, {
                name: r,
                plugin: a,
                instance: null
            }, !0);
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            var i = D.default(a, [this].concat(t));
            return this[r] = function() {
                return i
            }
            ,
            Yr(this, i.getEventHash()),
            i
        }
    }
    var Zr = "plugin"
      , Qr = "activePlugins_"
      , Jr = {}
      , ea = function() {
        function n(e) {
            if (this.constructor === n)
                throw new Error("Plugin must be sub-classed; not directly instantiated.");
            this.player = e,
            this.log || (this.log = this.player.log.createLogger(this.name)),
            Vt(this),
            delete this.trigger,
            Wt(this, this.constructor.defaultState),
            Xr(e, this.name),
            this.dispose = this.dispose.bind(this),
            e.on("dispose", this.dispose)
        }
        var e = n.prototype;
        return e.version = function() {
            return this.constructor.VERSION
        }
        ,
        e.getEventHash = function(e) {
            return void 0 === e && (e = {}),
            e.name = this.name,
            e.plugin = this.constructor,
            e.instance = this,
            e
        }
        ,
        e.trigger = function(e, t) {
            return void 0 === t && (t = {}),
            Ct(this.eventBusEl_, e, this.getEventHash(t))
        }
        ,
        e.handleStateChanged = function(e) {}
        ,
        e.dispose = function() {
            var e = this.name
              , t = this.player;
            this.trigger("dispose"),
            this.off(),
            t.off("dispose", this.dispose),
            t[Qr][e] = !1,
            this.player = this.state = null,
            t[e] = Kr(e, Jr[e])
        }
        ,
        n.isBasic = function(e) {
            var t = "string" == typeof e ? $r(e) : e;
            return "function" == typeof t && !n.prototype.isPrototypeOf(t.prototype)
        }
        ,
        n.registerPlugin = function(e, t) {
            if ("string" != typeof e)
                throw new Error('Illegal plugin name, "' + e + '", must be a string, was ' + typeof e + ".");
            if (qr(e))
                Y.warn('A plugin named "' + e + '" already exists. You may want to avoid re-registering plugins!');
            else if (Gr.prototype.hasOwnProperty(e))
                throw new Error('Illegal plugin name, "' + e + '", cannot share a name with an existing player method!');
            if ("function" != typeof t)
                throw new Error('Illegal plugin for "' + e + '", must be a function, was ' + typeof t + ".");
            return Jr[e] = t,
            e !== Zr && (n.isBasic(t) ? Gr.prototype[e] = function(t, n) {
                function i() {
                    Yr(this, {
                        name: t,
                        plugin: n,
                        instance: null
                    }, !0);
                    var e = n.apply(this, arguments);
                    return Xr(this, t),
                    Yr(this, {
                        name: t,
                        plugin: n,
                        instance: e
                    }),
                    e
                }
                return Object.keys(n).forEach(function(e) {
                    i[e] = n[e]
                }),
                i
            }(e, t) : Gr.prototype[e] = Kr(e, t)),
            t
        }
        ,
        n.deregisterPlugin = function(e) {
            if (e === Zr)
                throw new Error("Cannot de-register base plugin.");
            qr(e) && (delete Jr[e],
            delete Gr.prototype[e])
        }
        ,
        n.getPlugins = function(e) {
            var n;
            return void 0 === e && (e = Object.keys(Jr)),
            e.forEach(function(e) {
                var t = $r(e);
                t && ((n = n || {})[e] = t)
            }),
            n
        }
        ,
        n.getPluginVersion = function(e) {
            var t = $r(e);
            return t && t.VERSION || ""
        }
        ,
        n
    }();
    ea.getPlugin = $r,
    ea.BASE_PLUGIN_NAME = Zr,
    ea.registerPlugin(Zr, ea),
    Gr.prototype.usingPlugin = function(e) {
        return !!this[Qr] && !0 === this[Qr][e]
    }
    ,
    Gr.prototype.hasPlugin = function(e) {
        return !!qr(e)
    }
    ;
    var ta = function(e) {
        return 0 === e.indexOf("#") ? e.slice(1) : e
    };
    function na(e, n, t) {
        var i = na.getPlayer(e);
        if (i)
            return n && Y.warn('Player "' + e + '" is already initialised. Options will not be applied.'),
            t && i.ready(t),
            i;
        var r = "string" == typeof e ? at("#" + ta(e)) : e;
        if (!Le(r))
            throw new TypeError("The element or ID supplied is not valid. (videojs)");
        r.ownerDocument.defaultView && r.ownerDocument.body.contains(r) || Y.warn("The element supplied is not included in the DOM"),
        n = n || {},
        j("beforesetup").forEach(function(e) {
            var t = e(r, Xt(n));
            te(t) && !Array.isArray(t) ? n = Xt(n, t) : Y.error("please return an object in beforesetup hooks")
        });
        var a = Jt.getComponent("Player");
        return i = new a(r,n,t),
        j("setup").forEach(function(e) {
            return e(i)
        }),
        i
    }
    if (na.hooks_ = U,
    na.hooks = j,
    na.hook = function(e, t) {
        j(e, t)
    }
    ,
    na.hookOnce = function(n, e) {
        j(n, [].concat(e).map(function(t) {
            return function e() {
                return z(n, e),
                t.apply(void 0, arguments)
            }
        }))
    }
    ,
    na.removeHook = z,
    !0 !== C.default.VIDEOJS_NO_DYNAMIC_STYLE && Ie()) {
        var ia = at(".vjs-styles-defaults");
        if (!ia) {
            ia = dt("vjs-styles-defaults");
            var ra = at("head");
            ra && ra.insertBefore(ia, ra.firstChild),
            pt(ia, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")
        }
    }
    ct(1, na),
    na.VERSION = "7.15.4",
    na.options = Gr.prototype.options_,
    na.getPlayers = function() {
        return Gr.players
    }
    ,
    na.getPlayer = function(e) {
        var t, n = Gr.players;
        if ("string" == typeof e) {
            var i = ta(e)
              , r = n[i];
            if (r)
                return r;
            t = at("#" + i)
        } else
            t = e;
        if (Le(t)) {
            var a = t
              , o = a.player
              , s = a.playerId;
            if (o || n[s])
                return o || n[s]
        }
    }
    ,
    na.getAllPlayers = function() {
        return Object.keys(Gr.players).map(function(e) {
            return Gr.players[e]
        }).filter(Boolean)
    }
    ,
    na.players = Gr.players,
    na.getComponent = Jt.getComponent,
    na.registerComponent = function(e, t) {
        Hn.isTech(t) && Y.warn("The " + e + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),
        Jt.registerComponent.call(Jt, e, t)
    }
    ,
    na.getTech = Hn.getTech,
    na.registerTech = Hn.registerTech,
    na.use = function(e, t) {
        Vn[e] = Vn[e] || [],
        Vn[e].push(t)
    }
    ,
    Object.defineProperty(na, "middleware", {
        value: {},
        writeable: !1,
        enumerable: !0
    }),
    Object.defineProperty(na.middleware, "TERMINATOR", {
        value: Wn,
        writeable: !1,
        enumerable: !0
    }),
    na.browser = ke,
    na.TOUCH_ENABLED = Te,
    na.extend = function(e, t) {
        void 0 === t && (t = {});
        var n = function() {
            e.apply(this, arguments)
        }
          , i = {};
        for (var r in "object" == typeof t ? (t.constructor !== Object.prototype.constructor && (n = t.constructor),
        i = t) : "function" == typeof t && (n = t),
        N.default(n, e),
        e && (n.super_ = e),
        i)
            i.hasOwnProperty(r) && (n.prototype[r] = i[r]);
        return n
    }
    ,
    na.mergeOptions = Xt,
    na.bind = Pt,
    na.registerPlugin = ea.registerPlugin,
    na.deregisterPlugin = ea.deregisterPlugin,
    na.plugin = function(e, t) {
        return Y.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),
        ea.registerPlugin(e, t)
    }
    ,
    na.getPlugins = ea.getPlugins,
    na.getPlugin = ea.getPlugin,
    na.getPluginVersion = ea.getPluginVersion,
    na.addLanguage = function(e, t) {
        var n;
        return e = ("" + e).toLowerCase(),
        na.options.languages = Xt(na.options.languages, ((n = {})[e] = t,
        n)),
        na.options.languages[e]
    }
    ,
    na.log = Y,
    na.createLogger = K,
    na.createTimeRange = na.createTimeRanges = nn,
    na.formatTime = gi,
    na.setFormatTime = function(e) {
        mi = e
    }
    ,
    na.resetFormatTime = function() {
        mi = fi
    }
    ,
    na.parseUrl = yn,
    na.isCrossOrigin = wn,
    na.EventTarget = It,
    na.on = St,
    na.one = Mt,
    na.off = Et,
    na.trigger = Ct,
    na.xhr = O.default,
    na.TextTrack = Dn,
    na.AudioTrack = Nn,
    na.VideoTrack = Fn,
    ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach(function(e) {
        na[e] = function() {
            return Y.warn("videojs." + e + "() is deprecated; use videojs.dom." + e + "() instead"),
            st[e].apply(null, arguments)
        }
    }),
    na.computedStyle = ie,
    na.dom = st,
    na.url = Rn,
    na.defineLazyProperty = Rr,
    na.addLanguage("en", {
        "Non-Fullscreen": "Exit Fullscreen"
    });
    function aa(e, t, n) {
        return e && n && n.responseURL && t !== n.responseURL ? n.responseURL : t
    }
    function oa(e) {
        return na.log.debug ? na.log.debug.bind(na, "VHS:", e + " >") : function() {}
    }
    function sa(e, t) {
        var n, i = [];
        if (e && e.length)
            for (n = 0; n < e.length; n++)
                t(e.start(n), e.end(n)) && i.push([e.start(n), e.end(n)]);
        return na.createTimeRanges(i)
    }
    function la(e, n) {
        return sa(e, function(e, t) {
            return e - .1 <= n && n <= t + .1
        })
    }
    function ua(e, t) {
        return sa(e, function(e) {
            return t <= e - 1 / 30
        })
    }
    function ca(e) {
        var t = [];
        if (!e || !e.length)
            return "";
        for (var n = 0; n < e.length; n++)
            t.push(e.start(n) + " => " + e.end(n));
        return t.join(", ")
    }
    function ha(e) {
        for (var t = [], n = 0; n < e.length; n++)
            t.push({
                start: e.start(n),
                end: e.end(n)
            });
        return t
    }
    function da(e) {
        if (e && e.length && e.end)
            return e.end(e.length - 1)
    }
    function pa(e) {
        return (e.segments || []).reduce(function(n, i, r) {
            return i.parts ? i.parts.forEach(function(e, t) {
                n.push({
                    duration: e.duration,
                    segmentIndex: r,
                    partIndex: t,
                    part: e,
                    segment: i
                })
            }) : n.push({
                duration: i.duration,
                segmentIndex: r,
                partIndex: null,
                segment: i,
                part: null
            }),
            n
        }, [])
    }
    function fa(e) {
        var t = e.segments && e.segments.length && e.segments[e.segments.length - 1];
        return t && t.parts || []
    }
    function ma(e) {
        var t = e.preloadSegment;
        if (t) {
            var n = t.parts
              , i = (t.preloadHints || []).reduce(function(e, t) {
                return e + ("PART" === t.type ? 1 : 0)
            }, 0);
            return i += n && n.length ? n.length : 0
        }
    }
    function ga(e, t) {
        if (t.endList)
            return 0;
        if (e && e.suggestedPresentationDelay)
            return e.suggestedPresentationDelay;
        var n = 0 < fa(t).length;
        return n && t.serverControl && t.serverControl.partHoldBack ? t.serverControl.partHoldBack : n && t.partTargetDuration ? 3 * t.partTargetDuration : t.serverControl && t.serverControl.holdBack ? t.serverControl.holdBack : t.targetDuration ? 3 * t.targetDuration : 0
    }
    function va(e, t, n) {
        if (void 0 === t && (t = e.mediaSequence + e.segments.length),
        t < e.mediaSequence)
            return 0;
        var i = function(e, t) {
            var n = 0
              , i = t - e.mediaSequence
              , r = e.segments[i];
            if (r) {
                if (void 0 !== r.start)
                    return {
                        result: r.start,
                        precise: !0
                    };
                if (void 0 !== r.end)
                    return {
                        result: r.end - r.duration,
                        precise: !0
                    }
            }
            for (; i--; ) {
                if (void 0 !== (r = e.segments[i]).end)
                    return {
                        result: n + r.end,
                        precise: !0
                    };
                if (n += r.duration,
                void 0 !== r.start)
                    return {
                        result: n + r.start,
                        precise: !0
                    }
            }
            return {
                result: n,
                precise: !1
            }
        }(e, t);
        if (i.precise)
            return i.result;
        var r = function(e, t) {
            for (var n, i = 0, r = t - e.mediaSequence; r < e.segments.length; r++) {
                if (void 0 !== (n = e.segments[r]).start)
                    return {
                        result: n.start - i,
                        precise: !0
                    };
                if (i += n.duration,
                void 0 !== n.end)
                    return {
                        result: n.end - i,
                        precise: !0
                    }
            }
            return {
                result: -1,
                precise: !1
            }
        }(e, t);
        return r.precise ? r.result : i.result + n
    }
    function ya(e, t, n) {
        if (!e)
            return 0;
        if ("number" != typeof n && (n = 0),
        void 0 === t) {
            if (e.totalDuration)
                return e.totalDuration;
            if (!e.endList)
                return C.default.Infinity
        }
        return va(e, t, n)
    }
    function ba(e) {
        var t = e.defaultDuration
          , n = e.durationList
          , i = e.startIndex
          , r = e.endIndex
          , a = 0;
        if (r < i) {
            var o = [r, i];
            i = o[0],
            r = o[1]
        }
        if (i < 0) {
            for (var s = i; s < Math.min(0, r); s++)
                a += t;
            i = 0
        }
        for (var l = i; l < r; l++)
            a += n[l].duration;
        return a
    }
    function _a(e, t, n, i) {
        if (!e || !e.segments)
            return null;
        if (e.endList)
            return ya(e);
        if (null === t)
            return null;
        t = t || 0;
        var r = va(e, e.mediaSequence + e.segments.length, t);
        return n && (r -= i = "number" == typeof i ? i : ga(null, e)),
        Math.max(0, r)
    }
    function wa(e) {
        return e.excludeUntil && e.excludeUntil > Date.now()
    }
    function xa(e) {
        return e.excludeUntil && e.excludeUntil === 1 / 0
    }
    function Ta(e) {
        var t = wa(e);
        return !e.disabled && !t
    }
    function Sa(e, t) {
        return t.attributes && t.attributes[e]
    }
    function Ea(e, t) {
        if (1 === e.playlists.length)
            return !0;
        var n = t.attributes.BANDWIDTH || Number.MAX_VALUE;
        return 0 === e.playlists.filter(function(e) {
            return !!Ta(e) && (e.attributes.BANDWIDTH || 0) < n
        }).length
    }
    function Ca(e, t) {
        return !(!e && !t || !e && t || e && !t) && (e === t || (!(!e.id || !t.id || e.id !== t.id) || (!(!e.resolvedUri || !t.resolvedUri || e.resolvedUri !== t.resolvedUri) || !(!e.uri || !t.uri || e.uri !== t.uri))))
    }
    function Ma(e, t) {
        var n = e && e.mediaGroups && e.mediaGroups.AUDIO || {}
          , i = !1;
        for (var r in n) {
            for (var a in n[r])
                if (i = t(n[r][a]))
                    break;
            if (i)
                break
        }
        return !!i
    }
    function ka(i) {
        if (!i || !i.playlists || !i.playlists.length)
            return Ma(i, function(e) {
                return e.playlists && e.playlists.length || e.uri
            });
        for (var e = function(e) {
            var t = i.playlists[e]
              , n = t.attributes && t.attributes.CODECS;
            return n && n.split(",").every(function(e) {
                return g.isAudioCodec(e)
            }) ? "continue" : Ma(i, function(e) {
                return Ca(t, e)
            }) ? "continue" : {
                v: !1
            }
        }, t = 0; t < i.playlists.length; t++) {
            var n = e(t);
            if ("continue" !== n && "object" == typeof n)
                return n.v
        }
        return !0
    }
    function Pa(e, t) {
        return e + "-" + t
    }
    function Aa(r, a) {
        r.mediaGroups && ["AUDIO", "SUBTITLES"].forEach(function(e) {
            if (r.mediaGroups[e])
                for (var t in r.mediaGroups[e])
                    for (var n in r.mediaGroups[e][t]) {
                        var i = r.mediaGroups[e][t][n];
                        a(i, e, t, n)
                    }
        })
    }
    function Ia(e) {
        var t = e.playlist
          , n = e.uri
          , i = e.id;
        t.id = i,
        t.playlistErrors_ = 0,
        n && (t.uri = n),
        t.attributes = t.attributes || {}
    }
    function La(s, e) {
        s.uri = e;
        for (var t = 0; t < s.playlists.length; t++)
            if (!s.playlists[t].uri) {
                var n = "placeholder-uri-" + t;
                s.playlists[t].uri = n
            }
        var l = ka(s);
        Aa(s, function(e, t, n, i) {
            var r = "placeholder-uri-" + t + "-" + n + "-" + i;
            if (!e.playlists || !e.playlists.length) {
                if (l && "AUDIO" === t && !e.uri)
                    for (var a = 0; a < s.playlists.length; a++) {
                        var o = s.playlists[a];
                        if (o.attributes && o.attributes.AUDIO && o.attributes.AUDIO === n)
                            return
                    }
                e.playlists = [k.default({}, e)]
            }
            e.playlists.forEach(function(e, t) {
                var n = Pa(t, r);
                e.uri ? e.resolvedUri = e.resolvedUri || Bo(s.uri, e.uri) : (e.uri = 0 === t ? r : n,
                e.resolvedUri = e.uri),
                e.id = e.id || n,
                e.attributes = e.attributes || {},
                s.playlists[e.id] = e,
                s.playlists[e.uri] = e
            })
        }),
        function(e) {
            for (var t = e.playlists.length; t--; ) {
                var n = e.playlists[t];
                Ia({
                    playlist: n,
                    id: Pa(t, n.uri)
                }),
                n.resolvedUri = Bo(e.uri, n.uri),
                e.playlists[n.id] = n,
                (e.playlists[n.uri] = n).attributes.BANDWIDTH || zo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")
            }
        }(s),
        function(t) {
            Aa(t, function(e) {
                e.uri && (e.resolvedUri = Bo(t.uri, e.uri))
            })
        }(s)
    }
    function Oa(e, t) {
        if (!e)
            return t;
        var n = Ho(e, t);
        if (e.preloadHints && !t.preloadHints && delete n.preloadHints,
        e.parts && !t.parts)
            delete n.parts;
        else if (e.parts && t.parts)
            for (var i = 0; i < t.parts.length; i++)
                e.parts && e.parts[i] && (n.parts[i] = Ho(e.parts[i], t.parts[i]));
        return !e.skipped && t.skipped && (n.skipped = !1),
        e.preload && !t.preload && (n.preload = !1),
        n
    }
    function Ra(e, t) {
        !e.resolvedUri && e.uri && (e.resolvedUri = Bo(t, e.uri)),
        e.key && !e.key.resolvedUri && (e.key.resolvedUri = Bo(t, e.key.uri)),
        e.map && !e.map.resolvedUri && (e.map.resolvedUri = Bo(t, e.map.uri)),
        e.map && e.map.key && !e.map.key.resolvedUri && (e.map.key.resolvedUri = Bo(t, e.map.key.uri)),
        e.parts && e.parts.length && e.parts.forEach(function(e) {
            e.resolvedUri || (e.resolvedUri = Bo(t, e.uri))
        }),
        e.preloadHints && e.preloadHints.length && e.preloadHints.forEach(function(e) {
            e.resolvedUri || (e.resolvedUri = Bo(t, e.uri))
        })
    }
    function Da(e) {
        var t = e.segments || []
          , n = e.preloadSegment;
        if (n && n.parts && n.parts.length) {
            if (n.preloadHints)
                for (var i = 0; i < n.preloadHints.length; i++)
                    if ("MAP" === n.preloadHints[i].type)
                        return t;
            n.duration = e.targetDuration,
            n.preload = !0,
            t.push(n)
        }
        return t
    }
    function Na(e, t) {
        return e === t || e.segments && t.segments && e.segments.length === t.segments.length && e.endList === t.endList && e.mediaSequence === t.mediaSequence
    }
    function Fa(e, a, t) {
        void 0 === t && (t = Na);
        var n = Ho(e, {})
          , i = n.playlists[a.id];
        if (!i)
            return null;
        if (t(i, a))
            return null;
        a.segments = Da(a);
        var r = Ho(i, a);
        if (r.preloadSegment && !a.preloadSegment && delete r.preloadSegment,
        i.segments) {
            if (a.skip) {
                a.segments = a.segments || [];
                for (var o = 0; o < a.skip.skippedSegments; o++)
                    a.segments.unshift({
                        skipped: !0
                    })
            }
            r.segments = function(e, t, n) {
                var i = e.slice()
                  , r = t.slice();
                n = n || 0;
                for (var a, o = [], s = 0; s < r.length; s++) {
                    var l = i[s + n]
                      , u = r[s];
                    l ? (a = l.map || a,
                    o.push(Oa(l, u))) : (a && !u.map && (u.map = a),
                    o.push(u))
                }
                return o
            }(i.segments, a.segments, a.mediaSequence - i.mediaSequence)
        }
        r.segments.forEach(function(e) {
            Ra(e, r.resolvedUri)
        });
        for (var s = 0; s < n.playlists.length; s++)
            n.playlists[s].id === a.id && (n.playlists[s] = r);
        return n.playlists[a.id] = r,
        n.playlists[a.uri] = r,
        Aa(e, function(e, t, n, i) {
            if (e.playlists)
                for (var r = 0; r < e.playlists.length; r++)
                    a.id === e.playlists[r].id && (e.playlists[r] = a)
        }),
        n
    }
    function Ba(e, t) {
        var n = e.segments[e.segments.length - 1]
          , i = n && n.parts && n.parts[n.parts.length - 1]
          , r = i && i.duration || n && n.duration;
        return t && r ? 1e3 * r : 500 * (e.partTargetDuration || e.targetDuration || 10)
    }
    function Ua(e, t, n, i) {
        var r = "arraybuffer" === e.responseType ? e.response : e.responseText;
        !t && r && (e.responseTime = Date.now(),
        e.roundTripTime = e.responseTime - e.requestTime,
        e.bytesReceived = r.byteLength || r.length,
        e.bandwidth || (e.bandwidth = Math.floor(e.bytesReceived / e.roundTripTime * 8 * 1e3))),
        n.headers && (e.responseHeaders = n.headers),
        t && "ETIMEDOUT" === t.code && (e.timedout = !0),
        t || e.aborted || 200 === n.statusCode || 206 === n.statusCode || 0 === n.statusCode || (t = new Error("XHR Failed with a response of: " + (e && (r || e.responseText)))),
        i(t, e)
    }
    function ja() {
        function o(e, n) {
            e = Wo({
                timeout: 45e3
            }, e);
            var t = o.beforeRequest || na.Vhs.xhr.beforeRequest;
            if (t && "function" == typeof t) {
                var i = t(e);
                i && (e = i)
            }
            var r = (!0 === na.Vhs.xhr.original ? Go : na.Vhs.xhr)(e, function(e, t) {
                return Ua(r, e, t, n)
            })
              , a = r.abort;
            return r.abort = function() {
                return r.aborted = !0,
                a.apply(r, arguments)
            }
            ,
            r.uri = e.uri,
            r.requestTime = Date.now(),
            r
        }
        return o.original = !0,
        o
    }
    function za(e) {
        var t = {};
        return e.byterange && (t.Range = function(e) {
            var t = e.offset + e.length - 1;
            return "bytes=" + e.offset + "-" + t
        }(e.byterange)),
        t
    }
    function Ha(e, t) {
        var n = e.toString(16);
        return "00".substring(0, 2 - n.length) + n + (t % 2 ? " " : "")
    }
    function Va(e) {
        return 32 <= e && e < 126 ? String.fromCharCode(e) : "."
    }
    function Ga(n) {
        var i = {};
        return Object.keys(n).forEach(function(e) {
            var t = n[e];
            ArrayBuffer.isView(t) ? i[e] = {
                bytes: t.buffer,
                byteOffset: t.byteOffset,
                byteLength: t.byteLength
            } : i[e] = t
        }),
        i
    }
    function Wa(e) {
        var t = e.byterange || {
            length: 1 / 0,
            offset: 0
        };
        return [t.length, t.offset, e.resolvedUri].join(",")
    }
    function qa(e) {
        return e.resolvedUri
    }
    function $a(e) {
        for (var t = Array.prototype.slice.call(e), n = "", i = 0; i < t.length / 16; i++)
            n += t.slice(16 * i, 16 * i + 16).map(Ha).join("") + " " + t.slice(16 * i, 16 * i + 16).map(Va).join("") + "\n";
        return n
    }
    function Xa(e) {
        var t = e.playlist
          , n = e.time
          , i = void 0 === n ? void 0 : n
          , r = e.callback;
        if (!r)
            throw new Error("getProgramTime: callback must be provided");
        if (!t || void 0 === i)
            return r({
                message: "getProgramTime: playlist and time must be provided"
            });
        var a = function(e, t) {
            if (!t || !t.segments || 0 === t.segments.length)
                return null;
            for (var n, i = 0, r = 0; r < t.segments.length && !(e <= (i = (n = t.segments[r]).videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationEnd : i + n.duration)); r++)
                ;
            var a = t.segments[t.segments.length - 1];
            if (a.videoTimingInfo && a.videoTimingInfo.transmuxedPresentationEnd < e)
                return null;
            if (i < e) {
                if (e > i + .25 * a.duration)
                    return null;
                n = a
            }
            return {
                segment: n,
                estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : i - n.duration,
                type: n.videoTimingInfo ? "accurate" : "estimate"
            }
        }(i, t);
        if (!a)
            return r({
                message: "valid programTime was not found"
            });
        if ("estimate" === a.type)
            return r({
                message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again",
                seekTime: a.estimatedStart
            });
        var o = {
            mediaSeconds: i
        }
          , s = function(e, t) {
            if (!t.dateTimeObject)
                return null;
            var n = t.videoTimingInfo.transmuxerPrependedSeconds
              , i = e - (t.videoTimingInfo.transmuxedPresentationStart + n);
            return new Date(t.dateTimeObject.getTime() + 1e3 * i)
        }(i, a.segment);
        return s && (o.programDateTime = s.toISOString()),
        r(null, o)
    }
    function Ya(e) {
        var t = e.programTime
          , n = e.playlist
          , i = e.retryCount
          , r = void 0 === i ? 2 : i
          , a = e.seekTo
          , o = e.pauseAfterSeek
          , s = void 0 === o || o
          , l = e.tech
          , u = e.callback;
        if (!u)
            throw new Error("seekToProgramTime: callback must be provided");
        if (void 0 === t || !n || !a)
            return u({
                message: "seekToProgramTime: programTime, seekTo and playlist must be provided"
            });
        if (!n.endList && !l.hasStarted_)
            return u({
                message: "player must be playing a live stream to start buffering"
            });
        if (!function(e) {
            if (!e.segments || 0 === e.segments.length)
                return !1;
            for (var t = 0; t < e.segments.length; t++) {
                if (!e.segments[t].dateTimeObject)
                    return !1
            }
            return !0
        }(n))
            return u({
                message: "programDateTime tags must be provided in the manifest " + n.resolvedUri
            });
        var c = function(e, t) {
            var n;
            try {
                n = new Date(e)
            } catch (e) {
                return null
            }
            if (!t || !t.segments || 0 === t.segments.length)
                return null;
            var i = t.segments[0];
            if (n < i.dateTimeObject)
                return null;
            for (var r = 0; r < t.segments.length - 1; r++) {
                if (i = t.segments[r],
                n < t.segments[r + 1].dateTimeObject)
                    break
            }
            var a = t.segments[t.segments.length - 1]
              , o = a.dateTimeObject
              , s = a.videoTimingInfo ? function(e) {
                return e.transmuxedPresentationEnd - e.transmuxedPresentationStart - e.transmuxerPrependedSeconds
            }(a.videoTimingInfo) : a.duration + .25 * a.duration;
            return new Date(o.getTime() + 1e3 * s) < n ? null : (o < n && (i = a),
            {
                segment: i,
                estimatedStart: i.videoTimingInfo ? i.videoTimingInfo.transmuxedPresentationStart : jo.duration(t, t.mediaSequence + t.segments.indexOf(i)),
                type: i.videoTimingInfo ? "accurate" : "estimate"
            })
        }(t, n);
        if (!c)
            return u({
                message: t + " was not found in the stream"
            });
        var h = c.segment
          , d = function(e, t) {
            var n, i;
            try {
                n = new Date(e),
                i = new Date(t)
            } catch (e) {}
            var r = n.getTime();
            return (i.getTime() - r) / 1e3
        }(h.dateTimeObject, t);
        if ("estimate" === c.type)
            return 0 === r ? u({
                message: t + " is not buffered yet. Try again"
            }) : (a(c.estimatedStart + d),
            void l.one("seeked", function() {
                Ya({
                    programTime: t,
                    playlist: n,
                    retryCount: r - 1,
                    seekTo: a,
                    pauseAfterSeek: s,
                    tech: l,
                    callback: u
                })
            }));
        var p = h.start + d;
        l.one("seeked", function() {
            return u(null, l.currentTime())
        }),
        s && l.pause(),
        a(p)
    }
    function Ka(e, t) {
        if (4 === e.readyState)
            return t()
    }
    function Za(e, t) {
        if (!Na(e, t))
            return !1;
        if (e.sidx && t.sidx && (e.sidx.offset !== t.sidx.offset || e.sidx.length !== t.sidx.length))
            return !1;
        if (!e.sidx && t.sidx || e.sidx && !t.sidx)
            return !1;
        if (e.segments && !t.segments || !e.segments && t.segments)
            return !1;
        if (!e.segments && !t.segments)
            return !0;
        for (var n = 0; n < e.segments.length; n++) {
            var i = e.segments[n]
              , r = t.segments[n];
            if (i.uri !== r.uri)
                return !1;
            if (i.byterange || r.byterange) {
                var a = i.byterange
                  , o = r.byterange;
                if (a && !o || !a && o)
                    return !1;
                if (a.offset !== o.offset || a.length !== o.length)
                    return !1
            }
        }
        return !0
    }
    function Qa(e, t) {
        var n, i, r = {};
        for (var a in e) {
            var o = e[a].sidx;
            if (o) {
                var s = y.generateSidxKey(o);
                if (!t[s])
                    break;
                var l = t[s].sidxInfo;
                n = l,
                i = o,
                (Boolean(!n.map && !i.map) || Boolean(n.map && i.map && n.map.byterange.offset === i.map.byterange.offset && n.map.byterange.length === i.map.byterange.length)) && n.uri === i.uri && n.byterange.offset === i.byterange.offset && n.byterange.length === i.byterange.length && (r[s] = t[s])
            }
        }
        return r
    }
    function Ja(e) {
        return e.on = e.addEventListener,
        e.off = e.removeEventListener,
        e
    }
    function eo(i) {
        return function() {
            var e = function(t) {
                try {
                    return URL.createObjectURL(new Blob([t],{
                        type: "application/javascript"
                    }))
                } catch (e) {
                    var n = new BlobBuilder;
                    return n.append(t),
                    URL.createObjectURL(n.getBlob())
                }
            }(i)
              , t = Ja(new Worker(e));
            t.objURL = e;
            var n = t.terminate;
            return t.on = t.addEventListener,
            t.off = t.removeEventListener,
            t.terminate = function() {
                return URL.revokeObjectURL(e),
                n.call(this)
            }
            ,
            t
        }
    }
    function to(e) {
        return "var browserWorkerPolyFill = " + Ja.toString() + ";\nbrowserWorkerPolyFill(self);\n" + e
    }
    function no(e) {
        return e.toString().replace(/^function.+?{/, "").slice(0, -1)
    }
    function io(t) {
        var n = t.transmuxer
          , e = t.bytes
          , i = t.audioAppendStart
          , r = t.gopsToAlignWith
          , a = t.remux
          , o = t.onData
          , s = t.onTrackInfo
          , l = t.onAudioTimingInfo
          , u = t.onVideoTimingInfo
          , c = t.onVideoSegmentTimingInfo
          , h = t.onAudioSegmentTimingInfo
          , d = t.onId3
          , p = t.onCaptions
          , f = t.onDone
          , m = t.onEndedTimeline
          , g = t.onTransmuxerLog
          , v = t.isEndOfTimeline
          , y = {
            buffer: []
        }
          , b = v;
        if (n.onmessage = function(e) {
            n.currentTransmux === t && ("data" === e.data.action && function(e, t, n) {
                var i = e.data.segment
                  , r = i.type
                  , a = i.initSegment
                  , o = i.captions
                  , s = i.captionStreams
                  , l = i.metadata
                  , u = i.videoFrameDtsTime
                  , c = i.videoFramePtsTime;
                t.buffer.push({
                    captions: o,
                    captionStreams: s,
                    metadata: l
                });
                var h = e.data.segment.boxes || {
                    data: e.data.segment.data
                }
                  , d = {
                    type: r,
                    data: new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),
                    initSegment: new Uint8Array(a.data,a.byteOffset,a.byteLength)
                };
                void 0 !== u && (d.videoFrameDtsTime = u),
                void 0 !== c && (d.videoFramePtsTime = c),
                n(d)
            }(e, y, o),
            "trackinfo" === e.data.action && s(e.data.trackInfo),
            "gopInfo" === e.data.action && function(e, t) {
                t.gopInfo = e.data.gopInfo
            }(e, y),
            "audioTimingInfo" === e.data.action && l(e.data.audioTimingInfo),
            "videoTimingInfo" === e.data.action && u(e.data.videoTimingInfo),
            "videoSegmentTimingInfo" === e.data.action && c(e.data.videoSegmentTimingInfo),
            "audioSegmentTimingInfo" === e.data.action && h(e.data.audioSegmentTimingInfo),
            "id3Frame" === e.data.action && d([e.data.id3Frame], e.data.id3Frame.dispatchType),
            "caption" === e.data.action && p(e.data.caption),
            "endedtimeline" === e.data.action && (b = !1,
            m()),
            "log" === e.data.action && g(e.data.log),
            "transmuxed" === e.data.type && (b || (n.onmessage = null,
            function(e) {
                var t = e.transmuxedData
                  , n = e.callback;
                t.buffer = [],
                n(t)
            }({
                transmuxedData: y,
                callback: f
            }),
            Zo(n))))
        }
        ,
        i && n.postMessage({
            action: "setAudioAppendStart",
            appendStart: i
        }),
        Array.isArray(r) && n.postMessage({
            action: "alignGopsWith",
            gopsToAlignWith: r
        }),
        void 0 !== a && n.postMessage({
            action: "setRemux",
            remux: a
        }),
        e.byteLength) {
            var _ = e instanceof ArrayBuffer ? e : e.buffer
              , w = e instanceof ArrayBuffer ? 0 : e.byteOffset;
            n.postMessage({
                action: "push",
                data: _,
                byteOffset: w,
                byteLength: e.byteLength
            }, [_])
        }
        v && n.postMessage({
            action: "endTimeline"
        }),
        n.postMessage({
            action: "flush"
        })
    }
    function ro(e, t) {
        e.postMessage({
            action: t
        }),
        Zo(e)
    }
    function ao(e, t) {
        if (!t.currentTransmux)
            return t.currentTransmux = e,
            void ro(t, e);
        t.transmuxQueue.push(ro.bind(null, t, e))
    }
    function oo(e) {
        if (!e.transmuxer.currentTransmux)
            return e.transmuxer.currentTransmux = e,
            void io(e);
        e.transmuxer.transmuxQueue.push(e)
    }
    function so(n) {
        var i = n.transmuxer
          , r = n.endAction || n.action
          , a = n.callback
          , e = k.default({}, n, {
            endAction: null,
            transmuxer: null,
            callback: null
        });
        if (i.addEventListener("message", function e(t) {
            t.data.action === r && (i.removeEventListener("message", e),
            t.data.data && (t.data.data = new Uint8Array(t.data.data,n.byteOffset || 0,n.byteLength || t.data.data.byteLength),
            n.data && (n.data = t.data.data)),
            a(t.data))
        }),
        n.data) {
            var t = n.data instanceof ArrayBuffer;
            e.byteOffset = t ? 0 : n.data.byteOffset,
            e.byteLength = n.data.byteLength;
            var o = [t ? n.data : n.data.buffer];
            i.postMessage(e, o)
        } else
            i.postMessage(e)
    }
    function lo(e) {
        e.forEach(function(e) {
            e.abort()
        })
    }
    function uo(e, t) {
        return t.timedout ? {
            status: t.status,
            message: "HLS request timed-out at URL: " + t.uri,
            code: ts,
            xhr: t
        } : t.aborted ? {
            status: t.status,
            message: "HLS request aborted at URL: " + t.uri,
            code: ns,
            xhr: t
        } : e ? {
            status: t.status,
            message: "HLS request errored at URL: " + t.uri,
            code: es,
            xhr: t
        } : "arraybuffer" === t.responseType && 0 === t.response.byteLength ? {
            status: t.status,
            message: "Empty HLS response at URL: " + t.uri,
            code: es,
            xhr: t
        } : null
    }
    function co(s, l, u) {
        return function(e, t) {
            var n = t.response
              , i = uo(e, t);
            if (i)
                return u(i, s);
            if (16 !== n.byteLength)
                return u({
                    status: t.status,
                    message: "Invalid HLS key at URL: " + t.uri,
                    code: es,
                    xhr: t
                }, s);
            for (var r = new DataView(n), a = new Uint32Array([r.getUint32(0), r.getUint32(4), r.getUint32(8), r.getUint32(12)]), o = 0; o < l.length; o++)
                l[o].bytes = a;
            return u(null, s)
        }
    }
    function ho(i, r) {
        var e = w.detectContainerForBytes(i.map.bytes);
        if ("mp4" !== e) {
            var t = i.map.resolvedUri || i.map.uri;
            return r({
                internal: !0,
                message: "Found unsupported " + (e || "unknown") + " container for initialization segment at URL: " + t,
                code: es
            })
        }
        so({
            action: "probeMp4Tracks",
            data: i.map.bytes,
            transmuxer: i.transmuxer,
            callback: function(e) {
                var t = e.tracks
                  , n = e.data;
                return i.map.bytes = n,
                t.forEach(function(e) {
                    i.map.tracks = i.map.tracks || {},
                    i.map.tracks[e.type] || "number" == typeof (i.map.tracks[e.type] = e).id && e.timescale && (i.map.timescales = i.map.timescales || {},
                    i.map.timescales[e.id] = e.timescale)
                }),
                r(null)
            }
        })
    }
    function po(e) {
        var r = e.segment
          , a = e.finishProcessingFn
          , o = e.responseType;
        return function(e, t) {
            var n = uo(e, t);
            if (n)
                return a(n, r);
            var i = "arraybuffer" !== o && t.responseText ? function(e) {
                for (var t = new Uint8Array(new ArrayBuffer(e.length)), n = 0; n < e.length; n++)
                    t[n] = e.charCodeAt(n);
                return t.buffer
            }(t.responseText.substring(r.lastReachedChar || 0)) : t.response;
            return r.stats = function(e) {
                return {
                    bandwidth: e.bandwidth,
                    bytesReceived: e.bytesReceived || 0,
                    roundTripTime: e.roundTripTime || 0
                }
            }(t),
            r.key ? r.encryptedBytes = new Uint8Array(i) : r.bytes = new Uint8Array(i),
            a(null, r)
        }
    }
    function fo(e) {
        var n = e.segment
          , i = e.bytes
          , r = e.trackInfoFn
          , t = e.timingInfoFn
          , a = e.videoSegmentTimingInfoFn
          , o = e.audioSegmentTimingInfoFn
          , s = e.id3Fn
          , l = e.captionsFn
          , u = e.isEndOfTimeline
          , c = e.endedTimelineFn
          , h = e.dataFn
          , d = e.doneFn
          , p = e.onTransmuxerLog
          , f = n.map && n.map.tracks || {}
          , m = Boolean(f.audio && f.video)
          , g = t.bind(null, n, "audio", "start")
          , v = t.bind(null, n, "audio", "end")
          , y = t.bind(null, n, "video", "start")
          , b = t.bind(null, n, "video", "end");
        so({
            action: "probeTs",
            transmuxer: n.transmuxer,
            data: i,
            baseStartTime: n.baseStartTime,
            callback: function(e) {
                n.bytes = i = e.data;
                var t = e.result;
                t && (r(n, {
                    hasAudio: t.hasAudio,
                    hasVideo: t.hasVideo,
                    isMuxed: m
                }),
                r = null,
                t.hasAudio && !m && g(t.audioStart),
                t.hasVideo && y(t.videoStart),
                y = g = null),
                oo({
                    bytes: i,
                    transmuxer: n.transmuxer,
                    audioAppendStart: n.audioAppendStart,
                    gopsToAlignWith: n.gopsToAlignWith,
                    remux: m,
                    onData: function(e) {
                        e.type = "combined" === e.type ? "video" : e.type,
                        h(n, e)
                    },
                    onTrackInfo: function(e) {
                        r && (m && (e.isMuxed = !0),
                        r(n, e))
                    },
                    onAudioTimingInfo: function(e) {
                        g && void 0 !== e.start && (g(e.start),
                        g = null),
                        v && void 0 !== e.end && v(e.end)
                    },
                    onVideoTimingInfo: function(e) {
                        y && void 0 !== e.start && (y(e.start),
                        y = null),
                        b && void 0 !== e.end && b(e.end)
                    },
                    onVideoSegmentTimingInfo: function(e) {
                        a(e)
                    },
                    onAudioSegmentTimingInfo: function(e) {
                        o(e)
                    },
                    onId3: function(e, t) {
                        s(n, e, t)
                    },
                    onCaptions: function(e) {
                        l(n, [e])
                    },
                    isEndOfTimeline: u,
                    onEndedTimeline: function() {
                        c()
                    },
                    onTransmuxerLog: p,
                    onDone: function(e) {
                        d && (e.type = "combined" === e.type ? "video" : e.type,
                        d(null, n, e))
                    }
                })
            }
        })
    }
    function mo(e) {
        var i = e.segment
          , r = e.bytes
          , t = e.trackInfoFn
          , a = e.timingInfoFn
          , n = e.videoSegmentTimingInfoFn
          , o = e.audioSegmentTimingInfoFn
          , s = e.id3Fn
          , l = e.captionsFn
          , u = e.isEndOfTimeline
          , c = e.endedTimelineFn
          , h = e.dataFn
          , d = e.doneFn
          , p = e.onTransmuxerLog
          , f = new Uint8Array(r);
        if (w.isLikelyFmp4MediaSegment(f)) {
            i.isFmp4 = !0;
            var m = i.map.tracks
              , g = {
                isFmp4: !0,
                hasVideo: !!m.video,
                hasAudio: !!m.audio
            };
            m.audio && m.audio.codec && "enca" !== m.audio.codec && (g.audioCodec = m.audio.codec),
            m.video && m.video.codec && "encv" !== m.video.codec && (g.videoCodec = m.video.codec),
            m.video && m.audio && (g.isMuxed = !0),
            t(i, g);
            var v = function(e) {
                h(i, {
                    data: f,
                    type: g.hasAudio && !g.isMuxed ? "audio" : "video"
                }),
                e && e.length && l(i, e),
                d(null, i, {})
            };
            so({
                action: "probeMp4StartTime",
                timescales: i.map.timescales,
                data: f,
                transmuxer: i.transmuxer,
                callback: function(e) {
                    var t = e.data
                      , n = e.startTime;
                    r = t.buffer,
                    i.bytes = f = t,
                    g.hasAudio && !g.isMuxed && a(i, "audio", "start", n),
                    g.hasVideo && a(i, "video", "start", n),
                    m.video && t.byteLength && i.transmuxer ? so({
                        action: "pushMp4Captions",
                        endAction: "mp4Captions",
                        transmuxer: i.transmuxer,
                        data: f,
                        timescales: i.map.timescales,
                        trackIds: [m.video.id],
                        callback: function(e) {
                            r = e.data.buffer,
                            i.bytes = f = e.data,
                            e.logs.forEach(function(e) {
                                p(na.mergeOptions(e, {
                                    stream: "mp4CaptionParser"
                                }))
                            }),
                            v(e.captions)
                        }
                    }) : v()
                }
            })
        } else if (i.transmuxer) {
            if (void 0 === i.container && (i.container = w.detectContainerForBytes(f)),
            "ts" !== i.container && "aac" !== i.container)
                return t(i, {
                    hasAudio: !1,
                    hasVideo: !1
                }),
                void d(null, i, {});
            fo({
                segment: i,
                bytes: r,
                trackInfoFn: t,
                timingInfoFn: a,
                videoSegmentTimingInfoFn: n,
                audioSegmentTimingInfoFn: o,
                id3Fn: s,
                captionsFn: l,
                isEndOfTimeline: u,
                endedTimelineFn: c,
                dataFn: h,
                doneFn: d,
                onTransmuxerLog: p
            })
        } else
            d(null, i, {})
    }
    function go(e, i) {
        var t, r = e.id, n = e.key, a = e.encryptedBytes, o = e.decryptionWorker;
        o.addEventListener("message", function e(t) {
            if (t.data.source === r) {
                o.removeEventListener("message", e);
                var n = t.data.decrypted;
                i(new Uint8Array(n.bytes,n.byteOffset,n.byteLength))
            }
        }),
        t = n.bytes.slice ? n.bytes.slice() : new Uint32Array(Array.prototype.slice.call(n.bytes)),
        o.postMessage(Ga({
            source: r,
            encrypted: a,
            key: t,
            iv: n.iv
        }), [a.buffer, t.buffer])
    }
    function vo(e) {
        var i = e.activeXhrs
          , r = e.decryptionWorker
          , a = e.trackInfoFn
          , o = e.timingInfoFn
          , s = e.videoSegmentTimingInfoFn
          , l = e.audioSegmentTimingInfoFn
          , u = e.id3Fn
          , c = e.captionsFn
          , h = e.isEndOfTimeline
          , d = e.endedTimelineFn
          , p = e.dataFn
          , f = e.doneFn
          , m = e.onTransmuxerLog
          , g = 0
          , v = !1;
        return function(e, t) {
            if (!v) {
                if (e)
                    return v = !0,
                    lo(i),
                    f(e, t);
                if ((g += 1) === i.length) {
                    var n = function() {
                        if (t.encryptedBytes)
                            return function(e) {
                                var t = e.decryptionWorker
                                  , n = e.segment
                                  , i = e.trackInfoFn
                                  , r = e.timingInfoFn
                                  , a = e.videoSegmentTimingInfoFn
                                  , o = e.audioSegmentTimingInfoFn
                                  , s = e.id3Fn
                                  , l = e.captionsFn
                                  , u = e.isEndOfTimeline
                                  , c = e.endedTimelineFn
                                  , h = e.dataFn
                                  , d = e.doneFn
                                  , p = e.onTransmuxerLog;
                                go({
                                    id: n.requestId,
                                    key: n.key,
                                    encryptedBytes: n.encryptedBytes,
                                    decryptionWorker: t
                                }, function(e) {
                                    n.bytes = e,
                                    mo({
                                        segment: n,
                                        bytes: n.bytes,
                                        trackInfoFn: i,
                                        timingInfoFn: r,
                                        videoSegmentTimingInfoFn: a,
                                        audioSegmentTimingInfoFn: o,
                                        id3Fn: s,
                                        captionsFn: l,
                                        isEndOfTimeline: u,
                                        endedTimelineFn: c,
                                        dataFn: h,
                                        doneFn: d,
                                        onTransmuxerLog: p
                                    })
                                })
                            }({
                                decryptionWorker: r,
                                segment: t,
                                trackInfoFn: a,
                                timingInfoFn: o,
                                videoSegmentTimingInfoFn: s,
                                audioSegmentTimingInfoFn: l,
                                id3Fn: u,
                                captionsFn: c,
                                isEndOfTimeline: h,
                                endedTimelineFn: d,
                                dataFn: p,
                                doneFn: f,
                                onTransmuxerLog: m
                            });
                        mo({
                            segment: t,
                            bytes: t.bytes,
                            trackInfoFn: a,
                            timingInfoFn: o,
                            videoSegmentTimingInfoFn: s,
                            audioSegmentTimingInfoFn: l,
                            id3Fn: u,
                            captionsFn: c,
                            isEndOfTimeline: h,
                            endedTimelineFn: d,
                            dataFn: p,
                            doneFn: f,
                            onTransmuxerLog: m
                        })
                    };
                    if (t.endOfAllRequests = Date.now(),
                    t.map && t.map.encryptedBytes && !t.map.bytes)
                        return go({
                            decryptionWorker: r,
                            id: t.requestId + "-init",
                            encryptedBytes: t.map.encryptedBytes,
                            key: t.map.key
                        }, function(e) {
                            t.map.bytes = e,
                            ho(t, function(e) {
                                if (e)
                                    return lo(i),
                                    f(e, t);
                                n()
                            })
                        });
                    n()
                }
            }
        }
    }
    function yo(e) {
        var t = e.segment
          , n = e.progressFn;
        return e.trackInfoFn,
        e.timingInfoFn,
        e.videoSegmentTimingInfoFn,
        e.audioSegmentTimingInfoFn,
        e.id3Fn,
        e.captionsFn,
        e.isEndOfTimeline,
        e.endedTimelineFn,
        e.dataFn,
        function(e) {
            if (!e.target.aborted)
                return t.stats = na.mergeOptions(t.stats, function(e) {
                    var t = e.target
                      , n = {
                        bandwidth: 1 / 0,
                        bytesReceived: 0,
                        roundTripTime: Date.now() - t.requestTime || 0
                    };
                    return n.bytesReceived = e.loaded,
                    n.bandwidth = Math.floor(n.bytesReceived / n.roundTripTime * 8 * 1e3),
                    n
                }(e)),
                !t.stats.firstBytesReceivedAt && t.stats.bytesReceived && (t.stats.firstBytesReceivedAt = Date.now()),
                n(e, t)
        }
    }
    function bo(e) {
        var t = e.xhr
          , n = e.xhrOptions
          , i = e.decryptionWorker
          , r = e.segment
          , a = e.abortFn
          , o = e.progressFn
          , s = e.trackInfoFn
          , l = e.timingInfoFn
          , u = e.videoSegmentTimingInfoFn
          , c = e.audioSegmentTimingInfoFn
          , h = e.id3Fn
          , d = e.captionsFn
          , p = e.isEndOfTimeline
          , f = e.endedTimelineFn
          , m = e.dataFn
          , g = e.doneFn
          , v = e.onTransmuxerLog
          , y = []
          , b = vo({
            activeXhrs: y,
            decryptionWorker: i,
            trackInfoFn: s,
            timingInfoFn: l,
            videoSegmentTimingInfoFn: u,
            audioSegmentTimingInfoFn: c,
            id3Fn: h,
            captionsFn: d,
            isEndOfTimeline: p,
            endedTimelineFn: f,
            dataFn: m,
            doneFn: g,
            onTransmuxerLog: v
        });
        if (r.key && !r.key.bytes) {
            var _ = [r.key];
            r.map && !r.map.bytes && r.map.key && r.map.key.resolvedUri === r.key.resolvedUri && _.push(r.map.key);
            var w = t(na.mergeOptions(n, {
                uri: r.key.resolvedUri,
                responseType: "arraybuffer"
            }), co(r, _, b));
            y.push(w)
        }
        if (r.map && !r.map.bytes) {
            if (r.map.key && (!r.key || r.key.resolvedUri !== r.map.key.resolvedUri)) {
                var x = t(na.mergeOptions(n, {
                    uri: r.map.key.resolvedUri,
                    responseType: "arraybuffer"
                }), co(r, [r.map.key], b));
                y.push(x)
            }
            var T = t(na.mergeOptions(n, {
                uri: r.map.resolvedUri,
                responseType: "arraybuffer",
                headers: za(r.map)
            }), function(e) {
                var r = e.segment
                  , a = e.finishProcessingFn;
                return function(e, t) {
                    var n = uo(e, t);
                    if (n)
                        return a(n, r);
                    var i = new Uint8Array(t.response);
                    if (r.map.key)
                        return r.map.encryptedBytes = i,
                        a(null, r);
                    r.map.bytes = i,
                    ho(r, function(e) {
                        if (e)
                            return e.xhr = t,
                            e.status = t.status,
                            a(e, r);
                        a(null, r)
                    })
                }
            }({
                segment: r,
                finishProcessingFn: b
            }));
            y.push(T)
        }
        var S = na.mergeOptions(n, {
            uri: r.part && r.part.resolvedUri || r.resolvedUri,
            responseType: "arraybuffer",
            headers: za(r)
        })
          , E = t(S, po({
            segment: r,
            finishProcessingFn: b,
            responseType: S.responseType
        }));
        E.addEventListener("progress", yo({
            segment: r,
            progressFn: o,
            trackInfoFn: s,
            timingInfoFn: l,
            videoSegmentTimingInfoFn: u,
            audioSegmentTimingInfoFn: c,
            id3Fn: h,
            captionsFn: d,
            isEndOfTimeline: p,
            endedTimelineFn: f,
            dataFn: m
        })),
        y.push(E);
        var C = {};
        return y.forEach(function(e) {
            e.addEventListener("loadend", function(e) {
                var t = e.loadendState
                  , n = e.abortFn;
                return function(e) {
                    e.target.aborted && n && !t.calledAbortFn && (n(),
                    t.calledAbortFn = !0)
                }
            }({
                loadendState: C,
                abortFn: a
            }))
        }),
        function() {
            return lo(y)
        }
    }
    function _o(e, t) {
        var n = t.attributes || {};
        return e && e.mediaGroups && e.mediaGroups.AUDIO && n.AUDIO && e.mediaGroups.AUDIO[n.AUDIO]
    }
    function wo(e) {
        var r = {};
        return e.forEach(function(e) {
            var t = e.mediaType
              , n = e.type
              , i = e.details;
            r[t] = r[t] || [],
            r[t].push(g.translateLegacyCodec("" + n + i))
        }),
        Object.keys(r).forEach(function(e) {
            if (1 < r[e].length)
                return is("multiple " + e + " codecs found as attributes: " + r[e].join(", ") + ". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),
                void (r[e] = null);
            r[e] = r[e][0]
        }),
        r
    }
    function xo(e) {
        var t = 0;
        return e.audio && t++,
        e.video && t++,
        t
    }
    function To(e, t) {
        var n = t.attributes || {}
          , i = wo(function(e) {
            var t = e.attributes || {};
            if (t.CODECS)
                return g.parseCodecs(t.CODECS)
        }(t) || []);
        if (_o(e, t) && !i.audio && !function(e, t) {
            if (!_o(e, t))
                return !0;
            var n = t.attributes || {}
              , i = e.mediaGroups.AUDIO[n.AUDIO];
            for (var r in i)
                if (!i[r].uri && !i[r].playlists)
                    return !0;
            return !1
        }(e, t)) {
            var r = wo(g.codecsFromDefault(e, n.AUDIO) || []);
            r.audio && (i.audio = r.audio)
        }
        return i
    }
    function So(e) {
        if (e && e.playlist) {
            var t = e.playlist;
            return JSON.stringify({
                id: t.id,
                bandwidth: e.bandwidth,
                width: e.width,
                height: e.height,
                codecs: t.attributes && t.attributes.CODECS || ""
            })
        }
    }
    function Eo(e, t) {
        if (!e)
            return "";
        var n = C.default.getComputedStyle(e);
        return n ? n[t] : ""
    }
    function Co(e, i) {
        var r = e.slice();
        e.sort(function(e, t) {
            var n = i(e, t);
            return 0 === n ? r.indexOf(e) - r.indexOf(t) : n
        })
    }
    function Mo(e, t) {
        var n, i;
        return e.attributes.BANDWIDTH && (n = e.attributes.BANDWIDTH),
        n = n || C.default.Number.MAX_VALUE,
        t.attributes.BANDWIDTH && (i = t.attributes.BANDWIDTH),
        n - (i = i || C.default.Number.MAX_VALUE)
    }
    function ko(e, t, n, i, r, a) {
        if (e) {
            var o = {
                bandwidth: t,
                width: n,
                height: i,
                limitRenditionByPlayerDimensions: r
            }
              , s = e.playlists;
            jo.isAudioOnly(e) && (s = a.getAudioTrackPlaylists_(),
            o.audioOnly = !0);
            var l = s.map(function(e) {
                var t = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.width
                  , n = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.height;
                return {
                    bandwidth: e.attributes && e.attributes.BANDWIDTH || C.default.Number.MAX_VALUE,
                    width: t,
                    height: n,
                    playlist: e
                }
            });
            Co(l, function(e, t) {
                return e.bandwidth - t.bandwidth
            });
            var u = (l = l.filter(function(e) {
                return !jo.isIncompatible(e.playlist)
            })).filter(function(e) {
                return jo.isEnabled(e.playlist)
            });
            u.length || (u = l.filter(function(e) {
                return !jo.isDisabled(e.playlist)
            }));
            var c = u.filter(function(e) {
                return e.bandwidth * Yo.BANDWIDTH_VARIANCE < t
            })
              , h = c[c.length - 1]
              , d = c.filter(function(e) {
                return e.bandwidth === h.bandwidth
            })[0];
            if (!1 === r) {
                var p = d || u[0] || l[0];
                if (p && p.playlist) {
                    var f = "sortedPlaylistReps";
                    return d && (f = "bandwidthBestRep"),
                    u[0] && (f = "enabledPlaylistReps"),
                    rs("choosing " + So(p) + " using " + f + " with options", o),
                    p.playlist
                }
                return rs("could not choose a playlist with options", o),
                null
            }
            var m = c.filter(function(e) {
                return e.width && e.height
            });
            Co(m, function(e, t) {
                return e.width - t.width
            });
            var g = m.filter(function(e) {
                return e.width === n && e.height === i
            });
            h = g[g.length - 1];
            var v, y, b, _, w = g.filter(function(e) {
                return e.bandwidth === h.bandwidth
            })[0];
            if (w || (y = (v = m.filter(function(e) {
                return e.width > n || e.height > i
            })).filter(function(e) {
                return e.width === v[0].width && e.height === v[0].height
            }),
            h = y[y.length - 1],
            b = y.filter(function(e) {
                return e.bandwidth === h.bandwidth
            })[0]),
            a.experimentalLeastPixelDiffSelector) {
                var x = m.map(function(e) {
                    return e.pixelDiff = Math.abs(e.width - n) + Math.abs(e.height - i),
                    e
                });
                Co(x, function(e, t) {
                    return e.pixelDiff === t.pixelDiff ? t.bandwidth - e.bandwidth : e.pixelDiff - t.pixelDiff
                }),
                _ = x[0]
            }
            var T = _ || b || w || d || u[0] || l[0];
            if (T && T.playlist) {
                var S = "sortedPlaylistReps";
                return _ ? S = "leastPixelDiffRep" : b ? S = "resolutionPlusOneRep" : w ? S = "resolutionBestRep" : d ? S = "bandwidthBestRep" : u[0] && (S = "enabledPlaylistReps"),
                rs("choosing " + So(T) + " using " + S + " with options", o),
                T.playlist
            }
            return rs("could not choose a playlist with options", o),
            null
        }
    }
    function Po() {
        var e = this.useDevicePixelRatio && C.default.devicePixelRatio || 1;
        return ko(this.playlists.master, this.systemBandwidth, parseInt(Eo(this.tech_.el(), "width"), 10) * e, parseInt(Eo(this.tech_.el(), "height"), 10) * e, this.limitRenditionByPlayerDimensions, this.masterPlaylistController_)
    }
    function Ao(e) {
        var t = e.inbandTextTracks
          , n = e.metadataArray
          , i = e.timestampOffset
          , r = e.videoDuration;
        if (n) {
            var a = C.default.WebKitDataCue || C.default.VTTCue
              , o = t.metadataTrack_;
            if (o && (n.forEach(function(e) {
                var n = e.cueTime + i;
                !("number" != typeof n || C.default.isNaN(n) || n < 0) && n < 1 / 0 && e.frames.forEach(function(e) {
                    var t = new a(n,n,e.value || e.url || e.data || "");
                    t.frame = e,
                    t.value = e,
                    function(e) {
                        Object.defineProperties(e.frame, {
                            id: {
                                get: function() {
                                    return na.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),
                                    e.value.key
                                }
                            },
                            value: {
                                get: function() {
                                    return na.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),
                                    e.value.data
                                }
                            },
                            privateData: {
                                get: function() {
                                    return na.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),
                                    e.value.data
                                }
                            }
                        })
                    }(t),
                    o.addCue(t)
                })
            }),
            o.cues && o.cues.length)) {
                for (var s = o.cues, l = [], u = 0; u < s.length; u++)
                    s[u] && l.push(s[u]);
                var c = l.reduce(function(e, t) {
                    var n = e[t.startTime] || [];
                    return n.push(t),
                    e[t.startTime] = n,
                    e
                }, {})
                  , h = Object.keys(c).sort(function(e, t) {
                    return Number(e) - Number(t)
                });
                h.forEach(function(e, t) {
                    var n = c[e]
                      , i = Number(h[t + 1]) || r;
                    n.forEach(function(e) {
                        e.endTime = i
                    })
                })
            }
        }
    }
    function Io(e, t, n) {
        var i, r;
        if (n && n.cues)
            for (i = n.cues.length; i--; )
                (r = n.cues[i]).startTime >= e && r.endTime <= t && n.removeCue(r)
    }
    function Lo(e) {
        return "number" == typeof e && isFinite(e)
    }
    function Oo(e) {
        var t = e.startOfSegment
          , n = e.duration
          , i = e.segment
          , r = e.part
          , a = e.playlist
          , o = a.mediaSequence
          , s = a.id
          , l = a.segments
          , u = void 0 === l ? [] : l
          , c = e.mediaIndex
          , h = e.partIndex
          , d = e.timeline
          , p = u.length - 1
          , f = "mediaIndex/partIndex increment";
        e.getMediaInfoForTime ? f = "getMediaInfoForTime (" + e.getMediaInfoForTime + ")" : e.isSyncRequest && (f = "getSyncSegmentCandidate (isSyncRequest)");
        var m = "number" == typeof h
          , g = e.segment.uri ? "segment" : "pre-segment"
          , v = m ? ma({
            preloadSegment: i
        }) - 1 : 0;
        return g + " [" + (o + c) + "/" + (o + p) + "]" + (m ? " part [" + h + "/" + v + "]" : "") + " segment start/end [" + i.start + " => " + i.end + "]" + (m ? " part start/end [" + r.start + " => " + r.end + "]" : "") + " startOfSegment [" + t + "] duration [" + n + "] timeline [" + d + "] selected by [" + f + "] playlist [" + s + "]"
    }
    function Ro(e) {
        return e + "TimingInfo"
    }
    function Do(e) {
        var t = e.timelineChangeController
          , n = e.currentTimeline
          , i = e.segmentTimeline
          , r = e.loaderType
          , a = e.audioDisabled;
        if (n === i)
            return !1;
        if ("audio" === r) {
            var o = t.lastTimelineChange({
                type: "main"
            });
            return !o || o.to !== i
        }
        if ("main" === r && a) {
            var s = t.pendingTimelineChange({
                type: "audio"
            });
            return !s || s.to !== i
        }
        return !1
    }
    function No(e) {
        var t = e.segmentDuration
          , n = e.maxDuration;
        return !!t && Math.round(t) > n + 1 / 30
    }
    function Fo(e, t) {
        if ("hls" !== t)
            return null;
        var n = function(e, t) {
            var n = e && "number" == typeof e.start && "number" == typeof e.end ? e.end - e.start : 0
              , i = t && "number" == typeof t.start && "number" == typeof t.end ? t.end - t.start : 0;
            return Math.max(n, i)
        }(e.audioTimingInfo, e.videoTimingInfo);
        if (!n)
            return null;
        var i = e.playlist.targetDuration
          , r = No({
            segmentDuration: n,
            maxDuration: 2 * i
        })
          , a = No({
            segmentDuration: n,
            maxDuration: i
        })
          , o = "Segment with index " + e.mediaIndex + " from playlist " + e.playlist.id + " has a duration of " + n + " when the reported duration is " + e.duration + " and the target duration is " + i + ". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";
        return r || a ? {
            severity: r ? "warn" : "info",
            message: o
        } : null
    }
    /*! @name @videojs/http-streaming @version 2.10.2 @license Apache-2.0 */
    var Bo = F.default
      , Uo = na.createTimeRange
      , jo = {
        liveEdgeDelay: ga,
        duration: ya,
        seekable: function(e, t, n) {
            var i = t || 0
              , r = _a(e, t, !0, n);
            return null === r ? Uo() : Uo(i, r)
        },
        getMediaInfoForTime: function(e) {
            for (var t = e.playlist, n = e.currentTime, i = e.startingSegmentIndex, r = e.startingPartIndex, a = e.startTime, o = e.experimentalExactManifestTimings, s = n - a, l = pa(t), u = 0, c = 0; c < l.length; c++) {
                var h = l[c];
                if (i === h.segmentIndex && ("number" != typeof r || "number" != typeof h.partIndex || r === h.partIndex)) {
                    u = c;
                    break
                }
            }
            if (s < 0) {
                if (0 < u)
                    for (var d = u - 1; 0 <= d; d--) {
                        var p = l[d];
                        if (s += p.duration,
                        o) {
                            if (s < 0)
                                continue
                        } else if (s + 1 / 30 <= 0)
                            continue;
                        return {
                            partIndex: p.partIndex,
                            segmentIndex: p.segmentIndex,
                            startTime: a - ba({
                                defaultDuration: t.targetDuration,
                                durationList: l,
                                startIndex: u,
                                endIndex: d
                            })
                        }
                    }
                return {
                    partIndex: l[0] && l[0].partIndex || null,
                    segmentIndex: l[0] && l[0].segmentIndex || 0,
                    startTime: n
                }
            }
            if (u < 0) {
                for (var f = u; f < 0; f++)
                    if ((s -= t.targetDuration) < 0)
                        return {
                            partIndex: l[0] && l[0].partIndex || null,
                            segmentIndex: l[0] && l[0].segmentIndex || 0,
                            startTime: n
                        };
                u = 0
            }
            for (var m = u; m < l.length; m++) {
                var g = l[m];
                if (s -= g.duration,
                o) {
                    if (0 < s)
                        continue
                } else if (0 <= s - 1 / 30)
                    continue;
                return {
                    partIndex: g.partIndex,
                    segmentIndex: g.segmentIndex,
                    startTime: a + ba({
                        defaultDuration: t.targetDuration,
                        durationList: l,
                        startIndex: u,
                        endIndex: m
                    })
                }
            }
            return {
                segmentIndex: l[l.length - 1].segmentIndex,
                partIndex: l[l.length - 1].partIndex,
                startTime: n
            }
        },
        isEnabled: Ta,
        isDisabled: function(e) {
            return e.disabled
        },
        isBlacklisted: wa,
        isIncompatible: xa,
        playlistEnd: _a,
        isAes: function(e) {
            for (var t = 0; t < e.segments.length; t++)
                if (e.segments[t].key)
                    return !0;
            return !1
        },
        hasAttribute: Sa,
        estimateSegmentRequestTime: function(e, t, n, i) {
            return void 0 === i && (i = 0),
            Sa("BANDWIDTH", n) ? (e * n.attributes.BANDWIDTH - 8 * i) / t : NaN
        },
        isLowestEnabledRendition: Ea,
        isAudioOnly: ka,
        playlistMatch: Ca
    }
      , zo = na.log
      , Ho = na.mergeOptions
      , Vo = function(c) {
        function e(e, t, n) {
            var i;
            if (void 0 === n && (n = {}),
            i = c.call(this) || this,
            !e)
                throw new Error("A non-empty playlist URL or object is required");
            i.logger_ = oa("PlaylistLoader");
            var r = n
              , a = r.withCredentials
              , o = void 0 !== a && a
              , s = r.handleManifestRedirects
              , l = void 0 !== s && s;
            i.src = e,
            i.vhs_ = t,
            i.withCredentials = o,
            i.handleManifestRedirects = l;
            var u = t.options_;
            return i.customTagParsers = u && u.customTagParsers || [],
            i.customTagMappers = u && u.customTagMappers || [],
            i.experimentalLLHLS = u && u.experimentalLLHLS || !1,
            i.state = "HAVE_NOTHING",
            i.handleMediaupdatetimeout_ = i.handleMediaupdatetimeout_.bind(P.default(i)),
            i.on("mediaupdatetimeout", i.handleMediaupdatetimeout_),
            i
        }
        A.default(e, c);
        var t = e.prototype;
        return t.handleMediaupdatetimeout_ = function() {
            var n = this;
            if ("HAVE_METADATA" === this.state) {
                var e = this.media()
                  , t = Bo(this.master.uri, e.uri);
                this.experimentalLLHLS && (t = function(n, e) {
                    if (e.endList)
                        return n;
                    var t = [];
                    if (e.serverControl && e.serverControl.canBlockReload) {
                        var i = e.preloadSegment
                          , r = e.mediaSequence + e.segments.length;
                        if (i) {
                            var a = i.parts || []
                              , o = ma(e) - 1;
                            -1 < o && o != a.length - 1 && t.push("_HLS_part=" + o),
                            (-1 < o || a.length) && r--
                        }
                        t.unshift("_HLS_msn=" + r)
                    }
                    return e.serverControl && e.serverControl.canSkipUntil && t.unshift("_HLS_skip=" + (e.serverControl.canSkipDateranges ? "v2" : "YES")),
                    t.forEach(function(e, t) {
                        n += (0 === t ? "?" : "&") + e
                    }),
                    n
                }(t, e)),
                this.state = "HAVE_CURRENT_METADATA",
                this.request = this.vhs_.xhr({
                    uri: t,
                    withCredentials: this.withCredentials
                }, function(e, t) {
                    if (n.request)
                        return e ? n.playlistRequestError(n.request, n.media(), "HAVE_METADATA") : void n.haveMetadata({
                            playlistString: n.request.responseText,
                            url: n.media().uri,
                            id: n.media().id
                        })
                })
            }
        }
        ,
        t.playlistRequestError = function(e, t, n) {
            var i = t.uri
              , r = t.id;
            this.request = null,
            n && (this.state = n),
            this.error = {
                playlist: this.master.playlists[r],
                status: e.status,
                message: "HLS playlist request error at URL: " + i + ".",
                responseText: e.responseText,
                code: 500 <= e.status ? 4 : 2
            },
            this.trigger("error")
        }
        ,
        t.parseManifest_ = function(e) {
            var n = this
              , i = e.url;
            return function(e) {
                var t = e.onwarn
                  , n = e.oninfo
                  , i = e.manifestString
                  , r = e.customTagParsers
                  , a = void 0 === r ? [] : r
                  , o = e.customTagMappers
                  , s = void 0 === o ? [] : o
                  , l = e.experimentalLLHLS
                  , u = new m.Parser;
                t && u.on("warn", t),
                n && u.on("info", n),
                a.forEach(function(e) {
                    return u.addParser(e)
                }),
                s.forEach(function(e) {
                    return u.addTagMapper(e)
                }),
                u.push(i),
                u.end();
                var c = u.manifest;
                if (l || (["preloadSegment", "skip", "serverControl", "renditionReports", "partInf", "partTargetDuration"].forEach(function(e) {
                    c.hasOwnProperty(e) && delete c[e]
                }),
                c.segments && c.segments.forEach(function(t) {
                    ["parts", "preloadHints"].forEach(function(e) {
                        t.hasOwnProperty(e) && delete t[e]
                    })
                })),
                !c.targetDuration) {
                    var h = 10;
                    c.segments && c.segments.length && (h = c.segments.reduce(function(e, t) {
                        return Math.max(e, t.duration)
                    }, 0)),
                    t && t("manifest has no targetDuration defaulting to " + h),
                    c.targetDuration = h
                }
                var d = fa(c);
                if (d.length && !c.partTargetDuration) {
                    var p = d.reduce(function(e, t) {
                        return Math.max(e, t.duration)
                    }, 0);
                    t && (t("manifest has no partTargetDuration defaulting to " + p),
                    zo.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),
                    c.partTargetDuration = p
                }
                return c
            }({
                onwarn: function(e) {
                    var t = e.message;
                    return n.logger_("m3u8-parser warn for " + i + ": " + t)
                },
                oninfo: function(e) {
                    var t = e.message;
                    return n.logger_("m3u8-parser info for " + i + ": " + t)
                },
                manifestString: e.manifestString,
                customTagParsers: this.customTagParsers,
                customTagMappers: this.customTagMappers,
                experimentalLLHLS: this.experimentalLLHLS
            })
        }
        ,
        t.haveMetadata = function(e) {
            var t = e.playlistString
              , n = e.playlistObject
              , i = e.url
              , r = e.id;
            this.request = null,
            this.state = "HAVE_METADATA";
            var a = n || this.parseManifest_({
                url: i,
                manifestString: t
            });
            a.lastRequest = Date.now(),
            Ia({
                playlist: a,
                uri: i,
                id: r
            });
            var o = Fa(this.master, a);
            this.targetDuration = a.partTargetDuration || a.targetDuration,
            o ? (this.master = o,
            this.media_ = this.master.playlists[r]) : this.trigger("playlistunchanged"),
            this.updateMediaUpdateTimeout_(Ba(this.media(), !!o)),
            this.trigger("loadedplaylist")
        }
        ,
        t.dispose = function() {
            this.trigger("dispose"),
            this.stopRequest(),
            C.default.clearTimeout(this.mediaUpdateTimeout),
            C.default.clearTimeout(this.finalRenditionTimeout),
            this.off()
        }
        ,
        t.stopRequest = function() {
            if (this.request) {
                var e = this.request;
                this.request = null,
                e.onreadystatechange = null,
                e.abort()
            }
        }
        ,
        t.media = function(n, e) {
            var i = this;
            if (!n)
                return this.media_;
            if ("HAVE_NOTHING" === this.state)
                throw new Error("Cannot switch media playlist from " + this.state);
            if ("string" == typeof n) {
                if (!this.master.playlists[n])
                    throw new Error("Unknown playlist URI: " + n);
                n = this.master.playlists[n]
            }
            if (C.default.clearTimeout(this.finalRenditionTimeout),
            e) {
                var t = (n.partTargetDuration || n.targetDuration) / 2 * 1e3 || 5e3;
                this.finalRenditionTimeout = C.default.setTimeout(this.media.bind(this, n, !1), t)
            } else {
                var r = this.state
                  , a = !this.media_ || n.id !== this.media_.id
                  , o = this.master.playlists[n.id];
                if (o && o.endList || n.endList && n.segments.length)
                    return this.request && (this.request.onreadystatechange = null,
                    this.request.abort(),
                    this.request = null),
                    this.state = "HAVE_METADATA",
                    this.media_ = n,
                    void (a && (this.trigger("mediachanging"),
                    "HAVE_MASTER" === r ? this.trigger("loadedmetadata") : this.trigger("mediachange")));
                if (this.updateMediaUpdateTimeout_(Ba(n, !0)),
                a) {
                    if (this.state = "SWITCHING_MEDIA",
                    this.request) {
                        if (n.resolvedUri === this.request.url)
                            return;
                        this.request.onreadystatechange = null,
                        this.request.abort(),
                        this.request = null
                    }
                    this.media_ && this.trigger("mediachanging"),
                    this.request = this.vhs_.xhr({
                        uri: n.resolvedUri,
                        withCredentials: this.withCredentials
                    }, function(e, t) {
                        if (i.request) {
                            if (n.lastRequest = Date.now(),
                            n.resolvedUri = aa(i.handleManifestRedirects, n.resolvedUri, t),
                            e)
                                return i.playlistRequestError(i.request, n, r);
                            i.haveMetadata({
                                playlistString: t.responseText,
                                url: n.uri,
                                id: n.id
                            }),
                            "HAVE_MASTER" === r ? i.trigger("loadedmetadata") : i.trigger("mediachange")
                        }
                    })
                }
            }
        }
        ,
        t.pause = function() {
            this.mediaUpdateTimeout && (C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null),
            this.stopRequest(),
            "HAVE_NOTHING" === this.state && (this.started = !1),
            "SWITCHING_MEDIA" === this.state ? this.media_ ? this.state = "HAVE_METADATA" : this.state = "HAVE_MASTER" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
        }
        ,
        t.load = function(e) {
            var t = this;
            this.mediaUpdateTimeout && (C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null);
            var n = this.media();
            if (e) {
                var i = n ? (n.partTargetDuration || n.targetDuration) / 2 * 1e3 : 5e3;
                this.mediaUpdateTimeout = C.default.setTimeout(function() {
                    t.mediaUpdateTimeout = null,
                    t.load()
                }, i)
            } else
                this.started ? n && !n.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist") : this.start()
        }
        ,
        t.updateMediaUpdateTimeout_ = function(e) {
            var t = this;
            this.mediaUpdateTimeout && (C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null),
            this.media() && !this.media().endList && (this.mediaUpdateTimeout = C.default.setTimeout(function() {
                t.mediaUpdateTimeout = null,
                t.trigger("mediaupdatetimeout"),
                t.updateMediaUpdateTimeout_(e)
            }, e))
        }
        ,
        t.start = function() {
            var i = this;
            if (this.started = !0,
            "object" == typeof this.src)
                return this.src.uri || (this.src.uri = C.default.location.href),
                this.src.resolvedUri = this.src.uri,
                void setTimeout(function() {
                    i.setupInitialPlaylist(i.src)
                }, 0);
            this.request = this.vhs_.xhr({
                uri: this.src,
                withCredentials: this.withCredentials
            }, function(e, t) {
                if (i.request) {
                    if (i.request = null,
                    e)
                        return i.error = {
                            status: t.status,
                            message: "HLS playlist request error at URL: " + i.src + ".",
                            responseText: t.responseText,
                            code: 2
                        },
                        "HAVE_NOTHING" === i.state && (i.started = !1),
                        i.trigger("error");
                    i.src = aa(i.handleManifestRedirects, i.src, t);
                    var n = i.parseManifest_({
                        manifestString: t.responseText,
                        url: i.src
                    });
                    i.setupInitialPlaylist(n)
                }
            })
        }
        ,
        t.srcUri = function() {
            return "string" == typeof this.src ? this.src : this.src.uri
        }
        ,
        t.setupInitialPlaylist = function(e) {
            if (this.state = "HAVE_MASTER",
            e.playlists)
                return this.master = e,
                La(this.master, this.srcUri()),
                e.playlists.forEach(function(t) {
                    t.segments = Da(t),
                    t.segments.forEach(function(e) {
                        Ra(e, t.resolvedUri)
                    })
                }),
                this.trigger("loadedplaylist"),
                void (this.request || this.media(this.master.playlists[0]));
            var t = this.srcUri() || C.default.location.href;
            this.master = function(e, t) {
                var n = Pa(0, t)
                  , i = {
                    mediaGroups: {
                        AUDIO: {},
                        VIDEO: {},
                        "CLOSED-CAPTIONS": {},
                        SUBTITLES: {}
                    },
                    uri: C.default.location.href,
                    resolvedUri: C.default.location.href,
                    playlists: [{
                        uri: t,
                        id: n,
                        resolvedUri: t,
                        attributes: {}
                    }]
                };
                return i.playlists[n] = i.playlists[0],
                i.playlists[t] = i.playlists[0],
                i
            }(0, t),
            this.haveMetadata({
                playlistObject: e,
                url: t,
                id: this.master.playlists[0].id
            }),
            this.trigger("loadedmetadata")
        }
        ,
        e
    }(na.EventTarget)
      , Go = na.xhr
      , Wo = na.mergeOptions
      , qo = Object.freeze({
        __proto__: null,
        createTransferableMessage: Ga,
        initSegmentId: Wa,
        segmentKeyId: qa,
        hexDump: $a,
        tagDump: function(e) {
            var t = e.bytes;
            return $a(t)
        },
        textRanges: function(e) {
            var t, n, i, r = "";
            for (t = 0; t < e.length; t++)
                r += (i = t,
                (n = e).start(i) + "-" + n.end(i) + " ");
            return r
        }
    })
      , $o = na.mergeOptions
      , Xo = function(c) {
        function e(e, t, n, i) {
            var r;
            void 0 === n && (n = {}),
            (r = c.call(this) || this).masterPlaylistLoader_ = i || P.default(r),
            i || (r.isMaster_ = !0);
            var a = n
              , o = a.withCredentials
              , s = void 0 !== o && o
              , l = a.handleManifestRedirects
              , u = void 0 !== l && l;
            if (r.vhs_ = t,
            r.withCredentials = s,
            r.handleManifestRedirects = u,
            !e)
                throw new Error("A non-empty playlist URL or object is required");
            return r.on("minimumUpdatePeriod", function() {
                r.refreshXml_()
            }),
            r.on("mediaupdatetimeout", function() {
                r.refreshMedia_(r.media().id)
            }),
            r.state = "HAVE_NOTHING",
            r.loadedPlaylists_ = {},
            r.logger_ = oa("DashPlaylistLoader"),
            r.isMaster_ ? (r.masterPlaylistLoader_.srcUrl = e,
            r.masterPlaylistLoader_.sidxMapping_ = {}) : r.childPlaylist_ = e,
            r
        }
        A.default(e, c);
        var t = e.prototype;
        return t.requestErrored_ = function(e, t, n) {
            return !this.request || (this.request = null,
            e ? (this.error = "object" != typeof e || e instanceof Error ? {
                status: t.status,
                message: "DASH request error at URL: " + t.uri,
                response: t.response,
                code: 2
            } : e,
            n && (this.state = n),
            this.trigger("error"),
            !0) : void 0)
        }
        ,
        t.addSidxSegments_ = function(s, r, a) {
            var l = this
              , o = s.sidx && y.generateSidxKey(s.sidx);
            if (s.sidx && o && !this.masterPlaylistLoader_.sidxMapping_[o]) {
                var u = aa(this.handleManifestRedirects, s.sidx.resolvedUri)
                  , c = function(e, t) {
                    if (!l.requestErrored_(e, t, r)) {
                        var n, i = l.masterPlaylistLoader_.sidxMapping_;
                        try {
                            n = B.default(x.toUint8(t.response).subarray(8))
                        } catch (e) {
                            return void l.requestErrored_(e, t, r)
                        }
                        return i[o] = {
                            sidxInfo: s.sidx,
                            sidx: n
                        },
                        y.addSidxSegmentsToPlaylist(s, n, s.sidx.resolvedUri),
                        a(!0)
                    }
                };
                this.request = function(e, t, r) {
                    function a(e, t, n, i) {
                        return t.abort(),
                        l = !0,
                        r(e, t, n, i)
                    }
                    function n(e, t) {
                        if (!l) {
                            if (e)
                                return a(e, t, "", s);
                            var n = t.responseText.substring(s && s.byteLength || 0, t.responseText.length);
                            if (s = x.concatTypedArrays(s, x.stringToBytes(n, !0)),
                            o = o || _.getId3Offset(s),
                            s.length < 10 || o && s.length < o + 2)
                                return Ka(t, function() {
                                    return a(e, t, "", s)
                                });
                            var i = w.detectContainerForBytes(s);
                            return "ts" === i && s.length < 188 ? Ka(t, function() {
                                return a(e, t, "", s)
                            }) : !i && s.length < 376 ? Ka(t, function() {
                                return a(e, t, "", s)
                            }) : a(null, t, i, s)
                        }
                    }
                    var o, s = [], l = !1, i = t({
                        uri: e,
                        beforeSend: function(t) {
                            t.overrideMimeType("text/plain; charset=x-user-defined"),
                            t.addEventListener("progress", function(e) {
                                return e.total,
                                e.loaded,
                                Ua(t, null, {
                                    statusCode: t.status
                                }, n)
                            })
                        }
                    }, function(e, t) {
                        return Ua(i, e, t, n)
                    });
                    return i
                }(u, this.vhs_.xhr, function(e, t, n, i) {
                    if (e)
                        return c(e, t);
                    if (!n || "mp4" !== n)
                        return c({
                            status: t.status,
                            message: "Unsupported " + (n || "unknown") + " container type for sidx segment at URL: " + u,
                            response: "",
                            playlist: s,
                            internal: !0,
                            blacklistDuration: 1 / 0,
                            code: 2
                        }, t);
                    var r = s.sidx.byterange
                      , a = r.offset
                      , o = r.length;
                    if (i.length >= o + a)
                        return c(e, {
                            response: i.subarray(a, a + o),
                            status: t.status,
                            uri: t.uri
                        });
                    l.request = l.vhs_.xhr({
                        uri: u,
                        responseType: "arraybuffer",
                        headers: za({
                            byterange: s.sidx.byterange
                        })
                    }, c)
                })
            } else
                this.mediaRequest_ = C.default.setTimeout(function() {
                    return a(!1)
                }, 0)
        }
        ,
        t.dispose = function() {
            this.trigger("dispose"),
            this.stopRequest(),
            this.loadedPlaylists_ = {},
            C.default.clearTimeout(this.minimumUpdatePeriodTimeout_),
            C.default.clearTimeout(this.mediaRequest_),
            C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null,
            this.mediaRequest_ = null,
            this.minimumUpdatePeriodTimeout_ = null,
            this.masterPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.masterPlaylistLoader_.createMupOnMedia_),
            this.masterPlaylistLoader_.createMupOnMedia_ = null),
            this.off()
        }
        ,
        t.hasPendingRequest = function() {
            return this.request || this.mediaRequest_
        }
        ,
        t.stopRequest = function() {
            if (this.request) {
                var e = this.request;
                this.request = null,
                e.onreadystatechange = null,
                e.abort()
            }
        }
        ,
        t.media = function(t) {
            var n = this;
            if (!t)
                return this.media_;
            if ("HAVE_NOTHING" === this.state)
                throw new Error("Cannot switch media playlist from " + this.state);
            var i = this.state;
            if ("string" == typeof t) {
                if (!this.masterPlaylistLoader_.master.playlists[t])
                    throw new Error("Unknown playlist URI: " + t);
                t = this.masterPlaylistLoader_.master.playlists[t]
            }
            var e = !this.media_ || t.id !== this.media_.id;
            if (e && this.loadedPlaylists_[t.id] && this.loadedPlaylists_[t.id].endList)
                return this.state = "HAVE_METADATA",
                this.media_ = t,
                void (e && (this.trigger("mediachanging"),
                this.trigger("mediachange")));
            e && (this.media_ && this.trigger("mediachanging"),
            this.addSidxSegments_(t, i, function(e) {
                n.haveMetadata({
                    startingState: i,
                    playlist: t
                })
            }))
        }
        ,
        t.haveMetadata = function(e) {
            var t = e.startingState
              , n = e.playlist;
            this.state = "HAVE_METADATA",
            this.loadedPlaylists_[n.id] = n,
            this.mediaRequest_ = null,
            this.refreshMedia_(n.id),
            "HAVE_MASTER" === t ? this.trigger("loadedmetadata") : this.trigger("mediachange")
        }
        ,
        t.pause = function() {
            this.masterPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.masterPlaylistLoader_.createMupOnMedia_),
            this.masterPlaylistLoader_.createMupOnMedia_ = null),
            this.stopRequest(),
            C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null,
            this.isMaster_ && (C.default.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),
            this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_ = null),
            "HAVE_NOTHING" === this.state && (this.started = !1)
        }
        ,
        t.load = function(e) {
            var t = this;
            C.default.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null;
            var n = this.media();
            if (e) {
                var i = n ? n.targetDuration / 2 * 1e3 : 5e3;
                this.mediaUpdateTimeout = C.default.setTimeout(function() {
                    return t.load()
                }, i)
            } else
                this.started ? n && !n.endList ? (this.isMaster_ && !this.minimumUpdatePeriodTimeout_ && (this.trigger("minimumUpdatePeriod"),
                this.updateMinimumUpdatePeriodTimeout_()),
                this.trigger("mediaupdatetimeout")) : this.trigger("loadedplaylist") : this.start()
        }
        ,
        t.start = function() {
            var n = this;
            this.started = !0,
            this.isMaster_ ? this.requestMaster_(function(e, t) {
                n.haveMaster_(),
                n.hasPendingRequest() || n.media_ || n.media(n.masterPlaylistLoader_.master.playlists[0])
            }) : this.mediaRequest_ = C.default.setTimeout(function() {
                return n.haveMaster_()
            }, 0)
        }
        ,
        t.requestMaster_ = function(i) {
            var r = this;
            this.request = this.vhs_.xhr({
                uri: this.masterPlaylistLoader_.srcUrl,
                withCredentials: this.withCredentials
            }, function(e, t) {
                if (!r.requestErrored_(e, t)) {
                    var n = t.responseText !== r.masterPlaylistLoader_.masterXml_;
                    return r.masterPlaylistLoader_.masterXml_ = t.responseText,
                    t.responseHeaders && t.responseHeaders.date ? r.masterLoaded_ = Date.parse(t.responseHeaders.date) : r.masterLoaded_ = Date.now(),
                    r.masterPlaylistLoader_.srcUrl = aa(r.handleManifestRedirects, r.masterPlaylistLoader_.srcUrl, t),
                    n ? (r.handleMaster_(),
                    void r.syncClientServerClock_(function() {
                        return i(t, n)
                    })) : i(t, n)
                }
                "HAVE_NOTHING" === r.state && (r.started = !1)
            })
        }
        ,
        t.syncClientServerClock_ = function(i) {
            var r = this
              , a = y.parseUTCTiming(this.masterPlaylistLoader_.masterXml_);
            return null === a ? (this.masterPlaylistLoader_.clientOffset_ = this.masterLoaded_ - Date.now(),
            i()) : "DIRECT" === a.method ? (this.masterPlaylistLoader_.clientOffset_ = a.value - Date.now(),
            i()) : void (this.request = this.vhs_.xhr({
                uri: Bo(this.masterPlaylistLoader_.srcUrl, a.value),
                method: a.method,
                withCredentials: this.withCredentials
            }, function(e, t) {
                if (r.request) {
                    if (e)
                        return r.masterPlaylistLoader_.clientOffset_ = r.masterLoaded_ - Date.now(),
                        i();
                    var n;
                    n = "HEAD" === a.method ? t.responseHeaders && t.responseHeaders.date ? Date.parse(t.responseHeaders.date) : r.masterLoaded_ : Date.parse(t.responseText),
                    r.masterPlaylistLoader_.clientOffset_ = n - Date.now(),
                    i()
                }
            }))
        }
        ,
        t.haveMaster_ = function() {
            this.state = "HAVE_MASTER",
            this.isMaster_ ? this.trigger("loadedplaylist") : this.media_ || this.media(this.childPlaylist_)
        }
        ,
        t.handleMaster_ = function() {
            this.mediaRequest_ = null;
            var e = function(e) {
                var t = e.masterXml
                  , n = e.srcUrl
                  , i = e.clientOffset
                  , r = e.sidxMapping
                  , a = y.parse(t, {
                    manifestUri: n,
                    clientOffset: i,
                    sidxMapping: r
                });
                return La(a, n),
                a
            }({
                masterXml: this.masterPlaylistLoader_.masterXml_,
                srcUrl: this.masterPlaylistLoader_.srcUrl,
                clientOffset: this.masterPlaylistLoader_.clientOffset_,
                sidxMapping: this.masterPlaylistLoader_.sidxMapping_
            })
              , t = this.masterPlaylistLoader_.master;
            t && (e = function(e, t, n) {
                for (var o = !0, s = $o(e, {
                    duration: t.duration,
                    minimumUpdatePeriod: t.minimumUpdatePeriod
                }), i = 0; i < t.playlists.length; i++) {
                    var r = t.playlists[i];
                    if (r.sidx) {
                        var a = y.generateSidxKey(r.sidx);
                        n && n[a] && n[a].sidx && y.addSidxSegmentsToPlaylist(r, n[a].sidx, r.sidx.resolvedUri)
                    }
                    var l = Fa(s, r, Za);
                    l && (s = l,
                    o = !1)
                }
                return Aa(t, function(e, t, n, i) {
                    if (e.playlists && e.playlists.length) {
                        var r = e.playlists[0].id
                          , a = Fa(s, e.playlists[0], Za);
                        a && ((s = a).mediaGroups[t][n][i].playlists[0] = s.playlists[r],
                        o = !1)
                    }
                }),
                t.minimumUpdatePeriod !== e.minimumUpdatePeriod && (o = !1),
                o ? null : s
            }(t, e, this.masterPlaylistLoader_.sidxMapping_)),
            this.masterPlaylistLoader_.master = e || t;
            var n = this.masterPlaylistLoader_.master.locations && this.masterPlaylistLoader_.master.locations[0];
            return n && n !== this.masterPlaylistLoader_.srcUrl && (this.masterPlaylistLoader_.srcUrl = n),
            (!t || e && e.minimumUpdatePeriod !== t.minimumUpdatePeriod) && this.updateMinimumUpdatePeriodTimeout_(),
            Boolean(e)
        }
        ,
        t.updateMinimumUpdatePeriodTimeout_ = function() {
            var e = this.masterPlaylistLoader_;
            e.createMupOnMedia_ && (e.off("loadedmetadata", e.createMupOnMedia_),
            e.createMupOnMedia_ = null),
            e.minimumUpdatePeriodTimeout_ && (C.default.clearTimeout(e.minimumUpdatePeriodTimeout_),
            e.minimumUpdatePeriodTimeout_ = null);
            var t = e.master && e.master.minimumUpdatePeriod;
            0 === t && (e.media() ? t = 1e3 * e.media().targetDuration : (e.createMupOnMedia_ = e.updateMinimumUpdatePeriodTimeout_,
            e.one("loadedmetadata", e.createMupOnMedia_))),
            "number" != typeof t || t <= 0 ? t < 0 && this.logger_("found invalid minimumUpdatePeriod of " + t + ", not setting a timeout") : this.createMUPTimeout_(t)
        }
        ,
        t.createMUPTimeout_ = function(e) {
            var t = this.masterPlaylistLoader_;
            t.minimumUpdatePeriodTimeout_ = C.default.setTimeout(function() {
                t.minimumUpdatePeriodTimeout_ = null,
                t.trigger("minimumUpdatePeriod"),
                t.createMUPTimeout_(e)
            }, e)
        }
        ,
        t.refreshXml_ = function() {
            var n = this;
            this.requestMaster_(function(e, t) {
                t && (n.media_ && (n.media_ = n.masterPlaylistLoader_.master.playlists[n.media_.id]),
                n.masterPlaylistLoader_.sidxMapping_ = function(e, a) {
                    var o = Qa(e.playlists, a);
                    return Aa(e, function(e, t, n, i) {
                        if (e.playlists && e.playlists.length) {
                            var r = e.playlists;
                            o = $o(o, Qa(r, a))
                        }
                    }),
                    o
                }(n.masterPlaylistLoader_.master, n.masterPlaylistLoader_.sidxMapping_),
                n.addSidxSegments_(n.media(), n.state, function(e) {
                    n.refreshMedia_(n.media().id)
                }))
            })
        }
        ,
        t.refreshMedia_ = function(e) {
            var t = this;
            if (!e)
                throw new Error("refreshMedia_ must take a media id");
            this.media_ && this.isMaster_ && this.handleMaster_();
            var n = this.masterPlaylistLoader_.master.playlists
              , i = !this.media_ || this.media_ !== n[e];
            if (i ? this.media_ = n[e] : this.trigger("playlistunchanged"),
            !this.mediaUpdateTimeout) {
                !function e() {
                    t.media().endList || (t.mediaUpdateTimeout = C.default.setTimeout(function() {
                        t.trigger("mediaupdatetimeout"),
                        e()
                    }, Ba(t.media(), Boolean(i))))
                }()
            }
            this.trigger("loadedplaylist")
        }
        ,
        e
    }(na.EventTarget)
      , Yo = {
        GOAL_BUFFER_LENGTH: 30,
        MAX_GOAL_BUFFER_LENGTH: 60,
        BACK_BUFFER_LENGTH: 30,
        GOAL_BUFFER_LENGTH_RATE: 1,
        INITIAL_BANDWIDTH: 4194304,
        BANDWIDTH_VARIANCE: 1.2,
        BUFFER_LOW_WATER_LINE: 0,
        MAX_BUFFER_LOW_WATER_LINE: 30,
        EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE: 16,
        BUFFER_LOW_WATER_LINE_RATE: 1,
        BUFFER_HIGH_WATER_LINE: 30
    }
      , Ko = eo(to(no(function() {
        function e() {
            this.init = function() {
                var a = {};
                this.on = function(e, t) {
                    a[e] || (a[e] = []),
                    a[e] = a[e].concat(t)
                }
                ,
                this.off = function(e, t) {
                    var n;
                    return !!a[e] && (n = a[e].indexOf(t),
                    a[e] = a[e].slice(),
                    a[e].splice(n, 1),
                    -1 < n)
                }
                ,
                this.trigger = function(e) {
                    var t, n, i, r;
                    if (t = a[e])
                        if (2 === arguments.length)
                            for (i = t.length,
                            n = 0; n < i; ++n)
                                t[n].call(this, arguments[1]);
                        else {
                            for (r = [],
                            n = arguments.length,
                            n = 1; n < arguments.length; ++n)
                                r.push(arguments[n]);
                            for (i = t.length,
                            n = 0; n < i; ++n)
                                t[n].apply(this, r)
                        }
                }
                ,
                this.dispose = function() {
                    a = {}
                }
            }
        }
        e.prototype.pipe = function(t) {
            return this.on("data", function(e) {
                t.push(e)
            }),
            this.on("done", function(e) {
                t.flush(e)
            }),
            this.on("partialdone", function(e) {
                t.partialFlush(e)
            }),
            this.on("endedtimeline", function(e) {
                t.endTimeline(e)
            }),
            this.on("reset", function(e) {
                t.reset(e)
            }),
            t
        }
        ,
        e.prototype.push = function(e) {
            this.trigger("data", e)
        }
        ,
        e.prototype.flush = function(e) {
            this.trigger("done", e)
        }
        ,
        e.prototype.partialFlush = function(e) {
            this.trigger("partialdone", e)
        }
        ,
        e.prototype.endTimeline = function(e) {
            this.trigger("endedtimeline", e)
        }
        ,
        e.prototype.reset = function(e) {
            this.trigger("reset", e)
        }
        ;
        var u, t, n, r, a, i, o, s, l, c, h, d, p, f, m, g, v, y, b, _, w, x, T, S, E, C, M, k, P, A, I, L, O, R, D, N, F, B, U, j, z = e, H = Math.pow(2, 32) - 1;
        !function() {
            var e;
            if (x = {
                avc1: [],
                avcC: [],
                btrt: [],
                dinf: [],
                dref: [],
                esds: [],
                ftyp: [],
                hdlr: [],
                mdat: [],
                mdhd: [],
                mdia: [],
                mfhd: [],
                minf: [],
                moof: [],
                moov: [],
                mp4a: [],
                mvex: [],
                mvhd: [],
                pasp: [],
                sdtp: [],
                smhd: [],
                stbl: [],
                stco: [],
                stsc: [],
                stsd: [],
                stsz: [],
                stts: [],
                styp: [],
                tfdt: [],
                tfhd: [],
                traf: [],
                trak: [],
                trun: [],
                trex: [],
                tkhd: [],
                vmhd: []
            },
            "undefined" != typeof Uint8Array) {
                for (e in x)
                    x.hasOwnProperty(e) && (x[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                T = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]),
                E = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]),
                S = new Uint8Array([0, 0, 0, 1]),
                C = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
                M = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]),
                k = {
                    video: C,
                    audio: M
                },
                I = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
                A = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                O = L,
                R = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
                D = L,
                P = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
            }
        }(),
        u = function(e) {
            var t, n, i = [], r = 0;
            for (t = 1; t < arguments.length; t++)
                i.push(arguments[t]);
            for (t = i.length; t--; )
                r += i[t].byteLength;
            for (n = new Uint8Array(r + 8),
            new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0, n.byteLength),
            n.set(e, 4),
            t = 0,
            r = 8; t < i.length; t++)
                n.set(i[t], r),
                r += i[t].byteLength;
            return n
        }
        ,
        t = function() {
            return u(x.dinf, u(x.dref, I))
        }
        ,
        n = function(e) {
            return u(x.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
        }
        ,
        m = function(e) {
            return u(x.hdlr, k[e])
        }
        ,
        f = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
            return e.samplerate && (t[12] = e.samplerate >>> 24 & 255,
            t[13] = e.samplerate >>> 16 & 255,
            t[14] = e.samplerate >>> 8 & 255,
            t[15] = 255 & e.samplerate),
            u(x.mdhd, t)
        }
        ,
        p = function(e) {
            return u(x.mdia, f(e), m(e.type), i(e))
        }
        ,
        a = function(e) {
            return u(x.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
        }
        ,
        i = function(e) {
            return u(x.minf, "video" === e.type ? u(x.vmhd, P) : u(x.smhd, A), t(), v(e))
        }
        ,
        o = function(e, t) {
            for (var n = [], i = t.length; i--; )
                n[i] = b(t[i]);
            return u.apply(null, [x.moof, a(e)].concat(n))
        }
        ,
        s = function(e) {
            for (var t = e.length, n = []; t--; )
                n[t] = h(e[t]);
            return u.apply(null, [x.moov, c(4294967295)].concat(n).concat(l(e)))
        }
        ,
        l = function(e) {
            for (var t = e.length, n = []; t--; )
                n[t] = _(e[t]);
            return u.apply(null, [x.mvex].concat(n))
        }
        ,
        c = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
            return u(x.mvhd, t)
        }
        ,
        g = function(e) {
            var t, n, i = e.samples || [], r = new Uint8Array(4 + i.length);
            for (n = 0; n < i.length; n++)
                t = i[n].flags,
                r[n + 4] = t.dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy;
            return u(x.sdtp, r)
        }
        ,
        v = function(e) {
            return u(x.stbl, y(e), u(x.stts, D), u(x.stsc, O), u(x.stsz, R), u(x.stco, L))
        }
        ,
        y = function(e) {
            return u(x.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? N(e) : F(e))
        }
        ,
        N = function(e) {
            var t, n, i = e.sps || [], r = e.pps || [], a = [], o = [];
            for (t = 0; t < i.length; t++)
                a.push((65280 & i[t].byteLength) >>> 8),
                a.push(255 & i[t].byteLength),
                a = a.concat(Array.prototype.slice.call(i[t]));
            for (t = 0; t < r.length; t++)
                o.push((65280 & r[t].byteLength) >>> 8),
                o.push(255 & r[t].byteLength),
                o = o.concat(Array.prototype.slice.call(r[t]));
            if (n = [x.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), u(x.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([i.length], a, [r.length], o))), u(x.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192]))],
            e.sarRatio) {
                var s = e.sarRatio[0]
                  , l = e.sarRatio[1];
                n.push(u(x.pasp, new Uint8Array([(4278190080 & s) >> 24, (16711680 & s) >> 16, (65280 & s) >> 8, 255 & s, (4278190080 & l) >> 24, (16711680 & l) >> 16, (65280 & l) >> 8, 255 & l])))
            }
            return u.apply(null, n)
        }
        ,
        F = function(e) {
            return u(x.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), n(e))
        }
        ,
        d = function(e) {
            var t = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
            return u(x.tkhd, t)
        }
        ,
        b = function(e) {
            var t, n, i, r, a, o;
            return t = u(x.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
            a = Math.floor(e.baseMediaDecodeTime / (1 + H)),
            o = Math.floor(e.baseMediaDecodeTime % (1 + H)),
            n = u(x.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o])),
            92,
            "audio" === e.type ? (i = w(e, 92),
            u(x.traf, t, n, i)) : (r = g(e),
            i = w(e, r.length + 92),
            u(x.traf, t, n, i, r))
        }
        ,
        h = function(e) {
            return e.duration = e.duration || 4294967295,
            u(x.trak, d(e), p(e))
        }
        ,
        _ = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
            return "video" !== e.type && (t[t.length - 1] = 0),
            u(x.trex, t)
        }
        ,
        j = function(e, t) {
            var n = 0
              , i = 0
              , r = 0
              , a = 0;
            return e.length && (void 0 !== e[0].duration && (n = 1),
            void 0 !== e[0].size && (i = 2),
            void 0 !== e[0].flags && (r = 4),
            void 0 !== e[0].compositionTimeOffset && (a = 8)),
            [0, 0, n | i | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
        }
        ,
        U = function(e, t) {
            var n, i, r, a, o, s;
            for (t += 20 + 16 * (a = e.samples || []).length,
            r = j(a, t),
            (i = new Uint8Array(r.length + 16 * a.length)).set(r),
            n = r.length,
            s = 0; s < a.length; s++)
                o = a[s],
                i[n++] = (4278190080 & o.duration) >>> 24,
                i[n++] = (16711680 & o.duration) >>> 16,
                i[n++] = (65280 & o.duration) >>> 8,
                i[n++] = 255 & o.duration,
                i[n++] = (4278190080 & o.size) >>> 24,
                i[n++] = (16711680 & o.size) >>> 16,
                i[n++] = (65280 & o.size) >>> 8,
                i[n++] = 255 & o.size,
                i[n++] = o.flags.isLeading << 2 | o.flags.dependsOn,
                i[n++] = o.flags.isDependedOn << 6 | o.flags.hasRedundancy << 4 | o.flags.paddingValue << 1 | o.flags.isNonSyncSample,
                i[n++] = 61440 & o.flags.degradationPriority,
                i[n++] = 15 & o.flags.degradationPriority,
                i[n++] = (4278190080 & o.compositionTimeOffset) >>> 24,
                i[n++] = (16711680 & o.compositionTimeOffset) >>> 16,
                i[n++] = (65280 & o.compositionTimeOffset) >>> 8,
                i[n++] = 255 & o.compositionTimeOffset;
            return u(x.trun, i)
        }
        ,
        B = function(e, t) {
            var n, i, r, a, o, s;
            for (t += 20 + 8 * (a = e.samples || []).length,
            r = j(a, t),
            (n = new Uint8Array(r.length + 8 * a.length)).set(r),
            i = r.length,
            s = 0; s < a.length; s++)
                o = a[s],
                n[i++] = (4278190080 & o.duration) >>> 24,
                n[i++] = (16711680 & o.duration) >>> 16,
                n[i++] = (65280 & o.duration) >>> 8,
                n[i++] = 255 & o.duration,
                n[i++] = (4278190080 & o.size) >>> 24,
                n[i++] = (16711680 & o.size) >>> 16,
                n[i++] = (65280 & o.size) >>> 8,
                n[i++] = 255 & o.size;
            return u(x.trun, n)
        }
        ,
        w = function(e, t) {
            return "audio" === e.type ? B(e, t) : U(e, t)
        }
        ;
        r = function() {
            return u(x.ftyp, T, S, T, E)
        }
        ;
        function V(e, t) {
            var n = {
                size: 0,
                flags: {
                    isLeading: 0,
                    dependsOn: 1,
                    isDependedOn: 0,
                    hasRedundancy: 0,
                    degradationPriority: 0,
                    isNonSyncSample: 1
                }
            };
            return n.dataOffset = t,
            n.compositionTimeOffset = e.pts - e.dts,
            n.duration = e.duration,
            n.size = 4 * e.length,
            n.size += e.byteLength,
            e.keyFrame && (n.flags.dependsOn = 2,
            n.flags.isNonSyncSample = 0),
            n
        }
        function G(e) {
            for (var t = []; e--; )
                t.push(0);
            return t
        }
        function W() {
            if (!$) {
                var e = {
                    96e3: [oe, [227, 64], G(154), [56]],
                    88200: [oe, [231], G(170), [56]],
                    64e3: [oe, [248, 192], G(240), [56]],
                    48e3: [oe, [255, 192], G(268), [55, 148, 128], G(54), [112]],
                    44100: [oe, [255, 192], G(268), [55, 163, 128], G(84), [112]],
                    32e3: [oe, [255, 192], G(268), [55, 234], G(226), [112]],
                    24e3: [oe, [255, 192], G(268), [55, 255, 128], G(268), [111, 112], G(126), [224]],
                    16e3: [oe, [255, 192], G(268), [55, 255, 128], G(268), [111, 255], G(269), [223, 108], G(195), [1, 192]],
                    12e3: [se, G(268), [3, 127, 248], G(268), [6, 255, 240], G(268), [13, 255, 224], G(268), [27, 253, 128], G(259), [56]],
                    11025: [se, G(268), [3, 127, 248], G(268), [6, 255, 240], G(268), [13, 255, 224], G(268), [27, 255, 192], G(268), [55, 175, 128], G(108), [112]],
                    8e3: [se, G(268), [3, 121, 16], G(47), [7]]
                };
                $ = function(n) {
                    return Object.keys(n).reduce(function(e, t) {
                        return e[t] = new Uint8Array(n[t].reduce(function(e, t) {
                            return e.concat(t)
                        }, [])),
                        e
                    }, {})
                }(e)
            }
            return $
        }
        function q(e) {
            e = e || {},
            q.prototype.init.call(this),
            this.parse708captions_ = "boolean" != typeof e.parse708captions || e.parse708captions,
            this.captionPackets_ = [],
            this.ccStreams_ = [new Ne(0,0), new Ne(0,1), new Ne(1,0), new Ne(1,1)],
            this.parse708captions_ && (this.cc708Stream_ = new Ie),
            this.reset(),
            this.ccStreams_.forEach(function(e) {
                e.on("data", this.trigger.bind(this, "data")),
                e.on("partialdone", this.trigger.bind(this, "partialdone")),
                e.on("done", this.trigger.bind(this, "done"))
            }, this),
            this.parse708captions_ && (this.cc708Stream_.on("data", this.trigger.bind(this, "data")),
            this.cc708Stream_.on("partialdone", this.trigger.bind(this, "partialdone")),
            this.cc708Stream_.on("done", this.trigger.bind(this, "done")))
        }
        var $, X, Y, K, Z, Q = function(e) {
            return u(x.mdat, e)
        }, J = o, ee = function(e) {
            var t, n = r(), i = s(e);
            return (t = new Uint8Array(n.byteLength + i.byteLength)).set(n),
            t.set(i, n.byteLength),
            t
        }, te = function(e) {
            var t, n, i = [], r = [];
            for (r.byteLength = 0,
            r.nalCount = 0,
            r.duration = 0,
            t = i.byteLength = 0; t < e.length; t++)
                "access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType ? (i.length && (i.duration = n.dts - i.dts,
                r.byteLength += i.byteLength,
                r.nalCount += i.length,
                r.duration += i.duration,
                r.push(i)),
                (i = [n]).byteLength = n.data.byteLength,
                i.pts = n.pts,
                i.dts = n.dts) : ("slice_layer_without_partitioning_rbsp_idr" === n.nalUnitType && (i.keyFrame = !0),
                i.duration = n.dts - i.dts,
                i.byteLength += n.data.byteLength,
                i.push(n));
            return r.length && (!i.duration || i.duration <= 0) && (i.duration = r[r.length - 1].duration),
            r.byteLength += i.byteLength,
            r.nalCount += i.length,
            r.duration += i.duration,
            r.push(i),
            r
        }, ne = function(e) {
            var t, n, i = [], r = [];
            for (i.byteLength = 0,
            i.nalCount = 0,
            i.duration = 0,
            i.pts = e[0].pts,
            i.dts = e[0].dts,
            r.byteLength = 0,
            r.nalCount = 0,
            r.duration = 0,
            r.pts = e[0].pts,
            r.dts = e[0].dts,
            t = 0; t < e.length; t++)
                (n = e[t]).keyFrame ? (i.length && (r.push(i),
                r.byteLength += i.byteLength,
                r.nalCount += i.nalCount,
                r.duration += i.duration),
                (i = [n]).nalCount = n.length,
                i.byteLength = n.byteLength,
                i.pts = n.pts,
                i.dts = n.dts,
                i.duration = n.duration) : (i.duration += n.duration,
                i.nalCount += n.length,
                i.byteLength += n.byteLength,
                i.push(n));
            return r.length && i.duration <= 0 && (i.duration = r[r.length - 1].duration),
            r.byteLength += i.byteLength,
            r.nalCount += i.nalCount,
            r.duration += i.duration,
            r.push(i),
            r
        }, ie = function(e) {
            var t;
            return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(),
            e.byteLength -= t.byteLength,
            e.nalCount -= t.nalCount,
            e[0][0].dts = t.dts,
            e[0][0].pts = t.pts,
            e[0][0].duration += t.duration),
            e
        }, re = function(e, t) {
            var n, i, r, a, o, s = t || 0, l = [];
            for (n = 0; n < e.length; n++)
                for (a = e[n],
                i = 0; i < a.length; i++)
                    o = a[i],
                    s += (r = V(o, s)).size,
                    l.push(r);
            return l
        }, ae = function(e) {
            var t, n, i, r, a, o, s = 0, l = e.byteLength, u = e.nalCount, c = new Uint8Array(l + 4 * u), h = new DataView(c.buffer);
            for (t = 0; t < e.length; t++)
                for (r = e[t],
                n = 0; n < r.length; n++)
                    for (a = r[n],
                    i = 0; i < a.length; i++)
                        o = a[i],
                        h.setUint32(s, o.data.byteLength),
                        s += 4,
                        c.set(o.data, s),
                        s += o.data.byteLength;
            return c
        }, oe = [33, 16, 5, 32, 164, 27], se = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252], le = 9e4, ue = X = function(e) {
            return 9e4 * e
        }
        , ce = (Y = function(e, t) {
            return e * t
        }
        ,
        K = function(e) {
            return e / 9e4
        }
        ), he = (Z = function(e, t) {
            return e / t
        }
        ,
        function(e, t) {
            return X(Z(e, t))
        }
        ), de = function(e, t) {
            return Y(K(e), t)
        }, pe = function(e, t, n) {
            return K(n ? e : e - t)
        }, fe = function(e, t, n, i) {
            var r, a, o, s, l, u = 0, c = 0, h = 0;
            if (t.length && (r = he(e.baseMediaDecodeTime, e.samplerate),
            a = Math.ceil(le / (e.samplerate / 1024)),
            n && i && (u = r - Math.max(n, i),
            h = (c = Math.floor(u / a)) * a),
            !(c < 1 || le / 2 < h))) {
                for (o = (o = W()[e.samplerate]) || t[0].data,
                s = 0; s < c; s++)
                    l = t[0],
                    t.splice(0, 0, {
                        data: o,
                        dts: l.dts - a,
                        pts: l.pts - a
                    });
                return e.baseMediaDecodeTime -= Math.floor(de(h, e.samplerate)),
                h
            }
        }, me = function(e, t, n) {
            return t.minSegmentDts >= n ? e : (t.minSegmentDts = 1 / 0,
            e.filter(function(e) {
                return e.dts >= n && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts),
                t.minSegmentPts = t.minSegmentDts,
                !0)
            }))
        }, ge = function(e) {
            var t, n, i = [];
            for (t = 0; t < e.length; t++)
                n = e[t],
                i.push({
                    size: n.data.byteLength,
                    duration: 1024
                });
            return i
        }, ve = function(e) {
            var t, n, i = 0, r = new Uint8Array(function(e) {
                var t, n = 0;
                for (t = 0; t < e.length; t++)
                    n += e[t].data.byteLength;
                return n
            }(e));
            for (t = 0; t < e.length; t++)
                n = e[t],
                r.set(n.data, i),
                i += n.data.byteLength;
            return r
        }, ye = le, be = function(e) {
            delete e.minSegmentDts,
            delete e.maxSegmentDts,
            delete e.minSegmentPts,
            delete e.maxSegmentPts
        }, _e = function(e, t) {
            var n, i = e.minSegmentDts;
            return t || (i -= e.timelineStartInfo.dts),
            n = e.timelineStartInfo.baseMediaDecodeTime,
            n += i,
            n = Math.max(0, n),
            "audio" === e.type && (n *= e.samplerate / ye,
            n = Math.floor(n)),
            n
        }, we = function(e, t) {
            "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts),
            void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts),
            void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)),
            "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts),
            void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts),
            void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts))
        }, xe = function(e) {
            for (var t = 0, n = {
                payloadType: -1,
                payloadSize: 0
            }, i = 0, r = 0; t < e.byteLength && 128 !== e[t]; ) {
                for (; 255 === e[t]; )
                    i += 255,
                    t++;
                for (i += e[t++]; 255 === e[t]; )
                    r += 255,
                    t++;
                if (r += e[t++],
                !n.payload && 4 === i) {
                    if ("GA94" === String.fromCharCode(e[t + 3], e[t + 4], e[t + 5], e[t + 6])) {
                        n.payloadType = i,
                        n.payloadSize = r,
                        n.payload = e.subarray(t, t + r);
                        break
                    }
                    n.payload = void 0
                }
                t += r,
                r = i = 0
            }
            return n
        }, Te = function(e) {
            return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
        }, Se = function(e, t) {
            var n, i, r, a, o = [];
            if (!(64 & t[0]))
                return o;
            for (i = 31 & t[0],
            n = 0; n < i; n++)
                a = {
                    type: 3 & t[2 + (r = 3 * n)],
                    pts: e
                },
                4 & t[2 + r] && (a.ccData = t[3 + r] << 8 | t[4 + r],
                o.push(a));
            return o
        }, Ee = function(e) {
            for (var t, n, i = e.byteLength, r = [], a = 1; a < i - 2; )
                0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2),
                a += 2) : a++;
            if (0 === r.length)
                return e;
            t = i - r.length,
            n = new Uint8Array(t);
            var o = 0;
            for (a = 0; a < t; o++,
            a++)
                o === r[0] && (o++,
                r.shift()),
                n[a] = e[o];
            return n
        }, Ce = 4;
        (q.prototype = new z).push = function(e) {
            var t, n, i;
            if ("sei_rbsp" === e.nalUnitType && (t = xe(e.escapedRBSP)).payload && t.payloadType === Ce && (n = Te(t)))
                if (e.dts < this.latestDts_)
                    this.ignoreNextEqualDts_ = !0;
                else {
                    if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_)
                        return this.numSameDts_--,
                        void (this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                    i = Se(e.pts, n),
                    this.captionPackets_ = this.captionPackets_.concat(i),
                    this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
                    this.numSameDts_++,
                    this.latestDts_ = e.dts
                }
        }
        ,
        q.prototype.flushCCStreams = function(t) {
            this.ccStreams_.forEach(function(e) {
                return "flush" === t ? e.flush() : e.partialFlush()
            }, this)
        }
        ,
        q.prototype.flushStream = function(e) {
            this.captionPackets_.length && (this.captionPackets_.forEach(function(e, t) {
                e.presortIndex = t
            }),
            this.captionPackets_.sort(function(e, t) {
                return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
            }),
            this.captionPackets_.forEach(function(e) {
                e.type < 2 ? this.dispatchCea608Packet(e) : this.dispatchCea708Packet(e)
            }, this),
            this.captionPackets_.length = 0),
            this.flushCCStreams(e)
        }
        ,
        q.prototype.flush = function() {
            return this.flushStream("flush")
        }
        ,
        q.prototype.partialFlush = function() {
            return this.flushStream("partialFlush")
        }
        ,
        q.prototype.reset = function() {
            this.latestDts_ = null,
            this.ignoreNextEqualDts_ = !1,
            this.numSameDts_ = 0,
            this.activeCea608Channel_ = [null, null],
            this.ccStreams_.forEach(function(e) {
                e.reset()
            })
        }
        ,
        q.prototype.dispatchCea608Packet = function(e) {
            this.setsTextOrXDSActive(e) ? this.activeCea608Channel_[e.type] = null : this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1),
            null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
        }
        ,
        q.prototype.setsChannel1Active = function(e) {
            return 4096 == (30720 & e.ccData)
        }
        ,
        q.prototype.setsChannel2Active = function(e) {
            return 6144 == (30720 & e.ccData)
        }
        ,
        q.prototype.setsTextOrXDSActive = function(e) {
            return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData)
        }
        ,
        q.prototype.dispatchCea708Packet = function(e) {
            this.parse708captions_ && this.cc708Stream_.push(e)
        }
        ;
        function Me(e) {
            return 32 <= e && e <= 127 || 160 <= e && e <= 255
        }
        function ke(e) {
            this.windowNum = e,
            this.reset()
        }
        var Pe = {
            127: 9834,
            4128: 32,
            4129: 160,
            4133: 8230,
            4138: 352,
            4140: 338,
            4144: 9608,
            4145: 8216,
            4146: 8217,
            4147: 8220,
            4148: 8221,
            4149: 8226,
            4153: 8482,
            4154: 353,
            4156: 339,
            4157: 8480,
            4159: 376,
            4214: 8539,
            4215: 8540,
            4216: 8541,
            4217: 8542,
            4218: 9168,
            4219: 9124,
            4220: 9123,
            4221: 9135,
            4222: 9126,
            4223: 9121,
            4256: 12600
        };
        ke.prototype.reset = function() {
            this.clearText(),
            this.pendingNewLine = !1,
            this.winAttr = {},
            this.penAttr = {},
            this.penLoc = {},
            this.penColor = {},
            this.visible = 0,
            this.rowLock = 0,
            this.columnLock = 0,
            this.priority = 0,
            this.relativePositioning = 0,
            this.anchorVertical = 0,
            this.anchorHorizontal = 0,
            this.anchorPoint = 0,
            this.rowCount = 1,
            this.virtualRowCount = this.rowCount + 1,
            this.columnCount = 41,
            this.windowStyle = 0,
            this.penStyle = 0
        }
        ,
        ke.prototype.getText = function() {
            return this.rows.join("\n")
        }
        ,
        ke.prototype.clearText = function() {
            this.rows = [""],
            this.rowIdx = 0
        }
        ,
        ke.prototype.newLine = function(e) {
            for (this.rows.length >= this.virtualRowCount && "function" == typeof this.beforeRowOverflow && this.beforeRowOverflow(e),
            0 < this.rows.length && (this.rows.push(""),
            this.rowIdx++); this.rows.length > this.virtualRowCount; )
                this.rows.shift(),
                this.rowIdx--
        }
        ,
        ke.prototype.isEmpty = function() {
            return 0 === this.rows.length || 1 === this.rows.length && "" === this.rows[0]
        }
        ,
        ke.prototype.addText = function(e) {
            this.rows[this.rowIdx] += e
        }
        ,
        ke.prototype.backspace = function() {
            if (!this.isEmpty()) {
                var e = this.rows[this.rowIdx];
                this.rows[this.rowIdx] = e.substr(0, e.length - 1)
            }
        }
        ;
        function Ae(e) {
            this.serviceNum = e,
            this.text = "",
            this.currentWindow = new ke(-1),
            this.windows = []
        }
        Ae.prototype.init = function(e, t) {
            this.startPts = e;
            for (var n = 0; n < 8; n++)
                this.windows[n] = new ke(n),
                "function" == typeof t && (this.windows[n].beforeRowOverflow = t)
        }
        ,
        Ae.prototype.setCurrentWindow = function(e) {
            this.currentWindow = this.windows[e]
        }
        ;
        var Ie = function e() {
            e.prototype.init.call(this);
            var t = this;
            this.current708Packet = null,
            this.services = {},
            this.push = function(e) {
                3 === e.type ? t.new708Packet() : null === t.current708Packet && t.new708Packet(),
                t.add708Bytes(e)
            }
        };
        Ie.prototype = new z,
        Ie.prototype.new708Packet = function() {
            null !== this.current708Packet && this.push708Packet(),
            this.current708Packet = {
                data: [],
                ptsVals: []
            }
        }
        ,
        Ie.prototype.add708Bytes = function(e) {
            var t = e.ccData
              , n = t >>> 8
              , i = 255 & t;
            this.current708Packet.ptsVals.push(e.pts),
            this.current708Packet.data.push(n),
            this.current708Packet.data.push(i)
        }
        ,
        Ie.prototype.push708Packet = function() {
            var e = this.current708Packet
              , t = e.data
              , n = null
              , i = null
              , r = 0
              , a = t[r++];
            for (e.seq = a >> 6,
            e.sizeCode = 63 & a; r < t.length; r++)
                i = 31 & (a = t[r++]),
                7 === (n = a >> 5) && 0 < i && (n = a = t[r++]),
                this.pushServiceBlock(n, r, i),
                0 < i && (r += i - 1)
        }
        ,
        Ie.prototype.pushServiceBlock = function(e, t, n) {
            var i, r = t, a = this.current708Packet.data, o = this.services[e];
            for (o = o || this.initService(e, r); r < t + n && r < a.length; r++)
                i = a[r],
                Me(i) ? r = this.handleText(r, o) : 16 === i ? r = this.extendedCommands(r, o) : 128 <= i && i <= 135 ? r = this.setCurrentWindow(r, o) : 152 <= i && i <= 159 ? r = this.defineWindow(r, o) : 136 === i ? r = this.clearWindows(r, o) : 140 === i ? r = this.deleteWindows(r, o) : 137 === i ? r = this.displayWindows(r, o) : 138 === i ? r = this.hideWindows(r, o) : 139 === i ? r = this.toggleWindows(r, o) : 151 === i ? r = this.setWindowAttributes(r, o) : 144 === i ? r = this.setPenAttributes(r, o) : 145 === i ? r = this.setPenColor(r, o) : 146 === i ? r = this.setPenLocation(r, o) : 143 === i ? o = this.reset(r, o) : 8 === i ? o.currentWindow.backspace() : 12 === i ? o.currentWindow.clearText() : 13 === i ? o.currentWindow.pendingNewLine = !0 : 14 === i ? o.currentWindow.clearText() : 141 === i && r++
        }
        ,
        Ie.prototype.extendedCommands = function(e, t) {
            var n = this.current708Packet.data[++e];
            return Me(n) && (e = this.handleText(e, t, !0)),
            e
        }
        ,
        Ie.prototype.getPts = function(e) {
            return this.current708Packet.ptsVals[Math.floor(e / 2)]
        }
        ,
        Ie.prototype.initService = function(t, e) {
            var n = this;
            return this.services[t] = new Ae(t),
            this.services[t].init(this.getPts(e), function(e) {
                n.flushDisplayed(e, n.services[t])
            }),
            this.services[t]
        }
        ,
        Ie.prototype.handleText = function(e, t, n) {
            var i = function(e) {
                var t = Pe[e] || e;
                return 4096 & e && e === t ? "" : String.fromCharCode(t)
            }((n ? 4096 : 0) | this.current708Packet.data[e])
              , r = t.currentWindow;
            return r.pendingNewLine && !r.isEmpty() && r.newLine(this.getPts(e)),
            r.pendingNewLine = !1,
            r.addText(i),
            e
        }
        ,
        Ie.prototype.setCurrentWindow = function(e, t) {
            var n = 7 & this.current708Packet.data[e];
            return t.setCurrentWindow(n),
            e
        }
        ,
        Ie.prototype.defineWindow = function(e, t) {
            var n = this.current708Packet.data
              , i = n[e]
              , r = 7 & i;
            t.setCurrentWindow(r);
            var a = t.currentWindow;
            return i = n[++e],
            a.visible = (32 & i) >> 5,
            a.rowLock = (16 & i) >> 4,
            a.columnLock = (8 & i) >> 3,
            a.priority = 7 & i,
            i = n[++e],
            a.relativePositioning = (128 & i) >> 7,
            a.anchorVertical = 127 & i,
            i = n[++e],
            a.anchorHorizontal = i,
            i = n[++e],
            a.anchorPoint = (240 & i) >> 4,
            a.rowCount = 15 & i,
            i = n[++e],
            a.columnCount = 63 & i,
            i = n[++e],
            a.windowStyle = (56 & i) >> 3,
            a.penStyle = 7 & i,
            a.virtualRowCount = a.rowCount + 1,
            e
        }
        ,
        Ie.prototype.setWindowAttributes = function(e, t) {
            var n = this.current708Packet.data
              , i = n[e]
              , r = t.currentWindow.winAttr;
            return i = n[++e],
            r.fillOpacity = (192 & i) >> 6,
            r.fillRed = (48 & i) >> 4,
            r.fillGreen = (12 & i) >> 2,
            r.fillBlue = 3 & i,
            i = n[++e],
            r.borderType = (192 & i) >> 6,
            r.borderRed = (48 & i) >> 4,
            r.borderGreen = (12 & i) >> 2,
            r.borderBlue = 3 & i,
            i = n[++e],
            r.borderType += (128 & i) >> 5,
            r.wordWrap = (64 & i) >> 6,
            r.printDirection = (48 & i) >> 4,
            r.scrollDirection = (12 & i) >> 2,
            r.justify = 3 & i,
            i = n[++e],
            r.effectSpeed = (240 & i) >> 4,
            r.effectDirection = (12 & i) >> 2,
            r.displayEffect = 3 & i,
            e
        }
        ,
        Ie.prototype.flushDisplayed = function(e, t) {
            for (var n = [], i = 0; i < 8; i++)
                t.windows[i].visible && !t.windows[i].isEmpty() && n.push(t.windows[i].getText());
            t.endPts = e,
            t.text = n.join("\n\n"),
            this.pushCaption(t),
            t.startPts = e
        }
        ,
        Ie.prototype.pushCaption = function(e) {
            "" !== e.text && (this.trigger("data", {
                startPts: e.startPts,
                endPts: e.endPts,
                text: e.text,
                stream: "cc708_" + e.serviceNum
            }),
            e.text = "",
            e.startPts = e.endPts)
        }
        ,
        Ie.prototype.displayWindows = function(e, t) {
            var n = this.current708Packet.data[++e]
              , i = this.getPts(e);
            this.flushDisplayed(i, t);
            for (var r = 0; r < 8; r++)
                n & 1 << r && (t.windows[r].visible = 1);
            return e
        }
        ,
        Ie.prototype.hideWindows = function(e, t) {
            var n = this.current708Packet.data[++e]
              , i = this.getPts(e);
            this.flushDisplayed(i, t);
            for (var r = 0; r < 8; r++)
                n & 1 << r && (t.windows[r].visible = 0);
            return e
        }
        ,
        Ie.prototype.toggleWindows = function(e, t) {
            var n = this.current708Packet.data[++e]
              , i = this.getPts(e);
            this.flushDisplayed(i, t);
            for (var r = 0; r < 8; r++)
                n & 1 << r && (t.windows[r].visible ^= 1);
            return e
        }
        ,
        Ie.prototype.clearWindows = function(e, t) {
            var n = this.current708Packet.data[++e]
              , i = this.getPts(e);
            this.flushDisplayed(i, t);
            for (var r = 0; r < 8; r++)
                n & 1 << r && t.windows[r].clearText();
            return e
        }
        ,
        Ie.prototype.deleteWindows = function(e, t) {
            var n = this.current708Packet.data[++e]
              , i = this.getPts(e);
            this.flushDisplayed(i, t);
            for (var r = 0; r < 8; r++)
                n & 1 << r && t.windows[r].reset();
            return e
        }
        ,
        Ie.prototype.setPenAttributes = function(e, t) {
            var n = this.current708Packet.data
              , i = n[e]
              , r = t.currentWindow.penAttr;
            return i = n[++e],
            r.textTag = (240 & i) >> 4,
            r.offset = (12 & i) >> 2,
            r.penSize = 3 & i,
            i = n[++e],
            r.italics = (128 & i) >> 7,
            r.underline = (64 & i) >> 6,
            r.edgeType = (56 & i) >> 3,
            r.fontStyle = 7 & i,
            e
        }
        ,
        Ie.prototype.setPenColor = function(e, t) {
            var n = this.current708Packet.data
              , i = n[e]
              , r = t.currentWindow.penColor;
            return i = n[++e],
            r.fgOpacity = (192 & i) >> 6,
            r.fgRed = (48 & i) >> 4,
            r.fgGreen = (12 & i) >> 2,
            r.fgBlue = 3 & i,
            i = n[++e],
            r.bgOpacity = (192 & i) >> 6,
            r.bgRed = (48 & i) >> 4,
            r.bgGreen = (12 & i) >> 2,
            r.bgBlue = 3 & i,
            i = n[++e],
            r.edgeRed = (48 & i) >> 4,
            r.edgeGreen = (12 & i) >> 2,
            r.edgeBlue = 3 & i,
            e
        }
        ,
        Ie.prototype.setPenLocation = function(e, t) {
            var n = this.current708Packet.data
              , i = n[e]
              , r = t.currentWindow.penLoc;
            return t.currentWindow.pendingNewLine = !0,
            i = n[++e],
            r.row = 15 & i,
            i = n[++e],
            r.column = 63 & i,
            e
        }
        ,
        Ie.prototype.reset = function(e, t) {
            var n = this.getPts(e);
            return this.flushDisplayed(n, t),
            this.initService(t.serviceNum, e)
        }
        ;
        function Le(e) {
            return null === e ? "" : (e = Re[e] || e,
            String.fromCharCode(e))
        }
        function Oe() {
            for (var e = [], t = 15; t--; )
                e.push("");
            return e
        }
        var Re = {
            42: 225,
            92: 233,
            94: 237,
            95: 243,
            96: 250,
            123: 231,
            124: 247,
            125: 209,
            126: 241,
            127: 9608,
            304: 174,
            305: 176,
            306: 189,
            307: 191,
            308: 8482,
            309: 162,
            310: 163,
            311: 9834,
            312: 224,
            313: 160,
            314: 232,
            315: 226,
            316: 234,
            317: 238,
            318: 244,
            319: 251,
            544: 193,
            545: 201,
            546: 211,
            547: 218,
            548: 220,
            549: 252,
            550: 8216,
            551: 161,
            552: 42,
            553: 39,
            554: 8212,
            555: 169,
            556: 8480,
            557: 8226,
            558: 8220,
            559: 8221,
            560: 192,
            561: 194,
            562: 199,
            563: 200,
            564: 202,
            565: 203,
            566: 235,
            567: 206,
            568: 207,
            569: 239,
            570: 212,
            571: 217,
            572: 249,
            573: 219,
            574: 171,
            575: 187,
            800: 195,
            801: 227,
            802: 205,
            803: 204,
            804: 236,
            805: 210,
            806: 242,
            807: 213,
            808: 245,
            809: 123,
            810: 125,
            811: 92,
            812: 94,
            813: 95,
            814: 124,
            815: 126,
            816: 196,
            817: 228,
            818: 214,
            819: 246,
            820: 223,
            821: 165,
            822: 164,
            823: 9474,
            824: 197,
            825: 229,
            826: 216,
            827: 248,
            828: 9484,
            829: 9488,
            830: 9492,
            831: 9496
        }
          , De = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152]
          , Ne = function e(t, n) {
            e.prototype.init.call(this),
            this.field_ = t || 0,
            this.dataChannel_ = n || 0,
            this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)),
            this.setConstants(),
            this.reset(),
            this.push = function(e) {
                var t, n, i, r, a;
                if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                    if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null),
                    i = t >>> 8,
                    r = 255 & t,
                    t !== this.PADDING_)
                        if (t === this.RESUME_CAPTION_LOADING_)
                            this.mode_ = "popOn";
                        else if (t === this.END_OF_CAPTION_)
                            this.mode_ = "popOn",
                            this.clearFormatting(e.pts),
                            this.flushDisplayed(e.pts),
                            n = this.displayed_,
                            this.displayed_ = this.nonDisplayed_,
                            this.nonDisplayed_ = n,
                            this.startPts_ = e.pts;
                        else if (t === this.ROLL_UP_2_ROWS_)
                            this.rollUpRows_ = 2,
                            this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_3_ROWS_)
                            this.rollUpRows_ = 3,
                            this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_4_ROWS_)
                            this.rollUpRows_ = 4,
                            this.setRollUp(e.pts);
                        else if (t === this.CARRIAGE_RETURN_)
                            this.clearFormatting(e.pts),
                            this.flushDisplayed(e.pts),
                            this.shiftRowsUp_(),
                            this.startPts_ = e.pts;
                        else if (t === this.BACKSPACE_)
                            "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                        else if (t === this.ERASE_DISPLAYED_MEMORY_)
                            this.flushDisplayed(e.pts),
                            this.displayed_ = Oe();
                        else if (t === this.ERASE_NON_DISPLAYED_MEMORY_)
                            this.nonDisplayed_ = Oe();
                        else if (t === this.RESUME_DIRECT_CAPTIONING_)
                            "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts),
                            this.displayed_ = Oe()),
                            this.mode_ = "paintOn",
                            this.startPts_ = e.pts;
                        else if (this.isSpecialCharacter(i, r))
                            a = Le((i = (3 & i) << 8) | r),
                            this[this.mode_](e.pts, a),
                            this.column_++;
                        else if (this.isExtCharacter(i, r))
                            "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1),
                            a = Le((i = (3 & i) << 8) | r),
                            this[this.mode_](e.pts, a),
                            this.column_++;
                        else if (this.isMidRowCode(i, r))
                            this.clearFormatting(e.pts),
                            this[this.mode_](e.pts, " "),
                            this.column_++,
                            14 == (14 & r) && this.addFormatting(e.pts, ["i"]),
                            1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                        else if (this.isOffsetControlCode(i, r))
                            this.column_ += 3 & r;
                        else if (this.isPAC(i, r)) {
                            var o = De.indexOf(7968 & t);
                            "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1),
                            this.setRollUp(e.pts, o)),
                            o !== this.row_ && (this.clearFormatting(e.pts),
                            this.row_ = o),
                            1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]),
                            16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)),
                            this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                        } else
                            this.isNormalChar(i) && (0 === r && (r = null),
                            a = Le(i),
                            a += Le(r),
                            this[this.mode_](e.pts, a),
                            this.column_ += a.length)
                } else
                    this.lastControlCode_ = null
            }
        };
        Ne.prototype = new z,
        Ne.prototype.flushDisplayed = function(e) {
            var t = this.displayed_.map(function(e, t) {
                try {
                    return e.trim()
                } catch (e) {
                    return this.trigger("log", {
                        level: "warn",
                        message: "Skipping a malformed 608 caption at index " + t + "."
                    }),
                    ""
                }
            }, this).join("\n").replace(/^\n+|\n+$/g, "");
            t.length && this.trigger("data", {
                startPts: this.startPts_,
                endPts: e,
                text: t,
                stream: this.name_
            })
        }
        ,
        Ne.prototype.reset = function() {
            this.mode_ = "popOn",
            this.topRow_ = 0,
            this.startPts_ = 0,
            this.displayed_ = Oe(),
            this.nonDisplayed_ = Oe(),
            this.lastControlCode_ = null,
            this.column_ = 0,
            this.row_ = 14,
            this.rollUpRows_ = 2,
            this.formatting_ = []
        }
        ,
        Ne.prototype.setConstants = function() {
            0 === this.dataChannel_ ? (this.BASE_ = 16,
            this.EXT_ = 17,
            this.CONTROL_ = (20 | this.field_) << 8,
            this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24,
            this.EXT_ = 25,
            this.CONTROL_ = (28 | this.field_) << 8,
            this.OFFSET_ = 31),
            this.PADDING_ = 0,
            this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_,
            this.END_OF_CAPTION_ = 47 | this.CONTROL_,
            this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_,
            this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_,
            this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_,
            this.CARRIAGE_RETURN_ = 45 | this.CONTROL_,
            this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_,
            this.BACKSPACE_ = 33 | this.CONTROL_,
            this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_,
            this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
        }
        ,
        Ne.prototype.isSpecialCharacter = function(e, t) {
            return e === this.EXT_ && 48 <= t && t <= 63
        }
        ,
        Ne.prototype.isExtCharacter = function(e, t) {
            return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
        }
        ,
        Ne.prototype.isMidRowCode = function(e, t) {
            return e === this.EXT_ && 32 <= t && t <= 47
        }
        ,
        Ne.prototype.isOffsetControlCode = function(e, t) {
            return e === this.OFFSET_ && 33 <= t && t <= 35
        }
        ,
        Ne.prototype.isPAC = function(e, t) {
            return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
        }
        ,
        Ne.prototype.isColorPAC = function(e) {
            return 64 <= e && e <= 79 || 96 <= e && e <= 127
        }
        ,
        Ne.prototype.isNormalChar = function(e) {
            return 32 <= e && e <= 127
        }
        ,
        Ne.prototype.setRollUp = function(e, t) {
            if ("rollUp" !== this.mode_ && (this.row_ = 14,
            this.mode_ = "rollUp",
            this.flushDisplayed(e),
            this.nonDisplayed_ = Oe(),
            this.displayed_ = Oe()),
            void 0 !== t && t !== this.row_)
                for (var n = 0; n < this.rollUpRows_; n++)
                    this.displayed_[t - n] = this.displayed_[this.row_ - n],
                    this.displayed_[this.row_ - n] = "";
            void 0 === t && (t = this.row_),
            this.topRow_ = t - this.rollUpRows_ + 1
        }
        ,
        Ne.prototype.addFormatting = function(e, t) {
            this.formatting_ = this.formatting_.concat(t);
            var n = t.reduce(function(e, t) {
                return e + "<" + t + ">"
            }, "");
            this[this.mode_](e, n)
        }
        ,
        Ne.prototype.clearFormatting = function(e) {
            if (this.formatting_.length) {
                var t = this.formatting_.reverse().reduce(function(e, t) {
                    return e + "</" + t + ">"
                }, "");
                this.formatting_ = [],
                this[this.mode_](e, t)
            }
        }
        ,
        Ne.prototype.popOn = function(e, t) {
            var n = this.nonDisplayed_[this.row_];
            n += t,
            this.nonDisplayed_[this.row_] = n
        }
        ,
        Ne.prototype.rollUp = function(e, t) {
            var n = this.displayed_[this.row_];
            n += t,
            this.displayed_[this.row_] = n
        }
        ,
        Ne.prototype.shiftRowsUp_ = function() {
            var e;
            for (e = 0; e < this.topRow_; e++)
                this.displayed_[e] = "";
            for (e = this.row_ + 1; e < 15; e++)
                this.displayed_[e] = "";
            for (e = this.topRow_; e < this.row_; e++)
                this.displayed_[e] = this.displayed_[e + 1];
            this.displayed_[this.row_] = ""
        }
        ,
        Ne.prototype.paintOn = function(e, t) {
            var n = this.displayed_[this.row_];
            n += t,
            this.displayed_[this.row_] = n
        }
        ;
        function Fe(e, t) {
            var n = 1;
            for (t < e && (n = -1); 4294967296 < Math.abs(t - e); )
                e += 8589934592 * n;
            return e
        }
        function Be(e) {
            var t, n;
            Be.prototype.init.call(this),
            this.type_ = e || "shared",
            this.push = function(e) {
                "shared" !== this.type_ && e.type !== this.type_ || (void 0 === n && (n = e.dts),
                e.dts = Fe(e.dts, n),
                e.pts = Fe(e.pts, n),
                t = e.dts,
                this.trigger("data", e))
            }
            ,
            this.flush = function() {
                n = t,
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
            ,
            this.discontinuity = function() {
                t = n = void 0
            }
            ,
            this.reset = function() {
                this.discontinuity(),
                this.trigger("reset")
            }
        }
        var Ue = {
            CaptionStream: q,
            Cea608Stream: Ne,
            Cea708Stream: Ie
        }
          , je = {
            H264_STREAM_TYPE: 27,
            ADTS_STREAM_TYPE: 15,
            METADATA_STREAM_TYPE: 21
        };
        Be.prototype = new z;
        function ze(e, t, n) {
            var i, r = "";
            for (i = t; i < n; i++)
                r += "%" + ("00" + e[i].toString(16)).slice(-2);
            return r
        }
        function He(e, t, n) {
            return decodeURIComponent(ze(e, t, n))
        }
        function Ve(e) {
            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
        }
        var Ge, We = Be, qe = Fe, $e = {
            TXXX: function(e) {
                var t;
                if (3 === e.data[0]) {
                    for (t = 1; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                            e.description = He(e.data, 1, t),
                            e.value = He(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                            break
                        }
                    e.data = e.value
                }
            },
            WXXX: function(e) {
                var t;
                if (3 === e.data[0])
                    for (t = 1; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                            e.description = He(e.data, 1, t),
                            e.url = He(e.data, t + 1, e.data.length);
                            break
                        }
            },
            PRIV: function(e) {
                var t, n;
                for (t = 0; t < e.data.length; t++)
                    if (0 === e.data[t]) {
                        e.owner = (n = e.data,
                        unescape(ze(n, 0, t)));
                        break
                    }
                e.privateData = e.data.subarray(t + 1),
                e.data = e.privateData
            }
        };
        (Ge = function(e) {
            var t, n = {
                descriptor: e && e.descriptor
            }, l = 0, u = [], c = 0;
            if (Ge.prototype.init.call(this),
            this.dispatchType = je.METADATA_STREAM_TYPE.toString(16),
            n.descriptor)
                for (t = 0; t < n.descriptor.length; t++)
                    this.dispatchType += ("00" + n.descriptor[t].toString(16)).slice(-2);
            this.push = function(e) {
                var t, n, i, r, a;
                if ("timed-metadata" === e.type)
                    if (e.dataAlignmentIndicator && (c = 0,
                    u.length = 0),
                    0 === u.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)))
                        this.trigger("log", {
                            level: "warn",
                            message: "Skipping unrecognized metadata packet"
                        });
                    else if (u.push(e),
                    c += e.data.byteLength,
                    1 === u.length && (l = Ve(e.data.subarray(6, 10)),
                    l += 10),
                    !(c < l)) {
                        for (t = {
                            data: new Uint8Array(l),
                            frames: [],
                            pts: u[0].pts,
                            dts: u[0].dts
                        },
                        a = 0; a < l; )
                            t.data.set(u[0].data.subarray(0, l - a), a),
                            a += u[0].data.byteLength,
                            c -= u[0].data.byteLength,
                            u.shift();
                        n = 10,
                        64 & t.data[5] && (n += 4,
                        n += Ve(t.data.subarray(10, 14)),
                        l -= Ve(t.data.subarray(16, 20)));
                        do {
                            if ((i = Ve(t.data.subarray(n + 4, n + 8))) < 1)
                                return void this.trigger("log", {
                                    level: "warn",
                                    message: "Malformed ID3 frame encountered. Skipping metadata parsing."
                                });
                            if ((r = {
                                id: String.fromCharCode(t.data[n], t.data[n + 1], t.data[n + 2], t.data[n + 3]),
                                data: t.data.subarray(n + 10, n + i + 10)
                            }).key = r.id,
                            $e[r.id] && ($e[r.id](r),
                            "com.apple.streaming.transportStreamTimestamp" === r.owner)) {
                                var o = r.data
                                  , s = (1 & o[3]) << 30 | o[4] << 22 | o[5] << 14 | o[6] << 6 | o[7] >>> 2;
                                s *= 4,
                                s += 3 & o[7],
                                r.timeStamp = s,
                                void 0 === t.pts && void 0 === t.dts && (t.pts = r.timeStamp,
                                t.dts = r.timeStamp),
                                this.trigger("timestamp", r)
                            }
                            t.frames.push(r),
                            n += 10,
                            n += i
                        } while (n < l);
                        this.trigger("data", t)
                    }
            }
        }
        ).prototype = new z;
        var Xe, Ye, Ke, Ze = Ge, Qe = We;
        (Xe = function() {
            var r = new Uint8Array(188)
              , a = 0;
            Xe.prototype.init.call(this),
            this.push = function(e) {
                var t, n = 0, i = 188;
                for (a ? ((t = new Uint8Array(e.byteLength + a)).set(r.subarray(0, a)),
                t.set(e, a),
                a = 0) : t = e; i < t.byteLength; )
                    71 !== t[n] || 71 !== t[i] ? (n++,
                    i++) : (this.trigger("data", t.subarray(n, i)),
                    n += 188,
                    i += 188);
                n < t.byteLength && (r.set(t.subarray(n), 0),
                a = t.byteLength - n)
            }
            ,
            this.flush = function() {
                188 === a && 71 === r[0] && (this.trigger("data", r),
                a = 0),
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
            ,
            this.reset = function() {
                a = 0,
                this.trigger("reset")
            }
        }
        ).prototype = new z,
        (Ye = function() {
            var i, r, a, o;
            Ye.prototype.init.call(this),
            (o = this).packetsWaitingForPmt = [],
            this.programMapTable = void 0,
            i = function(e, t) {
                var n = 0;
                t.payloadUnitStartIndicator && (n += e[n] + 1),
                "pat" === t.type ? r(e.subarray(n), t) : a(e.subarray(n), t)
            }
            ,
            r = function(e, t) {
                t.section_number = e[7],
                t.last_section_number = e[8],
                o.pmtPid = (31 & e[10]) << 8 | e[11],
                t.pmtPid = o.pmtPid
            }
            ,
            a = function(e, t) {
                var n, i;
                if (1 & e[5]) {
                    for (o.programMapTable = {
                        video: null,
                        audio: null,
                        "timed-metadata": {}
                    },
                    n = 3 + ((15 & e[1]) << 8 | e[2]) - 4,
                    i = 12 + ((15 & e[10]) << 8 | e[11]); i < n; ) {
                        var r = e[i]
                          , a = (31 & e[i + 1]) << 8 | e[i + 2];
                        r === je.H264_STREAM_TYPE && null === o.programMapTable.video ? o.programMapTable.video = a : r === je.ADTS_STREAM_TYPE && null === o.programMapTable.audio ? o.programMapTable.audio = a : r === je.METADATA_STREAM_TYPE && (o.programMapTable["timed-metadata"][a] = r),
                        i += 5 + ((15 & e[i + 3]) << 8 | e[i + 4])
                    }
                    t.programMapTable = o.programMapTable
                }
            }
            ,
            this.push = function(e) {
                var t = {}
                  , n = 4;
                if (t.payloadUnitStartIndicator = !!(64 & e[1]),
                t.pid = 31 & e[1],
                t.pid <<= 8,
                t.pid |= e[2],
                1 < (48 & e[3]) >>> 4 && (n += e[n] + 1),
                0 === t.pid)
                    t.type = "pat",
                    i(e.subarray(n), t),
                    this.trigger("data", t);
                else if (t.pid === this.pmtPid)
                    for (t.type = "pmt",
                    i(e.subarray(n), t),
                    this.trigger("data", t); this.packetsWaitingForPmt.length; )
                        this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                else
                    void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([e, n, t]) : this.processPes_(e, n, t)
            }
            ,
            this.processPes_ = function(e, t, n) {
                n.pid === this.programMapTable.video ? n.streamType = je.H264_STREAM_TYPE : n.pid === this.programMapTable.audio ? n.streamType = je.ADTS_STREAM_TYPE : n.streamType = this.programMapTable["timed-metadata"][n.pid],
                n.type = "pes",
                n.data = e.subarray(t),
                this.trigger("data", n)
            }
        }
        ).prototype = new z,
        Ye.STREAM_TYPES = {
            h264: 27,
            adts: 15
        },
        (Ke = function() {
            function i(e, t, n) {
                var i, r, a = new Uint8Array(e.size), o = {
                    type: t
                }, s = 0, l = 0;
                if (e.data.length && !(e.size < 9)) {
                    for (o.trackId = e.data[0].pid,
                    s = 0; s < e.data.length; s++)
                        r = e.data[s],
                        a.set(r.data, l),
                        l += r.data.byteLength;
                    !function(e, t) {
                        var n, i = e[0] << 16 | e[1] << 8 | e[2];
                        t.data = new Uint8Array,
                        1 == i && (t.packetLength = 6 + (e[4] << 8 | e[5]),
                        t.dataAlignmentIndicator = 0 != (4 & e[6]),
                        192 & (n = e[7]) && (t.pts = (14 & e[9]) << 27 | (255 & e[10]) << 20 | (254 & e[11]) << 12 | (255 & e[12]) << 5 | (254 & e[13]) >>> 3,
                        t.pts *= 4,
                        t.pts += (6 & e[13]) >>> 1,
                        t.dts = t.pts,
                        64 & n && (t.dts = (14 & e[14]) << 27 | (255 & e[15]) << 20 | (254 & e[16]) << 12 | (255 & e[17]) << 5 | (254 & e[18]) >>> 3,
                        t.dts *= 4,
                        t.dts += (6 & e[18]) >>> 1)),
                        t.data = e.subarray(9 + e[8]))
                    }(a, o),
                    i = "video" === t || o.packetLength <= e.size,
                    (n || i) && (e.size = 0,
                    e.data.length = 0),
                    i && u.trigger("data", o)
                }
            }
            var t, u = this, r = !1, a = {
                data: [],
                size: 0
            }, o = {
                data: [],
                size: 0
            }, s = {
                data: [],
                size: 0
            };
            Ke.prototype.init.call(this),
            this.push = function(n) {
                ({
                    pat: function() {},
                    pes: function() {
                        var e, t;
                        switch (n.streamType) {
                        case je.H264_STREAM_TYPE:
                            e = a,
                            t = "video";
                            break;
                        case je.ADTS_STREAM_TYPE:
                            e = o,
                            t = "audio";
                            break;
                        case je.METADATA_STREAM_TYPE:
                            e = s,
                            t = "timed-metadata";
                            break;
                        default:
                            return
                        }
                        n.payloadUnitStartIndicator && i(e, t, !0),
                        e.data.push(n),
                        e.size += n.data.byteLength
                    },
                    pmt: function() {
                        var e = {
                            type: "metadata",
                            tracks: []
                        };
                        null !== (t = n.programMapTable).video && e.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +t.video,
                            codec: "avc",
                            type: "video"
                        }),
                        null !== t.audio && e.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +t.audio,
                            codec: "adts",
                            type: "audio"
                        }),
                        r = !0,
                        u.trigger("data", e)
                    }
                })[n.type]()
            }
            ,
            this.reset = function() {
                a.size = 0,
                a.data.length = 0,
                o.size = 0,
                o.data.length = 0,
                this.trigger("reset")
            }
            ,
            this.flushStreams_ = function() {
                i(a, "video"),
                i(o, "audio"),
                i(s, "timed-metadata")
            }
            ,
            this.flush = function() {
                if (!r && t) {
                    var e = {
                        type: "metadata",
                        tracks: []
                    };
                    null !== t.video && e.tracks.push({
                        timelineStartInfo: {
                            baseMediaDecodeTime: 0
                        },
                        id: +t.video,
                        codec: "avc",
                        type: "video"
                    }),
                    null !== t.audio && e.tracks.push({
                        timelineStartInfo: {
                            baseMediaDecodeTime: 0
                        },
                        id: +t.audio,
                        codec: "adts",
                        type: "audio"
                    }),
                    u.trigger("data", e)
                }
                r = !1,
                this.flushStreams_(),
                this.trigger("done")
            }
        }
        ).prototype = new z;
        var Je = {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: 188,
            TransportPacketStream: Xe,
            TransportParseStream: Ye,
            ElementaryStream: Ke,
            TimestampRolloverStream: Qe,
            CaptionStream: Ue.CaptionStream,
            Cea608Stream: Ue.Cea608Stream,
            Cea708Stream: Ue.Cea708Stream,
            MetadataStream: Ze
        };
        for (var et in je)
            je.hasOwnProperty(et) && (Je[et] = je[et]);
        var tt, nt = Je, it = le, rt = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
        (tt = function(l) {
            var u, c = 0;
            tt.prototype.init.call(this),
            this.skipWarn_ = function(e, t) {
                this.trigger("log", {
                    level: "warn",
                    message: "adts skiping bytes " + e + " to " + t + " in frame " + c + " outside syncword"
                })
            }
            ,
            this.push = function(e) {
                var t, n, i, r, a, o = 0;
                if (l || (c = 0),
                "audio" === e.type) {
                    var s;
                    for (u && u.length ? (i = u,
                    (u = new Uint8Array(i.byteLength + e.data.byteLength)).set(i),
                    u.set(e.data, i.byteLength)) : u = e.data; o + 7 < u.length; )
                        if (255 === u[o] && 240 == (246 & u[o + 1])) {
                            if ("number" == typeof s && (this.skipWarn_(s, o),
                            s = null),
                            n = 2 * (1 & ~u[o + 1]),
                            t = (3 & u[o + 3]) << 11 | u[o + 4] << 3 | (224 & u[o + 5]) >> 5,
                            a = (r = 1024 * (1 + (3 & u[o + 6]))) * it / rt[(60 & u[o + 2]) >>> 2],
                            u.byteLength - o < t)
                                break;
                            this.trigger("data", {
                                pts: e.pts + c * a,
                                dts: e.dts + c * a,
                                sampleCount: r,
                                audioobjecttype: 1 + (u[o + 2] >>> 6 & 3),
                                channelcount: (1 & u[o + 2]) << 2 | (192 & u[o + 3]) >>> 6,
                                samplerate: rt[(60 & u[o + 2]) >>> 2],
                                samplingfrequencyindex: (60 & u[o + 2]) >>> 2,
                                samplesize: 16,
                                data: u.subarray(o + 7 + n, o + t)
                            }),
                            c++,
                            o += t
                        } else
                            "number" != typeof s && (s = o),
                            o++;
                    "number" == typeof s && (this.skipWarn_(s, o),
                    s = null),
                    u = u.subarray(o)
                }
            }
            ,
            this.flush = function() {
                c = 0,
                this.trigger("done")
            }
            ,
            this.reset = function() {
                u = void 0,
                this.trigger("reset")
            }
            ,
            this.endTimeline = function() {
                u = void 0,
                this.trigger("endedtimeline")
            }
        }
        ).prototype = new z;
        var at, ot, st, lt = tt, ut = function(i) {
            var r = i.byteLength
              , a = 0
              , o = 0;
            this.length = function() {
                return 8 * r
            }
            ,
            this.bitsAvailable = function() {
                return 8 * r + o
            }
            ,
            this.loadWord = function() {
                var e = i.byteLength - r
                  , t = new Uint8Array(4)
                  , n = Math.min(4, r);
                if (0 === n)
                    throw new Error("no bytes available");
                t.set(i.subarray(e, e + n)),
                a = new DataView(t.buffer).getUint32(0),
                o = 8 * n,
                r -= n
            }
            ,
            this.skipBits = function(e) {
                var t;
                e < o || (e -= o,
                e -= 8 * (t = Math.floor(e / 8)),
                r -= t,
                this.loadWord()),
                a <<= e,
                o -= e
            }
            ,
            this.readBits = function(e) {
                var t = Math.min(o, e)
                  , n = a >>> 32 - t;
                return 0 < (o -= t) ? a <<= t : 0 < r && this.loadWord(),
                0 < (t = e - t) ? n << t | this.readBits(t) : n
            }
            ,
            this.skipLeadingZeros = function() {
                var e;
                for (e = 0; e < o; ++e)
                    if (0 != (a & 2147483648 >>> e))
                        return a <<= e,
                        o -= e,
                        e;
                return this.loadWord(),
                e + this.skipLeadingZeros()
            }
            ,
            this.skipUnsignedExpGolomb = function() {
                this.skipBits(1 + this.skipLeadingZeros())
            }
            ,
            this.skipExpGolomb = function() {
                this.skipBits(1 + this.skipLeadingZeros())
            }
            ,
            this.readUnsignedExpGolomb = function() {
                var e = this.skipLeadingZeros();
                return this.readBits(e + 1) - 1
            }
            ,
            this.readExpGolomb = function() {
                var e = this.readUnsignedExpGolomb();
                return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
            }
            ,
            this.readBoolean = function() {
                return 1 === this.readBits(1)
            }
            ,
            this.readUnsignedByte = function() {
                return this.readBits(8)
            }
            ,
            this.loadWord()
        };
        (ot = function() {
            var i, r, a = 0;
            ot.prototype.init.call(this),
            this.push = function(e) {
                for (var t, n = (r = r ? ((t = new Uint8Array(r.byteLength + e.data.byteLength)).set(r),
                t.set(e.data, r.byteLength),
                t) : e.data).byteLength; a < n - 3; a++)
                    if (1 === r[a + 2]) {
                        i = a + 5;
                        break
                    }
                for (; i < n; )
                    switch (r[i]) {
                    case 0:
                        if (0 !== r[i - 1]) {
                            i += 2;
                            break
                        }
                        if (0 !== r[i - 2]) {
                            i++;
                            break
                        }
                        for (a + 3 !== i - 2 && this.trigger("data", r.subarray(a + 3, i - 2)); 1 !== r[++i] && i < n; )
                            ;
                        a = i - 2,
                        i += 3;
                        break;
                    case 1:
                        if (0 !== r[i - 1] || 0 !== r[i - 2]) {
                            i += 3;
                            break
                        }
                        this.trigger("data", r.subarray(a + 3, i - 2)),
                        a = i - 2,
                        i += 3;
                        break;
                    default:
                        i += 3
                    }
                r = r.subarray(a),
                i -= a,
                a = 0
            }
            ,
            this.reset = function() {
                r = null,
                a = 0,
                this.trigger("reset")
            }
            ,
            this.flush = function() {
                r && 3 < r.byteLength && this.trigger("data", r.subarray(a + 3)),
                r = null,
                a = 0,
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
        }
        ).prototype = new z,
        st = {
            100: !0,
            110: !0,
            122: !0,
            244: !0,
            44: !0,
            83: !0,
            86: !0,
            118: !0,
            128: !0,
            138: !0,
            139: !0,
            134: !0
        },
        (at = function() {
            var n, i, r, a, o, s, y, t = new ot;
            at.prototype.init.call(this),
            (n = this).push = function(e) {
                "video" === e.type && (i = e.trackId,
                r = e.pts,
                a = e.dts,
                t.push(e))
            }
            ,
            t.on("data", function(e) {
                var t = {
                    trackId: i,
                    pts: r,
                    dts: a,
                    data: e,
                    nalUnitTypeCode: 31 & e[0]
                };
                switch (t.nalUnitTypeCode) {
                case 5:
                    t.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                    break;
                case 6:
                    t.nalUnitType = "sei_rbsp",
                    t.escapedRBSP = o(e.subarray(1));
                    break;
                case 7:
                    t.nalUnitType = "seq_parameter_set_rbsp",
                    t.escapedRBSP = o(e.subarray(1)),
                    t.config = s(t.escapedRBSP);
                    break;
                case 8:
                    t.nalUnitType = "pic_parameter_set_rbsp";
                    break;
                case 9:
                    t.nalUnitType = "access_unit_delimiter_rbsp"
                }
                n.trigger("data", t)
            }),
            t.on("done", function() {
                n.trigger("done")
            }),
            t.on("partialdone", function() {
                n.trigger("partialdone")
            }),
            t.on("reset", function() {
                n.trigger("reset")
            }),
            t.on("endedtimeline", function() {
                n.trigger("endedtimeline")
            }),
            this.flush = function() {
                t.flush()
            }
            ,
            this.partialFlush = function() {
                t.partialFlush()
            }
            ,
            this.reset = function() {
                t.reset()
            }
            ,
            this.endTimeline = function() {
                t.endTimeline()
            }
            ,
            y = function(e, t) {
                var n, i = 8, r = 8;
                for (n = 0; n < e; n++)
                    0 !== r && (r = (i + t.readExpGolomb() + 256) % 256),
                    i = 0 === r ? i : r
            }
            ,
            o = function(e) {
                for (var t, n, i = e.byteLength, r = [], a = 1; a < i - 2; )
                    0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2),
                    a += 2) : a++;
                if (0 === r.length)
                    return e;
                t = i - r.length,
                n = new Uint8Array(t);
                var o = 0;
                for (a = 0; a < t; o++,
                a++)
                    o === r[0] && (o++,
                    r.shift()),
                    n[a] = e[o];
                return n
            }
            ,
            s = function(e) {
                var t, n, i, r, a, o, s, l, u, c, h, d, p = 0, f = 0, m = 0, g = 0, v = [1, 1];
                if (n = (t = new ut(e)).readUnsignedByte(),
                r = t.readUnsignedByte(),
                i = t.readUnsignedByte(),
                t.skipUnsignedExpGolomb(),
                st[n] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1),
                t.skipUnsignedExpGolomb(),
                t.skipUnsignedExpGolomb(),
                t.skipBits(1),
                t.readBoolean()))
                    for (h = 3 !== a ? 8 : 12,
                    d = 0; d < h; d++)
                        t.readBoolean() && y(d < 6 ? 16 : 64, t);
                if (t.skipUnsignedExpGolomb(),
                0 === (o = t.readUnsignedExpGolomb()))
                    t.readUnsignedExpGolomb();
                else if (1 === o)
                    for (t.skipBits(1),
                    t.skipExpGolomb(),
                    t.skipExpGolomb(),
                    s = t.readUnsignedExpGolomb(),
                    d = 0; d < s; d++)
                        t.skipExpGolomb();
                if (t.skipUnsignedExpGolomb(),
                t.skipBits(1),
                l = t.readUnsignedExpGolomb(),
                u = t.readUnsignedExpGolomb(),
                0 === (c = t.readBits(1)) && t.skipBits(1),
                t.skipBits(1),
                t.readBoolean() && (p = t.readUnsignedExpGolomb(),
                f = t.readUnsignedExpGolomb(),
                m = t.readUnsignedExpGolomb(),
                g = t.readUnsignedExpGolomb()),
                t.readBoolean() && t.readBoolean()) {
                    switch (t.readUnsignedByte()) {
                    case 1:
                        v = [1, 1];
                        break;
                    case 2:
                        v = [12, 11];
                        break;
                    case 3:
                        v = [10, 11];
                        break;
                    case 4:
                        v = [16, 11];
                        break;
                    case 5:
                        v = [40, 33];
                        break;
                    case 6:
                        v = [24, 11];
                        break;
                    case 7:
                        v = [20, 11];
                        break;
                    case 8:
                        v = [32, 11];
                        break;
                    case 9:
                        v = [80, 33];
                        break;
                    case 10:
                        v = [18, 11];
                        break;
                    case 11:
                        v = [15, 11];
                        break;
                    case 12:
                        v = [64, 33];
                        break;
                    case 13:
                        v = [160, 99];
                        break;
                    case 14:
                        v = [4, 3];
                        break;
                    case 15:
                        v = [3, 2];
                        break;
                    case 16:
                        v = [2, 1];
                        break;
                    case 255:
                        v = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                    }
                    v && (v[0],
                    v[1])
                }
                return {
                    profileIdc: n,
                    levelIdc: i,
                    profileCompatibility: r,
                    width: 16 * (l + 1) - 2 * p - 2 * f,
                    height: (2 - c) * (u + 1) * 16 - 2 * m - 2 * g,
                    sarRatio: v
                }
            }
        }
        ).prototype = new z;
        function ct(e, t) {
            var n = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
            return n = 0 <= n ? n : 0,
            (16 & e[t + 5]) >> 4 ? n + 20 : n + 10
        }
        function ht(e) {
            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
        }
        var dt, pt = {
            H264Stream: at,
            NalByteStream: ot
        }, ft = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350], mt = {
            isLikelyAacData: function(e) {
                var t = function e(t, n) {
                    return t.length - n < 10 || t[n] !== "I".charCodeAt(0) || t[n + 1] !== "D".charCodeAt(0) || t[n + 2] !== "3".charCodeAt(0) ? n : e(t, n += ct(t, n))
                }(e, 0);
                return e.length >= t + 2 && 255 == (255 & e[t]) && 240 == (240 & e[t + 1]) && 16 == (22 & e[t + 1])
            },
            parseId3TagSize: ct,
            parseAdtsSize: function(e, t) {
                var n = (224 & e[t + 5]) >> 5
                  , i = e[t + 4] << 3;
                return 6144 & e[t + 3] | i | n
            },
            parseType: function(e, t) {
                return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
            },
            parseSampleRate: function(e) {
                for (var t = 0; t + 5 < e.length; ) {
                    if (255 === e[t] && 240 == (246 & e[t + 1]))
                        return ft[(60 & e[t + 2]) >>> 2];
                    t++
                }
                return null
            },
            parseAacTimestamp: function(e) {
                var t, n, i;
                t = 10,
                64 & e[5] && (t += 4,
                t += ht(e.subarray(10, 14)));
                do {
                    if ((n = ht(e.subarray(t + 4, t + 8))) < 1)
                        return null;
                    if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                        i = e.subarray(t + 10, t + n + 10);
                        for (var r = 0; r < i.byteLength; r++)
                            if (0 === i[r]) {
                                if ("com.apple.streaming.transportStreamTimestamp" !== unescape(function(e, t, n) {
                                    var i, r = "";
                                    for (i = t; i < n; i++)
                                        r += "%" + ("00" + e[i].toString(16)).slice(-2);
                                    return r
                                }(i, 0, r)))
                                    break;
                                var a = i.subarray(r + 1)
                                  , o = (1 & a[3]) << 30 | a[4] << 22 | a[5] << 14 | a[6] << 6 | a[7] >>> 2;
                                return o *= 4,
                                o += 3 & a[7]
                            }
                    }
                    t += 10,
                    t += n
                } while (t < e.byteLength);
                return null
            }
        };
        (dt = function() {
            var s = new Uint8Array
              , l = 0;
            dt.prototype.init.call(this),
            this.setTimestamp = function(e) {
                l = e
            }
            ,
            this.push = function(e) {
                var t, n, i, r, a = 0, o = 0;
                for (s.length ? (r = s.length,
                (s = new Uint8Array(e.byteLength + r)).set(s.subarray(0, r)),
                s.set(e, r)) : s = e; 3 <= s.length - o; )
                    if (s[o] !== "I".charCodeAt(0) || s[o + 1] !== "D".charCodeAt(0) || s[o + 2] !== "3".charCodeAt(0))
                        if (255 != (255 & s[o]) || 240 != (240 & s[o + 1]))
                            o++;
                        else {
                            if (s.length - o < 7)
                                break;
                            if (o + (a = mt.parseAdtsSize(s, o)) > s.length)
                                break;
                            i = {
                                type: "audio",
                                data: s.subarray(o, o + a),
                                pts: l,
                                dts: l
                            },
                            this.trigger("data", i),
                            o += a
                        }
                    else {
                        if (s.length - o < 10)
                            break;
                        if (o + (a = mt.parseId3TagSize(s, o)) > s.length)
                            break;
                        n = {
                            type: "timed-metadata",
                            data: s.subarray(o, o + a)
                        },
                        this.trigger("data", n),
                        o += a
                    }
                t = s.length - o,
                s = 0 < t ? s.subarray(o) : new Uint8Array
            }
            ,
            this.reset = function() {
                s = new Uint8Array,
                this.trigger("reset")
            }
            ,
            this.endTimeline = function() {
                s = new Uint8Array,
                this.trigger("endedtimeline")
            }
        }
        ).prototype = new z;
        function gt(e, t) {
            var n;
            if (e.length !== t.length)
                return !1;
            for (n = 0; n < e.length; n++)
                if (e[n] !== t[n])
                    return !1;
            return !0
        }
        function vt(e, t, n, i, r, a) {
            return {
                start: {
                    dts: e,
                    pts: e + (n - t)
                },
                end: {
                    dts: e + (i - t),
                    pts: e + (r - n)
                },
                prependedContentDuration: a,
                baseMediaDecodeTime: e
            }
        }
        var yt, bt, _t, wt, xt = dt, Tt = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"], St = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility", "sarRatio"], Et = pt.H264Stream, Ct = mt.isLikelyAacData, Mt = le;
        (bt = function(s, l) {
            var u, c = [], h = 0, d = 0, p = 1 / 0;
            u = (l = l || {}).firstSequenceNumber || 0,
            bt.prototype.init.call(this),
            this.push = function(t) {
                we(s, t),
                s && Tt.forEach(function(e) {
                    s[e] = t[e]
                }),
                c.push(t)
            }
            ,
            this.setEarliestDts = function(e) {
                h = e
            }
            ,
            this.setVideoBaseMediaDecodeTime = function(e) {
                p = e
            }
            ,
            this.setAudioAppendStart = function(e) {
                d = e
            }
            ,
            this.flush = function() {
                var e, t, n, i, r, a, o;
                0 !== c.length && (e = me(c, s, h),
                s.baseMediaDecodeTime = _e(s, l.keepOriginalTimestamps),
                o = fe(s, e, d, p),
                s.samples = ge(e),
                n = Q(ve(e)),
                c = [],
                t = J(u, [s]),
                i = new Uint8Array(t.byteLength + n.byteLength),
                u++,
                i.set(t),
                i.set(n, t.byteLength),
                be(s),
                r = Math.ceil(1024 * Mt / s.samplerate),
                e.length && (a = e.length * r,
                this.trigger("segmentTimingInfo", vt(he(s.baseMediaDecodeTime, s.samplerate), e[0].dts, e[0].pts, e[0].dts + a, e[0].pts + a, o || 0)),
                this.trigger("timingInfo", {
                    start: e[0].pts,
                    end: e[0].pts + a
                })),
                this.trigger("data", {
                    track: s,
                    boxes: i
                })),
                this.trigger("done", "AudioSegmentStream")
            }
            ,
            this.reset = function() {
                be(s),
                c = [],
                this.trigger("reset")
            }
        }
        ).prototype = new z,
        (yt = function(c, h) {
            var d, t, n, p = [], f = [];
            d = (h = h || {}).firstSequenceNumber || 0,
            yt.prototype.init.call(this),
            delete c.minPTS,
            this.gopCache_ = [],
            this.push = function(e) {
                we(c, e),
                "seq_parameter_set_rbsp" !== e.nalUnitType || t || (t = e.config,
                c.sps = [e.data],
                St.forEach(function(e) {
                    c[e] = t[e]
                }, this)),
                "pic_parameter_set_rbsp" !== e.nalUnitType || n || (n = e.data,
                c.pps = [e.data]),
                p.push(e)
            }
            ,
            this.flush = function() {
                for (var e, t, n, i, r, a, o, s, l = 0; p.length && "access_unit_delimiter_rbsp" !== p[0].nalUnitType; )
                    p.shift();
                if (0 === p.length)
                    return this.resetStream_(),
                    void this.trigger("done", "VideoSegmentStream");
                if (e = te(p),
                (n = ne(e))[0][0].keyFrame || ((t = this.getGopForFusion_(p[0], c)) ? (l = t.duration,
                n.unshift(t),
                n.byteLength += t.byteLength,
                n.nalCount += t.nalCount,
                n.pts = t.pts,
                n.dts = t.dts,
                n.duration += t.duration) : n = ie(n)),
                f.length) {
                    var u;
                    if (!(u = h.alignGopsAtEnd ? this.alignGopsAtEnd_(n) : this.alignGopsAtStart_(n)))
                        return this.gopCache_.unshift({
                            gop: n.pop(),
                            pps: c.pps,
                            sps: c.sps
                        }),
                        this.gopCache_.length = Math.min(6, this.gopCache_.length),
                        p = [],
                        this.resetStream_(),
                        void this.trigger("done", "VideoSegmentStream");
                    be(c),
                    n = u
                }
                we(c, n),
                c.samples = re(n),
                r = Q(ae(n)),
                c.baseMediaDecodeTime = _e(c, h.keepOriginalTimestamps),
                this.trigger("processedGopsInfo", n.map(function(e) {
                    return {
                        pts: e.pts,
                        dts: e.dts,
                        byteLength: e.byteLength
                    }
                })),
                o = n[0],
                s = n[n.length - 1],
                this.trigger("segmentTimingInfo", vt(c.baseMediaDecodeTime, o.dts, o.pts, s.dts + s.duration, s.pts + s.duration, l)),
                this.trigger("timingInfo", {
                    start: n[0].pts,
                    end: n[n.length - 1].pts + n[n.length - 1].duration
                }),
                this.gopCache_.unshift({
                    gop: n.pop(),
                    pps: c.pps,
                    sps: c.sps
                }),
                this.gopCache_.length = Math.min(6, this.gopCache_.length),
                p = [],
                this.trigger("baseMediaDecodeTime", c.baseMediaDecodeTime),
                this.trigger("timelineStartInfo", c.timelineStartInfo),
                i = J(d, [c]),
                a = new Uint8Array(i.byteLength + r.byteLength),
                d++,
                a.set(i),
                a.set(r, i.byteLength),
                this.trigger("data", {
                    track: c,
                    boxes: a
                }),
                this.resetStream_(),
                this.trigger("done", "VideoSegmentStream")
            }
            ,
            this.reset = function() {
                this.resetStream_(),
                p = [],
                this.gopCache_.length = 0,
                f.length = 0,
                this.trigger("reset")
            }
            ,
            this.resetStream_ = function() {
                be(c),
                n = t = void 0
            }
            ,
            this.getGopForFusion_ = function(e) {
                var t, n, i, r, a, o = 1 / 0;
                for (a = 0; a < this.gopCache_.length; a++)
                    i = (r = this.gopCache_[a]).gop,
                    c.pps && gt(c.pps[0], r.pps[0]) && c.sps && gt(c.sps[0], r.sps[0]) && (i.dts < c.timelineStartInfo.dts || -1e4 <= (t = e.dts - i.dts - i.duration) && t <= 45e3 && (!n || t < o) && (n = r,
                    o = t));
                return n ? n.gop : null
            }
            ,
            this.alignGopsAtStart_ = function(e) {
                var t, n, i, r, a, o, s, l;
                for (a = e.byteLength,
                o = e.nalCount,
                s = e.duration,
                t = n = 0; t < f.length && n < e.length && (i = f[t],
                r = e[n],
                i.pts !== r.pts); )
                    r.pts > i.pts ? t++ : (n++,
                    a -= r.byteLength,
                    o -= r.nalCount,
                    s -= r.duration);
                return 0 === n ? e : n === e.length ? null : ((l = e.slice(n)).byteLength = a,
                l.duration = s,
                l.nalCount = o,
                l.pts = l[0].pts,
                l.dts = l[0].dts,
                l)
            }
            ,
            this.alignGopsAtEnd_ = function(e) {
                var t, n, i, r, a, o, s;
                for (t = f.length - 1,
                n = e.length - 1,
                a = null,
                o = !1; 0 <= t && 0 <= n; ) {
                    if (i = f[t],
                    r = e[n],
                    i.pts === r.pts) {
                        o = !0;
                        break
                    }
                    i.pts > r.pts ? t-- : (t === f.length - 1 && (a = n),
                    n--)
                }
                if (!o && null === a)
                    return null;
                if (0 === (s = o ? n : a))
                    return e;
                var l = e.slice(s)
                  , u = l.reduce(function(e, t) {
                    return e.byteLength += t.byteLength,
                    e.duration += t.duration,
                    e.nalCount += t.nalCount,
                    e
                }, {
                    byteLength: 0,
                    duration: 0,
                    nalCount: 0
                });
                return l.byteLength = u.byteLength,
                l.duration = u.duration,
                l.nalCount = u.nalCount,
                l.pts = l[0].pts,
                l.dts = l[0].dts,
                l
            }
            ,
            this.alignGopsWith = function(e) {
                f = e
            }
        }
        ).prototype = new z,
        (wt = function(e, t) {
            this.numberOfTracks = 0,
            this.metadataStream = t,
            void 0 !== (e = e || {}).remux ? this.remuxTracks = !!e.remux : this.remuxTracks = !0,
            "boolean" == typeof e.keepOriginalTimestamps ? this.keepOriginalTimestamps = e.keepOriginalTimestamps : this.keepOriginalTimestamps = !1,
            this.pendingTracks = [],
            this.videoTrack = null,
            this.pendingBoxes = [],
            this.pendingCaptions = [],
            this.pendingMetadata = [],
            this.pendingBytes = 0,
            this.emittedTracks = 0,
            wt.prototype.init.call(this),
            this.push = function(e) {
                return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track),
                this.pendingBytes += e.boxes.byteLength,
                "video" === e.track.type && (this.videoTrack = e.track,
                this.pendingBoxes.push(e.boxes)),
                void ("audio" === e.track.type && (this.audioTrack = e.track,
                this.pendingBoxes.unshift(e.boxes))))
            }
        }
        ).prototype = new z,
        wt.prototype.flush = function(e) {
            var t, n, i, r, a = 0, o = {
                captions: [],
                captionStreams: {},
                metadata: [],
                info: {}
            }, s = 0;
            if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e)
                    return;
                if (this.remuxTracks)
                    return;
                if (0 === this.pendingTracks.length)
                    return this.emittedTracks++,
                    void (this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
                    this.emittedTracks = 0))
            }
            if (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts,
            St.forEach(function(e) {
                o.info[e] = this.videoTrack[e]
            }, this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts,
            Tt.forEach(function(e) {
                o.info[e] = this.audioTrack[e]
            }, this)),
            this.videoTrack || this.audioTrack) {
                for (1 === this.pendingTracks.length ? o.type = this.pendingTracks[0].type : o.type = "combined",
                this.emittedTracks += this.pendingTracks.length,
                i = ee(this.pendingTracks),
                o.initSegment = new Uint8Array(i.byteLength),
                o.initSegment.set(i),
                o.data = new Uint8Array(this.pendingBytes),
                r = 0; r < this.pendingBoxes.length; r++)
                    o.data.set(this.pendingBoxes[r], a),
                    a += this.pendingBoxes[r].byteLength;
                for (r = 0; r < this.pendingCaptions.length; r++)
                    (t = this.pendingCaptions[r]).startTime = pe(t.startPts, s, this.keepOriginalTimestamps),
                    t.endTime = pe(t.endPts, s, this.keepOriginalTimestamps),
                    o.captionStreams[t.stream] = !0,
                    o.captions.push(t);
                for (r = 0; r < this.pendingMetadata.length; r++)
                    (n = this.pendingMetadata[r]).cueTime = pe(n.pts, s, this.keepOriginalTimestamps),
                    o.metadata.push(n);
                for (o.metadata.dispatchType = this.metadataStream.dispatchType,
                this.pendingTracks.length = 0,
                this.videoTrack = null,
                this.pendingBoxes.length = 0,
                this.pendingCaptions.length = 0,
                this.pendingBytes = 0,
                this.pendingMetadata.length = 0,
                this.trigger("data", o),
                r = 0; r < o.captions.length; r++)
                    t = o.captions[r],
                    this.trigger("caption", t);
                for (r = 0; r < o.metadata.length; r++)
                    n = o.metadata[r],
                    this.trigger("id3Frame", n)
            }
            this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
            this.emittedTracks = 0)
        }
        ,
        wt.prototype.setRemux = function(e) {
            this.remuxTracks = e
        }
        ,
        (_t = function(i) {
            var r, a, o = this, s = !0;
            _t.prototype.init.call(this),
            i = i || {},
            this.baseMediaDecodeTime = i.baseMediaDecodeTime || 0,
            this.transmuxPipeline_ = {},
            this.setupAacPipeline = function() {
                var t = {};
                (this.transmuxPipeline_ = t).type = "aac",
                t.metadataStream = new nt.MetadataStream,
                t.aacStream = new xt,
                t.audioTimestampRolloverStream = new nt.TimestampRolloverStream("audio"),
                t.timedMetadataTimestampRolloverStream = new nt.TimestampRolloverStream("timed-metadata"),
                t.adtsStream = new lt,
                t.coalesceStream = new wt(i,t.metadataStream),
                t.headOfPipeline = t.aacStream,
                t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),
                t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),
                t.metadataStream.on("timestamp", function(e) {
                    t.aacStream.setTimestamp(e.timeStamp)
                }),
                t.aacStream.on("data", function(e) {
                    "timed-metadata" !== e.type && "audio" !== e.type || t.audioSegmentStream || (a = a || {
                        timelineStartInfo: {
                            baseMediaDecodeTime: o.baseMediaDecodeTime
                        },
                        codec: "adts",
                        type: "audio"
                    },
                    t.coalesceStream.numberOfTracks++,
                    t.audioSegmentStream = new bt(a,i),
                    t.audioSegmentStream.on("log", o.getLogTrigger_("audioSegmentStream")),
                    t.audioSegmentStream.on("timingInfo", o.trigger.bind(o, "audioTimingInfo")),
                    t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),
                    o.trigger("trackinfo", {
                        hasAudio: !!a,
                        hasVideo: !!r
                    }))
                }),
                t.coalesceStream.on("data", this.trigger.bind(this, "data")),
                t.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }
            ,
            this.setupTsPipeline = function() {
                var n = {};
                (this.transmuxPipeline_ = n).type = "ts",
                n.metadataStream = new nt.MetadataStream,
                n.packetStream = new nt.TransportPacketStream,
                n.parseStream = new nt.TransportParseStream,
                n.elementaryStream = new nt.ElementaryStream,
                n.timestampRolloverStream = new nt.TimestampRolloverStream,
                n.adtsStream = new lt,
                n.h264Stream = new Et,
                n.captionStream = new nt.CaptionStream(i),
                n.coalesceStream = new wt(i,n.metadataStream),
                n.headOfPipeline = n.packetStream,
                n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream).pipe(n.timestampRolloverStream),
                n.timestampRolloverStream.pipe(n.h264Stream),
                n.timestampRolloverStream.pipe(n.adtsStream),
                n.timestampRolloverStream.pipe(n.metadataStream).pipe(n.coalesceStream),
                n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),
                n.elementaryStream.on("data", function(e) {
                    var t;
                    if ("metadata" === e.type) {
                        for (t = e.tracks.length; t--; )
                            r || "video" !== e.tracks[t].type ? a || "audio" !== e.tracks[t].type || ((a = e.tracks[t]).timelineStartInfo.baseMediaDecodeTime = o.baseMediaDecodeTime) : (r = e.tracks[t]).timelineStartInfo.baseMediaDecodeTime = o.baseMediaDecodeTime;
                        r && !n.videoSegmentStream && (n.coalesceStream.numberOfTracks++,
                        n.videoSegmentStream = new yt(r,i),
                        n.videoSegmentStream.on("log", o.getLogTrigger_("videoSegmentStream")),
                        n.videoSegmentStream.on("timelineStartInfo", function(e) {
                            a && !i.keepOriginalTimestamps && (a.timelineStartInfo = e,
                            n.audioSegmentStream.setEarliestDts(e.dts - o.baseMediaDecodeTime))
                        }),
                        n.videoSegmentStream.on("processedGopsInfo", o.trigger.bind(o, "gopInfo")),
                        n.videoSegmentStream.on("segmentTimingInfo", o.trigger.bind(o, "videoSegmentTimingInfo")),
                        n.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                            a && n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                        }),
                        n.videoSegmentStream.on("timingInfo", o.trigger.bind(o, "videoTimingInfo")),
                        n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),
                        a && !n.audioSegmentStream && (n.coalesceStream.numberOfTracks++,
                        n.audioSegmentStream = new bt(a,i),
                        n.audioSegmentStream.on("log", o.getLogTrigger_("audioSegmentStream")),
                        n.audioSegmentStream.on("timingInfo", o.trigger.bind(o, "audioTimingInfo")),
                        n.audioSegmentStream.on("segmentTimingInfo", o.trigger.bind(o, "audioSegmentTimingInfo")),
                        n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),
                        o.trigger("trackinfo", {
                            hasAudio: !!a,
                            hasVideo: !!r
                        })
                    }
                }),
                n.coalesceStream.on("data", this.trigger.bind(this, "data")),
                n.coalesceStream.on("id3Frame", function(e) {
                    e.dispatchType = n.metadataStream.dispatchType,
                    o.trigger("id3Frame", e)
                }),
                n.coalesceStream.on("caption", this.trigger.bind(this, "caption")),
                n.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }
            ,
            this.setBaseMediaDecodeTime = function(e) {
                var t = this.transmuxPipeline_;
                i.keepOriginalTimestamps || (this.baseMediaDecodeTime = e),
                a && (a.timelineStartInfo.dts = void 0,
                a.timelineStartInfo.pts = void 0,
                be(a),
                t.audioTimestampRolloverStream && t.audioTimestampRolloverStream.discontinuity()),
                r && (t.videoSegmentStream && (t.videoSegmentStream.gopCache_ = []),
                r.timelineStartInfo.dts = void 0,
                r.timelineStartInfo.pts = void 0,
                be(r),
                t.captionStream.reset()),
                t.timestampRolloverStream && t.timestampRolloverStream.discontinuity()
            }
            ,
            this.setAudioAppendStart = function(e) {
                a && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
            }
            ,
            this.setRemux = function(e) {
                var t = this.transmuxPipeline_;
                i.remux = e,
                t && t.coalesceStream && t.coalesceStream.setRemux(e)
            }
            ,
            this.alignGopsWith = function(e) {
                r && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
            }
            ,
            this.getLogTrigger_ = function(t) {
                var n = this;
                return function(e) {
                    e.stream = t,
                    n.trigger("log", e)
                }
            }
            ,
            this.push = function(e) {
                if (s) {
                    var t = Ct(e);
                    if (t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(),
                    this.transmuxPipeline_)
                        for (var n = Object.keys(this.transmuxPipeline_), i = 0; i < n.length; i++) {
                            var r = n[i];
                            "headOfPipeline" !== r && this.transmuxPipeline_[r].on && this.transmuxPipeline_[r].on("log", this.getLogTrigger_(r))
                        }
                    s = !1
                }
                this.transmuxPipeline_.headOfPipeline.push(e)
            }
            ,
            this.flush = function() {
                s = !0,
                this.transmuxPipeline_.headOfPipeline.flush()
            }
            ,
            this.endTimeline = function() {
                this.transmuxPipeline_.headOfPipeline.endTimeline()
            }
            ,
            this.reset = function() {
                this.transmuxPipeline_.headOfPipeline && this.transmuxPipeline_.headOfPipeline.reset()
            }
            ,
            this.resetCaptions = function() {
                this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
            }
        }
        ).prototype = new z;
        function kt(e, t) {
            for (var n = e, i = 0; i < t.length; i++) {
                var r = t[i];
                if (n < r.size)
                    return r;
                n -= r.size
            }
            return null
        }
        function Pt(e, c) {
            var i = Ft(e, ["moof", "traf"])
              , t = Ft(e, ["mdat"])
              , h = {}
              , r = [];
            return t.forEach(function(e, t) {
                var n = i[t];
                r.push({
                    mdat: e,
                    traf: n
                })
            }),
            r.forEach(function(e) {
                var t, n = e.mdat, i = e.traf, r = Ft(i, ["tfhd"]), a = Ht(r[0]), o = a.trackId, s = Ft(i, ["tfdt"]), l = 0 < s.length ? Ut(s[0]).baseMediaDecodeTime : 0, u = Ft(i, ["trun"]);
                c === o && 0 < u.length && (t = function(e, t, n) {
                    var i, r, a, o, s = new DataView(e.buffer,e.byteOffset,e.byteLength), l = {
                        logs: [],
                        seiNals: []
                    };
                    for (r = 0; r + 4 < e.length; r += a)
                        if (a = s.getUint32(r),
                        r += 4,
                        !(a <= 0))
                            switch (31 & e[r]) {
                            case 6:
                                var u = e.subarray(r + 1, r + 1 + a)
                                  , c = kt(r, t);
                                if (i = {
                                    nalUnitType: "sei_rbsp",
                                    size: a,
                                    data: u,
                                    escapedRBSP: Vt(u),
                                    trackId: n
                                },
                                c)
                                    i.pts = c.pts,
                                    i.dts = c.dts,
                                    o = c;
                                else {
                                    if (!o) {
                                        l.logs.push({
                                            level: "warn",
                                            message: "We've encountered a nal unit without data at " + r + " for trackId " + n + ". See mux.js#223."
                                        });
                                        break
                                    }
                                    i.pts = o.pts,
                                    i.dts = o.dts
                                }
                                l.seiNals.push(i)
                            }
                    return l
                }(n, function(e, t, n) {
                    var i = t
                      , r = n.defaultSampleDuration || 0
                      , a = n.defaultSampleSize || 0
                      , o = n.trackId
                      , s = [];
                    return e.forEach(function(e) {
                        var t = zt(e).samples;
                        t.forEach(function(e) {
                            void 0 === e.duration && (e.duration = r),
                            void 0 === e.size && (e.size = a),
                            e.trackId = o,
                            e.dts = i,
                            void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0),
                            e.pts = i + e.compositionTimeOffset,
                            i += e.duration
                        }),
                        s = s.concat(t)
                    }),
                    s
                }(u, l, a), o),
                h[o] || (h[o] = {
                    seiNals: [],
                    logs: []
                }),
                h[o].seiNals = h[o].seiNals.concat(t.seiNals),
                h[o].logs = h[o].logs.concat(t.logs))
            }),
            h
        }
        var At, It, Lt, Ot = {
            Transmuxer: _t,
            VideoSegmentStream: yt,
            AudioSegmentStream: bt,
            AUDIO_PROPERTIES: Tt,
            VIDEO_PROPERTIES: St,
            generateSegmentTimingInfo: vt
        }, Rt = function(e) {
            return e >>> 0
        }, Dt = function(e) {
            var t = "";
            return t += String.fromCharCode(e[0]),
            t += String.fromCharCode(e[1]),
            t += String.fromCharCode(e[2]),
            t += String.fromCharCode(e[3])
        }, Nt = Rt, Ft = function e(t, n) {
            var i, r, a, o, s, l = [];
            if (!n.length)
                return null;
            for (i = 0; i < t.byteLength; )
                r = Nt(t[i] << 24 | t[i + 1] << 16 | t[i + 2] << 8 | t[i + 3]),
                a = Dt(t.subarray(i + 4, i + 8)),
                o = 1 < r ? i + r : t.byteLength,
                a === n[0] && (1 === n.length ? l.push(t.subarray(i + 8, o)) : (s = e(t.subarray(i + 8, o), n.slice(1))).length && (l = l.concat(s))),
                i = o;
            return l
        }, Bt = Rt, Ut = function(e) {
            var t = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4)),
                baseMediaDecodeTime: Bt(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7])
            };
            return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32),
            t.baseMediaDecodeTime += Bt(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])),
            t
        }, jt = function(e) {
            return {
                isLeading: (12 & e[0]) >>> 2,
                dependsOn: 3 & e[0],
                isDependedOn: (192 & e[1]) >>> 6,
                hasRedundancy: (48 & e[1]) >>> 4,
                paddingValue: (14 & e[1]) >>> 1,
                isNonSyncSample: 1 & e[1],
                degradationPriority: e[2] << 8 | e[3]
            }
        }, zt = function(e) {
            var t, n = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4)),
                samples: []
            }, i = new DataView(e.buffer,e.byteOffset,e.byteLength), r = 1 & n.flags[2], a = 4 & n.flags[2], o = 1 & n.flags[1], s = 2 & n.flags[1], l = 4 & n.flags[1], u = 8 & n.flags[1], c = i.getUint32(4), h = 8;
            for (r && (n.dataOffset = i.getInt32(h),
            h += 4),
            a && c && (t = {
                flags: jt(e.subarray(h, h + 4))
            },
            h += 4,
            o && (t.duration = i.getUint32(h),
            h += 4),
            s && (t.size = i.getUint32(h),
            h += 4),
            u && (1 === n.version ? t.compositionTimeOffset = i.getInt32(h) : t.compositionTimeOffset = i.getUint32(h),
            h += 4),
            n.samples.push(t),
            c--); c--; )
                t = {},
                o && (t.duration = i.getUint32(h),
                h += 4),
                s && (t.size = i.getUint32(h),
                h += 4),
                l && (t.flags = jt(e.subarray(h, h + 4)),
                h += 4),
                u && (1 === n.version ? t.compositionTimeOffset = i.getInt32(h) : t.compositionTimeOffset = i.getUint32(h),
                h += 4),
                n.samples.push(t);
            return n
        }, Ht = function(e) {
            var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4)),
                trackId: n.getUint32(4)
            }, r = 1 & i.flags[2], a = 2 & i.flags[2], o = 8 & i.flags[2], s = 16 & i.flags[2], l = 32 & i.flags[2], u = 65536 & i.flags[0], c = 131072 & i.flags[0];
            return t = 8,
            r && (t += 4,
            i.baseDataOffset = n.getUint32(12),
            t += 4),
            a && (i.sampleDescriptionIndex = n.getUint32(t),
            t += 4),
            o && (i.defaultSampleDuration = n.getUint32(t),
            t += 4),
            s && (i.defaultSampleSize = n.getUint32(t),
            t += 4),
            l && (i.defaultSampleFlags = n.getUint32(t)),
            u && (i.durationIsEmpty = !0),
            !r && c && (i.baseDataOffsetIsMoof = !0),
            i
        }, Vt = Ee, Gt = Ue.CaptionStream, Wt = function() {
            var t, a, o, s, l, n, i = !1;
            this.isInitialized = function() {
                return i
            }
            ,
            this.init = function(e) {
                t = new Gt,
                i = !0,
                n = !!e && e.isPartial,
                t.on("data", function(e) {
                    e.startTime = e.startPts / s,
                    e.endTime = e.endPts / s,
                    l.captions.push(e),
                    l.captionStreams[e.stream] = !0
                }),
                t.on("log", function(e) {
                    l.logs.push(e)
                })
            }
            ,
            this.isNewInit = function(e, t) {
                return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length) && (o !== e[0] || s !== t[o])
            }
            ,
            this.parse = function(e, t, n) {
                var i;
                if (!this.isInitialized())
                    return null;
                if (!t || !n)
                    return null;
                if (this.isNewInit(t, n))
                    o = t[0],
                    s = n[o];
                else if (null === o || !s)
                    return a.push(e),
                    null;
                for (; 0 < a.length; ) {
                    var r = a.shift();
                    this.parse(r, t, n)
                }
                return (i = function(e, t, n) {
                    if (null === t)
                        return null;
                    var i = Pt(e, t)[t] || {};
                    return {
                        seiNals: i.seiNals,
                        logs: i.logs,
                        timescale: n
                    }
                }(e, o, s)) && i.logs && (l.logs = l.logs.concat(i.logs)),
                null !== i && i.seiNals ? (this.pushNals(i.seiNals),
                this.flushStream(),
                l) : l.logs.length ? {
                    logs: l.logs,
                    captions: [],
                    captionStreams: []
                } : null
            }
            ,
            this.pushNals = function(e) {
                if (!this.isInitialized() || !e || 0 === e.length)
                    return null;
                e.forEach(function(e) {
                    t.push(e)
                })
            }
            ,
            this.flushStream = function() {
                if (!this.isInitialized())
                    return null;
                n ? t.partialFlush() : t.flush()
            }
            ,
            this.clearParsedCaptions = function() {
                l.captions = [],
                l.captionStreams = {},
                l.logs = []
            }
            ,
            this.resetCaptionStream = function() {
                if (!this.isInitialized())
                    return null;
                t.reset()
            }
            ,
            this.clearAllCaptions = function() {
                this.clearParsedCaptions(),
                this.resetCaptionStream()
            }
            ,
            this.reset = function() {
                a = [],
                s = o = null,
                l ? this.clearParsedCaptions() : l = {
                    captions: [],
                    captionStreams: {},
                    logs: []
                },
                this.resetCaptionStream()
            }
            ,
            this.reset()
        }, qt = Rt, $t = function(e) {
            return ("00" + e.toString(16)).slice(-2)
        };
        At = function(a, e) {
            var t, n, i;
            return t = Ft(e, ["moof", "traf"]),
            n = [].concat.apply([], t.map(function(r) {
                return Ft(r, ["tfhd"]).map(function(e) {
                    var t, n, i;
                    return t = qt(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]),
                    n = a[t] || 9e4,
                    (i = "number" != typeof (i = Ft(r, ["tfdt"]).map(function(e) {
                        var t, n;
                        return t = e[0],
                        n = qt(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]),
                        1 === t && (n *= Math.pow(2, 32),
                        n += qt(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])),
                        n
                    })[0]) || isNaN(i) ? 1 / 0 : i) / n
                })
            })),
            i = Math.min.apply(null, n),
            isFinite(i) ? i : 0
        }
        ,
        It = function(e) {
            var t = Ft(e, ["moov", "trak"])
              , d = [];
            return t.forEach(function(e) {
                var t, n, i = {}, r = Ft(e, ["tkhd"])[0];
                r && (n = (t = new DataView(r.buffer,r.byteOffset,r.byteLength)).getUint8(0),
                i.id = 0 === n ? t.getUint32(12) : t.getUint32(20));
                var a = Ft(e, ["mdia", "hdlr"])[0];
                if (a) {
                    var o = Dt(a.subarray(8, 12));
                    i.type = "vide" === o ? "video" : "soun" === o ? "audio" : o
                }
                var s = Ft(e, ["mdia", "minf", "stbl", "stsd"])[0];
                if (s) {
                    var l = s.subarray(8);
                    i.codec = Dt(l.subarray(4, 8));
                    var u, c = Ft(l, [i.codec])[0];
                    c && (/^[a-z]vc[1-9]$/i.test(i.codec) ? (u = c.subarray(78),
                    "avcC" === Dt(u.subarray(4, 8)) && 11 < u.length ? (i.codec += ".",
                    i.codec += $t(u[9]),
                    i.codec += $t(u[10]),
                    i.codec += $t(u[11])) : i.codec = "avc1.4d400d") : /^mp4[a,v]$/i.test(i.codec) ? (u = c.subarray(28),
                    "esds" === Dt(u.subarray(4, 8)) && 20 < u.length && 0 !== u[19] ? (i.codec += "." + $t(u[19]),
                    i.codec += "." + $t(u[20] >>> 2 & 63).replace(/^0/, "")) : i.codec = "mp4a.40.2") : i.codec = i.codec.toLowerCase())
                }
                var h = Ft(e, ["mdia", "mdhd"])[0];
                h && (i.timescale = Lt(h)),
                d.push(i)
            }),
            d
        }
        ;
        function Xt(e) {
            var t = 31 & e[1];
            return t <<= 8,
            t |= e[2]
        }
        function Yt(e) {
            return !!(64 & e[1])
        }
        function Kt(e) {
            var t = 0;
            return 1 < (48 & e[3]) >>> 4 && (t += e[4] + 1),
            t
        }
        function Zt(e) {
            switch (e) {
            case 5:
                return "slice_layer_without_partitioning_rbsp_idr";
            case 6:
                return "sei_rbsp";
            case 7:
                return "seq_parameter_set_rbsp";
            case 8:
                return "pic_parameter_set_rbsp";
            case 9:
                return "access_unit_delimiter_rbsp";
            default:
                return null
            }
        }
        var Qt = At
          , Jt = It
          , en = (Lt = function(e) {
            var t = 0 === e[0] ? 12 : 20;
            return qt(e[t] << 24 | e[1 + t] << 16 | e[2 + t] << 8 | e[3 + t])
        }
        ,
        {
            parseType: function(e, t) {
                var n = Xt(e);
                return 0 === n ? "pat" : n === t ? "pmt" : t ? "pes" : null
            },
            parsePat: function(e) {
                var t = Yt(e)
                  , n = 4 + Kt(e);
                return t && (n += e[n] + 1),
                (31 & e[n + 10]) << 8 | e[n + 11]
            },
            parsePmt: function(e) {
                var t = {}
                  , n = Yt(e)
                  , i = 4 + Kt(e);
                if (n && (i += e[i] + 1),
                1 & e[i + 5]) {
                    var r;
                    r = 3 + ((15 & e[i + 1]) << 8 | e[i + 2]) - 4;
                    for (var a = 12 + ((15 & e[i + 10]) << 8 | e[i + 11]); a < r; ) {
                        var o = i + a;
                        t[(31 & e[o + 1]) << 8 | e[o + 2]] = e[o],
                        a += 5 + ((15 & e[o + 3]) << 8 | e[o + 4])
                    }
                    return t
                }
            },
            parsePayloadUnitStartIndicator: Yt,
            parsePesType: function(e, t) {
                switch (t[Xt(e)]) {
                case je.H264_STREAM_TYPE:
                    return "video";
                case je.ADTS_STREAM_TYPE:
                    return "audio";
                case je.METADATA_STREAM_TYPE:
                    return "timed-metadata";
                default:
                    return null
                }
            },
            parsePesTime: function(e) {
                if (!Yt(e))
                    return null;
                var t = 4 + Kt(e);
                if (t >= e.byteLength)
                    return null;
                var n, i = null;
                return 192 & (n = e[t + 7]) && ((i = {}).pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3,
                i.pts *= 4,
                i.pts += (6 & e[t + 13]) >>> 1,
                i.dts = i.pts,
                64 & n && (i.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3,
                i.dts *= 4,
                i.dts += (6 & e[t + 18]) >>> 1)),
                i
            },
            videoPacketContainsKeyFrame: function(e) {
                for (var t = 4 + Kt(e), n = e.subarray(t), i = 0, r = 0, a = !1; r < n.byteLength - 3; r++)
                    if (1 === n[r + 2]) {
                        i = r + 5;
                        break
                    }
                for (; i < n.byteLength; )
                    switch (n[i]) {
                    case 0:
                        if (0 !== n[i - 1]) {
                            i += 2;
                            break
                        }
                        if (0 !== n[i - 2]) {
                            i++;
                            break
                        }
                        for (r + 3 !== i - 2 && "slice_layer_without_partitioning_rbsp_idr" === Zt(31 & n[r + 3]) && (a = !0); 1 !== n[++i] && i < n.length; )
                            ;
                        r = i - 2,
                        i += 3;
                        break;
                    case 1:
                        if (0 !== n[i - 1] || 0 !== n[i - 2]) {
                            i += 3;
                            break
                        }
                        "slice_layer_without_partitioning_rbsp_idr" === Zt(31 & n[r + 3]) && (a = !0),
                        r = i - 2,
                        i += 3;
                        break;
                    default:
                        i += 3
                    }
                return n = n.subarray(r),
                i -= r,
                r = 0,
                n && 3 < n.byteLength && "slice_layer_without_partitioning_rbsp_idr" === Zt(31 & n[r + 3]) && (a = !0),
                a
            }
        })
          , tn = qe
          , nn = {};
        nn.ts = en,
        nn.aac = mt;
        function rn(e, t, n) {
            for (var i, r, a, o, s = 0, l = 188, u = !1; l <= e.byteLength; )
                if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength)
                    s++,
                    l++;
                else {
                    switch (i = e.subarray(s, l),
                    nn.ts.parseType(i, t.pid)) {
                    case "pes":
                        r = nn.ts.parsePesType(i, t.table),
                        a = nn.ts.parsePayloadUnitStartIndicator(i),
                        "audio" === r && a && (o = nn.ts.parsePesTime(i)) && (o.type = "audio",
                        n.audio.push(o),
                        u = !0)
                    }
                    if (u)
                        break;
                    s += 188,
                    l += 188
                }
            for (s = (l = e.byteLength) - 188,
            u = !1; 0 <= s; )
                if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength)
                    s--,
                    l--;
                else {
                    switch (i = e.subarray(s, l),
                    nn.ts.parseType(i, t.pid)) {
                    case "pes":
                        r = nn.ts.parsePesType(i, t.table),
                        a = nn.ts.parsePayloadUnitStartIndicator(i),
                        "audio" === r && a && (o = nn.ts.parsePesTime(i)) && (o.type = "audio",
                        n.audio.push(o),
                        u = !0)
                    }
                    if (u)
                        break;
                    s -= 188,
                    l -= 188
                }
        }
        function an(e, t, n) {
            for (var i, r, a, o, s, l, u, c = 0, h = 188, d = !1, p = {
                data: [],
                size: 0
            }; h < e.byteLength; )
                if (71 !== e[c] || 71 !== e[h])
                    c++,
                    h++;
                else {
                    switch (i = e.subarray(c, h),
                    nn.ts.parseType(i, t.pid)) {
                    case "pes":
                        if (r = nn.ts.parsePesType(i, t.table),
                        a = nn.ts.parsePayloadUnitStartIndicator(i),
                        "video" === r && (a && !d && (o = nn.ts.parsePesTime(i)) && (o.type = "video",
                        n.video.push(o),
                        d = !0),
                        !n.firstKeyFrame)) {
                            if (a && 0 !== p.size) {
                                for (s = new Uint8Array(p.size),
                                l = 0; p.data.length; )
                                    u = p.data.shift(),
                                    s.set(u, l),
                                    l += u.byteLength;
                                if (nn.ts.videoPacketContainsKeyFrame(s)) {
                                    var f = nn.ts.parsePesTime(s);
                                    f ? (n.firstKeyFrame = f,
                                    n.firstKeyFrame.type = "video") : console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")
                                }
                                p.size = 0
                            }
                            p.data.push(i),
                            p.size += i.byteLength
                        }
                    }
                    if (d && n.firstKeyFrame)
                        break;
                    c += 188,
                    h += 188
                }
            for (c = (h = e.byteLength) - 188,
            d = !1; 0 <= c; )
                if (71 !== e[c] || 71 !== e[h])
                    c--,
                    h--;
                else {
                    switch (i = e.subarray(c, h),
                    nn.ts.parseType(i, t.pid)) {
                    case "pes":
                        r = nn.ts.parsePesType(i, t.table),
                        a = nn.ts.parsePayloadUnitStartIndicator(i),
                        "video" === r && a && (o = nn.ts.parsePesTime(i)) && (o.type = "video",
                        n.video.push(o),
                        d = !0)
                    }
                    if (d)
                        break;
                    c -= 188,
                    h -= 188
                }
        }
        function on(e) {
            var t = {
                pid: null,
                table: null
            }
              , n = {};
            for (var i in function(e, t) {
                for (var n, i = 0, r = 188; r < e.byteLength; )
                    if (71 !== e[i] || 71 !== e[r])
                        i++,
                        r++;
                    else {
                        switch (n = e.subarray(i, r),
                        nn.ts.parseType(n, t.pid)) {
                        case "pat":
                            t.pid = nn.ts.parsePat(n);
                            break;
                        case "pmt":
                            var a = nn.ts.parsePmt(n);
                            t.table = t.table || {},
                            Object.keys(a).forEach(function(e) {
                                t.table[e] = a[e]
                            })
                        }
                        i += 188,
                        r += 188
                    }
            }(e, t),
            t.table) {
                if (t.table.hasOwnProperty(i))
                    switch (t.table[i]) {
                    case je.H264_STREAM_TYPE:
                        n.video = [],
                        an(e, t, n),
                        0 === n.video.length && delete n.video;
                        break;
                    case je.ADTS_STREAM_TYPE:
                        n.audio = [],
                        rn(e, t, n),
                        0 === n.audio.length && delete n.audio
                    }
            }
            return n
        }
        var sn = le
          , ln = function(e, t) {
            var n;
            return (n = nn.aac.isLikelyAacData(e) ? function(e) {
                for (var t, n = !1, i = 0, r = null, a = null, o = 0, s = 0; 3 <= e.length - s; ) {
                    switch (nn.aac.parseType(e, s)) {
                    case "timed-metadata":
                        if (e.length - s < 10) {
                            n = !0;
                            break
                        }
                        if ((o = nn.aac.parseId3TagSize(e, s)) > e.length) {
                            n = !0;
                            break
                        }
                        null === a && (t = e.subarray(s, s + o),
                        a = nn.aac.parseAacTimestamp(t)),
                        s += o;
                        break;
                    case "audio":
                        if (e.length - s < 7) {
                            n = !0;
                            break
                        }
                        if ((o = nn.aac.parseAdtsSize(e, s)) > e.length) {
                            n = !0;
                            break
                        }
                        null === r && (t = e.subarray(s, s + o),
                        r = nn.aac.parseSampleRate(t)),
                        i++,
                        s += o;
                        break;
                    default:
                        s++
                    }
                    if (n)
                        return null
                }
                if (null === r || null === a)
                    return null;
                var l = sn / r;
                return {
                    audio: [{
                        type: "audio",
                        dts: a,
                        pts: a
                    }, {
                        type: "audio",
                        dts: a + 1024 * i * l,
                        pts: a + 1024 * i * l
                    }]
                }
            }(e) : on(e)) && (n.audio || n.video) ? (function(e, t) {
                if (e.audio && e.audio.length) {
                    var n = t;
                    void 0 !== n && !isNaN(n) || (n = e.audio[0].dts),
                    e.audio.forEach(function(e) {
                        e.dts = tn(e.dts, n),
                        e.pts = tn(e.pts, n),
                        e.dtsTime = e.dts / sn,
                        e.ptsTime = e.pts / sn
                    })
                }
                if (e.video && e.video.length) {
                    var i = t;
                    if (void 0 !== i && !isNaN(i) || (i = e.video[0].dts),
                    e.video.forEach(function(e) {
                        e.dts = tn(e.dts, i),
                        e.pts = tn(e.pts, i),
                        e.dtsTime = e.dts / sn,
                        e.ptsTime = e.pts / sn
                    }),
                    e.firstKeyFrame) {
                        var r = e.firstKeyFrame;
                        r.dts = tn(r.dts, i),
                        r.pts = tn(r.pts, i),
                        r.dtsTime = r.dts / sn,
                        r.ptsTime = r.pts / sn
                    }
                }
            }(n, t),
            n) : null
        }
          , un = function() {
            function e(e, t) {
                this.options = t || {},
                this.self = e,
                this.init()
            }
            var t = e.prototype;
            return t.init = function() {
                this.transmuxer && this.transmuxer.dispose(),
                this.transmuxer = new Ot.Transmuxer(this.options),
                function(i, e) {
                    e.on("data", function(e) {
                        var t = e.initSegment;
                        e.initSegment = {
                            data: t.buffer,
                            byteOffset: t.byteOffset,
                            byteLength: t.byteLength
                        };
                        var n = e.data;
                        e.data = n.buffer,
                        i.postMessage({
                            action: "data",
                            segment: e,
                            byteOffset: n.byteOffset,
                            byteLength: n.byteLength
                        }, [e.data])
                    }),
                    e.on("done", function(e) {
                        i.postMessage({
                            action: "done"
                        })
                    }),
                    e.on("gopInfo", function(e) {
                        i.postMessage({
                            action: "gopInfo",
                            gopInfo: e
                        })
                    }),
                    e.on("videoSegmentTimingInfo", function(e) {
                        var t = {
                            start: {
                                decode: ce(e.start.dts),
                                presentation: ce(e.start.pts)
                            },
                            end: {
                                decode: ce(e.end.dts),
                                presentation: ce(e.end.pts)
                            },
                            baseMediaDecodeTime: ce(e.baseMediaDecodeTime)
                        };
                        e.prependedContentDuration && (t.prependedContentDuration = ce(e.prependedContentDuration)),
                        i.postMessage({
                            action: "videoSegmentTimingInfo",
                            videoSegmentTimingInfo: t
                        })
                    }),
                    e.on("audioSegmentTimingInfo", function(e) {
                        var t = {
                            start: {
                                decode: ce(e.start.dts),
                                presentation: ce(e.start.pts)
                            },
                            end: {
                                decode: ce(e.end.dts),
                                presentation: ce(e.end.pts)
                            },
                            baseMediaDecodeTime: ce(e.baseMediaDecodeTime)
                        };
                        e.prependedContentDuration && (t.prependedContentDuration = ce(e.prependedContentDuration)),
                        i.postMessage({
                            action: "audioSegmentTimingInfo",
                            audioSegmentTimingInfo: t
                        })
                    }),
                    e.on("id3Frame", function(e) {
                        i.postMessage({
                            action: "id3Frame",
                            id3Frame: e
                        })
                    }),
                    e.on("caption", function(e) {
                        i.postMessage({
                            action: "caption",
                            caption: e
                        })
                    }),
                    e.on("trackinfo", function(e) {
                        i.postMessage({
                            action: "trackinfo",
                            trackInfo: e
                        })
                    }),
                    e.on("audioTimingInfo", function(e) {
                        i.postMessage({
                            action: "audioTimingInfo",
                            audioTimingInfo: {
                                start: ce(e.start),
                                end: ce(e.end)
                            }
                        })
                    }),
                    e.on("videoTimingInfo", function(e) {
                        i.postMessage({
                            action: "videoTimingInfo",
                            videoTimingInfo: {
                                start: ce(e.start),
                                end: ce(e.end)
                            }
                        })
                    }),
                    e.on("log", function(e) {
                        i.postMessage({
                            action: "log",
                            log: e
                        })
                    })
                }(this.self, this.transmuxer)
            }
            ,
            t.pushMp4Captions = function(e) {
                this.captionParser || (this.captionParser = new Wt,
                this.captionParser.init());
                var t = new Uint8Array(e.data,e.byteOffset,e.byteLength)
                  , n = this.captionParser.parse(t, e.trackIds, e.timescales);
                this.self.postMessage({
                    action: "mp4Captions",
                    captions: n && n.captions || [],
                    logs: n && n.logs || [],
                    data: t.buffer
                }, [t.buffer])
            }
            ,
            t.probeMp4StartTime = function(e) {
                var t = e.timescales
                  , n = e.data
                  , i = Qt(t, n);
                this.self.postMessage({
                    action: "probeMp4StartTime",
                    startTime: i,
                    data: n
                }, [n.buffer])
            }
            ,
            t.probeMp4Tracks = function(e) {
                var t = e.data
                  , n = Jt(t);
                this.self.postMessage({
                    action: "probeMp4Tracks",
                    tracks: n,
                    data: t
                }, [t.buffer])
            }
            ,
            t.probeTs = function(e) {
                var t = e.data
                  , n = e.baseStartTime
                  , i = "number" != typeof n || isNaN(n) ? void 0 : n * le
                  , r = ln(t, i)
                  , a = null;
                r && ((a = {
                    hasVideo: r.video && 2 === r.video.length || !1,
                    hasAudio: r.audio && 2 === r.audio.length || !1
                }).hasVideo && (a.videoStart = r.video[0].ptsTime),
                a.hasAudio && (a.audioStart = r.audio[0].ptsTime)),
                this.self.postMessage({
                    action: "probeTs",
                    result: a,
                    data: t
                }, [t.buffer])
            }
            ,
            t.clearAllMp4Captions = function() {
                this.captionParser && this.captionParser.clearAllCaptions()
            }
            ,
            t.clearParsedMp4Captions = function() {
                this.captionParser && this.captionParser.clearParsedCaptions()
            }
            ,
            t.push = function(e) {
                var t = new Uint8Array(e.data,e.byteOffset,e.byteLength);
                this.transmuxer.push(t)
            }
            ,
            t.reset = function() {
                this.transmuxer.reset()
            }
            ,
            t.setTimestampOffset = function(e) {
                var t = e.timestampOffset || 0;
                this.transmuxer.setBaseMediaDecodeTime(Math.round(ue(t)))
            }
            ,
            t.setAudioAppendStart = function(e) {
                this.transmuxer.setAudioAppendStart(Math.ceil(ue(e.appendStart)))
            }
            ,
            t.setRemux = function(e) {
                this.transmuxer.setRemux(e.remux)
            }
            ,
            t.flush = function(e) {
                this.transmuxer.flush(),
                self.postMessage({
                    action: "done",
                    type: "transmuxed"
                })
            }
            ,
            t.endTimeline = function() {
                this.transmuxer.endTimeline(),
                self.postMessage({
                    action: "endedtimeline",
                    type: "transmuxed"
                })
            }
            ,
            t.alignGopsWith = function(e) {
                this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
            }
            ,
            e
        }();
        self.onmessage = function(e) {
            "init" === e.data.action && e.data.options ? this.messageHandlers = new un(self,e.data.options) : (this.messageHandlers || (this.messageHandlers = new un(self)),
            e.data && e.data.action && "init" !== e.data.action && this.messageHandlers[e.data.action] && this.messageHandlers[e.data.action](e.data))
        }
    })))
      , Zo = function(e) {
        e.currentTransmux = null,
        e.transmuxQueue.length && (e.currentTransmux = e.transmuxQueue.shift(),
        "function" == typeof e.currentTransmux ? e.currentTransmux() : io(e.currentTransmux))
    }
      , Qo = function(e) {
        ao("reset", e)
    }
      , Jo = function(e) {
        var t = new Ko;
        t.currentTransmux = null,
        t.transmuxQueue = [];
        var n = t.terminate;
        return t.terminate = function() {
            return t.currentTransmux = null,
            t.transmuxQueue.length = 0,
            n.call(t)
        }
        ,
        t.postMessage({
            action: "init",
            options: e
        }),
        t
    }
      , es = 2
      , ts = -101
      , ns = -102
      , is = oa("CodecUtils")
      , rs = oa("PlaylistSelector")
      , as = function(i) {
        function e(e, t) {
            var n;
            if (n = i.call(this) || this,
            !e)
                throw new TypeError("Initialization settings are required");
            if ("function" != typeof e.currentTime)
                throw new TypeError("No currentTime getter specified");
            if (!e.mediaSource)
                throw new TypeError("No MediaSource specified");
            return n.bandwidth = e.bandwidth,
            n.throughput = {
                rate: 0,
                count: 0
            },
            n.roundTrip = NaN,
            n.resetStats_(),
            n.mediaIndex = null,
            n.partIndex = null,
            n.hasPlayed_ = e.hasPlayed,
            n.currentTime_ = e.currentTime,
            n.seekable_ = e.seekable,
            n.seeking_ = e.seeking,
            n.duration_ = e.duration,
            n.mediaSource_ = e.mediaSource,
            n.vhs_ = e.vhs,
            n.loaderType_ = e.loaderType,
            n.currentMediaInfo_ = void 0,
            n.startingMediaInfo_ = void 0,
            n.segmentMetadataTrack_ = e.segmentMetadataTrack,
            n.goalBufferLength_ = e.goalBufferLength,
            n.sourceType_ = e.sourceType,
            n.sourceUpdater_ = e.sourceUpdater,
            n.inbandTextTracks_ = e.inbandTextTracks,
            n.state_ = "INIT",
            n.timelineChangeController_ = e.timelineChangeController,
            n.shouldSaveSegmentTimingInfo_ = !0,
            n.parse708captions_ = e.parse708captions,
            n.experimentalExactManifestTimings = e.experimentalExactManifestTimings,
            n.checkBufferTimeout_ = null,
            n.error_ = void 0,
            n.currentTimeline_ = -1,
            n.pendingSegment_ = null,
            n.xhrOptions_ = null,
            n.pendingSegments_ = [],
            n.audioDisabled_ = !1,
            n.isPendingTimestampOffset_ = !1,
            n.gopBuffer_ = [],
            n.timeMapping_ = 0,
            n.safeAppend_ = 11 <= na.browser.IE_VERSION,
            n.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            n.playlistOfLastInitSegment_ = {
                audio: null,
                video: null
            },
            n.callQueue_ = [],
            n.loadQueue_ = [],
            n.metadataQueue_ = {
                id3: [],
                caption: []
            },
            n.waitingOnRemove_ = !1,
            n.quotaExceededErrorRetryTimeout_ = null,
            n.activeInitSegmentId_ = null,
            n.initSegments_ = {},
            n.cacheEncryptionKeys_ = e.cacheEncryptionKeys,
            n.keyCache_ = {},
            n.decrypter_ = e.decrypter,
            n.syncController_ = e.syncController,
            n.syncPoint_ = {
                segmentIndex: 0,
                time: 0
            },
            n.transmuxer_ = n.createTransmuxer_(),
            n.triggerSyncInfoUpdate_ = function() {
                return n.trigger("syncinfoupdate")
            }
            ,
            n.syncController_.on("syncinfoupdate", n.triggerSyncInfoUpdate_),
            n.mediaSource_.addEventListener("sourceopen", function() {
                n.isEndOfStream_() || (n.ended_ = !1)
            }),
            n.fetchAtBuffer_ = !1,
            n.logger_ = oa("SegmentLoader[" + n.loaderType_ + "]"),
            Object.defineProperty(P.default(n), "state", {
                get: function() {
                    return this.state_
                },
                set: function(e) {
                    e !== this.state_ && (this.logger_(this.state_ + " -> " + e),
                    this.state_ = e,
                    this.trigger("statechange"))
                }
            }),
            n.sourceUpdater_.on("ready", function() {
                n.hasEnoughInfoToAppend_() && n.processCallQueue_()
            }),
            "main" === n.loaderType_ && n.timelineChangeController_.on("pendingtimelinechange", function() {
                n.hasEnoughInfoToAppend_() && n.processCallQueue_()
            }),
            "audio" === n.loaderType_ && n.timelineChangeController_.on("timelinechange", function() {
                n.hasEnoughInfoToLoad_() && n.processLoadQueue_(),
                n.hasEnoughInfoToAppend_() && n.processCallQueue_()
            }),
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createTransmuxer_ = function() {
            return Jo({
                remux: !1,
                alignGopsAtEnd: this.safeAppend_,
                keepOriginalTimestamps: !0,
                parse708captions: this.parse708captions_
            })
        }
        ,
        t.resetStats_ = function() {
            this.mediaBytesTransferred = 0,
            this.mediaRequests = 0,
            this.mediaRequestsAborted = 0,
            this.mediaRequestsTimedout = 0,
            this.mediaRequestsErrored = 0,
            this.mediaTransferDuration = 0,
            this.mediaSecondsLoaded = 0,
            this.mediaAppends = 0
        }
        ,
        t.dispose = function() {
            this.trigger("dispose"),
            this.state = "DISPOSED",
            this.pause(),
            this.abort_(),
            this.transmuxer_ && this.transmuxer_.terminate(),
            this.resetStats_(),
            this.checkBufferTimeout_ && C.default.clearTimeout(this.checkBufferTimeout_),
            this.syncController_ && this.triggerSyncInfoUpdate_ && this.syncController_.off("syncinfoupdate", this.triggerSyncInfoUpdate_),
            this.off()
        }
        ,
        t.setAudio = function(e) {
            this.audioDisabled_ = !e,
            e ? this.appendInitSegment_.audio = !0 : this.sourceUpdater_.removeAudio(0, this.duration_())
        }
        ,
        t.abort = function() {
            "WAITING" === this.state ? (this.abort_(),
            this.state = "READY",
            this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null)
        }
        ,
        t.abort_ = function() {
            this.pendingSegment_ && this.pendingSegment_.abortRequests && this.pendingSegment_.abortRequests(),
            this.pendingSegment_ = null,
            this.callQueue_ = [],
            this.loadQueue_ = [],
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = [],
            this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),
            this.waitingOnRemove_ = !1,
            C.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),
            this.quotaExceededErrorRetryTimeout_ = null
        }
        ,
        t.checkForAbort_ = function(e) {
            return "APPENDING" !== this.state || this.pendingSegment_ ? !this.pendingSegment_ || this.pendingSegment_.requestId !== e : (this.state = "READY",
            !0)
        }
        ,
        t.error = function(e) {
            return void 0 !== e && (this.logger_("error occurred:", e),
            this.error_ = e),
            this.pendingSegment_ = null,
            this.error_
        }
        ,
        t.endOfStream = function() {
            this.ended_ = !0,
            this.transmuxer_ && Qo(this.transmuxer_),
            this.gopBuffer_.length = 0,
            this.pause(),
            this.trigger("ended")
        }
        ,
        t.buffered_ = function() {
            var e = this.getMediaInfo_();
            if (!this.sourceUpdater_ || !e)
                return na.createTimeRanges();
            if ("main" === this.loaderType_) {
                var t = e.hasAudio
                  , n = e.hasVideo
                  , i = e.isMuxed;
                if (n && t && !this.audioDisabled_ && !i)
                    return this.sourceUpdater_.buffered();
                if (n)
                    return this.sourceUpdater_.videoBuffered()
            }
            return this.sourceUpdater_.audioBuffered()
        }
        ,
        t.initSegmentForMap = function(e, t) {
            if (void 0 === t && (t = !1),
            !e)
                return null;
            var n = Wa(e)
              , i = this.initSegments_[n];
            return t && !i && e.bytes && (this.initSegments_[n] = i = {
                resolvedUri: e.resolvedUri,
                byterange: e.byterange,
                bytes: e.bytes,
                tracks: e.tracks,
                timescales: e.timescales
            }),
            i || e
        }
        ,
        t.segmentKey = function(e, t) {
            if (void 0 === t && (t = !1),
            !e)
                return null;
            var n = qa(e)
              , i = this.keyCache_[n];
            this.cacheEncryptionKeys_ && t && !i && e.bytes && (this.keyCache_[n] = i = {
                resolvedUri: e.resolvedUri,
                bytes: e.bytes
            });
            var r = {
                resolvedUri: (i || e).resolvedUri
            };
            return i && (r.bytes = i.bytes),
            r
        }
        ,
        t.couldBeginLoading_ = function() {
            return this.playlist_ && !this.paused()
        }
        ,
        t.load = function() {
            if (this.monitorBuffer_(),
            this.playlist_)
                return "INIT" === this.state && this.couldBeginLoading_() ? this.init_() : void (!this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY"))
        }
        ,
        t.init_ = function() {
            return this.state = "READY",
            this.resetEverything(),
            this.monitorBuffer_()
        }
        ,
        t.playlist = function(e, t) {
            if (void 0 === t && (t = {}),
            e) {
                var n = this.playlist_
                  , i = this.pendingSegment_;
                this.playlist_ = e,
                this.xhrOptions_ = t,
                "INIT" === this.state && (e.syncInfo = {
                    mediaSequence: e.mediaSequence,
                    time: 0
                },
                "main" === this.loaderType_ && this.syncController_.setDateTimeMappingForStart(e));
                var r = null;
                if (n && (n.id ? r = n.id : n.uri && (r = n.uri)),
                this.logger_("playlist update [" + r + " => " + (e.id || e.uri) + "]"),
                this.trigger("syncinfoupdate"),
                "INIT" === this.state && this.couldBeginLoading_())
                    return this.init_();
                if (!n || n.uri !== e.uri)
                    return null !== this.mediaIndex && this.resyncLoader(),
                    this.currentMediaInfo_ = void 0,
                    void this.trigger("playlistupdate");
                var a = e.mediaSequence - n.mediaSequence;
                if (this.logger_("live window shift [" + a + "]"),
                null !== this.mediaIndex)
                    if (this.mediaIndex -= a,
                    this.mediaIndex < 0)
                        this.mediaIndex = null,
                        this.partIndex = null;
                    else {
                        var o = this.playlist_.segments[this.mediaIndex];
                        if (this.partIndex && (!o.parts || !o.parts.length || !o.parts[this.partIndex])) {
                            var s = this.mediaIndex;
                            this.logger_("currently processing part (index " + this.partIndex + ") no longer exists."),
                            this.resetLoader(),
                            this.mediaIndex = s
                        }
                    }
                i && (i.mediaIndex -= a,
                i.mediaIndex < 0 ? (i.mediaIndex = null,
                i.partIndex = null) : (0 <= i.mediaIndex && (i.segment = e.segments[i.mediaIndex]),
                0 <= i.partIndex && i.segment.parts && (i.part = i.segment.parts[i.partIndex]))),
                this.syncController_.saveExpiredSegmentInfo(n, e)
            }
        }
        ,
        t.pause = function() {
            this.checkBufferTimeout_ && (C.default.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = null)
        }
        ,
        t.paused = function() {
            return null === this.checkBufferTimeout_
        }
        ,
        t.resetEverything = function(e) {
            this.ended_ = !1,
            this.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            this.resetLoader(),
            this.remove(0, 1 / 0, e),
            this.transmuxer_ && this.transmuxer_.postMessage({
                action: "clearAllMp4Captions"
            })
        }
        ,
        t.resetLoader = function() {
            this.fetchAtBuffer_ = !1,
            this.resyncLoader()
        }
        ,
        t.resyncLoader = function() {
            this.transmuxer_ && Qo(this.transmuxer_),
            this.mediaIndex = null,
            this.partIndex = null,
            this.syncPoint_ = null,
            this.isPendingTimestampOffset_ = !1,
            this.callQueue_ = [],
            this.loadQueue_ = [],
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = [],
            this.abort(),
            this.transmuxer_ && this.transmuxer_.postMessage({
                action: "clearParsedMp4Captions"
            })
        }
        ,
        t.remove = function(e, t, n, i) {
            if (void 0 === n && (n = function() {}
            ),
            void 0 === i && (i = !1),
            t === 1 / 0 && (t = this.duration_()),
            t <= e)
                this.logger_("skipping remove because end ${end} is <= start ${start}");
            else if (this.sourceUpdater_ && this.getMediaInfo_()) {
                var r = 1
                  , a = function() {
                    0 === --r && n()
                };
                for (var o in !i && this.audioDisabled_ || (r++,
                this.sourceUpdater_.removeAudio(e, t, a)),
                !i && "main" !== this.loaderType_ || (this.gopBuffer_ = function(e, t, n, i) {
                    for (var r = Math.ceil((t - i) * T.ONE_SECOND_IN_TS), a = Math.ceil((n - i) * T.ONE_SECOND_IN_TS), o = e.slice(), s = e.length; s-- && !(e[s].pts <= a); )
                        ;
                    if (-1 === s)
                        return o;
                    for (var l = s + 1; l-- && !(e[l].pts <= r); )
                        ;
                    return l = Math.max(l, 0),
                    o.splice(l, s - l + 1),
                    o
                }(this.gopBuffer_, e, t, this.timeMapping_),
                r++,
                this.sourceUpdater_.removeVideo(e, t, a)),
                this.inbandTextTracks_)
                    Io(e, t, this.inbandTextTracks_[o]);
                Io(e, t, this.segmentMetadataTrack_),
                a()
            } else
                this.logger_("skipping remove because no source updater or starting media info")
        }
        ,
        t.monitorBuffer_ = function() {
            this.checkBufferTimeout_ && C.default.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = C.default.setTimeout(this.monitorBufferTick_.bind(this), 1)
        }
        ,
        t.monitorBufferTick_ = function() {
            "READY" === this.state && this.fillBuffer_(),
            this.checkBufferTimeout_ && C.default.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = C.default.setTimeout(this.monitorBufferTick_.bind(this), 500)
        }
        ,
        t.fillBuffer_ = function() {
            if (!this.sourceUpdater_.updating()) {
                var e = this.chooseNextRequest_();
                e && ("number" == typeof e.timestampOffset && (this.isPendingTimestampOffset_ = !1,
                this.timelineChangeController_.pendingTimelineChange({
                    type: this.loaderType_,
                    from: this.currentTimeline_,
                    to: e.timeline
                })),
                this.loadSegment_(e))
            }
        }
        ,
        t.isEndOfStream_ = function(e, t, n) {
            if (void 0 === e && (e = this.mediaIndex),
            void 0 === t && (t = this.playlist_),
            void 0 === n && (n = this.partIndex),
            !t || !this.mediaSource_)
                return !1;
            var i = "number" == typeof e && t.segments[e]
              , r = e + 1 === t.segments.length
              , a = !i || !i.parts || n + 1 === i.parts.length;
            return t.endList && "open" === this.mediaSource_.readyState && r && a
        }
        ,
        t.chooseNextRequest_ = function() {
            var e = da(this.buffered_()) || 0
              , t = Math.max(0, e - this.currentTime_())
              , n = !this.hasPlayed_() && 1 <= t
              , i = t >= this.goalBufferLength_()
              , r = this.playlist_.segments;
            if (!r.length || n || i)
                return null;
            this.syncPoint_ = this.syncPoint_ || this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());
            var a = {
                partIndex: null,
                mediaIndex: null,
                startOfSegment: null,
                playlist: this.playlist_,
                isSyncRequest: Boolean(!this.syncPoint_)
            };
            if (a.isSyncRequest)
                a.mediaIndex = function(e, t, n) {
                    t = t || [];
                    for (var i = [], r = 0, a = 0; a < t.length; a++) {
                        var o = t[a];
                        if (e === o.timeline && (i.push(a),
                        n < (r += o.duration)))
                            return a
                    }
                    return 0 === i.length ? 0 : i[i.length - 1]
                }(this.currentTimeline_, r, e);
            else if (null !== this.mediaIndex) {
                var o = r[this.mediaIndex]
                  , s = "number" == typeof this.partIndex ? this.partIndex : -1;
                a.startOfSegment = o.end ? o.end : e,
                o.parts && o.parts[s + 1] ? (a.mediaIndex = this.mediaIndex,
                a.partIndex = s + 1) : a.mediaIndex = this.mediaIndex + 1
            } else {
                var l = jo.getMediaInfoForTime({
                    experimentalExactManifestTimings: this.experimentalExactManifestTimings,
                    playlist: this.playlist_,
                    currentTime: this.fetchAtBuffer_ ? e : this.currentTime_(),
                    startingPartIndex: this.syncPoint_.partIndex,
                    startingSegmentIndex: this.syncPoint_.segmentIndex,
                    startTime: this.syncPoint_.time
                })
                  , u = l.segmentIndex
                  , c = l.startTime
                  , h = l.partIndex;
                a.getMediaInfoForTime = this.fetchAtBuffer_ ? "bufferedEnd" : "currentTime",
                a.mediaIndex = u,
                a.startOfSegment = c,
                a.partIndex = h
            }
            var d = r[a.mediaIndex]
              , p = d && "number" == typeof a.partIndex && d.parts && d.parts[a.partIndex];
            if (!d || "number" == typeof a.partIndex && !p)
                return null;
            "number" != typeof a.partIndex && d.parts && (a.partIndex = 0);
            var f = this.mediaSource_ && "ended" === this.mediaSource_.readyState;
            return a.mediaIndex >= r.length - 1 && f && !this.seeking_() ? null : this.generateSegmentInfo_(a)
        }
        ,
        t.generateSegmentInfo_ = function(e) {
            var t = e.playlist
              , n = e.mediaIndex
              , i = e.startOfSegment
              , r = e.isSyncRequest
              , a = e.partIndex
              , o = e.forceTimestampOffset
              , s = e.getMediaInfoForTime
              , l = t.segments[n]
              , u = "number" == typeof a && l.parts[a]
              , c = {
                requestId: "segment-loader-" + Math.random(),
                uri: u && u.resolvedUri || l.resolvedUri,
                mediaIndex: n,
                partIndex: u ? a : null,
                isSyncRequest: r,
                startOfSegment: i,
                playlist: t,
                bytes: null,
                encryptedBytes: null,
                timestampOffset: null,
                timeline: l.timeline,
                duration: u && u.duration || l.duration,
                segment: l,
                part: u,
                byteLength: 0,
                transmuxer: this.transmuxer_,
                getMediaInfoForTime: s
            }
              , h = void 0 !== o ? o : this.isPendingTimestampOffset_;
            c.timestampOffset = this.timestampOffsetForSegment_({
                segmentTimeline: l.timeline,
                currentTimeline: this.currentTimeline_,
                startOfSegment: i,
                buffered: this.buffered_(),
                overrideCheck: h
            });
            var d = da(this.sourceUpdater_.audioBuffered());
            return "number" == typeof d && (c.audioAppendStart = d - this.sourceUpdater_.audioTimestampOffset()),
            this.sourceUpdater_.videoBuffered().length && (c.gopsToAlignWith = function(e, t, n) {
                if (null == t || !e.length)
                    return [];
                var i, r = Math.ceil((t - n + 3) * T.ONE_SECOND_IN_TS);
                for (i = 0; i < e.length && !(e[i].pts > r); i++)
                    ;
                return e.slice(i)
            }(this.gopBuffer_, this.currentTime_() - this.sourceUpdater_.videoTimestampOffset(), this.timeMapping_)),
            c
        }
        ,
        t.timestampOffsetForSegment_ = function(e) {
            return function(e) {
                var t = e.segmentTimeline
                  , n = e.currentTimeline
                  , i = e.startOfSegment
                  , r = e.buffered;
                return e.overrideCheck || t !== n ? t < n ? i : r.length ? r.end(r.length - 1) : i : null
            }(e)
        }
        ,
        t.earlyAbortWhenNeeded_ = function(e) {
            if (!this.vhs_.tech_.paused() && this.xhrOptions_.timeout && this.playlist_.attributes.BANDWIDTH && !(Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3)) {
                var t = this.currentTime_()
                  , n = e.bandwidth
                  , i = this.pendingSegment_.duration
                  , r = jo.estimateSegmentRequestTime(i, n, this.playlist_, e.bytesReceived)
                  , a = function(e, t, n) {
                    return void 0 === n && (n = 1),
                    ((e.length ? e.end(e.length - 1) : 0) - t) / n
                }(this.buffered_(), t, this.vhs_.tech_.playbackRate()) - 1;
                if (!(r <= a)) {
                    var o = function(e) {
                        var t = e.master
                          , n = e.currentTime
                          , i = e.bandwidth
                          , r = e.duration
                          , a = e.segmentDuration
                          , o = e.timeUntilRebuffer
                          , s = e.currentTimeline
                          , l = e.syncController
                          , u = t.playlists.filter(function(e) {
                            return !jo.isIncompatible(e)
                        })
                          , c = u.filter(jo.isEnabled);
                        c.length || (c = u.filter(function(e) {
                            return !jo.isDisabled(e)
                        }));
                        var h = c.filter(jo.hasAttribute.bind(null, "BANDWIDTH")).map(function(e) {
                            var t = l.getSyncPoint(e, r, s, n) ? 1 : 2;
                            return {
                                playlist: e,
                                rebufferingImpact: jo.estimateSegmentRequestTime(a, i, e) * t - o
                            }
                        })
                          , d = h.filter(function(e) {
                            return e.rebufferingImpact <= 0
                        });
                        return Co(d, function(e, t) {
                            return Mo(t.playlist, e.playlist)
                        }),
                        d.length ? d[0] : (Co(h, function(e, t) {
                            return e.rebufferingImpact - t.rebufferingImpact
                        }),
                        h[0] || null)
                    }({
                        master: this.vhs_.playlists.master,
                        currentTime: t,
                        bandwidth: n,
                        duration: this.duration_(),
                        segmentDuration: i,
                        timeUntilRebuffer: a,
                        currentTimeline: this.currentTimeline_,
                        syncController: this.syncController_
                    });
                    if (o) {
                        var s = r - a - o.rebufferingImpact
                          , l = .5;
                        a <= 1 / 30 && (l = 1),
                        !o.playlist || o.playlist.uri === this.playlist_.uri || s < l || (this.bandwidth = o.playlist.attributes.BANDWIDTH * Yo.BANDWIDTH_VARIANCE + 1,
                        this.trigger("earlyabort"))
                    }
                }
            }
        }
        ,
        t.handleAbort_ = function(e) {
            this.logger_("Aborting " + Oo(e)),
            this.mediaRequestsAborted += 1
        }
        ,
        t.handleProgress_ = function(e, t) {
            this.earlyAbortWhenNeeded_(t.stats),
            this.checkForAbort_(t.requestId) || this.trigger("progress")
        }
        ,
        t.handleTrackInfo_ = function(e, t) {
            this.earlyAbortWhenNeeded_(e.stats),
            this.checkForAbort_(e.requestId) || this.checkForIllegalMediaSwitch(t) || (t = t || {},
            function(e, t) {
                if (!e && !t || !e && t || e && !t)
                    return !1;
                if (e === t)
                    return !0;
                var n = Object.keys(e).sort()
                  , i = Object.keys(t).sort();
                if (n.length !== i.length)
                    return !1;
                for (var r = 0; r < n.length; r++) {
                    var a = n[r];
                    if (a !== i[r])
                        return !1;
                    if (e[a] !== t[a])
                        return !1
                }
                return !0
            }(this.currentMediaInfo_, t) || (this.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            this.startingMediaInfo_ = t,
            this.currentMediaInfo_ = t,
            this.logger_("trackinfo update", t),
            this.trigger("trackinfo")),
            this.checkForAbort_(e.requestId) || (this.pendingSegment_.trackInfo = t,
            this.hasEnoughInfoToAppend_() && this.processCallQueue_()))
        }
        ,
        t.handleTimingInfo_ = function(e, t, n, i) {
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId)) {
                var r = this.pendingSegment_
                  , a = Ro(t);
                r[a] = r[a] || {},
                r[a][n] = i,
                this.logger_("timinginfo: " + t + " - " + n + " - " + i),
                this.hasEnoughInfoToAppend_() && this.processCallQueue_()
            }
        }
        ,
        t.handleCaptions_ = function(e, t) {
            var o = this;
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId))
                if (0 !== t.length)
                    if (this.pendingSegment_.hasAppendedData_) {
                        var s = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset()
                          , l = {};
                        t.forEach(function(e) {
                            l[e.stream] = l[e.stream] || {
                                startTime: 1 / 0,
                                captions: [],
                                endTime: 0
                            };
                            var t = l[e.stream];
                            t.startTime = Math.min(t.startTime, e.startTime + s),
                            t.endTime = Math.max(t.endTime, e.endTime + s),
                            t.captions.push(e)
                        }),
                        Object.keys(l).forEach(function(e) {
                            var t = l[e]
                              , n = t.startTime
                              , i = t.endTime
                              , r = t.captions
                              , a = o.inbandTextTracks_;
                            o.logger_("adding cues from " + n + " -> " + i + " for " + e),
                            function(e, t, n) {
                                if (!e[n]) {
                                    t.trigger({
                                        type: "usage",
                                        name: "vhs-608"
                                    }),
                                    t.trigger({
                                        type: "usage",
                                        name: "hls-608"
                                    });
                                    var i = n;
                                    /^cc708_/.test(n) && (i = "SERVICE" + n.split("_")[1]);
                                    var r = t.textTracks().getTrackById(i);
                                    if (r)
                                        e[n] = r;
                                    else {
                                        var a = n
                                          , o = n
                                          , s = !1
                                          , l = (t.options_.vhs && t.options_.vhs.captionServices || {})[i];
                                        l && (a = l.label,
                                        o = l.language,
                                        s = l.default),
                                        e[n] = t.addRemoteTextTrack({
                                            kind: "captions",
                                            id: i,
                                            default: s,
                                            label: a,
                                            language: o
                                        }, !1).track
                                    }
                                }
                            }(a, o.vhs_.tech_, e),
                            Io(n, i, a[e]),
                            function(e) {
                                var n = e.inbandTextTracks
                                  , t = e.captionArray
                                  , i = e.timestampOffset;
                                if (t) {
                                    var r = C.default.WebKitDataCue || C.default.VTTCue;
                                    t.forEach(function(e) {
                                        var t = e.stream;
                                        n[t].addCue(new r(e.startTime + i,e.endTime + i,e.text))
                                    })
                                }
                            }({
                                captionArray: r,
                                inbandTextTracks: a,
                                timestampOffset: s
                            })
                        }),
                        this.transmuxer_ && this.transmuxer_.postMessage({
                            action: "clearParsedMp4Captions"
                        })
                    } else
                        this.metadataQueue_.caption.push(this.handleCaptions_.bind(this, e, t));
                else
                    this.logger_("SegmentLoader received no captions from a caption event")
        }
        ,
        t.handleId3_ = function(e, t, n) {
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId))
                if (this.pendingSegment_.hasAppendedData_) {
                    var i = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset();
                    !function(e, t, n) {
                        e.metadataTrack_ || (e.metadataTrack_ = n.addRemoteTextTrack({
                            kind: "metadata",
                            label: "Timed Metadata"
                        }, !1).track,
                        e.metadataTrack_.inBandMetadataTrackDispatchType = t)
                    }(this.inbandTextTracks_, n, this.vhs_.tech_),
                    Ao({
                        inbandTextTracks: this.inbandTextTracks_,
                        metadataArray: t,
                        timestampOffset: i,
                        videoDuration: this.duration_()
                    })
                } else
                    this.metadataQueue_.id3.push(this.handleId3_.bind(this, e, t, n))
        }
        ,
        t.processMetadataQueue_ = function() {
            this.metadataQueue_.id3.forEach(function(e) {
                return e()
            }),
            this.metadataQueue_.caption.forEach(function(e) {
                return e()
            }),
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = []
        }
        ,
        t.processCallQueue_ = function() {
            var e = this.callQueue_;
            this.callQueue_ = [],
            e.forEach(function(e) {
                return e()
            })
        }
        ,
        t.processLoadQueue_ = function() {
            var e = this.loadQueue_;
            this.loadQueue_ = [],
            e.forEach(function(e) {
                return e()
            })
        }
        ,
        t.hasEnoughInfoToLoad_ = function() {
            if ("audio" !== this.loaderType_)
                return !0;
            var e = this.pendingSegment_;
            return !!e && (!this.getCurrentMediaInfo_() || !Do({
                timelineChangeController: this.timelineChangeController_,
                currentTimeline: this.currentTimeline_,
                segmentTimeline: e.timeline,
                loaderType: this.loaderType_,
                audioDisabled: this.audioDisabled_
            }))
        }
        ,
        t.getCurrentMediaInfo_ = function(e) {
            return void 0 === e && (e = this.pendingSegment_),
            e && e.trackInfo || this.currentMediaInfo_
        }
        ,
        t.getMediaInfo_ = function(e) {
            return void 0 === e && (e = this.pendingSegment_),
            this.getCurrentMediaInfo_(e) || this.startingMediaInfo_
        }
        ,
        t.hasEnoughInfoToAppend_ = function() {
            if (!this.sourceUpdater_.ready())
                return !1;
            if (this.waitingOnRemove_ || this.quotaExceededErrorRetryTimeout_)
                return !1;
            var e = this.pendingSegment_
              , t = this.getCurrentMediaInfo_();
            if (!e || !t)
                return !1;
            var n = t.hasAudio
              , i = t.hasVideo
              , r = t.isMuxed;
            return !(i && !e.videoTimingInfo) && (!(n && !this.audioDisabled_ && !r && !e.audioTimingInfo) && !Do({
                timelineChangeController: this.timelineChangeController_,
                currentTimeline: this.currentTimeline_,
                segmentTimeline: e.timeline,
                loaderType: this.loaderType_,
                audioDisabled: this.audioDisabled_
            }))
        }
        ,
        t.handleData_ = function(e, t) {
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId))
                if (!this.callQueue_.length && this.hasEnoughInfoToAppend_()) {
                    var n = this.pendingSegment_;
                    if (this.setTimeMapping_(n.timeline),
                    this.updateMediaSecondsLoaded_(n.segment),
                    "closed" !== this.mediaSource_.readyState) {
                        if (e.map && (e.map = this.initSegmentForMap(e.map, !0),
                        n.segment.map = e.map),
                        e.key && this.segmentKey(e.key, !0),
                        n.isFmp4 = e.isFmp4,
                        n.timingInfo = n.timingInfo || {},
                        n.isFmp4)
                            this.trigger("fmp4"),
                            n.timingInfo.start = n[Ro(t.type)].start;
                        else {
                            var i, r = this.getCurrentMediaInfo_(), a = "main" === this.loaderType_ && r && r.hasVideo;
                            a && (i = n.videoTimingInfo.start),
                            n.timingInfo.start = this.trueSegmentStart_({
                                currentStart: n.timingInfo.start,
                                playlist: n.playlist,
                                mediaIndex: n.mediaIndex,
                                currentVideoTimestampOffset: this.sourceUpdater_.videoTimestampOffset(),
                                useVideoTimingInfo: a,
                                firstVideoFrameTimeForData: i,
                                videoTimingInfo: n.videoTimingInfo,
                                audioTimingInfo: n.audioTimingInfo
                            })
                        }
                        if (this.updateAppendInitSegmentStatus(n, t.type),
                        this.updateSourceBufferTimestampOffset_(n),
                        n.isSyncRequest) {
                            this.updateTimingInfoEnd_(n),
                            this.syncController_.saveSegmentTimingInfo({
                                segmentInfo: n,
                                shouldSaveTimelineMapping: "main" === this.loaderType_
                            });
                            var o = this.chooseNextRequest_();
                            if (o.mediaIndex !== n.mediaIndex || o.partIndex !== n.partIndex)
                                return void this.logger_("sync segment was incorrect, not appending");
                            this.logger_("sync segment was correct, appending")
                        }
                        n.hasAppendedData_ = !0,
                        this.processMetadataQueue_(),
                        this.appendData_(n, t)
                    }
                } else
                    this.callQueue_.push(this.handleData_.bind(this, e, t))
        }
        ,
        t.updateAppendInitSegmentStatus = function(e, t) {
            "main" !== this.loaderType_ || "number" != typeof e.timestampOffset || e.changedTimestampOffset || (this.appendInitSegment_ = {
                audio: !0,
                video: !0
            }),
            this.playlistOfLastInitSegment_[t] !== e.playlist && (this.appendInitSegment_[t] = !0)
        }
        ,
        t.getInitSegmentAndUpdateState_ = function(e) {
            var t = e.type
              , n = e.initSegment
              , i = e.map
              , r = e.playlist;
            if (i) {
                var a = Wa(i);
                if (this.activeInitSegmentId_ === a)
                    return null;
                n = this.initSegmentForMap(i, !0).bytes,
                this.activeInitSegmentId_ = a
            }
            return n && this.appendInitSegment_[t] ? (this.playlistOfLastInitSegment_[t] = r,
            this.appendInitSegment_[t] = !1,
            this.activeInitSegmentId_ = null,
            n) : null
        }
        ,
        t.handleQuotaExceededError_ = function(e, t) {
            var n = this
              , i = e.segmentInfo
              , r = e.type
              , a = e.bytes
              , o = this.sourceUpdater_.audioBuffered()
              , s = this.sourceUpdater_.videoBuffered();
            1 < o.length && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: " + ha(o).join(", ")),
            1 < s.length && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: " + ha(s).join(", "));
            var l = o.length ? o.start(0) : 0
              , u = o.length ? o.end(o.length - 1) : 0
              , c = s.length ? s.start(0) : 0
              , h = s.length ? s.end(s.length - 1) : 0;
            if (u - l <= 1 && h - c <= 1)
                return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: " + a.byteLength + ", audio buffer: " + ha(o).join(", ") + ", video buffer: " + ha(s).join(", ") + ", "),
                this.error({
                    message: "Quota exceeded error with append of a single segment of content",
                    excludeUntil: 1 / 0
                }),
                void this.trigger("error");
            this.waitingOnRemove_ = !0,
            this.callQueue_.push(this.appendToSourceBuffer_.bind(this, {
                segmentInfo: i,
                type: r,
                bytes: a
            }));
            var d = this.currentTime_() - 1;
            this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to " + d),
            this.remove(0, d, function() {
                n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),
                n.waitingOnRemove_ = !1,
                n.quotaExceededErrorRetryTimeout_ = C.default.setTimeout(function() {
                    n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),
                    n.quotaExceededErrorRetryTimeout_ = null,
                    n.processCallQueue_()
                }, 1e3)
            }, !0)
        }
        ,
        t.handleAppendError_ = function(e, t) {
            var n = e.segmentInfo
              , i = e.type
              , r = e.bytes;
            t && (22 !== t.code ? (this.logger_("Received non QUOTA_EXCEEDED_ERR on append", t),
            this.error(i + " append of " + r.length + "b failed for segment #" + n.mediaIndex + " in playlist " + n.playlist.id),
            this.trigger("appenderror")) : this.handleQuotaExceededError_({
                segmentInfo: n,
                type: i,
                bytes: r
            }))
        }
        ,
        t.appendToSourceBuffer_ = function(e) {
            var t = e.segmentInfo
              , n = e.type
              , i = e.initSegment
              , r = e.data
              , a = e.bytes;
            if (!a) {
                var o = [r]
                  , s = r.byteLength;
                i && (o.unshift(i),
                s += i.byteLength),
                a = function(e) {
                    var t, n = 0;
                    return e.bytes && (t = new Uint8Array(e.bytes),
                    e.segments.forEach(function(e) {
                        t.set(e, n),
                        n += e.byteLength
                    })),
                    t
                }({
                    bytes: s,
                    segments: o
                })
            }
            this.sourceUpdater_.appendBuffer({
                segmentInfo: t,
                type: n,
                bytes: a
            }, this.handleAppendError_.bind(this, {
                segmentInfo: t,
                type: n,
                bytes: a
            }))
        }
        ,
        t.handleSegmentTimingInfo_ = function(e, t, n) {
            if (this.pendingSegment_ && t === this.pendingSegment_.requestId) {
                var i = this.pendingSegment_.segment
                  , r = e + "TimingInfo";
                i[r] || (i[r] = {}),
                i[r].transmuxerPrependedSeconds = n.prependedContentDuration || 0,
                i[r].transmuxedPresentationStart = n.start.presentation,
                i[r].transmuxedDecodeStart = n.start.decode,
                i[r].transmuxedPresentationEnd = n.end.presentation,
                i[r].transmuxedDecodeEnd = n.end.decode,
                i[r].baseMediaDecodeTime = n.baseMediaDecodeTime
            }
        }
        ,
        t.appendData_ = function(e, t) {
            var n = t.type
              , i = t.data;
            if (i && i.byteLength && ("audio" !== n || !this.audioDisabled_)) {
                var r = this.getInitSegmentAndUpdateState_({
                    type: n,
                    initSegment: t.initSegment,
                    playlist: e.playlist,
                    map: e.isFmp4 ? e.segment.map : null
                });
                this.appendToSourceBuffer_({
                    segmentInfo: e,
                    type: n,
                    initSegment: r,
                    data: i
                })
            }
        }
        ,
        t.loadSegment_ = function(t) {
            var n = this;
            this.state = "WAITING",
            this.pendingSegment_ = t,
            this.trimBackBuffer_(t),
            "number" == typeof t.timestampOffset && this.transmuxer_ && this.transmuxer_.postMessage({
                action: "clearAllMp4Captions"
            }),
            this.hasEnoughInfoToLoad_() ? this.updateTransmuxerAndRequestSegment_(t) : this.loadQueue_.push(function() {
                var e = k.default({}, t, {
                    forceTimestampOffset: !0
                });
                k.default(t, n.generateSegmentInfo_(e)),
                n.isPendingTimestampOffset_ = !1,
                n.updateTransmuxerAndRequestSegment_(t)
            })
        }
        ,
        t.updateTransmuxerAndRequestSegment_ = function(r) {
            var a = this;
            this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset) && (this.gopBuffer_.length = 0,
            r.gopsToAlignWith = [],
            this.timeMapping_ = 0,
            this.transmuxer_.postMessage({
                action: "reset"
            }),
            this.transmuxer_.postMessage({
                action: "setTimestampOffset",
                timestampOffset: r.timestampOffset
            }));
            var e = this.createSimplifiedSegmentObj_(r)
              , t = this.isEndOfStream_(r.mediaIndex, r.playlist, r.partIndex)
              , n = null !== this.mediaIndex
              , i = r.timeline !== this.currentTimeline_ && 0 < r.timeline
              , o = t || n && i;
            this.logger_("Requesting " + Oo(r)),
            e.map && !e.map.bytes && (this.logger_("going to request init segment."),
            this.appendInitSegment_ = {
                video: !0,
                audio: !0
            }),
            r.abortRequests = bo({
                xhr: this.vhs_.xhr,
                xhrOptions: this.xhrOptions_,
                decryptionWorker: this.decrypter_,
                segment: e,
                abortFn: this.handleAbort_.bind(this, r),
                progressFn: this.handleProgress_.bind(this),
                trackInfoFn: this.handleTrackInfo_.bind(this),
                timingInfoFn: this.handleTimingInfo_.bind(this),
                videoSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "video", r.requestId),
                audioSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "audio", r.requestId),
                captionsFn: this.handleCaptions_.bind(this),
                isEndOfTimeline: o,
                endedTimelineFn: function() {
                    a.logger_("received endedtimeline callback")
                },
                id3Fn: this.handleId3_.bind(this),
                dataFn: this.handleData_.bind(this),
                doneFn: this.segmentRequestFinished_.bind(this),
                onTransmuxerLog: function(e) {
                    var t = e.message
                      , n = e.level
                      , i = e.stream;
                    a.logger_(Oo(r) + " logged from transmuxer stream " + i + " as a " + n + ": " + t)
                }
            })
        }
        ,
        t.trimBackBuffer_ = function(e) {
            var t = function(e, t, n) {
                var i = t - Yo.BACK_BUFFER_LENGTH;
                e.length && (i = Math.max(i, e.start(0)));
                var r = t - n;
                return Math.min(r, i)
            }(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
            0 < t && this.remove(0, t)
        }
        ,
        t.createSimplifiedSegmentObj_ = function(e) {
            var t = e.segment
              , n = e.part
              , i = {
                resolvedUri: n ? n.resolvedUri : t.resolvedUri,
                byterange: n ? n.byterange : t.byterange,
                requestId: e.requestId,
                transmuxer: e.transmuxer,
                audioAppendStart: e.audioAppendStart,
                gopsToAlignWith: e.gopsToAlignWith,
                part: e.part
            }
              , r = e.playlist.segments[e.mediaIndex - 1];
            if (r && r.timeline === t.timeline && (r.videoTimingInfo ? i.baseStartTime = r.videoTimingInfo.transmuxedDecodeEnd : r.audioTimingInfo && (i.baseStartTime = r.audioTimingInfo.transmuxedDecodeEnd)),
            t.key) {
                var a = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                i.key = this.segmentKey(t.key),
                i.key.iv = a
            }
            return t.map && (i.map = this.initSegmentForMap(t.map)),
            i
        }
        ,
        t.saveTransferStats_ = function(e) {
            this.mediaRequests += 1,
            e && (this.mediaBytesTransferred += e.bytesReceived,
            this.mediaTransferDuration += e.roundTripTime)
        }
        ,
        t.saveBandwidthRelatedStats_ = function(e, t) {
            this.pendingSegment_.byteLength = t.bytesReceived,
            e < 1 / 60 ? this.logger_("Ignoring segment's bandwidth because its duration of " + e + " is less than the min to record " + 1 / 60) : (this.bandwidth = t.bandwidth,
            this.roundTrip = t.roundTripTime)
        }
        ,
        t.handleTimeout_ = function() {
            this.mediaRequestsTimedout += 1,
            this.bandwidth = 1,
            this.roundTrip = NaN,
            this.trigger("bandwidthupdate")
        }
        ,
        t.segmentRequestFinished_ = function(e, t, n) {
            if (this.callQueue_.length)
                this.callQueue_.push(this.segmentRequestFinished_.bind(this, e, t, n));
            else if (this.saveTransferStats_(t.stats),
            this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId) {
                if (e) {
                    if (this.pendingSegment_ = null,
                    this.state = "READY",
                    e.code === ns)
                        return;
                    return this.pause(),
                    e.code === ts ? void this.handleTimeout_() : (this.mediaRequestsErrored += 1,
                    this.error(e),
                    void this.trigger("error"))
                }
                var i = this.pendingSegment_;
                this.saveBandwidthRelatedStats_(i.duration, t.stats),
                i.endOfAllRequests = t.endOfAllRequests,
                n.gopInfo && (this.gopBuffer_ = function(e, t, n) {
                    if (!t.length)
                        return e;
                    if (n)
                        return t.slice();
                    for (var i = t[0].pts, r = 0; r < e.length && !(e[r].pts >= i); r++)
                        ;
                    return e.slice(0, r).concat(t)
                }(this.gopBuffer_, n.gopInfo, this.safeAppend_)),
                this.state = "APPENDING",
                this.trigger("appending"),
                this.waitForAppendsToComplete_(i)
            }
        }
        ,
        t.setTimeMapping_ = function(e) {
            var t = this.syncController_.mappingForTimeline(e);
            null !== t && (this.timeMapping_ = t)
        }
        ,
        t.updateMediaSecondsLoaded_ = function(e) {
            "number" == typeof e.start && "number" == typeof e.end ? this.mediaSecondsLoaded += e.end - e.start : this.mediaSecondsLoaded += e.duration
        }
        ,
        t.shouldUpdateTransmuxerTimestampOffset_ = function(e) {
            return null !== e && ("main" === this.loaderType_ && e !== this.sourceUpdater_.videoTimestampOffset() || !this.audioDisabled_ && e !== this.sourceUpdater_.audioTimestampOffset())
        }
        ,
        t.trueSegmentStart_ = function(e) {
            var t = e.currentStart
              , n = e.playlist
              , i = e.mediaIndex
              , r = e.firstVideoFrameTimeForData
              , a = e.currentVideoTimestampOffset
              , o = e.useVideoTimingInfo
              , s = e.videoTimingInfo
              , l = e.audioTimingInfo;
            if (void 0 !== t)
                return t;
            if (!o)
                return l.start;
            var u = n.segments[i - 1];
            return 0 !== i && u && void 0 !== u.start && u.end === r + a ? s.start : r
        }
        ,
        t.waitForAppendsToComplete_ = function(e) {
            var t = this.getCurrentMediaInfo_(e);
            if (!t)
                return this.error({
                    message: "No starting media returned, likely due to an unsupported media format.",
                    blacklistDuration: 1 / 0
                }),
                void this.trigger("error");
            var n = t.hasAudio
              , i = t.hasVideo
              , r = t.isMuxed
              , a = "main" === this.loaderType_ && i
              , o = !this.audioDisabled_ && n && !r;
            if (e.waitingOnAppends = 0,
            !e.hasAppendedData_)
                return e.timingInfo || "number" != typeof e.timestampOffset || (this.isPendingTimestampOffset_ = !0),
                e.timingInfo = {
                    start: 0
                },
                e.waitingOnAppends++,
                this.isPendingTimestampOffset_ || (this.updateSourceBufferTimestampOffset_(e),
                this.processMetadataQueue_()),
                void this.checkAppendsDone_(e);
            a && e.waitingOnAppends++,
            o && e.waitingOnAppends++,
            a && this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this, e)),
            o && this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this, e))
        }
        ,
        t.checkAppendsDone_ = function(e) {
            this.checkForAbort_(e.requestId) || (e.waitingOnAppends--,
            0 === e.waitingOnAppends && this.handleAppendsDone_())
        }
        ,
        t.checkForIllegalMediaSwitch = function(e) {
            var t = function(e, t, n) {
                return "main" === e && t && n ? n.hasAudio || n.hasVideo ? t.hasVideo && !n.hasVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !t.hasVideo && n.hasVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null
            }(this.loaderType_, this.getCurrentMediaInfo_(), e);
            return !!t && (this.error({
                message: t,
                blacklistDuration: 1 / 0
            }),
            this.trigger("error"),
            !0)
        }
        ,
        t.updateSourceBufferTimestampOffset_ = function(e) {
            if (null !== e.timestampOffset && "number" == typeof e.timingInfo.start && !e.changedTimestampOffset && "main" === this.loaderType_) {
                var t = !1;
                e.timestampOffset -= e.timingInfo.start,
                e.changedTimestampOffset = !0,
                e.timestampOffset !== this.sourceUpdater_.videoTimestampOffset() && (this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),
                t = !0),
                e.timestampOffset !== this.sourceUpdater_.audioTimestampOffset() && (this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),
                t = !0),
                t && this.trigger("timestampoffset")
            }
        }
        ,
        t.updateTimingInfoEnd_ = function(e) {
            e.timingInfo = e.timingInfo || {};
            var t = this.getMediaInfo_()
              , n = "main" === this.loaderType_ && t && t.hasVideo && e.videoTimingInfo ? e.videoTimingInfo : e.audioTimingInfo;
            n && (e.timingInfo.end = "number" == typeof n.end ? n.end : n.start + e.duration)
        }
        ,
        t.handleAppendsDone_ = function() {
            if (this.pendingSegment_ && this.trigger("appendsdone"),
            !this.pendingSegment_)
                return this.state = "READY",
                void (this.paused() || this.monitorBuffer_());
            var e = this.pendingSegment_;
            this.updateTimingInfoEnd_(e),
            this.shouldSaveSegmentTimingInfo_ && this.syncController_.saveSegmentTimingInfo({
                segmentInfo: e,
                shouldSaveTimelineMapping: "main" === this.loaderType_
            });
            var t = Fo(e, this.sourceType_);
            if (t && ("warn" === t.severity ? na.log.warn(t.message) : this.logger_(t.message)),
            this.recordThroughput_(e),
            this.pendingSegment_ = null,
            this.state = "READY",
            !e.isSyncRequest || (this.trigger("syncinfoupdate"),
            e.hasAppendedData_)) {
                this.logger_("Appended " + Oo(e)),
                this.addSegmentMetadataCue_(e),
                this.fetchAtBuffer_ = !0,
                this.currentTimeline_ !== e.timeline && (this.timelineChangeController_.lastTimelineChange({
                    type: this.loaderType_,
                    from: this.currentTimeline_,
                    to: e.timeline
                }),
                "main" !== this.loaderType_ || this.audioDisabled_ || this.timelineChangeController_.lastTimelineChange({
                    type: "audio",
                    from: this.currentTimeline_,
                    to: e.timeline
                })),
                this.currentTimeline_ = e.timeline,
                this.trigger("syncinfoupdate");
                var n = e.segment;
                if (n.end && this.currentTime_() - n.end > 3 * e.playlist.targetDuration)
                    this.resetEverything();
                else
                    null !== this.mediaIndex && this.trigger("bandwidthupdate"),
                    this.trigger("progress"),
                    this.mediaIndex = e.mediaIndex,
                    this.partIndex = e.partIndex,
                    this.isEndOfStream_(e.mediaIndex, e.playlist, e.partIndex) && this.endOfStream(),
                    this.trigger("appended"),
                    e.hasAppendedData_ && this.mediaAppends++,
                    this.paused() || this.monitorBuffer_()
            } else
                this.logger_("Throwing away un-appended sync request " + Oo(e))
        }
        ,
        t.recordThroughput_ = function(e) {
            if (e.duration < 1 / 60)
                this.logger_("Ignoring segment's throughput because its duration of " + e.duration + " is less than the min to record " + 1 / 60);
            else {
                var t = this.throughput.rate
                  , n = Date.now() - e.endOfAllRequests + 1
                  , i = Math.floor(e.byteLength / n * 8 * 1e3);
                this.throughput.rate += (i - t) / ++this.throughput.count
            }
        }
        ,
        t.addSegmentMetadataCue_ = function(e) {
            if (this.segmentMetadataTrack_) {
                var t = e.segment
                  , n = t.start
                  , i = t.end;
                if (Lo(n) && Lo(i)) {
                    Io(n, i, this.segmentMetadataTrack_);
                    var r = C.default.WebKitDataCue || C.default.VTTCue
                      , a = {
                        custom: t.custom,
                        dateTimeObject: t.dateTimeObject,
                        dateTimeString: t.dateTimeString,
                        bandwidth: e.playlist.attributes.BANDWIDTH,
                        resolution: e.playlist.attributes.RESOLUTION,
                        codecs: e.playlist.attributes.CODECS,
                        byteLength: e.byteLength,
                        uri: e.uri,
                        timeline: e.timeline,
                        playlist: e.playlist.id,
                        start: n,
                        end: i
                    }
                      , o = new r(n,i,JSON.stringify(a));
                    o.value = a,
                    this.segmentMetadataTrack_.addCue(o)
                }
            }
        }
        ,
        e
    }(na.EventTarget);
    function os() {}
    function ss(e) {
        return "string" != typeof e ? e : e.replace(/./, function(e) {
            return e.toUpperCase()
        })
    }
    function ls(e, t) {
        var n = t[e + "Buffer"];
        return n && n.updating || t.queuePending[e]
    }
    function us(e, t) {
        if (0 !== t.queue.length) {
            var n = 0
              , i = t.queue[n];
            if ("mediaSource" !== i.type) {
                if ("mediaSource" !== e && t.ready() && "closed" !== t.mediaSource.readyState && !ls(e, t)) {
                    if (i.type !== e) {
                        if (null === (n = function(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var i = t[n];
                                if ("mediaSource" === i.type)
                                    return null;
                                if (i.type === e)
                                    return n
                            }
                            return null
                        }(e, t.queue)))
                            return;
                        i = t.queue[n]
                    }
                    return t.queue.splice(n, 1),
                    (t.queuePending[e] = i).action(e, t),
                    i.doneFn ? void 0 : (t.queuePending[e] = null,
                    void us(e, t))
                }
            } else
                t.updating() || "closed" === t.mediaSource.readyState || (t.queue.shift(),
                i.action(t),
                i.doneFn && i.doneFn(),
                us("audio", t),
                us("video", t))
        }
    }
    function cs(e, t) {
        var n = t[e + "Buffer"]
          , i = ss(e);
        n && (n.removeEventListener("updateend", t["on" + i + "UpdateEnd_"]),
        n.removeEventListener("error", t["on" + i + "Error_"]),
        t.codecs[e] = null,
        t[e + "Buffer"] = null)
    }
    function hs(e, t) {
        return e && t && -1 !== Array.prototype.indexOf.call(e.sourceBuffers, t)
    }
    function ds(e) {
        var t = e.type
          , n = e.sourceUpdater
          , i = e.action
          , r = e.doneFn
          , a = e.name;
        n.queue.push({
            type: t,
            action: i,
            doneFn: r,
            name: a
        }),
        us(t, n)
    }
    function ps(n, i) {
        return function(e) {
            if (i.queuePending[n]) {
                var t = i.queuePending[n].doneFn;
                i.queuePending[n] = null,
                t && t(i[n + "Error_"])
            }
            us(n, i)
        }
    }
    function fs(e) {
        return decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
    }
    function ms(e, t) {
        for (var n = e.cues, i = 0; i < n.length; i++) {
            var r = n[i];
            if (t >= r.adStartTime && t <= r.adEndTime)
                return r
        }
        return null
    }
    function gs(e, t) {
        e.abort(),
        e.pause(),
        t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(),
        t.activePlaylistLoader = null)
    }
    function vs(e, t) {
        (t.activePlaylistLoader = e).load()
    }
    function ys(e, t) {
        for (var n = 0; n < e.length; n++) {
            if (Ca(t, e[n]))
                return !0;
            if (e[n].playlists && ys(e[n].playlists, t))
                return !0
        }
        return !1
    }
    function bs(t) {
        ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(e) {
            Vs[e](e, t)
        });
        var n = t.mediaTypes
          , e = t.masterPlaylistLoader
          , i = t.tech
          , r = t.vhs
          , a = t.segmentLoaders
          , o = a.AUDIO
          , s = a.main;
        ["AUDIO", "SUBTITLES"].forEach(function(e) {
            n[e].activeGroup = function(l, u) {
                return function(t) {
                    var e = u.masterPlaylistLoader
                      , n = u.mediaTypes[l].groups
                      , i = e.media();
                    if (!i)
                        return null;
                    var r = null;
                    i.attributes[l] && (r = n[i.attributes[l]]);
                    var a = Object.keys(n);
                    if (!r)
                        if ("AUDIO" === l && 1 < a.length && ka(u.master))
                            for (var o = 0; o < a.length; o++) {
                                var s = n[a[o]];
                                if (ys(s, i)) {
                                    r = s;
                                    break
                                }
                            }
                        else
                            n.main ? r = n.main : 1 === a.length && (r = n[a[0]]);
                    return void 0 === t ? r : null !== t && r && r.filter(function(e) {
                        return e.id === t.id
                    })[0] || null
                }
            }(e, t),
            n[e].activeTrack = Gs[e](e, t),
            n[e].onGroupChanged = function(l, u) {
                return function() {
                    var e = u.segmentLoaders
                      , t = e[l]
                      , n = e.main
                      , i = u.mediaTypes[l]
                      , r = i.activeTrack()
                      , a = i.getActiveGroup()
                      , o = i.activePlaylistLoader
                      , s = i.lastGroup_;
                    a && s && a.id === s.id || (i.lastGroup_ = a,
                    i.lastTrack_ = r,
                    gs(t, i),
                    a && !a.isMasterPlaylist && (a.playlistLoader ? (t.resyncLoader(),
                    vs(a.playlistLoader, i)) : o && n.resetEverything()))
                }
            }(e, t),
            n[e].onGroupChanging = function(t, n) {
                return function() {
                    var e = n.segmentLoaders[t];
                    n.mediaTypes[t].lastGroup_ = null,
                    e.abort(),
                    e.pause()
                }
            }(e, t),
            n[e].onTrackChanged = function(h, d) {
                return function() {
                    var e = d.masterPlaylistLoader
                      , t = d.segmentLoaders
                      , n = t[h]
                      , i = t.main
                      , r = d.mediaTypes[h]
                      , a = r.activeTrack()
                      , o = r.getActiveGroup()
                      , s = r.activePlaylistLoader
                      , l = r.lastTrack_;
                    if ((!l || !a || l.id !== a.id) && (r.lastGroup_ = o,
                    r.lastTrack_ = a,
                    gs(n, r),
                    o)) {
                        if (o.isMasterPlaylist) {
                            if (!a || !l || a.id === l.id)
                                return;
                            var u = d.vhs.masterPlaylistController_
                              , c = u.selectPlaylist();
                            if (u.media() === c)
                                return;
                            return r.logger_("track change. Switching master audio from " + l.id + " to " + a.id),
                            e.pause(),
                            i.resetEverything(),
                            void u.fastQualityChange_(c)
                        }
                        if ("AUDIO" === h) {
                            if (!o.playlistLoader)
                                return i.setAudio(!0),
                                void i.resetEverything();
                            n.setAudio(!0),
                            i.setAudio(!1)
                        }
                        s !== o.playlistLoader && (n.track && n.track(a),
                        n.resetEverything()),
                        vs(o.playlistLoader, r)
                    }
                }
            }(e, t),
            n[e].getActiveGroup = function(t, e) {
                var n = e.mediaTypes;
                return function() {
                    var e = n[t].activeTrack();
                    return e ? n[t].activeGroup(e) : null
                }
            }(e, t)
        });
        var l = n.AUDIO.activeGroup();
        if (l) {
            var u = (l.filter(function(e) {
                return e.default
            })[0] || l[0]).id;
            n.AUDIO.tracks[u].enabled = !0,
            n.AUDIO.onGroupChanged(),
            n.AUDIO.onTrackChanged(),
            n.AUDIO.getActiveGroup().playlistLoader ? (s.setAudio(!1),
            o.setAudio(!0)) : s.setAudio(!0)
        }
        function c() {
            n.AUDIO.onTrackChanged(),
            i.trigger({
                type: "usage",
                name: "vhs-audio-change"
            }),
            i.trigger({
                type: "usage",
                name: "hls-audio-change"
            })
        }
        for (var h in e.on("mediachange", function() {
            ["AUDIO", "SUBTITLES"].forEach(function(e) {
                return n[e].onGroupChanged()
            })
        }),
        e.on("mediachanging", function() {
            ["AUDIO", "SUBTITLES"].forEach(function(e) {
                return n[e].onGroupChanging()
            })
        }),
        i.audioTracks().addEventListener("change", c),
        i.remoteTextTracks().addEventListener("change", n.SUBTITLES.onTrackChanged),
        r.on("dispose", function() {
            i.audioTracks().removeEventListener("change", c),
            i.remoteTextTracks().removeEventListener("change", n.SUBTITLES.onTrackChanged)
        }),
        i.clearTracks("audio"),
        n.AUDIO.tracks)
            i.audioTracks().addTrack(n.AUDIO.tracks[h])
    }
    function _s(e, t, n) {
        var i = e.masterPlaylistController_
          , r = i[(e.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(i);
        if (t.attributes) {
            var a = t.attributes.RESOLUTION;
            this.width = a && a.width,
            this.height = a && a.height,
            this.bandwidth = t.attributes.BANDWIDTH
        }
        this.codecs = To(i.master(), t),
        this.playlist = t,
        this.id = n,
        this.enabled = function(r, a, o) {
            return function(e) {
                var t = r.master.playlists[a]
                  , n = xa(t)
                  , i = Ta(t);
                return void 0 === e ? i : (e ? delete t.disabled : t.disabled = !0,
                e === i || n || (o(),
                e ? r.trigger("renditionenabled") : r.trigger("renditiondisabled")),
                e)
            }
        }(e.playlists, t.id, r)
    }
    function ws(e) {
        !function t(n, e) {
            var i = 0
              , r = 0
              , a = na.mergeOptions(Ys, e);
            n.ready(function() {
                n.trigger({
                    type: "usage",
                    name: "vhs-error-reload-initialized"
                }),
                n.trigger({
                    type: "usage",
                    name: "hls-error-reload-initialized"
                })
            });
            function o() {
                r && n.currentTime(r)
            }
            function s(e) {
                null != e && (r = n.duration() !== 1 / 0 && n.currentTime() || 0,
                n.one("loadedmetadata", o),
                n.src(e),
                n.trigger({
                    type: "usage",
                    name: "vhs-error-reload"
                }),
                n.trigger({
                    type: "usage",
                    name: "hls-error-reload"
                }),
                n.play())
            }
            function l() {
                return Date.now() - i < 1e3 * a.errorInterval ? (n.trigger({
                    type: "usage",
                    name: "vhs-error-reload-canceled"
                }),
                void n.trigger({
                    type: "usage",
                    name: "hls-error-reload-canceled"
                })) : a.getSource && "function" == typeof a.getSource ? (i = Date.now(),
                a.getSource.call(n, s)) : void na.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
            }
            function u() {
                n.off("loadedmetadata", o),
                n.off("error", l),
                n.off("dispose", u)
            }
            n.on("error", l),
            n.on("dispose", u),
            n.reloadSourceOnError = function(e) {
                u(),
                t(n, e)
            }
        }(this, e)
    }
    var xs, Ts = ["video", "audio"], Ss = function(i, r, a) {
        return function(t, n) {
            var e = n[t + "Buffer"];
            if (hs(n.mediaSource, e)) {
                n.logger_("Appending segment " + r.mediaIndex + "'s " + i.length + " bytes to " + t + "Buffer");
                try {
                    e.appendBuffer(i)
                } catch (e) {
                    n.logger_("Error with code " + e.code + " " + (22 === e.code ? "(QUOTA_EXCEEDED_ERR) " : "") + "when appending segment " + r.mediaIndex + " to " + t + "Buffer"),
                    n.queuePending[t] = null,
                    a(e)
                }
            }
        }
    }, Es = function(i, r) {
        return function(t, n) {
            var e = n[t + "Buffer"];
            if (hs(n.mediaSource, e)) {
                n.logger_("Removing " + i + " to " + r + " from " + t + "Buffer");
                try {
                    e.remove(i, r)
                } catch (e) {
                    n.logger_("Remove " + i + " to " + r + " from " + t + "Buffer failed")
                }
            }
        }
    }, Cs = function(i) {
        return function(e, t) {
            var n = t[e + "Buffer"];
            hs(t.mediaSource, n) && (t.logger_("Setting " + e + "timestampOffset to " + i),
            n.timestampOffset = i)
        }
    }, Ms = function(n) {
        return function(e, t) {
            n()
        }
    }, ks = function(t) {
        return function(e) {
            if ("open" === e.mediaSource.readyState) {
                e.logger_("Calling mediaSource endOfStream(" + (t || "") + ")");
                try {
                    e.mediaSource.endOfStream(t)
                } catch (e) {
                    na.log.warn("Failed to call media source endOfStream", e)
                }
            }
        }
    }, Ps = function(t) {
        return function(e) {
            e.logger_("Setting mediaSource duration to " + t);
            try {
                e.mediaSource.duration = t
            } catch (e) {
                na.log.warn("Failed to set media source duration", e)
            }
        }
    }, As = function() {
        return function(t, e) {
            if ("open" === e.mediaSource.readyState) {
                var n = e[t + "Buffer"];
                if (hs(e.mediaSource, n)) {
                    e.logger_("calling abort on " + t + "Buffer");
                    try {
                        n.abort()
                    } catch (e) {
                        na.log.warn("Failed to abort on " + t + "Buffer", e)
                    }
                }
            }
        }
    }, Is = function(r, a) {
        return function(e) {
            var t = ss(r)
              , n = g.getMimeForCodec(a);
            e.logger_("Adding " + r + "Buffer with codec " + a + " to mediaSource");
            var i = e.mediaSource.addSourceBuffer(n);
            i.addEventListener("updateend", e["on" + t + "UpdateEnd_"]),
            i.addEventListener("error", e["on" + t + "Error_"]),
            e.codecs[r] = a,
            e[r + "Buffer"] = i
        }
    }, Ls = function(n) {
        return function(e) {
            var t = e[n + "Buffer"];
            if (cs(n, e),
            hs(e.mediaSource, t)) {
                e.logger_("Removing " + n + "Buffer with codec " + e.codecs[n] + " from mediaSource");
                try {
                    e.mediaSource.removeSourceBuffer(t)
                } catch (e) {
                    na.log.warn("Failed to removeSourceBuffer " + n + "Buffer", e)
                }
            }
        }
    }, Os = function(r) {
        return function(e, t) {
            var n = t[e + "Buffer"]
              , i = g.getMimeForCodec(r);
            hs(t.mediaSource, n) && t.codecs[e] !== r && (t.logger_("changing " + e + "Buffer codec from " + t.codecs[e] + " to " + r),
            n.changeType(i),
            t.codecs[e] = r)
        }
    }, Rs = function(n) {
        function e(e) {
            var t;
            return (t = n.call(this) || this).mediaSource = e,
            t.sourceopenListener_ = function() {
                return us("mediaSource", P.default(t))
            }
            ,
            t.mediaSource.addEventListener("sourceopen", t.sourceopenListener_),
            t.logger_ = oa("SourceUpdater"),
            t.audioTimestampOffset_ = 0,
            t.videoTimestampOffset_ = 0,
            t.queue = [],
            t.queuePending = {
                audio: null,
                video: null
            },
            t.delayedAudioAppendQueue_ = [],
            t.videoAppendQueued_ = !1,
            t.codecs = {},
            t.onVideoUpdateEnd_ = ps("video", P.default(t)),
            t.onAudioUpdateEnd_ = ps("audio", P.default(t)),
            t.onVideoError_ = function(e) {
                t.videoError_ = e
            }
            ,
            t.onAudioError_ = function(e) {
                t.audioError_ = e
            }
            ,
            t.createdSourceBuffers_ = !1,
            t.initializedEme_ = !1,
            t.triggeredReady_ = !1,
            t
        }
        A.default(e, n);
        var t = e.prototype;
        return t.initializedEme = function() {
            this.initializedEme_ = !0,
            this.triggerReady()
        }
        ,
        t.hasCreatedSourceBuffers = function() {
            return this.createdSourceBuffers_
        }
        ,
        t.hasInitializedAnyEme = function() {
            return this.initializedEme_
        }
        ,
        t.ready = function() {
            return this.hasCreatedSourceBuffers() && this.hasInitializedAnyEme()
        }
        ,
        t.createSourceBuffers = function(e) {
            this.hasCreatedSourceBuffers() || (this.addOrChangeSourceBuffers(e),
            this.createdSourceBuffers_ = !0,
            this.trigger("createdsourcebuffers"),
            this.triggerReady())
        }
        ,
        t.triggerReady = function() {
            this.ready() && !this.triggeredReady_ && (this.triggeredReady_ = !0,
            this.trigger("ready"))
        }
        ,
        t.addSourceBuffer = function(e, t) {
            ds({
                type: "mediaSource",
                sourceUpdater: this,
                action: Is(e, t),
                name: "addSourceBuffer"
            })
        }
        ,
        t.abort = function(e) {
            ds({
                type: e,
                sourceUpdater: this,
                action: As(e),
                name: "abort"
            })
        }
        ,
        t.removeSourceBuffer = function(e) {
            this.canRemoveSourceBuffer() ? ds({
                type: "mediaSource",
                sourceUpdater: this,
                action: Ls(e),
                name: "removeSourceBuffer"
            }) : na.log.error("removeSourceBuffer is not supported!")
        }
        ,
        t.canRemoveSourceBuffer = function() {
            return !na.browser.IE_VERSION && !na.browser.IS_FIREFOX && C.default.MediaSource && C.default.MediaSource.prototype && "function" == typeof C.default.MediaSource.prototype.removeSourceBuffer
        }
        ,
        e.canChangeType = function() {
            return C.default.SourceBuffer && C.default.SourceBuffer.prototype && "function" == typeof C.default.SourceBuffer.prototype.changeType
        }
        ,
        t.canChangeType = function() {
            return this.constructor.canChangeType()
        }
        ,
        t.changeType = function(e, t) {
            this.canChangeType() ? ds({
                type: e,
                sourceUpdater: this,
                action: Os(t),
                name: "changeType"
            }) : na.log.error("changeType is not supported!")
        }
        ,
        t.addOrChangeSourceBuffers = function(n) {
            var i = this;
            if (!n || "object" != typeof n || 0 === Object.keys(n).length)
                throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");
            Object.keys(n).forEach(function(e) {
                var t = n[e];
                if (!i.hasCreatedSourceBuffers())
                    return i.addSourceBuffer(e, t);
                i.canChangeType() && i.changeType(e, t)
            })
        }
        ,
        t.appendBuffer = function(e, t) {
            var n = this
              , i = e.segmentInfo
              , r = e.type
              , a = e.bytes;
            if (this.processedAppend_ = !0,
            "audio" === r && this.videoBuffer && !this.videoAppendQueued_)
                return this.delayedAudioAppendQueue_.push([e, t]),
                void this.logger_("delayed audio append of " + a.length + " until video append");
            if (ds({
                type: r,
                sourceUpdater: this,
                action: Ss(a, i || {
                    mediaIndex: -1
                }, t),
                doneFn: t,
                name: "appendBuffer"
            }),
            "video" === r) {
                if (this.videoAppendQueued_ = !0,
                !this.delayedAudioAppendQueue_.length)
                    return;
                var o = this.delayedAudioAppendQueue_.slice();
                this.logger_("queuing delayed audio " + o.length + " appendBuffers"),
                this.delayedAudioAppendQueue_.length = 0,
                o.forEach(function(e) {
                    n.appendBuffer.apply(n, e)
                })
            }
        }
        ,
        t.audioBuffered = function() {
            return hs(this.mediaSource, this.audioBuffer) && this.audioBuffer.buffered ? this.audioBuffer.buffered : na.createTimeRange()
        }
        ,
        t.videoBuffered = function() {
            return hs(this.mediaSource, this.videoBuffer) && this.videoBuffer.buffered ? this.videoBuffer.buffered : na.createTimeRange()
        }
        ,
        t.buffered = function() {
            var e = hs(this.mediaSource, this.videoBuffer) ? this.videoBuffer : null
              , t = hs(this.mediaSource, this.audioBuffer) ? this.audioBuffer : null;
            return t && !e ? this.audioBuffered() : e && !t ? this.videoBuffered() : function(e, t) {
                var n = null
                  , i = null
                  , r = 0
                  , a = []
                  , o = [];
                if (!(e && e.length && t && t.length))
                    return na.createTimeRange();
                for (var s = e.length; s--; )
                    a.push({
                        time: e.start(s),
                        type: "start"
                    }),
                    a.push({
                        time: e.end(s),
                        type: "end"
                    });
                for (s = t.length; s--; )
                    a.push({
                        time: t.start(s),
                        type: "start"
                    }),
                    a.push({
                        time: t.end(s),
                        type: "end"
                    });
                for (a.sort(function(e, t) {
                    return e.time - t.time
                }),
                s = 0; s < a.length; s++)
                    "start" === a[s].type ? 2 === ++r && (n = a[s].time) : "end" === a[s].type && 1 === --r && (i = a[s].time),
                    null !== n && null !== i && (o.push([n, i]),
                    i = n = null);
                return na.createTimeRanges(o)
            }(this.audioBuffered(), this.videoBuffered())
        }
        ,
        t.setDuration = function(e, t) {
            void 0 === t && (t = os),
            ds({
                type: "mediaSource",
                sourceUpdater: this,
                action: Ps(e),
                name: "duration",
                doneFn: t
            })
        }
        ,
        t.endOfStream = function(e, t) {
            void 0 === e && (e = null),
            void 0 === t && (t = os),
            "string" != typeof e && (e = void 0),
            ds({
                type: "mediaSource",
                sourceUpdater: this,
                action: ks(e),
                name: "endOfStream",
                doneFn: t
            })
        }
        ,
        t.removeAudio = function(e, t, n) {
            void 0 === n && (n = os),
            this.audioBuffered().length && 0 !== this.audioBuffered().end(0) ? ds({
                type: "audio",
                sourceUpdater: this,
                action: Es(e, t),
                doneFn: n,
                name: "remove"
            }) : n()
        }
        ,
        t.removeVideo = function(e, t, n) {
            void 0 === n && (n = os),
            this.videoBuffered().length && 0 !== this.videoBuffered().end(0) ? ds({
                type: "video",
                sourceUpdater: this,
                action: Es(e, t),
                doneFn: n,
                name: "remove"
            }) : n()
        }
        ,
        t.updating = function() {
            return !(!ls("audio", this) && !ls("video", this))
        }
        ,
        t.audioTimestampOffset = function(e) {
            return void 0 !== e && this.audioBuffer && this.audioTimestampOffset_ !== e && (ds({
                type: "audio",
                sourceUpdater: this,
                action: Cs(e),
                name: "timestampOffset"
            }),
            this.audioTimestampOffset_ = e),
            this.audioTimestampOffset_
        }
        ,
        t.videoTimestampOffset = function(e) {
            return void 0 !== e && this.videoBuffer && this.videoTimestampOffset !== e && (ds({
                type: "video",
                sourceUpdater: this,
                action: Cs(e),
                name: "timestampOffset"
            }),
            this.videoTimestampOffset_ = e),
            this.videoTimestampOffset_
        }
        ,
        t.audioQueueCallback = function(e) {
            this.audioBuffer && ds({
                type: "audio",
                sourceUpdater: this,
                action: Ms(e),
                name: "callback"
            })
        }
        ,
        t.videoQueueCallback = function(e) {
            this.videoBuffer && ds({
                type: "video",
                sourceUpdater: this,
                action: Ms(e),
                name: "callback"
            })
        }
        ,
        t.dispose = function() {
            var t = this;
            this.trigger("dispose"),
            Ts.forEach(function(e) {
                t.abort(e),
                t.canRemoveSourceBuffer() ? t.removeSourceBuffer(e) : t[e + "QueueCallback"](function() {
                    return cs(e, t)
                })
            }),
            this.videoAppendQueued_ = !1,
            this.delayedAudioAppendQueue_.length = 0,
            this.sourceopenListener_ && this.mediaSource.removeEventListener("sourceopen", this.sourceopenListener_),
            this.off()
        }
        ,
        e
    }(na.EventTarget), Ds = new Uint8Array("\n\n".split("").map(function(e) {
        return e.charCodeAt(0)
    })), Ns = function(i) {
        function e(e, t) {
            var n;
            return void 0 === t && (t = {}),
            (n = i.call(this, e, t) || this).mediaSource_ = null,
            n.subtitlesTrack_ = null,
            n.loaderType_ = "subtitle",
            n.featuresNativeTextTracks_ = e.featuresNativeTextTracks,
            n.shouldSaveSegmentTimingInfo_ = !1,
            n
        }
        A.default(e, i);
        var t = e.prototype;
        return t.createTransmuxer_ = function() {
            return null
        }
        ,
        t.buffered_ = function() {
            if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues || !this.subtitlesTrack_.cues.length)
                return na.createTimeRanges();
            var e = this.subtitlesTrack_.cues
              , t = e[0].startTime
              , n = e[e.length - 1].startTime;
            return na.createTimeRanges([[t, n]])
        }
        ,
        t.initSegmentForMap = function(e, t) {
            if (void 0 === t && (t = !1),
            !e)
                return null;
            var n = Wa(e)
              , i = this.initSegments_[n];
            if (t && !i && e.bytes) {
                var r = Ds.byteLength + e.bytes.byteLength
                  , a = new Uint8Array(r);
                a.set(e.bytes),
                a.set(Ds, e.bytes.byteLength),
                this.initSegments_[n] = i = {
                    resolvedUri: e.resolvedUri,
                    byterange: e.byterange,
                    bytes: a
                }
            }
            return i || e
        }
        ,
        t.couldBeginLoading_ = function() {
            return this.playlist_ && this.subtitlesTrack_ && !this.paused()
        }
        ,
        t.init_ = function() {
            return this.state = "READY",
            this.resetEverything(),
            this.monitorBuffer_()
        }
        ,
        t.track = function(e) {
            return void 0 === e || (this.subtitlesTrack_ = e,
            "INIT" === this.state && this.couldBeginLoading_() && this.init_()),
            this.subtitlesTrack_
        }
        ,
        t.remove = function(e, t) {
            Io(e, t, this.subtitlesTrack_)
        }
        ,
        t.fillBuffer_ = function() {
            var e = this
              , t = this.chooseNextRequest_();
            if (t) {
                if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) {
                    return this.syncController_.one("timestampoffset", function() {
                        e.state = "READY",
                        e.paused() || e.monitorBuffer_()
                    }),
                    void (this.state = "WAITING_ON_TIMELINE")
                }
                this.loadSegment_(t)
            }
        }
        ,
        t.timestampOffsetForSegment_ = function() {
            return null
        }
        ,
        t.chooseNextRequest_ = function() {
            return this.skipEmptySegments_(i.prototype.chooseNextRequest_.call(this))
        }
        ,
        t.skipEmptySegments_ = function(e) {
            for (; e && e.segment.empty; ) {
                if (e.mediaIndex + 1 >= e.playlist.segments.length) {
                    e = null;
                    break
                }
                e = this.generateSegmentInfo_({
                    playlist: e.playlist,
                    mediaIndex: e.mediaIndex + 1,
                    startOfSegment: e.startOfSegment + e.duration,
                    isSyncRequest: e.isSyncRequest
                })
            }
            return e
        }
        ,
        t.stopForError = function(e) {
            this.error(e),
            this.state = "READY",
            this.pause(),
            this.trigger("error")
        }
        ,
        t.segmentRequestFinished_ = function(e, t, n) {
            var i = this;
            if (this.subtitlesTrack_) {
                if (this.saveTransferStats_(t.stats),
                !this.pendingSegment_)
                    return this.state = "READY",
                    void (this.mediaRequestsAborted += 1);
                if (e)
                    return e.code === ts && this.handleTimeout_(),
                    e.code === ns ? this.mediaRequestsAborted += 1 : this.mediaRequestsErrored += 1,
                    void this.stopForError(e);
                var r = this.pendingSegment_;
                this.saveBandwidthRelatedStats_(r.duration, t.stats),
                this.state = "APPENDING",
                this.trigger("appending");
                var a = r.segment;
                if (a.map && (a.map.bytes = t.map.bytes),
                r.bytes = t.bytes,
                "function" != typeof C.default.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                    var o, s = function() {
                        i.subtitlesTrack_.tech_.off("vttjsloaded", o),
                        i.stopForError({
                            message: "Error loading vtt.js"
                        })
                    };
                    return o = function() {
                        i.subtitlesTrack_.tech_.off("vttjserror", s),
                        i.segmentRequestFinished_(e, t, n)
                    }
                    ,
                    this.state = "WAITING_ON_VTTJS",
                    this.subtitlesTrack_.tech_.one("vttjsloaded", o),
                    void this.subtitlesTrack_.tech_.one("vttjserror", s)
                }
                a.requested = !0;
                try {
                    this.parseVTTCues_(r)
                } catch (e) {
                    return void this.stopForError({
                        message: e.message
                    })
                }
                if (this.updateTimeMapping_(r, this.syncController_.timelines[r.timeline], this.playlist_),
                r.cues.length ? r.timingInfo = {
                    start: r.cues[0].startTime,
                    end: r.cues[r.cues.length - 1].endTime
                } : r.timingInfo = {
                    start: r.startOfSegment,
                    end: r.startOfSegment + r.duration
                },
                r.isSyncRequest)
                    return this.trigger("syncinfoupdate"),
                    this.pendingSegment_ = null,
                    void (this.state = "READY");
                r.byteLength = r.bytes.byteLength,
                this.mediaSecondsLoaded += a.duration,
                r.cues.forEach(function(e) {
                    i.subtitlesTrack_.addCue(i.featuresNativeTextTracks_ ? new C.default.VTTCue(e.startTime,e.endTime,e.text) : e)
                }),
                function(t) {
                    var e = t.cues;
                    if (e)
                        for (var n = 0; n < e.length; n++) {
                            for (var i = [], r = 0, a = 0; a < e.length; a++)
                                e[n].startTime === e[a].startTime && e[n].endTime === e[a].endTime && e[n].text === e[a].text && 1 < ++r && i.push(e[a]);
                            i.length && i.forEach(function(e) {
                                return t.removeCue(e)
                            })
                        }
                }(this.subtitlesTrack_),
                this.handleAppendsDone_()
            } else
                this.state = "READY"
        }
        ,
        t.handleData_ = function() {}
        ,
        t.updateTimingInfoEnd_ = function() {}
        ,
        t.parseVTTCues_ = function(t) {
            var e, n = !1;
            "function" == typeof C.default.TextDecoder ? e = new C.default.TextDecoder("utf8") : (e = C.default.WebVTT.StringDecoder(),
            n = !0);
            var i = new C.default.WebVTT.Parser(C.default,C.default.vttjs,e);
            if (t.cues = [],
            t.timestampmap = {
                MPEGTS: 0,
                LOCAL: 0
            },
            i.oncue = t.cues.push.bind(t.cues),
            i.ontimestampmap = function(e) {
                t.timestampmap = e
            }
            ,
            i.onparsingerror = function(e) {
                na.log.warn("Error encountered when parsing cues: " + e.message)
            }
            ,
            t.segment.map) {
                var r = t.segment.map.bytes;
                n && (r = fs(r)),
                i.parse(r)
            }
            var a = t.bytes;
            n && (a = fs(a)),
            i.parse(a),
            i.flush()
        }
        ,
        t.updateTimeMapping_ = function(e, t, n) {
            var i = e.segment;
            if (t)
                if (e.cues.length) {
                    var r = e.timestampmap
                      , a = r.MPEGTS / T.ONE_SECOND_IN_TS - r.LOCAL + t.mapping;
                    if (e.cues.forEach(function(e) {
                        e.startTime += a,
                        e.endTime += a
                    }),
                    !n.syncInfo) {
                        var o = e.cues[0].startTime
                          , s = e.cues[e.cues.length - 1].startTime;
                        n.syncInfo = {
                            mediaSequence: n.mediaSequence + e.mediaIndex,
                            time: Math.min(o, s - i.duration)
                        }
                    }
                } else
                    i.empty = !0
        }
        ,
        e
    }(as), Fs = [{
        name: "VOD",
        run: function(e, t, n, i, r) {
            if (n === 1 / 0)
                return null;
            return {
                time: 0,
                segmentIndex: 0,
                partIndex: null
            }
        }
    }, {
        name: "ProgramDateTime",
        run: function(e, t, n, i, r) {
            if (!Object.keys(e.timelineToDatetimeMappings).length)
                return null;
            var a = null
              , o = null
              , s = pa(t);
            r = r || 0;
            for (var l = 0; l < s.length; l++) {
                var u = s[t.endList || 0 === r ? l : s.length - (l + 1)]
                  , c = u.segment
                  , h = e.timelineToDatetimeMappings[c.timeline];
                if (h && c.dateTimeObject) {
                    var d = c.dateTimeObject.getTime() / 1e3 + h;
                    if (c.parts && "number" == typeof u.partIndex)
                        for (var p = 0; p < u.partIndex; p++)
                            d += c.parts[p].duration;
                    var f = Math.abs(r - d);
                    if (null !== o && (0 === f || o < f))
                        break;
                    o = f,
                    a = {
                        time: d,
                        segmentIndex: u.segmentIndex,
                        partIndex: u.partIndex
                    }
                }
            }
            return a
        }
    }, {
        name: "Segment",
        run: function(e, t, n, i, r) {
            var a = null
              , o = null;
            r = r || 0;
            for (var s = pa(t), l = 0; l < s.length; l++) {
                var u = s[t.endList || 0 === r ? l : s.length - (l + 1)]
                  , c = u.segment
                  , h = u.part && u.part.start || c && c.start;
                if (c.timeline === i && void 0 !== h) {
                    var d = Math.abs(r - h);
                    if (null !== o && o < d)
                        break;
                    (!a || null === o || d <= o) && (o = d,
                    a = {
                        time: h,
                        segmentIndex: u.segmentIndex,
                        partIndex: u.partIndex
                    })
                }
            }
            return a
        }
    }, {
        name: "Discontinuity",
        run: function(e, t, n, i, r) {
            var a = null;
            if (r = r || 0,
            t.discontinuityStarts && t.discontinuityStarts.length)
                for (var o = null, s = 0; s < t.discontinuityStarts.length; s++) {
                    var l = t.discontinuityStarts[s]
                      , u = t.discontinuitySequence + s + 1
                      , c = e.discontinuities[u];
                    if (c) {
                        var h = Math.abs(r - c.time);
                        if (null !== o && o < h)
                            break;
                        (!a || null === o || h <= o) && (o = h,
                        a = {
                            time: c.time,
                            segmentIndex: l,
                            partIndex: null
                        })
                    }
                }
            return a
        }
    }, {
        name: "Playlist",
        run: function(e, t, n, i, r) {
            return t.syncInfo ? {
                time: t.syncInfo.time,
                segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence,
                partIndex: null
            } : null
        }
    }], Bs = function(n) {
        function e(e) {
            var t;
            return (t = n.call(this) || this).timelines = [],
            t.discontinuities = [],
            t.timelineToDatetimeMappings = {},
            t.logger_ = oa("SyncController"),
            t
        }
        A.default(e, n);
        var t = e.prototype;
        return t.getSyncPoint = function(e, t, n, i) {
            var r = this.runStrategies_(e, t, n, i);
            return r.length ? this.selectSyncPoint_(r, {
                key: "time",
                value: i
            }) : null
        }
        ,
        t.getExpiredTime = function(e, t) {
            if (!e || !e.segments)
                return null;
            var n = this.runStrategies_(e, t, e.discontinuitySequence, 0);
            if (!n.length)
                return null;
            var i = this.selectSyncPoint_(n, {
                key: "segmentIndex",
                value: 0
            });
            return 0 < i.segmentIndex && (i.time *= -1),
            Math.abs(i.time + ba({
                defaultDuration: e.targetDuration,
                durationList: e.segments,
                startIndex: i.segmentIndex,
                endIndex: 0
            }))
        }
        ,
        t.runStrategies_ = function(e, t, n, i) {
            for (var r = [], a = 0; a < Fs.length; a++) {
                var o = Fs[a]
                  , s = o.run(this, e, t, n, i);
                s && (s.strategy = o.name,
                r.push({
                    strategy: o.name,
                    syncPoint: s
                }))
            }
            return r
        }
        ,
        t.selectSyncPoint_ = function(e, t) {
            for (var n = e[0].syncPoint, i = Math.abs(e[0].syncPoint[t.key] - t.value), r = e[0].strategy, a = 1; a < e.length; a++) {
                var o = Math.abs(e[a].syncPoint[t.key] - t.value);
                o < i && (i = o,
                n = e[a].syncPoint,
                r = e[a].strategy)
            }
            return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + r + "]: [time:" + n.time + ", segmentIndex:" + n.segmentIndex + ("number" == typeof n.partIndex ? ",partIndex:" + n.partIndex : "") + "]"),
            n
        }
        ,
        t.saveExpiredSegmentInfo = function(e, t) {
            for (var n = t.mediaSequence - e.mediaSequence - 1; 0 <= n; n--) {
                var i = e.segments[n];
                if (i && void 0 !== i.start) {
                    t.syncInfo = {
                        mediaSequence: e.mediaSequence + n,
                        time: i.start
                    },
                    this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"),
                    this.trigger("syncinfoupdate");
                    break
                }
            }
        }
        ,
        t.setDateTimeMappingForStart = function(e) {
            if (this.timelineToDatetimeMappings = {},
            e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                var t = e.segments[0]
                  , n = t.dateTimeObject.getTime() / 1e3;
                this.timelineToDatetimeMappings[t.timeline] = -n
            }
        }
        ,
        t.saveSegmentTimingInfo = function(e) {
            var t = e.segmentInfo
              , n = e.shouldSaveTimelineMapping
              , i = this.calculateSegmentTimeMapping_(t, t.timingInfo, n)
              , r = t.segment;
            i && (this.saveDiscontinuitySyncInfo_(t),
            t.playlist.syncInfo || (t.playlist.syncInfo = {
                mediaSequence: t.playlist.mediaSequence + t.mediaIndex,
                time: r.start
            }));
            var a = r.dateTimeObject;
            r.discontinuity && n && a && (this.timelineToDatetimeMappings[r.timeline] = -a.getTime() / 1e3)
        }
        ,
        t.timestampOffsetForTimeline = function(e) {
            return void 0 === this.timelines[e] ? null : this.timelines[e].time
        }
        ,
        t.mappingForTimeline = function(e) {
            return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
        }
        ,
        t.calculateSegmentTimeMapping_ = function(e, t, n) {
            var i, r, a = e.segment, o = e.part, s = this.timelines[e.timeline];
            if ("number" == typeof e.timestampOffset)
                s = {
                    time: e.startOfSegment,
                    mapping: e.startOfSegment - t.start
                },
                n && (this.timelines[e.timeline] = s,
                this.trigger("timestampoffset"),
                this.logger_("time mapping for timeline " + e.timeline + ": [time: " + s.time + "] [mapping: " + s.mapping + "]")),
                i = e.startOfSegment,
                r = t.end + s.mapping;
            else {
                if (!s)
                    return !1;
                i = t.start + s.mapping,
                r = t.end + s.mapping
            }
            return o && (o.start = i,
            o.end = r),
            (!a.start || i < a.start) && (a.start = i),
            a.end = r,
            !0
        }
        ,
        t.saveDiscontinuitySyncInfo_ = function(e) {
            var t = e.playlist
              , n = e.segment;
            if (n.discontinuity)
                this.discontinuities[n.timeline] = {
                    time: n.start,
                    accuracy: 0
                };
            else if (t.discontinuityStarts && t.discontinuityStarts.length)
                for (var i = 0; i < t.discontinuityStarts.length; i++) {
                    var r = t.discontinuityStarts[i]
                      , a = t.discontinuitySequence + i + 1
                      , o = r - e.mediaIndex
                      , s = Math.abs(o);
                    if (!this.discontinuities[a] || this.discontinuities[a].accuracy > s) {
                        var l = void 0;
                        l = o < 0 ? n.start - ba({
                            defaultDuration: t.targetDuration,
                            durationList: t.segments,
                            startIndex: e.mediaIndex,
                            endIndex: r
                        }) : n.end + ba({
                            defaultDuration: t.targetDuration,
                            durationList: t.segments,
                            startIndex: e.mediaIndex + 1,
                            endIndex: r
                        }),
                        this.discontinuities[a] = {
                            time: l,
                            accuracy: s
                        }
                    }
                }
        }
        ,
        t.dispose = function() {
            this.trigger("dispose"),
            this.off()
        }
        ,
        e
    }(na.EventTarget), Us = function(t) {
        function e() {
            var e;
            return (e = t.call(this) || this).pendingTimelineChanges_ = {},
            e.lastTimelineChanges_ = {},
            e
        }
        A.default(e, t);
        var n = e.prototype;
        return n.clearPendingTimelineChange = function(e) {
            this.pendingTimelineChanges_[e] = null,
            this.trigger("pendingtimelinechange")
        }
        ,
        n.pendingTimelineChange = function(e) {
            var t = e.type
              , n = e.from
              , i = e.to;
            return "number" == typeof n && "number" == typeof i && (this.pendingTimelineChanges_[t] = {
                type: t,
                from: n,
                to: i
            },
            this.trigger("pendingtimelinechange")),
            this.pendingTimelineChanges_[t]
        }
        ,
        n.lastTimelineChange = function(e) {
            var t = e.type
              , n = e.from
              , i = e.to;
            return "number" == typeof n && "number" == typeof i && (this.lastTimelineChanges_[t] = {
                type: t,
                from: n,
                to: i
            },
            delete this.pendingTimelineChanges_[t],
            this.trigger("timelinechange")),
            this.lastTimelineChanges_[t]
        }
        ,
        n.dispose = function() {
            this.trigger("dispose"),
            this.pendingTimelineChanges_ = {},
            this.lastTimelineChanges_ = {},
            this.off()
        }
        ,
        e
    }(na.EventTarget), js = eo(to(no(function() {
        function e(e, t, n) {
            return e(n = {
                path: t,
                exports: {},
                require: function(e, t) {
                    return function() {
                        throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")
                    }(null == t && n.path)
                }
            }, n.exports),
            n.exports
        }
        var t = e(function(e) {
            function i(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
            }
            e.exports = function(e, t, n) {
                return t && i(e.prototype, t),
                n && i(e, n),
                e
            }
            ,
            e.exports.default = e.exports,
            e.exports.__esModule = !0
        })
          , n = e(function(n) {
            function i(e, t) {
                return n.exports = i = Object.setPrototypeOf || function(e, t) {
                    return e.__proto__ = t,
                    e
                }
                ,
                n.exports.default = n.exports,
                n.exports.__esModule = !0,
                i(e, t)
            }
            n.exports = i,
            n.exports.default = n.exports,
            n.exports.__esModule = !0
        })
          , i = e(function(e) {
            e.exports = function(e, t) {
                e.prototype = Object.create(t.prototype),
                e.prototype.constructor = e,
                n(e, t)
            }
            ,
            e.exports.default = e.exports,
            e.exports.__esModule = !0
        })
          , r = function() {
            function e() {
                this.listeners = {}
            }
            var t = e.prototype;
            return t.on = function(e, t) {
                this.listeners[e] || (this.listeners[e] = []),
                this.listeners[e].push(t)
            }
            ,
            t.off = function(e, t) {
                if (!this.listeners[e])
                    return !1;
                var n = this.listeners[e].indexOf(t);
                return this.listeners[e] = this.listeners[e].slice(0),
                this.listeners[e].splice(n, 1),
                -1 < n
            }
            ,
            t.trigger = function(e, t) {
                var n = this.listeners[e];
                if (n)
                    if (2 === arguments.length)
                        for (var i = n.length, r = 0; r < i; ++r)
                            n[r].call(this, t);
                    else
                        for (var a = Array.prototype.slice.call(arguments, 1), o = n.length, s = 0; s < o; ++s)
                            n[s].apply(this, a)
            }
            ,
            t.dispose = function() {
                this.listeners = {}
            }
            ,
            t.pipe = function(t) {
                this.on("data", function(e) {
                    t.push(e)
                })
            }
            ,
            e
        }();
        function g(e) {
            return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
        }
        /*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */
        var c = null
          , v = function() {
            function e(e) {
                var t, n, i;
                c = c || function() {
                    var e, t, n, i, r, a, o, s, l = [[[], [], [], [], []], [[], [], [], [], []]], u = l[0], c = l[1], h = u[4], d = c[4], p = [], f = [];
                    for (e = 0; e < 256; e++)
                        f[(p[e] = e << 1 ^ 283 * (e >> 7)) ^ e] = e;
                    for (t = n = 0; !h[t]; t ^= i || 1,
                    n = f[n] || 1)
                        for (a = (a = n ^ n << 1 ^ n << 2 ^ n << 3 ^ n << 4) >> 8 ^ 255 & a ^ 99,
                        s = 16843009 * p[r = p[i = p[d[h[t] = a] = t]]] ^ 65537 * r ^ 257 * i ^ 16843008 * t,
                        o = 257 * p[a] ^ 16843008 * a,
                        e = 0; e < 4; e++)
                            u[e][t] = o = o << 24 ^ o >>> 8,
                            c[e][a] = s = s << 24 ^ s >>> 8;
                    for (e = 0; e < 5; e++)
                        u[e] = u[e].slice(0),
                        c[e] = c[e].slice(0);
                    return l
                }(),
                this._tables = [[c[0][0].slice(), c[0][1].slice(), c[0][2].slice(), c[0][3].slice(), c[0][4].slice()], [c[1][0].slice(), c[1][1].slice(), c[1][2].slice(), c[1][3].slice(), c[1][4].slice()]];
                var r = this._tables[0][4]
                  , a = this._tables[1]
                  , o = e.length
                  , s = 1;
                if (4 !== o && 6 !== o && 8 !== o)
                    throw new Error("Invalid aes key size");
                var l = e.slice(0)
                  , u = [];
                for (this._key = [l, u],
                t = o; t < 4 * o + 28; t++)
                    i = l[t - 1],
                    (t % o == 0 || 8 === o && t % o == 4) && (i = r[i >>> 24] << 24 ^ r[i >> 16 & 255] << 16 ^ r[i >> 8 & 255] << 8 ^ r[255 & i],
                    t % o == 0 && (i = i << 8 ^ i >>> 24 ^ s << 24,
                    s = s << 1 ^ 283 * (s >> 7))),
                    l[t] = l[t - o] ^ i;
                for (n = 0; t; n++,
                t--)
                    i = l[3 & n ? t : t - 4],
                    u[n] = t <= 4 || n < 4 ? i : a[0][r[i >>> 24]] ^ a[1][r[i >> 16 & 255]] ^ a[2][r[i >> 8 & 255]] ^ a[3][r[255 & i]]
            }
            return e.prototype.decrypt = function(e, t, n, i, r, a) {
                var o, s, l, u, c = this._key[1], h = e ^ c[0], d = i ^ c[1], p = n ^ c[2], f = t ^ c[3], m = c.length / 4 - 2, g = 4, v = this._tables[1], y = v[0], b = v[1], _ = v[2], w = v[3], x = v[4];
                for (u = 0; u < m; u++)
                    o = y[h >>> 24] ^ b[d >> 16 & 255] ^ _[p >> 8 & 255] ^ w[255 & f] ^ c[g],
                    s = y[d >>> 24] ^ b[p >> 16 & 255] ^ _[f >> 8 & 255] ^ w[255 & h] ^ c[g + 1],
                    l = y[p >>> 24] ^ b[f >> 16 & 255] ^ _[h >> 8 & 255] ^ w[255 & d] ^ c[g + 2],
                    f = y[f >>> 24] ^ b[h >> 16 & 255] ^ _[d >> 8 & 255] ^ w[255 & p] ^ c[g + 3],
                    g += 4,
                    h = o,
                    d = s,
                    p = l;
                for (u = 0; u < 4; u++)
                    r[(3 & -u) + a] = x[h >>> 24] << 24 ^ x[d >> 16 & 255] << 16 ^ x[p >> 8 & 255] << 8 ^ x[255 & f] ^ c[g++],
                    o = h,
                    h = d,
                    d = p,
                    p = f,
                    f = o
            }
            ,
            e
        }()
          , u = function(t) {
            function e() {
                var e;
                return (e = t.call(this, r) || this).jobs = [],
                e.delay = 1,
                e.timeout_ = null,
                e
            }
            i(e, t);
            var n = e.prototype;
            return n.processJob_ = function() {
                this.jobs.shift()(),
                this.jobs.length ? this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay) : this.timeout_ = null
            }
            ,
            n.push = function(e) {
                this.jobs.push(e),
                this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
            }
            ,
            e
        }(r)
          , a = function() {
            function l(e, t, n, i) {
                var r = l.STEP
                  , a = new Int32Array(e.buffer)
                  , o = new Uint8Array(e.byteLength)
                  , s = 0;
                for (this.asyncStream_ = new u,
                this.asyncStream_.push(this.decryptChunk_(a.subarray(s, s + r), t, n, o)),
                s = r; s < a.length; s += r)
                    n = new Uint32Array([g(a[s - 4]), g(a[s - 3]), g(a[s - 2]), g(a[s - 1])]),
                    this.asyncStream_.push(this.decryptChunk_(a.subarray(s, s + r), t, n, o));
                this.asyncStream_.push(function() {
                    i(null, /*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
                    function(e) {
                        return e.subarray(0, e.byteLength - e[e.byteLength - 1])
                    }(o))
                })
            }
            return l.prototype.decryptChunk_ = function(t, n, i, r) {
                return function() {
                    var e = function(e, t, n) {
                        var i, r, a, o, s, l, u, c, h, d = new Int32Array(e.buffer,e.byteOffset,e.byteLength >> 2), p = new v(Array.prototype.slice.call(t)), f = new Uint8Array(e.byteLength), m = new Int32Array(f.buffer);
                        for (i = n[0],
                        r = n[1],
                        a = n[2],
                        o = n[3],
                        h = 0; h < d.length; h += 4)
                            s = g(d[h]),
                            l = g(d[h + 1]),
                            u = g(d[h + 2]),
                            c = g(d[h + 3]),
                            p.decrypt(s, l, u, c, m, h),
                            m[h] = g(m[h] ^ i),
                            m[h + 1] = g(m[h + 1] ^ r),
                            m[h + 2] = g(m[h + 2] ^ a),
                            m[h + 3] = g(m[h + 3] ^ o),
                            i = s,
                            r = l,
                            a = u,
                            o = c;
                        return f
                    }(t, n, i);
                    r.set(e, t.byteOffset)
                }
            }
            ,
            t(l, null, [{
                key: "STEP",
                get: function() {
                    return 32e3
                }
            }]),
            l
        }();
        self.onmessage = function(e) {
            var n = e.data
              , t = new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength)
              , i = new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength / 4)
              , r = new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength / 4);
            new a(t,i,r,function(e, t) {
                self.postMessage(function(n) {
                    var i = {};
                    return Object.keys(n).forEach(function(e) {
                        var t = n[e];
                        ArrayBuffer.isView(t) ? i[e] = {
                            bytes: t.buffer,
                            byteOffset: t.byteOffset,
                            byteLength: t.byteLength
                        } : i[e] = t
                    }),
                    i
                }({
                    source: n.source,
                    decrypted: t
                }), [t.buffer])
            }
            )
        }
    }))), zs = {
        AUDIO: function(l, u) {
            return function() {
                var e = u.segmentLoaders[l]
                  , t = u.mediaTypes[l]
                  , n = u.blacklistCurrentPlaylist;
                gs(e, t);
                var i = t.activeTrack()
                  , r = t.activeGroup()
                  , a = (r.filter(function(e) {
                    return e.default
                })[0] || r[0]).id
                  , o = t.tracks[a];
                if (i !== o) {
                    for (var s in na.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),
                    t.tracks)
                        t.tracks[s].enabled = t.tracks[s] === o;
                    t.onTrackChanged()
                } else
                    n({
                        message: "Problem encountered loading the default audio track."
                    })
            }
        },
        SUBTITLES: function(i, r) {
            return function() {
                var e = r.segmentLoaders[i]
                  , t = r.mediaTypes[i];
                na.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),
                gs(e, t);
                var n = t.activeTrack();
                n && (n.mode = "disabled"),
                t.onTrackChanged()
            }
        }
    }, Hs = {
        AUDIO: function(e, t, n) {
            if (t) {
                var i = n.tech
                  , r = n.requestOptions
                  , a = n.segmentLoaders[e];
                t.on("loadedmetadata", function() {
                    var e = t.media();
                    a.playlist(e, r),
                    (!i.paused() || e.endList && "none" !== i.preload()) && a.load()
                }),
                t.on("loadedplaylist", function() {
                    a.playlist(t.media(), r),
                    i.paused() || a.load()
                }),
                t.on("error", zs[e](e, n))
            }
        },
        SUBTITLES: function(e, t, n) {
            var i = n.tech
              , r = n.requestOptions
              , a = n.segmentLoaders[e]
              , o = n.mediaTypes[e];
            t.on("loadedmetadata", function() {
                var e = t.media();
                a.playlist(e, r),
                a.track(o.activeTrack()),
                (!i.paused() || e.endList && "none" !== i.preload()) && a.load()
            }),
            t.on("loadedplaylist", function() {
                a.playlist(t.media(), r),
                i.paused() || a.load()
            }),
            t.on("error", zs[e](e, n))
        }
    }, Vs = {
        AUDIO: function(e, t) {
            var n, i, r = t.vhs, a = t.sourceType, o = t.segmentLoaders[e], s = t.requestOptions, l = t.master.mediaGroups, u = t.mediaTypes[e], c = u.groups, h = u.tracks, d = u.logger_, p = t.masterPlaylistLoader, f = ka(p.master);
            for (var m in l[e] && 0 !== Object.keys(l[e]).length || (l[e] = {
                main: {
                    default: {
                        default: !0
                    }
                }
            },
            f && (l[e].main.default.playlists = p.master.playlists)),
            l[e])
                for (var g in c[m] || (c[m] = []),
                l[e][m]) {
                    var v = l[e][m][g]
                      , y = void 0;
                    if (y = f ? (d("AUDIO group '" + m + "' label '" + g + "' is a master playlist"),
                    v.isMasterPlaylist = !0,
                    null) : "vhs-json" === a && v.playlists ? new Vo(v.playlists[0],r,s) : v.resolvedUri ? new Vo(v.resolvedUri,r,s) : v.playlists && "dash" === a ? new Xo(v.playlists[0],r,s,p) : null,
                    v = na.mergeOptions({
                        id: g,
                        playlistLoader: y
                    }, v),
                    Hs[e](e, v.playlistLoader, t),
                    c[m].push(v),
                    void 0 === h[g]) {
                        var b = new na.AudioTrack({
                            id: g,
                            kind: (n = v,
                            i = void 0,
                            i = n.default ? "main" : "alternative",
                            n.characteristics && 0 <= n.characteristics.indexOf("public.accessibility.describes-video") && (i = "main-desc"),
                            i),
                            enabled: !1,
                            language: v.language,
                            default: v.default,
                            label: g
                        });
                        h[g] = b
                    }
                }
            o.on("error", zs[e](e, t))
        },
        SUBTITLES: function(e, t) {
            var n = t.tech
              , i = t.vhs
              , r = t.sourceType
              , a = t.segmentLoaders[e]
              , o = t.requestOptions
              , s = t.master.mediaGroups
              , l = t.mediaTypes[e]
              , u = l.groups
              , c = l.tracks
              , h = t.masterPlaylistLoader;
            for (var d in s[e])
                for (var p in u[d] || (u[d] = []),
                s[e][d])
                    if (!s[e][d][p].forced) {
                        var f = s[e][d][p]
                          , m = void 0;
                        if ("hls" === r)
                            m = new Vo(f.resolvedUri,i,o);
                        else if ("dash" === r) {
                            if (!f.playlists.filter(function(e) {
                                return e.excludeUntil !== 1 / 0
                            }).length)
                                return;
                            m = new Xo(f.playlists[0],i,o,h)
                        } else
                            "vhs-json" === r && (m = new Vo(f.playlists ? f.playlists[0] : f.resolvedUri,i,o));
                        if (f = na.mergeOptions({
                            id: p,
                            playlistLoader: m
                        }, f),
                        Hs[e](e, f.playlistLoader, t),
                        u[d].push(f),
                        void 0 === c[p]) {
                            var g = n.addRemoteTextTrack({
                                id: p,
                                kind: "subtitles",
                                default: f.default && f.autoselect,
                                language: f.language,
                                label: p
                            }, !1).track;
                            c[p] = g
                        }
                    }
            a.on("error", zs[e](e, t))
        },
        "CLOSED-CAPTIONS": function(e, t) {
            var n = t.tech
              , i = t.master.mediaGroups
              , r = t.mediaTypes[e]
              , a = r.groups
              , o = r.tracks;
            for (var s in i[e])
                for (var l in a[s] || (a[s] = []),
                i[e][s]) {
                    var u = i[e][s][l];
                    if (/^(?:CC|SERVICE)/.test(u.instreamId)) {
                        var c = n.options_.vhs && n.options_.vhs.captionServices || {}
                          , h = {
                            label: l,
                            language: u.language,
                            instreamId: u.instreamId,
                            default: u.default && u.autoselect
                        };
                        if (c[h.instreamId] && (h = na.mergeOptions(h, c[h.instreamId])),
                        void 0 === h.default && delete h.default,
                        a[s].push(na.mergeOptions({
                            id: l
                        }, u)),
                        void 0 === o[l]) {
                            var d = n.addRemoteTextTrack({
                                id: h.instreamId,
                                kind: "captions",
                                default: h.default,
                                language: h.language,
                                label: h.label
                            }, !1).track;
                            o[l] = d
                        }
                    }
                }
        }
    }, Gs = {
        AUDIO: function(n, i) {
            return function() {
                var e = i.mediaTypes[n].tracks;
                for (var t in e)
                    if (e[t].enabled)
                        return e[t];
                return null
            }
        },
        SUBTITLES: function(n, i) {
            return function() {
                var e = i.mediaTypes[n].tracks;
                for (var t in e)
                    if ("showing" === e[t].mode || "hidden" === e[t].mode)
                        return e[t];
                return null
            }
        }
    }, Ws = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred", "mediaAppends"], qs = function(y) {
        function e(e) {
            var t;
            t = y.call(this) || this;
            var n = e.src
              , i = e.handleManifestRedirects
              , r = e.withCredentials
              , a = e.tech
              , o = e.bandwidth
              , s = e.externVhs
              , l = e.useCueTags
              , u = e.blacklistDuration
              , c = e.enableLowInitialPlaylist
              , h = e.sourceType
              , d = e.cacheEncryptionKeys
              , p = e.experimentalBufferBasedABR
              , f = e.experimentalLeastPixelDiffSelector;
            if (!n)
                throw new Error("A non-empty playlist URL or JSON manifest string is required");
            var m = e.maxPlaylistRetries;
            null == m && (m = 1 / 0),
            xs = s,
            t.experimentalBufferBasedABR = Boolean(p),
            t.experimentalLeastPixelDiffSelector = Boolean(f),
            t.withCredentials = r,
            t.tech_ = a,
            t.vhs_ = a.vhs,
            t.sourceType_ = h,
            t.useCueTags_ = l,
            t.blacklistDuration = u,
            t.maxPlaylistRetries = m,
            t.enableLowInitialPlaylist = c,
            t.useCueTags_ && (t.cueTagsTrack_ = t.tech_.addTextTrack("metadata", "ad-cues"),
            t.cueTagsTrack_.inBandMetadataTrackDispatchType = ""),
            t.requestOptions_ = {
                withCredentials: r,
                handleManifestRedirects: i,
                maxPlaylistRetries: m,
                timeout: null
            },
            t.on("error", t.pauseLoading),
            t.mediaTypes_ = function() {
                var t = {};
                return ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(e) {
                    t[e] = {
                        groups: {},
                        tracks: {},
                        activePlaylistLoader: null,
                        activeGroup: os,
                        activeTrack: os,
                        getActiveGroup: os,
                        onGroupChanged: os,
                        onTrackChanged: os,
                        lastTrack_: null,
                        logger_: oa("MediaGroups[" + e + "]")
                    }
                }),
                t
            }(),
            t.mediaSource = new C.default.MediaSource,
            t.handleDurationChange_ = t.handleDurationChange_.bind(P.default(t)),
            t.handleSourceOpen_ = t.handleSourceOpen_.bind(P.default(t)),
            t.handleSourceEnded_ = t.handleSourceEnded_.bind(P.default(t)),
            t.mediaSource.addEventListener("durationchange", t.handleDurationChange_),
            t.mediaSource.addEventListener("sourceopen", t.handleSourceOpen_),
            t.mediaSource.addEventListener("sourceended", t.handleSourceEnded_),
            t.seekable_ = na.createTimeRanges(),
            t.hasPlayed_ = !1,
            t.syncController_ = new Bs(e),
            t.segmentMetadataTrack_ = a.addRemoteTextTrack({
                kind: "metadata",
                label: "segment-metadata"
            }, !1).track,
            t.decrypter_ = new js,
            t.sourceUpdater_ = new Rs(t.mediaSource),
            t.inbandTextTracks_ = {},
            t.timelineChangeController_ = new Us;
            var g = {
                vhs: t.vhs_,
                parse708captions: e.parse708captions,
                mediaSource: t.mediaSource,
                currentTime: t.tech_.currentTime.bind(t.tech_),
                seekable: function() {
                    return t.seekable()
                },
                seeking: function() {
                    return t.tech_.seeking()
                },
                duration: function() {
                    return t.duration()
                },
                hasPlayed: function() {
                    return t.hasPlayed_
                },
                goalBufferLength: function() {
                    return t.goalBufferLength()
                },
                bandwidth: o,
                syncController: t.syncController_,
                decrypter: t.decrypter_,
                sourceType: t.sourceType_,
                inbandTextTracks: t.inbandTextTracks_,
                cacheEncryptionKeys: d,
                sourceUpdater: t.sourceUpdater_,
                timelineChangeController: t.timelineChangeController_,
                experimentalExactManifestTimings: e.experimentalExactManifestTimings
            };
            t.masterPlaylistLoader_ = "dash" === t.sourceType_ ? new Xo(n,t.vhs_,t.requestOptions_) : new Vo(n,t.vhs_,t.requestOptions_),
            t.setupMasterPlaylistLoaderListeners_(),
            t.mainSegmentLoader_ = new as(na.mergeOptions(g, {
                segmentMetadataTrack: t.segmentMetadataTrack_,
                loaderType: "main"
            }),e),
            t.audioSegmentLoader_ = new as(na.mergeOptions(g, {
                loaderType: "audio"
            }),e),
            t.subtitleSegmentLoader_ = new Ns(na.mergeOptions(g, {
                loaderType: "vtt",
                featuresNativeTextTracks: t.tech_.featuresNativeTextTracks
            }),e),
            t.setupSegmentLoaderListeners_(),
            t.experimentalBufferBasedABR && (t.masterPlaylistLoader_.one("loadedplaylist", function() {
                return t.startABRTimer_()
            }),
            t.tech_.on("pause", function() {
                return t.stopABRTimer_()
            }),
            t.tech_.on("play", function() {
                return t.startABRTimer_()
            })),
            Ws.forEach(function(e) {
                t[e + "_"] = function(e) {
                    return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
                }
                .bind(P.default(t), e)
            }),
            t.logger_ = oa("MPC"),
            t.triggeredFmp4Usage = !1,
            "none" === t.tech_.preload() ? (t.loadOnPlay_ = function() {
                t.loadOnPlay_ = null,
                t.masterPlaylistLoader_.load()
            }
            ,
            t.tech_.one("play", t.loadOnPlay_)) : t.masterPlaylistLoader_.load(),
            t.timeToLoadedData__ = -1,
            t.mainAppendsToLoadedData__ = -1,
            t.audioAppendsToLoadedData__ = -1;
            var v = "none" === t.tech_.preload() ? "play" : "loadstart";
            return t.tech_.one(v, function() {
                var e = Date.now();
                t.tech_.one("loadeddata", function() {
                    t.timeToLoadedData__ = Date.now() - e,
                    t.mainAppendsToLoadedData__ = t.mainSegmentLoader_.mediaAppends,
                    t.audioAppendsToLoadedData__ = t.audioSegmentLoader_.mediaAppends
                })
            }),
            t
        }
        A.default(e, y);
        var t = e.prototype;
        return t.mainAppendsToLoadedData_ = function() {
            return this.mainAppendsToLoadedData__
        }
        ,
        t.audioAppendsToLoadedData_ = function() {
            return this.audioAppendsToLoadedData__
        }
        ,
        t.appendsToLoadedData_ = function() {
            var e = this.mainAppendsToLoadedData_()
              , t = this.audioAppendsToLoadedData_();
            return -1 === e || -1 === t ? -1 : e + t
        }
        ,
        t.timeToLoadedData_ = function() {
            return this.timeToLoadedData__
        }
        ,
        t.checkABR_ = function() {
            var e = this.selectPlaylist();
            e && this.shouldSwitchToMedia_(e) && this.switchMedia_(e, "abr")
        }
        ,
        t.switchMedia_ = function(e, t, n) {
            var i = this.media()
              , r = i && (i.id || i.uri)
              , a = e.id || e.uri;
            r && r !== a && (this.logger_("switch media " + r + " -> " + a + " from " + t),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-rendition-change-" + t
            })),
            this.masterPlaylistLoader_.media(e, n)
        }
        ,
        t.startABRTimer_ = function() {
            var e = this;
            this.stopABRTimer_(),
            this.abrTimer_ = C.default.setInterval(function() {
                return e.checkABR_()
            }, 250)
        }
        ,
        t.stopABRTimer_ = function() {
            this.tech_.scrubbing && this.tech_.scrubbing() || (C.default.clearInterval(this.abrTimer_),
            this.abrTimer_ = null)
        }
        ,
        t.getAudioTrackPlaylists_ = function() {
            var e = this.master()
              , t = e && e.playlists || [];
            if (!e || !e.mediaGroups || !e.mediaGroups.AUDIO)
                return t;
            var n, i = e.mediaGroups.AUDIO, r = Object.keys(i);
            if (Object.keys(this.mediaTypes_.AUDIO.groups).length)
                n = this.mediaTypes_.AUDIO.activeTrack();
            else {
                var a = i.main || r.length && i[r[0]];
                for (var o in a)
                    if (a[o].default) {
                        n = {
                            label: o
                        };
                        break
                    }
            }
            if (!n)
                return t;
            var s = [];
            for (var l in i)
                if (i[l][n.label]) {
                    var u = i[l][n.label];
                    if (u.playlists && u.playlists.length)
                        s.push.apply(s, u.playlists);
                    else if (u.uri)
                        s.push(u);
                    else if (e.playlists.length)
                        for (var c = 0; c < e.playlists.length; c++) {
                            var h = e.playlists[c];
                            h.attributes && h.attributes.AUDIO && h.attributes.AUDIO === l && s.push(h)
                        }
                }
            return s.length ? s : t
        }
        ,
        t.setupMasterPlaylistLoaderListeners_ = function() {
            var n = this;
            this.masterPlaylistLoader_.on("loadedmetadata", function() {
                var e = n.masterPlaylistLoader_.media()
                  , t = 1.5 * e.targetDuration * 1e3;
                Ea(n.masterPlaylistLoader_.master, n.masterPlaylistLoader_.media()) ? n.requestOptions_.timeout = 0 : n.requestOptions_.timeout = t,
                e.endList && "none" !== n.tech_.preload() && (n.mainSegmentLoader_.playlist(e, n.requestOptions_),
                n.mainSegmentLoader_.load()),
                bs({
                    sourceType: n.sourceType_,
                    segmentLoaders: {
                        AUDIO: n.audioSegmentLoader_,
                        SUBTITLES: n.subtitleSegmentLoader_,
                        main: n.mainSegmentLoader_
                    },
                    tech: n.tech_,
                    requestOptions: n.requestOptions_,
                    masterPlaylistLoader: n.masterPlaylistLoader_,
                    vhs: n.vhs_,
                    master: n.master(),
                    mediaTypes: n.mediaTypes_,
                    blacklistCurrentPlaylist: n.blacklistCurrentPlaylist.bind(n)
                }),
                n.triggerPresenceUsage_(n.master(), e),
                n.setupFirstPlay(),
                !n.mediaTypes_.AUDIO.activePlaylistLoader || n.mediaTypes_.AUDIO.activePlaylistLoader.media() ? n.trigger("selectedinitialmedia") : n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata", function() {
                    n.trigger("selectedinitialmedia")
                })
            }),
            this.masterPlaylistLoader_.on("loadedplaylist", function() {
                n.loadOnPlay_ && n.tech_.off("play", n.loadOnPlay_);
                var e = n.masterPlaylistLoader_.media();
                if (!e) {
                    var t;
                    if (n.excludeUnsupportedVariants_(),
                    n.enableLowInitialPlaylist && (t = n.selectInitialPlaylist()),
                    !(t = t || n.selectPlaylist()) || !n.shouldSwitchToMedia_(t))
                        return;
                    if (n.initialMedia_ = t,
                    n.switchMedia_(n.initialMedia_, "initial"),
                    !("vhs-json" === n.sourceType_ && n.initialMedia_.segments))
                        return;
                    e = n.initialMedia_
                }
                n.handleUpdatedMediaPlaylist(e)
            }),
            this.masterPlaylistLoader_.on("error", function() {
                n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)
            }),
            this.masterPlaylistLoader_.on("mediachanging", function() {
                n.mainSegmentLoader_.abort(),
                n.mainSegmentLoader_.pause()
            }),
            this.masterPlaylistLoader_.on("mediachange", function() {
                var e = n.masterPlaylistLoader_.media()
                  , t = 1.5 * e.targetDuration * 1e3;
                Ea(n.masterPlaylistLoader_.master, n.masterPlaylistLoader_.media()) ? n.requestOptions_.timeout = 0 : n.requestOptions_.timeout = t,
                n.mainSegmentLoader_.playlist(e, n.requestOptions_),
                n.mainSegmentLoader_.load(),
                n.tech_.trigger({
                    type: "mediachange",
                    bubbles: !0
                })
            }),
            this.masterPlaylistLoader_.on("playlistunchanged", function() {
                var e = n.masterPlaylistLoader_.media();
                "playlist-unchanged" !== e.lastExcludeReason_ && n.stuckAtPlaylistEnd_(e) && (n.blacklistCurrentPlaylist({
                    message: "Playlist no longer updating.",
                    reason: "playlist-unchanged"
                }),
                n.tech_.trigger("playliststuck"))
            }),
            this.masterPlaylistLoader_.on("renditiondisabled", function() {
                n.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-disabled"
                }),
                n.tech_.trigger({
                    type: "usage",
                    name: "hls-rendition-disabled"
                })
            }),
            this.masterPlaylistLoader_.on("renditionenabled", function() {
                n.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-enabled"
                }),
                n.tech_.trigger({
                    type: "usage",
                    name: "hls-rendition-enabled"
                })
            })
        }
        ,
        t.handleUpdatedMediaPlaylist = function(e) {
            this.useCueTags_ && this.updateAdCues_(e),
            this.mainSegmentLoader_.playlist(e, this.requestOptions_),
            this.updateDuration(!e.endList),
            this.tech_.paused() || (this.mainSegmentLoader_.load(),
            this.audioSegmentLoader_ && this.audioSegmentLoader_.load())
        }
        ,
        t.triggerPresenceUsage_ = function(e, t) {
            var n = e.mediaGroups || {}
              , i = !0
              , r = Object.keys(n.AUDIO);
            for (var a in n.AUDIO)
                for (var o in n.AUDIO[a]) {
                    n.AUDIO[a][o].uri || (i = !1)
                }
            i && (this.tech_.trigger({
                type: "usage",
                name: "vhs-demuxed"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-demuxed"
            })),
            Object.keys(n.SUBTITLES).length && (this.tech_.trigger({
                type: "usage",
                name: "vhs-webvtt"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-webvtt"
            })),
            xs.Playlist.isAes(t) && (this.tech_.trigger({
                type: "usage",
                name: "vhs-aes"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-aes"
            })),
            r.length && 1 < Object.keys(n.AUDIO[r[0]]).length && (this.tech_.trigger({
                type: "usage",
                name: "vhs-alternate-audio"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-alternate-audio"
            })),
            this.useCueTags_ && (this.tech_.trigger({
                type: "usage",
                name: "vhs-playlist-cue-tags"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-playlist-cue-tags"
            }))
        }
        ,
        t.shouldSwitchToMedia_ = function(e) {
            var t = this.masterPlaylistLoader_.media()
              , n = this.tech_.buffered();
            return function(e) {
                var t = e.currentPlaylist
                  , n = e.nextPlaylist
                  , i = e.forwardBuffer
                  , r = e.bufferLowWaterLine
                  , a = e.bufferHighWaterLine
                  , o = e.duration
                  , s = e.experimentalBufferBasedABR
                  , l = e.log;
                if (!n)
                    return na.log.warn("We received no playlist to switch to. Please check your stream."),
                    !1;
                var u = "allowing switch " + (t && t.id || "null") + " -> " + n.id;
                if (!t)
                    return l(u + " as current playlist is not set"),
                    !0;
                if (n.id === t.id)
                    return !1;
                if (!t.endList)
                    return l(u + " as current playlist is live"),
                    !0;
                var c = s ? Yo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE : Yo.MAX_BUFFER_LOW_WATER_LINE;
                if (o < c)
                    return l(u + " as duration < max low water line (" + o + " < " + c + ")"),
                    !0;
                var h = n.attributes.BANDWIDTH
                  , d = t.attributes.BANDWIDTH;
                if (h < d && (!s || i < a)) {
                    var p = u + " as next bandwidth < current bandwidth (" + h + " < " + d + ")";
                    return s && (p += " and forwardBuffer < bufferHighWaterLine (" + i + " < " + a + ")"),
                    l(p),
                    !0
                }
                if ((!s || d < h) && r <= i) {
                    var f = u + " as forwardBuffer >= bufferLowWaterLine (" + i + " >= " + r + ")";
                    return s && (f += " and next bandwidth > current bandwidth (" + h + " > " + d + ")"),
                    l(f),
                    !0
                }
                return l("not " + u + " as no switching criteria met"),
                !1
            }({
                currentPlaylist: t,
                nextPlaylist: e,
                forwardBuffer: n.length ? n.end(n.length - 1) - this.tech_.currentTime() : 0,
                bufferLowWaterLine: this.bufferLowWaterLine(),
                bufferHighWaterLine: this.bufferHighWaterLine(),
                duration: this.duration(),
                experimentalBufferBasedABR: this.experimentalBufferBasedABR,
                log: this.logger_
            })
        }
        ,
        t.setupSegmentLoaderListeners_ = function() {
            var t = this;
            this.experimentalBufferBasedABR || (this.mainSegmentLoader_.on("bandwidthupdate", function() {
                var e = t.selectPlaylist();
                t.shouldSwitchToMedia_(e) && t.switchMedia_(e, "bandwidthupdate"),
                t.tech_.trigger("bandwidthupdate")
            }),
            this.mainSegmentLoader_.on("progress", function() {
                t.trigger("progress")
            })),
            this.mainSegmentLoader_.on("error", function() {
                t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())
            }),
            this.mainSegmentLoader_.on("appenderror", function() {
                t.error = t.mainSegmentLoader_.error_,
                t.trigger("error")
            }),
            this.mainSegmentLoader_.on("syncinfoupdate", function() {
                t.onSyncInfoUpdate_()
            }),
            this.mainSegmentLoader_.on("timestampoffset", function() {
                t.tech_.trigger({
                    type: "usage",
                    name: "vhs-timestamp-offset"
                }),
                t.tech_.trigger({
                    type: "usage",
                    name: "hls-timestamp-offset"
                })
            }),
            this.audioSegmentLoader_.on("syncinfoupdate", function() {
                t.onSyncInfoUpdate_()
            }),
            this.audioSegmentLoader_.on("appenderror", function() {
                t.error = t.audioSegmentLoader_.error_,
                t.trigger("error")
            }),
            this.mainSegmentLoader_.on("ended", function() {
                t.logger_("main segment loader ended"),
                t.onEndOfStream()
            }),
            this.mainSegmentLoader_.on("earlyabort", function(e) {
                t.experimentalBufferBasedABR || (t.delegateLoaders_("all", ["abort"]),
                t.blacklistCurrentPlaylist({
                    message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                }, 120))
            });
            function e() {
                if (!t.sourceUpdater_.hasCreatedSourceBuffers())
                    return t.tryToCreateSourceBuffers_();
                var e = t.getCodecsOrExclude_();
                e && t.sourceUpdater_.addOrChangeSourceBuffers(e)
            }
            this.mainSegmentLoader_.on("trackinfo", e),
            this.audioSegmentLoader_.on("trackinfo", e),
            this.mainSegmentLoader_.on("fmp4", function() {
                t.triggeredFmp4Usage || (t.tech_.trigger({
                    type: "usage",
                    name: "vhs-fmp4"
                }),
                t.tech_.trigger({
                    type: "usage",
                    name: "hls-fmp4"
                }),
                t.triggeredFmp4Usage = !0)
            }),
            this.audioSegmentLoader_.on("fmp4", function() {
                t.triggeredFmp4Usage || (t.tech_.trigger({
                    type: "usage",
                    name: "vhs-fmp4"
                }),
                t.tech_.trigger({
                    type: "usage",
                    name: "hls-fmp4"
                }),
                t.triggeredFmp4Usage = !0)
            }),
            this.audioSegmentLoader_.on("ended", function() {
                t.logger_("audioSegmentLoader ended"),
                t.onEndOfStream()
            })
        }
        ,
        t.mediaSecondsLoaded_ = function() {
            return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
        }
        ,
        t.load = function() {
            this.mainSegmentLoader_.load(),
            this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(),
            this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
        }
        ,
        t.smoothQualityChange_ = function(e) {
            void 0 === e && (e = this.selectPlaylist()),
            this.fastQualityChange_(e)
        }
        ,
        t.fastQualityChange_ = function(e) {
            var t = this;
            void 0 === e && (e = this.selectPlaylist()),
            e !== this.masterPlaylistLoader_.media() ? (this.switchMedia_(e, "fast-quality"),
            this.mainSegmentLoader_.resetEverything(function() {
                na.browser.IE_VERSION || na.browser.IS_EDGE ? t.tech_.setCurrentTime(t.tech_.currentTime() + .04) : t.tech_.setCurrentTime(t.tech_.currentTime())
            })) : this.logger_("skipping fastQualityChange because new media is same as old")
        }
        ,
        t.play = function() {
            if (!this.setupFirstPlay()) {
                this.tech_.ended() && this.tech_.setCurrentTime(0),
                this.hasPlayed_ && this.load();
                var e = this.tech_.seekable();
                return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.tech_.setCurrentTime(e.end(e.length - 1)) : void 0
            }
        }
        ,
        t.setupFirstPlay = function() {
            var e = this
              , t = this.masterPlaylistLoader_.media();
            if (!t || this.tech_.paused() || this.hasPlayed_)
                return !1;
            if (!t.endList) {
                var n = this.seekable();
                if (!n.length)
                    return !1;
                if (na.browser.IE_VERSION && 0 === this.tech_.readyState())
                    return this.tech_.one("loadedmetadata", function() {
                        e.trigger("firstplay"),
                        e.tech_.setCurrentTime(n.end(0)),
                        e.hasPlayed_ = !0
                    }),
                    !1;
                this.trigger("firstplay"),
                this.tech_.setCurrentTime(n.end(0))
            }
            return this.hasPlayed_ = !0,
            this.load(),
            !0
        }
        ,
        t.handleSourceOpen_ = function() {
            if (this.tryToCreateSourceBuffers_(),
            this.tech_.autoplay()) {
                var e = this.tech_.play();
                void 0 !== e && "function" == typeof e.then && e.then(null, function(e) {})
            }
            this.trigger("sourceopen")
        }
        ,
        t.handleSourceEnded_ = function() {
            if (this.inbandTextTracks_.metadataTrack_) {
                var e = this.inbandTextTracks_.metadataTrack_.cues;
                if (e && e.length) {
                    var t = this.duration();
                    e[e.length - 1].endTime = isNaN(t) || Math.abs(t) === 1 / 0 ? Number.MAX_VALUE : t
                }
            }
        }
        ,
        t.handleDurationChange_ = function() {
            this.tech_.trigger("durationchange")
        }
        ,
        t.onEndOfStream = function() {
            var e = this.mainSegmentLoader_.ended_;
            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                var t = this.mainSegmentLoader_.getCurrentMediaInfo_();
                e = !t || t.hasVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_
            }
            e && (this.stopABRTimer_(),
            this.sourceUpdater_.endOfStream())
        }
        ,
        t.stuckAtPlaylistEnd_ = function(e) {
            if (!this.seekable().length)
                return !1;
            var t = this.syncController_.getExpiredTime(e, this.duration());
            if (null === t)
                return !1;
            var n = xs.Playlist.playlistEnd(e, t)
              , i = this.tech_.currentTime()
              , r = this.tech_.buffered();
            if (!r.length)
                return n - i <= .1;
            var a = r.end(r.length - 1);
            return a - i <= .1 && n - a <= .1
        }
        ,
        t.blacklistCurrentPlaylist = function(e, t) {
            void 0 === e && (e = {});
            var n = e.playlist || this.masterPlaylistLoader_.media();
            if (t = t || e.blacklistDuration || this.blacklistDuration,
            !n)
                return this.error = e,
                void ("open" !== this.mediaSource.readyState ? this.trigger("error") : this.sourceUpdater_.endOfStream("network"));
            n.playlistErrors_++;
            var i, r = this.masterPlaylistLoader_.master.playlists, a = r.filter(Ta), o = 1 === a.length && a[0] === n;
            if (1 === r.length && t !== 1 / 0)
                return na.log.warn("Problem encountered with playlist " + n.id + ". Trying again since it is the only playlist."),
                this.tech_.trigger("retryplaylist"),
                this.masterPlaylistLoader_.load(o);
            if (o) {
                var s = !1;
                r.forEach(function(e) {
                    if (e !== n) {
                        var t = e.excludeUntil;
                        void 0 !== t && t !== 1 / 0 && (s = !0,
                        delete e.excludeUntil)
                    }
                }),
                s && (na.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),
                this.tech_.trigger("retryplaylist"))
            }
            i = n.playlistErrors_ > this.maxPlaylistRetries ? 1 / 0 : Date.now() + 1e3 * t,
            n.excludeUntil = i,
            e.reason && (n.lastExcludeReason_ = e.reason),
            this.tech_.trigger("blacklistplaylist"),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-rendition-blacklisted"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-rendition-blacklisted"
            });
            var l = this.selectPlaylist();
            if (!l)
                return this.error = "Playback cannot continue. No available working or supported playlists.",
                void this.trigger("error");
            var u = e.internal ? this.logger_ : na.log.warn
              , c = e.message ? " " + e.message : "";
            u((e.internal ? "Internal problem" : "Problem") + " encountered with playlist " + n.id + "." + c + " Switching to playlist " + l.id + "."),
            l.attributes.AUDIO !== n.attributes.AUDIO && this.delegateLoaders_("audio", ["abort", "pause"]),
            l.attributes.SUBTITLES !== n.attributes.SUBTITLES && this.delegateLoaders_("subtitle", ["abort", "pause"]),
            this.delegateLoaders_("main", ["abort", "pause"]);
            var h = l.targetDuration / 2 * 1e3 || 5e3
              , d = "number" == typeof l.lastRequest && Date.now() - l.lastRequest <= h;
            return this.switchMedia_(l, "exclude", o || d)
        }
        ,
        t.pauseLoading = function() {
            this.delegateLoaders_("all", ["abort", "pause"]),
            this.stopABRTimer_()
        }
        ,
        t.delegateLoaders_ = function(n, e) {
            var i = this
              , r = []
              , t = "all" === n;
            !t && "main" !== n || r.push(this.masterPlaylistLoader_);
            var a = [];
            !t && "audio" !== n || a.push("AUDIO"),
            !t && "subtitle" !== n || (a.push("CLOSED-CAPTIONS"),
            a.push("SUBTITLES")),
            a.forEach(function(e) {
                var t = i.mediaTypes_[e] && i.mediaTypes_[e].activePlaylistLoader;
                t && r.push(t)
            }),
            ["main", "audio", "subtitle"].forEach(function(e) {
                var t = i[e + "SegmentLoader_"];
                !t || n !== e && "all" !== n || r.push(t)
            }),
            r.forEach(function(t) {
                return e.forEach(function(e) {
                    "function" == typeof t[e] && t[e]()
                })
            })
        }
        ,
        t.setCurrentTime = function(e) {
            var t = la(this.tech_.buffered(), e);
            return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media().segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(),
            this.mainSegmentLoader_.abort(),
            this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(),
            this.audioSegmentLoader_.abort()),
            this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(),
            this.subtitleSegmentLoader_.abort()),
            void this.load()) : 0
        }
        ,
        t.duration = function() {
            if (!this.masterPlaylistLoader_)
                return 0;
            var e = this.masterPlaylistLoader_.media();
            return e ? e.endList ? this.mediaSource ? this.mediaSource.duration : xs.Playlist.duration(e) : 1 / 0 : 0
        }
        ,
        t.seekable = function() {
            return this.seekable_
        }
        ,
        t.onSyncInfoUpdate_ = function() {
            var e;
            if (this.masterPlaylistLoader_) {
                var t = this.masterPlaylistLoader_.media();
                if (t) {
                    var n = this.syncController_.getExpiredTime(t, this.duration());
                    if (null !== n) {
                        var i = this.masterPlaylistLoader_.master
                          , r = xs.Playlist.seekable(t, n, xs.Playlist.liveEdgeDelay(i, t));
                        if (0 !== r.length) {
                            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                if (t = this.mediaTypes_.AUDIO.activePlaylistLoader.media(),
                                null === (n = this.syncController_.getExpiredTime(t, this.duration())))
                                    return;
                                if (0 === (e = xs.Playlist.seekable(t, n, xs.Playlist.liveEdgeDelay(i, t))).length)
                                    return
                            }
                            var a, o;
                            this.seekable_ && this.seekable_.length && (a = this.seekable_.end(0),
                            o = this.seekable_.start(0)),
                            e ? e.start(0) > r.end(0) || r.start(0) > e.end(0) ? this.seekable_ = r : this.seekable_ = na.createTimeRanges([[e.start(0) > r.start(0) ? e.start(0) : r.start(0), e.end(0) < r.end(0) ? e.end(0) : r.end(0)]]) : this.seekable_ = r,
                            this.seekable_ && this.seekable_.length && this.seekable_.end(0) === a && this.seekable_.start(0) === o || (this.logger_("seekable updated [" + ca(this.seekable_) + "]"),
                            this.tech_.trigger("seekablechanged"))
                        }
                    }
                }
            }
        }
        ,
        t.updateDuration = function(e) {
            if (this.updateDuration_ && (this.mediaSource.removeEventListener("sourceopen", this.updateDuration_),
            this.updateDuration_ = null),
            "open" !== this.mediaSource.readyState)
                return this.updateDuration_ = this.updateDuration.bind(this, e),
                void this.mediaSource.addEventListener("sourceopen", this.updateDuration_);
            if (e) {
                var t = this.seekable();
                if (!t.length)
                    return;
                (isNaN(this.mediaSource.duration) || this.mediaSource.duration < t.end(t.length - 1)) && this.sourceUpdater_.setDuration(t.end(t.length - 1))
            } else {
                var n = this.tech_.buffered()
                  , i = xs.Playlist.duration(this.masterPlaylistLoader_.media());
                0 < n.length && (i = Math.max(i, n.end(n.length - 1))),
                this.mediaSource.duration !== i && this.sourceUpdater_.setDuration(i)
            }
        }
        ,
        t.dispose = function() {
            var i = this;
            this.trigger("dispose"),
            this.decrypter_.terminate(),
            this.masterPlaylistLoader_.dispose(),
            this.mainSegmentLoader_.dispose(),
            this.loadOnPlay_ && this.tech_.off("play", this.loadOnPlay_),
            ["AUDIO", "SUBTITLES"].forEach(function(e) {
                var t = i.mediaTypes_[e].groups;
                for (var n in t)
                    t[n].forEach(function(e) {
                        e.playlistLoader && e.playlistLoader.dispose()
                    })
            }),
            this.audioSegmentLoader_.dispose(),
            this.subtitleSegmentLoader_.dispose(),
            this.sourceUpdater_.dispose(),
            this.timelineChangeController_.dispose(),
            this.stopABRTimer_(),
            this.updateDuration_ && this.mediaSource.removeEventListener("sourceopen", this.updateDuration_),
            this.mediaSource.removeEventListener("durationchange", this.handleDurationChange_),
            this.mediaSource.removeEventListener("sourceopen", this.handleSourceOpen_),
            this.mediaSource.removeEventListener("sourceended", this.handleSourceEnded_),
            this.off()
        }
        ,
        t.master = function() {
            return this.masterPlaylistLoader_.master
        }
        ,
        t.media = function() {
            return this.masterPlaylistLoader_.media() || this.initialMedia_
        }
        ,
        t.areMediaTypesKnown_ = function() {
            var e = !!this.mediaTypes_.AUDIO.activePlaylistLoader
              , t = !!this.mainSegmentLoader_.getCurrentMediaInfo_()
              , n = !e || !!this.audioSegmentLoader_.getCurrentMediaInfo_();
            return t && n
        }
        ,
        t.getCodecsOrExclude_ = function() {
            var i = this
              , n = {
                main: this.mainSegmentLoader_.getCurrentMediaInfo_() || {},
                audio: this.audioSegmentLoader_.getCurrentMediaInfo_() || {}
            };
            n.video = n.main;
            var e = To(this.master(), this.media())
              , r = {}
              , t = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
            if (n.main.hasVideo && (r.video = e.video || n.main.videoCodec || g.DEFAULT_VIDEO_CODEC),
            n.main.isMuxed && (r.video += "," + (e.audio || n.main.audioCodec || g.DEFAULT_AUDIO_CODEC)),
            (n.main.hasAudio && !n.main.isMuxed || n.audio.hasAudio || t) && (r.audio = e.audio || n.main.audioCodec || n.audio.audioCodec || g.DEFAULT_AUDIO_CODEC,
            n.audio.isFmp4 = n.main.hasAudio && !n.main.isMuxed ? n.main.isFmp4 : n.audio.isFmp4),
            r.audio || r.video) {
                var a, o = {};
                if (["video", "audio"].forEach(function(e) {
                    if (r.hasOwnProperty(e) && !function(e, t) {
                        return e ? g.browserSupportsCodec(t) : g.muxerSupportsCodec(t)
                    }(n[e].isFmp4, r[e])) {
                        var t = n[e].isFmp4 ? "browser" : "muxer";
                        o[t] = o[t] || [],
                        o[t].push(r[e]),
                        "audio" === e && (a = t)
                    }
                }),
                t && a && this.media().attributes.AUDIO) {
                    var s = this.media().attributes.AUDIO;
                    this.master().playlists.forEach(function(e) {
                        (e.attributes && e.attributes.AUDIO) === s && e !== i.media() && (e.excludeUntil = 1 / 0)
                    }),
                    this.logger_("excluding audio group " + s + " as " + a + ' does not support codec(s): "' + r.audio + '"')
                }
                if (!Object.keys(o).length) {
                    if (this.sourceUpdater_.hasCreatedSourceBuffers() && !this.sourceUpdater_.canChangeType()) {
                        var l = [];
                        if (["video", "audio"].forEach(function(e) {
                            var t = (g.parseCodecs(i.sourceUpdater_.codecs[e] || "")[0] || {}).type
                              , n = (g.parseCodecs(r[e] || "")[0] || {}).type;
                            t && n && t.toLowerCase() !== n.toLowerCase() && l.push('"' + i.sourceUpdater_.codecs[e] + '" -> "' + r[e] + '"')
                        }),
                        l.length)
                            return void this.blacklistCurrentPlaylist({
                                playlist: this.media(),
                                message: "Codec switching not supported: " + l.join(", ") + ".",
                                blacklistDuration: 1 / 0,
                                internal: !0
                            })
                    }
                    return r
                }
                var u = Object.keys(o).reduce(function(e, t) {
                    return e && (e += ", "),
                    e += t + ' does not support codec(s): "' + o[t].join(",") + '"'
                }, "") + ".";
                this.blacklistCurrentPlaylist({
                    playlist: this.media(),
                    internal: !0,
                    message: u,
                    blacklistDuration: 1 / 0
                })
            } else
                this.blacklistCurrentPlaylist({
                    playlist: this.media(),
                    message: "Could not determine codecs for playlist.",
                    blacklistDuration: 1 / 0
                })
        }
        ,
        t.tryToCreateSourceBuffers_ = function() {
            if ("open" === this.mediaSource.readyState && !this.sourceUpdater_.hasCreatedSourceBuffers() && this.areMediaTypesKnown_()) {
                var e = this.getCodecsOrExclude_();
                if (e) {
                    this.sourceUpdater_.createSourceBuffers(e);
                    var t = [e.video, e.audio].filter(Boolean).join(",");
                    this.excludeIncompatibleVariants_(t)
                }
            }
        }
        ,
        t.excludeUnsupportedVariants_ = function() {
            var r = this
              , a = this.master().playlists
              , o = [];
            Object.keys(a).forEach(function(e) {
                var t = a[e];
                if (-1 === o.indexOf(t.id)) {
                    o.push(t.id);
                    var n = To(r.master, t)
                      , i = [];
                    !n.audio || g.muxerSupportsCodec(n.audio) || g.browserSupportsCodec(n.audio) || i.push("audio codec " + n.audio),
                    !n.video || g.muxerSupportsCodec(n.video) || g.browserSupportsCodec(n.video) || i.push("video codec " + n.video),
                    n.text && "stpp.ttml.im1t" === n.text && i.push("text codec " + n.text),
                    i.length && (t.excludeUntil = 1 / 0,
                    r.logger_("excluding " + t.id + " for unsupported: " + i.join(", ")))
                }
            })
        }
        ,
        t.excludeIncompatibleVariants_ = function(e) {
            var s = this
              , l = []
              , u = this.master().playlists
              , t = wo(g.parseCodecs(e))
              , c = xo(t)
              , h = t.video && g.parseCodecs(t.video)[0] || null
              , d = t.audio && g.parseCodecs(t.audio)[0] || null;
            Object.keys(u).forEach(function(e) {
                var t = u[e];
                if (-1 === l.indexOf(t.id) && t.excludeUntil !== 1 / 0) {
                    l.push(t.id);
                    var n = []
                      , i = To(s.masterPlaylistLoader_.master, t)
                      , r = xo(i);
                    if (i.audio || i.video) {
                        if (r !== c && n.push('codec count "' + r + '" !== "' + c + '"'),
                        !s.sourceUpdater_.canChangeType()) {
                            var a = i.video && g.parseCodecs(i.video)[0] || null
                              , o = i.audio && g.parseCodecs(i.audio)[0] || null;
                            a && h && a.type.toLowerCase() !== h.type.toLowerCase() && n.push('video codec "' + a.type + '" !== "' + h.type + '"'),
                            o && d && o.type.toLowerCase() !== d.type.toLowerCase() && n.push('audio codec "' + o.type + '" !== "' + d.type + '"')
                        }
                        n.length && (t.excludeUntil = 1 / 0,
                        s.logger_("blacklisting " + t.id + ": " + n.join(" && ")))
                    }
                }
            })
        }
        ,
        t.updateAdCues_ = function(e) {
            var t = 0
              , n = this.seekable();
            n.length && (t = n.start(0)),
            function(e, t, n) {
                if (void 0 === n && (n = 0),
                e.segments)
                    for (var i, r = n, a = 0; a < e.segments.length; a++) {
                        var o = e.segments[a];
                        if (i = i || ms(t, r + o.duration / 2)) {
                            if ("cueIn"in o) {
                                i.endTime = r,
                                i.adEndTime = r,
                                r += o.duration,
                                i = null;
                                continue
                            }
                            if (r < i.endTime) {
                                r += o.duration;
                                continue
                            }
                            i.endTime += o.duration
                        } else if ("cueOut"in o && ((i = new C.default.VTTCue(r,r + o.duration,o.cueOut)).adStartTime = r,
                        i.adEndTime = r + parseFloat(o.cueOut),
                        t.addCue(i)),
                        "cueOutCont"in o) {
                            var s = o.cueOutCont.split("/").map(parseFloat)
                              , l = s[0]
                              , u = s[1];
                            (i = new C.default.VTTCue(r,r + o.duration,"")).adStartTime = r - l,
                            i.adEndTime = i.adStartTime + u,
                            t.addCue(i)
                        }
                        r += o.duration
                    }
            }(e, this.cueTagsTrack_, t)
        }
        ,
        t.goalBufferLength = function() {
            var e = this.tech_.currentTime()
              , t = Yo.GOAL_BUFFER_LENGTH
              , n = Yo.GOAL_BUFFER_LENGTH_RATE
              , i = Math.max(t, Yo.MAX_GOAL_BUFFER_LENGTH);
            return Math.min(t + e * n, i)
        }
        ,
        t.bufferLowWaterLine = function() {
            var e = this.tech_.currentTime()
              , t = Yo.BUFFER_LOW_WATER_LINE
              , n = Yo.BUFFER_LOW_WATER_LINE_RATE
              , i = Math.max(t, Yo.MAX_BUFFER_LOW_WATER_LINE)
              , r = Math.max(t, Yo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);
            return Math.min(t + e * n, this.experimentalBufferBasedABR ? r : i)
        }
        ,
        t.bufferHighWaterLine = function() {
            return Yo.BUFFER_HIGH_WATER_LINE
        }
        ,
        e
    }(na.EventTarget), $s = ["seeking", "seeked", "pause", "playing", "error"], Xs = function() {
        function e(e) {
            var t = this;
            this.masterPlaylistController_ = e.masterPlaylistController,
            this.tech_ = e.tech,
            this.seekable = e.seekable,
            this.allowSeeksWithinUnsafeLiveWindow = e.allowSeeksWithinUnsafeLiveWindow,
            this.liveRangeSafeTimeDelta = e.liveRangeSafeTimeDelta,
            this.media = e.media,
            this.consecutiveUpdates = 0,
            this.lastRecordedTime = null,
            this.timer_ = null,
            this.checkCurrentTimeTimeout_ = null,
            this.logger_ = oa("PlaybackWatcher"),
            this.logger_("initialize");
            function n() {
                return t.monitorCurrentTime_()
            }
            function i() {
                return t.monitorCurrentTime_()
            }
            function r() {
                return t.techWaiting_()
            }
            function a() {
                return t.cancelTimer_()
            }
            function o() {
                return t.fixesBadSeeks_()
            }
            var s = this.masterPlaylistController_
              , l = ["main", "subtitle", "audio"]
              , u = {};
            l.forEach(function(e) {
                u[e] = {
                    reset: function() {
                        return t.resetSegmentDownloads_(e)
                    },
                    updateend: function() {
                        return t.checkSegmentDownloads_(e)
                    }
                },
                s[e + "SegmentLoader_"].on("appendsdone", u[e].updateend),
                s[e + "SegmentLoader_"].on("playlistupdate", u[e].reset),
                t.tech_.on(["seeked", "seeking"], u[e].reset)
            }),
            this.tech_.on("seekablechanged", o),
            this.tech_.on("waiting", r),
            this.tech_.on($s, a),
            this.tech_.on("canplay", i),
            this.tech_.one("play", n),
            this.dispose = function() {
                t.logger_("dispose"),
                t.tech_.off("seekablechanged", o),
                t.tech_.off("waiting", r),
                t.tech_.off($s, a),
                t.tech_.off("canplay", i),
                t.tech_.off("play", n),
                l.forEach(function(e) {
                    s[e + "SegmentLoader_"].off("appendsdone", u[e].updateend),
                    s[e + "SegmentLoader_"].off("playlistupdate", u[e].reset),
                    t.tech_.off(["seeked", "seeking"], u[e].reset)
                }),
                t.checkCurrentTimeTimeout_ && C.default.clearTimeout(t.checkCurrentTimeTimeout_),
                t.cancelTimer_()
            }
        }
        var t = e.prototype;
        return t.monitorCurrentTime_ = function() {
            this.checkCurrentTime_(),
            this.checkCurrentTimeTimeout_ && C.default.clearTimeout(this.checkCurrentTimeTimeout_),
            this.checkCurrentTimeTimeout_ = C.default.setTimeout(this.monitorCurrentTime_.bind(this), 250)
        }
        ,
        t.resetSegmentDownloads_ = function(e) {
            var t = this.masterPlaylistController_[e + "SegmentLoader_"];
            0 < this[e + "StalledDownloads_"] && this.logger_("resetting possible stalled download count for " + e + " loader"),
            this[e + "StalledDownloads_"] = 0,
            this[e + "Buffered_"] = t.buffered_()
        }
        ,
        t.checkSegmentDownloads_ = function(e) {
            var t = this.masterPlaylistController_
              , n = t[e + "SegmentLoader_"]
              , i = n.buffered_()
              , r = function(e, t) {
                if (e === t)
                    return !1;
                if (!e && t || !t && e)
                    return !0;
                if (e.length !== t.length)
                    return !0;
                for (var n = 0; n < e.length; n++)
                    if (e.start(n) !== t.start(n) || e.end(n) !== t.end(n))
                        return !0;
                return !1
            }(this[e + "Buffered_"], i);
            this[e + "Buffered_"] = i,
            r ? this.resetSegmentDownloads_(e) : (this[e + "StalledDownloads_"]++,
            this.logger_("found #" + this[e + "StalledDownloads_"] + " " + e + " appends that did not increase buffer (possible stalled download)", {
                playlistId: n.playlist_ && n.playlist_.id,
                buffered: ha(i)
            }),
            this[e + "StalledDownloads_"] < 10 || (this.logger_(e + " loader stalled download exclusion"),
            this.resetSegmentDownloads_(e),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-" + e + "-download-exclusion"
            }),
            "subtitle" !== e && t.blacklistCurrentPlaylist({
                message: "Excessive " + e + " segment downloading detected."
            }, 1 / 0)))
        }
        ,
        t.checkCurrentTime_ = function() {
            if (this.tech_.seeking() && this.fixesBadSeeks_())
                return this.consecutiveUpdates = 0,
                void (this.lastRecordedTime = this.tech_.currentTime());
            if (!this.tech_.paused() && !this.tech_.seeking()) {
                var e = this.tech_.currentTime()
                  , t = this.tech_.buffered();
                if (this.lastRecordedTime === e && (!t.length || e + .1 >= t.end(t.length - 1)))
                    return this.techWaiting_();
                5 <= this.consecutiveUpdates && e === this.lastRecordedTime ? (this.consecutiveUpdates++,
                this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0,
                this.lastRecordedTime = e)
            }
        }
        ,
        t.cancelTimer_ = function() {
            this.consecutiveUpdates = 0,
            this.timer_ && (this.logger_("cancelTimer_"),
            clearTimeout(this.timer_)),
            this.timer_ = null
        }
        ,
        t.fixesBadSeeks_ = function() {
            if (!this.tech_.seeking())
                return !1;
            var e, t = this.seekable(), n = this.tech_.currentTime();
            this.afterSeekableWindow_(t, n, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (e = t.end(t.length - 1));
            if (this.beforeSeekableWindow_(t, n)) {
                var i = t.start(0);
                e = i + (i === t.end(0) ? 0 : .1)
            }
            if (void 0 !== e)
                return this.logger_("Trying to seek outside of seekable at time " + n + " with seekable range " + ca(t) + ". Seeking to " + e + "."),
                this.tech_.setCurrentTime(e),
                !0;
            var r = this.tech_.buffered();
            return !!function(e) {
                var t = e.buffered
                  , n = e.targetDuration
                  , i = e.currentTime;
                return !!t.length && (!(t.end(0) - t.start(0) < 2 * n) && (!(i > t.start(0)) && t.start(0) - i < n))
            }({
                buffered: r,
                targetDuration: this.media().targetDuration,
                currentTime: n
            }) && (e = r.start(0) + .1,
            this.logger_("Buffered region starts (" + r.start(0) + ")  just beyond seek point (" + n + "). Seeking to " + e + "."),
            this.tech_.setCurrentTime(e),
            !0)
        }
        ,
        t.waiting_ = function() {
            if (!this.techWaiting_()) {
                var e = this.tech_.currentTime()
                  , t = this.tech_.buffered()
                  , n = la(t, e);
                return n.length && e + 3 <= n.end(0) ? (this.cancelTimer_(),
                this.tech_.setCurrentTime(e),
                this.logger_("Stopped at " + e + " while inside a buffered region [" + n.start(0) + " -> " + n.end(0) + "]. Attempting to resume playback by seeking to the current time."),
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-unknown-waiting"
                }),
                void this.tech_.trigger({
                    type: "usage",
                    name: "hls-unknown-waiting"
                })) : void 0
            }
        }
        ,
        t.techWaiting_ = function() {
            var e = this.seekable()
              , t = this.tech_.currentTime();
            if (this.tech_.seeking() && this.fixesBadSeeks_())
                return !0;
            if (this.tech_.seeking() || null !== this.timer_)
                return !0;
            if (this.beforeSeekableWindow_(e, t)) {
                var n = e.end(e.length - 1);
                return this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + n),
                this.cancelTimer_(),
                this.tech_.setCurrentTime(n),
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-live-resync"
                }),
                this.tech_.trigger({
                    type: "usage",
                    name: "hls-live-resync"
                }),
                !0
            }
            var i = this.tech_.vhs.masterPlaylistController_.sourceUpdater_
              , r = this.tech_.buffered();
            if (this.videoUnderflow_({
                audioBuffered: i.audioBuffered(),
                videoBuffered: i.videoBuffered(),
                currentTime: t
            }))
                return this.cancelTimer_(),
                this.tech_.setCurrentTime(t),
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-video-underflow"
                }),
                this.tech_.trigger({
                    type: "usage",
                    name: "hls-video-underflow"
                }),
                !0;
            var a = ua(r, t);
            if (0 < a.length) {
                var o = a.start(0) - t;
                return this.logger_("Stopped at " + t + ", setting timer for " + o + ", seeking to " + a.start(0)),
                this.cancelTimer_(),
                this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * o, t),
                !0
            }
            return !1
        }
        ,
        t.afterSeekableWindow_ = function(e, t, n, i) {
            if (void 0 === i && (i = !1),
            !e.length)
                return !1;
            var r = e.end(e.length - 1) + .1;
            return !n.endList && i && (r = e.end(e.length - 1) + 3 * n.targetDuration),
            r < t
        }
        ,
        t.beforeSeekableWindow_ = function(e, t) {
            return !!(e.length && 0 < e.start(0) && t < e.start(0) - this.liveRangeSafeTimeDelta)
        }
        ,
        t.videoUnderflow_ = function(e) {
            var t = e.videoBuffered
              , n = e.audioBuffered
              , i = e.currentTime;
            if (t) {
                var r;
                if (t.length && n.length) {
                    var a = la(t, i - 3)
                      , o = la(t, i)
                      , s = la(n, i);
                    s.length && !o.length && a.length && (r = {
                        start: a.end(0),
                        end: s.end(0)
                    })
                } else {
                    ua(t, i).length || (r = this.gapFromVideoUnderflow_(t, i))
                }
                return !!r && (this.logger_("Encountered a gap in video from " + r.start + " to " + r.end + ". Seeking to current time " + i),
                !0)
            }
        }
        ,
        t.skipTheGap_ = function(e) {
            var t = this.tech_.buffered()
              , n = this.tech_.currentTime()
              , i = ua(t, n);
            this.cancelTimer_(),
            0 !== i.length && n === e && (this.logger_("skipTheGap_:", "currentTime:", n, "scheduled currentTime:", e, "nextRange start:", i.start(0)),
            this.tech_.setCurrentTime(i.start(0) + 1 / 30),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-gap-skip"
            }),
            this.tech_.trigger({
                type: "usage",
                name: "hls-gap-skip"
            }))
        }
        ,
        t.gapFromVideoUnderflow_ = function(e, t) {
            for (var n = function(e) {
                if (e.length < 2)
                    return na.createTimeRanges();
                for (var t = [], n = 1; n < e.length; n++) {
                    var i = e.end(n - 1)
                      , r = e.start(n);
                    t.push([i, r])
                }
                return na.createTimeRanges(t)
            }(e), i = 0; i < n.length; i++) {
                var r = n.start(i)
                  , a = n.end(i);
                if (t - r < 4 && 2 < t - r)
                    return {
                        start: r,
                        end: a
                    }
            }
            return null
        }
        ,
        e
    }(), Ys = {
        errorInterval: 30,
        getSource: function(e) {
            return e(this.tech({
                IWillNotUseThisInPlugins: !0
            }).currentSource_ || this.currentSource())
        }
    }, Ks = {
        PlaylistLoader: Vo,
        Playlist: jo,
        utils: qo,
        STANDARD_PLAYLIST_SELECTOR: Po,
        INITIAL_PLAYLIST_SELECTOR: function() {
            var t = this
              , e = this.playlists.master.playlists.filter(jo.isEnabled);
            return Co(e, function(e, t) {
                return Mo(e, t)
            }),
            e.filter(function(e) {
                return !!To(t.playlists.master, e).video
            })[0] || null
        },
        lastBandwidthSelector: Po,
        movingAverageBandwidthSelector: function(t) {
            var n = -1
              , i = -1;
            if (t < 0 || 1 < t)
                throw new Error("Moving average bandwidth decay must be between 0 and 1.");
            return function() {
                var e = this.useDevicePixelRatio && C.default.devicePixelRatio || 1;
                return n < 0 && (n = this.systemBandwidth,
                i = this.systemBandwidth),
                0 < this.systemBandwidth && this.systemBandwidth !== i && (n = t * this.systemBandwidth + (1 - t) * n,
                i = this.systemBandwidth),
                ko(this.playlists.master, n, parseInt(Eo(this.tech_.el(), "width"), 10) * e, parseInt(Eo(this.tech_.el(), "height"), 10) * e, this.limitRenditionByPlayerDimensions, this.masterPlaylistController_)
            }
        },
        comparePlaylistBandwidth: Mo,
        comparePlaylistResolution: function(e, t) {
            var n, i;
            return e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (n = e.attributes.RESOLUTION.width),
            n = n || C.default.Number.MAX_VALUE,
            t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (i = t.attributes.RESOLUTION.width),
            n === (i = i || C.default.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : n - i
        },
        xhr: ja()
    };
    Object.keys(Yo).forEach(function(t) {
        Object.defineProperty(Ks, t, {
            get: function() {
                return na.log.warn("using Vhs." + t + " is UNSAFE be sure you know what you are doing"),
                Yo[t]
            },
            set: function(e) {
                na.log.warn("using Vhs." + t + " is UNSAFE be sure you know what you are doing"),
                "number" != typeof e || e < 0 ? na.log.warn("value of Vhs." + t + " must be greater than or equal to 0") : Yo[t] = e
            }
        })
    });
    function Zs(e, t) {
        for (var n = t.media(), i = -1, r = 0; r < e.length; r++)
            if (e[r].id === n.id) {
                i = r;
                break
            }
        e.selectedIndex_ = i,
        e.trigger({
            selectedIndex: i,
            type: "change"
        })
    }
    var Qs = "videojs-vhs";
    Ks.canPlaySource = function() {
        return na.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
    }
    ;
    function Js(e) {
        var i = e.player
          , t = e.sourceKeySystems
          , n = e.audioMedia
          , r = e.mainPlaylists;
        if (!i.eme.initializeMediaKeys)
            return Promise.resolve();
        var a = function(e, n) {
            return e.reduce(function(e, i) {
                if (!i.contentProtection)
                    return e;
                var t = n.reduce(function(e, t) {
                    var n = i.contentProtection[t];
                    return n && n.pssh && (e[t] = {
                        pssh: n.pssh
                    }),
                    e
                }, {});
                return Object.keys(t).length && e.push(t),
                e
            }, [])
        }(n ? r.concat([n]) : r, Object.keys(t))
          , o = []
          , s = [];
        return a.forEach(function(e) {
            s.push(new Promise(function(e, t) {
                i.tech_.one("keysessioncreated", e)
            }
            )),
            o.push(new Promise(function(t, n) {
                i.eme.initializeMediaKeys({
                    keySystems: e
                }, function(e) {
                    e ? n(e) : t()
                })
            }
            ))
        }),
        Promise.race([Promise.all(o), Promise.race(s)])
    }
    function el(e) {
        var t = e.player
          , n = function(e, t, n) {
            if (!e)
                return e;
            var i = {};
            t && t.attributes && t.attributes.CODECS && (i = wo(g.parseCodecs(t.attributes.CODECS))),
            n && n.attributes && n.attributes.CODECS && (i.audio = n.attributes.CODECS);
            var r = g.getMimeForCodec(i.video)
              , a = g.getMimeForCodec(i.audio)
              , o = {};
            for (var s in e)
                o[s] = {},
                a && (o[s].audioContentType = a),
                r && (o[s].videoContentType = r),
                t.contentProtection && t.contentProtection[s] && t.contentProtection[s].pssh && (o[s].pssh = t.contentProtection[s].pssh),
                "string" == typeof e[s] && (o[s].url = e[s]);
            return na.mergeOptions(e, o)
        }(e.sourceKeySystems, e.media, e.audioMedia);
        return !!n && (!((t.currentSource().keySystems = n) && !t.eme) || (na.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),
        !1))
    }
    function tl() {
        if (!C.default.localStorage)
            return null;
        var e = C.default.localStorage.getItem(Qs);
        if (!e)
            return null;
        try {
            return JSON.parse(e)
        } catch (e) {
            return null
        }
    }
    Ks.supportsNativeHls = function() {
        if (!M.default || !M.default.createElement)
            return !1;
        var t = M.default.createElement("video");
        if (!na.getTech("Html5").isSupported())
            return !1;
        return ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some(function(e) {
            return /maybe|probably/i.test(t.canPlayType(e))
        })
    }(),
    Ks.supportsNativeDash = !!(M.default && M.default.createElement && na.getTech("Html5").isSupported()) && /maybe|probably/i.test(M.default.createElement("video").canPlayType("application/dash+xml")),
    Ks.supportsTypeNatively = function(e) {
        return "hls" === e ? Ks.supportsNativeHls : "dash" === e && Ks.supportsNativeDash
    }
    ,
    Ks.isSupported = function() {
        return na.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
    }
    ;
    var nl = function(a) {
        function e(e, t, n) {
            var i;
            if (i = a.call(this, t, na.mergeOptions(n.hls, n.vhs)) || this,
            n.hls && Object.keys(n.hls).length && na.log.warn("Using hls options is deprecated. Use vhs instead."),
            "number" == typeof n.initialBandwidth && (i.options_.bandwidth = n.initialBandwidth),
            i.logger_ = oa("VhsHandler"),
            t.options_ && t.options_.playerId) {
                var r = na(t.options_.playerId);
                r.hasOwnProperty("hls") || Object.defineProperty(r, "hls", {
                    get: function() {
                        return na.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),
                        t.trigger({
                            type: "usage",
                            name: "hls-player-access"
                        }),
                        P.default(i)
                    },
                    configurable: !0
                }),
                r.hasOwnProperty("vhs") || Object.defineProperty(r, "vhs", {
                    get: function() {
                        return na.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),
                        t.trigger({
                            type: "usage",
                            name: "vhs-player-access"
                        }),
                        P.default(i)
                    },
                    configurable: !0
                }),
                r.hasOwnProperty("dash") || Object.defineProperty(r, "dash", {
                    get: function() {
                        return na.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),
                        P.default(i)
                    },
                    configurable: !0
                }),
                i.player_ = r
            }
            if (i.tech_ = t,
            i.source_ = e,
            i.stats = {},
            i.ignoreNextSeekingEvent_ = !1,
            i.setOptions_(),
            i.options_.overrideNative && t.overrideNativeAudioTracks && t.overrideNativeVideoTracks)
                t.overrideNativeAudioTracks(!0),
                t.overrideNativeVideoTracks(!0);
            else if (i.options_.overrideNative && (t.featuresNativeVideoTracks || t.featuresNativeAudioTracks))
                throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
            return i.on(M.default, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], function(e) {
                var t = M.default.fullscreenElement || M.default.webkitFullscreenElement || M.default.mozFullScreenElement || M.default.msFullscreenElement;
                t && t.contains(i.tech_.el()) ? i.masterPlaylistController_.fastQualityChange_() : i.masterPlaylistController_.checkABR_()
            }),
            i.on(i.tech_, "seeking", function() {
                this.ignoreNextSeekingEvent_ ? this.ignoreNextSeekingEvent_ = !1 : this.setCurrentTime(this.tech_.currentTime())
            }),
            i.on(i.tech_, "error", function() {
                this.tech_.error() && this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading()
            }),
            i.on(i.tech_, "play", i.play),
            i
        }
        A.default(e, a);
        var t = e.prototype;
        return t.setOptions_ = function() {
            var t = this;
            if (this.options_.withCredentials = this.options_.withCredentials || !1,
            this.options_.handleManifestRedirects = !1 !== this.options_.handleManifestRedirects,
            this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions,
            this.options_.useDevicePixelRatio = this.options_.useDevicePixelRatio || !1,
            this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1,
            this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1,
            this.options_.customTagParsers = this.options_.customTagParsers || [],
            this.options_.customTagMappers = this.options_.customTagMappers || [],
            this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || !1,
            "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300),
            "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage) {
                var e = tl();
                e && e.bandwidth && (this.options_.bandwidth = e.bandwidth,
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-bandwidth-from-local-storage"
                }),
                this.tech_.trigger({
                    type: "usage",
                    name: "hls-bandwidth-from-local-storage"
                })),
                e && e.throughput && (this.options_.throughput = e.throughput,
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-throughput-from-local-storage"
                }),
                this.tech_.trigger({
                    type: "usage",
                    name: "hls-throughput-from-local-storage"
                }))
            }
            "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = Yo.INITIAL_BANDWIDTH),
            this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Yo.INITIAL_BANDWIDTH,
            ["withCredentials", "useDevicePixelRatio", "limitRenditionByPlayerDimensions", "bandwidth", "smoothQualityChange", "customTagParsers", "customTagMappers", "handleManifestRedirects", "cacheEncryptionKeys", "playlistSelector", "initialPlaylistSelector", "experimentalBufferBasedABR", "liveRangeSafeTimeDelta", "experimentalLLHLS", "experimentalExactManifestTimings", "experimentalLeastPixelDiffSelector"].forEach(function(e) {
                void 0 !== t.source_[e] && (t.options_[e] = t.source_[e])
            }),
            this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions,
            this.useDevicePixelRatio = this.options_.useDevicePixelRatio
        }
        ,
        t.src = function(e, t) {
            var n = this;
            if (e) {
                this.setOptions_(),
                this.options_.src = function(e) {
                    return 0 === e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,") ? JSON.parse(e.substring(e.indexOf(",") + 1)) : e
                }(this.source_.src),
                this.options_.tech = this.tech_,
                this.options_.externVhs = Ks,
                this.options_.sourceType = v.simpleTypeFromSourceType(t),
                this.options_.seekTo = function(e) {
                    n.tech_.setCurrentTime(e)
                }
                ,
                this.options_.smoothQualityChange && na.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),
                this.masterPlaylistController_ = new qs(this.options_);
                var i = na.mergeOptions({
                    liveRangeSafeTimeDelta: .1
                }, this.options_, {
                    seekable: function() {
                        return n.seekable()
                    },
                    media: function() {
                        return n.masterPlaylistController_.media()
                    },
                    masterPlaylistController: this.masterPlaylistController_
                });
                this.playbackWatcher_ = new Xs(i),
                this.masterPlaylistController_.on("error", function() {
                    var e = na.players[n.tech_.options_.playerId]
                      , t = n.masterPlaylistController_.error;
                    "object" != typeof t || t.code ? "string" == typeof t && (t = {
                        message: t,
                        code: 3
                    }) : t.code = 3,
                    e.error(t)
                });
                var r = this.options_.experimentalBufferBasedABR ? Ks.movingAverageBandwidthSelector(.55) : Ks.STANDARD_PLAYLIST_SELECTOR;
                this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : r.bind(this),
                this.masterPlaylistController_.selectInitialPlaylist = Ks.INITIAL_PLAYLIST_SELECTOR.bind(this),
                this.playlists = this.masterPlaylistController_.masterPlaylistLoader_,
                this.mediaSource = this.masterPlaylistController_.mediaSource,
                Object.defineProperties(this, {
                    selectPlaylist: {
                        get: function() {
                            return this.masterPlaylistController_.selectPlaylist
                        },
                        set: function(e) {
                            this.masterPlaylistController_.selectPlaylist = e.bind(this)
                        }
                    },
                    throughput: {
                        get: function() {
                            return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate
                        },
                        set: function(e) {
                            this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e,
                            this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1
                        }
                    },
                    bandwidth: {
                        get: function() {
                            return this.masterPlaylistController_.mainSegmentLoader_.bandwidth
                        },
                        set: function(e) {
                            this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e,
                            this.masterPlaylistController_.mainSegmentLoader_.throughput = {
                                rate: 0,
                                count: 0
                            }
                        }
                    },
                    systemBandwidth: {
                        get: function() {
                            var e, t = 1 / (this.bandwidth || 1);
                            return e = 0 < this.throughput ? 1 / this.throughput : 0,
                            Math.floor(1 / (t + e))
                        },
                        set: function() {
                            na.log.error('The "systemBandwidth" property is read-only')
                        }
                    }
                }),
                this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth),
                this.options_.throughput && (this.throughput = this.options_.throughput),
                Object.defineProperties(this.stats, {
                    bandwidth: {
                        get: function() {
                            return n.bandwidth || 0
                        },
                        enumerable: !0
                    },
                    mediaRequests: {
                        get: function() {
                            return n.masterPlaylistController_.mediaRequests_() || 0
                        },
                        enumerable: !0
                    },
                    mediaRequestsAborted: {
                        get: function() {
                            return n.masterPlaylistController_.mediaRequestsAborted_() || 0
                        },
                        enumerable: !0
                    },
                    mediaRequestsTimedout: {
                        get: function() {
                            return n.masterPlaylistController_.mediaRequestsTimedout_() || 0
                        },
                        enumerable: !0
                    },
                    mediaRequestsErrored: {
                        get: function() {
                            return n.masterPlaylistController_.mediaRequestsErrored_() || 0
                        },
                        enumerable: !0
                    },
                    mediaTransferDuration: {
                        get: function() {
                            return n.masterPlaylistController_.mediaTransferDuration_() || 0
                        },
                        enumerable: !0
                    },
                    mediaBytesTransferred: {
                        get: function() {
                            return n.masterPlaylistController_.mediaBytesTransferred_() || 0
                        },
                        enumerable: !0
                    },
                    mediaSecondsLoaded: {
                        get: function() {
                            return n.masterPlaylistController_.mediaSecondsLoaded_() || 0
                        },
                        enumerable: !0
                    },
                    mediaAppends: {
                        get: function() {
                            return n.masterPlaylistController_.mediaAppends_() || 0
                        },
                        enumerable: !0
                    },
                    mainAppendsToLoadedData: {
                        get: function() {
                            return n.masterPlaylistController_.mainAppendsToLoadedData_() || 0
                        },
                        enumerable: !0
                    },
                    audioAppendsToLoadedData: {
                        get: function() {
                            return n.masterPlaylistController_.audioAppendsToLoadedData_() || 0
                        },
                        enumerable: !0
                    },
                    appendsToLoadedData: {
                        get: function() {
                            return n.masterPlaylistController_.appendsToLoadedData_() || 0
                        },
                        enumerable: !0
                    },
                    timeToLoadedData: {
                        get: function() {
                            return n.masterPlaylistController_.timeToLoadedData_() || 0
                        },
                        enumerable: !0
                    },
                    buffered: {
                        get: function() {
                            return ha(n.tech_.buffered())
                        },
                        enumerable: !0
                    },
                    currentTime: {
                        get: function() {
                            return n.tech_.currentTime()
                        },
                        enumerable: !0
                    },
                    currentSource: {
                        get: function() {
                            return n.tech_.currentSource_
                        },
                        enumerable: !0
                    },
                    currentTech: {
                        get: function() {
                            return n.tech_.name_
                        },
                        enumerable: !0
                    },
                    duration: {
                        get: function() {
                            return n.tech_.duration()
                        },
                        enumerable: !0
                    },
                    master: {
                        get: function() {
                            return n.playlists.master
                        },
                        enumerable: !0
                    },
                    playerDimensions: {
                        get: function() {
                            return n.tech_.currentDimensions()
                        },
                        enumerable: !0
                    },
                    seekable: {
                        get: function() {
                            return ha(n.tech_.seekable())
                        },
                        enumerable: !0
                    },
                    timestamp: {
                        get: function() {
                            return Date.now()
                        },
                        enumerable: !0
                    },
                    videoPlaybackQuality: {
                        get: function() {
                            return n.tech_.getVideoPlaybackQuality()
                        },
                        enumerable: !0
                    }
                }),
                this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),
                this.tech_.on("bandwidthupdate", function() {
                    n.options_.useBandwidthFromLocalStorage && function(e) {
                        if (!C.default.localStorage)
                            return;
                        var t = tl();
                        t = t ? na.mergeOptions(t, e) : e;
                        try {
                            C.default.localStorage.setItem(Qs, JSON.stringify(t))
                        } catch (e) {
                            return
                        }
                    }({
                        bandwidth: n.bandwidth,
                        throughput: Math.round(n.throughput)
                    })
                }),
                this.masterPlaylistController_.on("selectedinitialmedia", function() {
                    !function(n) {
                        n.representations = function() {
                            var e = n.masterPlaylistController_.master()
                              , t = ka(e) ? n.masterPlaylistController_.getAudioTrackPlaylists_() : e.playlists;
                            return t ? t.filter(function(e) {
                                return !xa(e)
                            }).map(function(e, t) {
                                return new _s(n,e,e.id)
                            }) : []
                        }
                    }(n)
                }),
                this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers", function() {
                    n.setupEme_()
                }),
                this.on(this.masterPlaylistController_, "progress", function() {
                    this.tech_.trigger("progress")
                }),
                this.on(this.masterPlaylistController_, "firstplay", function() {
                    this.ignoreNextSeekingEvent_ = !0
                }),
                this.setupQualityLevels_(),
                this.tech_.el() && (this.mediaSourceUrl_ = C.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource),
                this.tech_.src(this.mediaSourceUrl_))
            }
        }
        ,
        t.setupEme_ = function() {
            var t = this
              , e = this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader
              , n = el({
                player: this.player_,
                sourceKeySystems: this.source_.keySystems,
                media: this.playlists.media(),
                audioMedia: e && e.media()
            });
            this.player_.tech_.on("keystatuschange", function(e) {
                "output-restricted" === e.status && t.masterPlaylistController_.blacklistCurrentPlaylist({
                    playlist: t.masterPlaylistController_.media(),
                    message: "DRM keystatus changed to " + e.status + ". Playlist will fail to play. Check for HDCP content.",
                    blacklistDuration: 1 / 0
                })
            }),
            11 !== na.browser.IE_VERSION && n ? (this.logger_("waiting for EME key session creation"),
            Js({
                player: this.player_,
                sourceKeySystems: this.source_.keySystems,
                audioMedia: e && e.media(),
                mainPlaylists: this.playlists.master.playlists
            }).then(function() {
                t.logger_("created EME key session"),
                t.masterPlaylistController_.sourceUpdater_.initializedEme()
            }).catch(function(e) {
                t.logger_("error while creating EME key session", e),
                t.player_.error({
                    message: "Failed to initialize media keys for EME",
                    code: 3
                })
            })) : this.masterPlaylistController_.sourceUpdater_.initializedEme()
        }
        ,
        t.setupQualityLevels_ = function() {
            var e = this
              , t = na.players[this.tech_.options_.playerId];
            t && t.qualityLevels && !this.qualityLevels_ && (this.qualityLevels_ = t.qualityLevels(),
            this.masterPlaylistController_.on("selectedinitialmedia", function() {
                !function(t, e) {
                    e.representations().forEach(function(e) {
                        t.addQualityLevel(e)
                    }),
                    Zs(t, e.playlists)
                }(e.qualityLevels_, e)
            }),
            this.playlists.on("mediachange", function() {
                Zs(e.qualityLevels_, e.playlists)
            }))
        }
        ,
        e.version = function() {
            return {
                "@videojs/http-streaming": "2.10.2",
                "mux.js": "5.13.0",
                "mpd-parser": "0.19.0",
                "m3u8-parser": "4.7.0",
                "aes-decrypter": "3.1.2"
            }
        }
        ,
        t.version = function() {
            return this.constructor.version()
        }
        ,
        t.canChangeType = function() {
            return Rs.canChangeType()
        }
        ,
        t.play = function() {
            this.masterPlaylistController_.play()
        }
        ,
        t.setCurrentTime = function(e) {
            this.masterPlaylistController_.setCurrentTime(e)
        }
        ,
        t.duration = function() {
            return this.masterPlaylistController_.duration()
        }
        ,
        t.seekable = function() {
            return this.masterPlaylistController_.seekable()
        }
        ,
        t.dispose = function() {
            this.playbackWatcher_ && this.playbackWatcher_.dispose(),
            this.masterPlaylistController_ && this.masterPlaylistController_.dispose(),
            this.qualityLevels_ && this.qualityLevels_.dispose(),
            this.player_ && (delete this.player_.vhs,
            delete this.player_.dash,
            delete this.player_.hls),
            this.tech_ && this.tech_.vhs && delete this.tech_.vhs,
            this.tech_ && delete this.tech_.hls,
            this.mediaSourceUrl_ && C.default.URL.revokeObjectURL && (C.default.URL.revokeObjectURL(this.mediaSourceUrl_),
            this.mediaSourceUrl_ = null),
            a.prototype.dispose.call(this)
        }
        ,
        t.convertToProgramTime = function(e, t) {
            return Xa({
                playlist: this.masterPlaylistController_.media(),
                time: e,
                callback: t
            })
        }
        ,
        t.seekToProgramTime = function(e, t, n, i) {
            return void 0 === n && (n = !0),
            void 0 === i && (i = 2),
            Ya({
                programTime: e,
                playlist: this.masterPlaylistController_.media(),
                retryCount: i,
                pauseAfterSeek: n,
                seekTo: this.options_.seekTo,
                tech: this.options_.tech,
                callback: t
            })
        }
        ,
        e
    }(na.getComponent("Component"))
      , il = {
        name: "videojs-http-streaming",
        VERSION: "2.10.2",
        canHandleSource: function(e, t) {
            void 0 === t && (t = {});
            var n = na.mergeOptions(na.options, t);
            return il.canPlayType(e.type, n)
        },
        handleSource: function(e, t, n) {
            void 0 === n && (n = {});
            var i = na.mergeOptions(na.options, n);
            return t.vhs = new nl(e,t,i),
            na.hasOwnProperty("hls") || Object.defineProperty(t, "hls", {
                get: function() {
                    return na.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),
                    t.vhs
                },
                configurable: !0
            }),
            t.vhs.xhr = ja(),
            t.vhs.src(e.src, e.type),
            t.vhs
        },
        canPlayType: function(e, t) {
            void 0 === t && (t = {});
            var n = na.mergeOptions(na.options, t).vhs.overrideNative
              , i = void 0 === n ? !na.browser.IS_ANY_SAFARI : n
              , r = v.simpleTypeFromSourceType(e);
            return r && (!Ks.supportsTypeNatively(r) || i) ? "maybe" : ""
        }
    };
    g.browserSupportsCodec("avc1.4d400d,mp4a.40.2") && na.getTech("Html5").registerSourceHandler(il, 0),
    na.VhsHandler = nl,
    Object.defineProperty(na, "HlsHandler", {
        get: function() {
            return na.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),
            nl
        },
        configurable: !0
    }),
    na.VhsSourceHandler = il,
    Object.defineProperty(na, "HlsSourceHandler", {
        get: function() {
            return na.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),
            il
        },
        configurable: !0
    }),
    na.Vhs = Ks,
    Object.defineProperty(na, "Hls", {
        get: function() {
            return na.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),
            Ks
        },
        configurable: !0
    }),
    na.use || (na.registerComponent("Hls", Ks),
    na.registerComponent("Vhs", Ks)),
    na.options.vhs = na.options.vhs || {},
    na.options.hls = na.options.hls || {},
    na.registerPlugin ? na.registerPlugin("reloadSourceOnError", ws) : na.plugin("reloadSourceOnError", ws),
    e.exports = na
}
, function(e, t) {
    e.exports = function(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    ,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t, n) {
    "use strict";
    var i = n(285);
    t.a = new i.a
}
, function(e, n, i) {
    var r, a;
    /*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
    /*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
    !function(t) {
        "use strict";
        r = [i(594)],
        void 0 === (a = function(e) {
            return function(t, e) {
                "use strict";
                var r = t.jQuery
                  , a = t.console;
                function o(e, t) {
                    for (var n in t) {
                        e[n] = t[n]
                    }
                    return e
                }
                var n = Array.prototype.slice;
                function s(e) {
                    if (Array.isArray(e)) {
                        return e
                    }
                    var t = typeof e == "object" && typeof e.length == "number";
                    if (t) {
                        return n.call(e)
                    }
                    return [e]
                }
                function l(e, t, n) {
                    if (!(this instanceof l)) {
                        return new l(e,t,n)
                    }
                    var i = e;
                    if (typeof e == "string") {
                        i = document.querySelectorAll(e)
                    }
                    if (!i) {
                        a.error("Bad element for imagesLoaded " + (i || e));
                        return
                    }
                    this.elements = s(i);
                    this.options = o({}, this.options);
                    if (typeof t == "function") {
                        n = t
                    } else {
                        o(this.options, t)
                    }
                    if (n) {
                        this.on("always", n)
                    }
                    this.getImages();
                    if (r) {
                        this.jqDeferred = new r.Deferred
                    }
                    setTimeout(this.check.bind(this))
                }
                (l.prototype = Object.create(e.prototype)).options = {},
                l.prototype.getImages = function() {
                    this.images = [];
                    this.elements.forEach(this.addElementImages, this)
                }
                ,
                l.prototype.addElementImages = function(e) {
                    if (e.nodeName == "IMG") {
                        this.addImage(e)
                    }
                    if (this.options.background === true) {
                        this.addElementBackgroundImages(e)
                    }
                    var t = e.nodeType;
                    if (!t || !u[t]) {
                        return
                    }
                    var n = e.querySelectorAll("img");
                    for (var i = 0; i < n.length; i++) {
                        var r = n[i];
                        this.addImage(r)
                    }
                    if (typeof this.options.background == "string") {
                        var a = e.querySelectorAll(this.options.background);
                        for (i = 0; i < a.length; i++) {
                            var o = a[i];
                            this.addElementBackgroundImages(o)
                        }
                    }
                }
                ;
                var u = {
                    1: true,
                    9: true,
                    11: true
                };
                function i(e) {
                    this.img = e
                }
                function c(e, t) {
                    this.url = e;
                    this.element = t;
                    this.img = new Image
                }
                return l.prototype.addElementBackgroundImages = function(e) {
                    var t = getComputedStyle(e);
                    if (t)
                        for (var n = /url\((['"])?(.*?)\1\)/gi, i = n.exec(t.backgroundImage); null !== i; ) {
                            var r = i && i[2];
                            r && this.addBackground(r, e),
                            i = n.exec(t.backgroundImage)
                        }
                }
                ,
                l.prototype.addImage = function(e) {
                    var t = new i(e);
                    this.images.push(t)
                }
                ,
                l.prototype.addBackground = function(e, t) {
                    var n = new c(e,t);
                    this.images.push(n)
                }
                ,
                l.prototype.check = function() {
                    var i = this;
                    function t(e, t, n) {
                        setTimeout(function() {
                            i.progress(e, t, n)
                        })
                    }
                    this.progressedCount = 0,
                    this.hasAnyBroken = !1,
                    this.images.length ? this.images.forEach(function(e) {
                        e.once("progress", t),
                        e.check()
                    }) : this.complete()
                }
                ,
                l.prototype.progress = function(e, t, n) {
                    this.progressedCount++,
                    this.hasAnyBroken = this.hasAnyBroken || !e.isLoaded,
                    this.emitEvent("progress", [this, e, t]),
                    this.jqDeferred && this.jqDeferred.notify && this.jqDeferred.notify(this, e),
                    this.progressedCount == this.images.length && this.complete(),
                    this.options.debug && a && a.log("progress: " + n, e, t)
                }
                ,
                l.prototype.complete = function() {
                    var e = this.hasAnyBroken ? "fail" : "done";
                    if (this.isComplete = !0,
                    this.emitEvent(e, [this]),
                    this.emitEvent("always", [this]),
                    this.jqDeferred) {
                        var t = this.hasAnyBroken ? "reject" : "resolve";
                        this.jqDeferred[t](this)
                    }
                }
                ,
                (i.prototype = Object.create(e.prototype)).check = function() {
                    this.getIsImageComplete() ? this.confirm(0 !== this.img.naturalWidth, "naturalWidth") : (this.proxyImage = new Image,
                    this.proxyImage.addEventListener("load", this),
                    this.proxyImage.addEventListener("error", this),
                    this.img.addEventListener("load", this),
                    this.img.addEventListener("error", this),
                    this.proxyImage.src = this.img.src)
                }
                ,
                i.prototype.getIsImageComplete = function() {
                    return this.img.complete && this.img.naturalWidth
                }
                ,
                i.prototype.confirm = function(e, t) {
                    this.isLoaded = e,
                    this.emitEvent("progress", [this, this.img, t])
                }
                ,
                i.prototype.handleEvent = function(e) {
                    var t = "on" + e.type;
                    this[t] && this[t](e)
                }
                ,
                i.prototype.onload = function() {
                    this.confirm(!0, "onload"),
                    this.unbindEvents()
                }
                ,
                i.prototype.onerror = function() {
                    this.confirm(!1, "onerror"),
                    this.unbindEvents()
                }
                ,
                i.prototype.unbindEvents = function() {
                    this.proxyImage.removeEventListener("load", this),
                    this.proxyImage.removeEventListener("error", this),
                    this.img.removeEventListener("load", this),
                    this.img.removeEventListener("error", this)
                }
                ,
                (c.prototype = Object.create(i.prototype)).check = function() {
                    this.img.addEventListener("load", this),
                    this.img.addEventListener("error", this),
                    this.img.src = this.url,
                    this.getIsImageComplete() && (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"),
                    this.unbindEvents())
                }
                ,
                c.prototype.unbindEvents = function() {
                    this.img.removeEventListener("load", this),
                    this.img.removeEventListener("error", this)
                }
                ,
                c.prototype.confirm = function(e, t) {
                    this.isLoaded = e,
                    this.emitEvent("progress", [this, this.element, t])
                }
                ,
                l.makeJQueryPlugin = function(e) {
                    (e = e || t.jQuery) && ((r = e).fn.imagesLoaded = function(e, t) {
                        return new l(this,e,t).jqDeferred.promise(r(this))
                    }
                    )
                }
                ,
                l.makeJQueryPlugin(),
                l
            }(t, e)
        }
        .apply(n, r)) || (e.exports = a)
    }("undefined" != typeof window ? window : this)
}
, function(e, t, n) {
    window,
    e.exports = function(n) {
        var i = {};
        function r(e) {
            if (i[e])
                return i[e].exports;
            var t = i[e] = {
                i: e,
                l: !1,
                exports: {}
            };
            return n[e].call(t.exports, t, t.exports, r),
            t.l = !0,
            t.exports
        }
        return r.m = n,
        r.c = i,
        r.d = function(e, t, n) {
            r.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: n
            })
        }
        ,
        r.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }
        ,
        r.t = function(t, e) {
            if (1 & e && (t = r(t)),
            8 & e)
                return t;
            if (4 & e && "object" == typeof t && t && t.__esModule)
                return t;
            var n = Object.create(null);
            if (r.r(n),
            Object.defineProperty(n, "default", {
                enumerable: !0,
                value: t
            }),
            2 & e && "string" != typeof t)
                for (var i in t)
                    r.d(n, i, function(e) {
                        return t[e]
                    }
                    .bind(null, i));
            return n
        }
        ,
        r.n = function(e) {
            var t = e && e.__esModule ? function() {
                return e.default
            }
            : function() {
                return e
            }
            ;
            return r.d(t, "a", t),
            t
        }
        ,
        r.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        r.p = "",
        r(r.s = 3)
    }([function(e, t, n) {
        "use strict";
        var o = function(e) {
            return "number" == typeof e && !isNaN(e)
        };
        e.exports = function(e, t) {
            var n = (t = t || t.currentTarget).getBoundingClientRect()
              , i = e.originalEvent || e
              , r = 0
              , a = 0;
            return e.touches && e.touches.length ? o(e.touches[0].pageX) && o(e.touches[0].pageY) ? (r = e.touches[0].pageX,
            a = e.touches[0].pageY) : o(e.touches[0].clientX) && o(e.touches[0].clientY) && (r = i.touches[0].clientX,
            a = i.touches[0].clientY) : o(e.pageX) && o(e.pageY) ? (r = e.pageX,
            a = e.pageY) : e.currentPoint && o(e.currentPoint.x) && o(e.currentPoint.y) && (r = e.currentPoint.x,
            a = e.currentPoint.y),
            {
                x: r - n.left,
                y: a - n.top
            }
        }
    }
    , function(n, e, t) {
        (function(e) {
            var t = e.CustomEvent;
            n.exports = function() {
                try {
                    var e = new t("cat",{
                        detail: {
                            foo: "bar"
                        }
                    });
                    return "cat" === e.type && "bar" === e.detail.foo
                } catch (e) {}
                return !1
            }() ? t : "undefined" != typeof document && "function" == typeof document.createEvent ? function(e, t) {
                var n = document.createEvent("CustomEvent");
                return t ? n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail) : n.initCustomEvent(e, !1, !1, void 0),
                n
            }
            : function(e, t) {
                var n = document.createEventObject();
                return n.type = e,
                t ? (n.bubbles = Boolean(t.bubbles),
                n.cancelable = Boolean(t.cancelable),
                n.detail = t.detail) : (n.bubbles = !1,
                n.cancelable = !1,
                n.detail = void 0),
                n
            }
        }
        ).call(this, t(2))
    }
    , function(e, t) {
        var n;
        n = function() {
            return this
        }();
        try {
            n = n || new Function("return this")()
        } catch (e) {
            "object" == typeof window && (n = window)
        }
        e.exports = n
    }
    , function(e, t, n) {
        "use strict";
        n.r(t);
        var i = n(1)
          , r = n.n(i);
        window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;
        var a = Number.isNaN || function(e) {
            return e != e
        }
          , o = Number.isFinite || function(e) {
            return !("number" != typeof e || a(e) || e === 1 / 0 || e === -1 / 0)
        }
          , s = function() {
            var t = []
              , e = !1;
            function n() {
                e || (e = !0,
                window.requestAnimationFrame ? window.requestAnimationFrame(i) : setTimeout(i, 66))
            }
            function i() {
                t.forEach(function(e) {
                    e()
                }),
                e = !1
            }
            return {
                add: function(e) {
                    t.length || window.addEventListener("resize", n),
                    function(e) {
                        e && t.push(e)
                    }(e)
                }
            }
        }()
          , l = {
            emit: function(e, t, n) {
                e.dispatchEvent(new r.a(t,n))
            },
            isFiniteNumber: o,
            getFirstNumberLike: function() {
                if (!arguments.length)
                    return null;
                for (var e = 0, t = arguments.length; e < t; e++)
                    if (n = arguments[e],
                    o(parseFloat(n)) || o(n))
                        return arguments[e];
                var n
            },
            getDimension: function(e, t) {
                var n, i = function(e) {
                    for (var t = [], n = e.parentNode; n && (0 === (i = n).offsetWidth || 0 === i.offsetHeight || !1 === i.open); )
                        t.push(n),
                        n = n.parentNode;
                    var i;
                    return t
                }(e), r = i.length, a = [], o = e[t], s = 0;
                function l(e) {
                    void 0 !== e.open && (e.open = !e.open)
                }
                if (r) {
                    for (s = 0; s < r; s++)
                        n = i[s].style,
                        a[s] = n.display,
                        n.display = "block",
                        n.height = "0",
                        n.overflow = "hidden",
                        n.visibility = "hidden",
                        l(i[s]);
                    for (o = e[t],
                    s = 0; s < r; s++)
                        n = i[s].style,
                        l(i[s]),
                        n.display = a[s],
                        n.height = "",
                        n.overflow = "",
                        n.visibility = ""
                }
                return o
            },
            insertAfter: function(e, t) {
                e.parentNode.insertBefore(t, e.nextSibling)
            },
            forEachAncestorsAndSelf: function(e, t) {
                for (t(e); e.parentNode && !t(e); )
                    e = e.parentNode;
                return e
            },
            clamp: function(e, t, n) {
                return t < n ? e < t ? t : n < e ? n : e : e < n ? n : t < e ? t : e
            },
            optimizedResize: s
        }
          , u = n(0)
          , c = n.n(u)
          , h = {
            MIN_DEFAULT: 0,
            MAX_DEFAULT: 100,
            RANGE_CLASS: "rangeslider",
            FILL_CLASS: "rangeslider__fill",
            FILL_BG_CLASS: "rangeslider__fill__bg",
            HANDLE_CLASS: "rangeslider__handle",
            DISABLED_CLASS: "rangeslider--disabled",
            STEP_DEFAULT: 1,
            START_EVENTS: ["mousedown", "touchstart", "pointerdown"],
            MOVE_EVENTS: ["mousemove", "touchmove", "pointermove"],
            END_EVENTS: ["mouseup", "touchend", "pointerup"],
            PLUGIN_NAME: "rangeslider-js"
        };
        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, i.key, i)
            }
        }
        var p = function(e) {
            var t = document && document.createElement("div");
            return t.classList.add(e),
            t
        }
          , f = function(e) {
            return "".concat(e).replace(".", "").length - 1
        }
          , m = function() {
            function i(t, e) {
                var n = this;
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, i),
                e = e || {},
                this.element = t,
                this.options = e,
                this.onSlideEventsCount = -1,
                this.isInteracting = !1,
                this.needTriggerEvents = !1,
                this.constructor.count = this.constructor.count || 0,
                this.identifier = "js-".concat(h.PLUGIN_NAME, "-").concat(this.constructor.count++),
                this.min = l.getFirstNumberLike(e.min, parseFloat(t.getAttribute("min")), h.MIN_DEFAULT),
                this.max = l.getFirstNumberLike(e.max, parseFloat(t.getAttribute("max")), h.MAX_DEFAULT),
                this.value = l.getFirstNumberLike(e.value, parseFloat(t.getAttribute("value")), this.min + (this.max - this.min) / 2),
                this.step = l.getFirstNumberLike(e.step, parseFloat(t.getAttribute("step")), h.STEP_DEFAULT),
                this.percent = null,
                this._updatePercentFromValue(),
                this.toFixed = f(this.step),
                this.range = p(h.RANGE_CLASS),
                this.range.id = this.identifier,
                this.fillBg = p(h.FILL_BG_CLASS),
                this.fill = p(h.FILL_CLASS),
                this.handle = p(h.HANDLE_CLASS),
                ["fillBg", "fill", "handle"].forEach(function(e) {
                    return n.range.appendChild(n[e])
                }),
                ["min", "max", "step"].forEach(function(e) {
                    return t.setAttribute(e, "".concat(n[e]))
                }),
                this._setValue(this.value),
                l.insertAfter(t, this.range),
                t.style.position = "absolute",
                t.style.width = "1px",
                t.style.height = "1px",
                t.style.overflow = "hidden",
                t.style.opacity = "0",
                ["_update", "_handleDown", "_handleMove", "_handleEnd", "_startEventListener", "_changeEventListener"].forEach(function(e) {
                    n[e] = n[e].bind(n)
                }),
                this._init(),
                l.optimizedResize.add(this._update),
                h.START_EVENTS.forEach(function(e) {
                    return n.range.addEventListener(e, n._startEventListener)
                }),
                t.addEventListener("change", this._changeEventListener)
            }
            return d(i.prototype, [{
                key: "_init",
                value: function() {
                    this._update(),
                    this.options.onInit && this.options.onInit.call(this, this.value, this.percent, this.position)
                }
            }, {
                key: "_updatePercentFromValue",
                value: function() {
                    this.percent = (this.value - this.min) / (this.max - this.min)
                }
            }, {
                key: "_startEventListener",
                value: function(e) {
                    var t = e.target
                      , n = this.identifier
                      , i = !1;
                    l.forEachAncestorsAndSelf(t, function(e) {
                        return i = e.id === n && !e.classList.contains(h.DISABLED_CLASS)
                    }),
                    i && this._handleDown(e)
                }
            }, {
                key: "_changeEventListener",
                value: function(e, t) {
                    (t && t.origin) !== this.identifier && this._setPosition(this._getPositionFromValue(e.target.value))
                }
            }, {
                key: "_update",
                value: function() {
                    this.handleWidth = l.getDimension(this.handle, "offsetWidth"),
                    this.rangeWidth = l.getDimension(this.range, "offsetWidth"),
                    this.maxHandleX = this.rangeWidth - this.handleWidth,
                    this.grabX = this.handleWidth / 2,
                    this.position = this._getPositionFromValue(this.value),
                    this.range.classList[this.element.disabled ? "add" : "remove"](h.DISABLED_CLASS),
                    this._setPosition(this.position),
                    this._updatePercentFromValue(),
                    this._emit("change")
                }
            }, {
                key: "_listen",
                value: function(e) {
                    var t = this
                      , n = "".concat(e ? "add" : "remove", "EventListener");
                    h.MOVE_EVENTS.forEach(function(e) {
                        return document && document[n](e, t._handleMove)
                    }),
                    h.END_EVENTS.forEach(function(e) {
                        document && document[n](e, t._handleEnd),
                        t.range[n](e, t._handleEnd)
                    })
                }
            }, {
                key: "_handleDown",
                value: function(e) {
                    if (e.preventDefault(),
                    this.isInteracting = !0,
                    this._listen(!0),
                    !e.target.classList.contains(h.HANDLE_CLASS)) {
                        var t = c()(e, this.range).x
                          , n = this.range.getBoundingClientRect().left
                          , i = this.handle.getBoundingClientRect().left - n;
                        this._setPosition(t - this.grabX),
                        i <= t && t < i + this.handleWidth && (this.grabX = t - i),
                        this._updatePercentFromValue()
                    }
                }
            }, {
                key: "_handleMove",
                value: function(e) {
                    this.isInteracting = !0,
                    e.preventDefault();
                    var t = c()(e, this.range).x;
                    this._setPosition(t - this.grabX)
                }
            }, {
                key: "_handleEnd",
                value: function(e) {
                    e.preventDefault(),
                    this._listen(!1),
                    this._emit("change"),
                    (this.isInteracting || this.needTriggerEvents) && this.options.onSlideEnd && this.options.onSlideEnd.call(this, this.value, this.percent, this.position),
                    this.onSlideEventsCount = 0,
                    this.isInteracting = !1
                }
            }, {
                key: "_setPosition",
                value: function(e) {
                    var t = this.isInteracting ? this._getValueFromPosition(l.clamp(e, 0, this.maxHandleX)) : this.value
                      , n = this._getPositionFromValue(t);
                    this.fill.style.width = n + this.grabX + "px",
                    this.handle.style.webkitTransform = this.handle.style.transform = "translate(".concat(n, "px, -50%)"),
                    this._setValue(t),
                    this.position = n,
                    this.value = t,
                    this._updatePercentFromValue(),
                    (this.isInteracting || this.needTriggerEvents) && (this.options.onSlideStart && 0 === this.onSlideEventsCount && this.options.onSlideStart.call(this, this.value, this.percent, this.position),
                    this.options.onSlide && this.options.onSlide.call(this, this.value, this.percent, this.position)),
                    this.onSlideEventsCount++
                }
            }, {
                key: "_getPositionFromValue",
                value: function(e) {
                    return (e - this.min) / (this.max - this.min) * this.maxHandleX
                }
            }, {
                key: "_getValueFromPosition",
                value: function(e) {
                    var t = e / (this.maxHandleX || 1)
                      , n = this.step * Math.round(t * (this.max - this.min) / this.step) + this.min;
                    return Number(n.toFixed(this.toFixed))
                }
            }, {
                key: "_setValue",
                value: function(e) {
                    (e = l.clamp(e, this.min, this.max)) === this.value && e === this.element.value || (this.value = this.element.value = e,
                    this._emit("input"))
                }
            }, {
                key: "_emit",
                value: function(e) {
                    l.emit(this.element, e, {
                        origin: this.identifier
                    })
                }
            }, {
                key: "update",
                value: function(t, e) {
                    return t = t || {},
                    Object.keys(t).forEach(function(e) {
                        return "string" == typeof t[e] && (t[e] = parseFloat(t[e]))
                    }),
                    this.needTriggerEvents = e,
                    l.isFiniteNumber(t.min) && (this.element.setAttribute("min", "".concat(t.min)),
                    this.min = t.min),
                    l.isFiniteNumber(t.max) && (this.element.setAttribute("max", "".concat(t.max)),
                    this.max = t.max),
                    l.isFiniteNumber(t.step) && (this.element.setAttribute("step", "".concat(t.step)),
                    this.step = t.step,
                    this.toFixed = f(t.step)),
                    l.isFiniteNumber(t.value) && this._setValue(t.value),
                    this._update(),
                    this.onSlideEventsCount = 0,
                    this.needTriggerEvents = !1,
                    this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = this;
                    "undefined" != typeof window && window.removeEventListener("resize", this._update, !1),
                    h.START_EVENTS.forEach(function(e) {
                        return t.range.removeEventListener(e, t._startEventListener)
                    }),
                    this.element.removeEventListener("change", this._changeEventListener),
                    this.element.style.cssText = "",
                    delete this.element[h.PLUGIN_NAME],
                    this.range.parentNode.removeChild(this.range)
                }
            }]),
            i
        }();
        t.default = {
            RangeSlider: m,
            utils: l,
            create: function(e, t) {
                function n(e) {
                    e[h.PLUGIN_NAME] = e[h.PLUGIN_NAME] || new m(e,t)
                }
                e && (e.length ? Array.prototype.slice.call(e).forEach(function(e) {
                    return n(e)
                }) : n(e))
            }
        }
    }
    ]).default
}
, function(e, t, n) {
    !function() {
        "use strict";
        var N, e, t, n, i, r, a, o, s, F = function(e, l) {
            if (!(this instanceof F))
                return new F(e,l);
            var t = {
                direction: "horizontal",
                touchEventsTarget: "container",
                initialSlide: 0,
                speed: 300,
                autoplay: !1,
                autoplayDisableOnInteraction: !0,
                autoplayStopOnLast: !1,
                iOSEdgeSwipeDetection: !1,
                iOSEdgeSwipeThreshold: 20,
                freeMode: !1,
                freeModeMomentum: !0,
                freeModeMomentumRatio: 1,
                freeModeMomentumBounce: !0,
                freeModeMomentumBounceRatio: 1,
                freeModeMomentumVelocityRatio: 1,
                freeModeSticky: !1,
                freeModeMinimumVelocity: .02,
                autoHeight: !1,
                setWrapperSize: !1,
                virtualTranslate: !1,
                effect: "slide",
                coverflow: {
                    rotate: 50,
                    stretch: 0,
                    depth: 100,
                    modifier: 1,
                    slideShadows: !0
                },
                flip: {
                    slideShadows: !0,
                    limitRotation: !0
                },
                cube: {
                    slideShadows: !0,
                    shadow: !0,
                    shadowOffset: 20,
                    shadowScale: .94
                },
                fade: {
                    crossFade: !1
                },
                parallax: !1,
                zoom: !1,
                zoomMax: 3,
                zoomMin: 1,
                zoomToggle: !0,
                scrollbar: null,
                scrollbarHide: !0,
                scrollbarDraggable: !1,
                scrollbarSnapOnRelease: !1,
                keyboardControl: !1,
                mousewheelControl: !1,
                mousewheelReleaseOnEdges: !1,
                mousewheelInvert: !1,
                mousewheelForceToAxis: !1,
                mousewheelSensitivity: 1,
                mousewheelEventsTarged: "container",
                hashnav: !1,
                hashnavWatchState: !1,
                history: !1,
                replaceState: !1,
                breakpoints: void 0,
                spaceBetween: 0,
                slidesPerView: 1,
                slidesPerColumn: 1,
                slidesPerColumnFill: "column",
                slidesPerGroup: 1,
                centeredSlides: !1,
                slidesOffsetBefore: 0,
                slidesOffsetAfter: 0,
                roundLengths: !1,
                touchRatio: 1,
                touchAngle: 45,
                simulateTouch: !0,
                shortSwipes: !0,
                longSwipes: !0,
                longSwipesRatio: .5,
                longSwipesMs: 300,
                followFinger: !0,
                onlyExternal: !1,
                threshold: 0,
                touchMoveStopPropagation: !0,
                touchReleaseOnEdges: !1,
                uniqueNavElements: !0,
                pagination: null,
                paginationElement: "span",
                paginationClickable: !1,
                paginationHide: !1,
                paginationBulletRender: null,
                paginationProgressRender: null,
                paginationFractionRender: null,
                paginationCustomRender: null,
                paginationType: "bullets",
                resistance: !0,
                resistanceRatio: .85,
                nextButton: null,
                prevButton: null,
                watchSlidesProgress: !1,
                watchSlidesVisibility: !1,
                grabCursor: !1,
                preventClicks: !0,
                preventClicksPropagation: !0,
                slideToClickedSlide: !1,
                lazyLoading: !1,
                lazyLoadingInPrevNext: !1,
                lazyLoadingInPrevNextAmount: 1,
                lazyLoadingOnTransitionStart: !1,
                preloadImages: !0,
                updateOnImagesReady: !0,
                loop: !1,
                loopAdditionalSlides: 0,
                loopedSlides: null,
                control: void 0,
                controlInverse: !1,
                controlBy: "slide",
                normalizeSlideIndex: !0,
                allowSwipeToPrev: !0,
                allowSwipeToNext: !0,
                swipeHandler: null,
                noSwiping: !0,
                noSwipingClass: "swiper-no-swiping",
                passiveListeners: !0,
                containerModifierClass: "swiper-container-",
                slideClass: "swiper-slide",
                slideActiveClass: "swiper-slide-active",
                slideDuplicateActiveClass: "swiper-slide-duplicate-active",
                slideVisibleClass: "swiper-slide-visible",
                slideDuplicateClass: "swiper-slide-duplicate",
                slideNextClass: "swiper-slide-next",
                slideDuplicateNextClass: "swiper-slide-duplicate-next",
                slidePrevClass: "swiper-slide-prev",
                slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
                wrapperClass: "swiper-wrapper",
                bulletClass: "swiper-pagination-bullet",
                bulletActiveClass: "swiper-pagination-bullet-active",
                buttonDisabledClass: "swiper-button-disabled",
                paginationCurrentClass: "swiper-pagination-current",
                paginationTotalClass: "swiper-pagination-total",
                paginationHiddenClass: "swiper-pagination-hidden",
                paginationProgressbarClass: "swiper-pagination-progressbar",
                paginationClickableClass: "swiper-pagination-clickable",
                paginationModifierClass: "swiper-pagination-",
                lazyLoadingClass: "swiper-lazy",
                lazyStatusLoadingClass: "swiper-lazy-loading",
                lazyStatusLoadedClass: "swiper-lazy-loaded",
                lazyPreloaderClass: "swiper-lazy-preloader",
                notificationClass: "swiper-notification",
                preloaderClass: "preloader",
                zoomContainerClass: "swiper-zoom-container",
                observer: !1,
                observeParents: !1,
                a11y: !1,
                prevSlideMessage: "Previous slide",
                nextSlideMessage: "Next slide",
                firstSlideMessage: "This is the first slide",
                lastSlideMessage: "This is the last slide",
                paginationBulletMessage: "Go to slide {{index}}",
                runCallbacksOnInit: !0
            }
              , n = l && l.virtualTranslate;
            l = l || {};
            var i = {};
            for (var r in l)
                if ("object" != typeof l[r] || null === l[r] || (l[r].nodeType || l[r] === window || l[r] === document || void 0 !== B && l[r]instanceof B || "undefined" != typeof jQuery && l[r]instanceof jQuery))
                    i[r] = l[r];
                else
                    for (var a in i[r] = {},
                    l[r])
                        i[r][a] = l[r][a];
            for (var o in t)
                if (void 0 === l[o])
                    l[o] = t[o];
                else if ("object" == typeof l[o])
                    for (var s in t[o])
                        void 0 === l[o][s] && (l[o][s] = t[o][s]);
            var _ = this;
            if (_.params = l,
            _.originalParams = i,
            _.classNames = [],
            void 0 !== N && void 0 !== B && (N = B),
            (void 0 !== N || (N = void 0 === B ? window.Dom7 || window.Zepto || window.jQuery : B)) && (_.$ = N,
            _.currentBreakpoint = void 0,
            _.getActiveBreakpoint = function() {
                if (!_.params.breakpoints)
                    return !1;
                var e, t = !1, n = [];
                for (e in _.params.breakpoints)
                    _.params.breakpoints.hasOwnProperty(e) && n.push(e);
                n.sort(function(e, t) {
                    return parseInt(e, 10) > parseInt(t, 10)
                });
                for (var i = 0; i < n.length; i++)
                    (e = n[i]) >= window.innerWidth && !t && (t = e);
                return t || "max"
            }
            ,
            _.setBreakpoint = function() {
                var e = _.getActiveBreakpoint();
                if (e && _.currentBreakpoint !== e) {
                    var t = e in _.params.breakpoints ? _.params.breakpoints[e] : _.originalParams
                      , n = _.params.loop && t.slidesPerView !== _.params.slidesPerView;
                    for (var i in t)
                        _.params[i] = t[i];
                    _.currentBreakpoint = e,
                    n && _.destroyLoop && _.reLoop(!0)
                }
            }
            ,
            _.params.breakpoints && _.setBreakpoint(),
            _.container = N(e),
            0 !== _.container.length)) {
                if (1 < _.container.length) {
                    var u = [];
                    return _.container.each(function() {
                        u.push(new F(this,l))
                    }),
                    u
                }
                (_.container[0].swiper = _).container.data("swiper", _),
                _.classNames.push(_.params.containerModifierClass + _.params.direction),
                _.params.freeMode && _.classNames.push(_.params.containerModifierClass + "free-mode"),
                _.support.flexbox || (_.classNames.push(_.params.containerModifierClass + "no-flexbox"),
                _.params.slidesPerColumn = 1),
                _.params.autoHeight && _.classNames.push(_.params.containerModifierClass + "autoheight"),
                (_.params.parallax || _.params.watchSlidesVisibility) && (_.params.watchSlidesProgress = !0),
                _.params.touchReleaseOnEdges && (_.params.resistanceRatio = 0),
                0 <= ["cube", "coverflow", "flip"].indexOf(_.params.effect) && (_.support.transforms3d ? (_.params.watchSlidesProgress = !0,
                _.classNames.push(_.params.containerModifierClass + "3d")) : _.params.effect = "slide"),
                "slide" !== _.params.effect && _.classNames.push(_.params.containerModifierClass + _.params.effect),
                "cube" === _.params.effect && (_.params.resistanceRatio = 0,
                _.params.slidesPerView = 1,
                _.params.slidesPerColumn = 1,
                _.params.slidesPerGroup = 1,
                _.params.centeredSlides = !1,
                _.params.spaceBetween = 0,
                _.params.virtualTranslate = !0),
                "fade" !== _.params.effect && "flip" !== _.params.effect || (_.params.slidesPerView = 1,
                _.params.slidesPerColumn = 1,
                _.params.slidesPerGroup = 1,
                _.params.watchSlidesProgress = !0,
                void (_.params.spaceBetween = 0) === n && (_.params.virtualTranslate = !0)),
                _.params.grabCursor && _.support.touch && (_.params.grabCursor = !1),
                _.wrapper = _.container.children("." + _.params.wrapperClass),
                _.params.pagination && (_.paginationContainer = N(_.params.pagination),
                _.params.uniqueNavElements && "string" == typeof _.params.pagination && 1 < _.paginationContainer.length && 1 === _.container.find(_.params.pagination).length && (_.paginationContainer = _.container.find(_.params.pagination)),
                "bullets" === _.params.paginationType && _.params.paginationClickable ? _.paginationContainer.addClass(_.params.paginationModifierClass + "clickable") : _.params.paginationClickable = !1,
                _.paginationContainer.addClass(_.params.paginationModifierClass + _.params.paginationType)),
                (_.params.nextButton || _.params.prevButton) && (_.params.nextButton && (_.nextButton = N(_.params.nextButton),
                _.params.uniqueNavElements && "string" == typeof _.params.nextButton && 1 < _.nextButton.length && 1 === _.container.find(_.params.nextButton).length && (_.nextButton = _.container.find(_.params.nextButton))),
                _.params.prevButton && (_.prevButton = N(_.params.prevButton),
                _.params.uniqueNavElements && "string" == typeof _.params.prevButton && 1 < _.prevButton.length && 1 === _.container.find(_.params.prevButton).length && (_.prevButton = _.container.find(_.params.prevButton)))),
                _.isHorizontal = function() {
                    return "horizontal" === _.params.direction
                }
                ,
                _.rtl = _.isHorizontal() && ("rtl" === _.container[0].dir.toLowerCase() || "rtl" === _.container.css("direction")),
                _.rtl && _.classNames.push(_.params.containerModifierClass + "rtl"),
                _.rtl && (_.wrongRTL = "-webkit-box" === _.wrapper.css("display")),
                1 < _.params.slidesPerColumn && _.classNames.push(_.params.containerModifierClass + "multirow"),
                _.device.android && _.classNames.push(_.params.containerModifierClass + "android"),
                _.container.addClass(_.classNames.join(" ")),
                _.translate = 0,
                _.progress = 0,
                _.velocity = 0,
                _.lockSwipeToNext = function() {
                    (_.params.allowSwipeToNext = !1) === _.params.allowSwipeToPrev && _.params.grabCursor && _.unsetGrabCursor()
                }
                ,
                _.lockSwipeToPrev = function() {
                    (_.params.allowSwipeToPrev = !1) === _.params.allowSwipeToNext && _.params.grabCursor && _.unsetGrabCursor()
                }
                ,
                _.lockSwipes = function() {
                    _.params.allowSwipeToNext = _.params.allowSwipeToPrev = !1,
                    _.params.grabCursor && _.unsetGrabCursor()
                }
                ,
                _.unlockSwipeToNext = function() {
                    (_.params.allowSwipeToNext = !0) === _.params.allowSwipeToPrev && _.params.grabCursor && _.setGrabCursor()
                }
                ,
                _.unlockSwipeToPrev = function() {
                    (_.params.allowSwipeToPrev = !0) === _.params.allowSwipeToNext && _.params.grabCursor && _.setGrabCursor()
                }
                ,
                _.unlockSwipes = function() {
                    _.params.allowSwipeToNext = _.params.allowSwipeToPrev = !0,
                    _.params.grabCursor && _.setGrabCursor()
                }
                ,
                _.setGrabCursor = function(e) {
                    _.container[0].style.cursor = "move",
                    _.container[0].style.cursor = e ? "-webkit-grabbing" : "-webkit-grab",
                    _.container[0].style.cursor = e ? "-moz-grabbin" : "-moz-grab",
                    _.container[0].style.cursor = e ? "grabbing" : "grab"
                }
                ,
                _.unsetGrabCursor = function() {
                    _.container[0].style.cursor = ""
                }
                ,
                _.params.grabCursor && _.setGrabCursor(),
                _.imagesToLoad = [],
                _.imagesLoaded = 0,
                _.loadImage = function(e, t, n, i, r, a) {
                    var o;
                    function s() {
                        a && a()
                    }
                    e.complete && r ? s() : t ? ((o = new window.Image).onload = s,
                    o.onerror = s,
                    i && (o.sizes = i),
                    n && (o.srcset = n),
                    t && (o.src = t)) : s()
                }
                ,
                _.preloadImages = function() {
                    function e() {
                        null != _ && _ && (void 0 !== _.imagesLoaded && _.imagesLoaded++,
                        _.imagesLoaded === _.imagesToLoad.length && (_.params.updateOnImagesReady && _.update(),
                        _.emit("onImagesReady", _)))
                    }
                    _.imagesToLoad = _.container.find("img");
                    for (var t = 0; t < _.imagesToLoad.length; t++)
                        _.loadImage(_.imagesToLoad[t], _.imagesToLoad[t].currentSrc || _.imagesToLoad[t].getAttribute("src"), _.imagesToLoad[t].srcset || _.imagesToLoad[t].getAttribute("srcset"), _.imagesToLoad[t].sizes || _.imagesToLoad[t].getAttribute("sizes"), !0, e)
                }
                ,
                _.autoplayTimeoutId = void 0,
                _.autoplaying = !1,
                _.autoplayPaused = !1,
                _.startAutoplay = function() {
                    return void 0 === _.autoplayTimeoutId && (!!_.params.autoplay && (!_.autoplaying && (_.autoplaying = !0,
                    _.emit("onAutoplayStart", _),
                    void y())))
                }
                ,
                _.stopAutoplay = function(e) {
                    _.autoplayTimeoutId && (_.autoplayTimeoutId && clearTimeout(_.autoplayTimeoutId),
                    _.autoplaying = !1,
                    _.autoplayTimeoutId = void 0,
                    _.emit("onAutoplayStop", _))
                }
                ,
                _.pauseAutoplay = function(e) {
                    _.autoplayPaused || (_.autoplayTimeoutId && clearTimeout(_.autoplayTimeoutId),
                    _.autoplayPaused = !0,
                    0 === e ? (_.autoplayPaused = !1,
                    y()) : _.wrapper.transitionEnd(function() {
                        _ && (_.autoplayPaused = !1,
                        _.autoplaying ? y() : _.stopAutoplay())
                    }))
                }
                ,
                _.minTranslate = function() {
                    return -_.snapGrid[0]
                }
                ,
                _.maxTranslate = function() {
                    return -_.snapGrid[_.snapGrid.length - 1]
                }
                ,
                _.updateAutoHeight = function() {
                    var e, t = [], n = 0;
                    if ("auto" !== _.params.slidesPerView && 1 < _.params.slidesPerView)
                        for (e = 0; e < Math.ceil(_.params.slidesPerView); e++) {
                            var i = _.activeIndex + e;
                            if (i > _.slides.length)
                                break;
                            t.push(_.slides.eq(i)[0])
                        }
                    else
                        t.push(_.slides.eq(_.activeIndex)[0]);
                    for (e = 0; e < t.length; e++)
                        if (void 0 !== t[e]) {
                            var r = t[e].offsetHeight;
                            n = n < r ? r : n
                        }
                    n && _.wrapper.css("height", n + "px")
                }
                ,
                _.updateContainerSize = function() {
                    var e, t;
                    e = void 0 !== _.params.width ? _.params.width : _.container[0].clientWidth,
                    t = void 0 !== _.params.height ? _.params.height : _.container[0].clientHeight,
                    0 === e && _.isHorizontal() || 0 === t && !_.isHorizontal() || (e = e - parseInt(_.container.css("padding-left"), 10) - parseInt(_.container.css("padding-right"), 10),
                    t = t - parseInt(_.container.css("padding-top"), 10) - parseInt(_.container.css("padding-bottom"), 10),
                    _.width = e,
                    _.height = t,
                    _.size = _.isHorizontal() ? _.width : _.height)
                }
                ,
                _.updateSlidesSize = function() {
                    _.slides = _.wrapper.children("." + _.params.slideClass),
                    _.snapGrid = [],
                    _.slidesGrid = [],
                    _.slidesSizesGrid = [];
                    var e, t = _.params.spaceBetween, n = -_.params.slidesOffsetBefore, i = 0, r = 0;
                    if (void 0 !== _.size) {
                        var a, o;
                        "string" == typeof t && 0 <= t.indexOf("%") && (t = parseFloat(t.replace("%", "")) / 100 * _.size),
                        _.virtualSize = -t,
                        _.rtl ? _.slides.css({
                            marginLeft: "",
                            marginTop: ""
                        }) : _.slides.css({
                            marginRight: "",
                            marginBottom: ""
                        }),
                        1 < _.params.slidesPerColumn && (a = Math.floor(_.slides.length / _.params.slidesPerColumn) === _.slides.length / _.params.slidesPerColumn ? _.slides.length : Math.ceil(_.slides.length / _.params.slidesPerColumn) * _.params.slidesPerColumn,
                        "auto" !== _.params.slidesPerView && "row" === _.params.slidesPerColumnFill && (a = Math.max(a, _.params.slidesPerView * _.params.slidesPerColumn)));
                        var s, l = _.params.slidesPerColumn, u = a / l, c = u - (_.params.slidesPerColumn * u - _.slides.length);
                        for (e = 0; e < _.slides.length; e++) {
                            o = 0;
                            var h, d, p, f = _.slides.eq(e);
                            if (1 < _.params.slidesPerColumn)
                                "column" === _.params.slidesPerColumnFill ? (p = e - (d = Math.floor(e / l)) * l,
                                (c < d || d === c && p === l - 1) && ++p >= l && (p = 0,
                                d++),
                                h = d + p * a / l,
                                f.css({
                                    "-webkit-box-ordinal-group": h,
                                    "-moz-box-ordinal-group": h,
                                    "-ms-flex-order": h,
                                    "-webkit-order": h,
                                    order: h
                                })) : d = e - (p = Math.floor(e / u)) * u,
                                f.css("margin-" + (_.isHorizontal() ? "top" : "left"), 0 !== p && _.params.spaceBetween && _.params.spaceBetween + "px").attr("data-swiper-column", d).attr("data-swiper-row", p);
                            "none" !== f.css("display") && ("auto" === _.params.slidesPerView ? (o = _.isHorizontal() ? f.outerWidth(!0) : f.outerHeight(!0),
                            _.params.roundLengths && (o = v(o))) : (o = (_.size - (_.params.slidesPerView - 1) * t) / _.params.slidesPerView,
                            _.params.roundLengths && (o = v(o)),
                            _.isHorizontal() ? _.slides[e].style.width = o + "px" : _.slides[e].style.height = o + "px"),
                            _.slides[e].swiperSlideSize = o,
                            _.slidesSizesGrid.push(o),
                            _.params.centeredSlides ? (n = n + o / 2 + i / 2 + t,
                            0 === i && 0 !== e && (n = n - _.size / 2 - t),
                            0 === e && (n = n - _.size / 2 - t),
                            Math.abs(n) < .001 && (n = 0),
                            r % _.params.slidesPerGroup == 0 && _.snapGrid.push(n),
                            _.slidesGrid.push(n)) : (r % _.params.slidesPerGroup == 0 && _.snapGrid.push(n),
                            _.slidesGrid.push(n),
                            n = n + o + t),
                            _.virtualSize += o + t,
                            i = o,
                            r++)
                        }
                        if (_.virtualSize = Math.max(_.virtualSize, _.size) + _.params.slidesOffsetAfter,
                        _.rtl && _.wrongRTL && ("slide" === _.params.effect || "coverflow" === _.params.effect) && _.wrapper.css({
                            width: _.virtualSize + _.params.spaceBetween + "px"
                        }),
                        _.support.flexbox && !_.params.setWrapperSize || (_.isHorizontal() ? _.wrapper.css({
                            width: _.virtualSize + _.params.spaceBetween + "px"
                        }) : _.wrapper.css({
                            height: _.virtualSize + _.params.spaceBetween + "px"
                        })),
                        1 < _.params.slidesPerColumn && (_.virtualSize = (o + _.params.spaceBetween) * a,
                        _.virtualSize = Math.ceil(_.virtualSize / _.params.slidesPerColumn) - _.params.spaceBetween,
                        _.isHorizontal() ? _.wrapper.css({
                            width: _.virtualSize + _.params.spaceBetween + "px"
                        }) : _.wrapper.css({
                            height: _.virtualSize + _.params.spaceBetween + "px"
                        }),
                        _.params.centeredSlides)) {
                            for (s = [],
                            e = 0; e < _.snapGrid.length; e++)
                                _.snapGrid[e] < _.virtualSize + _.snapGrid[0] && s.push(_.snapGrid[e]);
                            _.snapGrid = s
                        }
                        if (!_.params.centeredSlides) {
                            for (s = [],
                            e = 0; e < _.snapGrid.length; e++)
                                _.snapGrid[e] <= _.virtualSize - _.size && s.push(_.snapGrid[e]);
                            _.snapGrid = s,
                            1 < Math.floor(_.virtualSize - _.size) - Math.floor(_.snapGrid[_.snapGrid.length - 1]) && _.snapGrid.push(_.virtualSize - _.size)
                        }
                        0 === _.snapGrid.length && (_.snapGrid = [0]),
                        0 !== _.params.spaceBetween && (_.isHorizontal() ? _.rtl ? _.slides.css({
                            marginLeft: t + "px"
                        }) : _.slides.css({
                            marginRight: t + "px"
                        }) : _.slides.css({
                            marginBottom: t + "px"
                        })),
                        _.params.watchSlidesProgress && _.updateSlidesOffset()
                    }
                }
                ,
                _.updateSlidesOffset = function() {
                    for (var e = 0; e < _.slides.length; e++)
                        _.slides[e].swiperSlideOffset = _.isHorizontal() ? _.slides[e].offsetLeft : _.slides[e].offsetTop
                }
                ,
                _.currentSlidesPerView = function() {
                    var e, t, n = 1;
                    if (_.params.centeredSlides) {
                        var i, r = _.slides[_.activeIndex].swiperSlideSize;
                        for (e = _.activeIndex + 1; e < _.slides.length; e++)
                            _.slides[e] && !i && (n++,
                            (r += _.slides[e].swiperSlideSize) > _.size && (i = !0));
                        for (t = _.activeIndex - 1; 0 <= t; t--)
                            _.slides[t] && !i && (n++,
                            (r += _.slides[t].swiperSlideSize) > _.size && (i = !0))
                    } else
                        for (e = _.activeIndex + 1; e < _.slides.length; e++)
                            _.slidesGrid[e] - _.slidesGrid[_.activeIndex] < _.size && n++;
                    return n
                }
                ,
                _.updateSlidesProgress = function(e) {
                    if (void 0 === e && (e = _.translate || 0),
                    0 !== _.slides.length) {
                        void 0 === _.slides[0].swiperSlideOffset && _.updateSlidesOffset();
                        var t = -e;
                        _.rtl && (t = e),
                        _.slides.removeClass(_.params.slideVisibleClass);
                        for (var n = 0; n < _.slides.length; n++) {
                            var i = _.slides[n]
                              , r = (t + (_.params.centeredSlides ? _.minTranslate() : 0) - i.swiperSlideOffset) / (i.swiperSlideSize + _.params.spaceBetween);
                            if (_.params.watchSlidesVisibility) {
                                var a = -(t - i.swiperSlideOffset)
                                  , o = a + _.slidesSizesGrid[n];
                                (0 <= a && a < _.size || 0 < o && o <= _.size || a <= 0 && o >= _.size) && _.slides.eq(n).addClass(_.params.slideVisibleClass)
                            }
                            i.progress = _.rtl ? -r : r
                        }
                    }
                }
                ,
                _.updateProgress = function(e) {
                    void 0 === e && (e = _.translate || 0);
                    var t = _.maxTranslate() - _.minTranslate()
                      , n = _.isBeginning
                      , i = _.isEnd;
                    0 == t ? (_.progress = 0,
                    _.isBeginning = _.isEnd = !0) : (_.progress = (e - _.minTranslate()) / t,
                    _.isBeginning = _.progress <= 0,
                    _.isEnd = 1 <= _.progress),
                    _.isBeginning && !n && _.emit("onReachBeginning", _),
                    _.isEnd && !i && _.emit("onReachEnd", _),
                    _.params.watchSlidesProgress && _.updateSlidesProgress(e),
                    _.emit("onProgress", _, _.progress)
                }
                ,
                _.updateActiveIndex = function() {
                    var e, t, n, i = _.rtl ? _.translate : -_.translate;
                    for (t = 0; t < _.slidesGrid.length; t++)
                        void 0 !== _.slidesGrid[t + 1] ? i >= _.slidesGrid[t] && i < _.slidesGrid[t + 1] - (_.slidesGrid[t + 1] - _.slidesGrid[t]) / 2 ? e = t : i >= _.slidesGrid[t] && i < _.slidesGrid[t + 1] && (e = t + 1) : i >= _.slidesGrid[t] && (e = t);
                    _.params.normalizeSlideIndex && (e < 0 || void 0 === e) && (e = 0),
                    (n = Math.floor(e / _.params.slidesPerGroup)) >= _.snapGrid.length && (n = _.snapGrid.length - 1),
                    e !== _.activeIndex && (_.snapIndex = n,
                    _.previousIndex = _.activeIndex,
                    _.activeIndex = e,
                    _.updateClasses(),
                    _.updateRealIndex())
                }
                ,
                _.updateRealIndex = function() {
                    _.realIndex = parseInt(_.slides.eq(_.activeIndex).attr("data-swiper-slide-index") || _.activeIndex, 10)
                }
                ,
                _.updateClasses = function() {
                    _.slides.removeClass(_.params.slideActiveClass + " " + _.params.slideNextClass + " " + _.params.slidePrevClass + " " + _.params.slideDuplicateActiveClass + " " + _.params.slideDuplicateNextClass + " " + _.params.slideDuplicatePrevClass);
                    var e = _.slides.eq(_.activeIndex);
                    e.addClass(_.params.slideActiveClass),
                    l.loop && (e.hasClass(_.params.slideDuplicateClass) ? _.wrapper.children("." + _.params.slideClass + ":not(." + _.params.slideDuplicateClass + ')[data-swiper-slide-index="' + _.realIndex + '"]').addClass(_.params.slideDuplicateActiveClass) : _.wrapper.children("." + _.params.slideClass + "." + _.params.slideDuplicateClass + '[data-swiper-slide-index="' + _.realIndex + '"]').addClass(_.params.slideDuplicateActiveClass));
                    var t = e.next("." + _.params.slideClass).addClass(_.params.slideNextClass);
                    _.params.loop && 0 === t.length && (t = _.slides.eq(0)).addClass(_.params.slideNextClass);
                    var n = e.prev("." + _.params.slideClass).addClass(_.params.slidePrevClass);
                    if (_.params.loop && 0 === n.length && (n = _.slides.eq(-1)).addClass(_.params.slidePrevClass),
                    l.loop && (t.hasClass(_.params.slideDuplicateClass) ? _.wrapper.children("." + _.params.slideClass + ":not(." + _.params.slideDuplicateClass + ')[data-swiper-slide-index="' + t.attr("data-swiper-slide-index") + '"]').addClass(_.params.slideDuplicateNextClass) : _.wrapper.children("." + _.params.slideClass + "." + _.params.slideDuplicateClass + '[data-swiper-slide-index="' + t.attr("data-swiper-slide-index") + '"]').addClass(_.params.slideDuplicateNextClass),
                    n.hasClass(_.params.slideDuplicateClass) ? _.wrapper.children("." + _.params.slideClass + ":not(." + _.params.slideDuplicateClass + ')[data-swiper-slide-index="' + n.attr("data-swiper-slide-index") + '"]').addClass(_.params.slideDuplicatePrevClass) : _.wrapper.children("." + _.params.slideClass + "." + _.params.slideDuplicateClass + '[data-swiper-slide-index="' + n.attr("data-swiper-slide-index") + '"]').addClass(_.params.slideDuplicatePrevClass)),
                    _.paginationContainer && 0 < _.paginationContainer.length) {
                        var i, r = _.params.loop ? Math.ceil((_.slides.length - 2 * _.loopedSlides) / _.params.slidesPerGroup) : _.snapGrid.length;
                        if (_.params.loop ? ((i = Math.ceil((_.activeIndex - _.loopedSlides) / _.params.slidesPerGroup)) > _.slides.length - 1 - 2 * _.loopedSlides && (i -= _.slides.length - 2 * _.loopedSlides),
                        r - 1 < i && (i -= r),
                        i < 0 && "bullets" !== _.params.paginationType && (i = r + i)) : i = void 0 !== _.snapIndex ? _.snapIndex : _.activeIndex || 0,
                        "bullets" === _.params.paginationType && _.bullets && 0 < _.bullets.length && (_.bullets.removeClass(_.params.bulletActiveClass),
                        1 < _.paginationContainer.length ? _.bullets.each(function() {
                            N(this).index() === i && N(this).addClass(_.params.bulletActiveClass)
                        }) : _.bullets.eq(i).addClass(_.params.bulletActiveClass)),
                        "fraction" === _.params.paginationType && (_.paginationContainer.find("." + _.params.paginationCurrentClass).text(i + 1),
                        _.paginationContainer.find("." + _.params.paginationTotalClass).text(r)),
                        "progress" === _.params.paginationType) {
                            var a = (i + 1) / r
                              , o = a
                              , s = 1;
                            _.isHorizontal() || (s = a,
                            o = 1),
                            _.paginationContainer.find("." + _.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX(" + o + ") scaleY(" + s + ")").transition(_.params.speed)
                        }
                        "custom" === _.params.paginationType && _.params.paginationCustomRender && (_.paginationContainer.html(_.params.paginationCustomRender(_, i + 1, r)),
                        _.emit("onPaginationRendered", _, _.paginationContainer[0]))
                    }
                    _.params.loop || (_.params.prevButton && _.prevButton && 0 < _.prevButton.length && (_.isBeginning ? (_.prevButton.addClass(_.params.buttonDisabledClass),
                    _.params.a11y && _.a11y && _.a11y.disable(_.prevButton)) : (_.prevButton.removeClass(_.params.buttonDisabledClass),
                    _.params.a11y && _.a11y && _.a11y.enable(_.prevButton))),
                    _.params.nextButton && _.nextButton && 0 < _.nextButton.length && (_.isEnd ? (_.nextButton.addClass(_.params.buttonDisabledClass),
                    _.params.a11y && _.a11y && _.a11y.disable(_.nextButton)) : (_.nextButton.removeClass(_.params.buttonDisabledClass),
                    _.params.a11y && _.a11y && _.a11y.enable(_.nextButton))))
                }
                ,
                _.updatePagination = function() {
                    if (_.params.pagination && _.paginationContainer && 0 < _.paginationContainer.length) {
                        var e = "";
                        if ("bullets" === _.params.paginationType) {
                            for (var t = _.params.loop ? Math.ceil((_.slides.length - 2 * _.loopedSlides) / _.params.slidesPerGroup) : _.snapGrid.length, n = 0; n < t; n++)
                                _.params.paginationBulletRender ? e += _.params.paginationBulletRender(_, n, _.params.bulletClass) : e += "<" + _.params.paginationElement + ' class="' + _.params.bulletClass + '"></' + _.params.paginationElement + ">";
                            _.paginationContainer.html(e),
                            _.bullets = _.paginationContainer.find("." + _.params.bulletClass),
                            _.params.paginationClickable && _.params.a11y && _.a11y && _.a11y.initPagination()
                        }
                        "fraction" === _.params.paginationType && (e = _.params.paginationFractionRender ? _.params.paginationFractionRender(_, _.params.paginationCurrentClass, _.params.paginationTotalClass) : '<span class="' + _.params.paginationCurrentClass + '"></span> / <span class="' + _.params.paginationTotalClass + '"></span>',
                        _.paginationContainer.html(e)),
                        "progress" === _.params.paginationType && (e = _.params.paginationProgressRender ? _.params.paginationProgressRender(_, _.params.paginationProgressbarClass) : '<span class="' + _.params.paginationProgressbarClass + '"></span>',
                        _.paginationContainer.html(e)),
                        "custom" !== _.params.paginationType && _.emit("onPaginationRendered", _, _.paginationContainer[0])
                    }
                }
                ,
                _.update = function(e) {
                    var t;
                    _ && (_.updateContainerSize(),
                    _.updateSlidesSize(),
                    _.updateProgress(),
                    _.updatePagination(),
                    _.updateClasses(),
                    _.params.scrollbar && _.scrollbar && _.scrollbar.set(),
                    e ? (_.controller && _.controller.spline && (_.controller.spline = void 0),
                    _.params.freeMode ? (n(),
                    _.params.autoHeight && _.updateAutoHeight()) : (("auto" === _.params.slidesPerView || 1 < _.params.slidesPerView) && _.isEnd && !_.params.centeredSlides ? _.slideTo(_.slides.length - 1, 0, !1, !0) : _.slideTo(_.activeIndex, 0, !1, !0)) || n()) : _.params.autoHeight && _.updateAutoHeight());
                    function n() {
                        _.rtl,
                        _.translate;
                        t = Math.min(Math.max(_.translate, _.maxTranslate()), _.minTranslate()),
                        _.setWrapperTranslate(t),
                        _.updateActiveIndex(),
                        _.updateClasses()
                    }
                }
                ,
                _.onResize = function(e) {
                    _.params.onBeforeResize && _.params.onBeforeResize(_),
                    _.params.breakpoints && _.setBreakpoint();
                    var t = _.params.allowSwipeToPrev
                      , n = _.params.allowSwipeToNext;
                    _.params.allowSwipeToPrev = _.params.allowSwipeToNext = !0,
                    _.updateContainerSize(),
                    _.updateSlidesSize(),
                    ("auto" === _.params.slidesPerView || _.params.freeMode || e) && _.updatePagination(),
                    _.params.scrollbar && _.scrollbar && _.scrollbar.set(),
                    _.controller && _.controller.spline && (_.controller.spline = void 0);
                    var i = !1;
                    if (_.params.freeMode) {
                        var r = Math.min(Math.max(_.translate, _.maxTranslate()), _.minTranslate());
                        _.setWrapperTranslate(r),
                        _.updateActiveIndex(),
                        _.updateClasses(),
                        _.params.autoHeight && _.updateAutoHeight()
                    } else
                        _.updateClasses(),
                        i = ("auto" === _.params.slidesPerView || 1 < _.params.slidesPerView) && _.isEnd && !_.params.centeredSlides ? _.slideTo(_.slides.length - 1, 0, !1, !0) : _.slideTo(_.activeIndex, 0, !1, !0);
                    _.params.lazyLoading && !i && _.lazy && _.lazy.load(),
                    _.params.allowSwipeToPrev = t,
                    _.params.allowSwipeToNext = n,
                    _.params.onAfterResize && _.params.onAfterResize(_)
                }
                ,
                _.touchEventsDesktop = {
                    start: "mousedown",
                    move: "mousemove",
                    end: "mouseup"
                },
                window.navigator.pointerEnabled ? _.touchEventsDesktop = {
                    start: "pointerdown",
                    move: "pointermove",
                    end: "pointerup"
                } : window.navigator.msPointerEnabled && (_.touchEventsDesktop = {
                    start: "MSPointerDown",
                    move: "MSPointerMove",
                    end: "MSPointerUp"
                }),
                _.touchEvents = {
                    start: _.support.touch || !_.params.simulateTouch ? "touchstart" : _.touchEventsDesktop.start,
                    move: _.support.touch || !_.params.simulateTouch ? "touchmove" : _.touchEventsDesktop.move,
                    end: _.support.touch || !_.params.simulateTouch ? "touchend" : _.touchEventsDesktop.end
                },
                (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && ("container" === _.params.touchEventsTarget ? _.container : _.wrapper).addClass("swiper-wp8-" + _.params.direction),
                _.initEvents = function(e) {
                    var t = e ? "off" : "on"
                      , n = e ? "removeEventListener" : "addEventListener"
                      , i = "container" === _.params.touchEventsTarget ? _.container[0] : _.wrapper[0]
                      , r = _.support.touch ? i : document
                      , a = !!_.params.nested;
                    if (_.browser.ie)
                        i[n](_.touchEvents.start, _.onTouchStart, !1),
                        r[n](_.touchEvents.move, _.onTouchMove, a),
                        r[n](_.touchEvents.end, _.onTouchEnd, !1);
                    else {
                        if (_.support.touch) {
                            var o = !("touchstart" !== _.touchEvents.start || !_.support.passiveListener || !_.params.passiveListeners) && {
                                passive: !0,
                                capture: !1
                            };
                            i[n](_.touchEvents.start, _.onTouchStart, o),
                            i[n](_.touchEvents.move, _.onTouchMove, a),
                            i[n](_.touchEvents.end, _.onTouchEnd, o)
                        }
                        (l.simulateTouch && !_.device.ios && !_.device.android || l.simulateTouch && !_.support.touch && _.device.ios) && (i[n]("mousedown", _.onTouchStart, !1),
                        document[n]("mousemove", _.onTouchMove, a),
                        document[n]("mouseup", _.onTouchEnd, !1))
                    }
                    window[n]("resize", _.onResize),
                    _.params.nextButton && _.nextButton && 0 < _.nextButton.length && (_.nextButton[t]("click", _.onClickNext),
                    _.params.a11y && _.a11y && _.nextButton[t]("keydown", _.a11y.onEnterKey)),
                    _.params.prevButton && _.prevButton && 0 < _.prevButton.length && (_.prevButton[t]("click", _.onClickPrev),
                    _.params.a11y && _.a11y && _.prevButton[t]("keydown", _.a11y.onEnterKey)),
                    _.params.pagination && _.params.paginationClickable && (_.paginationContainer[t]("click", "." + _.params.bulletClass, _.onClickIndex),
                    _.params.a11y && _.a11y && _.paginationContainer[t]("keydown", "." + _.params.bulletClass, _.a11y.onEnterKey)),
                    (_.params.preventClicks || _.params.preventClicksPropagation) && i[n]("click", _.preventClicks, !0)
                }
                ,
                _.attachEvents = function() {
                    _.initEvents()
                }
                ,
                _.detachEvents = function() {
                    _.initEvents(!0)
                }
                ,
                _.allowClick = !0,
                _.preventClicks = function(e) {
                    _.allowClick || (_.params.preventClicks && e.preventDefault(),
                    _.params.preventClicksPropagation && _.animating && (e.stopPropagation(),
                    e.stopImmediatePropagation()))
                }
                ,
                _.onClickNext = function(e) {
                    e.preventDefault(),
                    _.isEnd && !_.params.loop || _.slideNext()
                }
                ,
                _.onClickPrev = function(e) {
                    e.preventDefault(),
                    _.isBeginning && !_.params.loop || _.slidePrev()
                }
                ,
                _.onClickIndex = function(e) {
                    e.preventDefault();
                    var t = N(this).index() * _.params.slidesPerGroup;
                    _.params.loop && (t += _.loopedSlides),
                    _.slideTo(t)
                }
                ,
                _.updateClickedSlide = function(e) {
                    var t = b(e, "." + _.params.slideClass)
                      , n = !1;
                    if (t)
                        for (var i = 0; i < _.slides.length; i++)
                            _.slides[i] === t && (n = !0);
                    if (!t || !n)
                        return _.clickedSlide = void 0,
                        void (_.clickedIndex = void 0);
                    if (_.clickedSlide = t,
                    _.clickedIndex = N(t).index(),
                    _.params.slideToClickedSlide && void 0 !== _.clickedIndex && _.clickedIndex !== _.activeIndex) {
                        var r, a = _.clickedIndex, o = "auto" === _.params.slidesPerView ? _.currentSlidesPerView() : _.params.slidesPerView;
                        if (_.params.loop) {
                            if (_.animating)
                                return;
                            r = parseInt(N(_.clickedSlide).attr("data-swiper-slide-index"), 10),
                            _.params.centeredSlides ? a < _.loopedSlides - o / 2 || a > _.slides.length - _.loopedSlides + o / 2 ? (_.fixLoop(),
                            a = _.wrapper.children("." + _.params.slideClass + '[data-swiper-slide-index="' + r + '"]:not(.' + _.params.slideDuplicateClass + ")").eq(0).index(),
                            setTimeout(function() {
                                _.slideTo(a)
                            }, 0)) : _.slideTo(a) : a > _.slides.length - o ? (_.fixLoop(),
                            a = _.wrapper.children("." + _.params.slideClass + '[data-swiper-slide-index="' + r + '"]:not(.' + _.params.slideDuplicateClass + ")").eq(0).index(),
                            setTimeout(function() {
                                _.slideTo(a)
                            }, 0)) : _.slideTo(a)
                        } else
                            _.slideTo(a)
                    }
                }
                ;
                var w, x, T, S, c, E, C, h, M, k, d, p, f = "input, select, textarea, button, video", P = Date.now(), A = [];
                for (var m in _.animating = !1,
                _.touches = {
                    startX: 0,
                    startY: 0,
                    currentX: 0,
                    currentY: 0,
                    diff: 0
                },
                _.onTouchStart = function(e) {
                    if (e.originalEvent && (e = e.originalEvent),
                    (d = "touchstart" === e.type) || !("which"in e) || 3 !== e.which)
                        if (_.params.noSwiping && b(e, "." + _.params.noSwipingClass))
                            _.allowClick = !0;
                        else if (!_.params.swipeHandler || b(e, _.params.swipeHandler)) {
                            var t = _.touches.currentX = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX
                              , n = _.touches.currentY = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY;
                            if (!(_.device.ios && _.params.iOSEdgeSwipeDetection && t <= _.params.iOSEdgeSwipeThreshold)) {
                                if (T = !(x = !(w = !0)),
                                p = c = void 0,
                                _.touches.startX = t,
                                _.touches.startY = n,
                                S = Date.now(),
                                _.allowClick = !0,
                                _.updateContainerSize(),
                                _.swipeDirection = void 0,
                                0 < _.params.threshold && (h = !1),
                                "touchstart" !== e.type) {
                                    var i = !0;
                                    N(e.target).is(f) && (i = !1),
                                    document.activeElement && N(document.activeElement).is(f) && document.activeElement.blur(),
                                    i && e.preventDefault()
                                }
                                _.emit("onTouchStart", _, e)
                            }
                        }
                }
                ,
                _.onTouchMove = function(e) {
                    if (e.originalEvent && (e = e.originalEvent),
                    !d || "mousemove" !== e.type) {
                        if (e.preventedByNestedSwiper)
                            return _.touches.startX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX,
                            void (_.touches.startY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY);
                        if (_.params.onlyExternal)
                            return _.allowClick = !1,
                            void (w && (_.touches.startX = _.touches.currentX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX,
                            _.touches.startY = _.touches.currentY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY,
                            S = Date.now()));
                        if (d && _.params.touchReleaseOnEdges && !_.params.loop)
                            if (_.isHorizontal()) {
                                if (_.touches.currentX < _.touches.startX && _.translate <= _.maxTranslate() || _.touches.currentX > _.touches.startX && _.translate >= _.minTranslate())
                                    return
                            } else if (_.touches.currentY < _.touches.startY && _.translate <= _.maxTranslate() || _.touches.currentY > _.touches.startY && _.translate >= _.minTranslate())
                                return;
                        if (d && document.activeElement && e.target === document.activeElement && N(e.target).is(f))
                            return x = !0,
                            void (_.allowClick = !1);
                        if (T && _.emit("onTouchMove", _, e),
                        !(e.targetTouches && 1 < e.targetTouches.length)) {
                            var t;
                            if (_.touches.currentX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX,
                            _.touches.currentY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY,
                            void 0 === c)
                                c = !(_.isHorizontal() && _.touches.currentY === _.touches.startY || !_.isHorizontal() && _.touches.currentX === _.touches.startX) && (t = 180 * Math.atan2(Math.abs(_.touches.currentY - _.touches.startY), Math.abs(_.touches.currentX - _.touches.startX)) / Math.PI,
                                _.isHorizontal() ? t > _.params.touchAngle : 90 - t > _.params.touchAngle);
                            if (c && _.emit("onTouchMoveOpposite", _, e),
                            void 0 === p && (_.touches.currentX === _.touches.startX && _.touches.currentY === _.touches.startY || (p = !0)),
                            w)
                                if (c)
                                    w = !1;
                                else if (p) {
                                    _.allowClick = !1,
                                    _.emit("onSliderMove", _, e),
                                    e.preventDefault(),
                                    _.params.touchMoveStopPropagation && !_.params.nested && e.stopPropagation(),
                                    x || (l.loop && _.fixLoop(),
                                    C = _.getWrapperTranslate(),
                                    _.setWrapperTransition(0),
                                    _.animating && _.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),
                                    _.params.autoplay && _.autoplaying && (_.params.autoplayDisableOnInteraction ? _.stopAutoplay() : _.pauseAutoplay()),
                                    k = !1,
                                    !_.params.grabCursor || !0 !== _.params.allowSwipeToNext && !0 !== _.params.allowSwipeToPrev || _.setGrabCursor(!0)),
                                    x = !0;
                                    var n = _.touches.diff = _.isHorizontal() ? _.touches.currentX - _.touches.startX : _.touches.currentY - _.touches.startY;
                                    n *= _.params.touchRatio,
                                    _.rtl && (n = -n),
                                    _.swipeDirection = 0 < n ? "prev" : "next",
                                    E = n + C;
                                    var i = !0;
                                    if (0 < n && E > _.minTranslate() ? (i = !1,
                                    _.params.resistance && (E = _.minTranslate() - 1 + Math.pow(-_.minTranslate() + C + n, _.params.resistanceRatio))) : n < 0 && E < _.maxTranslate() && (i = !1,
                                    _.params.resistance && (E = _.maxTranslate() + 1 - Math.pow(_.maxTranslate() - C - n, _.params.resistanceRatio))),
                                    i && (e.preventedByNestedSwiper = !0),
                                    !_.params.allowSwipeToNext && "next" === _.swipeDirection && E < C && (E = C),
                                    !_.params.allowSwipeToPrev && "prev" === _.swipeDirection && C < E && (E = C),
                                    0 < _.params.threshold) {
                                        if (!(Math.abs(n) > _.params.threshold || h))
                                            return void (E = C);
                                        if (!h)
                                            return h = !0,
                                            _.touches.startX = _.touches.currentX,
                                            _.touches.startY = _.touches.currentY,
                                            E = C,
                                            void (_.touches.diff = _.isHorizontal() ? _.touches.currentX - _.touches.startX : _.touches.currentY - _.touches.startY)
                                    }
                                    _.params.followFinger && ((_.params.freeMode || _.params.watchSlidesProgress) && _.updateActiveIndex(),
                                    _.params.freeMode && (0 === A.length && A.push({
                                        position: _.touches[_.isHorizontal() ? "startX" : "startY"],
                                        time: S
                                    }),
                                    A.push({
                                        position: _.touches[_.isHorizontal() ? "currentX" : "currentY"],
                                        time: (new window.Date).getTime()
                                    })),
                                    _.updateProgress(E),
                                    _.setWrapperTranslate(E))
                                }
                        }
                    }
                }
                ,
                _.onTouchEnd = function(e) {
                    if (e.originalEvent && (e = e.originalEvent),
                    T && _.emit("onTouchEnd", _, e),
                    T = !1,
                    w) {
                        _.params.grabCursor && x && w && (!0 === _.params.allowSwipeToNext || !0 === _.params.allowSwipeToPrev) && _.setGrabCursor(!1);
                        var t, n = Date.now(), i = n - S;
                        if (_.allowClick && (_.updateClickedSlide(e),
                        _.emit("onTap", _, e),
                        i < 300 && 300 < n - P && (M && clearTimeout(M),
                        M = setTimeout(function() {
                            _ && (_.params.paginationHide && 0 < _.paginationContainer.length && !N(e.target).hasClass(_.params.bulletClass) && _.paginationContainer.toggleClass(_.params.paginationHiddenClass),
                            _.emit("onClick", _, e))
                        }, 300)),
                        i < 300 && n - P < 300 && (M && clearTimeout(M),
                        _.emit("onDoubleTap", _, e))),
                        P = Date.now(),
                        setTimeout(function() {
                            _ && (_.allowClick = !0)
                        }, 0),
                        w && x && _.swipeDirection && 0 !== _.touches.diff && E !== C)
                            if (w = x = !1,
                            t = _.params.followFinger ? _.rtl ? _.translate : -_.translate : -E,
                            _.params.freeMode) {
                                if (t < -_.minTranslate())
                                    return void _.slideTo(_.activeIndex);
                                if (t > -_.maxTranslate())
                                    return void (_.slides.length < _.snapGrid.length ? _.slideTo(_.snapGrid.length - 1) : _.slideTo(_.slides.length - 1));
                                if (_.params.freeModeMomentum) {
                                    if (1 < A.length) {
                                        var r = A.pop()
                                          , a = A.pop()
                                          , o = r.position - a.position
                                          , s = r.time - a.time;
                                        _.velocity = o / s,
                                        _.velocity = _.velocity / 2,
                                        Math.abs(_.velocity) < _.params.freeModeMinimumVelocity && (_.velocity = 0),
                                        (150 < s || 300 < (new window.Date).getTime() - r.time) && (_.velocity = 0)
                                    } else
                                        _.velocity = 0;
                                    _.velocity = _.velocity * _.params.freeModeMomentumVelocityRatio,
                                    A.length = 0;
                                    var l = 1e3 * _.params.freeModeMomentumRatio
                                      , u = _.velocity * l
                                      , c = _.translate + u;
                                    _.rtl && (c = -c);
                                    var h, d = !1, p = 20 * Math.abs(_.velocity) * _.params.freeModeMomentumBounceRatio;
                                    if (c < _.maxTranslate())
                                        _.params.freeModeMomentumBounce ? (c + _.maxTranslate() < -p && (c = _.maxTranslate() - p),
                                        h = _.maxTranslate(),
                                        k = d = !0) : c = _.maxTranslate();
                                    else if (c > _.minTranslate())
                                        _.params.freeModeMomentumBounce ? (c - _.minTranslate() > p && (c = _.minTranslate() + p),
                                        h = _.minTranslate(),
                                        k = d = !0) : c = _.minTranslate();
                                    else if (_.params.freeModeSticky) {
                                        var f, m = 0;
                                        for (m = 0; m < _.snapGrid.length; m += 1)
                                            if (_.snapGrid[m] > -c) {
                                                f = m;
                                                break
                                            }
                                        c = Math.abs(_.snapGrid[f] - c) < Math.abs(_.snapGrid[f - 1] - c) || "next" === _.swipeDirection ? _.snapGrid[f] : _.snapGrid[f - 1],
                                        _.rtl || (c = -c)
                                    }
                                    if (0 !== _.velocity)
                                        l = _.rtl ? Math.abs((-c - _.translate) / _.velocity) : Math.abs((c - _.translate) / _.velocity);
                                    else if (_.params.freeModeSticky)
                                        return void _.slideReset();
                                    _.params.freeModeMomentumBounce && d ? (_.updateProgress(h),
                                    _.setWrapperTransition(l),
                                    _.setWrapperTranslate(c),
                                    _.onTransitionStart(),
                                    _.animating = !0,
                                    _.wrapper.transitionEnd(function() {
                                        _ && k && (_.emit("onMomentumBounce", _),
                                        _.setWrapperTransition(_.params.speed),
                                        _.setWrapperTranslate(h),
                                        _.wrapper.transitionEnd(function() {
                                            _ && _.onTransitionEnd()
                                        }))
                                    })) : _.velocity ? (_.updateProgress(c),
                                    _.setWrapperTransition(l),
                                    _.setWrapperTranslate(c),
                                    _.onTransitionStart(),
                                    _.animating || (_.animating = !0,
                                    _.wrapper.transitionEnd(function() {
                                        _ && _.onTransitionEnd()
                                    }))) : _.updateProgress(c),
                                    _.updateActiveIndex()
                                }
                                (!_.params.freeModeMomentum || i >= _.params.longSwipesMs) && (_.updateProgress(),
                                _.updateActiveIndex())
                            } else {
                                var g, v = 0, y = _.slidesSizesGrid[0];
                                for (g = 0; g < _.slidesGrid.length; g += _.params.slidesPerGroup)
                                    void 0 !== _.slidesGrid[g + _.params.slidesPerGroup] ? t >= _.slidesGrid[g] && t < _.slidesGrid[g + _.params.slidesPerGroup] && (v = g,
                                    y = _.slidesGrid[g + _.params.slidesPerGroup] - _.slidesGrid[g]) : t >= _.slidesGrid[g] && (v = g,
                                    y = _.slidesGrid[_.slidesGrid.length - 1] - _.slidesGrid[_.slidesGrid.length - 2]);
                                var b = (t - _.slidesGrid[v]) / y;
                                if (i > _.params.longSwipesMs) {
                                    if (!_.params.longSwipes)
                                        return void _.slideTo(_.activeIndex);
                                    "next" === _.swipeDirection && (b >= _.params.longSwipesRatio ? _.slideTo(v + _.params.slidesPerGroup) : _.slideTo(v)),
                                    "prev" === _.swipeDirection && (b > 1 - _.params.longSwipesRatio ? _.slideTo(v + _.params.slidesPerGroup) : _.slideTo(v))
                                } else {
                                    if (!_.params.shortSwipes)
                                        return void _.slideTo(_.activeIndex);
                                    "next" === _.swipeDirection && _.slideTo(v + _.params.slidesPerGroup),
                                    "prev" === _.swipeDirection && _.slideTo(v)
                                }
                            }
                        else
                            w = x = !1
                    }
                }
                ,
                _._slideTo = function(e, t) {
                    return _.slideTo(e, t, !0, !0)
                }
                ,
                _.slideTo = function(e, t, n, i) {
                    void 0 === n && (n = !0),
                    void 0 === e && (e = 0),
                    e < 0 && (e = 0),
                    _.snapIndex = Math.floor(e / _.params.slidesPerGroup),
                    _.snapIndex >= _.snapGrid.length && (_.snapIndex = _.snapGrid.length - 1);
                    var r = -_.snapGrid[_.snapIndex];
                    if (_.params.autoplay && _.autoplaying && (i || !_.params.autoplayDisableOnInteraction ? _.pauseAutoplay(t) : _.stopAutoplay()),
                    _.updateProgress(r),
                    _.params.normalizeSlideIndex)
                        for (var a = 0; a < _.slidesGrid.length; a++)
                            -Math.floor(100 * r) >= Math.floor(100 * _.slidesGrid[a]) && (e = a);
                    return !(!_.params.allowSwipeToNext && r < _.translate && r < _.minTranslate()) && (!(!_.params.allowSwipeToPrev && r > _.translate && r > _.maxTranslate() && (_.activeIndex || 0) !== e) && (void 0 === t && (t = _.params.speed),
                    _.previousIndex = _.activeIndex || 0,
                    _.activeIndex = e,
                    _.updateRealIndex(),
                    _.rtl && -r === _.translate || !_.rtl && r === _.translate ? (_.params.autoHeight && _.updateAutoHeight(),
                    _.updateClasses(),
                    "slide" !== _.params.effect && _.setWrapperTranslate(r),
                    !1) : (_.updateClasses(),
                    _.onTransitionStart(n),
                    0 === t || _.browser.lteIE9 ? (_.setWrapperTranslate(r),
                    _.setWrapperTransition(0),
                    _.onTransitionEnd(n)) : (_.setWrapperTranslate(r),
                    _.setWrapperTransition(t),
                    _.animating || (_.animating = !0,
                    _.wrapper.transitionEnd(function() {
                        _ && _.onTransitionEnd(n)
                    }))),
                    !0)))
                }
                ,
                _.onTransitionStart = function(e) {
                    void 0 === e && (e = !0),
                    _.params.autoHeight && _.updateAutoHeight(),
                    _.lazy && _.lazy.onTransitionStart(),
                    e && (_.emit("onTransitionStart", _),
                    _.activeIndex !== _.previousIndex && (_.emit("onSlideChangeStart", _),
                    _.activeIndex > _.previousIndex ? _.emit("onSlideNextStart", _) : _.emit("onSlidePrevStart", _)))
                }
                ,
                _.onTransitionEnd = function(e) {
                    _.animating = !1,
                    _.setWrapperTransition(0),
                    void 0 === e && (e = !0),
                    _.lazy && _.lazy.onTransitionEnd(),
                    e && (_.emit("onTransitionEnd", _),
                    _.activeIndex !== _.previousIndex && (_.emit("onSlideChangeEnd", _),
                    _.activeIndex > _.previousIndex ? _.emit("onSlideNextEnd", _) : _.emit("onSlidePrevEnd", _))),
                    _.params.history && _.history && _.history.setHistory(_.params.history, _.activeIndex),
                    _.params.hashnav && _.hashnav && _.hashnav.setHash()
                }
                ,
                _.slideNext = function(e, t, n) {
                    if (_.params.loop) {
                        if (_.animating)
                            return !1;
                        _.fixLoop();
                        _.container[0].clientLeft;
                        return _.slideTo(_.activeIndex + _.params.slidesPerGroup, t, e, n)
                    }
                    return _.slideTo(_.activeIndex + _.params.slidesPerGroup, t, e, n)
                }
                ,
                _._slideNext = function(e) {
                    return _.slideNext(!0, e, !0)
                }
                ,
                _.slidePrev = function(e, t, n) {
                    if (_.params.loop) {
                        if (_.animating)
                            return !1;
                        _.fixLoop();
                        _.container[0].clientLeft;
                        return _.slideTo(_.activeIndex - 1, t, e, n)
                    }
                    return _.slideTo(_.activeIndex - 1, t, e, n)
                }
                ,
                _._slidePrev = function(e) {
                    return _.slidePrev(!0, e, !0)
                }
                ,
                _.slideReset = function(e, t, n) {
                    return _.slideTo(_.activeIndex, t, e)
                }
                ,
                _.disableTouchControl = function() {
                    return _.params.onlyExternal = !0
                }
                ,
                _.enableTouchControl = function() {
                    return !(_.params.onlyExternal = !1)
                }
                ,
                _.setWrapperTransition = function(e, t) {
                    _.wrapper.transition(e),
                    "slide" !== _.params.effect && _.effects[_.params.effect] && _.effects[_.params.effect].setTransition(e),
                    _.params.parallax && _.parallax && _.parallax.setTransition(e),
                    _.params.scrollbar && _.scrollbar && _.scrollbar.setTransition(e),
                    _.params.control && _.controller && _.controller.setTransition(e, t),
                    _.emit("onSetTransition", _, e)
                }
                ,
                _.setWrapperTranslate = function(e, t, n) {
                    var i = 0
                      , r = 0;
                    _.isHorizontal() ? i = _.rtl ? -e : e : r = e,
                    _.params.roundLengths && (i = v(i),
                    r = v(r)),
                    _.params.virtualTranslate || (_.support.transforms3d ? _.wrapper.transform("translate3d(" + i + "px, " + r + "px, 0px)") : _.wrapper.transform("translate(" + i + "px, " + r + "px)")),
                    _.translate = _.isHorizontal() ? i : r;
                    var a = _.maxTranslate() - _.minTranslate();
                    (0 == a ? 0 : (e - _.minTranslate()) / a) !== _.progress && _.updateProgress(e),
                    t && _.updateActiveIndex(),
                    "slide" !== _.params.effect && _.effects[_.params.effect] && _.effects[_.params.effect].setTranslate(_.translate),
                    _.params.parallax && _.parallax && _.parallax.setTranslate(_.translate),
                    _.params.scrollbar && _.scrollbar && _.scrollbar.setTranslate(_.translate),
                    _.params.control && _.controller && _.controller.setTranslate(_.translate, n),
                    _.emit("onSetTranslate", _, _.translate)
                }
                ,
                _.getTranslate = function(e, t) {
                    var n, i, r, a;
                    return void 0 === t && (t = "x"),
                    _.params.virtualTranslate ? _.rtl ? -_.translate : _.translate : (r = window.getComputedStyle(e, null),
                    window.WebKitCSSMatrix ? (6 < (i = r.transform || r.webkitTransform).split(",").length && (i = i.split(", ").map(function(e) {
                        return e.replace(",", ".")
                    }).join(", ")),
                    a = new window.WebKitCSSMatrix("none" === i ? "" : i)) : n = (a = r.MozTransform || r.OTransform || r.MsTransform || r.msTransform || r.transform || r.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","),
                    "x" === t && (i = window.WebKitCSSMatrix ? a.m41 : 16 === n.length ? parseFloat(n[12]) : parseFloat(n[4])),
                    "y" === t && (i = window.WebKitCSSMatrix ? a.m42 : 16 === n.length ? parseFloat(n[13]) : parseFloat(n[5])),
                    _.rtl && i && (i = -i),
                    i || 0)
                }
                ,
                _.getWrapperTranslate = function(e) {
                    return void 0 === e && (e = _.isHorizontal() ? "x" : "y"),
                    _.getTranslate(_.wrapper[0], e)
                }
                ,
                _.observers = [],
                _.initObservers = function() {
                    if (_.params.observeParents)
                        for (var e = _.container.parents(), t = 0; t < e.length; t++)
                            I(e[t]);
                    I(_.container[0], {
                        childList: !1
                    }),
                    I(_.wrapper[0], {
                        attributes: !1
                    })
                }
                ,
                _.disconnectObservers = function() {
                    for (var e = 0; e < _.observers.length; e++)
                        _.observers[e].disconnect();
                    _.observers = []
                }
                ,
                _.createLoop = function() {
                    _.wrapper.children("." + _.params.slideClass + "." + _.params.slideDuplicateClass).remove();
                    var i = _.wrapper.children("." + _.params.slideClass);
                    "auto" !== _.params.slidesPerView || _.params.loopedSlides || (_.params.loopedSlides = i.length),
                    _.loopedSlides = parseInt(_.params.loopedSlides || _.params.slidesPerView, 10),
                    _.loopedSlides = _.loopedSlides + _.params.loopAdditionalSlides,
                    _.loopedSlides > i.length && (_.loopedSlides = i.length);
                    var e, r = [], a = [];
                    for (i.each(function(e, t) {
                        var n = N(this);
                        e < _.loopedSlides && a.push(t),
                        e < i.length && e >= i.length - _.loopedSlides && r.push(t),
                        n.attr("data-swiper-slide-index", e)
                    }),
                    e = 0; e < a.length; e++)
                        _.wrapper.append(N(a[e].cloneNode(!0)).addClass(_.params.slideDuplicateClass));
                    for (e = r.length - 1; 0 <= e; e--)
                        _.wrapper.prepend(N(r[e].cloneNode(!0)).addClass(_.params.slideDuplicateClass))
                }
                ,
                _.destroyLoop = function() {
                    _.wrapper.children("." + _.params.slideClass + "." + _.params.slideDuplicateClass).remove(),
                    _.slides.removeAttr("data-swiper-slide-index")
                }
                ,
                _.reLoop = function(e) {
                    var t = _.activeIndex - _.loopedSlides;
                    _.destroyLoop(),
                    _.createLoop(),
                    _.updateSlidesSize(),
                    e && _.slideTo(t + _.loopedSlides, 0, !1)
                }
                ,
                _.fixLoop = function() {
                    var e;
                    _.activeIndex < _.loopedSlides ? (e = _.slides.length - 3 * _.loopedSlides + _.activeIndex,
                    e += _.loopedSlides,
                    _.slideTo(e, 0, !1, !0)) : ("auto" === _.params.slidesPerView && _.activeIndex >= 2 * _.loopedSlides || _.activeIndex > _.slides.length - 2 * _.params.slidesPerView) && (e = -_.slides.length + _.activeIndex + _.loopedSlides,
                    e += _.loopedSlides,
                    _.slideTo(e, 0, !1, !0))
                }
                ,
                _.appendSlide = function(e) {
                    if (_.params.loop && _.destroyLoop(),
                    "object" == typeof e && e.length)
                        for (var t = 0; t < e.length; t++)
                            e[t] && _.wrapper.append(e[t]);
                    else
                        _.wrapper.append(e);
                    _.params.loop && _.createLoop(),
                    _.params.observer && _.support.observer || _.update(!0)
                }
                ,
                _.prependSlide = function(e) {
                    _.params.loop && _.destroyLoop();
                    var t = _.activeIndex + 1;
                    if ("object" == typeof e && e.length) {
                        for (var n = 0; n < e.length; n++)
                            e[n] && _.wrapper.prepend(e[n]);
                        t = _.activeIndex + e.length
                    } else
                        _.wrapper.prepend(e);
                    _.params.loop && _.createLoop(),
                    _.params.observer && _.support.observer || _.update(!0),
                    _.slideTo(t, 0, !1)
                }
                ,
                _.removeSlide = function(e) {
                    _.params.loop && (_.destroyLoop(),
                    _.slides = _.wrapper.children("." + _.params.slideClass));
                    var t, n = _.activeIndex;
                    if ("object" == typeof e && e.length) {
                        for (var i = 0; i < e.length; i++)
                            t = e[i],
                            _.slides[t] && _.slides.eq(t).remove(),
                            t < n && n--;
                        n = Math.max(n, 0)
                    } else
                        t = e,
                        _.slides[t] && _.slides.eq(t).remove(),
                        t < n && n--,
                        n = Math.max(n, 0);
                    _.params.loop && _.createLoop(),
                    _.params.observer && _.support.observer || _.update(!0),
                    _.params.loop ? _.slideTo(n + _.loopedSlides, 0, !1) : _.slideTo(n, 0, !1)
                }
                ,
                _.removeAllSlides = function() {
                    for (var e = [], t = 0; t < _.slides.length; t++)
                        e.push(t);
                    _.removeSlide(e)
                }
                ,
                _.effects = {
                    fade: {
                        setTranslate: function() {
                            for (var e = 0; e < _.slides.length; e++) {
                                var t = _.slides.eq(e)
                                  , n = -t[0].swiperSlideOffset;
                                _.params.virtualTranslate || (n -= _.translate);
                                var i = 0;
                                _.isHorizontal() || (i = n,
                                n = 0);
                                var r = _.params.fade.crossFade ? Math.max(1 - Math.abs(t[0].progress), 0) : 1 + Math.min(Math.max(t[0].progress, -1), 0);
                                t.css({
                                    opacity: r
                                }).transform("translate3d(" + n + "px, " + i + "px, 0px)")
                            }
                        },
                        setTransition: function(e) {
                            if (_.slides.transition(e),
                            _.params.virtualTranslate && 0 !== e) {
                                var n = !1;
                                _.slides.transitionEnd(function() {
                                    if (!n && _) {
                                        n = !0,
                                        _.animating = !1;
                                        for (var e = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], t = 0; t < e.length; t++)
                                            _.wrapper.trigger(e[t])
                                    }
                                })
                            }
                        }
                    },
                    flip: {
                        setTranslate: function() {
                            for (var e = 0; e < _.slides.length; e++) {
                                var t = _.slides.eq(e)
                                  , n = t[0].progress;
                                _.params.flip.limitRotation && (n = Math.max(Math.min(t[0].progress, 1), -1));
                                var i = -180 * n
                                  , r = 0
                                  , a = -t[0].swiperSlideOffset
                                  , o = 0;
                                if (_.isHorizontal() ? _.rtl && (i = -i) : (o = a,
                                r = -i,
                                i = a = 0),
                                t[0].style.zIndex = -Math.abs(Math.round(n)) + _.slides.length,
                                _.params.flip.slideShadows) {
                                    var s = _.isHorizontal() ? t.find(".swiper-slide-shadow-left") : t.find(".swiper-slide-shadow-top")
                                      , l = _.isHorizontal() ? t.find(".swiper-slide-shadow-right") : t.find(".swiper-slide-shadow-bottom");
                                    0 === s.length && (s = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "left" : "top") + '"></div>'),
                                    t.append(s)),
                                    0 === l.length && (l = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "right" : "bottom") + '"></div>'),
                                    t.append(l)),
                                    s.length && (s[0].style.opacity = Math.max(-n, 0)),
                                    l.length && (l[0].style.opacity = Math.max(n, 0))
                                }
                                t.transform("translate3d(" + a + "px, " + o + "px, 0px) rotateX(" + r + "deg) rotateY(" + i + "deg)")
                            }
                        },
                        setTransition: function(e) {
                            if (_.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
                            _.params.virtualTranslate && 0 !== e) {
                                var n = !1;
                                _.slides.eq(_.activeIndex).transitionEnd(function() {
                                    if (!n && _ && N(this).hasClass(_.params.slideActiveClass)) {
                                        n = !0,
                                        _.animating = !1;
                                        for (var e = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], t = 0; t < e.length; t++)
                                            _.wrapper.trigger(e[t])
                                    }
                                })
                            }
                        }
                    },
                    cube: {
                        setTranslate: function() {
                            var e, t = 0;
                            _.params.cube.shadow && (_.isHorizontal() ? (0 === (e = _.wrapper.find(".swiper-cube-shadow")).length && (e = N('<div class="swiper-cube-shadow"></div>'),
                            _.wrapper.append(e)),
                            e.css({
                                height: _.width + "px"
                            })) : 0 === (e = _.container.find(".swiper-cube-shadow")).length && (e = N('<div class="swiper-cube-shadow"></div>'),
                            _.container.append(e)));
                            for (var n = 0; n < _.slides.length; n++) {
                                var i = _.slides.eq(n)
                                  , r = 90 * n
                                  , a = Math.floor(r / 360);
                                _.rtl && (r = -r,
                                a = Math.floor(-r / 360));
                                var o = Math.max(Math.min(i[0].progress, 1), -1)
                                  , s = 0
                                  , l = 0
                                  , u = 0;
                                n % 4 == 0 ? (s = 4 * -a * _.size,
                                u = 0) : (n - 1) % 4 == 0 ? (s = 0,
                                u = 4 * -a * _.size) : (n - 2) % 4 == 0 ? (s = _.size + 4 * a * _.size,
                                u = _.size) : (n - 3) % 4 == 0 && (s = -_.size,
                                u = 3 * _.size + 4 * _.size * a),
                                _.rtl && (s = -s),
                                _.isHorizontal() || (l = s,
                                s = 0);
                                var c = "rotateX(" + (_.isHorizontal() ? 0 : -r) + "deg) rotateY(" + (_.isHorizontal() ? r : 0) + "deg) translate3d(" + s + "px, " + l + "px, " + u + "px)";
                                if (o <= 1 && -1 < o && (t = 90 * n + 90 * o,
                                _.rtl && (t = 90 * -n - 90 * o)),
                                i.transform(c),
                                _.params.cube.slideShadows) {
                                    var h = _.isHorizontal() ? i.find(".swiper-slide-shadow-left") : i.find(".swiper-slide-shadow-top")
                                      , d = _.isHorizontal() ? i.find(".swiper-slide-shadow-right") : i.find(".swiper-slide-shadow-bottom");
                                    0 === h.length && (h = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "left" : "top") + '"></div>'),
                                    i.append(h)),
                                    0 === d.length && (d = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "right" : "bottom") + '"></div>'),
                                    i.append(d)),
                                    h.length && (h[0].style.opacity = Math.max(-o, 0)),
                                    d.length && (d[0].style.opacity = Math.max(o, 0))
                                }
                            }
                            if (_.wrapper.css({
                                "-webkit-transform-origin": "50% 50% -" + _.size / 2 + "px",
                                "-moz-transform-origin": "50% 50% -" + _.size / 2 + "px",
                                "-ms-transform-origin": "50% 50% -" + _.size / 2 + "px",
                                "transform-origin": "50% 50% -" + _.size / 2 + "px"
                            }),
                            _.params.cube.shadow)
                                if (_.isHorizontal())
                                    e.transform("translate3d(0px, " + (_.width / 2 + _.params.cube.shadowOffset) + "px, " + -_.width / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + _.params.cube.shadowScale + ")");
                                else {
                                    var p = Math.abs(t) - 90 * Math.floor(Math.abs(t) / 90)
                                      , f = 1.5 - (Math.sin(2 * p * Math.PI / 360) / 2 + Math.cos(2 * p * Math.PI / 360) / 2)
                                      , m = _.params.cube.shadowScale
                                      , g = _.params.cube.shadowScale / f
                                      , v = _.params.cube.shadowOffset;
                                    e.transform("scale3d(" + m + ", 1, " + g + ") translate3d(0px, " + (_.height / 2 + v) + "px, " + -_.height / 2 / g + "px) rotateX(-90deg)")
                                }
                            var y = _.isSafari || _.isUiWebView ? -_.size / 2 : 0;
                            _.wrapper.transform("translate3d(0px,0," + y + "px) rotateX(" + (_.isHorizontal() ? 0 : t) + "deg) rotateY(" + (_.isHorizontal() ? -t : 0) + "deg)")
                        },
                        setTransition: function(e) {
                            _.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
                            _.params.cube.shadow && !_.isHorizontal() && _.container.find(".swiper-cube-shadow").transition(e)
                        }
                    },
                    coverflow: {
                        setTranslate: function() {
                            for (var e = _.translate, t = _.isHorizontal() ? -e + _.width / 2 : -e + _.height / 2, n = _.isHorizontal() ? _.params.coverflow.rotate : -_.params.coverflow.rotate, i = _.params.coverflow.depth, r = 0, a = _.slides.length; r < a; r++) {
                                var o = _.slides.eq(r)
                                  , s = _.slidesSizesGrid[r]
                                  , l = (t - o[0].swiperSlideOffset - s / 2) / s * _.params.coverflow.modifier
                                  , u = _.isHorizontal() ? n * l : 0
                                  , c = _.isHorizontal() ? 0 : n * l
                                  , h = -i * Math.abs(l)
                                  , d = _.isHorizontal() ? 0 : _.params.coverflow.stretch * l
                                  , p = _.isHorizontal() ? _.params.coverflow.stretch * l : 0;
                                Math.abs(p) < .001 && (p = 0),
                                Math.abs(d) < .001 && (d = 0),
                                Math.abs(h) < .001 && (h = 0),
                                Math.abs(u) < .001 && (u = 0),
                                Math.abs(c) < .001 && (c = 0);
                                var f = "translate3d(" + p + "px," + d + "px," + h + "px)  rotateX(" + c + "deg) rotateY(" + u + "deg)";
                                if (o.transform(f),
                                o[0].style.zIndex = 1 - Math.abs(Math.round(l)),
                                _.params.coverflow.slideShadows) {
                                    var m = _.isHorizontal() ? o.find(".swiper-slide-shadow-left") : o.find(".swiper-slide-shadow-top")
                                      , g = _.isHorizontal() ? o.find(".swiper-slide-shadow-right") : o.find(".swiper-slide-shadow-bottom");
                                    0 === m.length && (m = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "left" : "top") + '"></div>'),
                                    o.append(m)),
                                    0 === g.length && (g = N('<div class="swiper-slide-shadow-' + (_.isHorizontal() ? "right" : "bottom") + '"></div>'),
                                    o.append(g)),
                                    m.length && (m[0].style.opacity = 0 < l ? l : 0),
                                    g.length && (g[0].style.opacity = 0 < -l ? -l : 0)
                                }
                            }
                            _.browser.ie && (_.wrapper[0].style.perspectiveOrigin = t + "px 50%")
                        },
                        setTransition: function(e) {
                            _.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)
                        }
                    }
                },
                _.lazy = {
                    initialImageLoaded: !1,
                    loadImageInSlide: function(e, l) {
                        if (void 0 !== e && (void 0 === l && (l = !0),
                        0 !== _.slides.length)) {
                            var u = _.slides.eq(e)
                              , t = u.find("." + _.params.lazyLoadingClass + ":not(." + _.params.lazyStatusLoadedClass + "):not(." + _.params.lazyStatusLoadingClass + ")");
                            !u.hasClass(_.params.lazyLoadingClass) || u.hasClass(_.params.lazyStatusLoadedClass) || u.hasClass(_.params.lazyStatusLoadingClass) || (t = t.add(u[0])),
                            0 !== t.length && t.each(function() {
                                var i = N(this);
                                i.addClass(_.params.lazyStatusLoadingClass);
                                var r = i.attr("data-background")
                                  , a = i.attr("data-src")
                                  , o = i.attr("data-srcset")
                                  , s = i.attr("data-sizes");
                                _.loadImage(i[0], a || r, o, s, !1, function() {
                                    if (null != _ && _) {
                                        if (r ? (i.css("background-image", 'url("' + r + '")'),
                                        i.removeAttr("data-background")) : (o && (i.attr("srcset", o),
                                        i.removeAttr("data-srcset")),
                                        s && (i.attr("sizes", s),
                                        i.removeAttr("data-sizes")),
                                        a && (i.attr("src", a),
                                        i.removeAttr("data-src"))),
                                        i.addClass(_.params.lazyStatusLoadedClass).removeClass(_.params.lazyStatusLoadingClass),
                                        u.find("." + _.params.lazyPreloaderClass + ", ." + _.params.preloaderClass).remove(),
                                        _.params.loop && l) {
                                            var e = u.attr("data-swiper-slide-index");
                                            if (u.hasClass(_.params.slideDuplicateClass)) {
                                                var t = _.wrapper.children('[data-swiper-slide-index="' + e + '"]:not(.' + _.params.slideDuplicateClass + ")");
                                                _.lazy.loadImageInSlide(t.index(), !1)
                                            } else {
                                                var n = _.wrapper.children("." + _.params.slideDuplicateClass + '[data-swiper-slide-index="' + e + '"]');
                                                _.lazy.loadImageInSlide(n.index(), !1)
                                            }
                                        }
                                        _.emit("onLazyImageReady", _, u[0], i[0])
                                    }
                                }),
                                _.emit("onLazyImageLoad", _, u[0], i[0])
                            })
                        }
                    },
                    load: function() {
                        var e, t = _.params.slidesPerView;
                        if ("auto" === t && (t = 0),
                        _.lazy.initialImageLoaded || (_.lazy.initialImageLoaded = !0),
                        _.params.watchSlidesVisibility)
                            _.wrapper.children("." + _.params.slideVisibleClass).each(function() {
                                _.lazy.loadImageInSlide(N(this).index())
                            });
                        else if (1 < t)
                            for (e = _.activeIndex; e < _.activeIndex + t; e++)
                                _.slides[e] && _.lazy.loadImageInSlide(e);
                        else
                            _.lazy.loadImageInSlide(_.activeIndex);
                        if (_.params.lazyLoadingInPrevNext)
                            if (1 < t || _.params.lazyLoadingInPrevNextAmount && 1 < _.params.lazyLoadingInPrevNextAmount) {
                                var n = _.params.lazyLoadingInPrevNextAmount
                                  , i = t
                                  , r = Math.min(_.activeIndex + i + Math.max(n, i), _.slides.length)
                                  , a = Math.max(_.activeIndex - Math.max(i, n), 0);
                                for (e = _.activeIndex + t; e < r; e++)
                                    _.slides[e] && _.lazy.loadImageInSlide(e);
                                for (e = a; e < _.activeIndex; e++)
                                    _.slides[e] && _.lazy.loadImageInSlide(e)
                            } else {
                                var o = _.wrapper.children("." + _.params.slideNextClass);
                                0 < o.length && _.lazy.loadImageInSlide(o.index());
                                var s = _.wrapper.children("." + _.params.slidePrevClass);
                                0 < s.length && _.lazy.loadImageInSlide(s.index())
                            }
                    },
                    onTransitionStart: function() {
                        _.params.lazyLoading && (!_.params.lazyLoadingOnTransitionStart && (_.params.lazyLoadingOnTransitionStart || _.lazy.initialImageLoaded) || _.lazy.load())
                    },
                    onTransitionEnd: function() {
                        _.params.lazyLoading && !_.params.lazyLoadingOnTransitionStart && _.lazy.load()
                    }
                },
                _.scrollbar = {
                    isTouched: !1,
                    setDragPosition: function(e) {
                        var t = _.scrollbar
                          , n = (_.isHorizontal() ? "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX || e.clientX : "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY || e.clientY) - t.track.offset()[_.isHorizontal() ? "left" : "top"] - t.dragSize / 2
                          , i = -_.minTranslate() * t.moveDivider
                          , r = -_.maxTranslate() * t.moveDivider;
                        n < i ? n = i : r < n && (n = r),
                        n = -n / t.moveDivider,
                        _.updateProgress(n),
                        _.setWrapperTranslate(n, !0)
                    },
                    dragStart: function(e) {
                        var t = _.scrollbar;
                        t.isTouched = !0,
                        e.preventDefault(),
                        e.stopPropagation(),
                        t.setDragPosition(e),
                        clearTimeout(t.dragTimeout),
                        t.track.transition(0),
                        _.params.scrollbarHide && t.track.css("opacity", 1),
                        _.wrapper.transition(100),
                        t.drag.transition(100),
                        _.emit("onScrollbarDragStart", _)
                    },
                    dragMove: function(e) {
                        var t = _.scrollbar;
                        t.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1,
                        t.setDragPosition(e),
                        _.wrapper.transition(0),
                        t.track.transition(0),
                        t.drag.transition(0),
                        _.emit("onScrollbarDragMove", _))
                    },
                    dragEnd: function(e) {
                        var t = _.scrollbar;
                        t.isTouched && (t.isTouched = !1,
                        _.params.scrollbarHide && (clearTimeout(t.dragTimeout),
                        t.dragTimeout = setTimeout(function() {
                            t.track.css("opacity", 0),
                            t.track.transition(400)
                        }, 1e3)),
                        _.emit("onScrollbarDragEnd", _),
                        _.params.scrollbarSnapOnRelease && _.slideReset())
                    },
                    draggableEvents: !1 !== _.params.simulateTouch || _.support.touch ? _.touchEvents : _.touchEventsDesktop,
                    enableDraggable: function() {
                        var e = _.scrollbar
                          , t = _.support.touch ? e.track : document;
                        N(e.track).on(e.draggableEvents.start, e.dragStart),
                        N(t).on(e.draggableEvents.move, e.dragMove),
                        N(t).on(e.draggableEvents.end, e.dragEnd)
                    },
                    disableDraggable: function() {
                        var e = _.scrollbar
                          , t = _.support.touch ? e.track : document;
                        N(e.track).off(e.draggableEvents.start, e.dragStart),
                        N(t).off(e.draggableEvents.move, e.dragMove),
                        N(t).off(e.draggableEvents.end, e.dragEnd)
                    },
                    set: function() {
                        if (_.params.scrollbar) {
                            var e = _.scrollbar;
                            e.track = N(_.params.scrollbar),
                            _.params.uniqueNavElements && "string" == typeof _.params.scrollbar && 1 < e.track.length && 1 === _.container.find(_.params.scrollbar).length && (e.track = _.container.find(_.params.scrollbar)),
                            e.drag = e.track.find(".swiper-scrollbar-drag"),
                            0 === e.drag.length && (e.drag = N('<div class="swiper-scrollbar-drag"></div>'),
                            e.track.append(e.drag)),
                            e.drag[0].style.width = "",
                            e.drag[0].style.height = "",
                            e.trackSize = _.isHorizontal() ? e.track[0].offsetWidth : e.track[0].offsetHeight,
                            e.divider = _.size / _.virtualSize,
                            e.moveDivider = e.divider * (e.trackSize / _.size),
                            e.dragSize = e.trackSize * e.divider,
                            _.isHorizontal() ? e.drag[0].style.width = e.dragSize + "px" : e.drag[0].style.height = e.dragSize + "px",
                            1 <= e.divider ? e.track[0].style.display = "none" : e.track[0].style.display = "",
                            _.params.scrollbarHide && (e.track[0].style.opacity = 0)
                        }
                    },
                    setTranslate: function() {
                        if (_.params.scrollbar) {
                            var e, t = _.scrollbar, n = (_.translate,
                            t.dragSize);
                            e = (t.trackSize - t.dragSize) * _.progress,
                            _.rtl && _.isHorizontal() ? 0 < (e = -e) ? (n = t.dragSize - e,
                            e = 0) : -e + t.dragSize > t.trackSize && (n = t.trackSize + e) : e < 0 ? (n = t.dragSize + e,
                            e = 0) : e + t.dragSize > t.trackSize && (n = t.trackSize - e),
                            _.isHorizontal() ? (_.support.transforms3d ? t.drag.transform("translate3d(" + e + "px, 0, 0)") : t.drag.transform("translateX(" + e + "px)"),
                            t.drag[0].style.width = n + "px") : (_.support.transforms3d ? t.drag.transform("translate3d(0px, " + e + "px, 0)") : t.drag.transform("translateY(" + e + "px)"),
                            t.drag[0].style.height = n + "px"),
                            _.params.scrollbarHide && (clearTimeout(t.timeout),
                            t.track[0].style.opacity = 1,
                            t.timeout = setTimeout(function() {
                                t.track[0].style.opacity = 0,
                                t.track.transition(400)
                            }, 1e3))
                        }
                    },
                    setTransition: function(e) {
                        _.params.scrollbar && _.scrollbar.drag.transition(e)
                    }
                },
                _.controller = {
                    LinearSpline: function(e, t) {
                        var n, i, r, a, o, s = function(e, t) {
                            for (i = -1,
                            n = e.length; 1 < n - i; )
                                e[r = n + i >> 1] <= t ? i = r : n = r;
                            return n
                        };
                        this.x = e,
                        this.y = t,
                        this.lastIndex = e.length - 1;
                        this.x.length;
                        this.interpolate = function(e) {
                            return e ? (o = s(this.x, e),
                            a = o - 1,
                            (e - this.x[a]) * (this.y[o] - this.y[a]) / (this.x[o] - this.x[a]) + this.y[a]) : 0
                        }
                    },
                    getInterpolateFunction: function(e) {
                        _.controller.spline || (_.controller.spline = _.params.loop ? new _.controller.LinearSpline(_.slidesGrid,e.slidesGrid) : new _.controller.LinearSpline(_.snapGrid,e.snapGrid))
                    },
                    setTranslate: function(t, e) {
                        var n, i, r = _.params.control;
                        function a(e) {
                            t = e.rtl && "horizontal" === e.params.direction ? -_.translate : _.translate,
                            "slide" === _.params.controlBy && (_.controller.getInterpolateFunction(e),
                            i = -_.controller.spline.interpolate(-t)),
                            i && "container" !== _.params.controlBy || (n = (e.maxTranslate() - e.minTranslate()) / (_.maxTranslate() - _.minTranslate()),
                            i = (t - _.minTranslate()) * n + e.minTranslate()),
                            _.params.controlInverse && (i = e.maxTranslate() - i),
                            e.updateProgress(i),
                            e.setWrapperTranslate(i, !1, _),
                            e.updateActiveIndex()
                        }
                        if (Array.isArray(r))
                            for (var o = 0; o < r.length; o++)
                                r[o] !== e && r[o]instanceof F && a(r[o]);
                        else
                            r instanceof F && e !== r && a(r)
                    },
                    setTransition: function(t, e) {
                        var n, i = _.params.control;
                        function r(e) {
                            e.setWrapperTransition(t, _),
                            0 !== t && (e.onTransitionStart(),
                            e.wrapper.transitionEnd(function() {
                                i && (e.params.loop && "slide" === _.params.controlBy && e.fixLoop(),
                                e.onTransitionEnd())
                            }))
                        }
                        if (Array.isArray(i))
                            for (n = 0; n < i.length; n++)
                                i[n] !== e && i[n]instanceof F && r(i[n]);
                        else
                            i instanceof F && e !== i && r(i)
                    }
                },
                _.hashnav = {
                    onHashCange: function(e, t) {
                        var n = document.location.hash.replace("#", "");
                        n !== _.slides.eq(_.activeIndex).attr("data-hash") && _.slideTo(_.wrapper.children("." + _.params.slideClass + '[data-hash="' + n + '"]').index())
                    },
                    attachEvents: function(e) {
                        var t = e ? "off" : "on";
                        N(window)[t]("hashchange", _.hashnav.onHashCange)
                    },
                    setHash: function() {
                        if (_.hashnav.initialized && _.params.hashnav)
                            if (_.params.replaceState && window.history && window.history.replaceState)
                                window.history.replaceState(null, null, "#" + _.slides.eq(_.activeIndex).attr("data-hash") || !1);
                            else {
                                var e = _.slides.eq(_.activeIndex)
                                  , t = e.attr("data-hash") || e.attr("data-history");
                                document.location.hash = t || ""
                            }
                    },
                    init: function() {
                        if (_.params.hashnav && !_.params.history) {
                            _.hashnav.initialized = !0;
                            var e = document.location.hash.replace("#", "");
                            if (e)
                                for (var t = 0, n = _.slides.length; t < n; t++) {
                                    var i = _.slides.eq(t);
                                    if ((i.attr("data-hash") || i.attr("data-history")) === e && !i.hasClass(_.params.slideDuplicateClass)) {
                                        var r = i.index();
                                        _.slideTo(r, 0, _.params.runCallbacksOnInit, !0)
                                    }
                                }
                            _.params.hashnavWatchState && _.hashnav.attachEvents()
                        }
                    },
                    destroy: function() {
                        _.params.hashnavWatchState && _.hashnav.attachEvents(!0)
                    }
                },
                _.history = {
                    init: function() {
                        if (_.params.history) {
                            if (!window.history || !window.history.pushState)
                                return _.params.history = !1,
                                void (_.params.hashnav = !0);
                            _.history.initialized = !0,
                            this.paths = this.getPathValues(),
                            (this.paths.key || this.paths.value) && (this.scrollToSlide(0, this.paths.value, _.params.runCallbacksOnInit),
                            _.params.replaceState || window.addEventListener("popstate", this.setHistoryPopState))
                        }
                    },
                    setHistoryPopState: function() {
                        _.history.paths = _.history.getPathValues(),
                        _.history.scrollToSlide(_.params.speed, _.history.paths.value, !1)
                    },
                    getPathValues: function() {
                        var e = window.location.pathname.slice(1).split("/")
                          , t = e.length;
                        return {
                            key: e[t - 2],
                            value: e[t - 1]
                        }
                    },
                    setHistory: function(e, t) {
                        if (_.history.initialized && _.params.history) {
                            var n = _.slides.eq(t)
                              , i = this.slugify(n.attr("data-history"));
                            window.location.pathname.includes(e) || (i = e + "/" + i),
                            _.params.replaceState ? window.history.replaceState(null, null, i) : window.history.pushState(null, null, i)
                        }
                    },
                    slugify: function(e) {
                        return e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
                    },
                    scrollToSlide: function(e, t, n) {
                        if (t)
                            for (var i = 0, r = _.slides.length; i < r; i++) {
                                var a = _.slides.eq(i);
                                if (this.slugify(a.attr("data-history")) === t && !a.hasClass(_.params.slideDuplicateClass)) {
                                    var o = a.index();
                                    _.slideTo(o, e, n)
                                }
                            }
                        else
                            _.slideTo(0, e, n)
                    }
                },
                _.disableKeyboardControl = function() {
                    _.params.keyboardControl = !1,
                    N(document).off("keydown", L)
                }
                ,
                _.enableKeyboardControl = function() {
                    _.params.keyboardControl = !0,
                    N(document).on("keydown", L)
                }
                ,
                _.mousewheel = {
                    event: !1,
                    lastScrollTime: (new window.Date).getTime()
                },
                _.params.mousewheelControl && (_.mousewheel.event = -1 < navigator.userAgent.indexOf("firefox") ? "DOMMouseScroll" : function() {
                    var e = "onwheel"
                      , t = e in document;
                    if (!t) {
                        var n = document.createElement("div");
                        n.setAttribute(e, "return;"),
                        t = "function" == typeof n[e]
                    }
                    return !t && document.implementation && document.implementation.hasFeature && !0 !== document.implementation.hasFeature("", "") && (t = document.implementation.hasFeature("Events.wheel", "3.0")),
                    t
                }() ? "wheel" : "mousewheel"),
                _.disableMousewheelControl = function() {
                    if (!_.mousewheel.event)
                        return !1;
                    var e = _.container;
                    return "container" !== _.params.mousewheelEventsTarged && (e = N(_.params.mousewheelEventsTarged)),
                    e.off(_.mousewheel.event, O),
                    !(_.params.mousewheelControl = !1)
                }
                ,
                _.enableMousewheelControl = function() {
                    if (!_.mousewheel.event)
                        return !1;
                    var e = _.container;
                    return "container" !== _.params.mousewheelEventsTarged && (e = N(_.params.mousewheelEventsTarged)),
                    e.on(_.mousewheel.event, O),
                    _.params.mousewheelControl = !0
                }
                ,
                _.parallax = {
                    setTranslate: function() {
                        _.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                            R(this, _.progress)
                        }),
                        _.slides.each(function() {
                            var e = N(this);
                            e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                                R(this, Math.min(Math.max(e[0].progress, -1), 1))
                            })
                        })
                    },
                    setTransition: function(n) {
                        void 0 === n && (n = _.params.speed),
                        _.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                            var e = N(this)
                              , t = parseInt(e.attr("data-swiper-parallax-duration"), 10) || n;
                            0 === n && (t = 0),
                            e.transition(t)
                        })
                    }
                },
                _.zoom = {
                    scale: 1,
                    currentScale: 1,
                    isScaling: !1,
                    gesture: {
                        slide: void 0,
                        slideWidth: void 0,
                        slideHeight: void 0,
                        image: void 0,
                        imageWrap: void 0,
                        zoomMax: _.params.zoomMax
                    },
                    image: {
                        isTouched: void 0,
                        isMoved: void 0,
                        currentX: void 0,
                        currentY: void 0,
                        minX: void 0,
                        minY: void 0,
                        maxX: void 0,
                        maxY: void 0,
                        width: void 0,
                        height: void 0,
                        startX: void 0,
                        startY: void 0,
                        touchesStart: {},
                        touchesCurrent: {}
                    },
                    velocity: {
                        x: void 0,
                        y: void 0,
                        prevPositionX: void 0,
                        prevPositionY: void 0,
                        prevTime: void 0
                    },
                    getDistanceBetweenTouches: function(e) {
                        if (e.targetTouches.length < 2)
                            return 1;
                        var t = e.targetTouches[0].pageX
                          , n = e.targetTouches[0].pageY
                          , i = e.targetTouches[1].pageX
                          , r = e.targetTouches[1].pageY;
                        return Math.sqrt(Math.pow(i - t, 2) + Math.pow(r - n, 2))
                    },
                    onGestureStart: function(e) {
                        var t = _.zoom;
                        if (!_.support.gestures) {
                            if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2)
                                return;
                            t.gesture.scaleStart = t.getDistanceBetweenTouches(e)
                        }
                        t.gesture.slide && t.gesture.slide.length || (t.gesture.slide = N(this),
                        0 === t.gesture.slide.length && (t.gesture.slide = _.slides.eq(_.activeIndex)),
                        t.gesture.image = t.gesture.slide.find("img, svg, canvas"),
                        t.gesture.imageWrap = t.gesture.image.parent("." + _.params.zoomContainerClass),
                        t.gesture.zoomMax = t.gesture.imageWrap.attr("data-swiper-zoom") || _.params.zoomMax,
                        0 !== t.gesture.imageWrap.length) ? (t.gesture.image.transition(0),
                        t.isScaling = !0) : t.gesture.image = void 0
                    },
                    onGestureChange: function(e) {
                        var t = _.zoom;
                        if (!_.support.gestures) {
                            if ("touchmove" !== e.type || "touchmove" === e.type && e.targetTouches.length < 2)
                                return;
                            t.gesture.scaleMove = t.getDistanceBetweenTouches(e)
                        }
                        t.gesture.image && 0 !== t.gesture.image.length && (_.support.gestures ? t.scale = e.scale * t.currentScale : t.scale = t.gesture.scaleMove / t.gesture.scaleStart * t.currentScale,
                        t.scale > t.gesture.zoomMax && (t.scale = t.gesture.zoomMax - 1 + Math.pow(t.scale - t.gesture.zoomMax + 1, .5)),
                        t.scale < _.params.zoomMin && (t.scale = _.params.zoomMin + 1 - Math.pow(_.params.zoomMin - t.scale + 1, .5)),
                        t.gesture.image.transform("translate3d(0,0,0) scale(" + t.scale + ")"))
                    },
                    onGestureEnd: function(e) {
                        var t = _.zoom;
                        !_.support.gestures && ("touchend" !== e.type || "touchend" === e.type && e.changedTouches.length < 2) || t.gesture.image && 0 !== t.gesture.image.length && (t.scale = Math.max(Math.min(t.scale, t.gesture.zoomMax), _.params.zoomMin),
                        t.gesture.image.transition(_.params.speed).transform("translate3d(0,0,0) scale(" + t.scale + ")"),
                        t.currentScale = t.scale,
                        t.isScaling = !1,
                        1 === t.scale && (t.gesture.slide = void 0))
                    },
                    onTouchStart: function(e, t) {
                        var n = e.zoom;
                        n.gesture.image && 0 !== n.gesture.image.length && (n.image.isTouched || ("android" === e.device.os && t.preventDefault(),
                        n.image.isTouched = !0,
                        n.image.touchesStart.x = "touchstart" === t.type ? t.targetTouches[0].pageX : t.pageX,
                        n.image.touchesStart.y = "touchstart" === t.type ? t.targetTouches[0].pageY : t.pageY))
                    },
                    onTouchMove: function(e) {
                        var t = _.zoom;
                        if (t.gesture.image && 0 !== t.gesture.image.length && (_.allowClick = !1,
                        t.image.isTouched && t.gesture.slide)) {
                            t.image.isMoved || (t.image.width = t.gesture.image[0].offsetWidth,
                            t.image.height = t.gesture.image[0].offsetHeight,
                            t.image.startX = _.getTranslate(t.gesture.imageWrap[0], "x") || 0,
                            t.image.startY = _.getTranslate(t.gesture.imageWrap[0], "y") || 0,
                            t.gesture.slideWidth = t.gesture.slide[0].offsetWidth,
                            t.gesture.slideHeight = t.gesture.slide[0].offsetHeight,
                            t.gesture.imageWrap.transition(0),
                            _.rtl && (t.image.startX = -t.image.startX),
                            _.rtl && (t.image.startY = -t.image.startY));
                            var n = t.image.width * t.scale
                              , i = t.image.height * t.scale;
                            if (!(n < t.gesture.slideWidth && i < t.gesture.slideHeight)) {
                                if (t.image.minX = Math.min(t.gesture.slideWidth / 2 - n / 2, 0),
                                t.image.maxX = -t.image.minX,
                                t.image.minY = Math.min(t.gesture.slideHeight / 2 - i / 2, 0),
                                t.image.maxY = -t.image.minY,
                                t.image.touchesCurrent.x = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX,
                                t.image.touchesCurrent.y = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY,
                                !t.image.isMoved && !t.isScaling) {
                                    if (_.isHorizontal() && Math.floor(t.image.minX) === Math.floor(t.image.startX) && t.image.touchesCurrent.x < t.image.touchesStart.x || Math.floor(t.image.maxX) === Math.floor(t.image.startX) && t.image.touchesCurrent.x > t.image.touchesStart.x)
                                        return void (t.image.isTouched = !1);
                                    if (!_.isHorizontal() && Math.floor(t.image.minY) === Math.floor(t.image.startY) && t.image.touchesCurrent.y < t.image.touchesStart.y || Math.floor(t.image.maxY) === Math.floor(t.image.startY) && t.image.touchesCurrent.y > t.image.touchesStart.y)
                                        return void (t.image.isTouched = !1)
                                }
                                e.preventDefault(),
                                e.stopPropagation(),
                                t.image.isMoved = !0,
                                t.image.currentX = t.image.touchesCurrent.x - t.image.touchesStart.x + t.image.startX,
                                t.image.currentY = t.image.touchesCurrent.y - t.image.touchesStart.y + t.image.startY,
                                t.image.currentX < t.image.minX && (t.image.currentX = t.image.minX + 1 - Math.pow(t.image.minX - t.image.currentX + 1, .8)),
                                t.image.currentX > t.image.maxX && (t.image.currentX = t.image.maxX - 1 + Math.pow(t.image.currentX - t.image.maxX + 1, .8)),
                                t.image.currentY < t.image.minY && (t.image.currentY = t.image.minY + 1 - Math.pow(t.image.minY - t.image.currentY + 1, .8)),
                                t.image.currentY > t.image.maxY && (t.image.currentY = t.image.maxY - 1 + Math.pow(t.image.currentY - t.image.maxY + 1, .8)),
                                t.velocity.prevPositionX || (t.velocity.prevPositionX = t.image.touchesCurrent.x),
                                t.velocity.prevPositionY || (t.velocity.prevPositionY = t.image.touchesCurrent.y),
                                t.velocity.prevTime || (t.velocity.prevTime = Date.now()),
                                t.velocity.x = (t.image.touchesCurrent.x - t.velocity.prevPositionX) / (Date.now() - t.velocity.prevTime) / 2,
                                t.velocity.y = (t.image.touchesCurrent.y - t.velocity.prevPositionY) / (Date.now() - t.velocity.prevTime) / 2,
                                Math.abs(t.image.touchesCurrent.x - t.velocity.prevPositionX) < 2 && (t.velocity.x = 0),
                                Math.abs(t.image.touchesCurrent.y - t.velocity.prevPositionY) < 2 && (t.velocity.y = 0),
                                t.velocity.prevPositionX = t.image.touchesCurrent.x,
                                t.velocity.prevPositionY = t.image.touchesCurrent.y,
                                t.velocity.prevTime = Date.now(),
                                t.gesture.imageWrap.transform("translate3d(" + t.image.currentX + "px, " + t.image.currentY + "px,0)")
                            }
                        }
                    },
                    onTouchEnd: function(e, t) {
                        var n = e.zoom;
                        if (n.gesture.image && 0 !== n.gesture.image.length) {
                            if (!n.image.isTouched || !n.image.isMoved)
                                return n.image.isTouched = !1,
                                void (n.image.isMoved = !1);
                            n.image.isTouched = !1,
                            n.image.isMoved = !1;
                            var i = 300
                              , r = 300
                              , a = n.velocity.x * i
                              , o = n.image.currentX + a
                              , s = n.velocity.y * r
                              , l = n.image.currentY + s;
                            0 !== n.velocity.x && (i = Math.abs((o - n.image.currentX) / n.velocity.x)),
                            0 !== n.velocity.y && (r = Math.abs((l - n.image.currentY) / n.velocity.y));
                            var u = Math.max(i, r);
                            n.image.currentX = o,
                            n.image.currentY = l;
                            var c = n.image.width * n.scale
                              , h = n.image.height * n.scale;
                            n.image.minX = Math.min(n.gesture.slideWidth / 2 - c / 2, 0),
                            n.image.maxX = -n.image.minX,
                            n.image.minY = Math.min(n.gesture.slideHeight / 2 - h / 2, 0),
                            n.image.maxY = -n.image.minY,
                            n.image.currentX = Math.max(Math.min(n.image.currentX, n.image.maxX), n.image.minX),
                            n.image.currentY = Math.max(Math.min(n.image.currentY, n.image.maxY), n.image.minY),
                            n.gesture.imageWrap.transition(u).transform("translate3d(" + n.image.currentX + "px, " + n.image.currentY + "px,0)")
                        }
                    },
                    onTransitionEnd: function(e) {
                        var t = e.zoom;
                        t.gesture.slide && e.previousIndex !== e.activeIndex && (t.gesture.image.transform("translate3d(0,0,0) scale(1)"),
                        t.gesture.imageWrap.transform("translate3d(0,0,0)"),
                        t.gesture.slide = t.gesture.image = t.gesture.imageWrap = void 0,
                        t.scale = t.currentScale = 1)
                    },
                    toggleZoom: function(e, t) {
                        var n, i, r, a, o, s, l, u, c, h, d, p, f, m, g, v, y = e.zoom;
                        y.gesture.slide || (y.gesture.slide = e.clickedSlide ? N(e.clickedSlide) : e.slides.eq(e.activeIndex),
                        y.gesture.image = y.gesture.slide.find("img, svg, canvas"),
                        y.gesture.imageWrap = y.gesture.image.parent("." + e.params.zoomContainerClass)),
                        y.gesture.image && 0 !== y.gesture.image.length && (i = void 0 === y.image.touchesStart.x && t ? (n = "touchend" === t.type ? t.changedTouches[0].pageX : t.pageX,
                        "touchend" === t.type ? t.changedTouches[0].pageY : t.pageY) : (n = y.image.touchesStart.x,
                        y.image.touchesStart.y),
                        y.scale && 1 !== y.scale ? (y.scale = y.currentScale = 1,
                        y.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),
                        y.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),
                        y.gesture.slide = void 0) : (y.scale = y.currentScale = y.gesture.imageWrap.attr("data-swiper-zoom") || e.params.zoomMax,
                        t ? (g = y.gesture.slide[0].offsetWidth,
                        v = y.gesture.slide[0].offsetHeight,
                        r = y.gesture.slide.offset().left + g / 2 - n,
                        a = y.gesture.slide.offset().top + v / 2 - i,
                        l = y.gesture.image[0].offsetWidth,
                        u = y.gesture.image[0].offsetHeight,
                        c = l * y.scale,
                        h = u * y.scale,
                        f = -(d = Math.min(g / 2 - c / 2, 0)),
                        m = -(p = Math.min(v / 2 - h / 2, 0)),
                        (o = r * y.scale) < d && (o = d),
                        f < o && (o = f),
                        (s = a * y.scale) < p && (s = p),
                        m < s && (s = m)) : s = o = 0,
                        y.gesture.imageWrap.transition(300).transform("translate3d(" + o + "px, " + s + "px,0)"),
                        y.gesture.image.transition(300).transform("translate3d(0,0,0) scale(" + y.scale + ")")))
                    },
                    attachEvents: function(e) {
                        var n = e ? "off" : "on";
                        if (_.params.zoom) {
                            _.slides;
                            var t = !("touchstart" !== _.touchEvents.start || !_.support.passiveListener || !_.params.passiveListeners) && {
                                passive: !0,
                                capture: !1
                            };
                            _.support.gestures ? (_.slides[n]("gesturestart", _.zoom.onGestureStart, t),
                            _.slides[n]("gesturechange", _.zoom.onGestureChange, t),
                            _.slides[n]("gestureend", _.zoom.onGestureEnd, t)) : "touchstart" === _.touchEvents.start && (_.slides[n](_.touchEvents.start, _.zoom.onGestureStart, t),
                            _.slides[n](_.touchEvents.move, _.zoom.onGestureChange, t),
                            _.slides[n](_.touchEvents.end, _.zoom.onGestureEnd, t)),
                            _[n]("touchStart", _.zoom.onTouchStart),
                            _.slides.each(function(e, t) {
                                0 < N(t).find("." + _.params.zoomContainerClass).length && N(t)[n](_.touchEvents.move, _.zoom.onTouchMove)
                            }),
                            _[n]("touchEnd", _.zoom.onTouchEnd),
                            _[n]("transitionEnd", _.zoom.onTransitionEnd),
                            _.params.zoomToggle && _.on("doubleTap", _.zoom.toggleZoom)
                        }
                    },
                    init: function() {
                        _.zoom.attachEvents()
                    },
                    destroy: function() {
                        _.zoom.attachEvents(!0)
                    }
                },
                _._plugins = [],
                _.plugins) {
                    var g = _.plugins[m](_, _.params[m]);
                    g && _._plugins.push(g)
                }
                return _.callPlugins = function(e) {
                    for (var t = 0; t < _._plugins.length; t++)
                        e in _._plugins[t] && _._plugins[t][e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                }
                ,
                _.emitterEventListeners = {},
                _.emit = function(e) {
                    var t;
                    if (_.params[e] && _.params[e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]),
                    _.emitterEventListeners[e])
                        for (t = 0; t < _.emitterEventListeners[e].length; t++)
                            _.emitterEventListeners[e][t](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
                    _.callPlugins && _.callPlugins(e, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                }
                ,
                _.on = function(e, t) {
                    return e = D(e),
                    _.emitterEventListeners[e] || (_.emitterEventListeners[e] = []),
                    _.emitterEventListeners[e].push(t),
                    _
                }
                ,
                _.off = function(e, t) {
                    var n;
                    if (e = D(e),
                    void 0 === t)
                        return _.emitterEventListeners[e] = [],
                        _;
                    if (_.emitterEventListeners[e] && 0 !== _.emitterEventListeners[e].length) {
                        for (n = 0; n < _.emitterEventListeners[e].length; n++)
                            _.emitterEventListeners[e][n] === t && _.emitterEventListeners[e].splice(n, 1);
                        return _
                    }
                }
                ,
                _.once = function(e, t) {
                    e = D(e);
                    var n = function() {
                        t(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]),
                        _.off(e, n)
                    };
                    return _.on(e, n),
                    _
                }
                ,
                _.a11y = {
                    makeFocusable: function(e) {
                        return e.attr("tabIndex", "0"),
                        e
                    },
                    addRole: function(e, t) {
                        return e.attr("role", t),
                        e
                    },
                    addLabel: function(e, t) {
                        return e.attr("aria-label", t),
                        e
                    },
                    disable: function(e) {
                        return e.attr("aria-disabled", !0),
                        e
                    },
                    enable: function(e) {
                        return e.attr("aria-disabled", !1),
                        e
                    },
                    onEnterKey: function(e) {
                        13 === e.keyCode && (N(e.target).is(_.params.nextButton) ? (_.onClickNext(e),
                        _.isEnd ? _.a11y.notify(_.params.lastSlideMessage) : _.a11y.notify(_.params.nextSlideMessage)) : N(e.target).is(_.params.prevButton) && (_.onClickPrev(e),
                        _.isBeginning ? _.a11y.notify(_.params.firstSlideMessage) : _.a11y.notify(_.params.prevSlideMessage)),
                        N(e.target).is("." + _.params.bulletClass) && N(e.target)[0].click())
                    },
                    liveRegion: N('<span class="' + _.params.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>'),
                    notify: function(e) {
                        var t = _.a11y.liveRegion;
                        0 !== t.length && (t.html(""),
                        t.html(e))
                    },
                    init: function() {
                        _.params.nextButton && _.nextButton && 0 < _.nextButton.length && (_.a11y.makeFocusable(_.nextButton),
                        _.a11y.addRole(_.nextButton, "button"),
                        _.a11y.addLabel(_.nextButton, _.params.nextSlideMessage)),
                        _.params.prevButton && _.prevButton && 0 < _.prevButton.length && (_.a11y.makeFocusable(_.prevButton),
                        _.a11y.addRole(_.prevButton, "button"),
                        _.a11y.addLabel(_.prevButton, _.params.prevSlideMessage)),
                        N(_.container).append(_.a11y.liveRegion)
                    },
                    initPagination: function() {
                        _.params.pagination && _.params.paginationClickable && _.bullets && _.bullets.length && _.bullets.each(function() {
                            var e = N(this);
                            _.a11y.makeFocusable(e),
                            _.a11y.addRole(e, "button"),
                            _.a11y.addLabel(e, _.params.paginationBulletMessage.replace(/{{index}}/, e.index() + 1))
                        })
                    },
                    destroy: function() {
                        _.a11y.liveRegion && 0 < _.a11y.liveRegion.length && _.a11y.liveRegion.remove()
                    }
                },
                _.init = function() {
                    _.params.loop && _.createLoop(),
                    _.updateContainerSize(),
                    _.updateSlidesSize(),
                    _.updatePagination(),
                    _.params.scrollbar && _.scrollbar && (_.scrollbar.set(),
                    _.params.scrollbarDraggable && _.scrollbar.enableDraggable()),
                    "slide" !== _.params.effect && _.effects[_.params.effect] && (_.params.loop || _.updateProgress(),
                    _.effects[_.params.effect].setTranslate()),
                    _.params.loop ? _.slideTo(_.params.initialSlide + _.loopedSlides, 0, _.params.runCallbacksOnInit) : (_.slideTo(_.params.initialSlide, 0, _.params.runCallbacksOnInit),
                    0 === _.params.initialSlide && (_.parallax && _.params.parallax && _.parallax.setTranslate(),
                    _.lazy && _.params.lazyLoading && (_.lazy.load(),
                    _.lazy.initialImageLoaded = !0))),
                    _.attachEvents(),
                    _.params.observer && _.support.observer && _.initObservers(),
                    _.params.preloadImages && !_.params.lazyLoading && _.preloadImages(),
                    _.params.zoom && _.zoom && _.zoom.init(),
                    _.params.autoplay && _.startAutoplay(),
                    _.params.keyboardControl && _.enableKeyboardControl && _.enableKeyboardControl(),
                    _.params.mousewheelControl && _.enableMousewheelControl && _.enableMousewheelControl(),
                    _.params.hashnavReplaceState && (_.params.replaceState = _.params.hashnavReplaceState),
                    _.params.history && _.history && _.history.init(),
                    _.params.hashnav && _.hashnav && _.hashnav.init(),
                    _.params.a11y && _.a11y && _.a11y.init(),
                    _.emit("onInit", _)
                }
                ,
                _.cleanupStyles = function() {
                    _.container.removeClass(_.classNames.join(" ")).removeAttr("style"),
                    _.wrapper.removeAttr("style"),
                    _.slides && _.slides.length && _.slides.removeClass([_.params.slideVisibleClass, _.params.slideActiveClass, _.params.slideNextClass, _.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),
                    _.paginationContainer && _.paginationContainer.length && _.paginationContainer.removeClass(_.params.paginationHiddenClass),
                    _.bullets && _.bullets.length && _.bullets.removeClass(_.params.bulletActiveClass),
                    _.params.prevButton && N(_.params.prevButton).removeClass(_.params.buttonDisabledClass),
                    _.params.nextButton && N(_.params.nextButton).removeClass(_.params.buttonDisabledClass),
                    _.params.scrollbar && _.scrollbar && (_.scrollbar.track && _.scrollbar.track.length && _.scrollbar.track.removeAttr("style"),
                    _.scrollbar.drag && _.scrollbar.drag.length && _.scrollbar.drag.removeAttr("style"))
                }
                ,
                _.destroy = function(e, t) {
                    _.detachEvents(),
                    _.stopAutoplay(),
                    _.params.scrollbar && _.scrollbar && _.params.scrollbarDraggable && _.scrollbar.disableDraggable(),
                    _.params.loop && _.destroyLoop(),
                    t && _.cleanupStyles(),
                    _.disconnectObservers(),
                    _.params.zoom && _.zoom && _.zoom.destroy(),
                    _.params.keyboardControl && _.disableKeyboardControl && _.disableKeyboardControl(),
                    _.params.mousewheelControl && _.disableMousewheelControl && _.disableMousewheelControl(),
                    _.params.a11y && _.a11y && _.a11y.destroy(),
                    _.params.history && !_.params.replaceState && window.removeEventListener("popstate", _.history.setHistoryPopState),
                    _.params.hashnav && _.hashnav && _.hashnav.destroy(),
                    _.emit("onDestroy"),
                    !1 !== e && (_ = null)
                }
                ,
                _.init(),
                _
            }
            function v(e) {
                return Math.floor(e)
            }
            function y() {
                var e = _.params.autoplay
                  , t = _.slides.eq(_.activeIndex);
                t.attr("data-swiper-autoplay") && (e = t.attr("data-swiper-autoplay") || _.params.autoplay),
                _.autoplayTimeoutId = setTimeout(function() {
                    _.params.loop ? (_.fixLoop(),
                    _._slideNext(),
                    _.emit("onAutoplay", _)) : _.isEnd ? l.autoplayStopOnLast ? _.stopAutoplay() : (_._slideTo(0),
                    _.emit("onAutoplay", _)) : (_._slideNext(),
                    _.emit("onAutoplay", _))
                }, e)
            }
            function b(e, n) {
                var t = N(e.target);
                if (!t.is(n))
                    if ("string" == typeof n)
                        t = t.parents(n);
                    else if (n.nodeType) {
                        var i;
                        return t.parents().each(function(e, t) {
                            t === n && (i = n)
                        }),
                        i ? n : void 0
                    }
                if (0 !== t.length)
                    return t[0]
            }
            function I(e, t) {
                t = t || {};
                var n = new (window.MutationObserver || window.WebkitMutationObserver)(function(e) {
                    e.forEach(function(e) {
                        _.onResize(!0),
                        _.emit("onObserverUpdate", _, e)
                    })
                }
                );
                n.observe(e, {
                    attributes: void 0 === t.attributes || t.attributes,
                    childList: void 0 === t.childList || t.childList,
                    characterData: void 0 === t.characterData || t.characterData
                }),
                _.observers.push(n)
            }
            function L(e) {
                e.originalEvent && (e = e.originalEvent);
                var t = e.keyCode || e.charCode;
                if (!_.params.allowSwipeToNext && (_.isHorizontal() && 39 === t || !_.isHorizontal() && 40 === t))
                    return !1;
                if (!_.params.allowSwipeToPrev && (_.isHorizontal() && 37 === t || !_.isHorizontal() && 38 === t))
                    return !1;
                if (!(e.shiftKey || e.altKey || e.ctrlKey || e.metaKey || document.activeElement && document.activeElement.nodeName && ("input" === document.activeElement.nodeName.toLowerCase() || "textarea" === document.activeElement.nodeName.toLowerCase()))) {
                    if (37 === t || 39 === t || 38 === t || 40 === t) {
                        var n = !1;
                        if (0 < _.container.parents("." + _.params.slideClass).length && 0 === _.container.parents("." + _.params.slideActiveClass).length)
                            return;
                        var i = window.pageXOffset
                          , r = window.pageYOffset
                          , a = window.innerWidth
                          , o = window.innerHeight
                          , s = _.container.offset();
                        _.rtl && (s.left = s.left - _.container[0].scrollLeft);
                        for (var l = [[s.left, s.top], [s.left + _.width, s.top], [s.left, s.top + _.height], [s.left + _.width, s.top + _.height]], u = 0; u < l.length; u++) {
                            var c = l[u];
                            c[0] >= i && c[0] <= i + a && c[1] >= r && c[1] <= r + o && (n = !0)
                        }
                        if (!n)
                            return
                    }
                    _.isHorizontal() ? (37 !== t && 39 !== t || (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
                    (39 === t && !_.rtl || 37 === t && _.rtl) && _.slideNext(),
                    (37 === t && !_.rtl || 39 === t && _.rtl) && _.slidePrev()) : (38 !== t && 40 !== t || (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
                    40 === t && _.slideNext(),
                    38 === t && _.slidePrev()),
                    _.emit("onKeyPress", _, t)
                }
            }
            function O(e) {
                e.originalEvent && (e = e.originalEvent);
                var t = 0
                  , n = _.rtl ? -1 : 1
                  , i = function(e) {
                    var t = 0
                      , n = 0
                      , i = 0
                      , r = 0;
                    return "detail"in e && (n = e.detail),
                    "wheelDelta"in e && (n = -e.wheelDelta / 120),
                    "wheelDeltaY"in e && (n = -e.wheelDeltaY / 120),
                    "wheelDeltaX"in e && (t = -e.wheelDeltaX / 120),
                    "axis"in e && e.axis === e.HORIZONTAL_AXIS && (t = n,
                    n = 0),
                    i = 10 * t,
                    r = 10 * n,
                    "deltaY"in e && (r = e.deltaY),
                    "deltaX"in e && (i = e.deltaX),
                    (i || r) && e.deltaMode && (1 === e.deltaMode ? (i *= 40,
                    r *= 40) : (i *= 800,
                    r *= 800)),
                    i && !t && (t = i < 1 ? -1 : 1),
                    r && !n && (n = r < 1 ? -1 : 1),
                    {
                        spinX: t,
                        spinY: n,
                        pixelX: i,
                        pixelY: r
                    }
                }(e);
                if (_.params.mousewheelForceToAxis)
                    if (_.isHorizontal()) {
                        if (!(Math.abs(i.pixelX) > Math.abs(i.pixelY)))
                            return;
                        t = i.pixelX * n
                    } else {
                        if (!(Math.abs(i.pixelY) > Math.abs(i.pixelX)))
                            return;
                        t = i.pixelY
                    }
                else
                    t = Math.abs(i.pixelX) > Math.abs(i.pixelY) ? -i.pixelX * n : -i.pixelY;
                if (0 !== t) {
                    if (_.params.mousewheelInvert && (t = -t),
                    _.params.freeMode) {
                        var r = _.getWrapperTranslate() + t * _.params.mousewheelSensitivity
                          , a = _.isBeginning
                          , o = _.isEnd;
                        if (r >= _.minTranslate() && (r = _.minTranslate()),
                        r <= _.maxTranslate() && (r = _.maxTranslate()),
                        _.setWrapperTransition(0),
                        _.setWrapperTranslate(r),
                        _.updateProgress(),
                        _.updateActiveIndex(),
                        (!a && _.isBeginning || !o && _.isEnd) && _.updateClasses(),
                        _.params.freeModeSticky ? (clearTimeout(_.mousewheel.timeout),
                        _.mousewheel.timeout = setTimeout(function() {
                            _.slideReset()
                        }, 300)) : _.params.lazyLoading && _.lazy && _.lazy.load(),
                        _.emit("onScroll", _, e),
                        _.params.autoplay && _.params.autoplayDisableOnInteraction && _.stopAutoplay(),
                        0 === r || r === _.maxTranslate())
                            return
                    } else {
                        if (60 < (new window.Date).getTime() - _.mousewheel.lastScrollTime)
                            if (t < 0)
                                if (_.isEnd && !_.params.loop || _.animating) {
                                    if (_.params.mousewheelReleaseOnEdges)
                                        return !0
                                } else
                                    _.slideNext(),
                                    _.emit("onScroll", _, e);
                            else if (_.isBeginning && !_.params.loop || _.animating) {
                                if (_.params.mousewheelReleaseOnEdges)
                                    return !0
                            } else
                                _.slidePrev(),
                                _.emit("onScroll", _, e);
                        _.mousewheel.lastScrollTime = (new window.Date).getTime()
                    }
                    return e.preventDefault ? e.preventDefault() : e.returnValue = !1,
                    !1
                }
            }
            function R(e, t) {
                var n, i, r;
                e = N(e);
                var a = _.rtl ? -1 : 1;
                n = e.attr("data-swiper-parallax") || "0",
                i = e.attr("data-swiper-parallax-x"),
                r = e.attr("data-swiper-parallax-y"),
                i || r ? (i = i || "0",
                r = r || "0") : _.isHorizontal() ? (i = n,
                r = "0") : (r = n,
                i = "0"),
                i = 0 <= i.indexOf("%") ? parseInt(i, 10) * t * a + "%" : i * t * a + "px",
                r = 0 <= r.indexOf("%") ? parseInt(r, 10) * t + "%" : r * t + "px",
                e.transform("translate3d(" + i + ", " + r + ",0px)")
            }
            function D(e) {
                return 0 !== e.indexOf("on") && (e = e[0] !== e[0].toUpperCase() ? "on" + e[0].toUpperCase() + e.substring(1) : "on" + e),
                e
            }
        };
        F.prototype = {
            isSafari: (s = window.navigator.userAgent.toLowerCase(),
            0 <= s.indexOf("safari") && s.indexOf("chrome") < 0 && s.indexOf("android") < 0),
            isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),
            isArray: function(e) {
                return "[object Array]" === Object.prototype.toString.apply(e)
            },
            browser: {
                ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
                ieTouch: window.navigator.msPointerEnabled && 1 < window.navigator.msMaxTouchPoints || window.navigator.pointerEnabled && 1 < window.navigator.maxTouchPoints,
                lteIE9: (o = document.createElement("div"),
                o.innerHTML = "\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",
                1 === o.getElementsByTagName("i").length)
            },
            device: (t = window.navigator.userAgent,
            n = t.match(/(Android);?[\s\/]+([\d.]+)?/),
            i = t.match(/(iPad).*OS\s([\d_]+)/),
            r = t.match(/(iPod)(.*OS\s([\d_]+))?/),
            a = !i && t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),
            {
                ios: i || a || r,
                android: n
            }),
            support: {
                touch: window.Modernizr && !0 === Modernizr.touch || !!("ontouchstart"in window || window.DocumentTouch && document instanceof DocumentTouch),
                transforms3d: window.Modernizr && !0 === Modernizr.csstransforms3d || (e = document.createElement("div").style,
                "webkitPerspective"in e || "MozPerspective"in e || "OPerspective"in e || "MsPerspective"in e || "perspective"in e),
                flexbox: function() {
                    for (var e = document.createElement("div").style, t = "alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "), n = 0; n < t.length; n++)
                        if (t[n]in e)
                            return !0
                }(),
                observer: "MutationObserver"in window || "WebkitMutationObserver"in window,
                passiveListener: function() {
                    var e = !1;
                    try {
                        var t = Object.defineProperty({}, "passive", {
                            get: function() {
                                e = !0
                            }
                        });
                        window.addEventListener("testPassiveListener", null, t)
                    } catch (e) {}
                    return e
                }(),
                gestures: "ongesturestart"in window
            },
            plugins: {}
        };
        var B = (l.prototype = {
            addClass: function(e) {
                if (void 0 === e)
                    return this;
                for (var t = e.split(" "), n = 0; n < t.length; n++)
                    for (var i = 0; i < this.length; i++)
                        this[i].classList.add(t[n]);
                return this
            },
            removeClass: function(e) {
                for (var t = e.split(" "), n = 0; n < t.length; n++)
                    for (var i = 0; i < this.length; i++)
                        this[i].classList.remove(t[n]);
                return this
            },
            hasClass: function(e) {
                return !!this[0] && this[0].classList.contains(e)
            },
            toggleClass: function(e) {
                for (var t = e.split(" "), n = 0; n < t.length; n++)
                    for (var i = 0; i < this.length; i++)
                        this[i].classList.toggle(t[n]);
                return this
            },
            attr: function(e, t) {
                if (1 === arguments.length && "string" == typeof e)
                    return this[0] ? this[0].getAttribute(e) : void 0;
                for (var n = 0; n < this.length; n++)
                    if (2 === arguments.length)
                        this[n].setAttribute(e, t);
                    else
                        for (var i in e)
                            this[n][i] = e[i],
                            this[n].setAttribute(i, e[i]);
                return this
            },
            removeAttr: function(e) {
                for (var t = 0; t < this.length; t++)
                    this[t].removeAttribute(e);
                return this
            },
            data: function(e, t) {
                if (void 0 !== t) {
                    for (var n = 0; n < this.length; n++) {
                        var i = this[n];
                        i.dom7ElementDataStorage || (i.dom7ElementDataStorage = {}),
                        i.dom7ElementDataStorage[e] = t
                    }
                    return this
                }
                if (this[0]) {
                    var r = this[0].getAttribute("data-" + e);
                    return r || (this[0].dom7ElementDataStorage && e in this[0].dom7ElementDataStorage ? this[0].dom7ElementDataStorage[e] : void 0)
                }
            },
            transform: function(e) {
                for (var t = 0; t < this.length; t++) {
                    var n = this[t].style;
                    n.webkitTransform = n.MsTransform = n.msTransform = n.MozTransform = n.OTransform = n.transform = e
                }
                return this
            },
            transition: function(e) {
                "string" != typeof e && (e += "ms");
                for (var t = 0; t < this.length; t++) {
                    var n = this[t].style;
                    n.webkitTransitionDuration = n.MsTransitionDuration = n.msTransitionDuration = n.MozTransitionDuration = n.OTransitionDuration = n.transitionDuration = e
                }
                return this
            },
            on: function(e, r, a, t) {
                function n(e) {
                    var t = e.target;
                    if (u(t).is(r))
                        a.call(t, e);
                    else
                        for (var n = u(t).parents(), i = 0; i < n.length; i++)
                            u(n[i]).is(r) && a.call(n[i], e)
                }
                var i, o, s = e.split(" ");
                for (i = 0; i < this.length; i++)
                    if ("function" == typeof r || !1 === r)
                        for ("function" == typeof r && (a = r,
                        t = arguments[2] || !1),
                        o = 0; o < s.length; o++)
                            this[i].addEventListener(s[o], a, t);
                    else
                        for (o = 0; o < s.length; o++)
                            this[i].dom7LiveListeners || (this[i].dom7LiveListeners = []),
                            this[i].dom7LiveListeners.push({
                                listener: a,
                                liveListener: n
                            }),
                            this[i].addEventListener(s[o], n, t);
                return this
            },
            off: function(e, t, n, i) {
                for (var r = e.split(" "), a = 0; a < r.length; a++)
                    for (var o = 0; o < this.length; o++)
                        if ("function" == typeof t || !1 === t)
                            "function" == typeof t && (n = t,
                            i = arguments[2] || !1),
                            this[o].removeEventListener(r[a], n, i);
                        else if (this[o].dom7LiveListeners)
                            for (var s = 0; s < this[o].dom7LiveListeners.length; s++)
                                this[o].dom7LiveListeners[s].listener === n && this[o].removeEventListener(r[a], this[o].dom7LiveListeners[s].liveListener, i);
                return this
            },
            once: function(n, i, r, a) {
                var o = this;
                "function" == typeof i && (i = !1,
                r = arguments[1],
                a = arguments[2]),
                o.on(n, i, function e(t) {
                    r(t),
                    o.off(n, i, e, a)
                }, a)
            },
            trigger: function(t, n) {
                for (var e = 0; e < this.length; e++) {
                    var i;
                    try {
                        i = new window.CustomEvent(t,{
                            detail: n,
                            bubbles: !0,
                            cancelable: !0
                        })
                    } catch (e) {
                        (i = document.createEvent("Event")).initEvent(t, !0, !0),
                        i.detail = n
                    }
                    this[e].dispatchEvent(i)
                }
                return this
            },
            transitionEnd: function(t) {
                var n, i = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], r = this;
                function a(e) {
                    if (e.target === this)
                        for (t.call(this, e),
                        n = 0; n < i.length; n++)
                            r.off(i[n], a)
                }
                if (t)
                    for (n = 0; n < i.length; n++)
                        r.on(i[n], a);
                return this
            },
            width: function() {
                return this[0] === window ? window.innerWidth : 0 < this.length ? parseFloat(this.css("width")) : null
            },
            outerWidth: function(e) {
                return 0 < this.length ? e ? this[0].offsetWidth + parseFloat(this.css("margin-right")) + parseFloat(this.css("margin-left")) : this[0].offsetWidth : null
            },
            height: function() {
                return this[0] === window ? window.innerHeight : 0 < this.length ? parseFloat(this.css("height")) : null
            },
            outerHeight: function(e) {
                return 0 < this.length ? e ? this[0].offsetHeight + parseFloat(this.css("margin-top")) + parseFloat(this.css("margin-bottom")) : this[0].offsetHeight : null
            },
            offset: function() {
                if (0 < this.length) {
                    var e = this[0]
                      , t = e.getBoundingClientRect()
                      , n = document.body
                      , i = e.clientTop || n.clientTop || 0
                      , r = e.clientLeft || n.clientLeft || 0
                      , a = window.pageYOffset || e.scrollTop
                      , o = window.pageXOffset || e.scrollLeft;
                    return {
                        top: t.top + a - i,
                        left: t.left + o - r
                    }
                }
                return null
            },
            css: function(e, t) {
                var n;
                if (1 === arguments.length) {
                    if ("string" != typeof e) {
                        for (n = 0; n < this.length; n++)
                            for (var i in e)
                                this[n].style[i] = e[i];
                        return this
                    }
                    if (this[0])
                        return window.getComputedStyle(this[0], null).getPropertyValue(e)
                }
                if (2 !== arguments.length || "string" != typeof e)
                    return this;
                for (n = 0; n < this.length; n++)
                    this[n].style[e] = t;
                return this
            },
            each: function(e) {
                for (var t = 0; t < this.length; t++)
                    e.call(this[t], t, this[t]);
                return this
            },
            html: function(e) {
                if (void 0 === e)
                    return this[0] ? this[0].innerHTML : void 0;
                for (var t = 0; t < this.length; t++)
                    this[t].innerHTML = e;
                return this
            },
            text: function(e) {
                if (void 0 === e)
                    return this[0] ? this[0].textContent.trim() : null;
                for (var t = 0; t < this.length; t++)
                    this[t].textContent = e;
                return this
            },
            is: function(e) {
                if (!this[0])
                    return !1;
                var t, n;
                if ("string" == typeof e) {
                    var i = this[0];
                    if (i === document)
                        return e === document;
                    if (i === window)
                        return e === window;
                    if (i.matches)
                        return i.matches(e);
                    if (i.webkitMatchesSelector)
                        return i.webkitMatchesSelector(e);
                    if (i.mozMatchesSelector)
                        return i.mozMatchesSelector(e);
                    if (i.msMatchesSelector)
                        return i.msMatchesSelector(e);
                    for (t = u(e),
                    n = 0; n < t.length; n++)
                        if (t[n] === this[0])
                            return !0;
                    return !1
                }
                if (e === document)
                    return this[0] === document;
                if (e === window)
                    return this[0] === window;
                if (e.nodeType || e instanceof l) {
                    for (t = e.nodeType ? [e] : e,
                    n = 0; n < t.length; n++)
                        if (t[n] === this[0])
                            return !0;
                    return !1
                }
                return !1
            },
            index: function() {
                if (this[0]) {
                    for (var e = this[0], t = 0; null !== (e = e.previousSibling); )
                        1 === e.nodeType && t++;
                    return t
                }
            },
            eq: function(e) {
                if (void 0 === e)
                    return this;
                var t, n = this.length;
                return new l(n - 1 < e ? [] : e < 0 ? (t = n + e) < 0 ? [] : [this[t]] : [this[e]])
            },
            append: function(e) {
                var t, n;
                for (t = 0; t < this.length; t++)
                    if ("string" == typeof e) {
                        var i = document.createElement("div");
                        for (i.innerHTML = e; i.firstChild; )
                            this[t].appendChild(i.firstChild)
                    } else if (e instanceof l)
                        for (n = 0; n < e.length; n++)
                            this[t].appendChild(e[n]);
                    else
                        this[t].appendChild(e);
                return this
            },
            prepend: function(e) {
                var t, n;
                for (t = 0; t < this.length; t++)
                    if ("string" == typeof e) {
                        var i = document.createElement("div");
                        for (i.innerHTML = e,
                        n = i.childNodes.length - 1; 0 <= n; n--)
                            this[t].insertBefore(i.childNodes[n], this[t].childNodes[0])
                    } else if (e instanceof l)
                        for (n = 0; n < e.length; n++)
                            this[t].insertBefore(e[n], this[t].childNodes[0]);
                    else
                        this[t].insertBefore(e, this[t].childNodes[0]);
                return this
            },
            insertBefore: function(e) {
                for (var t = u(e), n = 0; n < this.length; n++)
                    if (1 === t.length)
                        t[0].parentNode.insertBefore(this[n], t[0]);
                    else if (1 < t.length)
                        for (var i = 0; i < t.length; i++)
                            t[i].parentNode.insertBefore(this[n].cloneNode(!0), t[i])
            },
            insertAfter: function(e) {
                for (var t = u(e), n = 0; n < this.length; n++)
                    if (1 === t.length)
                        t[0].parentNode.insertBefore(this[n], t[0].nextSibling);
                    else if (1 < t.length)
                        for (var i = 0; i < t.length; i++)
                            t[i].parentNode.insertBefore(this[n].cloneNode(!0), t[i].nextSibling)
            },
            next: function(e) {
                return 0 < this.length ? e ? this[0].nextElementSibling && u(this[0].nextElementSibling).is(e) ? new l([this[0].nextElementSibling]) : new l([]) : this[0].nextElementSibling ? new l([this[0].nextElementSibling]) : new l([]) : new l([])
            },
            nextAll: function(e) {
                var t = []
                  , n = this[0];
                if (!n)
                    return new l([]);
                for (; n.nextElementSibling; ) {
                    var i = n.nextElementSibling;
                    e ? u(i).is(e) && t.push(i) : t.push(i),
                    n = i
                }
                return new l(t)
            },
            prev: function(e) {
                return 0 < this.length ? e ? this[0].previousElementSibling && u(this[0].previousElementSibling).is(e) ? new l([this[0].previousElementSibling]) : new l([]) : this[0].previousElementSibling ? new l([this[0].previousElementSibling]) : new l([]) : new l([])
            },
            prevAll: function(e) {
                var t = []
                  , n = this[0];
                if (!n)
                    return new l([]);
                for (; n.previousElementSibling; ) {
                    var i = n.previousElementSibling;
                    e ? u(i).is(e) && t.push(i) : t.push(i),
                    n = i
                }
                return new l(t)
            },
            parent: function(e) {
                for (var t = [], n = 0; n < this.length; n++)
                    e ? u(this[n].parentNode).is(e) && t.push(this[n].parentNode) : t.push(this[n].parentNode);
                return u(u.unique(t))
            },
            parents: function(e) {
                for (var t = [], n = 0; n < this.length; n++)
                    for (var i = this[n].parentNode; i; )
                        e ? u(i).is(e) && t.push(i) : t.push(i),
                        i = i.parentNode;
                return u(u.unique(t))
            },
            find: function(e) {
                for (var t = [], n = 0; n < this.length; n++)
                    for (var i = this[n].querySelectorAll(e), r = 0; r < i.length; r++)
                        t.push(i[r]);
                return new l(t)
            },
            children: function(e) {
                for (var t = [], n = 0; n < this.length; n++)
                    for (var i = this[n].childNodes, r = 0; r < i.length; r++)
                        e ? 1 === i[r].nodeType && u(i[r]).is(e) && t.push(i[r]) : 1 === i[r].nodeType && t.push(i[r]);
                return new l(u.unique(t))
            },
            remove: function() {
                for (var e = 0; e < this.length; e++)
                    this[e].parentNode && this[e].parentNode.removeChild(this[e]);
                return this
            },
            add: function() {
                var e, t;
                for (e = 0; e < arguments.length; e++) {
                    var n = u(arguments[e]);
                    for (t = 0; t < n.length; t++)
                        this[this.length] = n[t],
                        this.length++
                }
                return this
            }
        },
        u.fn = l.prototype,
        u.unique = function(e) {
            for (var t = [], n = 0; n < e.length; n++)
                -1 === t.indexOf(e[n]) && t.push(e[n]);
            return t
        }
        ,
        u);
        function l(e) {
            var t = 0;
            for (t = 0; t < e.length; t++)
                this[t] = e[t];
            return this.length = e.length,
            this
        }
        function u(e, t) {
            var n = []
              , i = 0;
            if (e && !t && e instanceof l)
                return e;
            if (e)
                if ("string" == typeof e) {
                    var r, a, o = e.trim();
                    if (0 <= o.indexOf("<") && 0 <= o.indexOf(">")) {
                        var s = "div";
                        for (0 === o.indexOf("<li") && (s = "ul"),
                        0 === o.indexOf("<tr") && (s = "tbody"),
                        0 !== o.indexOf("<td") && 0 !== o.indexOf("<th") || (s = "tr"),
                        0 === o.indexOf("<tbody") && (s = "table"),
                        0 === o.indexOf("<option") && (s = "select"),
                        (a = document.createElement(s)).innerHTML = e,
                        i = 0; i < a.childNodes.length; i++)
                            n.push(a.childNodes[i])
                    } else
                        for (r = t || "#" !== e[0] || e.match(/[ .<>:~]/) ? (t || document).querySelectorAll(e) : [document.getElementById(e.split("#")[1])],
                        i = 0; i < r.length; i++)
                            r[i] && n.push(r[i])
                } else if (e.nodeType || e === window || e === document)
                    n.push(e);
                else if (0 < e.length && e[0].nodeType)
                    for (i = 0; i < e.length; i++)
                        n.push(e[i]);
            return new l(n)
        }
        for (var c, h = ["jQuery", "Zepto", "Dom7"], d = 0; d < h.length; d++)
            window[h[d]] && p(window[h[d]]);
        function p(e) {
            e.fn.swiper = function(t) {
                var n;
                return e(this).each(function() {
                    var e = new F(this,t);
                    n = n || e
                }),
                n
            }
        }
        (c = void 0 === B ? window.Dom7 || window.Zepto || window.jQuery : B) && ("transitionEnd"in c.fn || (c.fn.transitionEnd = function(t) {
            var n, i = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], r = this;
            function a(e) {
                if (e.target === this)
                    for (t.call(this, e),
                    n = 0; n < i.length; n++)
                        r.off(i[n], a)
            }
            if (t)
                for (n = 0; n < i.length; n++)
                    r.on(i[n], a);
            return this
        }
        ),
        "transform"in c.fn || (c.fn.transform = function(e) {
            for (var t = 0; t < this.length; t++) {
                var n = this[t].style;
                n.webkitTransform = n.MsTransform = n.msTransform = n.MozTransform = n.OTransform = n.transform = e
            }
            return this
        }
        ),
        "transition"in c.fn || (c.fn.transition = function(e) {
            "string" != typeof e && (e += "ms");
            for (var t = 0; t < this.length; t++) {
                var n = this[t].style;
                n.webkitTransitionDuration = n.MsTransitionDuration = n.msTransitionDuration = n.MozTransitionDuration = n.OTransitionDuration = n.transitionDuration = e
            }
            return this
        }
        ),
        "outerWidth"in c.fn || (c.fn.outerWidth = function(e) {
            return 0 < this.length ? e ? this[0].offsetWidth + parseFloat(this.css("margin-right")) + parseFloat(this.css("margin-left")) : this[0].offsetWidth : null
        }
        )),
        window.Swiper = F
    }(),
    e.exports = window.Swiper
}
, function(e, t, n) {
    e.exports = !n(12) && !n(6)(function() {
        return 7 != Object.defineProperty(n(111)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, n) {
    var i = n(5)
      , r = n(11)
      , a = n(44)
      , o = n(112)
      , s = n(13).f;
    e.exports = function(e) {
        var t = r.Symbol || (r.Symbol = a ? {} : i.Symbol || {});
        "_" == e.charAt(0) || e in t || s(t, e, {
            value: o.f(e)
        })
    }
}
, function(e, t, n) {
    var o = n(21)
      , s = n(23)
      , l = n(86)(!1)
      , u = n(113)("IE_PROTO");
    e.exports = function(e, t) {
        var n, i = s(e), r = 0, a = [];
        for (n in i)
            n != u && o(i, n) && a.push(n);
        for (; t.length > r; )
            o(i, n = t[r++]) && (~l(a, n) || a.push(n));
        return a
    }
}
, function(e, t, n) {
    var o = n(13)
      , s = n(7)
      , l = n(45);
    e.exports = n(12) ? Object.defineProperties : function(e, t) {
        s(e);
        for (var n, i = l(t), r = i.length, a = 0; a < r; )
            o.f(e, n = i[a++], t[n]);
        return e
    }
}
, function(e, t, n) {
    var i = n(23)
      , r = n(48).f
      , a = {}.toString
      , o = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    e.exports.f = function(e) {
        return o && "[object Window]" == a.call(e) ? function(e) {
            try {
                return r(e)
            } catch (e) {
                return o.slice()
            }
        }(e) : r(i(e))
    }
}
, function(e, t, n) {
    "use strict";
    var d = n(12)
      , p = n(45)
      , f = n(87)
      , m = n(75)
      , g = n(15)
      , v = n(74)
      , r = Object.assign;
    e.exports = !r || n(6)(function() {
        var e = {}
          , t = {}
          , n = Symbol()
          , i = "abcdefghijklmnopqrst";
        return e[n] = 7,
        i.split("").forEach(function(e) {
            t[e] = e
        }),
        7 != r({}, e)[n] || Object.keys(r({}, t)).join("") != i
    }) ? function(e, t) {
        for (var n = g(e), i = arguments.length, r = 1, a = f.f, o = m.f; r < i; )
            for (var s, l = v(arguments[r++]), u = a ? p(l).concat(a(l)) : p(l), c = u.length, h = 0; h < c; )
                s = u[h++],
                d && !o.call(l, s) || (n[s] = l[s]);
        return n
    }
    : r
}
, function(e, t) {
    e.exports = Object.is || function(e, t) {
        return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t
    }
}
, function(e, t, n) {
    "use strict";
    var a = n(28)
      , o = n(8)
      , s = n(169)
      , l = [].slice
      , u = {};
    e.exports = Function.bind || function(t) {
        var n = a(this)
          , i = l.call(arguments, 1)
          , r = function() {
            var e = i.concat(l.call(arguments));
            return this instanceof r ? function(e, t, n) {
                if (!(t in u)) {
                    for (var i = [], r = 0; r < t; r++)
                        i[r] = "a[" + r + "]";
                    u[t] = Function("F,a", "return new F(" + i.join(",") + ")")
                }
                return u[t](e, n)
            }(n, e.length, e) : s(n, e, t)
        };
        return o(n.prototype) && (r.prototype = n.prototype),
        r
    }
}
, function(e, t) {
    e.exports = function(e, t, n) {
        var i = void 0 === n;
        switch (t.length) {
        case 0:
            return i ? e() : e.call(n);
        case 1:
            return i ? e(t[0]) : e.call(n, t[0]);
        case 2:
            return i ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
        case 3:
            return i ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
        case 4:
            return i ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3])
        }
        return e.apply(n, t)
    }
}
, function(e, t, n) {
    var i = n(5).parseInt
      , r = n(59).trim
      , a = n(117)
      , o = /^[-+]?0[xX]/;
    e.exports = 8 !== i(a + "08") || 22 !== i(a + "0x16") ? function(e, t) {
        var n = r(String(e), 3);
        return i(n, t >>> 0 || (o.test(n) ? 16 : 10))
    }
    : i
}
, function(e, t, n) {
    var i = n(5).parseFloat
      , r = n(59).trim;
    e.exports = 1 / i(n(117) + "-0") != -1 / 0 ? function(e) {
        var t = r(String(e), 3)
          , n = i(t);
        return 0 === n && "-" == t.charAt(0) ? -0 : n
    }
    : i
}
, function(e, t, n) {
    var i = n(34);
    e.exports = function(e, t) {
        if ("number" != typeof e && "Number" != i(e))
            throw TypeError(t);
        return +e
    }
}
, function(e, t, n) {
    var i = n(8)
      , r = Math.floor;
    e.exports = function(e) {
        return !i(e) && isFinite(e) && r(e) === e
    }
}
, function(e, t) {
    e.exports = Math.log1p || function(e) {
        return -1e-8 < (e = +e) && e < 1e-8 ? e - e * e / 2 : Math.log(1 + e)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(47)
      , r = n(42)
      , a = n(58)
      , o = {};
    n(22)(o, n(9)("iterator"), function() {
        return this
    }),
    e.exports = function(e, t, n) {
        e.prototype = i(o, {
            next: r(1, n)
        }),
        a(e, t + " Iterator")
    }
}
, function(e, t, n) {
    var a = n(7);
    e.exports = function(t, e, n, i) {
        try {
            return i ? e(a(n)[0], n[1]) : e(n)
        } catch (e) {
            var r = t.return;
            throw void 0 !== r && a(r.call(t)),
            e
        }
    }
}
, function(e, t, n) {
    var i = n(429);
    e.exports = function(e, t) {
        return new (i(e))(t)
    }
}
, function(e, t, n) {
    var c = n(28)
      , h = n(15)
      , d = n(74)
      , p = n(10);
    e.exports = function(e, t, n, i, r) {
        c(t);
        var a = h(e)
          , o = d(a)
          , s = p(a.length)
          , l = r ? s - 1 : 0
          , u = r ? -1 : 1;
        if (n < 2)
            for (; ; ) {
                if (l in o) {
                    i = o[l],
                    l += u;
                    break
                }
                if (l += u,
                r ? l < 0 : s <= l)
                    throw TypeError("Reduce of empty array with no initial value")
            }
        for (; r ? 0 <= l : l < s; l += u)
            l in o && (i = t(i, o[l], l, a));
        return i
    }
}
, function(e, t, n) {
    "use strict";
    var c = n(15)
      , h = n(46)
      , d = n(10);
    e.exports = [].copyWithin || function(e, t, n) {
        var i = c(this)
          , r = d(i.length)
          , a = h(e, r)
          , o = h(t, r)
          , s = 2 < arguments.length ? n : void 0
          , l = Math.min((void 0 === s ? r : h(s, r)) - o, r - a)
          , u = 1;
        for (o < a && a < o + l && (u = -1,
        o += l - 1,
        a += l - 1); 0 < l--; )
            o in i ? i[a] = i[o] : delete i[a],
            a += u,
            o += u;
        return i
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            value: t,
            done: !!e
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(132);
    n(2)({
        target: "RegExp",
        proto: !0,
        forced: i !== /./.exec
    }, {
        exec: i
    })
}
, function(e, t, n) {
    n(12) && "g" != /./g.flags && n(13).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: n(90)
    })
}
, function(e, t, n) {
    "use strict";
    function i() {}
    function h(e) {
        var t;
        return !(!g(e) || "function" != typeof (t = e.then)) && t
    }
    function r(c, n) {
        if (!c._n) {
            c._n = !0;
            var i = c._c;
            x(function() {
                for (var l = c._v, u = 1 == c._s, e = 0, t = function(e) {
                    var t, n, i, r = u ? e.ok : e.fail, a = e.resolve, o = e.reject, s = e.domain;
                    try {
                        r ? (u || (2 == c._h && B(c),
                        c._h = 1),
                        !0 === r ? t = l : (s && s.enter(),
                        t = r(l),
                        s && (s.exit(),
                        i = !0)),
                        t === e.promise ? o(k("Promise-chain cycle")) : (n = h(t)) ? n.call(t, a, o) : a(t)) : o(l)
                    } catch (e) {
                        s && !i && s.exit(),
                        o(e)
                    }
                }; i.length > e; )
                    t(i[e++]);
                c._c = [],
                c._n = !1,
                n && !c._h && N(c)
            })
        }
    }
    function a(e) {
        var t = this;
        t._d || (t._d = !0,
        (t = t._w || t)._v = e,
        t._s = 2,
        t._a || (t._a = t._c.slice()),
        r(t, !0))
    }
    var o, s, l, u, c = n(44), d = n(5), p = n(27), f = n(76), m = n(2), g = n(8), v = n(28), y = n(62), b = n(93), _ = n(77), w = n(134).set, x = n(449)(), T = n(184), S = n(450), E = n(94), C = n(185), M = "Promise", k = d.TypeError, P = d.process, A = P && P.versions, I = A && A.v8 || "", L = d[M], O = "process" == f(P), R = s = T.f, D = !!function() {
        try {
            var e = L.resolve(1)
              , t = (e.constructor = {})[n(9)("species")] = function(e) {
                e(i, i)
            }
            ;
            return (O || "function" == typeof PromiseRejectionEvent) && e.then(i)instanceof t && 0 !== I.indexOf("6.6") && -1 === E.indexOf("Chrome/66")
        } catch (e) {}
    }(), N = function(a) {
        w.call(d, function() {
            var e, t, n, i = a._v, r = F(a);
            if (r && (e = S(function() {
                O ? P.emit("unhandledRejection", i, a) : (t = d.onunhandledrejection) ? t({
                    promise: a,
                    reason: i
                }) : (n = d.console) && n.error && n.error("Unhandled promise rejection", i)
            }),
            a._h = O || F(a) ? 2 : 1),
            a._a = void 0,
            r && e.e)
                throw e.v
        })
    }, F = function(e) {
        return 1 !== e._h && 0 === (e._a || e._c).length
    }, B = function(t) {
        w.call(d, function() {
            var e;
            O ? P.emit("rejectionHandled", t) : (e = d.onrejectionhandled) && e({
                promise: t,
                reason: t._v
            })
        })
    }, U = function(e) {
        var n, i = this;
        if (!i._d) {
            i._d = !0,
            i = i._w || i;
            try {
                if (i === e)
                    throw k("Promise can't be resolved itself");
                (n = h(e)) ? x(function() {
                    var t = {
                        _w: i,
                        _d: !1
                    };
                    try {
                        n.call(e, p(U, t, 1), p(a, t, 1))
                    } catch (e) {
                        a.call(t, e)
                    }
                }) : (i._v = e,
                i._s = 1,
                r(i, !1))
            } catch (e) {
                a.call({
                    _w: i,
                    _d: !1
                }, e)
            }
        }
    };
    D || (L = function(e) {
        y(this, L, M, "_h"),
        v(e),
        o.call(this);
        try {
            e(p(U, this, 1), p(a, this, 1))
        } catch (e) {
            a.call(this, e)
        }
    }
    ,
    (o = function(e) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ).prototype = n(63)(L.prototype, {
        then: function(e, t) {
            var n = R(_(this, L));
            return n.ok = "function" != typeof e || e,
            n.fail = "function" == typeof t && t,
            n.domain = O ? P.domain : void 0,
            this._c.push(n),
            this._a && this._a.push(n),
            this._s && r(this, !1),
            n.promise
        },
        catch: function(e) {
            return this.then(void 0, e)
        }
    }),
    l = function() {
        var e = new o;
        this.promise = e,
        this.resolve = p(U, e, 1),
        this.reject = p(a, e, 1)
    }
    ,
    T.f = R = function(e) {
        return e === L || e === u ? new l(e) : s(e)
    }
    ),
    m(m.G + m.W + m.F * !D, {
        Promise: L
    }),
    n(58)(L, M),
    n(61)(M),
    u = n(11)[M],
    m(m.S + m.F * !D, M, {
        reject: function(e) {
            var t = R(this);
            return (0,
            t.reject)(e),
            t.promise
        }
    }),
    m(m.S + m.F * (c || !D), M, {
        resolve: function(e) {
            return C(c && this === u ? L : this, e)
        }
    }),
    m(m.S + m.F * !(D && n(89)(function(e) {
        L.all(e).catch(i)
    })), M, {
        all: function(e) {
            var o = this
              , t = R(o)
              , s = t.resolve
              , l = t.reject
              , n = S(function() {
                var i = []
                  , r = 0
                  , a = 1;
                b(e, !1, function(e) {
                    var t = r++
                      , n = !1;
                    i.push(void 0),
                    a++,
                    o.resolve(e).then(function(e) {
                        n || (n = !0,
                        i[t] = e,
                        --a || s(i))
                    }, l)
                }),
                --a || s(i)
            });
            return n.e && l(n.v),
            t.promise
        },
        race: function(e) {
            var t = this
              , n = R(t)
              , i = n.reject
              , r = S(function() {
                b(e, !1, function(e) {
                    t.resolve(e).then(n.resolve, i)
                })
            });
            return r.e && i(r.v),
            n.promise
        }
    })
}
, function(e, t, n) {
    "use strict";
    var r = n(28);
    function i(e) {
        var n, i;
        this.promise = new e(function(e, t) {
            if (void 0 !== n || void 0 !== i)
                throw TypeError("Bad Promise constructor");
            n = e,
            i = t
        }
        ),
        this.resolve = r(n),
        this.reject = r(i)
    }
    e.exports.f = function(e) {
        return new i(e)
    }
}
, function(e, t, n) {
    var i = n(7)
      , r = n(8)
      , a = n(184);
    e.exports = function(e, t) {
        if (i(e),
        r(t) && t.constructor === e)
            return t;
        var n = a.f(e);
        return (0,
        n.resolve)(t),
        n.promise
    }
}
, function(e, t, n) {
    "use strict";
    function o(e, t) {
        var n, i = f(t);
        if ("F" !== i)
            return e._i[i];
        for (n = e._f; n; n = n.n)
            if (n.k == t)
                return n
    }
    var s = n(13).f
      , l = n(47)
      , u = n(63)
      , c = n(27)
      , h = n(62)
      , d = n(93)
      , i = n(123)
      , r = n(180)
      , a = n(61)
      , p = n(12)
      , f = n(38).fastKey
      , m = n(51)
      , g = p ? "_s" : "size";
    e.exports = {
        getConstructor: function(e, a, n, i) {
            var r = e(function(e, t) {
                h(e, r, a, "_i"),
                e._t = a,
                e._i = l(null),
                e._f = void 0,
                e._l = void 0,
                e[g] = 0,
                null != t && d(t, n, e[i], e)
            });
            return u(r.prototype, {
                clear: function() {
                    for (var e = m(this, a), t = e._i, n = e._f; n; n = n.n)
                        n.r = !0,
                        n.p && (n.p = n.p.n = void 0),
                        delete t[n.i];
                    e._f = e._l = void 0,
                    e[g] = 0
                },
                delete: function(e) {
                    var t = m(this, a)
                      , n = o(t, e);
                    if (n) {
                        var i = n.n
                          , r = n.p;
                        delete t._i[n.i],
                        n.r = !0,
                        r && (r.n = i),
                        i && (i.p = r),
                        t._f == n && (t._f = i),
                        t._l == n && (t._l = r),
                        t[g]--
                    }
                    return !!n
                },
                forEach: function(e, t) {
                    m(this, a);
                    for (var n, i = c(e, 1 < arguments.length ? t : void 0, 3); n = n ? n.n : this._f; )
                        for (i(n.v, n.k, this); n && n.r; )
                            n = n.p
                },
                has: function(e) {
                    return !!o(m(this, a), e)
                }
            }),
            p && s(r.prototype, "size", {
                get: function() {
                    return m(this, a)[g]
                }
            }),
            r
        },
        def: function(e, t, n) {
            var i, r, a = o(e, t);
            return a ? a.v = n : (e._l = a = {
                i: r = f(t, !0),
                k: t,
                v: n,
                p: i = e._l,
                n: void 0,
                r: !1
            },
            e._f || (e._f = a),
            i && (i.n = a),
            e[g]++,
            "F" !== r && (e._i[r] = a)),
            e
        },
        getEntry: o,
        setStrong: function(e, n, t) {
            i(e, n, function(e, t) {
                this._t = m(e, n),
                this._k = t,
                this._l = void 0
            }, function() {
                for (var e = this._k, t = this._l; t && t.r; )
                    t = t.p;
                return this._t && (this._l = t = t ? t.n : this._t._f) ? r(0, "keys" == e ? t.k : "values" == e ? t.v : [t.k, t.v]) : (this._t = void 0,
                r(1))
            }, t ? "entries" : "values", !t, !0),
            a(n)
        }
    }
}
, function(e, t, n) {
    "use strict";
    function o(e) {
        return e._l || (e._l = new v)
    }
    function i(e, t) {
        return f(e.a, function(e) {
            return e[0] === t
        })
    }
    var s = n(63)
      , l = n(38).getWeak
      , r = n(7)
      , u = n(8)
      , c = n(62)
      , h = n(93)
      , a = n(32)
      , d = n(21)
      , p = n(51)
      , f = a(5)
      , m = a(6)
      , g = 0
      , v = function() {
        this.a = []
    };
    v.prototype = {
        get: function(e) {
            var t = i(this, e);
            if (t)
                return t[1]
        },
        has: function(e) {
            return !!i(this, e)
        },
        set: function(e, t) {
            var n = i(this, e);
            n ? n[1] = t : this.a.push([e, t])
        },
        delete: function(t) {
            var e = m(this.a, function(e) {
                return e[0] === t
            });
            return ~e && this.a.splice(e, 1),
            !!~e
        }
    },
    e.exports = {
        getConstructor: function(e, n, i, r) {
            var a = e(function(e, t) {
                c(e, a, n, "_i"),
                e._t = n,
                e._i = g++,
                e._l = void 0,
                null != t && h(t, i, e[r], e)
            });
            return s(a.prototype, {
                delete: function(e) {
                    if (!u(e))
                        return !1;
                    var t = l(e);
                    return !0 === t ? o(p(this, n)).delete(e) : t && d(t, this._i) && delete t[this._i]
                },
                has: function(e) {
                    if (!u(e))
                        return !1;
                    var t = l(e);
                    return !0 === t ? o(p(this, n)).has(e) : t && d(t, this._i)
                }
            }),
            a
        },
        def: function(e, t, n) {
            var i = l(r(t), !0);
            return !0 === i ? o(e).set(t, n) : i[e._i] = n,
            e
        },
        ufstore: o
    }
}
, function(e, t, n) {
    var i = n(29)
      , r = n(10);
    e.exports = function(e) {
        if (void 0 === e)
            return 0;
        var t = i(e)
          , n = r(t);
        if (t !== n)
            throw RangeError("Wrong length!");
        return n
    }
}
, function(e, t, n) {
    var i = n(48)
      , r = n(87)
      , a = n(7)
      , o = n(5).Reflect;
    e.exports = o && o.ownKeys || function(e) {
        var t = i.f(a(e))
          , n = r.f;
        return n ? t.concat(n(e)) : t
    }
}
, function(e, t, n) {
    var c = n(10)
      , h = n(119)
      , d = n(35);
    e.exports = function(e, t, n, i) {
        var r = String(d(e))
          , a = r.length
          , o = void 0 === n ? " " : String(n)
          , s = c(t);
        if (s <= a || "" == o)
            return r;
        var l = s - a
          , u = h.call(o, Math.ceil(l / o.length));
        return u.length > l && (u = u.slice(0, l)),
        i ? u + r : r + u
    }
}
, function(e, t, n) {
    var l = n(12)
      , u = n(45)
      , c = n(23)
      , h = n(75).f;
    e.exports = function(s) {
        return function(e) {
            for (var t, n = c(e), i = u(n), r = i.length, a = 0, o = []; a < r; )
                t = i[a++],
                l && !h.call(n, t) || o.push(s ? [t, n[t]] : n[t]);
            return o
        }
    }
}
, function(e, t) {
    var n = e.exports = {
        version: "2.6.9"
    };
    "number" == typeof __e && (__e = n)
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}
, function(e, t) {
    e.exports = function(e) {
        return e.webpackPolyfill || (e.deprecate = function() {}
        ,
        e.paths = [],
        e.children || (e.children = []),
        Object.defineProperty(e, "loaded", {
            enumerable: !0,
            get: function() {
                return e.l
            }
        }),
        Object.defineProperty(e, "id", {
            enumerable: !0,
            get: function() {
                return e.i
            }
        }),
        e.webpackPolyfill = 1),
        e
    }
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return Object.getPrototypeOf
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(78)],
    void 0 === (r = function(t) {
        "use strict";
        return t.flat ? function(e) {
            return t.flat.call(e)
        }
        : function(e) {
            return t.concat.apply([], e)
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(78)],
    void 0 === (r = function(e) {
        "use strict";
        return e.push
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(98)],
    void 0 === (r = function(e) {
        "use strict";
        return e.toString
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(140)],
    void 0 === (r = function(e) {
        "use strict";
        return e.toString
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(16)],
    void 0 === (r = function(o) {
        "use strict";
        var s = {
            type: !0,
            src: !0,
            nonce: !0,
            noModule: !0
        };
        return function(e, t, n) {
            var i, r, a = (n = n || o).createElement("script");
            if (a.text = e,
            t)
                for (i in s)
                    (r = t[i] || t.getAttribute && t.getAttribute(i)) && a.setAttribute(i, r);
            n.head.appendChild(a).parentNode.removeChild(a)
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(18)],
    void 0 === (r = function(e) {
        "use strict";
        return e.expr.match.needsContext
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(139), n(14), n(201), n(18)],
    void 0 === (r = function(a, t, r, n) {
        "use strict";
        function i(e, n, i) {
            return r(n) ? a.grep(e, function(e, t) {
                return !!n.call(e, t, e) !== i
            }) : n.nodeType ? a.grep(e, function(e) {
                return e === n !== i
            }) : "string" != typeof n ? a.grep(e, function(e) {
                return -1 < t.call(n, e) !== i
            }) : a.filter(n, e, i)
        }
        a.filter = function(e, t, n) {
            var i = t[0];
            return n && (e = ":not(" + e + ")"),
            1 === t.length && 1 === i.nodeType ? a.find.matchesSelector(i, e) ? [i] : [] : a.find.matches(e, a.grep(t, function(e) {
                return 1 === e.nodeType
            }))
        }
        ,
        a.fn.extend({
            find: function(e) {
                var t, n, i = this.length, r = this;
                if ("string" != typeof e)
                    return this.pushStack(a(e).filter(function() {
                        for (t = 0; t < i; t++)
                            if (a.contains(r[t], this))
                                return !0
                    }));
                for (n = this.pushStack([]),
                t = 0; t < i; t++)
                    a.find(e, r[t], n);
                return 1 < i ? a.uniqueSort(n) : n
            },
            filter: function(e) {
                return this.pushStack(i(this, e || [], !1))
            },
            not: function(e) {
                return this.pushStack(i(this, e || [], !0))
            },
            is: function(e) {
                return !!i(this, "string" == typeof e && n.test(e) ? a(e) : e || [], !1).length
            }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(528), n(66)],
    void 0 === (r = function(t, n) {
        "use strict";
        var i = t.Deferred();
        function e() {
            n.removeEventListener("DOMContentLoaded", e),
            window.removeEventListener("load", e),
            t.ready()
        }
        t.fn.ready = function(e) {
            return i.then(e).catch(function(e) {
                t.readyException(e)
            }),
            this
        }
        ,
        t.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(e) {
                (!0 === e ? --t.readyWait : t.isReady) || (t.isReady = !0) !== e && 0 < --t.readyWait || i.resolveWith(n, [t])
            }
        }),
        t.ready.then = i.then,
        "complete" === n.readyState || "loading" !== n.readyState && !n.documentElement.doScroll ? window.setTimeout(t.ready) : (n.addEventListener("DOMContentLoaded", e),
        window.addEventListener("load", e))
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(80), n(40), n(99)],
    void 0 === (r = function(r, a, o, n) {
        "use strict";
        function e() {
            this.expando = r.expando + e.uid++
        }
        return e.uid = 1,
        e.prototype = {
            cache: function(e) {
                var t = e[this.expando];
                return t || (t = {},
                n(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                    value: t,
                    configurable: !0
                }))),
                t
            },
            set: function(e, t, n) {
                var i, r = this.cache(e);
                if ("string" == typeof t)
                    r[a(t)] = n;
                else
                    for (i in t)
                        r[a(i)] = t[i];
                return r
            },
            get: function(e, t) {
                return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][a(t)]
            },
            access: function(e, t, n) {
                return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n),
                void 0 !== n ? n : t)
            },
            remove: function(e, t) {
                var n, i = e[this.expando];
                if (void 0 !== i) {
                    if (void 0 !== t) {
                        n = (t = Array.isArray(t) ? t.map(a) : (t = a(t))in i ? [t] : t.match(o) || []).length;
                        for (; n--; )
                            delete i[t[n]]
                    }
                    void 0 !== t && !r.isEmptyObject(i) || (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
                }
            },
            hasData: function(e) {
                var t = e[this.expando];
                return void 0 !== t && !r.isEmptyObject(t)
            }
        },
        e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(205)],
    void 0 === (r = function(e) {
        "use strict";
        return new e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(100)],
    void 0 === (r = function(n, i) {
        "use strict";
        return function(e, t) {
            return "none" === (e = t || e).style.display || "" === e.style.display && i(e) && "none" === n.css(e, "display")
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(144)],
    void 0 === (r = function(h, d) {
        "use strict";
        return function(e, t, n, i) {
            var r, a, o = 20, s = i ? function() {
                return i.cur()
            }
            : function() {
                return h.css(e, t, "")
            }
            , l = s(), u = n && n[3] || (h.cssNumber[t] ? "" : "px"), c = e.nodeType && (h.cssNumber[t] || "px" !== u && +l) && d.exec(h.css(e, t));
            if (c && c[3] !== u) {
                for (l /= 2,
                u = u || c[3],
                c = +l || 1; o--; )
                    h.style(e, t, c + u),
                    (1 - a) * (1 - (a = s() / l || .5)) <= 0 && (o = 0),
                    c /= a;
                c *= 2,
                h.style(e, t, c + u),
                n = n || []
            }
            return n && (c = +c || +l || 0,
            r = n[1] ? c + (n[1] + 1) * n[2] : +n[2],
            i && (i.unit = u,
            i.start = c,
            i.end = r)),
            r
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /<([a-z][^\/\0>\x20\t\r\n\f]*)/i
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /^$|^module$|\/(?:java|ecma)script/i
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(213)],
    void 0 === (r = function(e) {
        "use strict";
        var t = {
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        return t.tbody = t.tfoot = t.colgroup = t.caption = t.thead,
        t.th = t.td,
        e.option || (t.optgroup = t.option = [1, "<select multiple='multiple'>", "</select>"]),
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(16), n(53)],
    void 0 === (r = function(e, t) {
        "use strict";
        var n, i;
        return n = e.createDocumentFragment().appendChild(e.createElement("div")),
        (i = e.createElement("input")).setAttribute("type", "radio"),
        i.setAttribute("checked", "checked"),
        i.setAttribute("name", "t"),
        n.appendChild(i),
        t.checkClone = n.cloneNode(!0).cloneNode(!0).lastChild.checked,
        n.innerHTML = "<textarea>x</textarea>",
        t.noCloneChecked = !!n.cloneNode(!0).lastChild.defaultValue,
        n.innerHTML = "<option></option>",
        t.option = !!n.lastChild,
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(39)],
    void 0 === (r = function(i, r) {
        "use strict";
        return function(e, t) {
            var n;
            return n = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [],
            void 0 === t || t && r(e, t) ? i.merge([e], n) : n
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(33)],
    void 0 === (r = function(r) {
        "use strict";
        return function(e, t) {
            for (var n = 0, i = e.length; n < i; n++)
                r.set(e[n], "globalEval", !t || r.get(t[n], "globalEval"))
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(64), n(100), n(210), n(211), n(212), n(214), n(215)],
    void 0 === (r = function(m, g, v, y, b, _, w, x) {
        "use strict";
        var T = /<|&#?\w+;/;
        return function(e, t, n, i, r) {
            for (var a, o, s, l, u, c, h = t.createDocumentFragment(), d = [], p = 0, f = e.length; p < f; p++)
                if ((a = e[p]) || 0 === a)
                    if ("object" === g(a))
                        m.merge(d, a.nodeType ? [a] : a);
                    else if (T.test(a)) {
                        for (o = o || h.appendChild(t.createElement("div")),
                        s = (y.exec(a) || ["", ""])[1].toLowerCase(),
                        l = _[s] || _._default,
                        o.innerHTML = l[1] + m.htmlPrefilter(a) + l[2],
                        c = l[0]; c--; )
                            o = o.lastChild;
                        m.merge(d, o.childNodes),
                        (o = h.firstChild).textContent = ""
                    } else
                        d.push(t.createTextNode(a));
            for (h.textContent = "",
            p = 0; a = d[p++]; )
                if (i && -1 < m.inArray(a, i))
                    r && r.push(a);
                else if (u = v(a),
                o = w(h.appendChild(a), "script"),
                u && x(o),
                n)
                    for (c = 0; a = o[c++]; )
                        b.test(a.type || "") && n.push(a);
            return h
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /^--/
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e) {
            var t = e.ownerDocument.defaultView;
            return t && t.opener || (t = window),
            t.getComputedStyle(e)
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(100), n(533), n(147), n(218), n(217), n(534), n(148)],
    void 0 === (r = function(u, c, h, d, p, f, m, g) {
        "use strict";
        return function(e, t, n) {
            var i, r, a, o, s = f.test(t), l = e.style;
            return (n = n || p(e)) && (o = n.getPropertyValue(t) || n[t],
            s && (o = o.replace(m, "$1")),
            "" !== o || c(e) || (o = u.style(e, t)),
            !g.pixelBoxStyles() && d.test(o) && h.test(t) && (i = l.width,
            r = l.minWidth,
            a = l.maxWidth,
            l.minWidth = l.maxWidth = l.width = o,
            o = n.width,
            l.width = i,
            l.minWidth = r,
            l.maxWidth = a)),
            void 0 !== o ? o + "" : o
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e, t) {
            return {
                get: function() {
                    if (!e())
                        return (this.get = t).apply(this, arguments);
                    delete this.get
                }
            }
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(16), n(4)],
    void 0 === (r = function(e, n) {
        "use strict";
        var i = ["Webkit", "Moz", "ms"]
          , r = e.createElement("div").style
          , a = {};
        return function(e) {
            var t = n.cssProps[e] || a[e];
            return t || (e in r ? e : a[e] = function(e) {
                for (var t = e[0].toUpperCase() + e.slice(1), n = i.length; n--; )
                    if ((e = i[n] + t)in r)
                        return e
            }(e) || e)
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(149), n(18)],
    void 0 === (r = function(o, n, e) {
        "use strict";
        var i = /^(?:input|select|textarea|button)$/i
          , r = /^(?:a|area)$/i;
        o.fn.extend({
            prop: function(e, t) {
                return n(this, o.prop, e, t, 1 < arguments.length)
            },
            removeProp: function(e) {
                return this.each(function() {
                    delete this[o.propFix[e] || e]
                })
            }
        }),
        o.extend({
            prop: function(e, t, n) {
                var i, r, a = e.nodeType;
                if (3 !== a && 8 !== a && 2 !== a)
                    return 1 === a && o.isXMLDoc(e) || (t = o.propFix[t] || t,
                    r = o.propHooks[t]),
                    void 0 !== n ? r && "set"in r && void 0 !== (i = r.set(e, n, t)) ? i : e[t] = n : r && "get"in r && null !== (i = r.get(e, t)) ? i : e[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var t = o.find.attr(e, "tabindex");
                        return t ? parseInt(t, 10) : i.test(e.nodeName) || r.test(e.nodeName) && e.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }),
        e.optSelected || (o.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                return t && t.parentNode && t.parentNode.selectedIndex,
                null
            },
            set: function(e) {
                var t = e.parentNode;
                t && (t.selectedIndex,
                t.parentNode && t.parentNode.selectedIndex)
            }
        }),
        o.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            o.propFix[this.toLowerCase()] = this
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return {
            guid: Date.now()
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return /\?/
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4)],
    void 0 === (r = function(i) {
        "use strict";
        return i.parseXML = function(e) {
            var t, n;
            if (!e || "string" != typeof e)
                return null;
            try {
                t = (new window.DOMParser).parseFromString(e, "text/xml")
            } catch (e) {}
            return n = t && t.getElementsByTagName("parsererror")[0],
            t && !n || i.error("Invalid XML: " + (n ? i.map(n.childNodes, function(e) {
                return e.textContent
            }).join("\n") : e)),
            t
        }
        ,
        i.parseXML
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(64), n(146), n(14), n(26), n(65), n(222)],
    void 0 === (r = function(a, o, t, s) {
        "use strict";
        var l = /\[\]$/
          , i = /\r?\n/g
          , n = /^(?:submit|button|image|reset|file)$/i
          , r = /^(?:input|select|textarea|keygen)/i;
        function u(n, e, i, r) {
            var t;
            if (Array.isArray(e))
                a.each(e, function(e, t) {
                    i || l.test(n) ? r(n, t) : u(n + "[" + ("object" == typeof t && null != t ? e : "") + "]", t, i, r)
                });
            else if (i || "object" !== o(e))
                r(n, e);
            else
                for (t in e)
                    u(n + "[" + t + "]", e[t], i, r)
        }
        return a.param = function(e, t) {
            function n(e, t) {
                var n = s(t) ? t() : t;
                r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n)
            }
            var i, r = [];
            if (null == e)
                return "";
            if (Array.isArray(e) || e.jquery && !a.isPlainObject(e))
                a.each(e, function() {
                    n(this.name, this.value)
                });
            else
                for (i in e)
                    u(i, e[i], t, n);
            return r.join("&")
        }
        ,
        a.fn.extend({
            serialize: function() {
                return a.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var e = a.prop(this, "elements");
                    return e ? a.makeArray(e) : this
                }).filter(function() {
                    var e = this.type;
                    return this.name && !a(this).is(":disabled") && r.test(this.nodeName) && !n.test(e) && (this.checked || !t.test(e))
                }).map(function(e, t) {
                    var n = a(this).val();
                    return null == n ? null : Array.isArray(n) ? a.map(n, function(e) {
                        return {
                            name: t.name,
                            value: e.replace(i, "\r\n")
                        }
                    }) : {
                        name: t.name,
                        value: n.replace(i, "\r\n")
                    }
                }).get()
            }
        }),
        a
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(202), n(216), n(551)],
    void 0 === (r = function(o, s, l, u, c) {
        "use strict";
        return o.parseHTML = function(e, t, n) {
            return "string" != typeof e ? [] : ("boolean" == typeof t && (n = t,
            t = !1),
            t || (c.createHTMLDocument ? ((i = (t = s.implementation.createHTMLDocument("")).createElement("base")).href = s.location.href,
            t.head.appendChild(i)) : t = s),
            a = !n && [],
            (r = l.exec(e)) ? [t.createElement(r[1])] : (r = u([e], t, a),
            a && a.length && o(a).remove(),
            o.merge([], r.childNodes)));
            var i, r, a
        }
        ,
        o.parseHTML
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r, a;
    /*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
    r = [n(0)],
    void 0 === (a = "function" == typeof (i = function(d) {
        var p, f, e = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], t = "onwheel"in document || 9 <= document.documentMode ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], m = Array.prototype.slice;
        if (d.event.fixHooks)
            for (var n = e.length; n; )
                d.event.fixHooks[e[--n]] = d.event.mouseHooks;
        var g = d.event.special.mousewheel = {
            version: "3.1.12",
            setup: function() {
                if (this.addEventListener)
                    for (var e = t.length; e; )
                        this.addEventListener(t[--e], i, !1);
                else
                    this.onmousewheel = i;
                d.data(this, "mousewheel-line-height", g.getLineHeight(this)),
                d.data(this, "mousewheel-page-height", g.getPageHeight(this))
            },
            teardown: function() {
                if (this.removeEventListener)
                    for (var e = t.length; e; )
                        this.removeEventListener(t[--e], i, !1);
                else
                    this.onmousewheel = null;
                d.removeData(this, "mousewheel-line-height"),
                d.removeData(this, "mousewheel-page-height")
            },
            getLineHeight: function(e) {
                var t = d(e)
                  , n = t["offsetParent"in d.fn ? "offsetParent" : "parent"]();
                return n.length || (n = d("body")),
                parseInt(n.css("fontSize"), 10) || parseInt(t.css("fontSize"), 10) || 16
            },
            getPageHeight: function(e) {
                return d(e).height()
            },
            settings: {
                adjustOldDeltas: !0,
                normalizeOffset: !0
            }
        };
        function i(e) {
            var t = e || window.event
              , n = m.call(arguments, 1)
              , i = 0
              , r = 0
              , a = 0
              , o = 0
              , s = 0
              , l = 0;
            if ((e = d.event.fix(t)).type = "mousewheel",
            "detail"in t && (a = -1 * t.detail),
            "wheelDelta"in t && (a = t.wheelDelta),
            "wheelDeltaY"in t && (a = t.wheelDeltaY),
            "wheelDeltaX"in t && (r = -1 * t.wheelDeltaX),
            "axis"in t && t.axis === t.HORIZONTAL_AXIS && (r = -1 * a,
            a = 0),
            i = 0 === a ? r : a,
            "deltaY"in t && (a = -1 * t.deltaY,
            i = a),
            "deltaX"in t && (r = t.deltaX,
            0 === a && (i = -1 * r)),
            0 !== a || 0 !== r) {
                if (1 === t.deltaMode) {
                    var u = d.data(this, "mousewheel-line-height");
                    i *= u,
                    a *= u,
                    r *= u
                } else if (2 === t.deltaMode) {
                    var c = d.data(this, "mousewheel-page-height");
                    i *= c,
                    a *= c,
                    r *= c
                }
                if (o = Math.max(Math.abs(a), Math.abs(r)),
                (!f || o < f) && y(t, f = o) && (f /= 40),
                y(t, o) && (i /= 40,
                r /= 40,
                a /= 40),
                i = Math[1 <= i ? "floor" : "ceil"](i / f),
                r = Math[1 <= r ? "floor" : "ceil"](r / f),
                a = Math[1 <= a ? "floor" : "ceil"](a / f),
                g.settings.normalizeOffset && this.getBoundingClientRect) {
                    var h = this.getBoundingClientRect();
                    s = e.clientX - h.left,
                    l = e.clientY - h.top
                }
                return e.deltaX = r,
                e.deltaY = a,
                e.deltaFactor = f,
                e.offsetX = s,
                e.offsetY = l,
                e.deltaMode = 0,
                n.unshift(e, i, r, a),
                p && clearTimeout(p),
                p = setTimeout(v, 200),
                (d.event.dispatch || d.event.handle).apply(this, n)
            }
        }
        function v() {
            f = null
        }
        function y(e, t) {
            return g.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
        }
        d.fn.extend({
            mousewheel: function(e) {
                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
            },
            unmousewheel: function(e) {
                return this.unbind("mousewheel", e)
            }
        })
    }
    ) ? i.apply(t, r) : i) || (e.exports = a)
}
, function(e, t, n) {
    var i, r, a;
    /*!
 * jQuery Validation Plugin v1.19.1
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2019 Jörn Zaefferer
 * Released under the MIT license
 */
    r = [n(0)],
    void 0 === (a = "function" == typeof (i = function(h) {
        h.extend(h.fn, {
            validate: function(e) {
                if (this.length) {
                    var i = h.data(this[0], "validator");
                    return i || (this.attr("novalidate", "novalidate"),
                    i = new h.validator(e,this[0]),
                    h.data(this[0], "validator", i),
                    i.settings.onsubmit && (this.on("click.validate", ":submit", function(e) {
                        i.submitButton = e.currentTarget,
                        h(this).hasClass("cancel") && (i.cancelSubmit = !0),
                        void 0 !== h(this).attr("formnovalidate") && (i.cancelSubmit = !0)
                    }),
                    this.on("submit.validate", function(n) {
                        function e() {
                            var e, t;
                            return i.submitButton && (i.settings.submitHandler || i.formSubmitted) && (e = h("<input type='hidden'/>").attr("name", i.submitButton.name).val(h(i.submitButton).val()).appendTo(i.currentForm)),
                            !(i.settings.submitHandler && !i.settings.debug) || (t = i.settings.submitHandler.call(i, i.currentForm, n),
                            e && e.remove(),
                            void 0 !== t && t)
                        }
                        return i.settings.debug && n.preventDefault(),
                        i.cancelSubmit ? (i.cancelSubmit = !1,
                        e()) : i.form() ? i.pendingRequest ? !(i.formSubmitted = !0) : e() : (i.focusInvalid(),
                        !1)
                    })),
                    i)
                }
                e && e.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.")
            },
            valid: function() {
                var e, t, n;
                return h(this[0]).is("form") ? e = this.validate().form() : (n = [],
                e = !0,
                t = h(this[0].form).validate(),
                this.each(function() {
                    (e = t.element(this) && e) || (n = n.concat(t.errorList))
                }),
                t.errorList = n),
                e
            },
            rules: function(e, t) {
                var n, i, r, a, o, s, l = this[0], u = void 0 !== this.attr("contenteditable") && "false" !== this.attr("contenteditable");
                if (null != l && (!l.form && u && (l.form = this.closest("form")[0],
                l.name = this.attr("name")),
                null != l.form)) {
                    if (e)
                        switch (n = h.data(l.form, "validator").settings,
                        i = n.rules,
                        r = h.validator.staticRules(l),
                        e) {
                        case "add":
                            h.extend(r, h.validator.normalizeRule(t)),
                            delete r.messages,
                            i[l.name] = r,
                            t.messages && (n.messages[l.name] = h.extend(n.messages[l.name], t.messages));
                            break;
                        case "remove":
                            return t ? (s = {},
                            h.each(t.split(/\s/), function(e, t) {
                                s[t] = r[t],
                                delete r[t]
                            }),
                            s) : (delete i[l.name],
                            r)
                        }
                    return (a = h.validator.normalizeRules(h.extend({}, h.validator.classRules(l), h.validator.attributeRules(l), h.validator.dataRules(l), h.validator.staticRules(l)), l)).required && (o = a.required,
                    delete a.required,
                    a = h.extend({
                        required: o
                    }, a)),
                    a.remote && (o = a.remote,
                    delete a.remote,
                    a = h.extend(a, {
                        remote: o
                    })),
                    a
                }
            }
        }),
        h.extend(h.expr.pseudos || h.expr[":"], {
            blank: function(e) {
                return !h.trim("" + h(e).val())
            },
            filled: function(e) {
                var t = h(e).val();
                return null !== t && !!h.trim("" + t)
            },
            unchecked: function(e) {
                return !h(e).prop("checked")
            }
        }),
        h.validator = function(e, t) {
            this.settings = h.extend(!0, {}, h.validator.defaults, e),
            this.currentForm = t,
            this.init()
        }
        ,
        h.validator.format = function(n, e) {
            return 1 === arguments.length ? function() {
                var e = h.makeArray(arguments);
                return e.unshift(n),
                h.validator.format.apply(this, e)
            }
            : (void 0 === e || (2 < arguments.length && e.constructor !== Array && (e = h.makeArray(arguments).slice(1)),
            e.constructor !== Array && (e = [e]),
            h.each(e, function(e, t) {
                n = n.replace(new RegExp("\\{" + e + "\\}","g"), function() {
                    return t
                })
            })),
            n)
        }
        ,
        h.extend(h.validator, {
            defaults: {
                messages: {},
                groups: {},
                rules: {},
                errorClass: "error",
                pendingClass: "pending",
                validClass: "valid",
                errorElement: "label",
                focusCleanup: !1,
                focusInvalid: !0,
                errorContainer: h([]),
                errorLabelContainer: h([]),
                onsubmit: !0,
                ignore: ":hidden",
                ignoreTitle: !1,
                onfocusin: function(e) {
                    this.lastActive = e,
                    this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, e, this.settings.errorClass, this.settings.validClass),
                    this.hideThese(this.errorsFor(e)))
                },
                onfocusout: function(e) {
                    this.checkable(e) || !(e.name in this.submitted) && this.optional(e) || this.element(e)
                },
                onkeyup: function(e, t) {
                    9 === t.which && "" === this.elementValue(e) || -1 !== h.inArray(t.keyCode, [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225]) || (e.name in this.submitted || e.name in this.invalid) && this.element(e)
                },
                onclick: function(e) {
                    e.name in this.submitted ? this.element(e) : e.parentNode.name in this.submitted && this.element(e.parentNode)
                },
                highlight: function(e, t, n) {
                    "radio" === e.type ? this.findByName(e.name).addClass(t).removeClass(n) : h(e).addClass(t).removeClass(n)
                },
                unhighlight: function(e, t, n) {
                    "radio" === e.type ? this.findByName(e.name).removeClass(t).addClass(n) : h(e).removeClass(t).addClass(n)
                }
            },
            setDefaults: function(e) {
                h.extend(h.validator.defaults, e)
            },
            messages: {
                required: "This field is required.",
                remote: "Please fix this field.",
                email: "Please enter a valid email address.",
                url: "Please enter a valid URL.",
                date: "Please enter a valid date.",
                dateISO: "Please enter a valid date (ISO).",
                number: "Please enter a valid number.",
                digits: "Please enter only digits.",
                equalTo: "Please enter the same value again.",
                maxlength: h.validator.format("Please enter no more than {0} characters."),
                minlength: h.validator.format("Please enter at least {0} characters."),
                rangelength: h.validator.format("Please enter a value between {0} and {1} characters long."),
                range: h.validator.format("Please enter a value between {0} and {1}."),
                max: h.validator.format("Please enter a value less than or equal to {0}."),
                min: h.validator.format("Please enter a value greater than or equal to {0}."),
                step: h.validator.format("Please enter a multiple of {0}.")
            },
            autoCreateRanges: !1,
            prototype: {
                init: function() {
                    this.labelContainer = h(this.settings.errorLabelContainer),
                    this.errorContext = this.labelContainer.length && this.labelContainer || h(this.currentForm),
                    this.containers = h(this.settings.errorContainer).add(this.settings.errorLabelContainer),
                    this.submitted = {},
                    this.valueCache = {},
                    this.pendingRequest = 0,
                    this.pending = {},
                    this.invalid = {},
                    this.reset();
                    var n, a = this.currentForm, i = this.groups = {};
                    function e(e) {
                        var t = void 0 !== h(this).attr("contenteditable") && "false" !== h(this).attr("contenteditable");
                        if (!this.form && t && (this.form = h(this).closest("form")[0],
                        this.name = h(this).attr("name")),
                        a === this.form) {
                            var n = h.data(this.form, "validator")
                              , i = "on" + e.type.replace(/^validate/, "")
                              , r = n.settings;
                            r[i] && !h(this).is(r.ignore) && r[i].call(n, this, e)
                        }
                    }
                    h.each(this.settings.groups, function(n, e) {
                        "string" == typeof e && (e = e.split(/\s/)),
                        h.each(e, function(e, t) {
                            i[t] = n
                        })
                    }),
                    n = this.settings.rules,
                    h.each(n, function(e, t) {
                        n[e] = h.validator.normalizeRule(t)
                    }),
                    h(this.currentForm).on("focusin.validate focusout.validate keyup.validate", ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']", e).on("click.validate", "select, option, [type='radio'], [type='checkbox']", e),
                    this.settings.invalidHandler && h(this.currentForm).on("invalid-form.validate", this.settings.invalidHandler)
                },
                form: function() {
                    return this.checkForm(),
                    h.extend(this.submitted, this.errorMap),
                    this.invalid = h.extend({}, this.errorMap),
                    this.valid() || h(this.currentForm).triggerHandler("invalid-form", [this]),
                    this.showErrors(),
                    this.valid()
                },
                checkForm: function() {
                    this.prepareForm();
                    for (var e = 0, t = this.currentElements = this.elements(); t[e]; e++)
                        this.check(t[e]);
                    return this.valid()
                },
                element: function(e) {
                    var t, n, i = this.clean(e), r = this.validationTargetFor(i), a = this, o = !0;
                    return void 0 === r ? delete this.invalid[i.name] : (this.prepareElement(r),
                    this.currentElements = h(r),
                    (n = this.groups[r.name]) && h.each(this.groups, function(e, t) {
                        t === n && e !== r.name && (i = a.validationTargetFor(a.clean(a.findByName(e)))) && i.name in a.invalid && (a.currentElements.push(i),
                        o = a.check(i) && o)
                    }),
                    t = !1 !== this.check(r),
                    o = o && t,
                    this.invalid[r.name] = !t,
                    this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)),
                    this.showErrors(),
                    h(e).attr("aria-invalid", !t)),
                    o
                },
                showErrors: function(t) {
                    if (t) {
                        var n = this;
                        h.extend(this.errorMap, t),
                        this.errorList = h.map(this.errorMap, function(e, t) {
                            return {
                                message: e,
                                element: n.findByName(t)[0]
                            }
                        }),
                        this.successList = h.grep(this.successList, function(e) {
                            return !(e.name in t)
                        })
                    }
                    this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors()
                },
                resetForm: function() {
                    h.fn.resetForm && h(this.currentForm).resetForm(),
                    this.invalid = {},
                    this.submitted = {},
                    this.prepareForm(),
                    this.hideErrors();
                    var e = this.elements().removeData("previousValue").removeAttr("aria-invalid");
                    this.resetElements(e)
                },
                resetElements: function(e) {
                    var t;
                    if (this.settings.unhighlight)
                        for (t = 0; e[t]; t++)
                            this.settings.unhighlight.call(this, e[t], this.settings.errorClass, ""),
                            this.findByName(e[t].name).removeClass(this.settings.validClass);
                    else
                        e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)
                },
                numberOfInvalids: function() {
                    return this.objectLength(this.invalid)
                },
                objectLength: function(e) {
                    var t, n = 0;
                    for (t in e)
                        void 0 !== e[t] && null !== e[t] && !1 !== e[t] && n++;
                    return n
                },
                hideErrors: function() {
                    this.hideThese(this.toHide)
                },
                hideThese: function(e) {
                    e.not(this.containers).text(""),
                    this.addWrapper(e).hide()
                },
                valid: function() {
                    return 0 === this.size()
                },
                size: function() {
                    return this.errorList.length
                },
                focusInvalid: function() {
                    if (this.settings.focusInvalid)
                        try {
                            h(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").trigger("focus").trigger("focusin")
                        } catch (e) {}
                },
                findLastActive: function() {
                    var t = this.lastActive;
                    return t && 1 === h.grep(this.errorList, function(e) {
                        return e.element.name === t.name
                    }).length && t
                },
                elements: function() {
                    var n = this
                      , i = {};
                    return h(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function() {
                        var e = this.name || h(this).attr("name")
                          , t = void 0 !== h(this).attr("contenteditable") && "false" !== h(this).attr("contenteditable");
                        return !e && n.settings.debug && window.console && console.error("%o has no name assigned", this),
                        t && (this.form = h(this).closest("form")[0],
                        this.name = e),
                        this.form === n.currentForm && (!(e in i || !n.objectLength(h(this).rules())) && (i[e] = !0))
                    })
                },
                clean: function(e) {
                    return h(e)[0]
                },
                errors: function() {
                    var e = this.settings.errorClass.split(" ").join(".");
                    return h(this.settings.errorElement + "." + e, this.errorContext)
                },
                resetInternals: function() {
                    this.successList = [],
                    this.errorList = [],
                    this.errorMap = {},
                    this.toShow = h([]),
                    this.toHide = h([])
                },
                reset: function() {
                    this.resetInternals(),
                    this.currentElements = h([])
                },
                prepareForm: function() {
                    this.reset(),
                    this.toHide = this.errors().add(this.containers)
                },
                prepareElement: function(e) {
                    this.reset(),
                    this.toHide = this.errorsFor(e)
                },
                elementValue: function(e) {
                    var t, n, i = h(e), r = e.type, a = void 0 !== i.attr("contenteditable") && "false" !== i.attr("contenteditable");
                    return "radio" === r || "checkbox" === r ? this.findByName(e.name).filter(":checked").val() : "number" === r && void 0 !== e.validity ? e.validity.badInput ? "NaN" : i.val() : (t = a ? i.text() : i.val(),
                    "file" === r ? "C:\\fakepath\\" === t.substr(0, 12) ? t.substr(12) : 0 <= (n = t.lastIndexOf("/")) ? t.substr(n + 1) : 0 <= (n = t.lastIndexOf("\\")) ? t.substr(n + 1) : t : "string" == typeof t ? t.replace(/\r/g, "") : t)
                },
                check: function(t) {
                    t = this.validationTargetFor(this.clean(t));
                    var e, n, i, r, a = h(t).rules(), o = h.map(a, function(e, t) {
                        return t
                    }).length, s = !1, l = this.elementValue(t);
                    for (n in "function" == typeof a.normalizer ? r = a.normalizer : "function" == typeof this.settings.normalizer && (r = this.settings.normalizer),
                    r && (l = r.call(t, l),
                    delete a.normalizer),
                    a) {
                        i = {
                            method: n,
                            parameters: a[n]
                        };
                        try {
                            if ("dependency-mismatch" === (e = h.validator.methods[n].call(this, l, t, i.parameters)) && 1 === o) {
                                s = !0;
                                continue
                            }
                            if (s = !1,
                            "pending" === e)
                                return void (this.toHide = this.toHide.not(this.errorsFor(t)));
                            if (!e)
                                return this.formatAndAdd(t, i),
                                !1
                        } catch (e) {
                            throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + t.id + ", check the '" + i.method + "' method.", e),
                            e instanceof TypeError && (e.message += ".  Exception occurred when checking element " + t.id + ", check the '" + i.method + "' method."),
                            e
                        }
                    }
                    if (!s)
                        return this.objectLength(a) && this.successList.push(t),
                        !0
                },
                customDataMessage: function(e, t) {
                    return h(e).data("msg" + t.charAt(0).toUpperCase() + t.substring(1).toLowerCase()) || h(e).data("msg")
                },
                customMessage: function(e, t) {
                    var n = this.settings.messages[e];
                    return n && (n.constructor === String ? n : n[t])
                },
                findDefined: function() {
                    for (var e = 0; e < arguments.length; e++)
                        if (void 0 !== arguments[e])
                            return arguments[e]
                },
                defaultMessage: function(e, t) {
                    "string" == typeof t && (t = {
                        method: t
                    });
                    var n = this.findDefined(this.customMessage(e.name, t.method), this.customDataMessage(e, t.method), !this.settings.ignoreTitle && e.title || void 0, h.validator.messages[t.method], "<strong>Warning: No message defined for " + e.name + "</strong>")
                      , i = /\$?\{(\d+)\}/g;
                    return "function" == typeof n ? n = n.call(this, t.parameters, e) : i.test(n) && (n = h.validator.format(n.replace(i, "{$1}"), t.parameters)),
                    n
                },
                formatAndAdd: function(e, t) {
                    var n = this.defaultMessage(e, t);
                    this.errorList.push({
                        message: n,
                        element: e,
                        method: t.method
                    }),
                    this.errorMap[e.name] = n,
                    this.submitted[e.name] = n
                },
                addWrapper: function(e) {
                    return this.settings.wrapper && (e = e.add(e.parent(this.settings.wrapper))),
                    e
                },
                defaultShowErrors: function() {
                    var e, t, n;
                    for (e = 0; this.errorList[e]; e++)
                        n = this.errorList[e],
                        this.settings.highlight && this.settings.highlight.call(this, n.element, this.settings.errorClass, this.settings.validClass),
                        this.showLabel(n.element, n.message);
                    if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)),
                    this.settings.success)
                        for (e = 0; this.successList[e]; e++)
                            this.showLabel(this.successList[e]);
                    if (this.settings.unhighlight)
                        for (e = 0,
                        t = this.validElements(); t[e]; e++)
                            this.settings.unhighlight.call(this, t[e], this.settings.errorClass, this.settings.validClass);
                    this.toHide = this.toHide.not(this.toShow),
                    this.hideErrors(),
                    this.addWrapper(this.toShow).show()
                },
                validElements: function() {
                    return this.currentElements.not(this.invalidElements())
                },
                invalidElements: function() {
                    return h(this.errorList).map(function() {
                        return this.element
                    })
                },
                showLabel: function(e, t) {
                    var n, i, r, a, o = this.errorsFor(e), s = this.idOrName(e), l = h(e).attr("aria-describedby");
                    o.length ? (o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),
                    o.html(t)) : (o = h("<" + this.settings.errorElement + ">").attr("id", s + "-error").addClass(this.settings.errorClass).html(t || ""),
                    n = o,
                    this.settings.wrapper && (n = o.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()),
                    this.labelContainer.length ? this.labelContainer.append(n) : this.settings.errorPlacement ? this.settings.errorPlacement.call(this, n, h(e)) : n.insertAfter(e),
                    o.is("label") ? o.attr("for", s) : 0 === o.parents("label[for='" + this.escapeCssMeta(s) + "']").length && (r = o.attr("id"),
                    l ? l.match(new RegExp("\\b" + this.escapeCssMeta(r) + "\\b")) || (l += " " + r) : l = r,
                    h(e).attr("aria-describedby", l),
                    (i = this.groups[e.name]) && (a = this,
                    h.each(a.groups, function(e, t) {
                        t === i && h("[name='" + a.escapeCssMeta(e) + "']", a.currentForm).attr("aria-describedby", o.attr("id"))
                    })))),
                    !t && this.settings.success && (o.text(""),
                    "string" == typeof this.settings.success ? o.addClass(this.settings.success) : this.settings.success(o, e)),
                    this.toShow = this.toShow.add(o)
                },
                errorsFor: function(e) {
                    var t = this.escapeCssMeta(this.idOrName(e))
                      , n = h(e).attr("aria-describedby")
                      , i = "label[for='" + t + "'], label[for='" + t + "'] *";
                    return n && (i = i + ", #" + this.escapeCssMeta(n).replace(/\s+/g, ", #")),
                    this.errors().filter(i)
                },
                escapeCssMeta: function(e) {
                    return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g, "\\$1")
                },
                idOrName: function(e) {
                    return this.groups[e.name] || (this.checkable(e) ? e.name : e.id || e.name)
                },
                validationTargetFor: function(e) {
                    return this.checkable(e) && (e = this.findByName(e.name)),
                    h(e).not(this.settings.ignore)[0]
                },
                checkable: function(e) {
                    return /radio|checkbox/i.test(e.type)
                },
                findByName: function(e) {
                    return h(this.currentForm).find("[name='" + this.escapeCssMeta(e) + "']")
                },
                getLength: function(e, t) {
                    switch (t.nodeName.toLowerCase()) {
                    case "select":
                        return h("option:selected", t).length;
                    case "input":
                        if (this.checkable(t))
                            return this.findByName(t.name).filter(":checked").length
                    }
                    return e.length
                },
                depend: function(e, t) {
                    return !this.dependTypes[typeof e] || this.dependTypes[typeof e](e, t)
                },
                dependTypes: {
                    boolean: function(e) {
                        return e
                    },
                    string: function(e, t) {
                        return !!h(e, t.form).length
                    },
                    function: function(e, t) {
                        return e(t)
                    }
                },
                optional: function(e) {
                    var t = this.elementValue(e);
                    return !h.validator.methods.required.call(this, t, e) && "dependency-mismatch"
                },
                startRequest: function(e) {
                    this.pending[e.name] || (this.pendingRequest++,
                    h(e).addClass(this.settings.pendingClass),
                    this.pending[e.name] = !0)
                },
                stopRequest: function(e, t) {
                    this.pendingRequest--,
                    this.pendingRequest < 0 && (this.pendingRequest = 0),
                    delete this.pending[e.name],
                    h(e).removeClass(this.settings.pendingClass),
                    t && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (h(this.currentForm).submit(),
                    this.submitButton && h("input:hidden[name='" + this.submitButton.name + "']", this.currentForm).remove(),
                    this.formSubmitted = !1) : !t && 0 === this.pendingRequest && this.formSubmitted && (h(this.currentForm).triggerHandler("invalid-form", [this]),
                    this.formSubmitted = !1)
                },
                previousValue: function(e, t) {
                    return t = "string" == typeof t && t || "remote",
                    h.data(e, "previousValue") || h.data(e, "previousValue", {
                        old: null,
                        valid: !0,
                        message: this.defaultMessage(e, {
                            method: t
                        })
                    })
                },
                destroy: function() {
                    this.resetForm(),
                    h(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")
                }
            },
            classRuleSettings: {
                required: {
                    required: !0
                },
                email: {
                    email: !0
                },
                url: {
                    url: !0
                },
                date: {
                    date: !0
                },
                dateISO: {
                    dateISO: !0
                },
                number: {
                    number: !0
                },
                digits: {
                    digits: !0
                },
                creditcard: {
                    creditcard: !0
                }
            },
            addClassRules: function(e, t) {
                e.constructor === String ? this.classRuleSettings[e] = t : h.extend(this.classRuleSettings, e)
            },
            classRules: function(e) {
                var t = {}
                  , n = h(e).attr("class");
                return n && h.each(n.split(" "), function() {
                    this in h.validator.classRuleSettings && h.extend(t, h.validator.classRuleSettings[this])
                }),
                t
            },
            normalizeAttributeRule: function(e, t, n, i) {
                /min|max|step/.test(n) && (null === t || /number|range|text/.test(t)) && (i = Number(i),
                isNaN(i) && (i = void 0)),
                i || 0 === i ? e[n] = i : t === n && "range" !== t && (e[n] = !0)
            },
            attributeRules: function(e) {
                var t, n, i = {}, r = h(e), a = e.getAttribute("type");
                for (t in h.validator.methods)
                    n = "required" === t ? ("" === (n = e.getAttribute(t)) && (n = !0),
                    !!n) : r.attr(t),
                    this.normalizeAttributeRule(i, a, t, n);
                return i.maxlength && /-1|2147483647|524288/.test(i.maxlength) && delete i.maxlength,
                i
            },
            dataRules: function(e) {
                var t, n, i = {}, r = h(e), a = e.getAttribute("type");
                for (t in h.validator.methods)
                    "" === (n = r.data("rule" + t.charAt(0).toUpperCase() + t.substring(1).toLowerCase())) && (n = !0),
                    this.normalizeAttributeRule(i, a, t, n);
                return i
            },
            staticRules: function(e) {
                var t = {}
                  , n = h.data(e.form, "validator");
                return n.settings.rules && (t = h.validator.normalizeRule(n.settings.rules[e.name]) || {}),
                t
            },
            normalizeRules: function(i, r) {
                return h.each(i, function(e, t) {
                    if (!1 !== t) {
                        if (t.param || t.depends) {
                            var n = !0;
                            switch (typeof t.depends) {
                            case "string":
                                n = !!h(t.depends, r.form).length;
                                break;
                            case "function":
                                n = t.depends.call(r, r)
                            }
                            n ? i[e] = void 0 === t.param || t.param : (h.data(r.form, "validator").resetElements(h(r)),
                            delete i[e])
                        }
                    } else
                        delete i[e]
                }),
                h.each(i, function(e, t) {
                    i[e] = h.isFunction(t) && "normalizer" !== e ? t(r) : t
                }),
                h.each(["minlength", "maxlength"], function() {
                    i[this] && (i[this] = Number(i[this]))
                }),
                h.each(["rangelength", "range"], function() {
                    var e;
                    i[this] && (h.isArray(i[this]) ? i[this] = [Number(i[this][0]), Number(i[this][1])] : "string" == typeof i[this] && (e = i[this].replace(/[\[\]]/g, "").split(/[\s,]+/),
                    i[this] = [Number(e[0]), Number(e[1])]))
                }),
                h.validator.autoCreateRanges && (null != i.min && null != i.max && (i.range = [i.min, i.max],
                delete i.min,
                delete i.max),
                null != i.minlength && null != i.maxlength && (i.rangelength = [i.minlength, i.maxlength],
                delete i.minlength,
                delete i.maxlength)),
                i
            },
            normalizeRule: function(e) {
                if ("string" == typeof e) {
                    var t = {};
                    h.each(e.split(/\s/), function() {
                        t[this] = !0
                    }),
                    e = t
                }
                return e
            },
            addMethod: function(e, t, n) {
                h.validator.methods[e] = t,
                h.validator.messages[e] = void 0 !== n ? n : h.validator.messages[e],
                t.length < 3 && h.validator.addClassRules(e, h.validator.normalizeRule(e))
            },
            methods: {
                required: function(e, t, n) {
                    if (!this.depend(n, t))
                        return "dependency-mismatch";
                    if ("select" !== t.nodeName.toLowerCase())
                        return this.checkable(t) ? 0 < this.getLength(e, t) : null != e && 0 < e.length;
                    var i = h(t).val();
                    return i && 0 < i.length
                },
                email: function(e, t) {
                    return this.optional(t) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)
                },
                url: function(e, t) {
                    return this.optional(t) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)
                },
                date: function() {
                    var n = !1;
                    return function(e, t) {
                        return n || (n = !0,
                        this.settings.debug && window.console && console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),
                        this.optional(t) || !/Invalid|NaN/.test(new Date(e).toString())
                    }
                }(),
                dateISO: function(e, t) {
                    return this.optional(t) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)
                },
                number: function(e, t) {
                    return this.optional(t) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)
                },
                digits: function(e, t) {
                    return this.optional(t) || /^\d+$/.test(e)
                },
                minlength: function(e, t, n) {
                    var i = h.isArray(e) ? e.length : this.getLength(e, t);
                    return this.optional(t) || n <= i
                },
                maxlength: function(e, t, n) {
                    var i = h.isArray(e) ? e.length : this.getLength(e, t);
                    return this.optional(t) || i <= n
                },
                rangelength: function(e, t, n) {
                    var i = h.isArray(e) ? e.length : this.getLength(e, t);
                    return this.optional(t) || i >= n[0] && i <= n[1]
                },
                min: function(e, t, n) {
                    return this.optional(t) || n <= e
                },
                max: function(e, t, n) {
                    return this.optional(t) || e <= n
                },
                range: function(e, t, n) {
                    return this.optional(t) || e >= n[0] && e <= n[1]
                },
                step: function(e, t, n) {
                    var i, r = h(t).attr("type"), a = "Step attribute on input type " + r + " is not supported.", o = new RegExp("\\b" + r + "\\b"), s = r && !o.test(["text", "number", "range"].join()), l = function(e) {
                        var t = ("" + e).match(/(?:\.(\d+))?$/);
                        return t && t[1] ? t[1].length : 0
                    }, u = function(e) {
                        return Math.round(e * Math.pow(10, i))
                    }, c = !0;
                    if (s)
                        throw new Error(a);
                    return i = l(n),
                    (l(e) > i || u(e) % u(n) != 0) && (c = !1),
                    this.optional(t) || c
                },
                equalTo: function(e, t, n) {
                    var i = h(n);
                    return this.settings.onfocusout && i.not(".validate-equalTo-blur").length && i.addClass("validate-equalTo-blur").on("blur.validate-equalTo", function() {
                        h(t).valid()
                    }),
                    e === i.val()
                },
                remote: function(a, o, e, s) {
                    if (this.optional(o))
                        return "dependency-mismatch";
                    s = "string" == typeof s && s || "remote";
                    var l, t, n, u = this.previousValue(o, s);
                    return this.settings.messages[o.name] || (this.settings.messages[o.name] = {}),
                    u.originalMessage = u.originalMessage || this.settings.messages[o.name][s],
                    this.settings.messages[o.name][s] = u.message,
                    e = "string" == typeof e && {
                        url: e
                    } || e,
                    n = h.param(h.extend({
                        data: a
                    }, e.data)),
                    u.old === n ? u.valid : (u.old = n,
                    (l = this).startRequest(o),
                    (t = {})[o.name] = a,
                    h.ajax(h.extend(!0, {
                        mode: "abort",
                        port: "validate" + o.name,
                        dataType: "json",
                        data: t,
                        context: l.currentForm,
                        success: function(e) {
                            var t, n, i, r = !0 === e || "true" === e;
                            l.settings.messages[o.name][s] = u.originalMessage,
                            r ? (i = l.formSubmitted,
                            l.resetInternals(),
                            l.toHide = l.errorsFor(o),
                            l.formSubmitted = i,
                            l.successList.push(o),
                            l.invalid[o.name] = !1,
                            l.showErrors()) : (t = {},
                            n = e || l.defaultMessage(o, {
                                method: s,
                                parameters: a
                            }),
                            t[o.name] = u.message = n,
                            l.invalid[o.name] = !0,
                            l.showErrors(t)),
                            u.valid = r,
                            l.stopRequest(o, r)
                        }
                    }, e)),
                    "pending")
                }
            }
        });
        var i, r = {};
        return h.ajaxPrefilter ? h.ajaxPrefilter(function(e, t, n) {
            var i = e.port;
            "abort" === e.mode && (r[i] && r[i].abort(),
            r[i] = n)
        }) : (i = h.ajax,
        h.ajax = function(e) {
            var t = ("mode"in e ? e : h.ajaxSettings).mode
              , n = ("port"in e ? e : h.ajaxSettings).port;
            return "abort" === t ? (r[n] && r[n].abort(),
            r[n] = i.apply(this, arguments),
            r[n]) : i.apply(this, arguments)
        }
        ),
        h
    }
    ) ? i.apply(t, r) : i) || (e.exports = a)
}
, function(n, e, t) {
    (function(e) {
        var t;
        t = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {},
        n.exports = t
    }
    ).call(this, t(52))
}
, function(r, e, a) {
    (function(e) {
        var t, n = void 0 !== e ? e : "undefined" != typeof window ? window : {}, i = a(564);
        t = "undefined" != typeof document ? document : (t = n["__GLOBAL_DOCUMENT_CACHE@4"]) || (n["__GLOBAL_DOCUMENT_CACHE@4"] = i),
        r.exports = t
    }
    ).call(this, a(52))
}
, function(n, e, t) {
    (function(e) {
        var t;
        t = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {},
        n.exports = t
    }
    ).call(this, t(52))
}
, function(e, t, n) {
    var w = n(103).NAMESPACE;
    function i(e) {
        return "" !== e
    }
    function r(e, t) {
        return e.hasOwnProperty(t) || (e[t] = !0),
        e
    }
    function l(e) {
        if (!e)
            return [];
        var t = function(e) {
            return e ? e.split(/[\t\n\f\r ]+/).filter(i) : []
        }(e);
        return Object.keys(t.reduce(r, {}))
    }
    function a(e, t) {
        for (var n in e)
            t[n] = e[n]
    }
    function o(e, t) {
        var n = e.prototype;
        if (!(n instanceof t)) {
            function i() {}
            i.prototype = t.prototype,
            a(n, i = new i),
            e.prototype = n = i
        }
        n.constructor != e && ("function" != typeof e && console.error("unknown Class:" + e),
        n.constructor = e)
    }
    var s = {}
      , x = s.ELEMENT_NODE = 1
      , T = s.ATTRIBUTE_NODE = 2
      , S = s.TEXT_NODE = 3
      , E = s.CDATA_SECTION_NODE = 4
      , C = s.ENTITY_REFERENCE_NODE = 5
      , u = s.ENTITY_NODE = 6
      , M = s.PROCESSING_INSTRUCTION_NODE = 7
      , k = s.COMMENT_NODE = 8
      , P = s.DOCUMENT_NODE = 9
      , A = s.DOCUMENT_TYPE_NODE = 10
      , I = s.DOCUMENT_FRAGMENT_NODE = 11
      , c = s.NOTATION_NODE = 12
      , h = {}
      , d = {}
      , p = (h.INDEX_SIZE_ERR = (d[1] = "Index size error",
    1),
    h.DOMSTRING_SIZE_ERR = (d[2] = "DOMString size error",
    2),
    h.HIERARCHY_REQUEST_ERR = (d[3] = "Hierarchy request error",
    3))
      , f = (h.WRONG_DOCUMENT_ERR = (d[4] = "Wrong document",
    4),
    h.INVALID_CHARACTER_ERR = (d[5] = "Invalid character",
    5),
    h.NO_DATA_ALLOWED_ERR = (d[6] = "No data allowed",
    6),
    h.NO_MODIFICATION_ALLOWED_ERR = (d[7] = "No modification allowed",
    7),
    h.NOT_FOUND_ERR = (d[8] = "Not found",
    8))
      , m = (h.NOT_SUPPORTED_ERR = (d[9] = "Not supported",
    9),
    h.INUSE_ATTRIBUTE_ERR = (d[10] = "Attribute in use",
    10));
    h.INVALID_STATE_ERR = (d[11] = "Invalid state",
    11),
    h.SYNTAX_ERR = (d[12] = "Syntax error",
    12),
    h.INVALID_MODIFICATION_ERR = (d[13] = "Invalid modification",
    13),
    h.NAMESPACE_ERR = (d[14] = "Invalid namespace",
    14),
    h.INVALID_ACCESS_ERR = (d[15] = "Invalid access",
    15);
    function g(e, t) {
        if (t instanceof Error)
            var n = t;
        else
            n = this,
            Error.call(this, d[e]),
            this.message = d[e],
            Error.captureStackTrace && Error.captureStackTrace(this, g);
        return n.code = e,
        t && (this.message = this.message + ": " + t),
        n
    }
    function v() {}
    function y(e, t) {
        this._node = e,
        this._refresh = t,
        b(this)
    }
    function b(e) {
        var t = e._node._inc || e._node.ownerDocument._inc;
        if (e._inc != t) {
            var n = e._refresh(e._node);
            se(e, "length", n.length),
            a(n, e),
            e._inc = t
        }
    }
    function _() {}
    function L(e, t) {
        for (var n = e.length; n--; )
            if (e[n] === t)
                return n
    }
    function O(e, t, n, i) {
        if (i ? t[L(t, i)] = n : t[t.length++] = n,
        e) {
            var r = (n.ownerElement = e).ownerDocument;
            r && (i && j(r, e, i),
            function(e, t, n) {
                e && e._inc++,
                n.namespaceURI === w.XMLNS && (t._nsMap[n.prefix ? n.localName : ""] = n.value)
            }(r, e, n))
        }
    }
    function R(e, t, n) {
        var i = L(t, n);
        if (!(0 <= i))
            throw g(f, new Error(e.tagName + "@" + n));
        for (var r = t.length - 1; i < r; )
            t[i] = t[++i];
        if (t.length = r,
        e) {
            var a = e.ownerDocument;
            a && (j(a, e, n),
            n.ownerElement = null)
        }
    }
    function D() {}
    function N() {}
    function F(e) {
        return ("<" == e ? "&lt;" : ">" == e && "&gt;") || "&" == e && "&amp;" || '"' == e && "&quot;" || "&#" + e.charCodeAt() + ";"
    }
    function B(e, t) {
        if (t(e))
            return !0;
        if (e = e.firstChild)
            do {
                if (B(e, t))
                    return !0
            } while (e = e.nextSibling)
    }
    function U() {}
    function j(e, t, n) {
        e && e._inc++,
        n.namespaceURI === w.XMLNS && delete t._nsMap[n.prefix ? n.localName : ""]
    }
    function z(e, t, n) {
        if (e && e._inc) {
            e._inc++;
            var i = t.childNodes;
            if (n)
                i[i.length++] = n;
            else {
                for (var r = t.firstChild, a = 0; r; )
                    r = (i[a++] = r).nextSibling;
                i.length = a
            }
        }
    }
    function H(e, t) {
        var n = t.previousSibling
          , i = t.nextSibling;
        return n ? n.nextSibling = i : e.firstChild = i,
        i ? i.previousSibling = n : e.lastChild = n,
        z(e.ownerDocument, e),
        t
    }
    function V(e, t, n) {
        var i = t.parentNode;
        if (i && i.removeChild(t),
        t.nodeType === I) {
            var r = t.firstChild;
            if (null == r)
                return t;
            var a = t.lastChild
        } else
            r = a = t;
        var o = n ? n.previousSibling : e.lastChild;
        for (r.previousSibling = o,
        a.nextSibling = n,
        o ? o.nextSibling = r : e.firstChild = r,
        null == n ? e.lastChild = a : n.previousSibling = a; r.parentNode = e,
        r !== a && (r = r.nextSibling); )
            ;
        return z(e.ownerDocument || e, e),
        t.nodeType == I && (t.firstChild = t.lastChild = null),
        t
    }
    function G() {
        this._nsMap = {}
    }
    function W() {}
    function q() {}
    function $() {}
    function X() {}
    function Y() {}
    function K() {}
    function Z() {}
    function Q() {}
    function J() {}
    function ee() {}
    function te() {}
    function ne() {}
    function ie(e, t) {
        var n = []
          , i = 9 == this.nodeType && this.documentElement || this
          , r = i.prefix
          , a = i.namespaceURI;
        if (a && null == r && null == (r = i.lookupPrefix(a)))
            var o = [{
                namespace: a,
                prefix: null
            }];
        return oe(this, n, e, t, o),
        n.join("")
    }
    function re(e, t, n) {
        var i = e.prefix || ""
          , r = e.namespaceURI;
        if (!r)
            return !1;
        if ("xml" === i && r === w.XML || r === w.XMLNS)
            return !1;
        for (var a = n.length; a--; ) {
            var o = n[a];
            if (o.prefix === i)
                return o.namespace !== r
        }
        return !0
    }
    function ae(e, t, n) {
        e.push(" ", t, '="', n.replace(/[<&"]/g, F), '"')
    }
    function oe(e, t, n, i, r) {
        if (r = r || [],
        i) {
            if (!(e = i(e)))
                return;
            if ("string" == typeof e)
                return void t.push(e)
        }
        switch (e.nodeType) {
        case x:
            var a = e.attributes
              , o = a.length
              , s = e.firstChild
              , l = e.tagName
              , u = l;
            if (!(n = w.isHTML(e.namespaceURI) || n) && !e.prefix && e.namespaceURI) {
                for (var c, h = 0; h < a.length; h++)
                    if ("xmlns" === a.item(h).name) {
                        c = a.item(h).value;
                        break
                    }
                if (!c)
                    for (var d = r.length - 1; 0 <= d; d--) {
                        if ("" === (p = r[d]).prefix && p.namespace === e.namespaceURI) {
                            c = p.namespace;
                            break
                        }
                    }
                if (c !== e.namespaceURI)
                    for (d = r.length - 1; 0 <= d; d--) {
                        var p;
                        if ((p = r[d]).namespace === e.namespaceURI) {
                            p.prefix && (u = p.prefix + ":" + l);
                            break
                        }
                    }
            }
            t.push("<", u);
            for (var f = 0; f < o; f++) {
                "xmlns" == (m = a.item(f)).prefix ? r.push({
                    prefix: m.localName,
                    namespace: m.value
                }) : "xmlns" == m.nodeName && r.push({
                    prefix: "",
                    namespace: m.value
                })
            }
            for (f = 0; f < o; f++) {
                var m, g, v;
                if (re(m = a.item(f), 0, r))
                    ae(t, (g = m.prefix || "") ? "xmlns:" + g : "xmlns", v = m.namespaceURI),
                    r.push({
                        prefix: g,
                        namespace: v
                    });
                oe(m, t, n, i, r)
            }
            if (l === u && re(e, 0, r))
                ae(t, (g = e.prefix || "") ? "xmlns:" + g : "xmlns", v = e.namespaceURI),
                r.push({
                    prefix: g,
                    namespace: v
                });
            if (s || n && !/^(?:meta|link|img|br|hr|input)$/i.test(l)) {
                if (t.push(">"),
                n && /^script$/i.test(l))
                    for (; s; )
                        s.data ? t.push(s.data) : oe(s, t, n, i, r.slice()),
                        s = s.nextSibling;
                else
                    for (; s; )
                        oe(s, t, n, i, r.slice()),
                        s = s.nextSibling;
                t.push("</", u, ">")
            } else
                t.push("/>");
            return;
        case P:
        case I:
            for (s = e.firstChild; s; )
                oe(s, t, n, i, r.slice()),
                s = s.nextSibling;
            return;
        case T:
            return ae(t, e.name, e.value);
        case S:
            return t.push(e.data.replace(/[<&]/g, F).replace(/]]>/g, "]]&gt;"));
        case E:
            return t.push("<![CDATA[", e.data, "]]>");
        case k:
            return t.push("\x3c!--", e.data, "--\x3e");
        case A:
            var y = e.publicId
              , b = e.systemId;
            if (t.push("<!DOCTYPE ", e.name),
            y)
                t.push(" PUBLIC ", y),
                b && "." != b && t.push(" ", b),
                t.push(">");
            else if (b && "." != b)
                t.push(" SYSTEM ", b, ">");
            else {
                var _ = e.internalSubset;
                _ && t.push(" [", _, "]"),
                t.push(">")
            }
            return;
        case M:
            return t.push("<?", e.target, " ", e.data, "?>");
        case C:
            return t.push("&", e.nodeName, ";");
        default:
            t.push("??", e.nodeName)
        }
    }
    function se(e, t, n) {
        e[t] = n
    }
    g.prototype = Error.prototype,
    a(h, g),
    v.prototype = {
        length: 0,
        item: function(e) {
            return this[e] || null
        },
        toString: function(e, t) {
            for (var n = [], i = 0; i < this.length; i++)
                oe(this[i], n, e, t);
            return n.join("")
        }
    },
    y.prototype.item = function(e) {
        return b(this),
        this[e]
    }
    ,
    o(y, v),
    _.prototype = {
        length: 0,
        item: v.prototype.item,
        getNamedItem: function(e) {
            for (var t = this.length; t--; ) {
                var n = this[t];
                if (n.nodeName == e)
                    return n
            }
        },
        setNamedItem: function(e) {
            var t = e.ownerElement;
            if (t && t != this._ownerElement)
                throw new g(m);
            var n = this.getNamedItem(e.nodeName);
            return O(this._ownerElement, this, e, n),
            n
        },
        setNamedItemNS: function(e) {
            var t, n = e.ownerElement;
            if (n && n != this._ownerElement)
                throw new g(m);
            return t = this.getNamedItemNS(e.namespaceURI, e.localName),
            O(this._ownerElement, this, e, t),
            t
        },
        removeNamedItem: function(e) {
            var t = this.getNamedItem(e);
            return R(this._ownerElement, this, t),
            t
        },
        removeNamedItemNS: function(e, t) {
            var n = this.getNamedItemNS(e, t);
            return R(this._ownerElement, this, n),
            n
        },
        getNamedItemNS: function(e, t) {
            for (var n = this.length; n--; ) {
                var i = this[n];
                if (i.localName == t && i.namespaceURI == e)
                    return i
            }
            return null
        }
    },
    D.prototype = {
        hasFeature: function(e, t) {
            return !0
        },
        createDocument: function(e, t, n) {
            var i = new U;
            if (i.implementation = this,
            i.childNodes = new v,
            i.doctype = n || null,
            n && i.appendChild(n),
            t) {
                var r = i.createElementNS(e, t);
                i.appendChild(r)
            }
            return i
        },
        createDocumentType: function(e, t, n) {
            var i = new K;
            return i.name = e,
            i.nodeName = e,
            i.publicId = t || "",
            i.systemId = n || "",
            i
        }
    },
    N.prototype = {
        firstChild: null,
        lastChild: null,
        previousSibling: null,
        nextSibling: null,
        attributes: null,
        parentNode: null,
        childNodes: null,
        ownerDocument: null,
        nodeValue: null,
        namespaceURI: null,
        prefix: null,
        localName: null,
        insertBefore: function(e, t) {
            return V(this, e, t)
        },
        replaceChild: function(e, t) {
            this.insertBefore(e, t),
            t && this.removeChild(t)
        },
        removeChild: function(e) {
            return H(this, e)
        },
        appendChild: function(e) {
            return this.insertBefore(e, null)
        },
        hasChildNodes: function() {
            return null != this.firstChild
        },
        cloneNode: function(e) {
            return function e(t, n, i) {
                var r = new n.constructor;
                for (var a in n) {
                    var o = n[a];
                    "object" != typeof o && o != r[a] && (r[a] = o)
                }
                n.childNodes && (r.childNodes = new v);
                r.ownerDocument = t;
                switch (r.nodeType) {
                case x:
                    var s = n.attributes
                      , l = r.attributes = new _
                      , u = s.length;
                    l._ownerElement = r;
                    for (var c = 0; c < u; c++)
                        r.setAttributeNode(e(t, s.item(c), !0));
                    break;
                case T:
                    i = !0
                }
                if (i)
                    for (var h = n.firstChild; h; )
                        r.appendChild(e(t, h, i)),
                        h = h.nextSibling;
                return r
            }(this.ownerDocument || this, this, e)
        },
        normalize: function() {
            for (var e = this.firstChild; e; ) {
                var t = e.nextSibling;
                t && t.nodeType == S && e.nodeType == S ? (this.removeChild(t),
                e.appendData(t.data)) : (e.normalize(),
                e = t)
            }
        },
        isSupported: function(e, t) {
            return this.ownerDocument.implementation.hasFeature(e, t)
        },
        hasAttributes: function() {
            return 0 < this.attributes.length
        },
        lookupPrefix: function(e) {
            for (var t = this; t; ) {
                var n = t._nsMap;
                if (n)
                    for (var i in n)
                        if (n[i] == e)
                            return i;
                t = t.nodeType == T ? t.ownerDocument : t.parentNode
            }
            return null
        },
        lookupNamespaceURI: function(e) {
            for (var t = this; t; ) {
                var n = t._nsMap;
                if (n && e in n)
                    return n[e];
                t = t.nodeType == T ? t.ownerDocument : t.parentNode
            }
            return null
        },
        isDefaultNamespace: function(e) {
            return null == this.lookupPrefix(e)
        }
    },
    a(s, N),
    a(s, N.prototype),
    U.prototype = {
        nodeName: "#document",
        nodeType: P,
        doctype: null,
        documentElement: null,
        _inc: 1,
        insertBefore: function(e, t) {
            if (e.nodeType != I)
                return null == this.documentElement && e.nodeType == x && (this.documentElement = e),
                V(this, e, t),
                e.ownerDocument = this,
                e;
            for (var n = e.firstChild; n; ) {
                var i = n.nextSibling;
                this.insertBefore(n, t),
                n = i
            }
            return e
        },
        removeChild: function(e) {
            return this.documentElement == e && (this.documentElement = null),
            H(this, e)
        },
        importNode: function(e, t) {
            return function e(t, n, i) {
                var r;
                switch (n.nodeType) {
                case x:
                    (r = n.cloneNode(!1)).ownerDocument = t;
                case I:
                    break;
                case T:
                    i = !0
                }
                r = r || n.cloneNode(!1);
                r.ownerDocument = t;
                r.parentNode = null;
                if (i)
                    for (var a = n.firstChild; a; )
                        r.appendChild(e(t, a, i)),
                        a = a.nextSibling;
                return r
            }(this, e, t)
        },
        getElementById: function(t) {
            var n = null;
            return B(this.documentElement, function(e) {
                if (e.nodeType == x && e.getAttribute("id") == t)
                    return n = e,
                    !0
            }),
            n
        },
        getElementsByClassName: function(o) {
            var s = l(o);
            return new y(this,function(r) {
                var a = [];
                return 0 < s.length && B(r.documentElement, function(e) {
                    if (e !== r && e.nodeType === x) {
                        var t = e.getAttribute("class");
                        if (t) {
                            var n = o === t;
                            if (!n) {
                                var i = l(t);
                                n = s.every(function(t) {
                                    return function(e) {
                                        return t && -1 !== t.indexOf(e)
                                    }
                                }(i))
                            }
                            n && a.push(e)
                        }
                    }
                }),
                a
            }
            )
        },
        createElement: function(e) {
            var t = new G;
            return t.ownerDocument = this,
            t.nodeName = e,
            t.tagName = e,
            t.localName = e,
            t.childNodes = new v,
            (t.attributes = new _)._ownerElement = t
        },
        createDocumentFragment: function() {
            var e = new ee;
            return e.ownerDocument = this,
            e.childNodes = new v,
            e
        },
        createTextNode: function(e) {
            var t = new $;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createComment: function(e) {
            var t = new X;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createCDATASection: function(e) {
            var t = new Y;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createProcessingInstruction: function(e, t) {
            var n = new te;
            return n.ownerDocument = this,
            n.tagName = n.target = e,
            n.nodeValue = n.data = t,
            n
        },
        createAttribute: function(e) {
            var t = new W;
            return t.ownerDocument = this,
            t.name = e,
            t.nodeName = e,
            t.localName = e,
            t.specified = !0,
            t
        },
        createEntityReference: function(e) {
            var t = new J;
            return t.ownerDocument = this,
            t.nodeName = e,
            t
        },
        createElementNS: function(e, t) {
            var n = new G
              , i = t.split(":")
              , r = n.attributes = new _;
            return n.childNodes = new v,
            n.ownerDocument = this,
            n.nodeName = t,
            n.tagName = t,
            n.namespaceURI = e,
            2 == i.length ? (n.prefix = i[0],
            n.localName = i[1]) : n.localName = t,
            r._ownerElement = n
        },
        createAttributeNS: function(e, t) {
            var n = new W
              , i = t.split(":");
            return n.ownerDocument = this,
            n.nodeName = t,
            n.name = t,
            n.namespaceURI = e,
            n.specified = !0,
            2 == i.length ? (n.prefix = i[0],
            n.localName = i[1]) : n.localName = t,
            n
        }
    },
    o(U, N),
    U.prototype.getElementsByTagName = (G.prototype = {
        nodeType: x,
        hasAttribute: function(e) {
            return null != this.getAttributeNode(e)
        },
        getAttribute: function(e) {
            var t = this.getAttributeNode(e);
            return t && t.value || ""
        },
        getAttributeNode: function(e) {
            return this.attributes.getNamedItem(e)
        },
        setAttribute: function(e, t) {
            var n = this.ownerDocument.createAttribute(e);
            n.value = n.nodeValue = "" + t,
            this.setAttributeNode(n)
        },
        removeAttribute: function(e) {
            var t = this.getAttributeNode(e);
            t && this.removeAttributeNode(t)
        },
        appendChild: function(e) {
            return e.nodeType === I ? this.insertBefore(e, null) : function(e, t) {
                var n = t.parentNode;
                if (n) {
                    var i = e.lastChild;
                    n.removeChild(t);
                    i = e.lastChild
                }
                return i = e.lastChild,
                t.parentNode = e,
                t.previousSibling = i,
                t.nextSibling = null,
                i ? i.nextSibling = t : e.firstChild = t,
                e.lastChild = t,
                z(e.ownerDocument, e, t),
                t
            }(this, e)
        },
        setAttributeNode: function(e) {
            return this.attributes.setNamedItem(e)
        },
        setAttributeNodeNS: function(e) {
            return this.attributes.setNamedItemNS(e)
        },
        removeAttributeNode: function(e) {
            return this.attributes.removeNamedItem(e.nodeName)
        },
        removeAttributeNS: function(e, t) {
            var n = this.getAttributeNodeNS(e, t);
            n && this.removeAttributeNode(n)
        },
        hasAttributeNS: function(e, t) {
            return null != this.getAttributeNodeNS(e, t)
        },
        getAttributeNS: function(e, t) {
            var n = this.getAttributeNodeNS(e, t);
            return n && n.value || ""
        },
        setAttributeNS: function(e, t, n) {
            var i = this.ownerDocument.createAttributeNS(e, t);
            i.value = i.nodeValue = "" + n,
            this.setAttributeNode(i)
        },
        getAttributeNodeNS: function(e, t) {
            return this.attributes.getNamedItemNS(e, t)
        },
        getElementsByTagName: function(i) {
            return new y(this,function(t) {
                var n = [];
                return B(t, function(e) {
                    e === t || e.nodeType != x || "*" !== i && e.tagName != i || n.push(e)
                }),
                n
            }
            )
        },
        getElementsByTagNameNS: function(i, r) {
            return new y(this,function(t) {
                var n = [];
                return B(t, function(e) {
                    e === t || e.nodeType !== x || "*" !== i && e.namespaceURI !== i || "*" !== r && e.localName != r || n.push(e)
                }),
                n
            }
            )
        }
    }).getElementsByTagName,
    U.prototype.getElementsByTagNameNS = G.prototype.getElementsByTagNameNS,
    o(G, N),
    W.prototype.nodeType = T,
    o(W, N),
    q.prototype = {
        data: "",
        substringData: function(e, t) {
            return this.data.substring(e, e + t)
        },
        appendData: function(e) {
            e = this.data + e,
            this.nodeValue = this.data = e,
            this.length = e.length
        },
        insertData: function(e, t) {
            this.replaceData(e, 0, t)
        },
        appendChild: function(e) {
            throw new Error(d[p])
        },
        deleteData: function(e, t) {
            this.replaceData(e, t, "")
        },
        replaceData: function(e, t, n) {
            n = this.data.substring(0, e) + n + this.data.substring(e + t),
            this.nodeValue = this.data = n,
            this.length = n.length
        }
    },
    o(q, N),
    $.prototype = {
        nodeName: "#text",
        nodeType: S,
        splitText: function(e) {
            var t = this.data
              , n = t.substring(e);
            t = t.substring(0, e),
            this.data = this.nodeValue = t,
            this.length = t.length;
            var i = this.ownerDocument.createTextNode(n);
            return this.parentNode && this.parentNode.insertBefore(i, this.nextSibling),
            i
        }
    },
    o($, q),
    X.prototype = {
        nodeName: "#comment",
        nodeType: k
    },
    o(X, q),
    Y.prototype = {
        nodeName: "#cdata-section",
        nodeType: E
    },
    o(Y, q),
    K.prototype.nodeType = A,
    o(K, N),
    Z.prototype.nodeType = c,
    o(Z, N),
    Q.prototype.nodeType = u,
    o(Q, N),
    J.prototype.nodeType = C,
    o(J, N),
    ee.prototype.nodeName = "#document-fragment",
    ee.prototype.nodeType = I,
    o(ee, N),
    te.prototype.nodeType = M,
    o(te, N),
    ne.prototype.serializeToString = function(e, t, n) {
        return ie.call(e, t, n)
    }
    ,
    N.prototype.toString = ie;
    try {
        if (Object.defineProperty) {
            Object.defineProperty(y.prototype, "length", {
                get: function() {
                    return b(this),
                    this.$$length
                }
            }),
            Object.defineProperty(N.prototype, "textContent", {
                get: function() {
                    return function e(t) {
                        switch (t.nodeType) {
                        case x:
                        case I:
                            var n = [];
                            for (t = t.firstChild; t; )
                                7 !== t.nodeType && 8 !== t.nodeType && n.push(e(t)),
                                t = t.nextSibling;
                            return n.join("");
                        default:
                            return t.nodeValue
                        }
                    }(this)
                },
                set: function(e) {
                    switch (this.nodeType) {
                    case x:
                    case I:
                        for (; this.firstChild; )
                            this.removeChild(this.firstChild);
                        (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                        break;
                    default:
                        this.data = e,
                        this.value = e,
                        this.nodeValue = e
                    }
                }
            }),
            se = function(e, t, n) {
                e["$$" + t] = n
            }
        }
    } catch (e) {}
    t.DocumentType = K,
    t.DOMException = g,
    t.DOMImplementation = D,
    t.Element = G,
    t.Node = N,
    t.NodeList = v,
    t.XMLSerializer = ne
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.getId3Offset = t.getId3Size = void 0;
    function i(e, t) {
        void 0 === t && (t = 0);
        var n = (e = (0,
        r.toUint8)(e))[t + 5]
          , i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
        return (16 & n) >> 4 ? 20 + i : 10 + i
    }
    var r = n(56)
      , a = (0,
    r.toUint8)([73, 68, 51]);
    t.getId3Size = i;
    t.getId3Offset = function e(t, n) {
        return void 0 === n && (n = 0),
        (t = (0,
        r.toUint8)(t)).length - n < 10 || !(0,
        r.bytesMatch)(t, a, {
            offset: n
        }) ? n : e(t, n += i(t, n))
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.getHvcCodec = t.getAvcCodec = t.getAv1Codec = void 0;
    var d = n(56);
    t.getAv1Codec = function(e) {
        var t, n = "", i = e[1] >>> 3, r = 31 & e[1], a = e[2] >>> 7, o = (64 & e[2]) >> 6, s = (32 & e[2]) >> 5, l = (16 & e[2]) >> 4, u = (8 & e[2]) >> 3, c = (4 & e[2]) >> 2, h = 3 & e[2];
        return n += i + "." + (0,
        d.padStart)(r, 2, "0"),
        0 == a ? n += "M" : 1 == a && (n += "H"),
        t = 2 == i && o ? s ? 12 : 10 : o ? 10 : 8,
        n += "." + (0,
        d.padStart)(t, 2, "0"),
        n += "." + l,
        n += "." + u + c + h
    }
    ;
    t.getAvcCodec = function(e) {
        return "" + (0,
        d.toHexString)(e[1]) + (0,
        d.toHexString)(252 & e[2]) + (0,
        d.toHexString)(e[3])
    }
    ;
    t.getHvcCodec = function(e) {
        var t = ""
          , n = e[1] >> 6
          , i = 31 & e[1]
          , r = (32 & e[1]) >> 5
          , a = e.subarray(2, 6)
          , o = e.subarray(6, 12)
          , s = e[12];
        1 == n ? t += "A" : 2 == n ? t += "B" : 3 == n && (t += "C"),
        t += i + ".";
        var l = parseInt((0,
        d.toBinaryString)(a).split("").reverse().join(""), 2);
        255 < l && (l = parseInt((0,
        d.toBinaryString)(a), 2)),
        t += l.toString(16) + ".",
        t += 0 == r ? "L" : "H",
        t += s;
        for (var u = "", c = 0; c < o.length; c++) {
            var h = o[c];
            h && (u && (u += "."),
            u += h.toString(16))
        }
        return u && (t += "." + u),
        t
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        if (0 === t)
            return ["منذ لحظات", "بعد لحظات"];
        var n = function(e, t) {
            return t < 3 ? i[e][t - 1] : 3 <= t && t <= 10 ? i[e][2] : i[e][3]
        }(Math.floor(t / 2), e);
        return ["منذ " + n, "بعد " + n]
    }
    ;
    var i = [["ثانية", "ثانيتين", "%s ثوان", "%s ثانية"], ["دقيقة", "دقيقتين", "%s دقائق", "%s دقيقة"], ["ساعة", "ساعتين", "%s ساعات", "%s ساعة"], ["يوم", "يومين", "%s أيام", "%s يوماً"], ["أسبوع", "أسبوعين", "%s أسابيع", "%s أسبوعاً"], ["شهر", "شهرين", "%s أشهر", "%s شهراً"], ["عام", "عامين", "%s أعوام", "%s عاماً"]]
}
, function(e, t) {
    var n = u.bind(null, "секунду", "%s секунду", "%s секунды", "%s секунд")
      , i = u.bind(null, "хвіліну", "%s хвіліну", "%s хвіліны", "%s хвілін")
      , r = u.bind(null, "гадзіну", "%s гадзіну", "%s гадзіны", "%s гадзін")
      , a = u.bind(null, "дзень", "%s дзень", "%s дні", "%s дзён")
      , o = u.bind(null, "тыдзень", "%s тыдзень", "%s тыдні", "%s тыдняў")
      , s = u.bind(null, "месяц", "%s месяц", "%s месяцы", "%s месяцаў")
      , l = u.bind(null, "год", "%s год", "%s гады", "%s гадоў");
    function u(e, t, n, i, r) {
        var a = r % 10
          , o = i;
        return 1 === r ? o = e : 1 == a && 20 < r ? o = t : 1 < a && a < 5 && (20 < r || r < 10) && (o = n),
        o
    }
    e.exports = function(e, t) {
        switch (t) {
        case 0:
            return ["толькі што", "праз некалькі секунд"];
        case 1:
            return [n(e) + " таму", "праз " + n(e)];
        case 2:
        case 3:
            return [i(e) + " таму", "праз " + i(e)];
        case 4:
        case 5:
            return [r(e) + " таму", "праз " + r(e)];
        case 6:
        case 7:
            return [a(e) + " таму", "праз " + a(e)];
        case 8:
        case 9:
            return [o(e) + " таму", "праз " + o(e)];
        case 10:
        case 11:
            return [s(e) + " таму", "праз " + s(e)];
        case 12:
        case 13:
            return [l(e) + " таму", "праз " + l(e)];
        default:
            return ["", ""]
        }
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["току що", "съвсем скоро"], ["преди %s секунди", "след %s секунди"], ["преди 1 минута", "след 1 минута"], ["преди %s минути", "след %s минути"], ["преди 1 час", "след 1 час"], ["преди %s часа", "след %s часа"], ["преди 1 ден", "след 1 ден"], ["преди %s дни", "след %s дни"], ["преди 1 седмица", "след 1 седмица"], ["преди %s седмици", "след %s седмици"], ["преди 1 месец", "след 1 месец"], ["преди %s месеца", "след %s месеца"], ["преди 1 година", "след 1 година"], ["преди %s години", "след %s години"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["fa un moment", "d'aquí un moment"], ["fa %s segons", "d'aquí %s segons"], ["fa 1 minut", "d'aquí 1 minut"], ["fa %s minuts", "d'aquí %s minuts"], ["fa 1 hora", "d'aquí 1 hora"], ["fa %s hores", "d'aquí %s hores"], ["fa 1 dia", "d'aquí 1 dia"], ["fa %s dies", "d'aquí %s dies"], ["fa 1 setmana", "d'aquí 1 setmana"], ["fa %s setmanes", "d'aquí %s setmanes"], ["fa 1 mes", "d'aquí 1 mes"], ["fa %s mesos", "d'aquí %s mesos"], ["fa 1 any", "d'aquí 1 any"], ["fa %s anys", "d'aquí %s anys"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["for et øjeblik siden", "om et øjeblik"], ["for %s sekunder siden", "om %s sekunder"], ["for 1 minut siden", "om 1 minut"], ["for %s minutter siden", "om %s minutter"], ["for 1 time siden", "om 1 time"], ["for %s timer siden", "om %s timer"], ["for 1 dag siden", "om 1 dag"], ["for %s dage siden", "om %s dage"], ["for 1 uge siden", "om 1 uge"], ["for %s uger siden", "om %s uger"], ["for 1 måned siden", "om 1 måned"], ["for %s måneder siden", "om %s måneder"], ["for 1 år siden", "om 1 år"], ["for %s år siden", "om %s år"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["gerade eben", "vor einer Weile"], ["vor %s Sekunden", "in %s Sekunden"], ["vor 1 Minute", "in 1 Minute"], ["vor %s Minuten", "in %s Minuten"], ["vor 1 Stunde", "in 1 Stunde"], ["vor %s Stunden", "in %s Stunden"], ["vor 1 Tag", "in 1 Tag"], ["vor %s Tagen", "in %s Tagen"], ["vor 1 Woche", "in 1 Woche"], ["vor %s Wochen", "in %s Wochen"], ["vor 1 Monat", "in 1 Monat"], ["vor %s Monaten", "in %s Monaten"], ["vor 1 Jahr", "in 1 Jahr"], ["vor %s Jahren", "in %s Jahren"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["μόλις τώρα", "σε λίγο"], ["%s δευτερόλεπτα πριν", "σε %s δευτερόλεπτα"], ["1 λεπτό πριν", "σε 1 λεπτό"], ["%s λεπτά πριν", "σε %s λεπτά"], ["1 ώρα πριν", "σε 1 ώρα"], ["%s ώρες πριν", "σε %s ώρες"], ["1 μέρα πριν", "σε 1 μέρα"], ["%s μέρες πριν", "σε %s μέρες"], ["1 εβδομάδα πριν", "σε 1 εβδομάδα"], ["%s εβδομάδες πριν", "σε %s εβδομάδες"], ["1 μήνα πριν", "σε 1 μήνα"], ["%s μήνες πριν", "σε %s μήνες"], ["1 χρόνο πριν", "σε 1 χρόνο"], ["%s χρόνια πριν", "σε %s χρόνια"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["just now", "right now"], ["%s seconds ago", "in %s seconds"], ["1 minute ago", "in 1 minute"], ["%s minutes ago", "in %s minutes"], ["1 hour ago", "in 1 hour"], ["%s hours ago", "in %s hours"], ["1 day ago", "in 1 day"], ["%s days ago", "in %s days"], ["1 week ago", "in 1 week"], ["%s weeks ago", "in %s weeks"], ["1 month ago", "in 1 month"], ["%s months ago", "in %s months"], ["1 year ago", "in 1 year"], ["%s years ago", "in %s years"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["just now", "right now"], ["%ss ago", "in %ss"], ["1m ago", "in 1m"], ["%sm ago", "in %sm"], ["1h ago", "in 1h"], ["%sh ago", "in %sh"], ["1d ago", "in 1d"], ["%sd ago", "in %sd"], ["1w ago", "in 1w"], ["%sw ago", "in %sw"], ["1mo ago", "in 1mo"], ["%smo ago", "in %smo"], ["1yr ago", "in 1yr"], ["%syr ago", "in %syr"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["justo ahora", "en un rato"], ["hace %s segundos", "en %s segundos"], ["hace 1 minuto", "en 1 minuto"], ["hace %s minutos", "en %s minutos"], ["hace 1 hora", "en 1 hora"], ["hace %s horas", "en %s horas"], ["hace 1 día", "en 1 día"], ["hace %s días", "en %s días"], ["hace 1 semana", "en 1 semana"], ["hace %s semanas", "en %s semanas"], ["hace 1 mes", "en 1 mes"], ["hace %s meses", "en %s meses"], ["hace 1 año", "en 1 año"], ["hace %s años", "en %s años"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["orain", "denbora bat barru"], ["duela %s segundu", "%s segundu barru"], ["duela minutu 1", "minutu 1 barru"], ["duela %s minutu", "%s minutu barru"], ["duela ordu 1", "ordu 1 barru"], ["duela %s ordu", "%s ordu barru"], ["duela egun 1", "egun 1 barru"], ["duela %s egun", "%s egun barru"], ["duela aste 1", "aste 1 barru"], ["duela %s aste", "%s aste barru"], ["duela hillabete 1", "hillabete 1 barru"], ["duela %s hillabete", "%s hillabete barru"], ["duela urte 1", "urte 1 barru"], ["duela %s urte", "%s urte barru"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["همین الآن", "لحظاتی پیش"], ["%s ثانیه پیش", "حدود %s ثانیه پیش"], ["1 دقیقه پیش", "حدود 1 دقیقه پیش"], ["%s دقیقه پیش", "حدود %s دقیقه پیش"], ["1 ساعت پیش", "حدود 1 ساعت پیش"], ["%s ساعت پیش", "حدود %s ساعت پیش"], ["1 روز پیش", "حدود 1 روز پیش"], ["%s روز پیش", "حدود %s روز پیش"], ["1 هفته پیش", "حدود 1 هفته پیش"], ["%s هفته پیش", "حدود %s هفته پیش"], ["1 ماه پیش", "حدود 1 ماه پیش"], ["%s ماه پیش", "حدود %s ماه پیش"], ["1 سال پیش", "حدود 1 سال پیش"], ["%s سال پیش", "حدود %s سال پیش"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["juuri äsken", "juuri nyt"], ["%s sekuntia sitten", "%s sekunnin päästä"], ["minuutti sitten", "minuutin päästä"], ["%s minuuttia sitten", "%s minuutin päästä"], ["tunti sitten", "tunnin päästä"], ["%s tuntia sitten", "%s tunnin päästä"], ["päivä sitten", "päivän päästä"], ["%s päivää sitten", "%s päivän päästä"], ["viikko sitten", "viikon päästä"], ["%s viikkoa sitten", "%s viikon päästä"], ["kuukausi sitten", "kuukauden päästä"], ["%s kuukautta sitten", "%s kuukauden päästä"], ["vuosi sitten", "vuoden päästä"], ["%s vuotta sitten", "%s vuoden päästä"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["à l'instant", "dans un instant"], ["il y a %s secondes", "dans %s secondes"], ["il y a 1 minute", "dans 1 minute"], ["il y a %s minutes", "dans %s minutes"], ["il y a 1 heure", "dans 1 heure"], ["il y a %s heures", "dans %s heures"], ["il y a 1 jour", "dans 1 jour"], ["il y a %s jours", "dans %s jours"], ["il y a 1 semaine", "dans 1 semaine"], ["il y a %s semaines", "dans %s semaines"], ["il y a 1 mois", "dans 1 mois"], ["il y a %s mois", "dans %s mois"], ["il y a 1 an", "dans 1 an"], ["il y a %s ans", "dans %s ans"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["זה עתה", "עכשיו"], ["לפני %s שניות", "בעוד %s שניות"], ["לפני דקה", "בעוד דקה"], ["לפני %s דקות", "בעוד %s דקות"], ["לפני שעה", "בעוד שעה"], ["לפני %s שעות", "בעוד %s שעות"], ["אתמול", "מחר"], ["לפני %s ימים", "בעוד %s ימים"], ["לפני שבוע", "בעוד שבוע"], ["לפני %s שבועות", "בעוד %s שבועות"], ["לפני חודש", "בעוד חודש"], ["לפני %s חודשים", "בעוד %s חודשים"], ["לפני שנה", "בעוד שנה"], ["לפני %s שנים", "בעוד %s שנים"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["éppen most", "éppen most"], ["%s másodperce", "%s másodpercen belül"], ["1 perce", "1 percen belül"], ["%s perce", "%s percen belül"], ["1 órája", "1 órán belül"], ["%s órája", "%s órán belül"], ["1 napja", "1 napon belül"], ["%s napja", "%s napon belül"], ["1 hete", "1 héten belül"], ["%s hete", "%s héten belül"], ["1 hónapja", "1 hónapon belül"], ["%s hónapja", "%s hónapon belül"], ["1 éve", "1 éven belül"], ["%s éve", "%s éven belül"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["এইমাত্র", "একটা সময়"], ["%s সেকেন্ড আগে", "%s এর সেকেন্ডের মধ্যে"], ["1 মিনিট আগে", "1 মিনিটে"], ["%s এর মিনিট আগে", "%s এর মিনিটের মধ্যে"], ["1 ঘন্টা আগে", "1 ঘন্টা"], ["%s ঘণ্টা আগে", "%s এর ঘন্টার মধ্যে"], ["1 দিন আগে", "1 দিনের মধ্যে"], ["%s এর দিন আগে", "%s এর দিন"], ["1 সপ্তাহ আগে", "1 সপ্তাহের মধ্যে"], ["%s এর সপ্তাহ আগে", "%s সপ্তাহের মধ্যে"], ["1 মাস আগে", "1 মাসে"], ["%s মাস আগে", "%s মাসে"], ["1 বছর আগে", "1 বছরের মধ্যে"], ["%s বছর আগে", "%s বছরে"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["अभी", "कुछ समय"], ["%s सेकंड पहले", "%s सेकंड में"], ["1 मिनट पहले", "1 मिनट में"], ["%s मिनट पहले", "%s मिनट में"], ["1 घंटे पहले", "1 घंटे में"], ["%s घंटे पहले", "%s घंटे में"], ["1 दिन पहले", "1 दिन में"], ["%s दिन पहले", "%s दिनों में"], ["1 सप्ताह पहले", "1 सप्ताह में"], ["%s हफ्ते पहले", "%s हफ्तों में"], ["1 महीने पहले", "1 महीने में"], ["%s महीने पहले", "%s महीनों में"], ["1 साल पहले", "1 साल में"], ["%s साल पहले", "%s साल में"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["baru saja", "sebentar"], ["%s detik yang lalu", "dalam %s detik"], ["1 menit yang lalu", "dalam 1 menit"], ["%s menit yang lalu", "dalam %s menit"], ["1 jam yang lalu", "dalam 1 jam"], ["%s jam yang lalu", "dalam %s jam"], ["1 hari yang lalu", "dalam 1 hari"], ["%s hari yang lalu", "dalam %s hari"], ["1 minggu yang lalu", "dalam 1 minggu"], ["%s minggu yang lalu", "dalam %s minggu"], ["1 bulan yang lalu", "dalam 1 bulan"], ["%s bulan yang lalu", "dalam %s bulan"], ["1 tahun yang lalu", "dalam 1 tahun"], ["%s tahun yang lalu", "dalam %s tahun"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["poco fa", "tra poco"], ["%s secondi fa", "%s secondi da ora"], ["un minuto fa", "un minuto da ora"], ["%s minuti fa", "%s minuti da ora"], ["un'ora fa", "un'ora da ora"], ["%s ore fa", "%s ore da ora"], ["un giorno fa", "un giorno da ora"], ["%s giorni fa", "%s giorni da ora"], ["una settimana fa", "una settimana da ora"], ["%s settimane fa", "%s settimane da ora"], ["un mese fa", "un mese da ora"], ["%s mesi fa", "%s mesi da ora"], ["un anno fa", "un anno da ora"], ["%s anni fa", "%s anni da ora"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["すこし前", "すぐに"], ["%s秒前", "%s秒以内"], ["1分前", "1分以内"], ["%s分前", "%s分以内"], ["1時間前", "1時間以内"], ["%s時間前", "%s時間以内"], ["1日前", "1日以内"], ["%s日前", "%s日以内"], ["1週間前", "1週間以内"], ["%s週間前", "%s週間以内"], ["1ヶ月前", "1ヶ月以内"], ["%sヶ月前", "%sヶ月以内"], ["1年前", "1年以内"], ["%s年前", "%s年以内"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["방금", "곧"], ["%s초 전", "%s초 후"], ["1분 전", "1분 후"], ["%s분 전", "%s분 후"], ["1시간 전", "1시간 후"], ["%s시간 전", "%s시간 후"], ["1일 전", "1일 후"], ["%s일 전", "%s일 후"], ["1주일 전", "1주일 후"], ["%s주일 전", "%s주일 후"], ["1개월 전", "1개월 후"], ["%s개월 전", "%s개월 후"], ["1년 전", "1년 후"], ["%s년 전", "%s년 후"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["ഇപ്പോള്‍", "കുറച്ചു മുന്‍പ്"], ["%s സെക്കന്റ്‌കള്‍ക്ക് മുന്‍പ്", "%s സെക്കന്റില്‍"], ["1 മിനിറ്റിനു മുന്‍പ്", "1 മിനിറ്റില്‍"], ["%s മിനിറ്റുകള്‍ക്ക് മുന്‍പ", "%s മിനിറ്റില്‍"], ["1 മണിക്കൂറിനു മുന്‍പ്", "1 മണിക്കൂറില്‍"], ["%s മണിക്കൂറുകള്‍ക്കു മുന്‍പ്", "%s മണിക്കൂറില്‍"], ["1 ഒരു ദിവസം മുന്‍പ്", "1 ദിവസത്തില്‍"], ["%s ദിവസങ്ങള്‍ക് മുന്‍പ്", "%s ദിവസങ്ങള്‍ക്കുള്ളില്‍"], ["1 ആഴ്ച മുന്‍പ്", "1 ആഴ്ചയില്‍"], ["%s ആഴ്ചകള്‍ക്ക് മുന്‍പ്", "%s ആഴ്ചകള്‍ക്കുള്ളില്‍"], ["1 മാസത്തിനു മുന്‍പ്", "1 മാസത്തിനുള്ളില്‍"], ["%s മാസങ്ങള്‍ക്ക് മുന്‍പ്", "%s മാസങ്ങള്‍ക്കുള്ളില്‍"], ["1 വര്‍ഷത്തിനു  മുന്‍പ്", "1 വര്‍ഷത്തിനുള്ളില്‍"], ["%s വര്‍ഷങ്ങള്‍ക്കു മുന്‍പ്", "%s വര്‍ഷങ്ങള്‍ക്കുല്ല്ളില്‍"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["ယခုအတွင်း", "ယခု"], ["%s စက္ကန့် အကြာက", "%s စက္ကန့်အတွင်း"], ["1 မိနစ် အကြာက", "1 မိနစ်အတွင်း"], ["%s မိနစ် အကြာက", "%s မိနစ်အတွင်း"], ["1 နာရီ အကြာက", "1 နာရီအတွင်း"], ["%s နာရီ အကြာက", "%s နာရီအတွင်း"], ["1 ရက် အကြာက", "1 ရက်အတွင်း"], ["%s ရက် အကြာက", "%s ရက်အတွင်း"], ["1 ပတ် အကြာက", "1 ပတ်အတွင်း"], ["%s ပတ် အကြာက", "%s ပတ်အတွင်း"], ["1 လ အကြာက", "1 လအတွင်း"], ["%s လ အကြာက", "%s လအတွင်း"], ["1 နှစ် အကြာက", "1 နှစ်အတွင်း"], ["%s နှစ် အကြာက", "%s နှစ်အတွင်း"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["akkurat nå", "om litt"], ["%s sekunder siden", "om %s sekunder"], ["1 minutt siden", "om 1 minutt"], ["%s minutter siden", "om %s minutter"], ["1 time siden", "om 1 time"], ["%s timer siden", "om %s timer"], ["1 dag siden", "om 1 dag"], ["%s dager siden", "om %s dager"], ["1 uke siden", "om 1 uke"], ["%s uker siden", "om %s uker"], ["1 måned siden", "om 1 måned"], ["%s måneder siden", "om %s måneder"], ["1 år siden", "om 1 år"], ["%s år siden", "om %s år"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["recent", "binnenkort"], ["%s seconden geleden", "binnen %s seconden"], ["1 minuut geleden", "binnen 1 minuut"], ["%s minuten geleden", "binnen %s minuten"], ["1 uur geleden", "binnen 1 uur"], ["%s uren geleden", "binnen %s uren"], ["1 dag geleden", "binnen 1 dag"], ["%s dagen geleden", "binnen %s dagen"], ["1 week geleden", "binnen 1 week"], ["%s weken geleden", "binnen %s weken"], ["1 maand geleden", "binnen 1 maand"], ["%s maanden geleden", "binnen %s maanden"], ["1 jaar geleden", "binnen 1 jaar"], ["%s jaren geleden", "binnen %s jaren"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["nett no", "om litt"], ["%s sekund sidan", "om %s sekund"], ["1 minutt sidan", "om 1 minutt"], ["%s minutt sidan", "om %s minutt"], ["1 time sidan", "om 1 time"], ["%s timar sidan", "om %s timar"], ["1 dag sidan", "om 1 dag"], ["%s dagar sidan", "om %s dagar"], ["1 veke sidan", "om 1 veke"], ["%s veker sidan", "om %s veker"], ["1 månad sidan", "om 1 månad"], ["%s månadar sidan", "om %s månadar"], ["1 år sidan", "om 1 år"], ["%s år sidan", "om %s år"]][t]
    }
}
, function(e, t) {
    var n = [["w tej chwili", "za chwilę"], ["%s sekund temu", "za %s sekund"], ["1 minutę temu", "za 1 minutę"], ["%s minut temu", "za %s minut"], ["1 godzinę temu", "za 1 godzinę"], ["%s godzin temu", "za %s godzin"], ["1 dzień temu", "za 1 dzień"], ["%s dni temu", "za %s dni"], ["1 tydzień temu", "za 1 tydzień"], ["%s tygodni temu", "za %s tygodni"], ["1 miesiąc temu", "za 1 miesiąc"], ["%s miesięcy temu", "za %s miesięcy"], ["1 rok temu", "za 1 rok"], ["%s lat temu", "za %s lat"], ["%s sekundy temu", "za %s sekundy"], ["%s minuty temu", "za %s minuty"], ["%s godziny temu", "za %s godziny"], ["%s dni temu", "za %s dni"], ["%s tygodnie temu", "za %s tygodnie"], ["%s miesiące temu", "za %s miesiące"], ["%s lata temu", "za %s lata"]];
    e.exports = function(e, t) {
        return n[1 & t ? 4 < e % 10 || e % 10 < 2 || 1 == ~~(e / 10) % 10 ? t : ++t / 2 + 13 : t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["agora mesmo", "daqui um pouco"], ["há %s segundos", "em %s segundos"], ["há um minuto", "em um minuto"], ["há %s minutos", "em %s minutos"], ["há uma hora", "em uma hora"], ["há %s horas", "em %s horas"], ["há um dia", "em um dia"], ["há %s dias", "em %s dias"], ["há uma semana", "em uma semana"], ["há %s semanas", "em %s semanas"], ["há um mês", "em um mês"], ["há %s meses", "em %s meses"], ["há um ano", "em um ano"], ["há %s anos", "em %s anos"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        var n = [["chiar acum", "chiar acum"], ["acum %s secunde", "peste %s secunde"], ["acum un minut", "peste un minut"], ["acum %s minute", "peste %s minute"], ["acum o oră", "peste o oră"], ["acum %s ore", "peste %s ore"], ["acum o zi", "peste o zi"], ["acum %s zile", "peste %s zile"], ["acum o săptămână", "peste o săptămână"], ["acum %s săptămâni", "peste %s săptămâni"], ["acum o lună", "peste o lună"], ["acum %s luni", "peste %s luni"], ["acum un an", "peste un an"], ["acum %s ani", "peste %s ani"]];
        return e < 20 ? n[t] : [n[t][0].replace("%s", "%s de"), n[t][1].replace("%s", "%s de")]
    }
}
, function(e, t) {
    var n = u.bind(null, "секунду", "%s секунду", "%s секунды", "%s секунд")
      , i = u.bind(null, "минуту", "%s минуту", "%s минуты", "%s минут")
      , r = u.bind(null, "час", "%s час", "%s часа", "%s часов")
      , a = u.bind(null, "день", "%s день", "%s дня", "%s дней")
      , o = u.bind(null, "неделю", "%s неделю", "%s недели", "%s недель")
      , s = u.bind(null, "месяц", "%s месяц", "%s месяца", "%s месяцев")
      , l = u.bind(null, "год", "%s год", "%s года", "%s лет");
    function u(e, t, n, i, r) {
        var a = r % 10
          , o = i;
        return 1 === r ? o = e : 1 == a && 20 < r ? o = t : 1 < a && a < 5 && (20 < r || r < 10) && (o = n),
        o
    }
    e.exports = function(e, t) {
        switch (t) {
        case 0:
            return ["только что", "через несколько секунд"];
        case 1:
            return [n(e) + " назад", "через " + n(e)];
        case 2:
        case 3:
            return [i(e) + " назад", "через " + i(e)];
        case 4:
        case 5:
            return [r(e) + " назад", "через " + r(e)];
        case 6:
            return ["вчера", "завтра"];
        case 7:
            return [a(e) + " назад", "через " + a(e)];
        case 8:
        case 9:
            return [o(e) + " назад", "через " + o(e)];
        case 10:
        case 11:
            return [s(e) + " назад", "через " + s(e)];
        case 12:
        case 13:
            return [l(e) + " назад", "через " + l(e)];
        default:
            return ["", ""]
        }
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["just nu", "om en stund"], ["%s sekunder sedan", "om %s seconder"], ["1 minut sedan", "om 1 minut"], ["%s minuter sedan", "om %s minuter"], ["1 timme sedan", "om 1 timme"], ["%s timmar sedan", "om %s timmar"], ["1 dag sedan", "om 1 dag"], ["%s dagar sedan", "om %s dagar"], ["1 vecka sedan", "om 1 vecka"], ["%s veckor sedan", "om %s veckor"], ["1 månad sedan", "om 1 månad"], ["%s månader sedan", "om %s månader"], ["1 år sedan", "om 1 år"], ["%s år sedan", "om %s år"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["இப்போது", "சற்று நேரம் முன்பு"], ["%s நொடிக்கு முன்", "%s நொடிகளில்"], ["1 நிமிடத்திற்க்கு முன்", "1 நிமிடத்தில்"], ["%s நிமிடத்திற்க்கு முன்", "%s நிமிடங்களில்"], ["1 மணி நேரத்திற்கு முன்", "1 மணி நேரத்திற்குள்"], ["%s மணி நேரத்திற்கு முன்", "%s மணி நேரத்திற்குள்"], ["1 நாளுக்கு முன்", "1 நாளில்"], ["%s நாட்களுக்கு முன்", "%s நாட்களில்"], ["1 வாரத்திற்கு முன்", "1 வாரத்தில்"], ["%s வாரங்களுக்கு முன்", "%s வாரங்களில்"], ["1 மாதத்திற்கு முன்", "1 மாதத்தில்"], ["%s மாதங்களுக்கு முன்", "%s மாதங்களில்"], ["1 வருடத்திற்கு முன்", "1 வருடத்தில்"], ["%s வருடங்களுக்கு முன்", "%s வருடங்களில்"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["เมื่อสักครู่นี้", "อีกสักครู่"], ["%s วินาทีที่แล้ว", "ใน %s วินาที"], ["1 นาทีที่แล้ว", "ใน 1 นาที"], ["%s นาทีที่แล้ว", "ใน %s นาที"], ["1 ชั่วโมงที่แล้ว", "ใน 1 ชั่วโมง"], ["%s ชั่วโมงที่แล้ว", "ใน %s ชั่วโมง"], ["1 วันที่แล้ว", "ใน 1 วัน"], ["%s วันที่แล้ว", "ใน %s วัน"], ["1 อาทิตย์ที่แล้ว", "ใน 1 อาทิตย์"], ["%s อาทิตย์ที่แล้ว", "ใน %s อาทิตย์"], ["1 เดือนที่แล้ว", "ใน 1 เดือน"], ["%s เดือนที่แล้ว", "ใน %s เดือน"], ["1 ปีที่แล้ว", "ใน 1 ปี"], ["%s ปีที่แล้ว", "ใน %s ปี"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["az önce", "şimdi"], ["%s saniye önce", "%s saniye içinde"], ["1 dakika önce", "1 dakika içinde"], ["%s dakika önce", "%s dakika içinde"], ["1 saat önce", "1 saat içinde"], ["%s saat önce", "%s saat içinde"], ["1 gün önce", "1 gün içinde"], ["%s gün önce", "%s gün içinde"], ["1 hafta önce", "1 hafta içinde"], ["%s hafta önce", "%s hafta içinde"], ["1 ay önce", "1 ay içinde"], ["%s ay önce", "%s ay içinde"], ["1 yıl önce", "1 yıl içinde"], ["%s yıl önce", "%s yıl içinde"]][t]
    }
}
, function(e, t) {
    var n = u.bind(null, "секунду", "%s секунду", "%s секунди", "%s секунд")
      , i = u.bind(null, "хвилину", "%s хвилину", "%s хвилини", "%s хвилин")
      , r = u.bind(null, "годину", "%s годину", "%s години", "%s годин")
      , a = u.bind(null, "день", "%s день", "%s дні", "%s днів")
      , o = u.bind(null, "тиждень", "%s тиждень", "%s тиждні", "%s тижднів")
      , s = u.bind(null, "місяць", "%s місяць", "%s місяці", "%s місяців")
      , l = u.bind(null, "рік", "%s рік", "%s роки", "%s років");
    function u(e, t, n, i, r) {
        var a = r % 10
          , o = i;
        return 1 === r ? o = e : 1 == a && 20 < r ? o = t : 1 < a && a < 5 && (20 < r || r < 10) && (o = n),
        o
    }
    e.exports = function(e, t) {
        switch (t) {
        case 0:
            return ["щойно", "через декілька секунд"];
        case 1:
            return [n(e) + " тому", "через " + n(e)];
        case 2:
        case 3:
            return [i(e) + " тому", "через " + i(e)];
        case 4:
        case 5:
            return [r(e) + " тому", "через " + r(e)];
        case 6:
        case 7:
            return [a(e) + " тому", "через " + a(e)];
        case 8:
        case 9:
            return [o(e) + " тому", "через " + o(e)];
        case 10:
        case 11:
            return [s(e) + " тому", "через " + s(e)];
        case 12:
        case 13:
            return [l(e) + " тому", "через " + l(e)];
        default:
            return ["", ""]
        }
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["vừa xong", "một lúc"], ["%s giây trước", "trong %s giây"], ["1 phút trước", "trong 1 phút"], ["%s phút trước", "trong %s phút"], ["1 giờ trước", "trong 1 giờ"], ["%s giờ trước", "trong %s giờ"], ["1 ngày trước", "trong 1 ngày"], ["%s ngày trước", "trong %s ngày"], ["1 tuần trước", "trong 1 tuần"], ["%s tuần trước", "trong %s tuần"], ["1 tháng trước", "trong 1 tháng"], ["%s tháng trước", "trong %s tháng"], ["1 năm trước", "trong 1 năm"], ["%s năm trước", "trong %s năm"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["刚刚", "片刻后"], ["%s秒前", "%s秒后"], ["1分钟前", "1分钟后"], ["%s分钟前", "%s分钟后"], ["1小时前", "1小时后"], ["%s小时前", "%s小时后"], ["1天前", "1天后"], ["%s天前", "%s天后"], ["1周前", "1周后"], ["%s周前", "%s周后"], ["1月前", "1月后"], ["%s月前", "%s月后"], ["1年前", "1年后"], ["%s年前", "%s年后"]][t]
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return [["剛剛", "片刻後"], ["%s秒前", "%s秒後"], ["1分鐘前", "1分鐘後"], ["%s分鐘前", "%s分鐘後"], ["1小時前", "1小時後"], ["%s小時前", "%s小時後"], ["1天前", "1天後"], ["%s天前", "%s天後"], ["1周前", "1周後"], ["%s周前", "%s周後"], ["1月前", "1月後"], ["%s月前", "%s月後"], ["1年前", "1年後"], ["%s年前", "%s年後"]][t]
    }
}
, function(e, r, t) {
    (function(i) {
        !function(e) {
            "use strict";
            var t = {};
            e.PubSub = t;
            var n = e.define;
            !function(u) {
                "use strict";
                var c = {}
                  , i = -1;
                function r(e) {
                    var t;
                    for (t in e) {
                        if (e.hasOwnProperty(t)) {
                            return true
                        }
                    }
                    return false
                }
                function a(t) {
                    return function e() {
                        throw t
                    }
                }
                function s(e, t, n) {
                    try {
                        e(t, n)
                    } catch (e) {
                        setTimeout(a(e), 0)
                    }
                }
                function l(e, t, n) {
                    e(t, n)
                }
                function o(e, t, n, i) {
                    var r = c[t], a = i ? l : s, o;
                    if (!c.hasOwnProperty(t)) {
                        return
                    }
                    for (o in r) {
                        if (r.hasOwnProperty(o)) {
                            a(r[o], e, n)
                        }
                    }
                }
                function h(i, r, a) {
                    return function e() {
                        var t = String(i)
                          , n = t.lastIndexOf(".");
                        o(i, i, r, a);
                        while (n !== -1) {
                            t = t.substr(0, n);
                            n = t.lastIndexOf(".");
                            o(i, t, r, a)
                        }
                    }
                }
                function d(e) {
                    var t = String(e)
                      , n = Boolean(c.hasOwnProperty(t) && r(c[t]))
                      , i = t.lastIndexOf(".");
                    while (!n && i !== -1) {
                        t = t.substr(0, i);
                        i = t.lastIndexOf(".");
                        n = Boolean(c.hasOwnProperty(t) && r(c[t]))
                    }
                    return n
                }
                function n(e, t, n, i) {
                    e = typeof e === "symbol" ? e.toString() : e;
                    var r = h(e, t, i)
                      , a = d(e);
                    if (!a) {
                        return false
                    }
                    if (n === true) {
                        r()
                    } else {
                        setTimeout(r, 0)
                    }
                    return true
                }
                u.publish = function(e, t) {
                    return n(e, t, false, u.immediateExceptions)
                }
                ,
                u.publishSync = function(e, t) {
                    return n(e, t, true, u.immediateExceptions)
                }
                ,
                u.subscribe = function(e, t) {
                    if (typeof t !== "function") {
                        return false
                    }
                    e = typeof e === "symbol" ? e.toString() : e;
                    if (!c.hasOwnProperty(e)) {
                        c[e] = {}
                    }
                    var n = "uid_" + String(++i);
                    c[e][n] = t;
                    return n
                }
                ,
                u.subscribeOnce = function(e, t) {
                    var n = u.subscribe(e, function() {
                        u.unsubscribe(n);
                        t.apply(this, arguments)
                    });
                    return u
                }
                ,
                u.clearAllSubscriptions = function e() {
                    c = {}
                }
                ,
                u.clearSubscriptions = function e(t) {
                    var n;
                    for (n in c) {
                        if (c.hasOwnProperty(n) && n.indexOf(t) === 0) {
                            delete c[n]
                        }
                    }
                }
                ,
                u.unsubscribe = function(e) {
                    var t = function(e) {
                        var t;
                        for (t in c) {
                            if (c.hasOwnProperty(t) && t.indexOf(e) === 0) {
                                return true
                            }
                        }
                        return false
                    }, n = typeof e === "string" && (c.hasOwnProperty(e) || t(e)), i = !n && typeof e === "string", r = typeof e === "function", a = false, o, s, l;
                    if (n) {
                        u.clearSubscriptions(e);
                        return
                    }
                    for (o in c) {
                        if (c.hasOwnProperty(o)) {
                            s = c[o];
                            if (i && s[e]) {
                                delete s[e];
                                a = e;
                                break
                            }
                            if (r) {
                                for (l in s) {
                                    if (s.hasOwnProperty(l) && s[l] === e) {
                                        delete s[l];
                                        a = true
                                    }
                                }
                            }
                        }
                    }
                    return a
                }
            }(t),
            "function" == typeof n && n.amd ? n(function() {
                return t
            }) : (void 0 !== i && i.exports && (r = i.exports = t),
            r.PubSub = t,
            i.exports = r = t)
        }("object" == typeof window && window || this)
    }
    ).call(this, t(194)(e))
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return u
    });
    var i = n(1)
      , o = n.n(i)
      , r = n(0)
      , s = n.n(r)
      , a = n(277);
    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var u = function() {
        function i(e, t) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            var n = {
                resolutionsConfig: {
                    smMin: 768,
                    mdMin: 992,
                    lgMin: 1200
                }
            };
            e = o.a.isUndefined(e) || o.a.isNull(e) ? n : o.a.merge({}, n, e),
            this.pluginLoader = new a.a(e,t)
        }
        return function(e, t, n) {
            t && l(e.prototype, t),
            n && l(e, n)
        }(i, [{
            key: "init",
            value: function(e, t, n) {
                function i() {
                    o.a.has(window, "Makolab") || o.a.assign(window, {
                        Makolab: {}
                    }),
                    o.a.has(window.Makolab, "PluginManager") || o.a.assign(window.Makolab, {
                        PluginManager: r
                    }),
                    a = a || !1,
                    r.pluginLoader.initPlugins(e, a),
                    r.getPlugins = r.getPlugins.bind(r),
                    r.getPlugin = r.getPlugin.bind(r),
                    r.removePlugin = r.removePlugin.bind(r),
                    r.removePlugins = r.removePlugins.bind(r)
                }
                var r = this
                  , a = 1 < arguments.length && void 0 !== t && t;
                !(2 < arguments.length && void 0 !== n) || n ? s()(window).on("load", i) : i()
            }
        }, {
            key: "getPlugins",
            value: function() {
                return this.pluginLoader.plugins
            }
        }, {
            key: "getPlugin",
            value: function(e, t) {
                var n = this.getPlugins()
                  , i = null;
                return o.a.has(n, "".concat(e, ".").concat(t)) && (i = n[e][t]),
                i
            }
        }, {
            key: "removePlugin",
            value: function(e, t) {
                var n = this.getPlugins();
                o.a.has(n, e) && o.a.has(n[e], t) && ((n = n[e][t]).stop(),
                delete window.Makolab.PluginManager.getPlugins()[e][t])
            }
        }, {
            key: "removePlugins",
            value: function(e) {
                this.pluginLoader.removePlugins(e)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return h
    });
    var i = n(0)
      , l = n.n(i)
      , r = n(1)
      , u = n.n(r)
      , a = n(41)
      , o = n(68);
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t, n) {
        return t && s(e.prototype, t),
        n && s(e, n),
        e
    }
    var h = function() {
        function n(e, t) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, n),
            this.pluginConfig = t,
            this.plugins = {},
            this.resolutions = new a.a(e.resolutionsConfig),
            this._setupListeners(),
            this.resolutions.init()
        }
        return c(n, [{
            key: "_proceedPlugin",
            value: function(e, t) {
                var n = l()(t).data("fplugin").toString()
                  , i = l()(t).data("fjsopts") || ""
                  , r = l()(t).data("fopts") || {}
                  , a = l()(t).data("fres") || ["*"];
                if (n)
                    if (1 === a.length && "*" === a[0] && (a = this.resolutions.getAll()),
                    i) {
                        var o = this.pluginConfig[i];
                        if (u.a.isEmpty(r))
                            this._loadPlugin(a, n, t, o);
                        else {
                            var s = u.a.merge({}, o, r);
                            this._loadPlugin(a, n, t, s)
                        }
                    } else
                        this._loadPlugin(a, n, t, r)
            }
        }, {
            key: "_loadPlugin",
            value: function(e, t, n, i) {
                u.a.isFunction(this.pluginConfig[t]) && this._pluginLoaded({
                    $el: l()(n),
                    opts: i,
                    elementResolutions: e,
                    name: t,
                    Plugin: this.pluginConfig[t]
                })
            }
        }, {
            key: "_pluginLoaded",
            value: function(e) {
                var t, n = e.$el, i = e.opts, r = e.elementResolutions, a = e.name, o = e.Plugin, s = n.data("id"), l = !1;
                s && this.plugins[s] && void 0 !== this.plugins[s][a] && (l = !0,
                t = this.plugins[s][a]),
                l || (t = new o(n,i,r),
                s ? t.pluginId = s : (s = t.pluginId,
                t.$element.data("id", t.pluginId)),
                this.plugins[s] = {},
                this.plugins[s][a] = t),
                -1 < u.a.indexOf(r, this.resolutions.getCurrent()) ? "initialized" === t.status ? t.start() : "stopped" === t.status && t.resume() : "running" === t.status && t.stop()
            }
        }, {
            key: "_setupListeners",
            value: function() {
                var e = this;
                o.a.subscribe("core/device-type-changed", function() {
                    e.initPlugins()
                }, this)
            }
        }, {
            key: "_removePlugins",
            value: function(e, t) {
                var n = this
                  , i = 1 < arguments.length && void 0 !== t && t
                  , r = e.find("[data-fplugin]");
                e.data("fplugin") && i && r.push(e),
                r.each(function(e, t) {
                    n.plugins[l()(t).data("id")] && n.plugins[l()(t).data("id")][l()(t).data("fplugin")] && (n.plugins[l()(t).data("id")][l()(t).data("fplugin")].stop(),
                    delete n.plugins[l()(t).data("id")][l()(t).data("fplugin")],
                    delete n.plugins[l()(t).data("id")])
                })
            }
        }]),
        c(n, [{
            key: "initPlugins",
            value: function(e, t) {
                var n, i = this, r = 1 < arguments.length && void 0 !== t && t;
                e ? (n = e.find("[data-fplugin]"),
                e.data("fplugin") && r && n.push(e)) : n = l()("[data-fplugin]"),
                n.sort(function(e, t) {
                    return l()(e).data("fpriority") < l()(t).data("fpriority") ? -1 : 1
                }),
                n.each(function(e, t) {
                    i._proceedPlugin(e, t)
                })
            }
        }, {
            key: "removePlugins",
            value: function(e, t) {
                var n = 1 < arguments.length && void 0 !== t && t;
                this._removePlugins(e, n)
            }
        }, {
            key: "removeAllPlugins",
            value: function() {
                var e = l()("body");
                this._removePlugins(e, !0)
            }
        }, {
            key: "initAllPlugins",
            value: function() {
                var e = l()("body");
                this.initPlugins(e, !0)
            }
        }]),
        n
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return g
    });
    var i = n(1)
      , l = n.n(i)
      , r = n(0)
      , u = n.n(r)
      , a = (n(560),
    n(3))
      , o = n(41)
      , s = n(69);
    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== c(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var g = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = l.a.merge({}, {
                triggerSelector: ".tab-header",
                containerSelector: ".tab-content",
                expandTriggerClass: "is-active",
                parentSelector: ".tabs",
                activeTab: 0,
                beforeChangeTab: null,
                afterChangeTab: null,
                urlParam: "TAB",
                triggerElementEventName: "tab-event",
                urlListener: !1,
                checkInsidePlugin: !1,
                fadeInContent: !1,
                tabsChangeEventName: "tabs/tab-changed",
                fadeAnimationClass: "fp-tabs_animation--fadeOut",
                checkActivePanel: !0,
                imitateAccordion: [],
                accordionDuration: 400,
                events: {
                    refreshTriggersEvent: ""
                }
            }, t),
            (i = d(this, f(r).call(this, e, t, n))).urlHelper = s.a,
            i.history = window.History,
            i.actualResolution = new o.a,
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(r, a["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(r, [{
            key: "start",
            value: function() {
                p(f(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                p(f(r.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                p(f(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.opts.urlListener && this.historyInit(),
                this.$contentPanels = this.$element.find(this.opts.containerSelector),
                this.findAllTriggers(),
                this.urlParams = this.urlHelper.parseUrlParams(window.location.href),
                this.opts.urlListener && !l.a.isUndefined(this.urlParams[this.opts.urlParam]) ? (this.activeTriggerElement = this.$triggers.parent().find('[data-tab="' + this.urlParams[this.opts.urlParam] + '"]'),
                this.changeTab(u()(this.activeTriggerElement), !1)) : -1 !== this.opts.activeTab && (this.activeTriggerElement = this.$triggers.get(this.opts.activeTab),
                this.changeTab(u()(this.activeTriggerElement), !1));
                var t = this;
                this.clickHandler = function(e) {
                    u()(e.currentTarget).is("a") && e.preventDefault(),
                    t.changeTab(u()(this), !0)
                }
                ,
                this.on(this.$triggers, "click", this.clickHandler),
                this.opts.events.refreshTriggersEvent && this.subscribe(this.opts.events.refreshTriggersEvent, this.refreshTriggers.bind(this))
            }
        }, {
            key: "historyInit",
            value: function() {
                this.history.Adapter.bind(window, "statechange", this.historyListener.bind(this))
            }
        }, {
            key: "changeTab",
            value: function(e, t) {
                var n = this
                  , i = 1 < arguments.length && void 0 !== t && t;
                if (this.opts.resolutionExpand && this.opts.resolutionExpand.length && this.publish(this.opts.tabsChangeEventName, [e]),
                !this.opts.checkActivePanel || !this.$activeContentPanel || this.$activeContentPanel.data("tab") !== e.data("tab")) {
                    l.a.isFunction(this.opts.beforeChangeTab) && this.opts.beforeChangeTab.call(this, e),
                    this.$element.find(this.opts.containerSelector).removeClass(this.opts.fadeAnimationClass),
                    this.tabsExpand || (this.$triggers.removeClass(this.opts.expandTriggerClass),
                    this.$element.find(this.opts.triggerSelector + '[data-tab="' + e.data("tab") + '"]').addClass(this.opts.expandTriggerClass)),
                    this.$activeContentPanel = this.$element.find(this.opts.containerSelector + '[data-tab="' + e.data("tab") + '"]');
                    var r = e.data(this.opts.triggerElementEventName);
                    if (this.opts.urlListener && i) {
                        this.tabHistoryClick = !1,
                        this.urlParams[this.opts.urlParam] = e.data("tab");
                        var a = this.urlHelper.toUrl("", this.urlParams);
                        this.history.pushState({
                            urlParam: e.data("tab")
                        }, null, a),
                        this.tabHistoryClick = !0
                    }
                    if (this.tabsExpand || (this.$contentPanels.removeClass(this.opts.expandTriggerClass),
                    this.$activeContentPanel.addClass(this.opts.expandTriggerClass)),
                    !0 === this.opts.checkInsidePlugin && r)
                        var o = this.$activeContentPanel.find("[data-fplugin]")
                          , s = setInterval(function() {
                            var t = !0;
                            l.a.forEach(o, function(e) {
                                l.a.isUndefined(u()(e).data("id")) && (t = !1)
                            }),
                            t && (clearInterval(s),
                            n.opts.checkInsidePlugin = !1,
                            r && n.publish(r))
                        }, 100);
                    else
                        r && this.publish(r);
                    this.opts.fadeInContent && this.$activeContentPanel.addClass(this.opts.fadeAnimationClass),
                    this.opts.imitateAccordion && this.opts.imitateAccordion.length && -1 < this.opts.imitateAccordion.indexOf(this.actualResolution.getCurrent()) && this.$activeContentPanel.css("display", "none").slideDown(this.opts.accordionDuration),
                    l.a.isFunction(this.opts.afterChangeTab) && this.opts.afterChangeTab.call(this, e)
                }
            }
        }, {
            key: "historyListener",
            value: function() {
                if ("stopped" !== this.status) {
                    var e = this.history.getState();
                    if (this.tabHistoryClick)
                        if (this.urlParams = this.urlHelper.parseUrlParams(e.cleanUrl),
                        l.a.isUndefined(this.urlParams[this.opts.urlParam])) {
                            if (-1 !== this.opts.activeTab) {
                                var t = this.$triggers.get(this.opts.activeTab);
                                this.changeTab(u()(t), !1)
                            }
                        } else {
                            var n = this.$triggers.parent().find('[data-tab="' + this.urlParams[this.opts.urlParam] + '"]');
                            n.is("." + this.opts.expandTriggerClass) || this.changeTab(u()(n), !0)
                        }
                }
            }
        }, {
            key: "findAllTriggers",
            value: function() {
                this.$triggers = this.$element.find(this.opts.parentSelector + " " + this.opts.triggerSelector),
                this.$triggers.length || (this.$triggers = this.$element.find(this.opts.triggerSelector))
            }
        }, {
            key: "refreshTriggers",
            value: function() {
                "running" === this.status && (this.$triggers.off("click.".concat(this.pluginId)),
                this.findAllTriggers(),
                this.on(this.$triggers, "click", this.clickHandler))
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(0)
      , a = n.n(i)
      , r = n(1)
      , u = n.n(r)
      , o = n(3);
    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== s(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            var i = {
                triggerSelector: ".trigger",
                containerSelector: ".container-show",
                triggerTextSelector: ".trigger-text",
                triggerText: {
                    show: "open",
                    hide: "close"
                },
                changeText: !1,
                preventDefault: !0,
                duration: 400,
                expandTriggerClass: "active",
                parentSelector: ".expand-box",
                additionalCloseSelector: "",
                grouped: !1,
                groupedAnimation: "",
                idPrefix: "expand-cont",
                afterToggleCallback: u.a.noop,
                afterOpenCallback: u.a.noop,
                afterCloseCallback: u.a.noop,
                onStartCallback: u.a.noop,
                useThrottle: !1,
                throttleTime: ""
            };
            return t = u.a.merge({}, i, t),
            c(this, d(r).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, o["a"]),
        function(e, t, n) {
            t && l(e.prototype, t),
            n && l(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this),
                this.$triggers.off("click", this._clickHandler),
                this.$triggers.off("keypress", this._keypressHandler),
                this.manageAdditionalClose(!1)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.start()
            }
        }, {
            key: "init",
            value: function() {
                this.throttleTime = this.opts.useThrottle ? this.opts.throttleTime || this.opts.duration : 0,
                this.toggleState = null,
                this.$triggers = this.$element.find([this.opts.parentSelector, this.opts.triggerSelector].join(" ")),
                this.$triggerTexts = this.$element.find(this.opts.triggerTextSelector),
                this.$triggers.length || (this.$triggers = this.$element.find(this.opts.triggerSelector)),
                this.handlerClickClose = this.clickHandler,
                this.handlerKeypress = this.keyPressHandler,
                this._keypressHandler = this.handlerKeypress.bind(this),
                this.on(this.$triggers, "click", u.a.throttle(this.clickHandler.bind(this), this.throttleTime)),
                this.$triggers.on("keypress", this._keypressHandler),
                this.contentsTab = this.getContainers(),
                this.findAdditionalClose(),
                this.manageAdditionalClose(!0)
            }
        }, {
            key: "keyPressHandler",
            value: function(e) {
                13 === e.which && this.clickHandler(e)
            }
        }, {
            key: "clickHandler",
            value: function(e) {
                e && this.opts.preventDefault && e.preventDefault();
                var t = a()(e.currentTarget);
                this.toggleElement(t)
            }
        }, {
            key: "toggleElement",
            value: function(e, t) {
                var n = this
                  , i = this.getContainer(e)
                  , r = e.data("publish-event")
                  , a = e.data("publish-event-open")
                  , o = e.data("publish-event-close")
                  , s = i.find(this.opts.triggerSelector);
                if (!t || "none" === i.css("display")) {
                    i.attr("id", "temp-cont-".concat((new Date).getTime())),
                    e.attr("id", "temp-".concat(i.attr("id"))),
                    this.opts.grouped && this.hideAllContents(i, e),
                    e.attr("id", ""),
                    i.attr("id", "");
                    var l = i.is(":hidden");
                    this.toggleState = null === this.toggleState ? l : !this.toggleState,
                    i.slideToggle({
                        duration: this.opts.duration,
                        start: function() {
                            u.a.isFunction(n.opts.onStartCallback) && n.opts.onStartCallback.call(n, n.toggleState, e)
                        },
                        complete: function() {
                            r && n.publish(r, e),
                            u.a.isFunction(n.opts.afterToggleCallback) && n.opts.afterToggleCallback.bind(n)(e),
                            n.toggleState ? (a && n.publish(a, e),
                            u.a.isFunction(n.opts.afterOpenCallback) && n.opts.afterOpenCallback.bind(n)(e)) : (o && n.publish(o, e),
                            u.a.isFunction(n.opts.afterCloseCallback) && n.opts.afterCloseCallback.bind(n)(e))
                        }
                    }),
                    e.toggleClass(this.opts.expandTriggerClass),
                    this.opts.changeText && this.changeText(e),
                    r && this.publish(r, e),
                    s.toggleClass(this.opts.expandTriggerClass)
                }
            }
        }, {
            key: "changeText",
            value: function(e) {
                var n = e.hasClass(this.opts.expandTriggerClass) ? this.opts.triggerText.show : this.opts.triggerText.hide;
                a.a.each(this.$triggerTexts, function(e, t) {
                    a()(t).text(n)
                })
            }
        }, {
            key: "getContainer",
            value: function(e) {
                var t = e.parents(this.opts.parentSelector);
                return 0 === t.length && (t = this.$element),
                t.find(this.opts.containerSelector)
            }
        }, {
            key: "getContainers",
            value: function() {
                var n = this
                  , i = [];
                return a.a.each(this.$triggers, function(e, t) {
                    i.push(n.getContainer(a()(t)))
                }),
                i
            }
        }, {
            key: "manageAdditionalClose",
            value: function(e) {
                e && this.$close ? this.on(this.$close, "click", u.a.throttle(this.handlerClickClose.bind(this), this.throttleTime)) : this.$close && this.$close.off("click", this.handlerClickClose)
            }
        }, {
            key: "findAdditionalClose",
            value: function() {
                this.$close = null,
                this.opts.additionalCloseSelector && (this.$close = this.$element.find(this.opts.additionalCloseSelector))
            }
        }, {
            key: "hideAllContents",
            value: function(t, e) {
                var n = this;
                this.$triggers.filter("[id!=".concat(e.attr("id"), "]")).removeClass(this.opts.expandTriggerClass),
                u.a.forEach(this.contentsTab, function(e) {
                    if (t.attr("id") !== e.attr("id"))
                        switch (n.opts.groupedAnimation) {
                        case "hide":
                            e.hide(n.opts.duration);
                            break;
                        case "slideUp":
                            e.slideUp(n.opts.duration);
                            break;
                        default:
                            e.hide()
                        }
                })
            }
        }, {
            key: "toggle",
            value: function(e) {
                this.toggleElement(this.$triggers, e)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var i = n(1)
      , a = n.n(i)
      , r = n(0)
      , o = n.n(r)
      , s = n(3)
      , l = n(281);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function r(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            var i = {
                triggerSelector: ".fp-popup-trigger",
                popupSelector: ".fp-popup",
                popupBackground: ".fp-background",
                popupClass: "",
                coverClass: "fp-popup-cover",
                bodyClass: "",
                closeBtnSelector: ".fp-popup_close-btn",
                template: "plugins/templates/popup.html",
                beforeLoad: "",
                closeOnEvent: "",
                callback: "",
                afterCloseCallback: "",
                afterShowCallback: "",
                showOnStart: !1,
                showOnEvent: "",
                showClass: "",
                hideClass: "",
                onCoverClickExit: !0,
                recalculatePopupPosition: !1,
                recalculateOnEvent: "",
                imgWaitForLoadingClass: "wait-loading",
                tplData: "",
                headerSelector: ".fp-popup_header",
                footerSelector: ".fp-popup_footer",
                contentSelector: ".fp-popup_content",
                malihuScrollbar: {
                    malihuOpts: {
                        theme: "dark-thin"
                    }
                }
            };
            return i.malihuScrollbar.triggerSelector = i.contentSelector,
            a.a.has(t, "malihuScrollbar") && (a.a.has(t.malihuScrollbar, "malihuOpts") && a.a.defaults(t.malihuScrollbar.malihuOpts, i.malihuScrollbar.malihuOpts),
            a.a.defaults(t.malihuScrollbar, i.malihuScrollbar)),
            t = a.a.merge({}, i, t),
            h(this, p(r).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(r, s["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(r, [{
            key: "start",
            value: function() {
                d(p(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(r.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                d(p(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.triggers = this.$element.find(this.opts.triggerSelector),
                this.triggers.length || (this.triggers = this.$element),
                this.$body = o()("body"),
                this.$htmlBody = o()("html,body"),
                this.$document = o()(document),
                this.$window = o()(window),
                this.$activePopup = null,
                this.visible = !1,
                this.on(this.$window, "resize", this.resizeFix.bind(this)),
                this.on(this.triggers, "click", this.loadPopup.bind(this)),
                this.opts.showOnStart && this.loadPopup(),
                this.opts.showOnEvent && this.subscribe(this.opts.showOnEvent, this.loadPopup.bind(this)),
                this.opts.recalculateOnEvent && this.subscribe(this.opts.recalculateOnEvent, this.generatePopupPosition.bind(this))
            }
        }, {
            key: "showPopup",
            value: function(e) {
                if (this.disableScrollbar(),
                a.a.isUndefined(e))
                    a.a.isFunction(this.opts.callback) && this.opts.callback(this.$activePopup, null);
                else {
                    try {
                        e.preventDefault && e.preventDefault()
                    } catch (e) {}
                    var t = e.currentTarget;
                    a.a.isFunction(this.opts.callback) && this.opts.callback(this.$activePopup, t)
                }
                this.generatePopupPosition(),
                this.loadingImg(this.$activePopup),
                this.showCover(),
                this.renderPopup(),
                this.scrollbar = new l.a(this.$activePopup,this.opts.malihuScrollbar,this.resolutions),
                this.scrollbar.start()
            }
        }, {
            key: "renderPopup",
            value: function() {
                var e = this;
                a.a.isString(this.opts.showClass) && this.opts.showClass && this.$activePopup.addClass(this.opts.showClass).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                    o()(e).removeClass(e.opts.showClass)
                }),
                this.$activePopup.addClass("fp-visible"),
                !this.visible && a.a.isFunction(this.opts.afterShowCallback) && this.opts.afterShowCallback.call(this),
                this.visible = !0
            }
        }, {
            key: "loadingImg",
            value: function(e) {
                var i = this
                  , t = e.find("img." + this.opts.imgWaitForLoadingClass);
                t.length && o.a.each(t, function(e, t) {
                    var n = new Image;
                    i.on(n, "load", function() {
                        o()(t).addClass("fp-img-loaded"),
                        i.opts.recalculatePopupPosition && i.generatePopupPosition()
                    }),
                    i.on(n, "error", function() {
                        o()(t).addClass("fp-img-error")
                    }),
                    n.src = o()(t).attr("src")
                })
            }
        }, {
            key: "resizeFix",
            value: function() {
                this.$activePopup && "none" !== this.$activePopup.css("display") && this.generatePopupPosition()
            }
        }, {
            key: "loadPopup",
            value: function(t) {
                var n = this
                  , e = "";
                a.a.isUndefined(t) || (t.preventDefault(),
                e = o()(t.currentTarget).data("url-param") || ""),
                "function" == typeof this.opts.beforeLoad && this.opts.beforeLoad.bind(this)(t),
                o.a.ajax({
                    url: this.opts.template + e,
                    dataType: "html"
                }).done(function(e) {
                    n.copyPopup(t, e)
                })
            }
        }, {
            key: "copyPopup",
            value: function(e, t) {
                if (this.opts.tplData) {
                    a.a.templateSettings.variable = "tplData";
                    var n = a.a.template(t);
                    this.$body.append(n(this.opts.tplData))
                } else
                    this.$body.append(t);
                this.$activePopup = o()(this.opts.popupSelector),
                this.$activePopup.addClass(this.opts.popupClass),
                this.showPopup(e),
                this.bindCloseEvents()
            }
        }, {
            key: "generatePopupPosition",
            value: function() {
                if (this.$activePopup) {
                    var e = window.innerHeight || this.$window.height()
                      , t = this.$activePopup.find(this.opts.malihuScrollbar.triggerSelector)
                      , n = this.$activePopup.find(this.opts.headerSelector).outerHeight(!0)
                      , i = this.$activePopup.find(this.opts.footerSelector).outerHeight(!0);
                    this.$activePopup.removeAttr("style"),
                    t.removeAttr("style");
                    var r = this.$activePopup.css("max-height");
                    r = "%" === r.split("")[r.length - 1] ? parseFloat(this.$activePopup.css("max-height")) / 100 * e : parseFloat(this.$activePopup.css("max-height"));
                    var a = t.outerHeight(!0) - t.outerHeight()
                      , o = parseInt(r - n - i, 10);
                    t.outerHeight(!0) > o && t.css({
                        height: o - a + "px",
                        "box-sizing": "border-box"
                    })
                }
            }
        }, {
            key: "hidePopup",
            value: function(e) {
                var t = this;
                a.a.isUndefined(e) && e.preventDefault && e.preventDefault(),
                a.a.isFunction(this.opts.afterCloseCallback) && this.opts.afterCloseCallback.call(this),
                a.a.isString(this.opts.hideClass) && this.opts.hideClass ? this.$activePopup.addClass(this.opts.hideClass).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                    t.removePopup()
                }) : this.removePopup()
            }
        }, {
            key: "removePopup",
            value: function() {
                this.$activePopup && this.$activePopup.closest(this.opts.popupBackground).remove(),
                this.visible = !1,
                this.$activePopup = null,
                this.$body.removeClass(this.opts.bodyClass),
                this.removeCover(),
                this.enableScrollbar(),
                this.scrollbar.stop(),
                this.unbindCloseEvents()
            }
        }, {
            key: "showCover",
            value: function() {
                this.$body.append('<div class="' + this.opts.coverClass + '">&nbsp;</div>'),
                this.$body.addClass(this.opts.bodyClass),
                this._cover = this.$body.find("." + this.opts.coverClass),
                this.opts.onCoverClickExit && this.on(this._cover, "click", this.hidePopup.bind(this))
            }
        }, {
            key: "removeCover",
            value: function() {
                this._cover.remove()
            }
        }, {
            key: "disableScrollbar",
            value: function() {
                this.bodyScrollTop = this.$document.scrollTop(),
                this.$body.addClass("no-scrollbar")
            }
        }, {
            key: "enableScrollbar",
            value: function() {
                this.$body.removeClass("no-scrollbar"),
                this.$htmlBody.animate({
                    scrollTop: this.bodyScrollTop
                }, 0),
                this.$htmlBody.removeClass("no-scrollbar")
            }
        }, {
            key: "bindCloseEvents",
            value: function() {
                var t = this
                  , e = this.$activePopup.find(this.opts.closeBtnSelector);
                this.on(e, "click", this.hidePopup.bind(this)),
                this.on(this.$document, "keydown", function(e) {
                    27 === e.keyCode && t.hidePopup(e)
                }),
                this.opts.closeOnEvent && this.subscribe(this.opts.closeOnEvent, this.hidePopup.bind(this))
            }
        }, {
            key: "unbindCloseEvents",
            value: function() {
                this.$document.off(".".concat(this.pluginId))
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(1)
      , a = n.n(i)
      , r = n(0)
      , o = n.n(r)
      , s = (n(228),
    n(561),
    n(3));
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            var i = {
                triggerSelector: ".custom-scrollbar",
                disableClasses: "cssscrollbar",
                malihuOpts: {
                    scrollButtons: {
                        enable: !0,
                        scrollType: "stepped"
                    },
                    keyboard: {
                        scrollType: "stepped"
                    },
                    mouseWheel: {
                        enable: !0,
                        preventDefault: !0,
                        scrollAmount: "auto",
                        normalizeDelta: !0
                    }
                }
            };
            return a.a.has(t, "malihuOpts") && a.a.merge(t.malihuOpts, i.malihuOpts),
            a.a.defaults(t, i),
            c(this, d(r).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, s["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this),
                this.scrollDestroy()
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.disableScrollbar = !1,
                this.checkDisableClasses(),
                this.scrollStart()
            }
        }, {
            key: "checkDisableClasses",
            value: function() {
                if (this.opts.disableClasses)
                    for (var e = this.opts.disableClasses.split(" "), t = 0; t < e.length; t++)
                        o()("html").hasClass(e[t]) && (this.disableScrollbar = !0)
            }
        }, {
            key: "scrollStart",
            value: function() {
                this.disableScrollbar || (this.$trigger = this.$element.find(this.opts.triggerSelector),
                this.$trigger.mCustomScrollbar(this.opts.malihuOpts))
            }
        }, {
            key: "scrollDestroy",
            value: function() {
                this.disableScrollbar || this.$trigger.mCustomScrollbar("destroy")
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return y
    });
    var i = n(0)
      , a = n.n(i)
      , r = n(1)
      , o = n.n(r)
      , s = n(3)
      , l = n(24)
      , u = n(70)
      , c = n(71)
      , h = n(73);
    function d(e) {
        return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function p(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function f(e, t) {
        return !t || "object" !== d(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function m(e, t, n) {
        return (m = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = g(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function g(e) {
        return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function v(e, t) {
        return (v = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var y = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = o.a.merge({}, {
                selectors: {
                    mapContainer: ".map-wrapper",
                    locationsContainer: ".locations-list-container",
                    locationTrigger: ".location-trigger",
                    locationDetails: ".location-details",
                    locationInput: ".location-input",
                    suggestionsContainer: ".suggestions-container",
                    suggestionsSelect: "select",
                    geolocateBtn: ".geolocate-button",
                    searchBtn: ".search-button",
                    validation: {
                        formContainer: "",
                        validationPluginContainer: ""
                    }
                },
                classes: {
                    inProgress: "in-progress",
                    suggestionsActive: ""
                },
                hideSuggestionsWhenLocationsExist: !1,
                inputCurrentLocationText: "Current location",
                responseLocationsKey: "locations",
                responseSuggestionsKey: "suggestions",
                addressQueryKey: "postcode",
                locationQueryKey: "geolocation",
                showGeolocationPin: !0,
                zoomToGeolocationPin: !0,
                zoomToGeolocationPinLevel: 15,
                clickToViewOnMap: !0,
                locationIdKey: "id",
                locationIdDataKey: "location-id",
                scrollToMap: !0,
                scrollToMapDuration: 1e3,
                showLocationDetails: !0,
                dataTransformationCallback: "",
                additionalRequestField: !1,
                validation: {
                    validateForm: !1,
                    validationOpts: {},
                    customValidators: {}
                },
                templates: {
                    locationDetails: "assets/templates/infowindow.html",
                    suggestionSelector: "assets/templates/suggestions.html"
                },
                events: {
                    onBeforeRenderEvent: "",
                    onDataPreparedEvent: ""
                },
                mapPlugin: {
                    selectors: {
                        mapContainer: ".map-container"
                    },
                    map: {
                        settings: {
                            zoom: 12,
                            zoomControl: !0
                        }
                    },
                    clusterMarkers: !0,
                    onMarkerClickEvent: "locator-plugin/marker-clicked"
                },
                ajaxPlugin: {
                    url: "assets/json/result.locations.json",
                    method: "get",
                    dataType: "json",
                    template: "assets/templates/ajax-list.html",
                    listContainer: ".item-list",
                    insertionType: "insert",
                    params: {
                        PageSize: 10,
                        PageIndex: 0
                    },
                    onPageLoadedEvent: "locator-plugin/page-rendered"
                }
            }, t),
            f(this, g(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && v(e, t)
        }(i, s["a"]),
        function(e, t, n) {
            t && p(e.prototype, t),
            n && p(e, n)
        }(i, [{
            key: "start",
            value: function() {
                m(g(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                m(g(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                m(g(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.$map = this.$element.find(this.opts.selectors.mapContainer),
                this.$suggestionsContainer = this.$element.find(this.opts.selectors.suggestionsContainer),
                this.$locationInput = this.$element.find(this.opts.selectors.locationInput),
                this.$searchBtn = this.$element.find(this.opts.selectors.searchBtn),
                this.$geolocateBtn = this.$element.find(this.opts.selectors.geolocateBtn),
                this.$locationsList = this.$element.find(this.opts.selectors.locationsContainer),
                this.$locationsDetails = this.$element.find(this.opts.selectors.locationDetails),
                this.googleMaps = new u.a(this.$map,this.opts.mapPlugin),
                this.googleMaps.init(),
                o.a.isNil(this.opts.ajaxPlugin.onDataLoaded) && (this.opts.ajaxPlugin.onDataLoaded = this.onDataLoadedHandler.bind(this)),
                this.ajaxList = new l.a(this.$locationsList,this.opts.ajaxPlugin),
                this.opts.clickToViewOnMap && this.opts.ajaxPlugin.onPageLoadedEvent && this.subscribe(this.opts.ajaxPlugin.onPageLoadedEvent, function(e, t) {
                    n.bindLocationTriggersEvents(t)
                }),
                this.opts.templates.suggestionSelector && this.$suggestionsContainer.length && (this.suggestionsTplPromise = h.a.getTemplatePromise(this.opts.templates.suggestionSelector)),
                this.opts.showLocationDetails && this.opts.templates.locationDetails && this.$locationsDetails.length && (this.locationDetailsTplPromise = h.a.getTemplatePromise(this.opts.templates.locationDetails),
                this.subscribe(this.opts.mapPlugin.onMarkerClickEvent, function(e, t) {
                    n.showLocationDetails(t)
                })),
                this.bindViewEvents(),
                this.opts.validation.validateForm && this.opts.selectors.validation.formContainer && this.opts.selectors.validation.validationPluginContainer && (this.$validationPluginContainer = this.$element.find(this.opts.selectors.validation.validationPluginContainer),
                this.validationPlugin = new c.a(this.$validationPluginContainer,{
                    formSelector: this.opts.selectors.validation.formContainer,
                    validationOpts: this.opts.validation.validationOpts,
                    customValidators: this.opts.validation.customValidators
                }),
                this.validationPlugin.start())
            }
        }, {
            key: "bindViewEvents",
            value: function() {
                this.on(this.$searchBtn, "click", this.fetchData.bind(this)),
                this.on(this.$geolocateBtn, "click", this.getGeolocation.bind(this)),
                this.on(this.$locationInput, "keyup", this.handleKeyUpEvent.bind(this))
            }
        }, {
            key: "setComponentBusyState",
            value: function(t) {
                function e(e) {
                    e.is(":button") && e.prop("disabled", t)
                }
                this.$element.toggleClass(this.opts.classes.inProgress),
                e(this.$searchBtn),
                e(this.$geolocateBtn)
            }
        }, {
            key: "fetchData",
            value: function(e) {
                if (!this.opts.validation.validateForm || !this.validationPlugin.$form.length || this.validationPlugin.$form.valid()) {
                    this.setComponentBusyState(!0),
                    e && o.a.isFunction(e.preventDefault) && e.preventDefault();
                    var t = this.ajaxList.opts.params
                      , n = this.usingCurrentLocation ? "".concat(this.geolocation.lat, ";").concat(this.geolocation.lng) : "";
                    t[this.opts.addressQueryKey] = this.$locationInput.val().replace(/^\s+|\s+$/g, ""),
                    t[this.opts.locationQueryKey] = n,
                    this.opts.additionalRequestField && (t[this.opts.additionalRequestField] = this.$locationInput.data(this.opts.additionalRequestField)),
                    this.ajaxList.loadData()
                }
            }
        }, {
            key: "onDataLoadedHandler",
            value: function() {
                this.setComponentBusyState(!1),
                this.googleMaps.clearMarkers(),
                this.googleMaps.setGeolocationLatLng(),
                o.a.isFunction(this.opts.dataTransformationCallback) && this.opts.dataTransformationCallback.call(this);
                var e = this.ajaxList.items;
                return this.opts.events.onDataPreparedEvent && this.publish(this.opts.events.onDataPreparedEvent, this),
                !o.a.isNil(e) && (this.opts.events.onBeforeRenderEvent && this.publish(this.opts.events.onBeforeRenderEvent, this),
                this.handleSuggestionsReceived(e[this.opts.responseSuggestionsKey]),
                this.handleLocationsReceived(e[this.opts.responseLocationsKey]),
                !0)
            }
        }, {
            key: "handleSuggestionsReceived",
            value: function(n) {
                var i = this;
                return o.a.isNil(n) || 0 === n.length ? (this.$suggestionsContainer.html(""),
                this.$suggestionsContainer.removeClass(this.opts.classes.suggestionsActive),
                !1) : (this.suggestionsTplPromise.then(function(e) {
                    var t = e({
                        items: n
                    });
                    i.$suggestionsContainer.html(t),
                    i.$suggestionsContainer.addClass(i.opts.classes.suggestionsActive),
                    i.bindSuggestionsSelectorEvents()
                }),
                !0)
            }
        }, {
            key: "bindSuggestionsSelectorEvents",
            value: function() {
                var t = this
                  , e = this.$suggestionsContainer.find(this.opts.selectors.suggestionsSelect);
                this.on(e, "change", function(e) {
                    t.$locationInput.val(a()(e.target).val()),
                    t.$searchBtn.click(),
                    t.$suggestionsContainer.html(""),
                    t.$suggestionsContainer.removeClass(t.opts.classes.suggestionsActive)
                })
            }
        }, {
            key: "handleLocationsReceived",
            value: function(e) {
                var n = this;
                return !o.a.isNil(e) && 0 !== e.length && (this.opts.hideSuggestionsWhenLocationsExist && (this.$suggestionsContainer.html(""),
                this.$suggestionsContainer.removeClass(this.opts.classes.suggestionsActive)),
                this.googleMaps.createMarkers(e).then(function() {
                    var e = n.googleMaps.getMapMarkers();
                    if (n.usingCurrentLocation && n.opts.showGeolocationPin) {
                        var t = n.googleMaps.setGeolocationLatLng(n.geolocation.lat, n.geolocation.lng, !0);
                        n.opts.zoomToGeolocationPin ? n.googleMaps.zoomOnMarker(t, n.opts.zoomToGeolocationPinLevel) : (e.push(t),
                        n.googleMaps.extendMapBounds(e)),
                        n.usingCurrentLocation = !1,
                        n.geolocation = null
                    } else
                        n.googleMaps.extendMapBounds(e)
                }),
                !0)
            }
        }, {
            key: "bindLocationTriggersEvents",
            value: function(e) {
                var t = e.find(this.opts.selectors.locationTrigger);
                t.length && this.on(t, "click", this.onShowLocationOnMap.bind(this))
            }
        }, {
            key: "onShowLocationOnMap",
            value: function(e) {
                var t = this;
                e && o.a.isFunction(e.preventDefault) && e.preventDefault();
                var n = a()(e.target)
                  , i = n.data(this.opts.locationIdDataKey);
                o.a.isUndefined(i) && (n = n.parents("[data-".concat(this.opts.locationIdDataKey, "]"))).length && (i = n.data(this.opts.locationIdDataKey));
                var r = o.a.find(this.googleMaps.getMapMarkers(), function(e) {
                    return e.__location[t.opts.locationIdKey] === i
                });
                r && (this.googleMaps.showMarkerOnMap(r),
                this.opts.scrollToMap && this.scrollToElement(this.$map))
            }
        }, {
            key: "scrollToElement",
            value: function(e, t) {
                var n = 1 < arguments.length && void 0 !== t ? t : this.opts.scrollToMapDuration;
                o.a.isUndefined(this.$doc) && (this.$doc = a()("html, body")),
                this.$doc.animate({
                    scrollTop: e.offset().top
                }, n)
            }
        }, {
            key: "showLocationDetails",
            value: function(t) {
                var n = this;
                this.locationDetailsTplPromise.then(function(e) {
                    n.$locationsDetails.html(e(t.__location))
                })
            }
        }, {
            key: "handleKeyUpEvent",
            value: function(e) {
                13 === e.keyCode && this.$searchBtn.click()
            }
        }, {
            key: "getGeolocation",
            value: function() {
                "geolocation"in navigator ? (this.setComponentBusyState(!0),
                navigator.geolocation.getCurrentPosition(this.handleGeolocationSuccess.bind(this), this.handleGeolocationFailure.bind(this))) : this.handleGeolocationFailure(!1)
            }
        }, {
            key: "handleGeolocationSuccess",
            value: function(e) {
                this.$locationInput.val(this.opts.inputCurrentLocationText),
                this.usingCurrentLocation = !0,
                this.geolocation = {
                    lat: e.coords.latitude,
                    lng: e.coords.longitude
                },
                this.fetchData(),
                this.setComponentBusyState(!1)
            }
        }, {
            key: "handleGeolocationFailure",
            value: function(e) {
                var t = !(0 < arguments.length && void 0 !== e) || e;
                throw this.setComponentBusyState(!1),
                new Error(t ? "Error: The Geolocation service failed." : "Error: Your browser doesn't support geolocation.")
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(0)
      , a = n.n(i)
      , r = n(1)
      , o = n.n(r)
      , s = n(3);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = o.a.merge({}, {
                triggerSelector: ".trigger",
                eventName: "click",
                target: "top",
                duration: 500,
                animation: "swing",
                offsetTop: 0,
                afterScrollCallback: ""
            }, t),
            (i = c(this, d(r).call(this, e, t, n))).$animateTarget = a()("html, body"),
            i.$document = a()(document),
            i.$window = a()(window),
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, s["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this),
                "auto" !== this.opts.eventName && this.$triggers.off(this.opts.eventName, this._boundEventHandler)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.start()
            }
        }, {
            key: "init",
            value: function() {
                this.$triggers = this.$element.find(this.opts.triggerSelector),
                0 === this.$triggers.length && (this.$triggers = this.$element),
                this._boundEventHandler = this.eventHandler.bind(this),
                "auto" === this.opts.eventName ? this._boundEventHandler() : "auto-trigger" !== this.opts.eventName && this.$triggers.on(this.opts.eventName, this._boundEventHandler)
            }
        }, {
            key: "scrollPageTo",
            value: function(e) {
                var t = this;
                this.$animateTarget.animate({
                    scrollTop: e
                }, this.opts.duration, this.opts.animation, function() {
                    o.a.isFunction(t.opts.afterScrollCallback) && t.opts.afterScrollCallback()
                })
            }
        }, {
            key: "eventHandler",
            value: function(e) {
                var t;
                switch (e && e.preventDefault(),
                this.opts.target) {
                case "top":
                    t = 0;
                    break;
                case "bottom":
                    t = this.$document.height() - this.$window.height();
                    break;
                default:
                    this.$scrollToTarget || (this.$scrollToTarget = a()(this.opts.target)),
                    t = this.$scrollToTarget.last().offset().top
                }
                t -= this.opts.offsetTop,
                this.scrollPageTo(t)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(0)
      , r = n.n(i)
      , a = n(1)
      , o = n.n(a)
      , s = n(3);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = o.a.merge({}, {
                triggerElement: ".trigger-element",
                jqEventName: "click",
                customEventName: "custom-event",
                paramsAttribute: "val",
                onLoad: "",
                beforePublish: null,
                initializeOnEvent: ""
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, s["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this),
                this.removeListeners()
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, this.setupListeners) : this.setupListeners()
            }
        }, {
            key: "setupListeners",
            value: function() {
                this.$triggerElement = this.$element.find(this.opts.triggerElement),
                0 === this.$triggerElement.length && (this.$triggerElement = this.$element),
                this._boundEventHandler = this.onEvent.bind(this),
                this.$triggerElement.on(this.opts.jqEventName, this._boundEventHandler),
                o.a.isFunction(this.opts.onLoad) && this.opts.onLoad.call(this)
            }
        }, {
            key: "onEvent",
            value: function(e) {
                var t, n = this, i = r()(e.currentTarget);
                "value" === this.opts.paramsAttribute ? t = i.val() : i.attr(this.opts.paramsAttribute) && (t = i.attr(this.opts.paramsAttribute)),
                o.a.isFunction(this.opts.beforePublish) && this.opts.beforePublish.call(this, e),
                this.opts.customEventName && (o.a.isString(this.opts.customEventName) ? this.publish(this.opts.customEventName, t) : o.a.forEach(this.opts.customEventName, function(e) {
                    n.publish(e, t)
                }))
            }
        }, {
            key: "removeListeners",
            value: function() {
                this.$triggerElement.off(this.opts.jqEventName, this._boundEventHandler)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return l
    });
    var i = n(1)
      , s = n.n(i)
      , r = n(286)
      , a = n.n(r);
    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var l = function() {
        function n(e) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, n);
            this.opts = s.a.merge({}, {
                showLog: !1,
                showDate: !0,
                showTime: !0,
                dateFormat: "dd-mm-yyyy",
                timeFormat: "HH:MM:ss:l",
                localStorageKey: "debug",
                localStorageValue: "on",
                css: {
                    log: "color: blue; font-weight: bold;",
                    error: "color: red; font-weight: bold;",
                    warn: "color: darkorange; font-weight: bold;",
                    info: "color: darkblue; font-weight: bold;"
                }
            }, e),
            this.opts.showLog = this._localStorageForceLogs();
            var t = this.opts.css;
            window.console ? (this.log = this._bindConsole(window.console, "log", t.log),
            this.error = this._bindConsole(window.console, "error", t.error),
            this.warn = this._bindConsole(window.console, "warn", t.warn),
            this.info = this._bindConsole(window.console, "info", t.info)) : (this.log = s.a.noop,
            this.error = s.a.noop,
            this.warn = s.a.noop,
            this.info = s.a.noop)
        }
        return function(e, t, n) {
            t && o(e.prototype, t),
            n && o(e, n)
        }(n, [{
            key: "_bindConsole",
            value: function(i, r, a) {
                if (!this.opts.showLog)
                    return s.a.noop;
                var o = this;
                return function() {
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                        t[n] = arguments[n];
                    i[r]("%c[".concat(r.toUpperCase(), "]").concat(o._now()), a, t)
                }
            }
        }, {
            key: "_now",
            value: function() {
                var e = [];
                !0 === this.opts.showDate && e.push(this.opts.dateFormat),
                !0 === this.opts.showTime && e.push(this.opts.timeFormat);
                var t = e.join(" ").trim();
                return 0 === t.length ? "" : " [".concat(a()(new Date, t), "]")
            }
        }, {
            key: "_localStorageForceLogs",
            value: function() {
                try {
                    if (!this.opts.showLog)
                        return window.localStorage.getItem(this.opts.localStorageKey) === this.opts.localStorageValue
                } catch (e) {}
                return this.opts.showLog
            }
        }]),
        n
    }()
}
, function(e, t, n) {
    var i;
    !function() {
        "use strict";
        var y, b, _, w = (y = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,
        b = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
        _ = /[^-+\dA-Z]/g,
        function(e, t, n, i) {
            if (1 !== arguments.length || "string" !== function(e) {
                return null === e ? "null" : void 0 === e ? "undefined" : "object" != typeof e ? typeof e : Array.isArray(e) ? "array" : {}.toString.call(e).slice(8, -1).toLowerCase()
            }(e) || /\d/.test(e) || (t = e,
            e = void 0),
            (e = e || new Date)instanceof Date || (e = new Date(e)),
            isNaN(e))
                throw TypeError("Invalid date");
            var r = (t = String(w.masks[t] || t || w.masks.default)).slice(0, 4);
            "UTC:" !== r && "GMT:" !== r || (t = t.slice(4),
            n = !0,
            "GMT:" === r && (i = !0));
            var a = n ? "getUTC" : "get"
              , o = e[a + "Date"]()
              , s = e[a + "Day"]()
              , l = e[a + "Month"]()
              , u = e[a + "FullYear"]()
              , c = e[a + "Hours"]()
              , h = e[a + "Minutes"]()
              , d = e[a + "Seconds"]()
              , p = e[a + "Milliseconds"]()
              , f = n ? 0 : e.getTimezoneOffset()
              , m = function(e) {
                var t = new Date(e.getFullYear(),e.getMonth(),e.getDate());
                t.setDate(t.getDate() - (t.getDay() + 6) % 7 + 3);
                var n = new Date(t.getFullYear(),0,4);
                n.setDate(n.getDate() - (n.getDay() + 6) % 7 + 3);
                var i = t.getTimezoneOffset() - n.getTimezoneOffset();
                t.setHours(t.getHours() - i);
                var r = (t - n) / 6048e5;
                return 1 + Math.floor(r)
            }(e)
              , g = function(e) {
                var t = e.getDay();
                return 0 === t && (t = 7),
                t
            }(e)
              , v = {
                d: o,
                dd: x(o),
                ddd: w.i18n.dayNames[s],
                dddd: w.i18n.dayNames[s + 7],
                m: l + 1,
                mm: x(l + 1),
                mmm: w.i18n.monthNames[l],
                mmmm: w.i18n.monthNames[l + 12],
                yy: String(u).slice(2),
                yyyy: u,
                h: c % 12 || 12,
                hh: x(c % 12 || 12),
                H: c,
                HH: x(c),
                M: h,
                MM: x(h),
                s: d,
                ss: x(d),
                l: x(p, 3),
                L: x(Math.round(p / 10)),
                t: c < 12 ? w.i18n.timeNames[0] : w.i18n.timeNames[1],
                tt: c < 12 ? w.i18n.timeNames[2] : w.i18n.timeNames[3],
                T: c < 12 ? w.i18n.timeNames[4] : w.i18n.timeNames[5],
                TT: c < 12 ? w.i18n.timeNames[6] : w.i18n.timeNames[7],
                Z: i ? "GMT" : n ? "UTC" : (String(e).match(b) || [""]).pop().replace(_, ""),
                o: (0 < f ? "-" : "+") + x(100 * Math.floor(Math.abs(f) / 60) + Math.abs(f) % 60, 4),
                S: ["th", "st", "nd", "rd"][3 < o % 10 ? 0 : (o % 100 - o % 10 != 10) * o % 10],
                W: m,
                N: g
            };
            return t.replace(y, function(e) {
                return e in v ? v[e] : e.slice(1, e.length - 1)
            })
        }
        );
        function x(e, t) {
            for (e = String(e),
            t = t || 2; e.length < t; )
                e = "0" + e;
            return e
        }
        w.masks = {
            default: "ddd mmm dd yyyy HH:MM:ss",
            shortDate: "m/d/yy",
            mediumDate: "mmm d, yyyy",
            longDate: "mmmm d, yyyy",
            fullDate: "dddd, mmmm d, yyyy",
            shortTime: "h:MM TT",
            mediumTime: "h:MM:ss TT",
            longTime: "h:MM:ss TT Z",
            isoDate: "yyyy-mm-dd",
            isoTime: "HH:MM:ss",
            isoDateTime: "yyyy-mm-dd'T'HH:MM:sso",
            isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",
            expiresHeaderFormat: "ddd, dd mmm yyyy HH:MM:ss Z"
        },
        w.i18n = {
            dayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            timeNames: ["a", "p", "am", "pm", "A", "P", "AM", "PM"]
        },
        void 0 === (i = function() {
            return w
        }
        .call(t, n, t, e)) || (e.exports = i)
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(0)
      , a = n.n(i)
      , o = n(1)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = s.a.merge({}, {
                fixClass: "is-fixed",
                fixClassOffsetTop: 0,
                beforeFixClassElem: "otherFixedUpperDivClass",
                linksClass: "anchor-link",
                eventName: "scroll",
                debounceTime: 10
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$window = a()(window),
                this.setInitOffset(),
                this.boundDebouncedEventHandler = s.a.debounce(this.eventHandler.bind(this), this.opts.debounceTime),
                this.boundDebouncedResizeHandler = s.a.debounce(this.setInitOffset.bind(this), this.opts.debounceTime),
                this.on(this.$window, this.opts.eventName, this.boundDebouncedEventHandler),
                this.on(this.$window, "resize", this.boundDebouncedResizeHandler)
            }
        }, {
            key: "eventHandler",
            value: function() {
                this.$elementOffsetTop = this.$element.offset().top,
                this.$windowOffsetTop = this.$window.scrollTop() + this.offsetTop,
                this.$windowOffsetTop > this.$elementOffsetTop && this.hasFixClass(),
                this.$windowOffsetTop < this.$elementOffsetTopOnInit && this.hasFixClass() && this.removeFixClass()
            }
        }, {
            key: "setInitOffset",
            value: function() {
                this.$elementOffsetTopOnInit = this.$element.offset().top,
                this.$body = a()("body"),
                this.$beforeFixClassElem = this.$body.find("." + this.opts.beforeFixClassElem),
                this.offsetTop = this.opts.fixClassOffsetTop,
                this.$beforeFixClassElem.length && (this.offsetTop += this.$beforeFixClassElem.height())
            }
        }, {
            key: "hasFixClass",
            value: function() {
                return this.$element.hasClass(this.opts.fixClass)
            }
        }, {
            key: "addFixClass",
            value: function() {
                this.$element.addClass(this.opts.fixClass),
                this.$element.css({
                    top: this.offsetTop + "px"
                }),
                this.$element.find("." + this.opts.linksClass).addClass(this.opts.fixClass)
            }
        }, {
            key: "removeFixClass",
            value: function() {
                this.$element.removeClass(this.opts.fixClass),
                this.$element.css({
                    top: ""
                }),
                this.$element.find("." + this.opts.linksClass).removeClass(this.opts.fixClass)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(0)
      , o = n.n(i);
    t.a = {
        onLoad: function() {
            var n = this
              , t = this.plugin.$element.data("main-plugin-id")
              , i = this.plugin.$element.find(".eq-spec-select").get(0)
              , r = this.plugin.$element.find(".show-spec-btn")
              , e = {
                event: this.plugin.$element.data("gtm-event"),
                eventCategory: this.plugin.$element.data("gtm-event-category"),
                eventAction: "Click",
                eventLabel: "Responsive_Accordion_Group"
            }
              , a = this.plugin.$element.find(".accordeonC154-item");
            this.plugin.on(a, "click", function() {
                n.plugin.publish("car-specification/specification-tagging", e)
            }),
            this.plugin.on(r, "click", function() {
                var e = n.plugin.$element.find(".first-as-first").closest(".expand-content_row")
                  , t = e.closest(".accordeonC154-item");
                e.each(function() {
                    !this.querySelector(".second-as-first") && this.querySelector(".different-as-first") || (o()(this).toggle(0, function() {
                        o()(this).toggleClass("is-visible")
                    }),
                    o()(this).toggleClass("all-the-same"))
                }),
                t.each(function() {
                    o()(this).find(".expand-content_row").length === o()(this).find(".all-the-same").length ? o()(this).hide() : o()(this).show()
                }),
                function(e, t) {
                    var n = t.value
                      , i = e.data("content");
                    "show" === e.data("flag") ? (e.text(i[n].diff),
                    e.data("flag", "diff")) : (e.text(i[n].show),
                    e.data("flag", "show"))
                }(r, i),
                n.plugin.publish("car-specification/specification-tagging", r.data("gtm"))
            }),
            r.trigger("click"),
            this.plugin.on(i, "change", function(e) {
                n.plugin.publish("car-specification/specification-tagging", JSON.parse(i.getAttribute("data-gtm"))),
                n.plugin.publish("custom-event-focus-opts/changeEqOrSpec-" + t, e.target.value)
            })
        }
    }
}
, function(n, e, t) {
    (function(e) {
        var t;
        t = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {},
        n.exports = t
    }
    ).call(this, t(52))
}
, function(e, t, n) {
    var i = n(233);
    t.DOMImplementation = i.DOMImplementation,
    t.XMLSerializer = i.XMLSerializer,
    t.DOMParser = n(584).DOMParser
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var r = n(3)
      , a = n(24)
      , i = n(0)
      , o = n.n(i)
      , s = n(1)
      , c = n.n(s);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = c.a.merge({}, {
                openedExpand: !1,
                dataLayer: {
                    event: "vehicleCompare",
                    businessType: "newCar",
                    pageCat: "",
                    carCode: "",
                    carLabel: "",
                    vehicleVersionCompare: []
                },
                selectedVersionArray: [],
                gtm: {
                    event: "gaEvent",
                    eventCategory: "Compare Page",
                    tags: {}
                },
                ajaxContentOpts: {
                    url: "",
                    method: "get",
                    dataType: "json",
                    contentType: "application/x-www-form-urlencoded",
                    cache: !1,
                    template: "/templates/cars.html",
                    listContainer: ".compare-header",
                    insertionType: "insert",
                    params: {},
                    tplParams: [],
                    grabParamsFromQueryString: "true",
                    totalParamName: "CarCount",
                    initializeOnEvent: !1,
                    onDataLoaded: "",
                    beforeLoadData: "",
                    onPageLoaded: "",
                    onPageLoadedEvent: "",
                    pageChangedEventName: "ajax-list/page-changed"
                },
                ajaxContentCompareOpts: {
                    url: "",
                    method: "get",
                    dataType: "json",
                    contentType: "application/x-www-form-urlencoded",
                    cache: !1,
                    template: "/templates/compare-cars.html",
                    listContainer: ".compare-container",
                    insertionType: "insert",
                    params: {},
                    tplParams: [],
                    grabParamsFromQueryString: "true",
                    totalParamName: "CarCount",
                    initializeOnEvent: !1,
                    onDataLoaded: "",
                    beforeLoadData: "",
                    onPageLoaded: "",
                    onPageLoadedEvent: "",
                    pageChangedEventName: "ajax-list/page-changed"
                },
                editorialComparisonListSelector: ".editorial-comparison-list"
            }, t),
            h(this, p(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                d(p(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(i.prototype), "stop", this).call(this),
                window.Makolab.PluginManager.removePlugins(self.$element.find(self.opts.editorialComparisonListSelector), !0)
            }
        }, {
            key: "resume",
            value: function() {
                d(p(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                window.dataLayer = window.dataLayer || [];
                var t = this;
                this.opts.ajaxContentCompareOpts.onPageLoadedEvent = "cars-loaded-" + this.pluginId,
                this.opts.ajaxContentCompareOpts.onPageLoaded = function() {
                    e.setPriceBlockHeight(),
                    e.on(o()(window), "resize", c.a.debounce(e.manageSetHeightPrice.bind(e), 200)),
                    window.Makolab.PluginManager.pluginLoader.initPlugins(t.$element.find(t.opts.editorialComparisonListSelector), !0)
                }
                ,
                this.ajaxList = new a.a(this.$element,this.opts.ajaxContentOpts),
                this.ajaxList.init(),
                this.ajaxCompare = new a.a(this.$element,this.opts.ajaxContentCompareOpts),
                this.initEvents(),
                this.ajaxCompare.items = this.ajaxList.items;
                var n = this.ajaxCompare.items.car;
                if (this.ajaxCompare.items.eqOrSpec = "equipment",
                this.defaultVersionID = n.equipment.defaultVersionID || void 0,
                c.a.isUndefined(this.defaultVersionID))
                    if (0 < n.equipment.versions.length)
                        this.defaultVersionID = n.equipment.versions[0].id,
                        this.ajaxCompare.items.eqOrSpec = "equipment";
                    else {
                        if (!(0 < n.specifications.versions.length))
                            return;
                        this.defaultVersionID = n.specifications.versions[0].id,
                        this.ajaxCompare.items.eqOrSpec = "specifications"
                    }
                this.ajaxCompare.items.selectedCarsId = [],
                this.ajaxCompare.items.selectedCarsId.push(this.defaultVersionID),
                this.ajaxCompare.items.openedAccordionItemsArr = {
                    equipment: [],
                    specifications: []
                },
                this.ajaxCompare.items.accordionFirstBarOpened = {},
                this.ajaxCompare.items.accordionFirstBarOpened.equipment = !1,
                this.ajaxCompare.items.accordionFirstBarOpened.specifications = !1,
                this.ajaxCompare.items.pluginId = this.pluginId,
                this.ajaxCompare.items.expandOpened = 1 === n[this.ajaxCompare.items.eqOrSpec].versions.length || this.opts.openedExpand,
                this.ajaxCompare.items.gtm = this.opts.gtm,
                this.insertTemplate()
            }
        }, {
            key: "initEvents",
            value: function() {
                var u = this;
                this.subscribe("custom-event-focus-opts/changeSelect-" + this.pluginId, function(e, t) {
                    var n = u.ajaxCompare.items.selectedCarsId;
                    u.ajaxCompare.items.expandOpened || (u.ajaxCompare.items.expandOpened = !0),
                    u.rememberOpenedAccordionBars(),
                    t.selectId === "spec-select-0-".concat(u.pluginId) ? n[0] = t.idValue : t.selectId === "spec-select-1-".concat(u.pluginId) ? n[1] = t.idValue : t.selectId === "spec-select-2-".concat(u.pluginId) && (n[2] = t.idValue);
                    var i = u.$element.find("#spec-select-0-".concat(u.pluginId))
                      , r = i.length ? i[0].options[i[0].selectedIndex].text : ""
                      , a = u.$element.find("#spec-select-1-".concat(u.pluginId))
                      , o = a.length && !a[0].options[a[0].selectedIndex].disabled ? a[0].options[a[0].selectedIndex].text : ""
                      , s = u.$element.find("#spec-select-2-".concat(u.pluginId))
                      , l = s.length ? s[0].options[s[0].selectedIndex].text : "";
                    r.length && o.length && l.length ? u.opts.selectedVersionArray = [r, o, l] : r.length && o.length && (u.opts.selectedVersionArray = [r, o]),
                    u.insertTemplate(),
                    1 < u.ajaxCompare.items.selectedCarsId.length && u.setDataLayer(u.opts.selectedVersionArray)
                }),
                this.subscribe("custom-event-focus-opts/changeEqOrSpec-" + this.pluginId, function(e, t) {
                    u.ajaxCompare.items.expandOpened || (u.ajaxCompare.items.expandOpened = !0),
                    u.rememberOpenedAccordionBars();
                    var i = "equipment" === (u.ajaxCompare.items.eqOrSpec = t) ? "specificationDefaultVersionID" : "equipmentDefaultVersionID"
                      , r = "equipment" === t ? "equipmentDefaultVersionID" : "specificationDefaultVersionID";
                    u.ajaxCompare.items.selectedCarsId.map(function(t, e) {
                        var n = u.ajaxCompare.items.versionsConfigurations.find(function(e) {
                            return t === e[i]
                        });
                        c.a.isUndefined(n) ? u.ajaxCompare.items.selectedCarsId[e] = void 0 : u.ajaxCompare.items.selectedCarsId[e] = n[r]
                    }),
                    u.ajaxCompare.items.selectedCarsId = c.a.compact(u.ajaxCompare.items.selectedCarsId),
                    u.insertTemplate()
                })
            }
        }, {
            key: "rememberOpenedAccordionBars",
            value: function() {
                var n = this;
                this.ajaxCompare.items.openedAccordionItemsArr[this.ajaxCompare.items.eqOrSpec] = [],
                this.$element.find(".accordeonC154-item_title.active").map(function(e, t) {
                    return n.ajaxCompare.items.openedAccordionItemsArr[n.ajaxCompare.items.eqOrSpec].push(t.getAttribute("data-opt-group"))
                })
            }
        }, {
            key: "insertTemplate",
            value: function() {
                this.ajaxCompare.items.logic = new this.templateLogic(this.ajaxCompare.items,this.$element),
                this.ajaxCompare.showItems()
            }
        }, {
            key: "resetPriceBlockHeight",
            value: function() {
                this.$element.find(".prices--small").css("height", "auto")
            }
        }, {
            key: "manageSetHeightPrice",
            value: function() {
                this.resetPriceBlockHeight(),
                this.setPriceBlockHeight()
            }
        }, {
            key: "setPriceBlockHeight",
            value: function() {
                var e = this.$element.find(".prices--small")
                  , t = e.length
                  , i = 0;
                t < 2 || (o.a.each(e, function(e, t) {
                    var n = o()(t).innerHeight();
                    i = i < n ? n : i
                }),
                e.css("height", i + "px"))
            }
        }, {
            key: "setDataLayer",
            value: function(e) {
                window.dataLayer.push({
                    event: this.opts.dataLayer.event,
                    businessType: this.opts.dataLayer.businessType,
                    pageCat: this.opts.dataLayer.pageCat,
                    carCode: this.opts.dataLayer.carCode,
                    carLabel: this.opts.dataLayer.carLabel,
                    vehicleVersionCompare: e
                })
            }
        }, {
            key: "templateLogic",
            value: function(e, t) {
                var n = e
                  , i = n.car
                  , r = n.viewElements
                  , a = i.specifications.defaultVersionID
                  , o = (n.pluginId,
                n.expandOpened,
                n.eqOrSpec || "equipment")
                  , s = (n.car[o].versions.length,
                n.selectedCarsId)
                  , l = (n.targetSpecificViewElements,
                n.car[o].optionGroups,
                n.openedAccordionItemsArr[o]);
                n.accordionFirstBarOpened;
                return {
                    injectDataTag: function(e) {
                        var t = n.tags[e];
                        if (c.a.isUndefined(t))
                            console.warn("No tag for ".concat(e));
                        else
                            try {
                                JSON.stringify(t)
                            } catch (e) {
                                console.error("JSON")
                            }
                    },
                    getOptionObj: function(e, t) {
                        return e.find(function(e) {
                            return e.VersionId === s[t]
                        })
                    },
                    pushOpenedAccordionItemsArr: function(e) {
                        l.push(e)
                    },
                    setActive: function(t) {
                        var n = 0;
                        if (0 === l.length)
                            return {
                                active: "",
                                display: "none"
                            };
                        l.find(function(e) {
                            return e === t && (n = {
                                active: "active",
                                display: "block"
                            }),
                            0
                        });
                        return 0 == n ? {
                            active: "",
                            display: "none"
                        } : n
                    },
                    getOptionLabel: function() {
                        return n.car.equipment.optionLabels.find(function(e) {
                            return 1 == e.value
                        })
                    },
                    getCarVersionObj: function(t) {
                        return 0 === n.car[o].versions.length ? "" : n.car[o].versions.find(function(e) {
                            return e.id === t
                        })
                    },
                    getCompareMainVersion: function() {
                        return 0 < s.length ? getCarVersionObj(s[0]) : ""
                    },
                    getCarData: function() {
                        return i
                    },
                    getMainVersion: function() {
                        var e = i.specifications.defaultVersionID;
                        return c.a.isUndefined(e) ? "" : i.specifications.versions.find(function(e) {
                            return e.id === a
                        })
                    },
                    getMainVersionId: function() {
                        return a || (0 < i.specifications.versions.length ? i.specifications.versions[0].id : 0 < i.equipment.versions.length ? i.equipment.versions[0].id : void 0)
                    },
                    getLabel: function(e) {
                        return r[e] || console.error("No such label as ".concat(e, " in Data set."))
                    }
                }
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(0)
      , a = n.n(i)
      , o = n(1)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = s.a.merge({}, {
                showBackButtonTime: 1e3
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$body = a()("html, body"),
                this.$window = a()(window),
                this.$element.on("click.".concat(this.pluginId), this.backToTheTop.bind(this)),
                this.$window.on("scroll.".concat(this.pluginId), s.a.debounce(this.checkOffsetTop.bind(this), 50)),
                this.checkOffsetTop()
            }
        }, {
            key: "checkOffsetTop",
            value: function() {
                0 === this.$window.scrollTop() ? this.hideBackButton() : this.showBackButton()
            }
        }, {
            key: "backToTheTop",
            value: function() {
                this.$body.animate({
                    scrollTop: 0
                }, "normal")
            }
        }, {
            key: "showBackButton",
            value: function() {
                this.$element.is(":visible") ? clearTimeout(this.backButtonVisibleTimeout) : this.$element.fadeIn(),
                this.backButtonVisibleTimeout = setTimeout(this.hideBackButton.bind(this), this.opts.showBackButtonTime)
            }
        }, {
            key: "hideBackButton",
            value: function() {
                this.$element.fadeOut()
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var r = n(3)
      , a = n(24)
      , i = n(0)
      , o = n.n(i)
      , s = n(1)
      , l = n.n(s);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = l.a.merge({}, {
                sectionTitle1: "Import",
                sectionTitle2: "Choose Importer",
                dealerLocatorUrl: "",
                ajaxContentRangeOpts: {
                    url: "/json/dealer-range.json",
                    method: "get",
                    dataType: "json",
                    contentType: "application/x-www-form-urlencoded",
                    cache: !1,
                    template: "/templates/dealer-range.html",
                    listContainer: ".fp-ajax-container",
                    insertionType: "insert",
                    params: {},
                    tplParams: [],
                    grabParamsFromQueryString: "true",
                    totalParamName: "CarCount",
                    initializeOnEvent: !1,
                    onDataLoaded: "",
                    beforeLoadData: "",
                    onPageLoaded: "",
                    onPageLoadedEvent: "",
                    pageChangedEventName: "ajax-list/page-changed"
                },
                ajaxContentImportersOpts: {
                    url: "http://test-rsidealerlocator.makolab.pl/service/dealers.svc/importers/",
                    method: "get",
                    dataType: "jsonp",
                    jsonp: "callback",
                    contentType: "application/x-www-form-urlencoded",
                    cache: !1,
                    template: "/templates/dealer-range.html",
                    listContainer: ".fp-ajax-container",
                    insertionType: "insert",
                    params: "",
                    tplParams: [],
                    grabParamsFromQueryString: "true",
                    totalParamName: "CarCount",
                    initializeOnEvent: !1,
                    onDataLoaded: "",
                    beforeLoadData: "",
                    onPageLoaded: ""
                }
            }, t),
            h(this, p(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(i, [{
            key: "start",
            value: function() {
                d(p(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                d(p(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var t = this;
                this.importerBaseUrl = this.opts.ajaxContentImportersOpts.url,
                this.ajaxRange = new a.a(this.$element,this.opts.ajaxContentRangeOpts),
                this.ajaxImporters = new a.a(this.$element,this.opts.ajaxContentImportersOpts),
                this.importersResponse = "",
                this.ajaxRange.opts.onPageLoaded = function() {
                    var e = t.$element.find(".dealer-locator-item");
                    t.on(e, "click", t.carClickHandler.bind(t))
                }
                ,
                this.ajaxRange.init()
            }
        }, {
            key: "carClickHandler",
            value: function(e) {
                var t = this
                  , n = e.currentTarget.getAttribute("data-model-id");
                o.a.ajax({
                    url: this.opts.ajaxContentImportersOpts.url + n,
                    jsonp: "callback",
                    dataType: "jsonp",
                    data: {
                        format: "json"
                    }
                }).done(function(e) {
                    1 === e.length ? window.location.assign(t.opts.dealerLocatorUrl + "?importername=" + e[0] + "&modelid=" + n.toLowerCase()) : (t.ajaxImporters.opts.url = "",
                    t.ajaxImporters.opts.jsonFromParameter = e,
                    t.ajaxImporters.opts.tplParams.modelid = n.toLowerCase(),
                    t.ajaxImporters.init())
                }).fail(function(e, t, n) {
                    console.error(e, t, n)
                })
            }
        }, {
            key: "insertTemplate",
            value: function() {
                this.ajaxCompare.showItems()
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i)
      , o = n(0)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                ctaTrigger: ".fp-cta-gtm",
                tagging: {
                    pushGtmTags: !0,
                    dataLayerName: "layer",
                    dataLayerObjectName: "dataLayer",
                    swiperDataLayerObject: {
                        event: "gaEvent",
                        eventCategory: "Editorial Page",
                        eventAction: "Click",
                        eventLabel: "Image_Gallery_Slider"
                    },
                    carouselDataLayerObject: {
                        event: "gaEvent",
                        eventCategory: "Editorial Page",
                        eventAction: "Click",
                        eventLabel: "Content_Carousel"
                    },
                    tabslDataLayerObject: {
                        event: "gaEvent",
                        eventCategory: "Index Product Page",
                        eventAction: "Click",
                        eventLabel: "ClickTab"
                    }
                }
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this),
                this.player.dispose()
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                window.dataLayer = window.dataLayer || [],
                this.$ctaTrigger = this.$element.find(this.opts.ctaTrigger);
                var t = [];
                this.on(this.$ctaTrigger, "click", function(e) {
                    window.dataLayer.push(s()(e.currentTarget).data("tag"))
                }),
                this.subscribe("push-data-layer", function(e, t) {
                    window.dataLayer.push(t)
                }),
                this.subscribe("videoPlayer/video-started", function(e, t) {
                    window.dataLayer.push(t)
                }),
                this.subscribe("videoPlayer/video-paused", function(e, t) {
                    window.dataLayer.push(t)
                }),
                this.subscribe("videoPlayer/video-ended", function(e, t) {
                    window.dataLayer.push(t)
                }),
                this.subscribe("ext-swiper/slide-changed", function() {
                    window.dataLayer.push(e.opts.tagging.swiperDataLayerObject)
                }),
                this.subscribe("carousel/slide-changed", function() {
                    window.dataLayer.push(e.opts.tagging.carouselDataLayerObject)
                }),
                this.subscribe("tabs/tab-changed", function() {
                    t.push(e.opts.tagging.tabslDataLayerObject),
                    1 < t.length && window.dataLayer.push(e.opts.tagging.tabslDataLayerObject)
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return d
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i);
    function o(e) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function l(e, t) {
        return !t || "object" !== o(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function u(e, t, n) {
        return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function c(e) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function h(e, t) {
        return (h = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var d = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                selectSelector: ".select",
                selectTextSelector: ".select-text",
                selectedOptionSelector: "option:selected"
            }, t),
            l(this, c(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && h(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(i, [{
            key: "start",
            value: function() {
                u(c(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                u(c(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                u(c(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$select = this.$element.find(this.opts.selectSelector),
                this.on(this.$select, "change", this.selectChangeHandler.bind(this)),
                this.selectChangeHandler()
            }
        }, {
            key: "selectChangeHandler",
            value: function() {
                var e = this.$select.find(this.opts.selectedOptionSelector).text();
                this.$element.find(this.opts.selectTextSelector).text(e)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(1)
      , r = n.n(i)
      , a = n(0)
      , o = n.n(a)
      , s = n(3);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = r.a.merge({}, {
                initializeOnEvent: "",
                itemsToShow: 3,
                itemsSelector: ".box-social",
                loadMoreSelector: ".fp-load-more",
                loadMoreEvent: ""
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, s["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this),
                this.shuffle && this.shuffle.destroy()
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.$items = this.$element.find(this.opts.itemsSelector),
                this.itemsCount = this.$items.length,
                this.$loadBtn = this.$element.find(this.opts.loadMoreSelector);
                var i = 0;
                this.itemsCount <= this.opts.itemsToShow && this.loadMoreButtonHide(),
                this.$items.each(function(e, t) {
                    i++ >= n.opts.itemsToShow && o()(t).css({
                        display: "none",
                        height: 0
                    })
                }),
                this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, function() {
                    n.publish(n.opts.loadMoreEvent)
                }) : this.publish(this.opts.loadMoreEvent),
                this.itemsLoaded = this.opts.itemsToShow,
                this.on(this.$loadBtn, "click", this.loadMore.bind(this))
            }
        }, {
            key: "loadMore",
            value: function() {
                var e = Math.min(this.itemsLoaded + this.opts.itemsToShow, this.itemsCount);
                for (this.itemsLoaded; this.itemsLoaded < e; this.itemsLoaded++)
                    o()(this.$items[this.itemsLoaded]).css({
                        display: "block",
                        height: "auto"
                    });
                this.publish(this.opts.loadMoreEvent),
                this.itemsLoaded === this.itemsCount && this.loadMoreButtonHide()
            }
        }, {
            key: "loadMoreButtonHide",
            value: function() {
                this.$loadBtn.css({
                    display: "none"
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(3)
      , a = n(24)
      , o = n(69)
      , r = n(1)
      , s = n.n(r);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = s.a.merge({}, {
                search: ".search-input",
                trigger: ".search-form",
                ajaxContentOpts: {
                    url: "",
                    method: "get",
                    dataType: "json",
                    jsonp: "callback",
                    contentType: "application/x-www-form-urlencoded",
                    template: "",
                    listContainer: ".list-container",
                    insertionType: "insert"
                }
            }, t),
            (i = function(e, t) {
                return !t || "object" !== l(t) && "function" != typeof t ? c(e) : t
            }(this, d(r).call(this, e, t, n))).search = i.search.bind(c(i)),
            i.ajaxContent = new a.a(i.$element,i.opts.ajaxContentOpts),
            i.urlHelper = o.a,
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this.$element.find(this.opts.trigger);
                this.searchInput = this.$element.find(this.opts.search),
                this.on(e, "submit", this.search),
                this.checkUrlParams(),
                this.initHistory()
            }
        }, {
            key: "initHistory",
            value: function() {
                var t = this;
                History.Adapter.bind(window, "statechange", function() {
                    var e = History.getState().cleanUrl;
                    t.checkUrlParams(e)
                })
            }
        }, {
            key: "clearContent",
            value: function() {
                this.$element.find(this.opts.ajaxContentOpts.listContainer).empty()
            }
        }, {
            key: "checkUrlParams",
            value: function(e) {
                var t = 0 < arguments.length && void 0 !== e ? e : window.location.href
                  , n = this.urlHelper.parseUrlParams(t).phrase;
                n ? this.loadData(n) : this.clearContent(),
                this.searchInput.val(n)
            }
        }, {
            key: "search",
            value: function(e) {
                e.preventDefault(),
                this.clearContent();
                var t = this.searchInput.val();
                this.loadData(t),
                this.actualizeUrlHistory(t)
            }
        }, {
            key: "loadData",
            value: function(e) {
                this.ajaxContent.opts.url = "".concat(this.opts.ajaxContentOpts.url, "?query=").concat(e, "&maxPerF=1000"),
                this.ajaxContent.loadData()
            }
        }, {
            key: "replaceQueryParam",
            value: function(e, t, n) {
                var i = new RegExp("([?;&])" + e + "[^&;]*[;&]?")
                  , r = n.replace(i, "$1").replace(/&$/, "");
                return (2 < r.length ? r + "&" : "?") + (t ? e + "=" + t : "")
            }
        }, {
            key: "actualizeUrlHistory",
            value: function(e) {
                var t = window.location.search
                  , n = this.replaceQueryParam("phrase", e, t)
                  , i = document.location.href.split("?")[0] + n;
                History.pushState(e, "Search", i)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(0)
      , s = n.n(i)
      , a = n(1)
      , o = n.n(a);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = o.a.merge({}, {
                selectors: {
                    itemsWrap: ".fp-items-wrap",
                    itemsHeading: ".fp-items-heading",
                    itemWrap: ".fp-item-wrap",
                    item: ".fp-item",
                    imtesCounter: ".fp-items-counter",
                    itemExtend: ".fp-item-extend",
                    itemExtendClose: ".fp-item-extend-close",
                    priceSlider: "#range-price",
                    priceSliderInput: "#range-price-value",
                    sortSelect: "#sort-select",
                    sortSelectFake: "#sort-select-fake",
                    filterBtn: ".fp-filter-btn",
                    filterBtnActive: ".fp-filter-btn.is-active"
                },
                classes: {
                    itemExtended: "is-extended",
                    active: "is-active"
                },
                sliderStep: 1e3
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                this.$itemsWrap = this.$element.find(this.opts.selectors.itemsWrap),
                this.$items = this.$itemsWrap.find(this.opts.selectors.itemWrap),
                this.$itemsHeading = this.$element.find(this.opts.selectors.itemsHeading),
                this.$itemsCounter = this.$element.find(this.opts.selectors.imtesCounter),
                this.$sortSelectFake = this.$element.find(this.opts.selectors.sortSelectFake),
                this.$sortSelect = this.$element.find(this.opts.selectors.sortSelect),
                this.$priceSlider = this.$element.find(this.opts.selectors.priceSlider),
                this.handleInitialType(),
                this.handleExtendCarBox(),
                this.adjustSelectWidth(),
                this.handleTypeFilterChange(),
                this.handleSort(),
                this.$priceSlider.length && (this.subscribe("range-price/value-changed", function() {
                    e.filterItems()
                }),
                this.updatePriceSlider(),
                this.subscribe("range-price/init", function() {
                    e.updatePriceSlider()
                }),
                this.subscribe("range-price/slide-end", function() {
                    e.publish("push-data-layer", {
                        CTAName: "Price filter",
                        CTALocation: "Filter block",
                        event: "CTA_RangePage"
                    })
                })),
                this.subscribe("core/device-type-changed", function() {
                    e.adjustSelectWidth()
                })
            }
        }, {
            key: "filterItems",
            value: function() {
                var i = this.$element.find(this.opts.selectors.filterBtnActive).data("type")
                  , e = this.$priceSlider.length ? parseInt(this.$priceSlider.val(), 10) : -1;
                this.$items.each(function() {
                    -1 === e || parseInt(s()(this).attr("data-price"), 10) <= e ? s()(this).show() : s()(this).hide()
                }),
                "all" !== i && this.$itemsWrap.find(this.opts.selectors.itemWrap).each(function(e, t) {
                    var n = s()(t).data("type");
                    s.a.inArray(i, n) < 0 && s()(t).hide()
                }),
                this.updateItemsCounter()
            }
        }, {
            key: "sortItems",
            value: function() {
                switch (this.$sortSelect.val()) {
                case "price-desc":
                    this.$items.sort(function(e, t) {
                        return Number(t.getAttribute("data-price")) - Number(e.getAttribute("data-price"))
                    }).appendTo(this.$itemsWrap);
                    break;
                case "price-asc":
                    this.$items.sort(function(e, t) {
                        return Number(e.getAttribute("data-price")) - Number(t.getAttribute("data-price"))
                    }).appendTo(this.$itemsWrap);
                    break;
                default:
                    this.$items.sort(function(e, t) {
                        return Number(e.getAttribute("data-order")) - Number(t.getAttribute("data-order"))
                    }).appendTo(this.$itemsWrap)
                }
            }
        }, {
            key: "getTypeFromUrl",
            value: function() {
                var e = "all";
                return /type=/.test(window.location.search) && (e = window.location.search.match(/type=[0-9]{1,}/)[0].substr(5)),
                e
            }
        }, {
            key: "handleInitialType",
            value: function() {
                var e = this.getTypeFromUrl()
                  , t = this.$element.find(this.opts.selectors.filterBtn + '[data-type="'.concat(e, '"]'));
                this.$element.find(this.opts.selectors.filterBtn).removeClass(this.opts.classes.active),
                t.addClass(this.opts.classes.active),
                this.filterItems(),
                "all" !== t.data("type") && this.$itemsHeading.show().text(t.text())
            }
        }, {
            key: "updatePriceSlider",
            value: function() {
                var e = this.getPriceSliderMinMax();
                e.value = e.max,
                this.publish("range-price/update", e)
            }
        }, {
            key: "getPriceSliderMinMax",
            value: function() {
                var t, n, i = null, r = null, a = this.opts.sliderStep, o = this.$element.find(this.opts.selectors.filterBtnActive).data("type");
                return this.$items.filter(function(e, t) {
                    return (t.getAttribute("data-type") ? JSON.parse(t.getAttribute("data-type")) : []).includes(o) || "all" === o
                }).each(function() {
                    var e = parseInt(s()(this).attr("data-price"), 10);
                    (null === i || e < i) && (n = (i = e) % a),
                    (null === r || r < e) && (r = e),
                    t = Math.ceil(r / a) * a,
                    r = t < r && 0 === n ? t + a : t < r ? t + n : t
                }),
                r = r + a - r % a,
                {
                    min: i = Math.max(i - i % a, 0),
                    max: r
                }
            }
        }, {
            key: "handleSort",
            value: function() {
                var e = this;
                this.$element.on("change", this.opts.selectors.sortSelect, function() {
                    e.adjustSelectWidth(),
                    e.sortItems(),
                    e.publish("push-data-layer", {
                        CTAName: "Results order",
                        CTALocation: "Filter block",
                        event: "CTA_RangePage"
                    })
                })
            }
        }, {
            key: "updateItemsCounter",
            value: function() {
                var e = this.$items.filter(":visible").length;
                this.$itemsCounter.html(e + " ")
            }
        }, {
            key: "adjustSelectWidth",
            value: function() {
                this.$sortSelectFake.text(this.$sortSelect.find(":selected").text());
                var e = this.$sortSelectFake.outerWidth() + 5;
                this.$sortSelect.width(e)
            }
        }, {
            key: "handleExtendCarBox",
            value: function() {
                var t = this;
                this.$element.on("click", this.opts.selectors.itemExtend, function(e) {
                    e.preventDefault(),
                    t.$element.find(t.opts.selectors.item).removeClass(t.opts.classes.itemExtended),
                    s()(e.target).closest(t.opts.selectors.item).addClass(t.opts.classes.itemExtended)
                }),
                this.$element.on("click", this.opts.selectors.itemExtendClose, function(e) {
                    e.preventDefault(),
                    s()(e.target).closest(t.opts.selectors.item).removeClass(t.opts.classes.itemExtended)
                })
            }
        }, {
            key: "handleTypeFilterChange",
            value: function() {
                var t = this;
                this.$element.on("click", this.opts.selectors.filterBtn, function(e) {
                    e.preventDefault(),
                    t.$element.find(t.opts.selectors.filterBtnActive).removeClass(t.opts.classes.active),
                    s()(e.target).addClass(t.opts.classes.active),
                    t.$priceSlider.length ? t.updatePriceSlider() : t.filterItems(),
                    "all" === e.target.dataset.type ? t.$itemsHeading.hide().text("") : t.$itemsHeading.show().text(e.target.text)
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(1)
      , r = n.n(i)
      , a = n(3)
      , o = n(159)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = r.a.merge({}, {
                rangeId: "range",
                valueSeparator: "",
                valueSuffix: "",
                pluginOpts: {
                    min: 0,
                    max: 1e3,
                    value: 0,
                    step: 100
                }
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, a["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this),
                this.rangeSlider.destroy()
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.rangeInput = document.getElementById(this.opts.rangeId),
                this.decreaseHandler = r.a.debounce(this.decreaseSlider.bind(this), 100),
                this.increaseHandler = r.a.debounce(this.increaseSlider.bind(this), 100),
                this.updateSliderValue = r.a.debounce(this.updateSliderValue.bind(this), 30);
                var e = this.opts.pluginOpts
                  , t = {
                    onInit: function(e) {
                        n.$element.find(".rangeslider__handle").html('<span class="range-slider_value fp-range-slider-value">'.concat(n.formatInt(e)).concat(n.opts.valueSuffix, "</span>")),
                        n.publish("".concat(n.opts.rangeId, "/init")),
                        n.subscribe("".concat(n.opts.rangeId, "/update"), function(e, t) {
                            n.updateSlider(t)
                        })
                    },
                    onSlide: function(e) {
                        isNaN(e) || n.updateSliderValue(e)
                    },
                    onSlideEnd: function(e) {
                        isNaN(e) || n.publish("".concat(n.opts.rangeId, "/slide-end"))
                    }
                };
                e = r.a.merge({}, t, e),
                s.a.create(this.rangeInput, e),
                this.rangeSlider = this.rangeInput["rangeslider-js"],
                this.on(this.$element.find(".fp-range-slider-decrease"), "click", function(e) {
                    e.preventDefault(),
                    n.decreaseHandler()
                }),
                this.on(this.$element.find(".fp-range-slider-increase"), "click", function(e) {
                    e.preventDefault(),
                    n.increaseHandler()
                })
            }
        }, {
            key: "decreaseSlider",
            value: function() {
                var e = parseInt(this.rangeInput.value, 10);
                this.rangeSlider.update({
                    value: e
                }),
                this.updateSliderValue(e)
            }
        }, {
            key: "increaseSlider",
            value: function() {
                var e = parseInt(this.rangeInput.value, 10);
                this.rangeSlider.update({
                    value: e
                }),
                this.updateSliderValue(e)
            }
        }, {
            key: "updateSlider",
            value: function(e) {
                e.min === e.max && (this.rangeSlider.position = 0,
                this.$element.find(".rangeslider__handle").css("transform", "translate(0px, -50%)"),
                this.$element.find(".rangeslider__fill").css("width", 0)),
                this.rangeSlider.update(e),
                this.updateSliderValue(this.rangeInput.value)
            }
        }, {
            key: "updateSliderValue",
            value: function(e) {
                this.$element.find(".fp-range-slider-value").text("".concat(this.formatInt(e)).concat(this.opts.valueSuffix)),
                this.$element.find(".fp-data-value").val(e),
                this.publish("".concat(this.opts.rangeId, "/value-changed"))
            }
        }, {
            key: "formatInt",
            value: function(e) {
                return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.opts.valueSeparator)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return d
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i);
    function o(e) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function l(e, t) {
        return !t || "object" !== o(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function u(e, t, n) {
        return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function c(e) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function h(e, t) {
        return (h = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var d = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                cookieName: "visitedmodel",
                time: 12e5
            }, t),
            l(this, c(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && h(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(i, [{
            key: "start",
            value: function() {
                u(c(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                u(c(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                u(c(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var e = window.CarFolderName;
                e && this.createCookie(this.opts.cookieName, e, this.opts.time)
            }
        }, {
            key: "createCookie",
            value: function(e, t, n) {
                var i = "";
                if (n) {
                    var r = new Date;
                    r.setTime(r.getTime() + n),
                    i = "; expires=" + r.toGMTString()
                }
                document.cookie = e + "=" + t + i + ";path=/"
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i)
      , o = n(0)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                hideOnSelectors: ["bleed", "full-bleed"],
                visibleClass: "visible",
                mobileVisibleClass: "visible-mobile"
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$document = s()(document),
                this.$window = s()(window),
                this.$hideOnSelectors = s()(this.opts.hideOnSelectors.join(", ")),
                this.setCurrentResolution(),
                this.isMobile = this.getIsMobile(),
                this.bodyBounds = document.body.getBoundingClientRect(),
                this.elementBounds = this.getElementDimensions(),
                this.setExcludedZonesHandler(),
                this.isMobile && this.$element.addClass(this.opts.mobileVisibleClass),
                this.isInZone = !!this.excludedZones && this.getIsInZone(),
                this.wasInZone = this.isInZone,
                this.lastTouchPosition = null,
                this.handleElementVisibility(),
                0 < this.$hideOnSelectors.length && (this.$window.on("scroll.".concat(this.pluginId), a.a.throttle(this.interactionHandler.bind(this), 100, {
                    leading: !1,
                    trailing: !0
                })),
                this.$window.on("resize.".concat(this.pluginId), a.a.debounce(this.resizeHandler.bind(this), 100, {
                    leading: !1,
                    trailing: !0
                })),
                this.$window.on("scroll.".concat(this.pluginId), a.a.debounce(this.setExcludedZonesHandler.bind(this), 300, {
                    leading: !0,
                    trailing: !1
                }))),
                this.$window.on("touchmove.".concat(this.pluginId), a.a.throttle(this.interactionHandler.bind(this), 100, {
                    leading: !1,
                    trailing: !0
                }))
            }
        }, {
            key: "getElementDimensions",
            value: function() {
                var e, t = this.$element[0];
                return this.$element.hasClass(this.opts.visibleClass) ? e = t.getBoundingClientRect() : (this.$element.addClass(this.opts.visibleClass),
                e = t.getBoundingClientRect(),
                this.$element.removeClass(this.opts.visibleClass)),
                e
            }
        }, {
            key: "getExcludedZones",
            value: function() {
                return this.$hideOnSelectors.map(function(e, t) {
                    var n = s()(t).offset().top;
                    return {
                        from: n,
                        to: n + s()(t).height()
                    }
                }).toArray()
            }
        }, {
            key: "getIsInZone",
            value: function() {
                if (!this.excludedZones)
                    return !1;
                var e = this.elementBounds
                  , t = e.top
                  , n = e.height
                  , i = this.$document.scrollTop() + t
                  , r = this.$document.scrollTop() + t + n;
                return this.excludedZones.some(function(e) {
                    var t = e.from
                      , n = e.to;
                    return t <= r && i <= n
                })
            }
        }, {
            key: "getIsMobile",
            value: function() {
                return "xs" === this.currentResolution || "sm" === this.currentResolution
            }
        }, {
            key: "setExcludedZonesHandler",
            value: function() {
                this.excludedZones = this.getExcludedZones()
            }
        }, {
            key: "setCurrentResolution",
            value: function() {
                var n = this;
                this.currentResolution = window.Makolab.PluginManager.pluginLoader.resolutions.currentDeviceResolution,
                this.subscribe("core/device-type-changed", function(e, t) {
                    n.currentResolution = t,
                    n.isMobile = n.getIsMobile(),
                    n.setExcludedZonesHandler(),
                    n.isMobile ? n.$element.addClass(n.opts.mobileVisibleClass) : n.$element.removeClass(n.opts.mobileVisibleClass)
                })
            }
        }, {
            key: "interactionHandler",
            value: function() {
                this.isMobile ? this.touchHandler() : this.scrollHandler()
            }
        }, {
            key: "touchHandler",
            value: function() {
                this.handleMobileElementVisibility(),
                this.lastTouchPosition = this.$document.scrollTop()
            }
        }, {
            key: "scrollHandler",
            value: function() {
                this.wasInZone = this.isInZone,
                this.isInZone = this.getIsInZone(),
                this.handleElementVisibility()
            }
        }, {
            key: "resizeHandler",
            value: function() {
                this.bodyBounds = document.body.getBoundingClientRect(),
                this.elementBounds = this.getElementDimensions(),
                this.setExcludedZonesHandler()
            }
        }, {
            key: "handleElementVisibility",
            value: function() {
                this.isInZone && !this.isMobile ? this.$element.removeClass(this.opts.visibleClass) : this.$element.addClass(this.opts.visibleClass)
            }
        }, {
            key: "handleMobileElementVisibility",
            value: function() {
                this.lastTouchPosition > this.$document.scrollTop() ? this.$element.addClass(this.opts.mobileVisibleClass) : this.$element.removeClass(this.opts.mobileVisibleClass)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return g
    });
    var r = n(3)
      , i = n(0)
      , w = n.n(i)
      , a = n(1)
      , x = n.n(a)
      , o = n(72)
      , s = n(106)
      , l = n(107);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++)
                    n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var g = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = x.a.merge({}, {
                activeSelector: ".is-active",
                fullWitdhFields: !1,
                visibleHeader: !0,
                formSelector: ".dynamic-form",
                formFieldSelector: ".fp-form-field",
                brochureLinkSelector: ".fp-brochure-link",
                brochureLinkContainerSelector: ".fp-brochure-container",
                formSectionSelector: ".fp-form-section",
                formStepsSelector: ".dynamic-form_steps",
                formSendSelector: ".fp-form-send",
                errorSendMessageSelector: ".error-send-message",
                formSendLoaderSelector: ".dynamic-form_send-loader",
                errorClass: "is-invalid",
                fileSelect: !1,
                serviceUrl: "",
                pathToRoot: "../",
                thankYouPageUrl: "",
                additionalData: {},
                maxFileSize: 20,
                submitMethod: "GET",
                tariffMappings: {
                    koleos: {
                        carCode: "90K",
                        carLabel: "Logan MCV (Ancien)",
                        annual: "2008",
                        modelGenre: "BK",
                        phase: "2",
                        projectCode: "X90",
                        tariffId: "58ab80c5-64e1-4754-9086-f828603951f8"
                    },
                    "kadjar-old": {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    newkadjar: {
                        carCode: "87J",
                        carLabel: "Capture",
                        annual: "2013",
                        modelGenre: "MO",
                        phase: "1",
                        projectCode: "X87",
                        tariffId: "cffecc6a-ab9a-4f77-98b0-030d15191834"
                    },
                    CAPTURhhaamlatph1: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    newcaptur: {
                        carCode: "87J",
                        carLabel: "Capture",
                        annual: "2013",
                        modelGenre: "MO",
                        phase: "1",
                        projectCode: "X87",
                        tariffId: "cffecc6a-ab9a-4f77-98b0-030d15191834"
                    },
                    sandero: {
                        carCode: "CL2",
                        carLabel: "Clio 2",
                        annual: "",
                        modelGenre: "VP",
                        phase: "",
                        projectCode: "X65",
                        tariffId: "3021229c-4049-49a8-9571-8be77aa94dc7"
                    },
                    RenaultClio: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    duster: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    NewRenaultMegane: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    cliors: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    meganers: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    newdrivertraining2012: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    kangooExpress: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    traficvan: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    },
                    aaaaaaaaa: {
                        carCode: "",
                        carLabel: "",
                        annual: "",
                        modelGenre: "",
                        phase: "",
                        projectCode: "",
                        tariffId: "-1"
                    }
                },
                fileServiceUrl: "https://rsiservice.makolab.pl//FileService.svc/download",
                loadDataOpts: {
                    url: "https://test-export-rsi.makodev.pl/QA1/webforms/TestGeneralInformationGDPR.html",
                    type: "GET",
                    dataType: "jsonp"
                },
                loadDataUploadOpts: {
                    url: "https://test-rsiwebforms2018.makodev.pl/api/configuration/files/upload/41",
                    type: "POST",
                    processData: !1,
                    contentType: !1,
                    data: null
                },
                template: "/templates/form.html",
                captchasOpts: {
                    url: "",
                    urlCaptchaValid: "https://rsiwebforms2018.makodev.pl/api/configuration/validateCaptcha/",
                    captchaErrorMsgSelector: ".captcha .error-message",
                    captchaSelector: ".captcha",
                    captchaInputSelector: ".captcha_input",
                    imgContainer: ".captcha_img",
                    urlParam: "id",
                    imageOpts: {
                        w: "450",
                        h: "60"
                    }
                },
                dealerLocatorSelector: ".dealer-locator",
                dealerLocatorOpts: {
                    pathToRoot: "",
                    serviceUrl: "https://rsidealerlocator.makolab.pl/service/dealers.svc",
                    countryCode: "rs",
                    dealerInputSelector: ".dealer-id",
                    CountrySelector: "",
                    dealersList: {
                        dealersSelector: ".fp-dealer-list",
                        template: "/templates/dealer-list.html"
                    },
                    googleMapSettings: {
                        apiKey: "",
                        mapSettings: {
                            zoom: 5,
                            center: {}
                        },
                        clusterMarkers: !0,
                        clustererPath: "/vendorScripts/markerclusterer.js",
                        clustererSettings: {
                            imagePath: "/images/markerclusterer/m",
                            styles: [{
                                url: "/images/markerclusterer/m.png",
                                width: 40,
                                height: 50,
                                textColor: "white",
                                backgroundPosition: "1px 5px"
                            }]
                        },
                        showInfowindow: !0,
                        infowindowTplFile: "/templates/infowindow.html",
                        infoWindowSettings: {
                            maxWidth: 240
                        },
                        locations: [],
                        markerStyles: {
                            pinImage: {
                                active: "/images/brand-marker.png",
                                inactive: "/images/brand-marker.png"
                            }
                        }
                    }
                }
            }, t),
            d(this, f(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(i, [{
            key: "start",
            value: function() {
                p(f(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                p(f(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                p(f(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.fileSelect = this.opts.fileSelect,
                this.pathToRoot = this.opts.pathToRoot,
                this.thankYouPageUrl = this.opts.thankYouPageUrl,
                this.url = window.location.href,
                this.catalogue = this.url.substring(0, this.url.split("#")[0].lastIndexOf("/")),
                this.absolutePath = this.catalogue + this.pathToRoot,
                this.formData = {
                    root: {
                        types: [],
                        data: {
                            RootUrl: this.absolutePath,
                            SourceUrl: this.url
                        },
                        additionalData: this.opts.additionalData
                    }
                },
                this.requestId = void 0,
                this.partsSent = 0,
                "POST" === this.opts.submitMethod ? this.partSize = Number.MAX_SAFE_INTEGER : this.partSize = /MSIE (\d+\.\d+);/.test(navigator.userAgent) ? 2048 - this.url.length - 120 : 13258 - this.url.length - 120,
                this.formSelector = this.$element.find(this.opts.formSelector),
                this.formFieldSelector = this.$element.find(this.opts.formFieldSelector),
                this.errorClass = this.opts.errorClass,
                this.fileServiceUrl = this.opts.fileServiceUrl,
                this.submitForm = this.submitForm.bind(this),
                this.sendPart = this.sendPart.bind(this),
                this.resultHandler = this.resultHandler.bind(this),
                this.faultHandler = this.faultHandler.bind(this),
                this.loadData(),
                this.subscribe("dealer-locator-component/selectedDealerOnMap", function() {
                    n.mapValidationHandler()
                }),
                this.subscribe("captcha/timestamp", function(e, t) {
                    n.timeStamp = t,
                    n.captchaInputSelector = n.$element.find(n.opts.captchasOpts.captchaInputSelector)
                }),
                this.$element.on("submit", this.opts.formSelector, function(e) {
                    e.preventDefault(),
                    n.captchaInputSelector && 0 < n.captchaInputSelector.length ? n.captchaValidationHandler(n.submitForm) : n.submitForm()
                })
            }
        }, {
            key: "loadData",
            value: function() {
                var t = this;
                w.a.ajax(this.opts.loadDataOpts).done(function(e) {
                    t.data = e,
                    t.loadTemplate(t.restartPlugins.bind(t))
                })
            }
        }, {
            key: "getCookies",
            value: function(e) {
                var t = ("; " + document.cookie).split("; " + e + "=");
                if (2 === t.length)
                    return t.pop().split(";").shift()
            }
        }, {
            key: "findIfValueExsistFromCookies",
            value: function(n) {
                var t = this;
                return new Promise(function(e) {
                    t.$element.find("select option").filter(function(e, t) {
                        return t.value === n
                    }).attr("selected", !0),
                    e()
                }
                )
            }
        }, {
            key: "findSelectedOptions",
            value: function() {
                var n = [];
                return this.$element.find("select option:selected").each(function(e, t) {
                    n = [].concat(c(n), [w()(t).attr("value")])
                }),
                n
            }
        }, {
            key: "setSelectfromCookies",
            value: function() {
                var t = this
                  , e = window.CarFolderName
                  , n = this.getCookies("visitedmodel");
                if (this.findSelectedOptions().join("")) {
                    var i = this.findSelectedOptions();
                    this.sendDataLayer(i)
                } else {
                    var r = e && !x.a.isEmpty(e) ? e : n;
                    this.findIfValueExsistFromCookies(r).then(function() {
                        var e = t.findSelectedOptions();
                        t.sendDataLayer(e)
                    })
                }
            }
        }, {
            key: "sendDataLayer",
            value: function(e) {
                var t = this
                  , n = window.dataLayer;
                if (n) {
                    var i = e && e.filter(function(e) {
                        return t.opts.tariffMappings[e]
                    })
                      , r = this.opts.tariffMappings[i]
                      , a = x.a.get(this.data, "data.formTemplate.templateType", "")
                      , o = x.a.get(this.data, "data.formTemplate.templateSubType", "")
                      , s = x.a.get(this.data, "data.formTemplate.templateTitle", "")
                      , l = x.a.get(r, "carCode", "")
                      , u = x.a.get(r, "carLabel", "");
                    n.push({
                        formCategory: a,
                        formType: o,
                        formName: s,
                        carLabel: u,
                        carCode: l,
                        leadReferrer: window.location.href || document.referrer,
                        event: "LeadCall"
                    }),
                    void 0 !== window._gaq && window._gaq && window._gaq.push(["_trackEvent", "Leadform Interactions", a, o, s, "Call | #1 | step1"])
                }
            }
        }, {
            key: "loadTemplate",
            value: function(i) {
                var r = this;
                this.templatePromise = o.a.getTemplatePromise(this.opts.template),
                this.templatePromise.then(function(e) {
                    var t = {
                        form: r.data,
                        visibleHeader: r.opts.visibleHeader,
                        fullWitdhFields: r.opts.fullWitdhFields,
                        pathToRoot: r.pathToRoot,
                        pluginsSelectors: {
                            dealerLocatorSelector: r.opts.dealerLocatorSelector.substring(1, r.opts.dealerLocatorSelector.length),
                            captchaSelector: r.opts.captchasOpts.captchaSelector.substring(1, r.opts.captchasOpts.captchaSelector.length)
                        }
                    };
                    r.$element.html(e(t));
                    var n = r.$element.find('[type="file"]');
                    r.handleFileUploads(n),
                    x.a.isFunction(i) && (i(),
                    r.setSelectfromCookies())
                })
            }
        }, {
            key: "handleFileUploads",
            value: function(e) {
                var b = this;
                e.each(function(e, r) {
                    var a = r.closest(".drop-zone")
                      , t = w()(r).attr("id")
                      , n = w()(r).attr("name").replace("Upload", "")
                      , i = w()(a).parent().find("#" + t + "-upload")
                      , o = w()(a).parent().find("#" + t + "-size")
                      , s = w()(a).parent().find("#" + t + "-allowed")
                      , l = w()(a).parent().find("#" + t + "-required")
                      , u = w()(a).find("#" + t + "-thumbnail")
                      , c = w()(a).find("#" + t + "-placeholder")
                      , h = c.html()
                      , d = w()(a).find("#" + t + "-close")
                      , p = JSON.parse(w()(r).attr("data-params"))
                      , f = b.$element.find("form.dynamic-form")
                      , m = !p.allowedExtensions
                      , g = isNaN(p.maxFileSizeInMB) ? b.opts.maxFileSize : p.maxFileSizeInMB
                      , v = {
                        dropZoneElement: a,
                        id: t,
                        errorField: i,
                        thumbnailId: u,
                        placeholderId: c,
                        closeIconId: d,
                        dataParams: p,
                        inputElement: r,
                        placeholderLabel: h,
                        allowedField: s,
                        sizeField: o,
                        errorFieldRequired: l,
                        name: n,
                        specificFiles: []
                    }
                      , y = p.allowedExtensions.split(".").filter(function(e) {
                        return "" !== e
                    }).map(function(e) {
                        return e.toLowerCase()
                    });
                    a.addEventListener("click", function(e) {
                        w()(e.target).hasClass("wrapper-file") || w()(e.target).hasClass("close-icon") || r.click()
                    }),
                    f.on("submit", function() {
                        i.is(":visible") || l.is(":visible") ? w()(v.dropZoneElement).addClass("red") : w()(v.dropZoneElement).removeClass("red")
                    }),
                    r.addEventListener("change", function() {
                        l.show(),
                        s.val(1);
                        var e = !1;
                        if (r.files.length) {
                            for (var t = 0; t < r.files.length; t++) {
                                var n = r.files[t].name.indexOf(".") ? r.files[t].name.substring(r.files[t].name.indexOf(".") + 1).toLowerCase() : "";
                                if (l.hide(),
                                o.val(Math.ceil(r.files[t].size / 1024 / 1024)),
                                r.files[t] && Math.ceil(r.files[t].size / 1024 / 1024) > g) {
                                    b.showErrorMsgTooBig(v),
                                    e = !0;
                                    break
                                }
                                if ("" === n || !y.includes(n) && !m) {
                                    e = !0,
                                    b.showErrorMsg(v);
                                    break
                                }
                            }
                            e || b.uploadFileAjax(r.files, v)
                        } else
                            w()("#" + v.id + "-table").html(""),
                            w()(v.dropZoneElement).find('[name="' + v.name + '"]').val(""),
                            v.specificFiles = []
                    }),
                    a.addEventListener("dragover", function(e) {
                        e.preventDefault(),
                        l.hide(),
                        a.classList.add("drop-zone--over")
                    }),
                    ["dragleave", "dragend"].forEach(function(e) {
                        a.addEventListener(e, function() {
                            a.classList.remove("drop-zone--over")
                        })
                    }),
                    a.addEventListener("drop", function(e) {
                        e.preventDefault(),
                        s.val(1);
                        for (var t = !1, n = 0; n < e.dataTransfer.files.length; n++) {
                            var i = e.dataTransfer.files[n].name.indexOf(".") ? e.dataTransfer.files[n].name.substring(e.dataTransfer.files[n].name.indexOf(".") + 1).toLowerCase() : "";
                            if (e.dataTransfer.files[n] && Math.ceil(e.dataTransfer.files[n].size / 1024 / 1024) > g) {
                                b.showErrorMsgTooBig(v),
                                t = !0;
                                break
                            }
                            if ("" === i || !y.includes(i) && !m) {
                                b.showErrorMsg(v),
                                t = !0;
                                break
                            }
                        }
                        t || (r.files = e.dataTransfer.files,
                        b.uploadFileAjax(e.dataTransfer.files, v)),
                        a.classList.remove("drop-zone--over")
                    })
                })
            }
        }, {
            key: "showErrorMsg",
            value: function(e) {
                e.allowedField.val(0),
                e.errorField.show(),
                e.closeIconId.hide(),
                e.thumbnailId.show(),
                e.placeholderId.html(e.placeholderLabel),
                e.placeholderId.show(),
                w()(e.dropZoneElement).addClass("red");
                var t = new DataTransfer;
                e.inputElement.files = t.files,
                e.errorField.html(e.dataParams.fileNotSupportedErrorMessage)
            }
        }, {
            key: "showErrorMsgTooBig",
            value: function(e) {
                e.errorField.show(),
                e.closeIconId.hide(),
                e.thumbnailId.show(),
                e.placeholderId.html(e.placeholderLabel),
                e.placeholderId.show(),
                w()(e.dropZoneElement).addClass("red");
                var t = new DataTransfer;
                e.inputElement.files = t.files,
                e.errorField.html(e.dataParams.fileTooBigErrorMessage)
            }
        }, {
            key: "showErrorMsgNoFile",
            value: function(e) {
                e.closeIconId.hide(),
                e.thumbnailId.show(),
                e.errorField.hide(),
                e.placeholderId.html(e.placeholderLabel),
                e.placeholderId.show(),
                w()(e.dropZoneElement).addClass("red"),
                e.errorFieldRequired.show();
                var t = new DataTransfer;
                e.inputElement.files = t.files
            }
        }, {
            key: "uploadFileAjax",
            value: function(e, o) {
                var s = this;
                o.sizeField.val(Math.ceil(10)),
                o.errorField.hide();
                var n = w()(o.dropZoneElement).find(".img-loader");
                n.show();
                for (var t = new FormData, i = 0; i < e.length; i++)
                    t.append("file", e[i]),
                    o.specificFiles.push({
                        id: e[i].name + "-" + e[i].size,
                        size: e[i].size,
                        name: e[i].name,
                        fileUrl: null
                    });
                this.opts.loadDataUploadOpts.data = t,
                w.a.ajax(this.opts.loadDataUploadOpts).done(function(i) {
                    if (!0 === i.success) {
                        var a = w()(o.dropZoneElement).find('[name="' + o.name + '"]');
                        w()("#" + o.id + "-table").html("");
                        for (var e = function(t) {
                            var e = '<small class="close-icon" data-id="'.concat(o.specificFiles[t].id, '" data-ico-before="&#xe822;"></small>');
                            w()("#" + o.id + "-table").append('<div class="wrapper-file">'.concat(o.specificFiles[t].name, "  ").concat(e, "</div>"));
                            var n = i.data.findIndex(function(e) {
                                return e.fileName === o.specificFiles[t].name && e.fileSize === o.specificFiles[t].size
                            });
                            -1 !== n && (o.specificFiles[t].fileUrl = i.data[n].fileUrl)
                        }, t = 0; t < o.specificFiles.length; t++)
                            e(t);
                        w()("#" + o.id + "-table").find(".close-icon").off("click"),
                        w()("#" + o.id + "-table").find(".close-icon").on("click", function(t) {
                            w()(t.target).parent().remove();
                            for (var e = new DataTransfer, n = 0; n < o.inputElement.files.length; n++) {
                                var i = o.inputElement.files[n];
                                i.name + "-" + i.size !== w()(t.target).attr("data-id") && e.items.add(o.inputElement.files[n])
                            }
                            var r = o.specificFiles.findIndex(function(e) {
                                return e.name + "-" + e.size === w()(t.target).attr("data-id")
                            });
                            -1 !== r && o.specificFiles.splice(r, 1),
                            o.inputElement.files = e.files,
                            0 === o.specificFiles.length && (a.val(""),
                            o.specificFiles = [],
                            s.showErrorMsgNoFile(o)),
                            a.val(o.specificFiles.map(function(e) {
                                return e.fileUrl
                            }).join(";"))
                        }),
                        a.val(o.specificFiles.map(function(e) {
                            return e.fileUrl
                        }).join(";")),
                        o.closeIconId.show(),
                        n.hide(),
                        o.errorField.hide(),
                        w()(o.dropZoneElement).removeClass("red")
                    } else
                        o.errorField.show(),
                        o.closeIconId.show(),
                        o.errorField.html(o.dataParams.uploadErrorMessage),
                        n.hide(),
                        w()(o.dropZoneElement).addClass("red")
                }).fail(function() {
                    o.errorField.show(),
                    o.closeIconId.show(),
                    o.errorField.html(o.dataParams.uploadErrorMessage),
                    n.hide(),
                    w()(o.dropZoneElement).addClass("red")
                })
            }
        }, {
            key: "restartPlugins",
            value: function() {
                var e = this.$element.find(this.opts.captchasOpts.captchaSelector)
                  , t = this.$element.find(this.opts.dealerLocatorSelector);
                window.Makolab.PluginManager.removePlugins(this.$element, !1),
                window.Makolab.PluginManager.init(this.$element, "", !1),
                0 < e.length && (this.Captcha = new s.a(e,this.opts.captchasOpts),
                this.Captcha.start()),
                0 < t.length && (this.DealerLocatorComponent = new l.a(t,this.opts.dealerLocatorOpts),
                this.DealerLocatorComponent.start())
            }
        }, {
            key: "collectData",
            value: function() {
                var e = {}
                  , t = this.$element.find(this.opts.formFieldSelector)
                  , n = !0
                  , i = !1
                  , r = void 0;
                try {
                    for (var a, o = t[Symbol.iterator](); !(n = (a = o.next()).done); n = !0) {
                        var s = a.value
                          , l = {
                            InputName: s.name,
                            Value: s.value
                        }
                          , u = s.getAttribute("itemid");
                        if ("checkbox" !== s.type && "radio" !== s.type && this.formData.root.types.push(l),
                        "radio" === s.type && s.checked && this.formData.root.types.push(l),
                        "checkbox" === s.type && s.checked && (e[u] || (e[u] = {
                            InputName: s.name,
                            Value: []
                        }),
                        e[u].Value.push(s.value)),
                        "filesSelect" === s.getAttribute("fieldType")) {
                            var c = window.location.href.split("/")
                              , h = c[c.length - 1]
                              , d = s[s.selectedIndex].getAttribute("fileValue");
                            d && (l.FilePath = window.location.href.replace(h, "") + this.pathToRoot + d)
                        }
                        if ("filesSelect" === s.getAttribute("fieldType") && (this.fileSelect = !0),
                        "dealerlocator" === s.getAttribute("fieldType")) {
                            var p = s.getAttribute("data-email");
                            l.Email = p
                        }
                    }
                } catch (e) {
                    i = !0,
                    r = e
                } finally {
                    try {
                        n || null == o.return || o.return()
                    } finally {
                        if (i)
                            throw r
                    }
                }
                for (var f in e)
                    e && this.formData.root.types.push(e[f])
            }
        }, {
            key: "splitJsonString",
            value: function(e, t) {
                for (var n = [], i = 0; i < e.length; i += t)
                    n.push(e.substring(i, i + t));
                return n
            }
        }, {
            key: "uuidCreate",
            value: function() {
                for (var e = [], t = "0123456789abcdef", n = 0; n < 36; n++)
                    e[n] = t.substr(Math.floor(16 * Math.random()), 1);
                return e[14] = "4",
                e[19] = t.substr(3 & e[19] | 8, 1),
                e[8] = "-",
                e[13] = "-",
                e[18] = "-",
                e[23] = "-",
                e.join("")
            }
        }, {
            key: "clean",
            value: function() {
                this.partsSent = 0,
                this.jsonStringParts = [],
                this.formData.root.types = []
            }
        }, {
            key: "resultHandler",
            value: function(e) {
                if (!0 === e.status) {
                    if (this.partsSent++,
                    this.partsSent === this.jsonStringParts.length) {
                        this.$element.find(this.opts.errorSendMessageSelector).addClass("hidden"),
                        this.clean();
                        var t = this.$element.find(this.opts.formSectionSelector)
                          , n = this.$element.find(this.opts.formStepsSelector)
                          , i = this.$element.find(this.opts.formSendSelector);
                        if (t.hide(),
                        n.hide(),
                        this.thankYouPageUrl && "" !== this.thankYouPageUrl ? window.location.href = this.thankYouPageUrl : i.show(),
                        this.fileSelect) {
                            var r = this.$element.find(this.opts.brochureLinkSelector)
                              , a = this.$element.find(this.opts.brochureLinkContainerSelector);
                            e.savedLeadId ? r.attr("href", this.fileServiceUrl + "/?id=" + e.savedLeadId) : r.attr("href", this.fileServiceUrl + "/?id=" + e.id),
                            a.removeClass("hidden")
                        }
                        w()("html, body").animate({
                            scrollTop: i.offset().top - 80
                        }, 200)
                    }
                    this.formSendLoaderSelector.hide()
                } else
                    this.faultHandler()
            }
        }, {
            key: "faultHandler",
            value: function() {
                var e = this.$element.find(this.opts.errorSendMessageSelector);
                this.clean(),
                e.removeClass("hidden"),
                this.formSendLoaderSelector.hide(),
                w()("html, body").animate({
                    scrollTop: e.offset().top - 40
                }, 200)
            }
        }, {
            key: "mapValidationHandler",
            value: function() {
                var e = this.$element.find(".dynamic-form_map-field")
                  , t = this.$element.find(".dynamic-form_map-message");
                e.removeClass(this.errorClass),
                t.removeClass(this.errorClass)
            }
        }, {
            key: "captchaValidationHandler",
            value: function(t) {
                var n = this
                  , e = this.captchaInputSelector.val()
                  , i = this.$element.find(this.opts.captchasOpts.captchaErrorMsgSelector);
                w.a.ajax({
                    url: this.opts.captchasOpts.urlCaptchaValid + this.timeStamp + "?code=" + e,
                    type: "GET",
                    dataType: "jsonp"
                }).done(function(e) {
                    return n.captchaValid = e.data,
                    !1 === n.captchaValid ? (n.captchaInputSelector.attr("aria-invalid", !0),
                    n.captchaInputSelector.addClass(n.errorClass),
                    i.addClass(n.errorClass)) : (n.captchaInputSelector.attr("aria-invalid", !1),
                    n.captchaInputSelector.removeClass(n.errorClass),
                    i.removeClass(n.errorClass),
                    x.a.isFunction(t) && t()),
                    n.captchaValid
                }).fail(function() {
                    n.captchaInputSelector.attr("aria-invalid", !0),
                    n.captchaInputSelector.addClass(n.errorClass),
                    i.addClass(n.errorClass)
                })
            }
        }, {
            key: "sendPart",
            value: function(e) {
                var t = this.opts.serviceUrl + "/save/?id=" + this.requestId + "&item=" + (e + 1) + "&all=" + this.jsonStringParts.length + "&data=" + this.jsonStringParts[e]
                  , n = this.opts.serviceUrl + "/save";
                if ("POST" === this.opts.submitMethod) {
                    var i = Object.assign({
                        data: this.jsonString,
                        id: this.requestId,
                        all: this.jsonStringParts.length,
                        item: e + 1
                    });
                    w.a.ajax({
                        type: "POST",
                        url: n,
                        async: !0,
                        timeout: 3e4,
                        dataType: "json",
                        data: i,
                        cache: !1,
                        success: this.resultHandler,
                        error: this.faultHandler
                    })
                } else
                    w.a.ajax({
                        type: "GET",
                        url: t,
                        async: !1,
                        timeout: 3e4,
                        contentType: "application/json",
                        dataType: "jsonp",
                        cache: !1,
                        success: this.resultHandler,
                        error: this.faultHandler
                    })
            }
        }, {
            key: "submitForm",
            value: function() {
                var y = this;
                this.formSendLoaderSelector = this.$element.find(this.opts.formSendLoaderSelector),
                this.formSendLoaderSelector.show(),
                this.collectData(),
                this.jsonString = JSON.stringify(this.formData),
                this.jsonStringEncoded = encodeURIComponent(this.jsonString),
                this.jsonStringParts = this.splitJsonString(this.jsonStringEncoded, this.partSize),
                this.requestId = this.uuidCreate();
                for (var e = 0; e < this.jsonStringParts.length; e++)
                    this.sendPart(e);
                var b = this.opts.tariffMappings;
                if (b) {
                    var t = this.$element.find("select")
                      , _ = !1;
                    t.each(function(e, t) {
                        for (var n, i = 0; i < t.length; i++)
                            t[i].value === t.value && (n = t[i].text.trim());
                        var r = y.data
                          , a = window.dataLayer
                          , o = b[t.value] ? b[t.value] : b[n]
                          , s = y.$element.find(y.opts.dealerLocatorOpts.dealersList.dealersSelector)[0]
                          , l = w()(s).find(y.opts.activeSelector)
                          , u = l.data("dealercity")
                          , c = l.data("dealername")
                          , h = u && c ? "".concat(u, "_").concat(c) : ""
                          , d = x.a.get(r, "data.formTemplate.templateType", "")
                          , p = x.a.get(r, "data.formTemplate.templateSubType", "")
                          , f = x.a.get(r, "data.formTemplate.templateTitle", "")
                          , m = String((new Date).getTime())
                          , g = x.a.get(o, "carCode", "")
                          , v = x.a.get(o, "carLabel", "");
                        !1 === _ && x.a.isObject(o) && !x.a.isEmpty(o) && (a && a.push({
                            transactionID: m,
                            transactionDate: new Date,
                            formCategory: d,
                            formType: p,
                            formName: f,
                            transactionAffiliation: h,
                            carVersion: x.a.get(o, "phase", ""),
                            carKey: x.a.get(o, "projectCode", ""),
                            carLabel: v,
                            carCode: g,
                            event: "LeadValidate"
                        }),
                        void 0 !== window._gaq && window._gaq && (window._gaq.push(["_addTrans", m, h, "1"]),
                        window._gaq.push(["_addItem", m, g, "".concat(v, " ").concat(g), d, p, f, "0"]),
                        window._gaq.push(["_trackTrans"]),
                        window._gaq.push(["_trackEvent", "Leadform Validations", v && g ? "".concat(v, " ").concat(g) : "", d, p, f])),
                        _ = !0)
                    });
                    var n = String((new Date).getTime())
                      , i = window.dataLayer
                      , r = x.a.get(this.data, "data.formTemplate.templateType", "")
                      , a = x.a.get(this.data, "data.formTemplate.templateSubType", "")
                      , o = x.a.get(this.data, "data.formTemplate.templateTitle", "")
                      , s = x.a.get(this.data, "carCode", "")
                      , l = x.a.get(this.data, "carLabel", "")
                      , u = this.$element.find(this.opts.dealerLocatorOpts.dealersList.dealersSelector)[0]
                      , c = w()(u).find(this.opts.activeSelector)
                      , h = c.data("dealercity")
                      , d = c.data("dealername")
                      , p = h && d ? "".concat(h, "_").concat(d) : "";
                    !1 === _ && (i && i.push({
                        transactionID: n,
                        transactionDate: new Date,
                        formCategory: r,
                        formType: a,
                        formName: o,
                        transactionAffiliation: p,
                        carVersion: "",
                        carKey: "",
                        carLabel: l,
                        carCode: s,
                        event: "LeadValidate"
                    }),
                    void 0 !== window._gaq && window._gaq && (window._gaq.push(["_addTrans", n, p, "1"]),
                    window._gaq.push(["_addItem", n, s, "".concat(l, " ").concat(s), r, a, o, "0"]),
                    window._gaq.push(["_trackTrans"]),
                    window._gaq.push(["_trackEvent", "Leadform Validations", l && s ? "".concat(l, " ").concat(s) : "", r, a, o])))
                }
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var r = n(3)
      , a = n(71)
      , i = n(1)
      , o = n.n(i)
      , s = n(0)
      , l = n.n(s);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = o.a.merge({}, {
                sectionSelector: ".fp-form-section",
                stepSelector: ".fp-form-step",
                activeStepSelector: ".fp-form-step.is-active",
                goToSectionSelector: ".fp-go-section",
                goToPrevSectionSelector: ".fp-go-prev-section",
                formFieldSelector: ".fp-form-field",
                dynamicFormSubmitSelector: ".dynamic-form_submit-button",
                activeSection: ".is-active",
                sectionEnabledClass: "enabledSection",
                activeClass: "is-active",
                nextSectionClass: "fp-go-section",
                prevSectionClass: "fp-go-prev-section",
                ignoreClass: "validation-disabled",
                radioSelector: ".radio_input",
                checkboxSelector: ".checkbox_input",
                validationOpts: {
                    formSelector: ".dynamic-form",
                    labelsGetErrorClass: !1,
                    validationOpts: {
                        validClass: "is-valid",
                        errorClass: "is-invalid",
                        ignore: ".validation-disabled"
                    }
                }
            }, t),
            h(this, p(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(i, [{
            key: "start",
            value: function() {
                d(p(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                d(p(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var a = this;
                this.sectionSelector = this.$element.find(this.opts.sectionSelector),
                this.stepSelector = this.$element.find(this.opts.stepSelector),
                this.activeSection = this.$element.find(this.opts.activeSection),
                this.formFieldSelector = this.$element.find(this.opts.formFieldSelector),
                this.formSelector = this.$element.find(this.opts.validationOpts.formSelector),
                this.dynamicFormSubmitSelector = this.$element.find(this.opts.dynamicFormSubmitSelector),
                this.radioSelector = this.$element.find(this.opts.radioSelector),
                this.checkboxSelector = this.$element.find(this.opts.checkboxSelector),
                this.setDisabledValidation(),
                this.setVaildation(),
                this.$element.on("click", this.opts.goToSectionSelector, function(e) {
                    var t = a.$element.find(a.opts.activeStepSelector).data("step")
                      , n = a.$element.find(a.opts.activeStepSelector);
                    if (a.formSelector.valid(),
                    a.formSelector.valid()) {
                        var i = a.stepSelector.find("[data-step='".concat(t + 1, "']"))
                          , r = l()(e.currentTarget).data("step");
                        n.addClass(a.opts.sectionEnabledClass),
                        i.addClass(a.opts.sectionEnabledClass),
                        r - t != 1 && !l()(e.currentTarget).hasClass(a.opts.sectionEnabledClass) || a.goToSection(r)
                    } else
                        a.stepSelector.removeClass(a.opts.sectionEnabledClass),
                        a.scrollToError()
                }),
                this.$element.on("click", this.opts.goToPrevSectionSelector, function(e) {
                    a.formSelector.valid() || a.stepSelector.removeClass(a.opts.sectionEnabledClass);
                    var t = l()(e.currentTarget).data("step");
                    a.goToSection(t)
                }),
                this.$element.on("click", this.opts.dynamicFormSubmitSelector, function() {
                    a.formSelector.valid() || a.scrollToError()
                }),
                this.radioSelector.on("change", function(e) {
                    a.stopDisplayValidationMsg(e)
                }),
                this.checkboxSelector.on("change", function(e) {
                    a.stopDisplayValidationMsg(e)
                })
            }
        }, {
            key: "setVaildation",
            value: function() {
                this.validation = new a.a(this.$element,this.opts.validationOpts),
                this.validation.start()
            }
        }, {
            key: "setDisabledValidation",
            value: function() {
                this.sectionSelector.find(this.formFieldSelector).addClass(this.opts.ignoreClass),
                this.activeSection.find(this.formFieldSelector).removeClass(this.opts.ignoreClass)
            }
        }, {
            key: "stopDisplayValidationMsg",
            value: function(e) {
                l()(e.currentTarget).parent().removeClass(this.opts.validationOpts.validationOpts.errorClass),
                l()(e.currentTarget).parent().siblings().removeClass(this.opts.validationOpts.validationOpts.errorClass)
            }
        }, {
            key: "goToSection",
            value: function(e) {
                var t = this.$element.find("".concat(this.opts.sectionSelector, "[data-step='").concat(e, "']"))
                  , n = this.$element.find("".concat(this.opts.stepSelector, "[data-step='").concat(e, "']"))
                  , i = this.$element.find("".concat(this.opts.stepSelector, "[data-step='").concat(e, "']")).parent();
                this.sectionSelector.removeClass(this.opts.activeClass),
                this.stepSelector.removeClass(this.opts.activeClass),
                t.addClass(this.opts.activeClass),
                n.addClass("".concat(this.opts.activeClass, " ").concat(this.opts.sectionEnabledClass)).removeClass(this.opts.nextSectionClass),
                i.prevAll().find(this.opts.stepSelector).removeClass(this.opts.nextSectionClass).addClass(this.opts.prevSectionClass),
                i.nextAll().find(this.opts.stepSelector).removeClass(this.opts.prevSectionClass).addClass(this.opts.nextSectionClass),
                this.formFieldSelector.addClass(this.opts.ignoreClass),
                t.find(l()("." + this.opts.ignoreClass)).removeClass(this.opts.ignoreClass),
                window.dispatchEvent(new Event("resize")),
                l()("html, body").animate({
                    scrollTop: this.formSelector.offset().top
                }, 200)
            }
        }, {
            key: "scrollToError",
            value: function() {
                this.errorSelector = this.$element.find("." + this.opts.validationOpts.validationOpts.errorClass),
                l()("html, body").animate({
                    scrollTop: this.errorSelector.first().offset().top - 100
                }, 200)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return g
    });
    var i = n(3)
      , a = n(41)
      , o = n(305)
      , r = n(1)
      , s = n.n(r)
      , l = n(0)
      , u = n.n(l);
    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== c(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var g = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = s.a.merge({}, {
                triggerSelector: ".trigger",
                containerSelector: ".container-show",
                expandTriggerClass: "is-active",
                parentSelector: ".expand-box",
                grouped: !1,
                idPrefix: "expand-cont",
                activeDropdownSelector: ".expand-container.is-active",
                expandableLink: ".sub-nav_link-expandable",
                ordinaryLink: ".sub-nav_link",
                menuPopupCloseTrigger: ".menu-popup .menu-popup_close",
                menuPopup: ".menu-popup",
                menuPopupMask: ".menu-popup_mask",
                menuPopupVehiclesContainer: ".menu-popup_vehicles-container"
            }, t),
            (i = d(this, f(r).call(this, e, t, n))).deviceResolutions = new a.a,
            i.$window = u()(window),
            i.$document = u()(document),
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(r, [{
            key: "start",
            value: function() {
                p(f(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                p(f(r.prototype), "stop", this).call(this),
                this.ImageRWDArray.forEach(function(e) {
                    e.stop()
                })
            }
        }, {
            key: "resume",
            value: function() {
                p(f(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.currentBodyDir = document.body.getAttribute("dir") || "ltr",
                this.leftDir = "ltr" === this.currentBodyDir ? "left" : "right",
                this.ImageRWDArray = [],
                this.width = this.$window.width(),
                this.$triggers = this.$element.find(this.opts.parentSelector + " " + this.opts.triggerSelector),
                this.$triggers.length || (this.$triggers = this.$element.find(this.opts.triggerSelector)),
                this.handlerClick = this.clickHandler.bind(this),
                this.hideAllContentsHolder = this.hideAllContents.bind(this),
                this.hidePopupFunc = this.hidePopup.bind(this),
                this.expandMobilePopupFunc = this.expandMobilePopup.bind(this),
                this.expandLinkHoverFunc = this.expandLinkHover.bind(this),
                this.keydownHandlerFunc = this.keydownHandler.bind(this),
                this.closePopupMenuOnMobileFunc = this.closePopupMenuOnMobile.bind(this),
                this.onWindowResizeFunc = this.onWindowResize.bind(this),
                this.hideOnScrollFunc = this.hideOnScroll.bind(this);
                var e = navigator.userAgent.match(/Chrome/g) && navigator.userAgent.match(/Android/g) && !navigator.userAgent.match(/(Version)/g);
                this.$expandableLink = this.$element.find(this.opts.expandableLink),
                this.$ordinaryLink = this.$element.find(this.opts.ordinaryLink),
                this.$menuPopupCloseTrigger = this.$element.find(this.opts.menuPopupCloseTrigger),
                this.$menuPopupElement = this.$element.find(this.opts.menuPopup),
                this.$menuPopupMask = this.$element.find(this.opts.menuPopupMask),
                this.$menuPopupVehiclesContainer = this.$element.find(this.opts.menuPopupVehiclesContainer),
                this.$expandableLink && (this.$hideTriggers = u()(".menu-popup_mask, .page-header--helios .menu-trigger, .page-header--helios .nav-mask, .page-container"),
                0 < this.$hideTriggers.length && this.on(this.$hideTriggers, "click", this.hideAllContentsHolder),
                this.on(this.$menuPopupCloseTrigger, "click", this.closePopupMenuOnMobileFunc),
                this.on(this.$triggers, "click", this.handlerClick),
                this.on(this.$expandableLink, "click", this.expandMobilePopupFunc),
                this.on(this.$expandableLink, "mouseover", this.expandLinkHoverFunc),
                this.on(this.$expandableLink, "keydown", this.keydownHandlerFunc)),
                this.subscribe("close-other-menu", this.hideAllContentsHolder),
                u()("html").hasClass("windows-mobile") || e ? this.on(this.$window, "orientationchange", this.onWindowResize.bind(this)) : this.on(this.$window, "resize", s.a.debounce(this.onWindowResize.bind(this), 300)),
                this.on(this.$window, "scroll", s.a.debounce(this.hideOnScroll.bind(this), 300)),
                this.on(this.$ordinaryLink, "mouseover", this.hidePopupFunc),
                this.on(this.$document, "mouseup", function(e) {
                    var t = n.$element;
                    t.is(e.target) || 0 !== t.has(e.target).length || n.hideAllContents()
                })
            }
        }, {
            key: "closePopupMenuOnMobile",
            value: function(e) {
                e.preventDefault(),
                e.stopPropagation(),
                this.$menuPopupElement.removeClass("is-active")
            }
        }, {
            key: "keydownHandler",
            value: function(e) {
                13 === e.which && ("xs" !== this.deviceResolutions.getCurrent() && "sm" !== this.deviceResolutions.getCurrent() ? this.expandLinkHover(e) : this.expandMobilePopup(e))
            }
        }, {
            key: "expandMobilePopup",
            value: function(e) {
                if (e.preventDefault(),
                e.stopImmediatePropagation(),
                "xs" === this.deviceResolutions.getCurrent() || "sm" === this.deviceResolutions.getCurrent()) {
                    this.$expandableLink.removeClass("is-active");
                    var t = u()(e.currentTarget).data("popup")
                      , n = this.$menuPopupElement.find("[data-popup='".concat(t, "']"));
                    u()(e.currentTarget).addClass("is-active"),
                    this.$menuPopupElement.css("min-height", u()(".page-header--helios nav.mobile-menu").height() - 60).addClass("is-active"),
                    this.$menuPopupVehiclesContainer.removeClass("is-active"),
                    n.addClass("is-active"),
                    this.setImageRWD(t, n)
                }
            }
        }, {
            key: "clickHandler",
            value: function(e) {
                var t = this;
                e.preventDefault(),
                e.stopPropagation();
                var n = u()(e.currentTarget)
                  , i = this.getContainer(n);
                this.opts.grouped && !n.hasClass(this.opts.expandTriggerClass) && this.publish("close-other-menu", []),
                setTimeout(function() {
                    t.toggleClass(n, i)
                }, 50)
            }
        }, {
            key: "toggleClass",
            value: function(e, t) {
                e.hasClass(this.opts.expandTriggerClass) || t.hasClass(this.opts.expandTriggerClass) ? (e.removeClass(this.opts.expandTriggerClass),
                t.removeClass(this.opts.expandTriggerClass),
                this.$menuPopupVehiclesContainer.removeClass("is-active"),
                this.$menuPopupMask.removeClass("is-active")) : (e.addClass(this.opts.expandTriggerClass),
                t.addClass(this.opts.expandTriggerClass))
            }
        }, {
            key: "getContainer",
            value: function(e) {
                var t = e.parents(this.opts.parentSelector);
                return 0 === t.length && (t = this.$element),
                t.find(this.opts.containerSelector)
            }
        }, {
            key: "hideAllContents",
            value: function() {
                var e = this.$element.find(this.opts.containerSelector + "." + this.opts.expandTriggerClass)
                  , t = this.$element.find(this.opts.triggerSelector + "." + this.opts.expandTriggerClass);
                e.removeClass(this.opts.expandTriggerClass),
                t.removeClass(this.opts.expandTriggerClass),
                this.hidePopup()
            }
        }, {
            key: "onWindowResize",
            value: function() {
                0 < this.$element.find("li ." + this.opts.expandTriggerClass).length && this.width !== this.$window.width() && (this.width = this.$window.width(),
                this.hideAllContents())
            }
        }, {
            key: "expandLinkHover",
            value: function(e) {
                if (e.preventDefault(),
                e.stopImmediatePropagation(),
                "xs" !== this.deviceResolutions.getCurrent() && "sm" !== this.deviceResolutions.getCurrent() && !u()(e.currentTarget).is(".is-active")) {
                    this.$expandableLink.removeClass("is-active");
                    var t = u()(e.currentTarget).data("popup")
                      , n = this.$menuPopupElement.find("[data-popup='".concat(t, "']"))
                      , i = u()(this.opts.activeDropdownSelector).innerWidth() + 126;
                    this.$menuPopupElement.addClass("is-active"),
                    u()(e.currentTarget).addClass("is-active"),
                    this.$menuPopupVehiclesContainer.removeClass("is-active"),
                    n.addClass("is-active").get(0).style[this.leftDir] = i + "px",
                    this.$menuPopupMask.addClass("is-active"),
                    this.setImageRWD(t, n)
                }
            }
        }, {
            key: "hidePopup",
            value: function() {
                this.$menuPopupVehiclesContainer.hasClass("is-active") && (this.$menuPopupVehiclesContainer.removeClass("is-active"),
                this.$menuPopupMask.removeClass("is-active"),
                this.$menuPopupElement.removeClass("is-active"),
                this.$expandableLink.removeClass("is-active"))
            }
        }, {
            key: "hideOnScroll",
            value: function() {
                "xs" !== this.deviceResolutions.getCurrent() && "sm" !== this.deviceResolutions.getCurrent() && 250 < this.$window.scrollTop() && this.hideAllContents()
            }
        }, {
            key: "setImageRWD",
            value: function(e, t) {
                this.ImageRWDArray[e] || (this.ImageRWDArray[e] = new o.a(t,{},this.resolutions),
                this.ImageRWDArray[e].start())
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return p
    });
    var a = n(1)
      , i = n(0)
      , o = n.n(i)
      , s = n(3);
    function r(e) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function u(e, t) {
        return !t || "object" !== r(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function c(e, t, n) {
        return (c = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = h(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function h(e) {
        return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function d(e, t) {
        return (d = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var p = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = a.merge({}, {
                lazyLoadingSelector: ".lazy-loading",
                showClass: "show",
                onLoadImagesEvent: "",
                visibilityCheck: !0,
                event: "scroll",
                eventOnImgReload: "responsive-img-reloaded",
                eventOnEachImgLoaded: "plp/one-img-loaded",
                eventOnFirstImgLoad: "",
                eventToLoadImages: "click",
                reloadOnEveryImage: !1,
                forceLoadClass: "force-loading",
                loadedClass: "img-loaded",
                useNative: !1,
                lazyLoadingTag: "span",
                imagesLoadingTrigger: "",
                elementVisibilityCheck: !1,
                offsetBack: 0
            }, t),
            (i = u(this, h(r).call(this, e, t, n))).$window = o()(window),
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && d(e, t)
        }(r, s["a"]),
        function(e, t, n) {
            t && l(e.prototype, t),
            n && l(e, n)
        }(r, [{
            key: "start",
            value: function() {
                c(h(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                c(h(r.prototype), "stop", this).call(this),
                this.$window.off("." + this.pluginId)
            }
        }, {
            key: "resume",
            value: function() {
                c(h(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.elements = this.$element.find(this.opts.lazyLoadingSelector).filter("script, template"),
                this.pictureCount = this.elements.length,
                this.pictureCountLoaded = this.elements.filter("." + this.opts.loadedClass).length,
                this.pictureCountLoaded && this.publish(this.opts.eventOnFirstImgLoad),
                "" === this.opts.event ? this.loadTemplates(!0) : this.opts.imagesLoadingTrigger.length ? (this.boundLoadOnEvent = this.loadOnEvent.bind(this),
                this.loadingTrigger = this.$element.find(this.opts.imagesLoadingTrigger),
                this.loadingTrigger.on(this.opts.eventToLoadImages + "." + this.pluginId, this.boundLoadOnEvent)) : "remote" === this.opts.event ? this.loadTemplates() : (this.boundLoadPicture = this.loadTemplates.bind(this),
                this.loadTemplates(),
                this.$window.on(this.opts.event + "." + this.pluginId, this.boundLoadPicture))
            }
        }, {
            key: "loadTemplates",
            value: function(e) {
                var i = this
                  , r = 0 < arguments.length && void 0 !== e && e;
                this.elements = this.$element.find(this.opts.lazyLoadingSelector).filter("script, template"),
                o.a.each(this.elements, function(e, t) {
                    var n = o()(t);
                    !0 === r ? i.parseTemplate(n) : i.checkVisibility(n) && i.opts.visibilityCheck ? i.parseTemplate(n) : !i.opts.visibilityCheck && n.hasClass(i.opts.forceLoadClass) && i.parseTemplate(n)
                })
            }
        }, {
            key: "loadOnEvent",
            value: function() {
                this.imagesLoaded || (this.loadTemplates(!0),
                this.imagesLoaded = !0)
            }
        }, {
            key: "parseTemplate",
            value: function(e) {
                var t, n = "data-template-id";
                if (e.attr(n) ? t = e.attr(n) : (t = Math.random().toString(36).substring(2),
                e.attr(n, t)),
                !(e.next().attr(n) === t)) {
                    var i = e.text()
                      , r = e.after(i).next()
                      , a = r.find("img").first();
                    r.attr("data-template-id", t),
                    a.on("load", this.onImageLoad.bind(this))
                }
            }
        }, {
            key: "onImageLoad",
            value: function(e) {
                var t = o()(e.currentTarget)
                  , n = t.parents("picture");
                this.pictureCountLoaded++,
                1 === this.pictureCountLoaded && this.opts.eventOnFirstImgLoad && this.publish(this.opts.eventOnFirstImgLoad),
                n.addClass(this.opts.loadedClass),
                t.addClass(this.opts.showClass),
                this.opts.eventOnEachImgLoaded && this.publish(this.opts.eventOnEachImgLoaded, {
                    plugin: this,
                    loadedImg: t
                }),
                this.pictureCountLoaded === this.pictureCount && (this.$window.off(this.opts.event + "." + this.pluginId, this.boundLoadPicture),
                this.opts.onLoadImagesEvent && this.publish(this.opts.onLoadImagesEvent),
                !1 === this.opts.reloadOnEveryImage && this.opts.eventOnImgReload && this.publish(this.opts.eventOnImgReload)),
                !0 === this.opts.reloadOnEveryImage && this.opts.eventOnImgReload && this.publish(this.opts.eventOnImgReload)
            }
        }, {
            key: "checkVisibility",
            value: function(e) {
                if (!0 === this.opts.elementVisibilityCheck && !e.is(":visible"))
                    return !1;
                var t = this.$window.height()
                  , n = this.$window.scrollTop();
                return e.offset().top < t + n + (this.opts.offsetBack || 0)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return g
    });
    var i = n(1)
      , r = n.n(i)
      , a = n(3)
      , o = n(0)
      , s = n.n(o)
      , l = n(160)
      , u = n.n(l);
    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== c(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var g = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = r.a.merge({}, {
                sliderSelector: "#swiper",
                clearAutoplayTimeoutOnSlideChangeStart: !1,
                thumbnailsSelector: ".arrows",
                paginationContainer: ".swiper-pagination",
                thumbSelector: "#thumbnails",
                mobileResizeOnOrientation: !0,
                customAutoplay: "",
                swiperOpts: {
                    direction: "horizontal",
                    loop: !1,
                    slidesPerView: 1,
                    simulateTouch: !1,
                    pagination: ".swiper-pagination",
                    paginationClickable: !0,
                    buttonDisabledClass: "disabled",
                    prevButton: "",
                    nextButton: "",
                    autoplay: !0,
                    speed: 3e3
                },
                videoOptions: {
                    startElementSelector: ".play-btn",
                    endElementSelector: ".replay-btn",
                    replayElementSelector: ".replay-btn",
                    videoStartInject: "video-injector/video-start-inject",
                    videoCloseInject: "video-injector/video-closed",
                    videoStopEvent: ""
                },
                adjustSlidesPerView: !1,
                responsiveImages: !1,
                responsiveImagesOpts: {
                    lazyLoadingSelector: ".lazy-loading-main-slider",
                    event: "remote",
                    forceLoadClass: "force-loading",
                    visibilityCheck: !1,
                    eventOnFirstImgLoad: "ext-swiper/first-img-loaded"
                },
                initializeOnEvent: "",
                initOneSlide: !1,
                eventOnInit: "",
                eventOnSlideChanged: "ext-swiper/slide-changed",
                onSwiperReady: "",
                reloadOnEvent: ["responsive-img-reloaded"],
                sliderAutoPlayStop: !1,
                autoPlayStop: {
                    autoPlayStopSelector: "",
                    stopClass: "stop-btn",
                    playClass: "play-btn",
                    triggerEvent: "click"
                },
                onDestroy: "",
                staticSwiper: !0,
                dynamicSwiperFistSlideVideoEvent: "",
                startVideoEvent: "",
                eventOnSlideChangedIndexSet: "ext-swiper/slide-changed-index-set"
            }, t),
            d(this, f(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(i, a["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(i, [{
            key: "start",
            value: function() {
                p(f(i.prototype), "start", this).call(this),
                this.opts.responsiveImages || this.init()
            }
        }, {
            key: "swipeTo",
            value: function(e) {
                this.swiper.slideTo(e)
            }
        }, {
            key: "stop",
            value: function() {
                p(f(i.prototype), "stop", this).call(this),
                this.swiper && (this.swiper.destroy(),
                this.swiper = void 0,
                "function" == typeof this.opts.onDestroy && this.opts.onDestroy(),
                this.resetSwiperInlineStyles(),
                this.$stopButton && this.$stopButton.off("click", this.stopButtonHandler)),
                s()(this.opts.sliderSelector).removeClass("initialized"),
                this.$window.off("." + this.pluginId)
            }
        }, {
            key: "resetSwiperInlineStyles",
            value: function() {
                var e = this.$element.find(this.opts.sliderSelector + " .swiper-wrapper")
                  , t = e.find(".swiper-slide");
                t.filter(".swiper-slide-duplicate").remove(),
                e.removeAttr("style"),
                t.removeAttr("style")
            }
        }, {
            key: "resume",
            value: function() {
                p(f(i.prototype), "resume", this).call(this),
                this.start()
            }
        }, {
            key: "detectIE",
            value: function() {
                this.browser = {
                    ie8: function() {
                        var e = -1;
                        if ("Microsoft Internet Explorer" === navigator.appName) {
                            var t = navigator.userAgent;
                            null !== new RegExp(/MSIE ([0-9]{1,}[.0-9]{0,})/).exec(t) && (e = parseFloat(RegExp.$1))
                        }
                        return -1 !== e && e < 9
                    }(),
                    ie10: -1 < navigator.userAgent.toString().toLowerCase().indexOf("trident/6"),
                    ie11: window.navigator.pointerEnabled
                }
            }
        }, {
            key: "init",
            value: function() {
                this.$window = s()(window),
                this.$html = s()("html"),
                this.$winWidth = this.$window.width(),
                this.$winHeight = this.$window.height(),
                this.alreadyCalled = !1,
                this.detectIE(),
                this.$element.find(".swiper-slide").css("display", "block");
                var e = this.$element.find(this.opts.sliderSelector + " .swiper-slide");
                this.reloadOnEventStatus = !1,
                this.setIndex(e),
                this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, this.initializeSwiper.bind(this)) : this.initializeSwiper()
            }
        }, {
            key: "initializeSwiper",
            value: function() {
                void 0 === this.swiper && (this.setupSwiper(),
                this.setupThumbnails(),
                this.setupSwiperStop(),
                this.ieAutoplay())
            }
        }, {
            key: "loadResponsiveImages",
            value: function(e) {
                var t = this;
                this.responsiveImages = new e(this.$element,this.opts.responsiveImagesOpts),
                this.subscribe(this.opts.responsiveImagesOpts.eventOnFirstImgLoad, function() {
                    t.init()
                }),
                this.responsiveImages.start(),
                this.opts.responsiveImagesOpts.eventOnEachImgLoaded && "auto" === this.opts.swiperOpts.slidesPerView && this.subscribe(this.opts.responsiveImagesOpts.eventOnEachImgLoaded, this.recalculateSwiper.bind(this)),
                this.responsiveImages.loadPicture()
            }
        }, {
            key: "setupSwiper",
            value: function() {
                var e = r.a.cloneDeep(this.opts.swiperOpts);
                this.fInit = !1,
                e.onSlideChangeStart = this.onSlideChangeStart.bind(this),
                e.onSlideChangeEnd = this.onSlideChangeEnd.bind(this),
                e.onInit = this.onInit.bind(this),
                e.onTouchEnd = this.onSlideTouchEnd.bind(this),
                e.onLazyImageReady = this.onLazyImageReady.bind(this),
                this.swiper = new u.a(this.opts.sliderSelector,e),
                this.orientationChange()
            }
        }, {
            key: "onLazyImageReady",
            value: function(e, t, n) {
                "function" == typeof this.opts.swiperOpts.onLazyImageReady && this.opts.swiperOpts.onLazyImageReady.call(this, e, t, n),
                !1 === this.alreadyCalled && (this.setCustomAutoplay(),
                this.alreadyCalled = !0)
            }
        }, {
            key: "orientationChange",
            value: function() {
                this.msOrientationChangeHandler = this.msOrientationChange.bind(this),
                this.opts.mobileResizeOnOrientation && this.$html.hasClass("windows-mobile") && this.$window.on("orientationchange." + this.pluginId, this.msOrientationChangeHandler)
            }
        }, {
            key: "msOrientationChange",
            value: function() {
                var e = this;
                try {
                    this.swiper && "function" == typeof this.swiper.onResize && setTimeout(function() {
                        e.swiper.onResize(!1)
                    }, 1e3)
                } catch (e) {
                    console.log(e.message)
                }
            }
        }, {
            key: "onInit",
            value: function() {
                this.onSwiperCreated(),
                this.fInit || (this.fInit = !0,
                this.initVideo(),
                "function" == typeof this.opts.onSwiperReady && this.opts.onSwiperReady.bind(this)()),
                this.loadSiblingsImage()
            }
        }, {
            key: "onSwiperCreated",
            value: function() {
                if ("function" == typeof this.opts.swiperOpts.onSwiperCreated && this.opts.swiperOpts.onSwiperCreated.bind(this)(),
                this.opts.reloadOnEvent && !this.reloadOnEventStatus) {
                    if ("string" == typeof this.opts.reloadOnEvent)
                        this.subscribe(this.opts.reloadOnEvent, this.recalculateSwiper.bind(this));
                    else
                        for (var e = 0; e < this.opts.reloadOnEvent.length; e++)
                            this.subscribe(this.opts.reloadOnEvent[e], this.recalculateSwiper.bind(this));
                    this.reloadOnEventStatus = !0
                }
                s()(this.opts.sliderSelector).addClass("initialized")
            }
        }, {
            key: "recalculateSwiper",
            value: function() {
                void 0 !== this.swiper && this.swiper.onResize()
            }
        }, {
            key: "loadSiblingsImage",
            value: function() {
                if (void 0 !== this.swiper && void 0 !== this.responsiveImages) {
                    var e, t, n = this.swiper.activeIndex, i = this.swiper.activeIndex - 1;
                    if ("auto" === this.opts.swiperOpts.slidesPerView)
                        this.$element.find("." + this.swiper.params.slideVisibleClass + " " + this.opts.responsiveImagesOpts.lazyLoadingTag).addClass(this.opts.responsiveImagesOpts.forceLoadClass);
                    else {
                        for (var r = 0; r < this.opts.swiperOpts.slidesPerView + 1; r++)
                            t = n + r,
                            s()(this.swiper.slides[t]).find(this.opts.responsiveImagesOpts.lazyLoadingTag).addClass(this.opts.responsiveImagesOpts.forceLoadClass);
                        if (i < 0 && (i = 0),
                        s()(this.swiper.slides[i]).find(this.opts.responsiveImagesOpts.lazyLoadingTag).addClass(this.opts.responsiveImagesOpts.forceLoadClass),
                        e = n + this.opts.swiperOpts.slidesPerView,
                        this.swiper.slides.length < e - 1)
                            return;
                        s()(this.swiper.slides[e]).find(this.opts.responsiveImagesOpts.lazyLoadingTag).addClass(this.opts.responsiveImagesOpts.forceLoadClass)
                    }
                    this.responsiveImages.loadPicture()
                }
            }
        }, {
            key: "onSlideChangeStart",
            value: function() {
                this.opts.videoAllowed && this.stopVideo(),
                "function" == typeof this.opts.swiperOpts.onSlideChangeStart && this.opts.swiperOpts.onSlideChangeStart.bind(this)(),
                this.loadSiblingsImage(),
                this.setCustomAutoplay()
            }
        }, {
            key: "setCustomAutoplay",
            value: function() {
                var e = this;
                void 0 !== this.swiper && this.opts.customAutoplay && this.opts.customAutoplay && (this.opts.customAutoplayId && (clearInterval(this.opts.customAutoplayId),
                this.opts.customAutoplayId = ""),
                this.opts.customAutoplayId = setInterval(function() {
                    e.swiper.slideNext()
                }, this.opts.customAutoplay))
            }
        }, {
            key: "onSlideChangeEnd",
            value: function() {
                "function" == typeof this.opts.swiperOpts.onSlideChangeEnd && this.opts.swiperOpts.onSlideChangeEnd.bind(this)(),
                this.manageVideoAutoPlay()
            }
        }, {
            key: "iosVersion",
            value: function() {
                if (/iP(hone|od|ad)/.test(navigator.platform)) {
                    var e = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                    return [parseInt(e[1], 10), parseInt(e[2], 10), parseInt(e[3] || 0, 10)]
                }
            }
        }, {
            key: "onClickPlay",
            value: function() {}
        }, {
            key: "manageVideoAutoPlay",
            value: function() {
                if (void 0 !== this.swiper) {
                    var e = s()(this.swiper.slides[this.swiper.activeIndex])
                      , t = e.find("div[data-video]");
                    if (t.length && JSON.parse(t.data("autoplay"))) {
                        var n = this.iosVersion();
                        this.playVideo(t, e),
                        void 0 !== n && n[0] <= 7 && (e.find("video").removeAttr("controls"),
                        e.find(".video-js").removeClass("vjs-using-native-controls vjs-controls-disabled").addClass("vjs-controls-enabled vjs-big-play-centered"))
                    }
                    this.publish(this.opts.eventOnSlideChanged, this)
                }
            }
        }, {
            key: "countSlides",
            value: function() {
                return this.$element.find(".thumbs-swiper .swiper-slide").length
            }
        }, {
            key: "onSlideTouchEnd",
            value: function() {
                "function" == typeof this.opts.swiperOpts.onSlideTouchEnd && this.opts.swiperOpts.onSlideTouchEnd.bind(this)()
            }
        }, {
            key: "setIndex",
            value: function(e) {
                s.a.each(e, function(e, t) {
                    s()(t).data("index", e)
                })
            }
        }, {
            key: "setupThumbnails",
            value: function() {
                if (this.opts.thumbnailsSelector) {
                    var e = this;
                    this.thumbnailsCount = s()(this.opts.thumbnailsSelector + " .swiper-thumbnail").length,
                    s()(this.opts.thumbnailsSelector + " .swiper-thumbnail").on("click", function() {
                        e.swipeTo(s()(this).index()),
                        e.setActiveThumbnail(s()(this).index()),
                        e.publish(e.opts.eventOnSlideChangedIndexSet, e.swiper.activeLoopIndex)
                    }),
                    this.swiper.on("SlideChangeEnd", this.slideChangeEnd.bind(this))
                }
            }
        }, {
            key: "slideChangeEnd",
            value: function(e) {
                this.setActiveThumbnail(e.activeIndex % this.thumbnailsCount - 1),
                this.publish(this.opts.eventOnSlideChangedIndexSet, e.activeLoopIndex)
            }
        }, {
            key: "arrowClicked",
            value: function(e) {
                "next" === e ? this.swiper.slideNext() : this.swiper.slidePrev(),
                void 0 !== this.opts.swiperOpts.autoplay && this.opts.sliderAutoPlayStop && !this.swiperStoped && this.swiper.startAutoplay()
            }
        }, {
            key: "setActiveThumbnail",
            value: function(e) {
                if (this.opts.thumbnailsSelector) {
                    var t = s()(s()(this.opts.thumbnailsSelector + " .swiper-thumbnail").get(e));
                    t.siblings().removeClass("swiper-thumbnail-active"),
                    t.addClass("swiper-thumbnail-active")
                }
            }
        }, {
            key: "setupSwiperStop",
            value: function() {
                var e;
                if (void 0 !== this.opts.swiperOpts.autoplay && this.opts.sliderAutoPlayStop)
                    if (this.swiperStoped = !1,
                    "" === this.opts.autoPlayStop.autoPlayStopSelector) {
                        if (0 < (e = void 0 === this.opts.swiperOpts.pagination ? this.$element.find(".swiper-pagination") : this.$element.find(this.opts.swiperOpts.pagination)).length) {
                            var t = document.createElement("span");
                            this.stopButtonHandler = this.stopClicked.bind(this, this.$stopButton),
                            this.$stopButton = s()(t),
                            this.$stopButton.addClass("swiper-autoStop " + this.opts.autoPlayStop.stopClass).appendTo(e).on(this.opts.autoPlayStop.triggerEvent, this.stopClicked.bind(this, this.$stopButton))
                        }
                    } else
                        this.$stopButton = this.$element.find(this.opts.autoPlayStop.autoPlayStopSelector),
                        0 === this.$stopButton.length && (this.$stopButton = s()(this.opts.autoPlayStop.autoPlayStopSelector)),
                        0 < this.$stopButton.length && (this.$stopButton.hasClass(this.opts.autoPlayStop.stopClass) && this.$stopButton.hasClass(this.opts.autoPlayStop.playClass) || this.$stopButton.addClass(this.opts.autoPlayStop.stopClass).removeClass(this.opts.autoPlayStop.playClass).on(this.opts.autoPlayStop.triggerEvent, this.stopClicked.bind(this, this.$stopButton)))
            }
        }, {
            key: "stopClicked",
            value: function(e) {
                s()(e).hasClass(this.opts.autoPlayStop.stopClass) ? (s()(e).removeClass(this.opts.autoPlayStop.stopClass).addClass(this.opts.autoPlayStop.playClass),
                this.swiperStoped = !0,
                this.swiper.stopAutoplay()) : (s()(e).removeClass(this.opts.autoPlayStop.playClass).addClass(this.opts.autoPlayStop.stopClass),
                this.swiperStoped = !1,
                this.swiper.startAutoplay())
            }
        }, {
            key: "initVideo",
            value: function() {}
        }, {
            key: "setupVideos",
            value: function(i) {
                this.opts.videoOptions.videoStartInject || (this.opts.videoOptions.videoStartInject = "start" + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)),
                this.opts.videoOptions.videoCloseInject || (this.opts.videoOptions.videoCloseInject = "close" + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) + Math.floor(65536 * (1 + Math.random())).toString(16).substring(1));
                var r = this;
                r.videoInjectors = {},
                this.$element.find(".swiper-slide").each(function(e, t) {
                    if (0 !== s()(t).find("div[data-video]").length) {
                        s()(t).attr("id", "id_" + (new Date).getTime() + "_" + e);
                        var n = new i(s()(t),r.opts.videoOptions);
                        n.start(),
                        r.videoInjectors[n.$element.attr("id")] = n
                    }
                }),
                r.subscribe(r.opts.videoOptions.videoStartInject, function() {
                    void 0 !== r.opts.swiperOpts.autoplay && r.opts.sliderAutoPlayStop && !r.swiperStoped && r.swiper.stopAutoplay()
                }),
                r.subscribe(r.opts.videoOptions.videoCloseInject, function() {
                    void 0 !== r.opts.swiperOpts.autoplay && r.opts.sliderAutoPlayStop && !r.swiperStoped && r.swiper.startAutoplay()
                }),
                this.opts.staticSwiper ? this.manageVideoAutoPlay() : this.subscribe(this.opts.dynamicSwiperFistSlideVideoEvent, this.manageVideoAutoPlay.bind(this)),
                this.opts.videoOptions.videoStopEvent && this.subscribe(this.opts.videoOptions.videoStopEvent, this.stopVideo.bind(this)),
                this.opts.startVideoEvent && this.subscribe(this.opts.startVideoEvent, this.manageVideoAutoPlay.bind(this)),
                this.opts.eventOnInit && this.publish(this.opts.eventOnInit),
                this.subscribe("video-injector/playVideo", this.onClickPlay.bind(this))
            }
        }, {
            key: "playVideo",
            value: function(e, t) {
                if (e.length) {
                    var n = t.attr("id");
                    Object.prototype.hasOwnProperty.call(this.videoInjectors, n) && (this.videoInjectors[n].injectVideo(),
                    this.videoInjectors[n].play())
                }
            }
        }, {
            key: "stopVideo",
            value: function() {
                var e;
                if (this.videoInjectors)
                    for (var t in this.videoInjectors)
                        Object.prototype.hasOwnProperty.call(this.videoInjectors, t) && void 0 !== (e = this.videoInjectors[t]) && e.closeVideo()
            }
        }, {
            key: "ieAutoplay",
            value: function() {
                if (0 < s()(".lt-ie9").length) {
                    var e = this;
                    "" !== this.opts.swiperOpts.autoplay && (this.ie8interval = setInterval(function() {
                        e.swiper.slideNext()
                    }, e.opts.swiperOpts.autoplay))
                }
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(3)
      , r = n(1)
      , a = n.n(r)
      , o = n(0)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = a.a.merge({}, {}, t),
            (i = c(this, d(r).call(this, e, t, n))).$window = s()(window),
            i.$document = s()(document),
            i.$triggers = [],
            i.$mobileMenuContainer = null,
            i.initialized = !1,
            i._state = "closed",
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(r, [{
            key: "start",
            value: function() {
                h(d(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(r.prototype), "stop", this).call(this),
                this.close(function() {
                    this._freeElements()
                })
            }
        }, {
            key: "resume",
            value: function() {
                h(d(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this;
                this.chromeBrowser = navigator.userAgent.match(/Chrome/g) && navigator.userAgent.match(/Android/g) && !navigator.userAgent.match(/(Version)/g),
                this.initialized || this._setScope(),
                this._findElements(),
                this._addListeners(),
                this._resizeW(),
                this.initialized = !0,
                this.on(this.$document, "mouseup", function(e) {
                    var t = n.$element;
                    t.is(e.target) || 0 !== t.has(e.target).length || n.closeMenu()
                })
            }
        }, {
            key: "getState",
            value: function() {
                return this._state
            }
        }, {
            key: "open",
            value: function() {
                this.$mobileMenuContainer.show(300),
                this.$mobileMenuContainer.addClass("is-active"),
                this._state = "open",
                this.publish("menu/open")
            }
        }, {
            key: "close",
            value: function(e) {
                this.$mobileMenuContainer.hide({
                    complete: e
                }),
                this.$mobileMenuContainer.removeClass("is-active"),
                this._state = "closed",
                this.publish("menu/close")
            }
        }, {
            key: "resize",
            value: function() {
                var e = this;
                this.width = this.$window.width(),
                s()("html").hasClass("windows-mobile") || this.chromeBrowser ? this.on(this.$window, "orientationchange", function() {
                    "open" === e._state && (e.$mobileMenuContainer.hide(),
                    e.$mobileMenuContainer.removeClass("is-active"),
                    e._state = "closed")
                }) : this.on(this.$window, "resize", this.closeMenu.bind(this))
            }
        }, {
            key: "closeMenu",
            value: function() {
                "open" === this._state && this.width !== this.$window.width() && (this.width = this.$window.width(),
                this.$mobileMenuContainer.hide(),
                this.$mobileMenuContainer.removeClass("is-active"),
                this._state = "closed")
            }
        }, {
            key: "_triggerClickHandler",
            value: function() {
                "closed" === this._state ? this.open() : this.close()
            }
        }, {
            key: "_resizeW",
            value: function() {
                "closed" === this._state && this.resize()
            }
        }, {
            key: "_addListeners",
            value: function() {
                this.on(this.$triggers, "click", this._triggerClickHandler),
                this.on(".nav-mask", "click", this._triggerClickHandler),
                this.on(".module-container .skiplink", "keydown", this._skipLinkHandler)
            }
        }, {
            key: "_findElements",
            value: function() {
                this.$triggers = this.$element.find(".menu-trigger"),
                this.$mobileMenuContainer = this.$element.find(".mobile-menu")
            }
        }, {
            key: "_freeElements",
            value: function() {
                this.$triggers = null,
                this.$mobileMenuContainer = null
            }
        }, {
            key: "_skipLinkHandler",
            value: function(e) {
                if (13 === e.which) {
                    e.preventDefault();
                    var t = s()(e.currentTarget).find("a").attr("href");
                    s()(t) && 0 < s()(t).length && s()("html, body").animate({
                        scrollTop: s()(t).offset().top
                    }, "fast", function() {
                        s()(t).find("button:visible, a:visible, input:visible, select:visible, textarea:visible, *[tabindex=0]", t).first().focus()
                    })
                }
            }
        }, {
            key: "_setScope",
            value: function() {
                this._triggerClickHandler = this._triggerClickHandler.bind(this),
                this._skipLinkHandler = this._skipLinkHandler.bind(this),
                this._addListeners = this._addListeners.bind(this),
                this._findElements = this._findElements.bind(this),
                this._freeElements = this._freeElements.bind(this),
                this._resizeW = this._resizeW.bind(this),
                this.open = this.open.bind(this),
                this.close = this.close.bind(this)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var i = n(1)
      , r = n.n(i)
      , a = n(0)
      , o = n.n(a)
      , s = n(3);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = r.a.merge({}, {
                keyUpWait: 500,
                eventPrefix: "default"
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, s["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                var n = this
                  , i = this;
                this.on(this.$element, "keyup", r.a.debounce(function(e) {
                    var t = o()(this);
                    i.publish("plugin-search-sync/".concat(i.opts.eventPrefix, "/new-value"), {
                        value: t.val(),
                        ev: e
                    })
                }, this.opts.keyUpWait)),
                this.subscribe("plugin-search-sync/".concat(this.opts.eventPrefix, "/new-value"), function(e, t) {
                    n.$element[0] !== t.ev.currentTarget && n.$element.val(t.value)
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return m
    });
    var i = n(3)
      , a = n(41)
      , r = n(1)
      , o = n.n(r)
      , s = n(0)
      , l = n.n(s);
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function h(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function d(e, t, n) {
        return (d = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function p(e) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function f(e, t) {
        return (f = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var m = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = o.a.merge({}, {
                container: ".module-container",
                containerElement: "li",
                elementSeparator: 25,
                classDisplay: "displayMenu",
                classSubMenu: ".sub-nav",
                listSubMenu: ".nav-primary",
                classMoreDown: ".more-down",
                classMobileHeading: "before-progress-nav",
                classes: {
                    active: "is-active",
                    initialize: "is-initialized",
                    resize: "is-resizing",
                    disable: "is-disabled"
                },
                closeOtherMenuEvent: "close-other-menu"
            }, t),
            (i = h(this, p(r).call(this, e, t, n))).deviceResolutions = new a.a({
                smMin: 580,
                mdMin: 960,
                lgMin: 1200
            }),
            i.$window = l()(window),
            i.$body = l()("body"),
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && f(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && c(e.prototype, t),
            n && c(e, n)
        }(r, [{
            key: "start",
            value: function() {
                d(p(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                d(p(r.prototype), "stop", this).call(this),
                this.$SubMenu.off(".".concat(this.pluginId)),
                this.$body.off(".".concat(this.pluginId))
            }
        }, {
            key: "resume",
            value: function() {
                d(p(r.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$menuContainer = this.$element.find(this.opts.container),
                this.$SubMenu = this.$element.find(this.opts.classSubMenu),
                this.$listSubMenu = this.$element.find(this.opts.listSubMenu),
                this.copyActiveLink(),
                this.checkWidth(0),
                this.resizeMenu(),
                this.$SubMenu.on("click.".concat(this.pluginId), this.subMenuClickHandler.bind(this)),
                this.$body.on("click.".concat(this.pluginId), this.hideContents.bind(this)),
                this.$element.removeClass(this.opts.classes.resize),
                this.$element.addClass(this.opts.classes.initialize),
                this.subscribe(this.opts.closeOtherMenuEvent, this.hideContents.bind(this)),
                this.subscribe("core/device-type-changed", this.hideContents.bind(this))
            }
        }, {
            key: "checkWidth",
            value: function() {
                if ("xs" !== this.deviceResolutions.getCurrent() && "sm" !== this.deviceResolutions.getCurrent()) {
                    this.$element.addClass(this.opts.classes.resize);
                    var e = this.$menuContainer.parent().width()
                      , t = this.$menuContainer.find(this.opts.containerElement + ":not(." + this.opts.classDisplay + ")")
                      , n = this.$menuContainer.find(this.opts.containerElement + "." + this.opts.classDisplay).first()
                      , i = this.calcElements(t, e) + 15;
                    e <= i ? (t.last().clone().prependTo(this.$listSubMenu),
                    t.last().addClass(this.opts.classDisplay),
                    this.$SubMenu.removeClass(this.opts.classes.disable),
                    this.saveWidth = 0,
                    this.checkWidth()) : e > i + (n.width() || 0) + this.opts.elementSeparator && 0 < this.$listSubMenu.find(this.opts.containerElement).length && (this.saveWidth = 0,
                    n.removeClass(this.opts.classDisplay),
                    this.$listSubMenu.find(this.opts.containerElement).first().remove(),
                    0 === this.$SubMenu.find(this.opts.containerElement).length ? this.$SubMenu.addClass(this.opts.classes.disable) : this.checkWidth())
                }
            }
        }, {
            key: "calcElements",
            value: function(e) {
                var n = this;
                if (o.a.isUndefined(this.saveWidth) || 0 === this.saveWidth) {
                    var i = this.$SubMenu.is("." + this.opts.classes.disable) ? 0 : this.$SubMenu.width() + this.opts.elementSeparator;
                    return l.a.each(e, function(e, t) {
                        i += l()(t).width() + n.opts.elementSeparator
                    }),
                    this.saveWidth = i
                }
                return this.saveWidth
            }
        }, {
            key: "subMenuClickHandler",
            value: function(e) {
                e.stopPropagation(),
                this.publish(this.opts.closeOtherMenuEvent, !1),
                this.$SubMenu.toggleClass(this.opts.classes.active)
            }
        }, {
            key: "hideContents",
            value: function(e, t) {
                !1 !== t && this.$SubMenu.removeClass(this.opts.classes.active)
            }
        }, {
            key: "resizeEnds",
            value: function() {
                this.$element.removeClass(this.opts.classes.resize)
            }
        }, {
            key: "resizeMenu",
            value: function() {
                var e = this;
                this.$window.resize(o.a.throttle(function() {
                    e.hideContents(),
                    e.checkWidth()
                }, 200)),
                this.$window.resize(o.a.debounce(this.resizeEnds.bind(this), 300))
            }
        }, {
            key: "copyActiveLink",
            value: function() {
                var e = this.$element.find("." + this.opts.classes.active + " span").text()
                  , t = this.$element.find("." + this.opts.classMobileHeading + " span");
                0 < e.length && t.text(e)
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return f
    });
    var r = n(3)
      , i = n(1)
      , a = n.n(i)
      , o = n(0)
      , s = n.n(o);
    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function c(e, t) {
        return !t || "object" !== l(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function h(e, t, n) {
        return (h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function d(e) {
        return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function p(e, t) {
        return (p = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var f = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = a.a.merge({}, {
                triggerElement: ".before-progress-nav",
                dropdownElement: ".container-show",
                navContainerElement: ".inner"
            }, t),
            c(this, d(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && p(e, t)
        }(i, r["a"]),
        function(e, t, n) {
            t && u(e.prototype, t),
            n && u(e, n)
        }(i, [{
            key: "start",
            value: function() {
                h(d(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                h(d(i.prototype), "stop", this).call(this),
                this.$window.off(".".concat(this.pluginId))
            }
        }, {
            key: "resume",
            value: function() {
                h(d(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.$window = s()(window),
                this.$navCont = this.$element.find(this.opts.navContainerElement),
                this.$trigger = this.$element.find(this.opts.triggerElement),
                this.$menu = this.$element.find(this.opts.dropdownElement),
                this.countHeaderHeight(),
                this.setMenuHeight(),
                this.$window.on("scroll.".concat(this.pluginId), this.toggleFixedMenu.bind(this)),
                this.$window.on("resize.".concat(this.pluginId), a.a.debounce(this.countHeaderHeight.bind(this), 300))
            }
        }, {
            key: "countHeaderHeight",
            value: function() {
                this.headerHeight = this.$element.closest("#helios-header").height() - this.$element.height(),
                this.$menu.css("height", this.$window.height() + 100 + "px")
            }
        }, {
            key: "setMenuHeight",
            value: function() {
                this.$menu.css("height", this.$window.height() + 100 + "px")
            }
        }, {
            key: "toggleFixedMenu",
            value: function() {
                this.scrollTop = this.$window.scrollTop(),
                this.$navCont.toggleClass("nav-top-fixed", this.scrollTop > this.headerHeight),
                this.$trigger.toggleClass("trigger-top-fixed", this.scrollTop > this.headerHeight),
                this.$menu.toggleClass("menu-top-fixed", this.scrollTop > this.headerHeight)
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(0)
      , r = n.n(i);
    t.a = {
        jqEventName: "click",
        customEventName: "",
        paramsAttribute: "value",
        triggerElement: ".fixed-nav-trigger",
        containerContent: ".container--content",
        containerShow: ".container--show",
        onLoadTimeout: 2e3,
        onLoad: function() {
            var e = this
              , t = r()(".bottom-menu");
            0 < t.length && t.css("padding-bottom", "36px"),
            setTimeout(function() {
                e.plugin.$element.find(e.plugin.opts.containerContent).hasClass("is-active") || e.plugin.$element.find(e.plugin.opts.containerContent).slideDown().addClass("is-active")
            }, this.plugin.opts.onLoadTimeout)
        },
        beforePublish: function() {
            this.plugin.containerContent = this.plugin.$element.find(this.plugin.opts.containerContent),
            this.plugin.containerShow = this.plugin.$element.find(this.plugin.opts.containerShow),
            this.plugin.containerContent.hasClass("is-active") ? (this.plugin.containerContent.slideUp().removeClass("is-active"),
            this.plugin.containerShow.slideDown().addClass("is-active")) : this.plugin.containerShow.hasClass("is-active") && (this.plugin.containerContent.slideDown().addClass("is-active"),
            this.plugin.containerShow.slideUp().removeClass("is-active"))
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        onStartCallback: function() {
            var e = this;
            this.plugin.$menu = this.plugin.$element.find(".container-show"),
            this.plugin.$trigger = this.plugin.$element.find(".before-progress-nav"),
            this.plugin.$trigger.hasClass("is-active") ? setTimeout(function() {
                e.plugin.$menu.css("position", "relative")
            }, 400) : this.plugin.$menu.css("position", "absolute")
        }
    }
}
, function(e, t, n) {
    var i, r, a;
    function E(e) {
        return (E = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    /*!
 * Photo Sphere Viewer 3.2.3
 * Copyright (c) 2014-2015 Jérémy Heleine
 * Copyright (c) 2015-2017 Damien "Mistic" Sorel
 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */
    r = [n(109), n(331), n(332), n(333)],
    void 0 === (a = "function" == typeof (i = function(h, d, e, i) {
        "use strict";
        function p(e) {
            if (!(this instanceof p))
                return new p(e);
            if (p.SYSTEM.loaded || p._loadSystem(),
            this.config = S.clone(p.DEFAULTS),
            S.deepmerge(this.config, e),
            !e.container)
                throw new x("No value given for container.");
            if (!p.SYSTEM.isCanvasSupported)
                throw new x("Canvas is not supported.");
            if (!(p.SYSTEM.isWebGLSupported && this.config.webgl || S.checkTHREE("CanvasRenderer", "Projector")))
                throw new x("Missing Three.js components: CanvasRenderer, Projector. Get them from three.js-examples package.");
            if (this.config.longitude_range && 2 !== this.config.longitude_range.length && (this.config.longitude_range = null,
            console.warn("PhotoSphereViewer: longitude_range must have exactly two elements.")),
            this.config.latitude_range ? 2 !== this.config.latitude_range.length ? (this.config.latitude_range = null,
            console.warn("PhotoSphereViewer: latitude_range must have exactly two elements.")) : this.config.latitude_range[0] > this.config.latitude_range[1] && (this.config.latitude_range = [this.config.latitude_range[1], this.config.latitude_range[0]],
            console.warn("PhotoSphereViewer: latitude_range values must be ordered.")) : void 0 === this.config.tilt_up_max && void 0 === this.config.tilt_down_max || (this.config.latitude_range = [void 0 !== this.config.tilt_down_max ? this.config.tilt_down_max - Math.PI / 4 : -S.HalfPI, void 0 !== this.config.tilt_up_max ? this.config.tilt_up_max + Math.PI / 4 : S.HalfPI],
            console.warn("PhotoSphereViewer: tilt_up_max and tilt_down_max are deprecated, use latitude_range instead.")),
            this.config.max_fov < this.config.min_fov) {
                var t = this.config.max_fov;
                this.config.max_fov = this.config.min_fov,
                this.config.min_fov = t,
                console.warn("PhotoSphereViewer: max_fov cannot be lower than min_fov.")
            }
            this.config.cache_texture && (!S.isInteger(this.config.cache_texture) || this.config.cache_texture < 0) && (this.config.cache_texture = p.DEFAULTS.cache_texture,
            console.warn("PhotoSphreViewer: invalid valud for cache_texture")),
            this.config.min_fov = S.bound(this.config.min_fov, 1, 179),
            this.config.max_fov = S.bound(this.config.max_fov, 1, 179),
            null === this.config.default_fov ? this.config.default_fov = this.config.max_fov / 2 + this.config.min_fov / 2 : this.config.default_fov = S.bound(this.config.default_fov, this.config.min_fov, this.config.max_fov),
            this.config.default_long = S.parseAngle(this.config.default_long),
            this.config.default_lat = S.parseAngle(this.config.default_lat, -Math.PI),
            this.config.default_lat = S.bound(this.config.default_lat, -S.HalfPI, S.HalfPI),
            null === this.config.anim_lat ? this.config.anim_lat = this.config.default_lat : (this.config.anim_lat = S.parseAngle(this.config.anim_lat, -Math.PI),
            this.config.anim_lat = S.bound(this.config.anim_lat, -S.HalfPI, S.HalfPI)),
            this.config.longitude_range && (this.config.longitude_range = this.config.longitude_range.map(function(e) {
                return S.parseAngle(e)
            })),
            this.config.latitude_range && (this.config.latitude_range = this.config.latitude_range.map(function(e) {
                return e = S.parseAngle(e, -Math.PI),
                S.bound(e, -S.HalfPI, S.HalfPI)
            })),
            this.config.anim_speed = S.parseSpeed(this.config.anim_speed),
            this.config.caption && !this.config.navbar && (this.config.navbar = ["caption"]),
            !0 === this.config.fisheye ? this.config.fisheye = 1 : !1 === this.config.fisheye && (this.config.fisheye = 0),
            this.parent = "string" == typeof e.container ? document.getElementById(e.container) : e.container,
            this.container = null,
            this.loader = null,
            this.navbar = null,
            this.hud = null,
            this.panel = null,
            this.tooltip = null,
            this.canvas_container = null,
            this.renderer = null,
            this.scene = null,
            this.camera = null,
            this.mesh = null,
            this.raycaster = null,
            this.doControls = null,
            this.prop = {
                isCubemap: void 0,
                longitude: 0,
                latitude: 0,
                direction: null,
                anim_speed: 0,
                zoom_lvl: 0,
                vFov: 0,
                hFov: 0,
                aspect: 0,
                move_speed: .1,
                moving: !1,
                zooming: !1,
                start_mouse_x: 0,
                start_mouse_y: 0,
                mouse_x: 0,
                mouse_y: 0,
                mouse_history: [],
                pinch_dist: 0,
                orientation_reqid: null,
                autorotate_reqid: null,
                animation_promise: null,
                loading_promise: null,
                start_timeout: null,
                dblclick_data: null,
                dblclick_timeout: null,
                cache: [],
                size: {
                    width: 0,
                    height: 0
                },
                pano_data: {
                    full_width: 0,
                    full_height: 0,
                    cropped_width: 0,
                    cropped_height: 0,
                    cropped_x: 0,
                    cropped_y: 0
                }
            },
            Object.keys(p.TEMPLATES).forEach(function(e) {
                this.config.templates[e] || (this.config.templates[e] = p.TEMPLATES[e]),
                "string" == typeof this.config.templates[e] && (this.config.templates[e] = i.template(this.config.templates[e]))
            }, this),
            (this.parent.photoSphereViewer = this).container = document.createElement("div"),
            this.container.classList.add("psv-container"),
            this.parent.appendChild(this.container),
            null !== this.config.size && this._setViewerSize(this.config.size),
            this._onResize();
            var n = Math.round((this.config.default_fov - this.config.min_fov) / (this.config.max_fov - this.config.min_fov) * 100);
            this.zoom(n - 2 * (n - 50), !1),
            this.prop.move_speed = h.Math.degToRad(this.config.move_speed / p.SYSTEM.pixelRatio),
            this.rotate({
                longitude: this.config.default_long,
                latitude: this.config.default_lat
            }, !1),
            this.loader = new o(this),
            this.loader.hide(),
            this.navbar = new s(this),
            this.navbar.hide(),
            this.hud = new a(this),
            this.hud.hide(),
            this.panel = new u(this),
            this.tooltip = new f(this.hud),
            this._bindEvents(),
            this.config.autoload && this.load(),
            this.once("render", function() {
                this.config.navbar && (this.container.classList.add("psv-container--has-navbar"),
                this.navbar.show()),
                this.hud.show(),
                this.config.markers && (this.config.markers.forEach(function(e) {
                    this.hud.addMarker(e, !1)
                }, this),
                this.hud.renderMarkers()),
                !1 !== this.config.time_anim && (this.prop.start_timeout = window.setTimeout(this.startAutorotate.bind(this), this.config.time_anim)),
                this.trigger("ready")
            }
            .bind(this))
        }
        function r(e) {
            this.psv = e instanceof p ? e : e.psv,
            this.parent = e,
            this.container = null,
            this.constructor.publicMethods && this.constructor.publicMethods.forEach(function(e) {
                this.psv[e] = this[e].bind(this)
            }, this)
        }
        function a(e) {
            r.call(this, e),
            this.svgContainer = null,
            this.markers = {},
            this.currentMarker = null,
            this.hoveringMarker = null,
            this.prop = {
                panelOpened: !1,
                panelOpening: !1,
                markersButton: this.psv.navbar.getNavbarButton("markers")
            },
            this.create()
        }
        function o(e) {
            r.call(this, e),
            this.canvas = null,
            this.loader = null,
            this.create()
        }
        function s(e) {
            if (r.call(this, e),
            this.config = this.psv.config.navbar,
            this.items = [],
            !0 === this.config)
                this.config = S.clone(p.DEFAULTS.navbar);
            else if ("string" == typeof this.config)
                this.config = this.config.split(" ");
            else if (!Array.isArray(this.config)) {
                console.warn('PhotoSphereViewer: hashmap form of "navbar" is deprecated, use an array instead.');
                var t = this.config;
                for (var n in this.config = [],
                t)
                    t[n] && this.config.push(n);
                this.config.sort(function(e, t) {
                    return p.DEFAULTS.navbar.indexOf(e) - p.DEFAULTS.navbar.indexOf(t)
                })
            }
            this.create()
        }
        function n(e, t) {
            r.call(this, e),
            this.create(),
            this.setCaption(t)
        }
        function l(e, t) {
            r.call(this, e),
            this.weight = t || 5,
            this.create(),
            this.container.classList.add("psv-spacer--weight-" + this.weight)
        }
        function u(e) {
            r.call(this, e),
            this.content = null,
            this.prop = {
                mouse_x: 0,
                mouse_y: 0,
                mousedown: !1,
                opened: !1
            },
            this.create()
        }
        function f(e) {
            r.call(this, e),
            this.config = this.psv.config.tooltip,
            this.prop = {
                timeout: null
            },
            this.create()
        }
        function c(e) {
            r.call(this, e),
            this.id = void 0,
            this.constructor.id && (this.id = this.constructor.id),
            this.enabled = !0
        }
        function m(e) {
            c.call(this, e),
            this.create()
        }
        function g(e, t) {
            c.call(this, e),
            this.config = t,
            this.config.id && (this.id = this.config.id),
            this.create()
        }
        function v(e) {
            c.call(this, e),
            this.create()
        }
        function y(e) {
            c.call(this, e),
            this.create()
        }
        function b(e) {
            c.call(this, e),
            this.create()
        }
        function _(e) {
            c.call(this, e),
            this.create()
        }
        function w(e) {
            c.call(this, e),
            this.zoom_range = null,
            this.zoom_value = null,
            this.prop = {
                mousedown: !1,
                buttondown: !1,
                longPressInterval: null
            },
            this.create()
        }
        function x(e) {
            this.message = e,
            "captureStackTrace"in Error ? Error.captureStackTrace(this, x) : this.stack = (new Error).stack
        }
        function T(e, t) {
            if (!e.id)
                throw new x("missing marker id");
            if (e.image && (!e.width || !e.height))
                throw new x("missing marker width/height");
            if ((e.image || e.html) && !(e.hasOwnProperty("x") && e.hasOwnProperty("y") || e.hasOwnProperty("latitude") && e.hasOwnProperty("longitude")))
                throw new x("missing marker position, latitude/longitude or x/y");
            this.psv = t,
            this.visible = !0,
            this._dynamicSize = !1;
            var n, i = e.id, r = T.getType(e, !1);
            Object.defineProperties(this, {
                id: {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        return i
                    },
                    set: function(e) {}
                },
                type: {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        return r
                    },
                    set: function(e) {}
                },
                $el: {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        return n
                    },
                    set: function(e) {}
                },
                _def: {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        return this[r]
                    },
                    set: function(e) {
                        this[r] = e
                    }
                }
            }),
            (n = this.isNormal() ? document.createElement("div") : this.isPolygon() ? document.createElementNS(S.svgNS, "polygon") : document.createElementNS(S.svgNS, this.type)).id = "psv-marker-" + this.id,
            (n.psvMarker = this).update(e)
        }
        e.mixin(p),
        p.prototype._loadXMP = function(e) {
            if (!this.config.usexmpdata)
                return d.resolved(null);
            var a = d()
              , o = new XMLHttpRequest
              , s = this
              , l = 0;
            return o.onreadystatechange = function() {
                if (4 === o.readyState) {
                    if (200 !== o.status && 201 !== o.status && 202 !== o.status && 0 !== o.status)
                        throw new x(s.container.textContent = "Cannot load image");
                    s.loader.setProgress(100);
                    var e = o.responseText
                      , t = e.indexOf("<x:xmpmeta")
                      , n = e.indexOf("</x:xmpmeta>")
                      , i = e.substring(t, n);
                    if (-1 === t || -1 === n || -1 === i.indexOf("GPano:"))
                        a.resolve(null);
                    else {
                        var r = {
                            full_width: parseInt(S.getXMPValue(i, "FullPanoWidthPixels")),
                            full_height: parseInt(S.getXMPValue(i, "FullPanoHeightPixels")),
                            cropped_width: parseInt(S.getXMPValue(i, "CroppedAreaImageWidthPixels")),
                            cropped_height: parseInt(S.getXMPValue(i, "CroppedAreaImageHeightPixels")),
                            cropped_x: parseInt(S.getXMPValue(i, "CroppedAreaLeftPixels")),
                            cropped_y: parseInt(S.getXMPValue(i, "CroppedAreaTopPixels"))
                        };
                        r.full_width && r.full_height && r.cropped_width && r.cropped_height ? a.resolve(r) : (console.warn("PhotoSphereViewer: invalid XMP data"),
                        a.resolve(null))
                    }
                } else
                    3 === o.readyState && s.loader.setProgress(l += 10)
            }
            ,
            o.onprogress = function(e) {
                if (e.lengthComputable) {
                    var t = parseInt(e.loaded / e.total * 100);
                    l < t && (l = t,
                    s.loader.setProgress(l))
                }
            }
            ,
            o.onerror = function() {
                throw new x(s.container.textContent = "Cannot load image")
            }
            ,
            o.open("GET", e, !0),
            o.send(null),
            a.promise
        }
        ,
        p.prototype._loadTexture = function(n) {
            var i = [];
            if (Array.isArray(n)) {
                if (6 !== n.length)
                    throw new x("Must provide exactly 6 image paths when using cubemap.");
                for (var e = 0; e < 6; e++)
                    i[e] = n[p.CUBE_MAP[e]];
                n = i
            } else if ("object" == E(n)) {
                if (!p.CUBE_HASHMAP.every(function(e) {
                    return !!n[e]
                }))
                    throw new x("Must provide exactly left, front, right, back, top, bottom when using cubemap.");
                p.CUBE_HASHMAP.forEach(function(e, t) {
                    i[t] = n[e]
                }),
                n = i
            }
            if (Array.isArray(n)) {
                if (!1 === this.prop.isCubemap)
                    throw new x("The viewer was initialized with an equirectangular panorama, cannot switch to cubemap.");
                return this.config.fisheye && console.warn("PhotoSphereViewer: fisheye effect with cubemap texture can generate distorsions."),
                this.config.cache_texture === p.DEFAULTS.cache_texture && (this.config.cache_texture *= 6),
                this.prop.isCubemap = !0,
                this._loadCubemapTexture(n)
            }
            if (!0 === this.prop.isCubemap)
                throw new x("The viewer was initialized with an cubemap, cannot switch to equirectangular panorama.");
            return this.prop.isCubemap = !1,
            this._loadEquirectangularTexture(n)
        }
        ,
        p.prototype._loadEquirectangularTexture = function(u) {
            if (this.config.cache_texture) {
                var e = this.getPanoramaCache(u);
                if (e)
                    return this.prop.pano_data = e.pano_data,
                    d.resolved(e.image)
            }
            return this._loadXMP(u).then(function(o) {
                var s = d()
                  , e = new h.ImageLoader
                  , l = o ? 100 : 0;
                e.setCrossOrigin("anonymous");
                return e.load(u, function(e) {
                    if (l = 100,
                    this.loader.setProgress(l),
                    this.trigger("panorama-load-progress", u, l),
                    !o && this.config.pano_data) {
                        o = S.clone(this.config.pano_data)
                    }
                    if (!o) {
                        o = {
                            full_width: e.width,
                            full_height: e.height,
                            cropped_width: e.width,
                            cropped_height: e.height,
                            cropped_x: 0,
                            cropped_y: 0
                        }
                    }
                    var t;
                    this.prop.pano_data = o;
                    var n = Math.min(o.full_width, p.SYSTEM.maxTextureWidth) / o.full_width;
                    if (n !== 1 || o.cropped_width != o.full_width || o.cropped_height != o.full_height) {
                        var i = S.clone(o);
                        i.full_width *= n;
                        i.full_height *= n;
                        i.cropped_width *= n;
                        i.cropped_height *= n;
                        i.cropped_x *= n;
                        i.cropped_y *= n;
                        e.width = i.cropped_width;
                        e.height = i.cropped_height;
                        var r = document.createElement("canvas");
                        r.width = i.full_width;
                        r.height = i.full_height;
                        var a = r.getContext("2d");
                        a.drawImage(e, i.cropped_x, i.cropped_y, i.cropped_width, i.cropped_height);
                        t = new h.Texture(r)
                    } else {
                        t = new h.Texture(e)
                    }
                    if (t.needsUpdate = !0,
                    t.minFilter = h.LinearFilter,
                    t.generateMipmaps = !1,
                    this.config.cache_texture) {
                        this._putPanoramaCache({
                            panorama: u,
                            image: t,
                            pano_data: o
                        })
                    }
                    s.resolve(t)
                }
                .bind(this), function(e) {
                    if (e.lengthComputable) {
                        var t = parseInt(e.loaded / e.total * 100);
                        if (t > l) {
                            l = t;
                            this.loader.setProgress(l);
                            this.trigger("panorama-load-progress", u, l)
                        }
                    }
                }
                .bind(this), function(e) {
                    throw this.container.textContent = "Cannot load image",
                    s.reject(e),
                    new x("Cannot load image")
                }
                .bind(this)),
                s.promise
            }
            .bind(this))
        }
        ,
        p.prototype._loadCubemapTexture = function(a) {
            var o = d()
              , e = new h.ImageLoader
              , s = [0, 0, 0, 0, 0, 0]
              , l = []
              , u = 0;
            e.setCrossOrigin("anonymous");
            for (var t = function(e, t) {
                u++,
                s[e] = 100,
                this.loader.setProgress(S.sum(s) / 6),
                this.trigger("panorama-load-progress", a[e], s[e]);
                var n = Math.min(t.width, p.SYSTEM.maxTextureWidth / 2) / t.width;
                if (1 != n) {
                    var i = document.createElement("canvas");
                    i.width = t.width * n,
                    i.height = t.height * n;
                    var r = i.getContext("2d");
                    r.drawImage(t, 0, 0, i.width, i.height),
                    l[e] = new h.Texture(i)
                } else
                    l[e] = new h.Texture(t);
                this.config.cache_texture && this._putPanoramaCache({
                    panorama: a[e],
                    image: l[e]
                }),
                6 === u && (l.forEach(function(e) {
                    e.needsUpdate = !0,
                    e.minFilter = h.LinearFilter,
                    e.generateMipmaps = !1
                }),
                o.resolve(l))
            }, n = function(e, t) {
                if (t.lengthComputable) {
                    var n = parseInt(t.loaded / t.total * 100);
                    n > s[e] && (s[e] = n,
                    this.loader.setProgress(S.sum(s) / 6),
                    this.trigger("panorama-load-progress", a[e], s[e]))
                }
            }, i = function(e, t) {
                throw this.container.textContent = "Cannot load image",
                o.reject(t),
                new x("Cannot load image " + e)
            }, r = 0; r < 6; r++) {
                if (this.config.cache_texture) {
                    var c = this.getPanoramaCache(a[r]);
                    if (c) {
                        u++,
                        s[r] = 100,
                        l[r] = c.image;
                        continue
                    }
                }
                e.load(a[r], t.bind(this, r), n.bind(this, r), i.bind(this, r))
            }
            return 6 === u && o.resolve(l),
            o.promise
        }
        ,
        p.prototype._setTexture = function(e) {
            if (this.scene || this._createScene(),
            this.prop.isCubemap)
                for (var t = 0; t < 6; t++)
                    this.mesh.material.materials[t].map && this.mesh.material.materials[t].map.dispose(),
                    this.mesh.material.materials[t].map = e[t];
            else
                this.mesh.material.map && this.mesh.material.map.dispose(),
                this.mesh.material.map = e;
            this.trigger("panorama-loaded"),
            this.render()
        }
        ,
        p.prototype._createScene = function() {
            this.raycaster = new h.Raycaster,
            this.renderer = p.SYSTEM.isWebGLSupported && this.config.webgl ? new h.WebGLRenderer({
                preserveDrawingBuffer: !0
            }) : new h.CanvasRenderer({
                preserveDrawingBuffer: !0
            }),
            this.renderer.setSize(this.prop.size.width, this.prop.size.height),
            this.renderer.setPixelRatio(p.SYSTEM.pixelRatio);
            var e = p.SPHERE_RADIUS;
            this.prop.isCubemap && (e *= Math.sqrt(3)),
            this.config.fisheye && (e += p.SPHERE_RADIUS),
            this.camera = new h.PerspectiveCamera(this.config.default_fov,this.prop.size.width / this.prop.size.height,1,e),
            this.camera.position.set(0, 0, 0),
            this.config.gyroscope && S.checkTHREE("DeviceOrientationControls") && (this.doControls = new h.DeviceOrientationControls(this.camera)),
            this.scene = new h.Scene,
            this.scene.add(this.camera),
            this.prop.isCubemap ? this._createCubemap() : this._createSphere(),
            this.canvas_container = document.createElement("div"),
            this.canvas_container.className = "psv-canvas-container",
            this.renderer.domElement.className = "psv-canvas",
            this.container.appendChild(this.canvas_container),
            this.canvas_container.appendChild(this.renderer.domElement)
        }
        ,
        p.prototype._createSphere = function() {
            var e = new h.SphereGeometry(p.SPHERE_RADIUS,p.SPHERE_VERTICES,p.SPHERE_VERTICES,-S.HalfPI)
              , t = new h.MeshBasicMaterial({
                side: h.DoubleSide,
                overdraw: p.SYSTEM.isWebGLSupported && this.config.webgl ? 0 : 1
            });
            this.mesh = new h.Mesh(e,t),
            this.mesh.scale.x = -1,
            this.scene.add(this.mesh)
        }
        ,
        p.prototype._createCubemap = function() {
            for (var e = new h.BoxGeometry(2 * p.SPHERE_RADIUS,2 * p.SPHERE_RADIUS,2 * p.SPHERE_RADIUS,p.CUBE_VERTICES,p.CUBE_VERTICES,p.CUBE_VERTICES), t = [], n = 0; n < 6; n++)
                t.push(new h.MeshBasicMaterial({
                    overdraw: p.SYSTEM.isWebGLSupported && this.config.webgl ? 0 : 1
                }));
            this.mesh = new h.Mesh(e,new h.MultiMaterial(t)),
            this.mesh.position.x -= p.SPHERE_RADIUS,
            this.mesh.position.y -= p.SPHERE_RADIUS,
            this.mesh.position.z -= p.SPHERE_RADIUS,
            this.mesh.applyMatrix((new h.Matrix4).makeScale(1, 1, -1)),
            this.scene.add(this.mesh);
            var i = new h.MeshBasicMaterial({
                side: h.BackSide,
                visible: !1
            })
              , r = new h.Mesh(e,i);
            this.scene.add(r)
        }
        ,
        p.prototype._transition = function(e, t) {
            if (this.prop.isCubemap)
                throw new x("Transition is not available with cubemap.");
            var n = this
              , i = new h.SphereGeometry(.9 * p.SPHERE_RADIUS,p.SPHERE_VERTICES,p.SPHERE_VERTICES,-S.HalfPI)
              , r = new h.MeshBasicMaterial({
                side: h.DoubleSide,
                overdraw: p.SYSTEM.isWebGLSupported && this.config.webgl ? 0 : 1,
                map: e,
                transparent: !0,
                opacity: 0
            })
              , a = new h.Mesh(i,r);
            if (a.scale.x = -1,
            t) {
                a.rotateY(t.longitude - this.prop.longitude);
                var o = new h.Vector3(0,1,0).cross(this.camera.getWorldDirection()).normalize()
                  , s = (new h.Quaternion).setFromAxisAngle(o, t.latitude - this.prop.latitude);
                a.quaternion.multiplyQuaternions(s, a.quaternion)
            }
            return this.scene.add(a),
            this.render(),
            S.animation({
                properties: {
                    opacity: {
                        start: 0,
                        end: 1
                    }
                },
                duration: n.config.transition.duration,
                easing: "outCubic",
                onTick: function(e) {
                    r.opacity = e.opacity,
                    n.render()
                }
            }).then(function() {
                n.mesh.material.map.dispose(),
                n.mesh.material.map = e,
                n.scene.remove(a),
                a.geometry.dispose(),
                a.geometry = null,
                a.material.dispose(),
                a.material = null,
                t ? ((n.config.latitude_range || n.config.longitude_range) && (n.config.longitude_range = n.config.latitude_range = null,
                console.warn("PhotoSphereViewer: trying to perform transition with longitude_range and/or latitude_range, ranges cleared.")),
                n.rotate(t)) : n.render()
            })
        }
        ,
        p.prototype._reverseAutorotate = function() {
            var t = this
              , e = -this.config.anim_speed
              , n = this.config.longitude_range;
            this.config.longitude_range = null,
            S.animation({
                properties: {
                    speed: {
                        start: this.config.anim_speed,
                        end: 0
                    }
                },
                duration: 300,
                easing: "inSine",
                onTick: function(e) {
                    t.config.anim_speed = e.speed
                }
            }).then(function() {
                return S.animation({
                    properties: {
                        speed: {
                            start: 0,
                            end: e
                        }
                    },
                    duration: 300,
                    easing: "outSine",
                    onTick: function(e) {
                        t.config.anim_speed = e.speed
                    }
                })
            }).then(function() {
                t.config.longitude_range = n,
                t.config.anim_speed = e
            })
        }
        ,
        p.prototype._putPanoramaCache = function(e) {
            if (!this.config.cache_texture)
                throw new x("Cannot add panorama to cache, cache_texture is disabled");
            var t = this.getPanoramaCache(e.panorama);
            t ? (t.image = e.image,
            t.pano_data = e.pano_data) : (this.prop.cache = this.prop.cache.slice(0, this.config.cache_texture - 1),
            this.prop.cache.unshift(e)),
            this.trigger("panorama-cached", e.panorama)
        }
        ,
        p.prototype._stopAll = function() {
            this.stopAutorotate(),
            this.stopAnimation(),
            this.stopGyroscopeControl()
        }
        ,
        p.MOVE_THRESHOLD = 4,
        p.DBLCLICK_DELAY = 300,
        p.INERTIA_WINDOW = 300,
        p.SPHERE_RADIUS = 100,
        p.SPHERE_VERTICES = 64,
        p.CUBE_VERTICES = 8,
        p.CUBE_MAP = [0, 2, 4, 5, 3, 1],
        p.CUBE_HASHMAP = ["left", "right", "top", "bottom", "back", "front"],
        p.KEYMAP = {
            33: "PageUp",
            34: "PageDown",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            107: "+",
            109: "-"
        },
        p.SYSTEM = {
            loaded: !1,
            pixelRatio: 1,
            isWebGLSupported: !1,
            isCanvasSupported: !1,
            deviceOrientationSupported: null,
            maxTextureWidth: 0,
            mouseWheelEvent: null,
            fullscreenEvent: null
        },
        p.ICONS = {},
        p.DEFAULTS = {
            panorama: null,
            container: null,
            caption: null,
            autoload: !0,
            usexmpdata: !0,
            pano_data: null,
            webgl: !0,
            min_fov: 30,
            max_fov: 90,
            default_fov: null,
            default_long: 0,
            default_lat: 0,
            longitude_range: null,
            latitude_range: null,
            move_speed: 1,
            time_anim: 2e3,
            anim_speed: "2rpm",
            anim_lat: null,
            fisheye: !1,
            navbar: ["autorotate", "zoom", "download", "markers", "caption", "gyroscope", "fullscreen"],
            tooltip: {
                offset: 5,
                arrow_size: 7,
                delay: 100
            },
            lang: {
                autorotate: "Automatic rotation",
                zoom: "Zoom",
                zoomOut: "Zoom out",
                zoomIn: "Zoom in",
                download: "Download",
                fullscreen: "Fullscreen",
                markers: "Markers",
                gyroscope: "Gyroscope"
            },
            mousewheel: !0,
            mousemove: !0,
            keyboard: !0,
            gyroscope: !1,
            move_inertia: !0,
            click_event_on_marker: !1,
            transition: {
                duration: 1500,
                loader: !0
            },
            loading_img: null,
            loading_txt: "Loading...",
            size: null,
            cache_texture: 5,
            templates: {},
            markers: []
        },
        p.TEMPLATES = {
            markersList: '<div class="psv-markers-list-container">   <h1 class="psv-markers-list-title">{{= it.config.lang.markers }}</h1>   <ul class="psv-markers-list">   {{~ it.markers: marker }}     <li data-psv-marker="{{= marker.id }}" class="psv-markers-list-item {{? marker.className }}{{= marker.className }}{{?}}">       {{? marker.image }}<img class="psv-markers-list-image" src="{{= marker.image }}"/>{{?}}       <p class="psv-markers-list-name">{{? marker.tooltip }}{{= marker.tooltip.content }}{{?? marker.html }}{{= marker.html }}{{??}}{{= marker.id }}{{?}}</p>     </li>   {{~}}   </ul> </div>'
        },
        p.prototype._bindEvents = function() {
            window.addEventListener("resize", this),
            this.config.mousemove && (this.hud.container.style.cursor = "move",
            this.hud.container.addEventListener("mousedown", this),
            this.hud.container.addEventListener("touchstart", this),
            window.addEventListener("mouseup", this),
            window.addEventListener("touchend", this),
            this.hud.container.addEventListener("mousemove", this),
            this.hud.container.addEventListener("touchmove", this)),
            p.SYSTEM.fullscreenEvent && document.addEventListener(p.SYSTEM.fullscreenEvent, this),
            this.config.mousewheel && this.hud.container.addEventListener(p.SYSTEM.mouseWheelEvent, this),
            this.on("_side-reached", function(e) {
                this.isAutorotateEnabled() && ("left" !== e && "right" !== e || this._reverseAutorotate())
            })
        }
        ,
        p.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "resize":
                S.throttle(this._onResize(), 50);
                break;
            case "keydown":
                this._onKeyDown(e);
                break;
            case "mousedown":
                this._onMouseDown(e);
                break;
            case "touchstart":
                this._onTouchStart(e);
                break;
            case "mouseup":
                this._onMouseUp(e);
                break;
            case "touchend":
                this._onTouchEnd(e);
                break;
            case "mousemove":
                this._onMouseMove(e);
                break;
            case "touchmove":
                this._onTouchMove(e);
                break;
            case p.SYSTEM.fullscreenEvent:
                this._fullscreenToggled();
                break;
            case p.SYSTEM.mouseWheelEvent:
                this._onMouseWheel(e)
            }
        }
        ,
        p.prototype._onResize = function() {
            this.container.clientWidth == this.prop.size.width && this.container.clientHeight == this.prop.size.height || (this.prop.size.width = parseInt(this.container.clientWidth),
            this.prop.size.height = parseInt(this.container.clientHeight),
            this.prop.aspect = this.prop.size.width / this.prop.size.height,
            this.renderer && (this.renderer.setSize(this.prop.size.width, this.prop.size.height),
            this.composer && this.composer.reset(new h.WebGLRenderTarget(this.prop.size.width,this.prop.size.height)),
            this.render()),
            this.trigger("size-updated", this.getSize()))
        }
        ,
        p.prototype._onKeyDown = function(e) {
            var t = 0
              , n = 0
              , i = 0
              , r = e.key || p.KEYMAP[e.keyCode || e.which];
            switch (r) {
            case "ArrowUp":
                n = .01;
                break;
            case "ArrowDown":
                n = -.01;
                break;
            case "ArrowRight":
                t = .01;
                break;
            case "ArrowLeft":
                t = -.01;
                break;
            case "PageUp":
            case "+":
                i = 1;
                break;
            case "PageDown":
            case "-":
                i = -1
            }
            0 !== i ? this.zoom(this.prop.zoom_lvl + i) : 0 === n && 0 === t || this.rotate({
                longitude: this.prop.longitude + t * this.prop.move_speed * this.prop.hFov,
                latitude: this.prop.latitude + n * this.prop.move_speed * this.prop.vFov
            })
        }
        ,
        p.prototype._onMouseDown = function(e) {
            this._startMove(e)
        }
        ,
        p.prototype._onMouseUp = function(e) {
            this._stopMove(e)
        }
        ,
        p.prototype._onMouseMove = function(e) {
            0 !== e.buttons && (e.preventDefault(),
            this._move(e))
        }
        ,
        p.prototype._onTouchStart = function(e) {
            1 === e.touches.length ? this._startMove(e.touches[0]) : 2 === e.touches.length && this._startZoom(e)
        }
        ,
        p.prototype._onTouchEnd = function(e) {
            this._stopMove(e.changedTouches[0])
        }
        ,
        p.prototype._onTouchMove = function(e) {
            1 === e.touches.length ? (e.preventDefault(),
            this._move(e.touches[0])) : 2 === e.touches.length && (e.preventDefault(),
            this._zoom(e))
        }
        ,
        p.prototype._startMove = function(e) {
            this.isGyroscopeEnabled() || (this._stopAll(),
            this.prop.mouse_x = this.prop.start_mouse_x = parseInt(e.clientX),
            this.prop.mouse_y = this.prop.start_mouse_y = parseInt(e.clientY),
            this.prop.moving = !0,
            this.prop.zooming = !1,
            this.prop.mouse_history.length = 0,
            this._logMouseMove(e))
        }
        ,
        p.prototype._startZoom = function(e) {
            var t = [{
                x: parseInt(e.touches[0].clientX),
                y: parseInt(e.touches[0].clientY)
            }, {
                x: parseInt(e.touches[1].clientX),
                y: parseInt(e.touches[1].clientY)
            }];
            this.prop.pinch_dist = Math.sqrt(Math.pow(t[0].x - t[1].x, 2) + Math.pow(t[0].y - t[1].y, 2)),
            this.prop.moving = !1,
            this.prop.zooming = !0
        }
        ,
        p.prototype._stopMove = function(e) {
            this.isGyroscopeEnabled() ? this._click(e) : (this.prop.moving && (Math.abs(e.clientX - this.prop.start_mouse_x) < p.MOVE_THRESHOLD && Math.abs(e.clientY - this.prop.start_mouse_y) < p.MOVE_THRESHOLD ? (this._click(e),
            this.prop.moving = !1) : this.config.move_inertia ? (this._logMouseMove(e),
            this._stopMoveInertia(e)) : this.prop.moving = !1),
            this.prop.mouse_history.length = 0,
            this.prop.zooming = !1)
        }
        ,
        p.prototype._stopMoveInertia = function(e) {
            var t = this
              , n = {
                x: e.clientX - this.prop.mouse_history[0][1],
                y: e.clientY - this.prop.mouse_history[0][2]
            }
              , i = Math.sqrt(n.x * n.x + n.y * n.y);
            this.prop.animation_promise = S.animation({
                properties: {
                    clientX: {
                        start: e.clientX,
                        end: e.clientX + n.x
                    },
                    clientY: {
                        start: e.clientY,
                        end: e.clientY + n.y
                    }
                },
                duration: i * p.INERTIA_WINDOW / 100,
                easing: "outCirc",
                onTick: function(e) {
                    t._move(e, !1)
                }
            }).ensure(function() {
                t.prop.moving = !1
            })
        }
        ,
        p.prototype._click = function(e) {
            var t = this.container.getBoundingClientRect()
              , n = {
                target: e.target,
                client_x: e.clientX,
                client_y: e.clientY,
                viewer_x: parseInt(e.clientX - t.left),
                viewer_y: parseInt(e.clientY - t.top)
            }
              , i = this.viewerCoordsToVector3({
                x: n.viewer_x,
                y: n.viewer_y
            });
            if (i) {
                var r = this.vector3ToSphericalCoords(i);
                if (n.longitude = r.longitude,
                n.latitude = r.latitude,
                !this.prop.isCubemap) {
                    var a = this.sphericalCoordsToTextureCoords({
                        longitude: n.longitude,
                        latitude: n.latitude
                    });
                    n.texture_x = a.x,
                    n.texture_y = a.y
                }
                this.prop.dblclick_timeout ? (Math.abs(this.prop.dblclick_data.client_x - n.client_x) < p.MOVE_THRESHOLD && Math.abs(this.prop.dblclick_data.client_y - n.client_y) < p.MOVE_THRESHOLD && this.trigger("dblclick", this.prop.dblclick_data),
                clearTimeout(this.prop.dblclick_timeout),
                this.prop.dblclick_timeout = null,
                this.prop.dblclick_data = null) : (this.trigger("click", n),
                this.prop.dblclick_data = S.clone(n),
                this.prop.dblclick_timeout = setTimeout(function() {
                    this.prop.dblclick_timeout = null,
                    this.prop.dblclick_data = null
                }
                .bind(this), p.DBLCLICK_DELAY))
            }
        }
        ,
        p.prototype._move = function(e, t) {
            if (this.prop.moving) {
                var n = parseInt(e.clientX)
                  , i = parseInt(e.clientY);
                this.rotate({
                    longitude: this.prop.longitude - (n - this.prop.mouse_x) / this.prop.size.width * this.prop.move_speed * this.prop.hFov,
                    latitude: this.prop.latitude + (i - this.prop.mouse_y) / this.prop.size.height * this.prop.move_speed * this.prop.vFov
                }),
                this.prop.mouse_x = n,
                this.prop.mouse_y = i,
                !1 !== t && this._logMouseMove(e)
            }
        }
        ,
        p.prototype._zoom = function(e) {
            if (this.prop.zooming) {
                var t = [{
                    x: parseInt(e.touches[0].clientX),
                    y: parseInt(e.touches[0].clientY)
                }, {
                    x: parseInt(e.touches[1].clientX),
                    y: parseInt(e.touches[1].clientY)
                }]
                  , n = Math.sqrt(Math.pow(t[0].x - t[1].x, 2) + Math.pow(t[0].y - t[1].y, 2))
                  , i = 80 * (n - this.prop.pinch_dist) / this.prop.size.width;
                this.zoom(this.prop.zoom_lvl + i),
                this.prop.pinch_dist = n
            }
        }
        ,
        p.prototype._onMouseWheel = function(e) {
            e.preventDefault(),
            e.stopPropagation();
            var t = void 0 !== e.deltaY ? -e.deltaY : void 0 !== e.wheelDelta ? e.wheelDelta : -e.detail;
            if (0 !== t) {
                var n = parseInt(t / Math.abs(t));
                this.zoom(this.prop.zoom_lvl + n)
            }
        }
        ,
        p.prototype._fullscreenToggled = function() {
            var e = this.isFullscreenEnabled();
            this.config.keyboard && (e ? this.startKeyboardControl() : this.stopKeyboardControl()),
            this.trigger("fullscreen-updated", e)
        }
        ,
        p.prototype._logMouseMove = function(e) {
            var t = Date.now();
            this.prop.mouse_history.push([t, e.clientX, e.clientY]);
            for (var n = null, i = 0; i < this.prop.mouse_history.length; )
                this.prop.mouse_history[0][i] < t - p.INERTIA_WINDOW ? this.prop.mouse_history.splice(i, 1) : n = (n && this.prop.mouse_history[0][i] - n > p.INERTIA_WINDOW / 10 ? (this.prop.mouse_history.splice(0, i),
                i = 0) : i++,
                this.prop.mouse_history[0][i])
        }
        ,
        p.prototype.load = function() {
            if (!this.config.panorama)
                throw new x("No value given for panorama.");
            return this.setPanorama(this.config.panorama, !1)
        }
        ,
        p.prototype.getPosition = function() {
            return {
                longitude: this.prop.longitude,
                latitude: this.prop.latitude
            }
        }
        ,
        p.prototype.getZoomLevel = function() {
            return this.prop.zoom_lvl
        }
        ,
        p.prototype.getSize = function() {
            return {
                width: this.prop.size.width,
                height: this.prop.size.height
            }
        }
        ,
        p.prototype.isAutorotateEnabled = function() {
            return !!this.prop.autorotate_reqid
        }
        ,
        p.prototype.isGyroscopeEnabled = function() {
            return !!this.prop.orientation_reqid
        }
        ,
        p.prototype.isFullscreenEnabled = function() {
            return S.isFullscreenEnabled(this.container)
        }
        ,
        p.prototype.render = function(e) {
            !1 !== e && (this.prop.direction = this.sphericalCoordsToVector3(this.prop),
            this.camera.position.set(0, 0, 0),
            this.camera.lookAt(this.prop.direction)),
            this.config.fisheye && this.camera.position.copy(this.prop.direction).multiplyScalar(this.config.fisheye / 2).negate(),
            this.camera.aspect = this.prop.aspect,
            this.camera.fov = this.prop.vFov,
            this.camera.updateProjectionMatrix(),
            this.composer ? this.composer.render() : this.renderer.render(this.scene, this.camera),
            this.trigger("render")
        }
        ,
        p.prototype.destroy = function() {
            this._stopAll(),
            this.stopKeyboardControl(),
            this.isFullscreenEnabled() && S.exitFullscreen(),
            window.removeEventListener("resize", this),
            this.config.mousemove && (this.hud.container.removeEventListener("mousedown", this),
            this.hud.container.removeEventListener("touchstart", this),
            window.removeEventListener("mouseup", this),
            window.removeEventListener("touchend", this),
            this.hud.container.removeEventListener("mousemove", this),
            this.hud.container.removeEventListener("touchmove", this)),
            p.SYSTEM.fullscreenEvent && document.removeEventListener(p.SYSTEM.fullscreenEvent, this),
            this.config.mousewheel && this.hud.container.removeEventListener(p.SYSTEM.mouseWheelEvent, this),
            this.tooltip && this.tooltip.destroy(),
            this.hud && this.hud.destroy(),
            this.loader && this.loader.destroy(),
            this.navbar && this.navbar.destroy(),
            this.panel && this.panel.destroy(),
            this.doControls && this.doControls.disconnect(),
            this.scene && S.cleanTHREEScene(this.scene),
            this.canvas_container && this.container.removeChild(this.canvas_container),
            this.parent.removeChild(this.container),
            delete this.parent.photoSphereViewer,
            delete this.parent,
            delete this.container,
            delete this.loader,
            delete this.navbar,
            delete this.hud,
            delete this.panel,
            delete this.tooltip,
            delete this.canvas_container,
            delete this.renderer,
            delete this.composer,
            delete this.scene,
            delete this.camera,
            delete this.mesh,
            delete this.doControls,
            delete this.raycaster,
            delete this.passes,
            delete this.config,
            this.prop.cache.length = 0
        }
        ,
        p.prototype.setPanorama = function(e, t, n) {
            if (null !== this.prop.loading_promise)
                throw new x("Loading already in progress");
            if ("boolean" == typeof t && (n = t,
            t = void 0),
            n && this.prop.isCubemap)
                throw new x("Transition is not available with cubemap.");
            t && (this.cleanPosition(t),
            this._stopAll()),
            this.config.panorama = e;
            var i = this;
            return n && this.config.transition && this.scene ? (this.config.transition.loader && this.loader.show(),
            this.prop.loading_promise = this._loadTexture(this.config.panorama).then(function(e) {
                return i.loader.hide(),
                i._transition(e, t)
            }).ensure(function() {
                i.loader.hide(),
                i.prop.loading_promise = null
            }).rethrow()) : (this.loader.show(),
            this.canvas_container && (this.canvas_container.style.opacity = 0),
            this.prop.loading_promise = this._loadTexture(this.config.panorama).then(function(e) {
                i._setTexture(e),
                t && i.rotate(t)
            }).ensure(function() {
                i.loader.hide(),
                i.canvas_container.style.opacity = 1,
                i.prop.loading_promise = null
            }).rethrow()),
            this.prop.loading_promise
        }
        ,
        p.prototype.startAutorotate = function() {
            this._stopAll();
            var n = this
              , i = null
              , r = null;
            !function e(t) {
                t && (r = null === i ? 0 : t - i,
                i = t,
                n.rotate({
                    longitude: n.prop.longitude + n.config.anim_speed * r / 1e3,
                    latitude: n.prop.latitude - (n.prop.latitude - n.config.anim_lat) / 200
                })),
                n.prop.autorotate_reqid = window.requestAnimationFrame(e)
            }(null),
            this.trigger("autorotate", !0)
        }
        ,
        p.prototype.stopAutorotate = function() {
            this.prop.start_timeout && (window.clearTimeout(this.prop.start_timeout),
            this.prop.start_timeout = null),
            this.prop.autorotate_reqid && (window.cancelAnimationFrame(this.prop.autorotate_reqid),
            this.prop.autorotate_reqid = null,
            this.trigger("autorotate", !1))
        }
        ,
        p.prototype.toggleAutorotate = function() {
            this.isAutorotateEnabled() ? this.stopAutorotate() : this.startAutorotate()
        }
        ,
        p.prototype.startGyroscopeControl = function() {
            if (this.doControls && this.doControls.enabled && this.doControls.deviceOrientation) {
                this._stopAll();
                var n = this;
                !function e() {
                    n.doControls.update(),
                    n.prop.direction = n.camera.getWorldDirection();
                    var t = n.vector3ToSphericalCoords(n.prop.direction);
                    n.prop.longitude = t.longitude,
                    n.prop.latitude = t.latitude,
                    n.render(!1),
                    n.prop.orientation_reqid = window.requestAnimationFrame(e)
                }(),
                this.trigger("gyroscope-updated", !0)
            } else
                console.warn("PhotoSphereViewer: gyroscope disabled")
        }
        ,
        p.prototype.stopGyroscopeControl = function() {
            this.prop.orientation_reqid && (window.cancelAnimationFrame(this.prop.orientation_reqid),
            this.prop.orientation_reqid = null,
            this.trigger("gyroscope-updated", !1),
            this.render())
        }
        ,
        p.prototype.toggleGyroscopeControl = function() {
            this.isGyroscopeEnabled() ? this.stopGyroscopeControl() : this.startGyroscopeControl()
        }
        ,
        p.prototype.rotate = function(e, t) {
            this.cleanPosition(e),
            this.applyRanges(e).forEach(this.trigger.bind(this, "_side-reached")),
            this.prop.longitude = e.longitude,
            this.prop.latitude = e.latitude,
            !1 !== t && this.renderer && (this.render(),
            this.trigger("position-updated", this.getPosition()))
        }
        ,
        p.prototype.animate = function(e, t) {
            if (this._stopAll(),
            !t)
                return this.rotate(e),
                d.resolved();
            if (this.cleanPosition(e),
            this.applyRanges(e).forEach(this.trigger.bind(this, "_side-reached")),
            !t && "number" != typeof t) {
                t = t ? S.parseSpeed(t) : this.config.anim_speed;
                var n = Math.acos(Math.cos(this.prop.latitude) * Math.cos(e.latitude) * Math.cos(this.prop.longitude - e.longitude) + Math.sin(this.prop.latitude) * Math.sin(e.latitude));
                t = n / t * 1e3
            }
            var i = S.getShortestArc(this.prop.longitude, e.longitude);
            return this.prop.animation_promise = S.animation({
                properties: {
                    longitude: {
                        start: this.prop.longitude,
                        end: this.prop.longitude + i
                    },
                    latitude: {
                        start: this.prop.latitude,
                        end: e.latitude
                    }
                },
                duration: t,
                easing: "inOutSine",
                onTick: this.rotate.bind(this)
            }),
            this.prop.animation_promise
        }
        ,
        p.prototype.stopAnimation = function() {
            this.prop.animation_promise && (this.prop.animation_promise.cancel(),
            this.prop.animation_promise = null)
        }
        ,
        p.prototype.zoom = function(e, t) {
            this.prop.zoom_lvl = S.bound(Math.round(e), 0, 100),
            this.prop.vFov = this.config.max_fov + this.prop.zoom_lvl / 100 * (this.config.min_fov - this.config.max_fov),
            this.prop.hFov = h.Math.radToDeg(2 * Math.atan(Math.tan(h.Math.degToRad(this.prop.vFov) / 2) * this.prop.aspect)),
            !1 !== t && this.renderer && (this.render(),
            this.trigger("zoom-updated", this.getZoomLevel()))
        }
        ,
        p.prototype.zoomIn = function() {
            this.prop.zoom_lvl < 100 && this.zoom(this.prop.zoom_lvl + 1)
        }
        ,
        p.prototype.zoomOut = function() {
            0 < this.prop.zoom_lvl && this.zoom(this.prop.zoom_lvl - 1)
        }
        ,
        p.prototype.toggleFullscreen = function() {
            this.isFullscreenEnabled() ? S.exitFullscreen() : S.requestFullscreen(this.container)
        }
        ,
        p.prototype.startKeyboardControl = function() {
            window.addEventListener("keydown", this)
        }
        ,
        p.prototype.stopKeyboardControl = function() {
            window.removeEventListener("keydown", this)
        }
        ,
        p.prototype.preloadPanorama = function(e) {
            if (!this.config.cache_texture)
                throw new x("Cannot preload panorama, cache_texture is disabled");
            return this._loadTexture(e)
        }
        ,
        p.prototype.clearPanoramaCache = function(e) {
            if (!this.config.cache_texture)
                throw new x("Cannot clear cache, cache_texture is disabled");
            if (e) {
                for (var t = 0, n = this.prop.cache.length; t < n; t++)
                    if (this.prop.cache[t].panorama === e) {
                        this.prop.cache.splice(t, 1);
                        break
                    }
            } else
                this.prop.cache.length = 0
        }
        ,
        p.prototype.getPanoramaCache = function(t) {
            if (!this.config.cache_texture)
                throw new x("Cannot query cache, cache_texture is disabled");
            return this.prop.cache.filter(function(e) {
                return e.panorama === t
            }).shift()
        }
        ,
        p._loadSystem = function() {
            var e = p.SYSTEM;
            e.loaded = !0,
            e.pixelRatio = window.devicePixelRatio || 1,
            e.isWebGLSupported = S.isWebGLSupported(),
            e.isCanvasSupported = S.isCanvasSupported(),
            e.maxTextureWidth = e.isWebGLSupported ? S.getMaxTextureWidth() : 4096,
            e.mouseWheelEvent = S.mouseWheelEvent(),
            e.fullscreenEvent = S.fullscreenEvent(),
            e.deviceOrientationSupported = d(),
            "DeviceOrientationEvent"in window ? window.addEventListener("deviceorientation", p._deviceOrientationListener, !1) : e.deviceOrientationSupported.reject()
        }
        ,
        p._deviceOrientationListener = function(e) {
            null === e.alpha || isNaN(e.alpha) ? p.SYSTEM.deviceOrientationSupported.reject() : p.SYSTEM.deviceOrientationSupported.resolve(),
            window.removeEventListener("deviceorientation", p._deviceOrientationListener)
        }
        ,
        p.prototype._setViewerSize = function(t) {
            ["width", "height"].forEach(function(e) {
                t[e] && (/^[0-9.]+$/.test(t[e]) && (t[e] += "px"),
                this.parent.style[e] = t[e])
            }, this)
        }
        ,
        p.prototype.textureCoordsToSphericalCoords = function(e) {
            if (this.prop.isCubemap)
                throw new x("Unable to use texture coords with cubemap.");
            var t = (e.x + this.prop.pano_data.cropped_x) / this.prop.pano_data.full_width * S.TwoPI
              , n = (e.y + this.prop.pano_data.cropped_y) / this.prop.pano_data.full_height * Math.PI;
            return {
                longitude: t >= Math.PI ? t - Math.PI : t + Math.PI,
                latitude: S.HalfPI - n
            }
        }
        ,
        p.prototype.sphericalCoordsToTextureCoords = function(e) {
            if (this.prop.isCubemap)
                throw new x("Unable to use texture coords with cubemap.");
            var t = e.longitude / S.TwoPI * this.prop.pano_data.full_width
              , n = e.latitude / Math.PI * this.prop.pano_data.full_height;
            return {
                x: parseInt(e.longitude < Math.PI ? t + this.prop.pano_data.full_width / 2 : t - this.prop.pano_data.full_width / 2) - this.prop.pano_data.cropped_x,
                y: parseInt(this.prop.pano_data.full_height / 2 - n) - this.prop.pano_data.cropped_y
            }
        }
        ,
        p.prototype.sphericalCoordsToVector3 = function(e) {
            return new h.Vector3(p.SPHERE_RADIUS * -Math.cos(e.latitude) * Math.sin(e.longitude),p.SPHERE_RADIUS * Math.sin(e.latitude),p.SPHERE_RADIUS * Math.cos(e.latitude) * Math.cos(e.longitude))
        }
        ,
        p.prototype.vector3ToSphericalCoords = function(e) {
            var t = Math.acos(e.y / Math.sqrt(e.x * e.x + e.y * e.y + e.z * e.z))
              , n = Math.atan2(e.x, e.z);
            return {
                longitude: n < 0 ? -n : S.TwoPI - n,
                latitude: S.HalfPI - t
            }
        }
        ,
        p.prototype.viewerCoordsToVector3 = function(e) {
            var t = new h.Vector2(2 * e.x / this.prop.size.width - 1,-2 * e.y / this.prop.size.height + 1);
            this.raycaster.setFromCamera(t, this.camera);
            var n = this.raycaster.intersectObjects(this.scene.children);
            return 1 === n.length ? n[0].point : null
        }
        ,
        p.prototype.vector3ToViewerCoords = function(e) {
            return (e = e.clone()).project(this.camera),
            {
                x: parseInt((e.x + 1) / 2 * this.prop.size.width),
                y: parseInt((1 - e.y) / 2 * this.prop.size.height)
            }
        }
        ,
        p.prototype.cleanPosition = function(e) {
            e.hasOwnProperty("x") && e.hasOwnProperty("y") && S.deepmerge(e, this.textureCoordsToSphericalCoords(e)),
            e.longitude = S.parseAngle(e.longitude),
            e.latitude = S.bound(S.parseAngle(e.latitude, -Math.PI), -S.HalfPI, S.HalfPI)
        }
        ,
        p.prototype.applyRanges = function(e) {
            var t, n, i = [];
            return this.config.longitude_range && (t = S.clone(this.config.longitude_range),
            n = h.Math.degToRad(this.prop.hFov) / 2,
            t[0] = S.parseAngle(t[0] + n),
            t[1] = S.parseAngle(t[1] - n),
            t[0] > t[1] ? e.longitude > t[1] && e.longitude < t[0] && (e.longitude > t[0] / 2 + t[1] / 2 ? (e.longitude = t[0],
            i.push("left")) : (e.longitude = t[1],
            i.push("right"))) : e.longitude < t[0] ? (e.longitude = t[0],
            i.push("left")) : e.longitude > t[1] && (e.longitude = t[1],
            i.push("right"))),
            this.config.latitude_range && (t = S.clone(this.config.latitude_range),
            n = h.Math.degToRad(this.prop.vFov) / 2,
            t[0] = S.parseAngle(Math.min(t[0] + n, t[1]), -Math.PI),
            t[1] = S.parseAngle(Math.max(t[1] - n, t[0]), -Math.PI),
            e.latitude < t[0] ? (e.latitude = t[0],
            i.push("bottom")) : e.latitude > t[1] && (e.latitude = t[1],
            i.push("top"))),
            i
        }
        ,
        r.className = null,
        r.publicMethods = [],
        r.prototype.create = function() {
            this.container = document.createElement("div"),
            this.constructor.className && (this.container.className = this.constructor.className),
            this.parent.container.appendChild(this.container)
        }
        ,
        r.prototype.destroy = function() {
            this.parent.container.removeChild(this.container),
            this.constructor.publicMethods && this.constructor.publicMethods.forEach(function(e) {
                delete this.psv[e]
            }, this),
            delete this.container,
            delete this.psv,
            delete this.parent
        }
        ,
        r.prototype.hide = function() {
            this.container.style.display = "none"
        }
        ,
        r.prototype.show = function() {
            this.container.style.display = ""
        }
        ,
        ((a.prototype = Object.create(r.prototype)).constructor = a).className = "psv-hud",
        a.publicMethods = ["addMarker", "removeMarker", "updateMarker", "clearMarkers", "getMarker", "getCurrentMarker", "gotoMarker", "hideMarker", "showMarker", "toggleMarker", "toggleMarkersList", "showMarkersList", "hideMarkersList"],
        a.prototype.create = function() {
            r.prototype.create.call(this),
            this.svgContainer = document.createElementNS(S.svgNS, "svg"),
            this.svgContainer.setAttribute("class", "psv-hud-svg-container"),
            this.container.appendChild(this.svgContainer),
            this.container.addEventListener("mouseenter", this, !0),
            this.container.addEventListener("mouseleave", this, !0),
            this.container.addEventListener("mousemove", this, !0),
            this.psv.on("click", this),
            this.psv.on("dblclick", this),
            this.psv.on("render", this),
            this.psv.on("open-panel", this),
            this.psv.on("close-panel", this)
        }
        ,
        a.prototype.destroy = function() {
            this.clearMarkers(!1),
            this.container.removeEventListener("mouseenter", this),
            this.container.removeEventListener("mouseleave", this),
            this.container.removeEventListener("mousemove", this),
            this.psv.off("click", this),
            this.psv.off("dblclick", this),
            this.psv.off("render", this),
            this.psv.off("open-panel", this),
            this.psv.off("close-panel", this),
            delete this.svgContainer,
            r.prototype.destroy.call(this)
        }
        ,
        a.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "mouseenter":
                this._onMouseEnter(e);
                break;
            case "mouseleave":
                this._onMouseLeave(e);
                break;
            case "mousemove":
                this._onMouseMove(e);
                break;
            case "click":
                this._onClick(e.args[0], e, !1);
                break;
            case "dblclick":
                this._onClick(e.args[0], e, !0);
                break;
            case "render":
                this.renderMarkers();
                break;
            case "open-panel":
                this._onPanelOpened();
                break;
            case "close-panel":
                this._onPanelClosed()
            }
        }
        ,
        a.prototype.addMarker = function(e, t) {
            if (!e.id)
                throw new x("missing marker id");
            if (this.markers[e.id])
                throw new x('marker "' + e.id + '" already exists');
            var n = new T(e,this.psv);
            return n.isNormal() ? this.container.appendChild(n.$el) : this.svgContainer.appendChild(n.$el),
            this.markers[n.id] = n,
            !1 !== t && this.renderMarkers(),
            n
        }
        ,
        a.prototype.getMarker = function(e) {
            var t = "object" === E(e) ? e.id : e;
            if (!this.markers[t])
                throw new x('cannot find marker "' + t + '"');
            return this.markers[t]
        }
        ,
        a.prototype.getCurrentMarker = function() {
            return this.currentMarker
        }
        ,
        a.prototype.updateMarker = function(e, t) {
            var n = this.getMarker(e);
            return n.update(e),
            !1 !== t && this.renderMarkers(),
            n
        }
        ,
        a.prototype.removeMarker = function(e, t) {
            (e = this.getMarker(e)).isNormal() ? this.container.removeChild(e.$el) : this.svgContainer.removeChild(e.$el),
            this.hoveringMarker == e && this.psv.tooltip.hideTooltip(),
            e.destroy(),
            delete this.markers[e.id],
            !1 !== t && this.renderMarkers()
        }
        ,
        a.prototype.clearMarkers = function(e) {
            Object.keys(this.markers).forEach(function(e) {
                this.removeMarker(e, !1)
            }, this),
            !1 !== e && this.renderMarkers()
        }
        ,
        a.prototype.gotoMarker = function(e, t) {
            return e = this.getMarker(e),
            this.psv.animate(e, t)
        }
        ,
        a.prototype.hideMarker = function(e) {
            this.getMarker(e).visible = !1,
            this.renderMarkers()
        }
        ,
        a.prototype.showMarker = function(e) {
            this.getMarker(e).visible = !0,
            this.renderMarkers()
        }
        ,
        a.prototype.toggleMarker = function(e) {
            this.getMarker(e).visible ^= !0,
            this.renderMarkers()
        }
        ,
        a.prototype.toggleMarkersList = function() {
            this.prop.panelOpened ? this.hideMarkersList() : this.showMarkersList()
        }
        ,
        a.prototype.showMarkersList = function() {
            var e = [];
            for (var t in this.markers)
                e.push(this.markers[t]);
            var n = this.psv.config.templates.markersList({
                markers: this.psv.change("render-markers-list", e),
                config: this.psv.config
            });
            this.prop.panelOpening = !0,
            this.psv.panel.showPanel(n, !0),
            this.psv.panel.container.querySelector(".psv-markers-list").addEventListener("click", this._onClickItem.bind(this))
        }
        ,
        a.prototype.hideMarkersList = function() {
            this.prop.panelOpened && this.psv.panel.hidePanel()
        }
        ,
        a.prototype.renderMarkers = function() {
            var e = this.psv.isGyroscopeEnabled() ? h.Math.radToDeg(this.psv.camera.rotation.z) : 0;
            for (var t in this.markers) {
                var n = this.markers[t]
                  , i = n.visible;
                if (i && n.isPolygon()) {
                    var r = this._getPolygonPositions(n);
                    if (i = 2 < r.length) {
                        n.position2D = this._getPolygonDimensions(n, r);
                        var a = "";
                        r.forEach(function(e) {
                            a += e.x + "," + e.y + " "
                        }),
                        n.$el.setAttributeNS(null, "points", a)
                    }
                } else if (i) {
                    var o = this._getMarkerPosition(n);
                    (i = this._isMarkerVisible(n, o)) && (n.position2D = o,
                    n.$el instanceof SVGElement ? n.$el.setAttribute("transform", "translate(" + o.x + " " + o.y + ")" + (!n.lockRotation && e ? " rotate(" + e + " " + n.anchor.left * n.width + " " + n.anchor.top * n.height + ")" : "")) : (n.$el.style.transform = "translate3D(" + o.x + "px, " + o.y + "px, 0px)" + (!n.lockRotation && e ? " rotateZ(" + e + "deg)" : ""),
                    n.$el.style.transformOrigin = 100 * n.anchor.left + "% " + 100 * n.anchor.top + "%"))
                }
                S.toggleClass(n.$el, "psv-marker--visible", i)
            }
        }
        ,
        a.prototype._isMarkerVisible = function(e, t) {
            return 0 < e.position3D.dot(this.psv.prop.direction) && 0 <= t.x + e.width && t.x - e.width <= this.psv.prop.size.width && 0 <= t.y + e.height && t.y - e.height <= this.psv.prop.size.height
        }
        ,
        a.prototype._getMarkerPosition = function(e) {
            if (e._dynamicSize) {
                S.toggleClass(e.$el, "psv-marker--transparent", !0);
                var t = e.$el.getBoundingClientRect();
                S.toggleClass(e.$el, "psv-marker--transparent", !1),
                e.width = t.right - t.left,
                e.height = t.bottom - t.top
            }
            var n = this.psv.vector3ToViewerCoords(e.position3D);
            return n.x -= e.width * e.anchor.left,
            n.y -= e.height * e.anchor.top,
            n
        }
        ,
        a.prototype._getPolygonPositions = function(e) {
            var i = e.positions3D.length
              , r = e.positions3D.map(function(e) {
                return {
                    vector: e,
                    visible: 0 < e.dot(this.psv.prop.direction)
                }
            }, this)
              , a = [];
            return r.forEach(function(t, n) {
                if (!t.visible) {
                    var e = [0 === n ? r[i - 1] : r[n - 1], n === i - 1 ? r[0] : r[n + 1]];
                    e.forEach(function(e) {
                        e.visible && a.push({
                            visible: e,
                            invisible: t,
                            index: n
                        })
                    })
                }
            }),
            a.reverse().forEach(function(e) {
                r.splice(e.index, 0, {
                    vector: this._getPolygonIntermediaryPoint(e.visible.vector, e.invisible.vector),
                    visible: !0
                })
            }, this),
            r.filter(function(e) {
                return e.visible
            }).map(function(e) {
                return this.psv.vector3ToViewerCoords(e.vector)
            }, this)
        }
        ,
        a.prototype._getPolygonIntermediaryPoint = function(e, t) {
            var n = this.psv.prop.direction.clone().normalize()
              , i = (new h.Vector3).crossVectors(e, t).normalize()
              , r = (new h.Vector3).crossVectors(i, e).normalize()
              , a = (new h.Vector3).addVectors(e.clone().multiplyScalar(-n.dot(r)), r.clone().multiplyScalar(n.dot(e))).normalize()
              , o = (new h.Vector3).crossVectors(a, n);
            return a.applyAxisAngle(o, .01).multiplyScalar(p.SPHERE_RADIUS)
        }
        ,
        a.prototype._getPolygonDimensions = function(e, t) {
            var n = 1 / 0
              , i = 1 / 0
              , r = -1 / 0
              , a = -1 / 0;
            return t.forEach(function(e) {
                n = Math.min(n, e.x),
                i = Math.min(i, e.y),
                r = Math.max(r, e.x),
                a = Math.max(a, e.y)
            }),
            e.width = r - n,
            e.height = a - i,
            {
                x: n,
                y: i
            }
        }
        ,
        a.prototype._onMouseEnter = function(e) {
            var t;
            e.target && (t = e.target.psvMarker) && !t.isPolygon() && (this.hoveringMarker = t,
            this.psv.trigger("over-marker", t),
            t.tooltip && this.psv.tooltip.showTooltip({
                content: t.tooltip.content,
                position: t.tooltip.position,
                left: t.position2D.x,
                top: t.position2D.y,
                box: {
                    width: t.width,
                    height: t.height
                }
            }))
        }
        ,
        a.prototype._onMouseLeave = function(e) {
            var t;
            if (e.target && (t = e.target.psvMarker)) {
                if (t.isPolygon() && e.relatedTarget && S.hasParent(e.relatedTarget, this.psv.tooltip.container))
                    return;
                this.psv.trigger("leave-marker", t),
                this.hoveringMarker = null,
                this.psv.tooltip.hideTooltip()
            }
        }
        ,
        a.prototype._onMouseMove = function(e) {
            var t;
            if (!this.psv.prop.moving)
                if (e.target && (t = e.target.psvMarker) && t.isPolygon() || e.target && S.hasParent(e.target, this.psv.tooltip.container) && (t = this.hoveringMarker)) {
                    this.hoveringMarker || (this.psv.trigger("over-marker", t),
                    this.hoveringMarker = t);
                    var n = this.psv.container.getBoundingClientRect();
                    t.tooltip && this.psv.tooltip.showTooltip({
                        content: t.tooltip.content,
                        position: t.tooltip.position,
                        top: e.clientY - n.top - this.psv.config.tooltip.arrow_size / 2,
                        left: e.clientX - n.left - this.psv.config.tooltip.arrow_size,
                        box: {
                            width: 2 * this.psv.config.tooltip.arrow_size,
                            height: 2 * this.psv.config.tooltip.arrow_size
                        }
                    })
                } else
                    this.hoveringMarker && this.hoveringMarker.isPolygon() && (this.psv.trigger("leave-marker", t),
                    this.hoveringMarker = null,
                    this.psv.tooltip.hideTooltip())
        }
        ,
        a.prototype._onClick = function(e, t, n) {
            var i;
            e.target && (i = S.getClosest(e.target, ".psv-marker")) && i.psvMarker ? (this.currentMarker = i.psvMarker,
            this.psv.trigger("select-marker", this.currentMarker, n),
            this.psv.config.click_event_on_marker ? e.marker = i.psvMarker : t.stopPropagation()) : this.currentMarker && (this.psv.trigger("unselect-marker", this.currentMarker),
            this.currentMarker = null),
            i && i.psvMarker && i.psvMarker.content ? this.psv.panel.showPanel(i.psvMarker.content) : this.psv.panel.prop.opened && (t.stopPropagation(),
            this.psv.panel.hidePanel())
        }
        ,
        a.prototype._onClickItem = function(e) {
            var t;
            e.target && (t = S.getClosest(e.target, "li")) && t.dataset.psvMarker && (this.gotoMarker(t.dataset.psvMarker, 1e3),
            this.psv.panel.hidePanel())
        }
        ,
        a.prototype._onPanelOpened = function() {
            this.prop.panelOpening ? (this.prop.panelOpening = !1,
            this.prop.panelOpened = !0) : this.prop.panelOpened = !1,
            this.prop.markersButton && this.prop.markersButton.toggleActive(this.prop.panelOpened)
        }
        ,
        a.prototype._onPanelClosed = function() {
            this.prop.panelOpened = !1,
            this.prop.panelOpening = !1,
            this.prop.markersButton && this.prop.markersButton.toggleActive(!1)
        }
        ,
        ((o.prototype = Object.create(r.prototype)).constructor = o).className = "psv-loader-container",
        o.prototype.create = function() {
            var e;
            if (r.prototype.create.call(this),
            this.loader = document.createElement("div"),
            this.loader.className = "psv-loader",
            this.container.appendChild(this.loader),
            this.canvas = document.createElement("canvas"),
            this.canvas.className = "psv-loader-canvas",
            this.canvas.width = this.loader.clientWidth,
            this.canvas.height = this.loader.clientWidth,
            this.loader.appendChild(this.canvas),
            this.tickness = (this.loader.offsetWidth - this.loader.clientWidth) / 2,
            this.psv.config.loading_img ? ((e = document.createElement("img")).className = "psv-loader-image",
            e.src = this.psv.config.loading_img) : this.psv.config.loading_txt && ((e = document.createElement("div")).className = "psv-loader-text",
            e.innerHTML = this.psv.config.loading_txt),
            e) {
                var t = Math.round(Math.sqrt(2 * Math.pow(this.canvas.width / 2 - this.tickness / 2, 2)));
                e.style.maxWidth = t + "px",
                e.style.maxHeight = t + "px",
                this.loader.appendChild(e)
            }
        }
        ,
        o.prototype.destroy = function() {
            delete this.loader,
            delete this.canvas,
            r.prototype.destroy.call(this)
        }
        ,
        o.prototype.setProgress = function(e) {
            var t = this.canvas.getContext("2d");
            t.clearRect(0, 0, this.canvas.width, this.canvas.height),
            t.lineWidth = this.tickness,
            t.strokeStyle = S.getStyle(this.loader, "color"),
            t.beginPath(),
            t.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 - this.tickness / 2, -Math.PI / 2, e / 100 * 2 * Math.PI - Math.PI / 2),
            t.stroke()
        }
        ,
        ((s.prototype = Object.create(r.prototype)).constructor = s).className = "psv-navbar",
        s.publicMethods = ["showNavbar", "hideNavbar", "toggleNavbar", "getNavbarButton"],
        s.prototype.create = function() {
            r.prototype.create.call(this),
            this.config.forEach(function(e) {
                if ("object" == E(e))
                    this.items.push(new g(this,e));
                else
                    switch (e) {
                    case m.id:
                        this.items.push(new m(this));
                        break;
                    case w.id:
                        this.items.push(new w(this));
                        break;
                    case v.id:
                        this.items.push(new v(this));
                        break;
                    case _.id:
                        this.items.push(new _(this));
                        break;
                    case y.id:
                        this.items.push(new y(this));
                        break;
                    case b.id:
                        this.psv.config.gyroscope && this.items.push(new b(this));
                        break;
                    case "caption":
                        this.items.push(new n(this,this.psv.config.caption));
                        break;
                    case "spacer":
                        e = "spacer-5";
                    default:
                        var t = e.match(/^spacer\-([0-9]+)$/);
                        if (null === t)
                            throw new x("Unknown button " + e);
                        this.items.push(new l(this,t[1]))
                    }
            }, this)
        }
        ,
        s.prototype.destroy = function() {
            this.items.forEach(function(e) {
                e.destroy()
            }),
            delete this.items,
            delete this.config,
            r.prototype.destroy.call(this)
        }
        ,
        s.prototype.getNavbarButton = function(t) {
            var n = null;
            return this.items.some(function(e) {
                if (e.id === t)
                    return n = e,
                    !0
            }),
            n || console.warn('PhotoSphereViewer: button "' + t + '" not found in the navbar.'),
            n
        }
        ,
        s.prototype.showNavbar = function() {
            this.toggleNavbar(!0)
        }
        ,
        s.prototype.hideNavbar = function() {
            this.toggleNavbar(!1)
        }
        ,
        s.prototype.toggleNavbar = function(e) {
            S.toggleClass(this.container, "psv-navbar", e)
        }
        ,
        ((n.prototype = Object.create(r.prototype)).constructor = n).className = "psv-caption",
        n.publicMethods = ["setCaption"],
        n.prototype.setCaption = function(e) {
            this.container.innerHTML = e || ""
        }
        ,
        ((l.prototype = Object.create(r.prototype)).constructor = l).className = "psv-spacer",
        ((u.prototype = Object.create(r.prototype)).constructor = u).className = "psv-panel",
        u.publicMethods = ["showPanel", "hidePanel"],
        u.prototype.create = function() {
            r.prototype.create.call(this),
            this.container.innerHTML = '<div class="psv-panel-resizer"></div><div class="psv-panel-close-button"></div><div class="psv-panel-content"></div>',
            this.content = this.container.querySelector(".psv-panel-content");
            var e = this.container.querySelector(".psv-panel-close-button");
            e.addEventListener("click", this.hidePanel.bind(this)),
            this.psv.config.mousewheel && this.container.addEventListener(p.SYSTEM.mouseWheelEvent, function(e) {
                e.stopPropagation()
            });
            var t = this.container.querySelector(".psv-panel-resizer");
            t.addEventListener("mousedown", this),
            t.addEventListener("touchstart", this),
            this.psv.container.addEventListener("mouseup", this),
            this.psv.container.addEventListener("touchend", this),
            this.psv.container.addEventListener("mousemove", this),
            this.psv.container.addEventListener("touchmove", this)
        }
        ,
        u.prototype.destroy = function() {
            this.psv.container.removeEventListener("mousemove", this),
            this.psv.container.removeEventListener("touchmove", this),
            this.psv.container.removeEventListener("mouseup", this),
            this.psv.container.removeEventListener("touchend", this),
            delete this.prop,
            delete this.content,
            r.prototype.destroy.call(this)
        }
        ,
        u.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "mousedown":
                this._onMouseDown(e);
                break;
            case "touchstart":
                this._onTouchStart(e);
                break;
            case "mousemove":
                this._onMouseMove(e);
                break;
            case "touchmove":
                this._onTouchMove(e);
                break;
            case "mouseup":
            case "touchend":
                this._onMouseUp(e)
            }
        }
        ,
        u.prototype.showPanel = function(e, t) {
            this.content.innerHTML = e,
            this.content.scrollTop = 0,
            this.container.classList.add("psv-panel--open"),
            S.toggleClass(this.content, "psv-panel-content--no-margin", !!t),
            this.prop.opened = !0,
            this.psv.trigger("open-panel")
        }
        ,
        u.prototype.hidePanel = function() {
            this.content.innerHTML = null,
            this.prop.opened = !1,
            this.container.classList.remove("psv-panel--open"),
            this.psv.trigger("close-panel")
        }
        ,
        u.prototype._onMouseDown = function(e) {
            e.stopPropagation(),
            this._startResize(e)
        }
        ,
        u.prototype._onTouchStart = function(e) {
            e.stopPropagation(),
            this._startResize(e.changedTouches[0])
        }
        ,
        u.prototype._onMouseUp = function(e) {
            this.prop.mousedown && (e.stopPropagation(),
            this.prop.mousedown = !1,
            this.content.classList.remove("psv-panel-content--no-interaction"))
        }
        ,
        u.prototype._onMouseMove = function(e) {
            this.prop.mousedown && (e.stopPropagation(),
            this._resize(e))
        }
        ,
        u.prototype._onTouchMove = function(e) {
            this.prop.mousedown && (e.stopPropagation(),
            this._resize(e.touches[0]))
        }
        ,
        u.prototype._startResize = function(e) {
            this.prop.mouse_x = parseInt(e.clientX),
            this.prop.mouse_y = parseInt(e.clientY),
            this.prop.mousedown = !0,
            this.content.classList.add("psv-panel-content--no-interaction")
        }
        ,
        u.prototype._resize = function(e) {
            var t = parseInt(e.clientX)
              , n = parseInt(e.clientY);
            this.container.style.width = this.container.offsetWidth - (t - this.prop.mouse_x) + "px",
            this.prop.mouse_x = t,
            this.prop.mouse_y = n
        }
        ,
        ((f.prototype = Object.create(r.prototype)).constructor = f).className = "psv-tooltip",
        f.publicMethods = ["showTooltip", "hideTooltip", "isTooltipVisible"],
        f.leftMap = {
            0: "left",
            .5: "center",
            1: "right"
        },
        f.topMap = {
            0: "top",
            .5: "center",
            1: "bottom"
        },
        f.prototype.create = function() {
            r.prototype.create.call(this),
            this.container.innerHTML = '<div class="psv-tooltip-arrow"></div><div class="psv-tooltip-content"></div>',
            this.container.style.top = "-1000px",
            this.container.style.left = "-1000px",
            this.content = this.container.querySelector(".psv-tooltip-content"),
            this.arrow = this.container.querySelector(".psv-tooltip-arrow"),
            this.psv.on("render", this)
        }
        ,
        f.prototype.destroy = function() {
            this.psv.off("render", this),
            delete this.config,
            delete this.prop,
            r.prototype.destroy.call(this)
        }
        ,
        f.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "render":
                this.hideTooltip()
            }
        }
        ,
        f.prototype.isTooltipVisible = function() {
            return this.container.classList.contains("psv-tooltip--visible")
        }
        ,
        f.prototype.showTooltip = function(e) {
            this.prop.timeout && (window.clearTimeout(this.prop.timeout),
            this.prop.timeout = null);
            var t = this.isTooltipVisible()
              , n = this.container
              , i = this.content
              , r = this.arrow;
            if (e.position || (e.position = ["top", "center"]),
            e.box || (e.box = {
                width: 0,
                height: 0
            }),
            "string" == typeof e.position) {
                var a = S.parsePosition(e.position);
                if (!(a.left in f.leftMap && a.top in f.topMap))
                    throw new x('unable to parse tooltip position "' + tooltip.position + '"');
                e.position = [f.topMap[a.top], f.leftMap[a.left]]
            }
            if ("center" == e.position[0] && "center" == e.position[1])
                throw new x('unable to parse tooltip position "center center"');
            if (t)
                for (var o = n.classList.length - 1; 0 <= o; o--) {
                    var s = n.classList.item(o);
                    "psv-tooltip" != s && "psv-tooltip--visible" != s && n.classList.remove(s)
                }
            else
                n.className = "psv-tooltip";
            e.className && S.addClasses(n, e.className),
            i.innerHTML = e.content,
            n.style.top = "0px",
            n.style.left = "0px";
            var l = n.getBoundingClientRect()
              , u = {
                posClass: e.position.slice(),
                width: l.right - l.left,
                height: l.bottom - l.top,
                top: 0,
                left: 0,
                arrow_top: 0,
                arrow_left: 0
            };
            this._computeTooltipPosition(u, e);
            var c = !1;
            if (u.top < this.config.offset ? (u.posClass[0] = "bottom",
            c = !0) : u.top + u.height > this.psv.prop.size.height - this.config.offset && (u.posClass[0] = "top",
            c = !0),
            u.left < this.config.offset ? (u.posClass[1] = "right",
            c = !0) : u.left + u.width > this.psv.prop.size.width - this.config.offset && (u.posClass[1] = "left",
            c = !0),
            c && this._computeTooltipPosition(u, e),
            n.style.top = u.top + "px",
            n.style.left = u.left + "px",
            r.style.top = u.arrow_top + "px",
            r.style.left = u.arrow_left + "px",
            n.classList.add("psv-tooltip--" + u.posClass.join("-")),
            !t) {
                var h = this;
                this.prop.timeout = window.setTimeout(function() {
                    n.classList.add("psv-tooltip--visible"),
                    h.prop.timeout = null,
                    h.psv.trigger("show-tooltip")
                }, this.config.delay)
            }
        }
        ,
        f.prototype.hideTooltip = function() {
            if (this.prop.timeout && (window.clearTimeout(this.prop.timeout),
            this.prop.timeout = null),
            this.isTooltipVisible()) {
                this.container.classList.remove("psv-tooltip--visible");
                var e = this;
                this.prop.timeout = window.setTimeout(function() {
                    e.content.innerHTML = null,
                    e.container.style.top = "-1000px",
                    e.container.style.left = "-1000px",
                    e.prop.timeout = null
                }, this.config.delay),
                this.psv.trigger("hide-tooltip")
            }
        }
        ,
        f.prototype._computeTooltipPosition = function(e, t) {
            var n = !1;
            switch (e.posClass[0]) {
            case "bottom":
                e.top = t.top + t.box.height + this.config.offset + this.config.arrow_size,
                e.arrow_top = 2 * -this.config.arrow_size,
                n = !0;
                break;
            case "center":
                e.top = t.top + t.box.height / 2 - e.height / 2,
                e.arrow_top = e.height / 2 - this.config.arrow_size;
                break;
            case "top":
                e.top = t.top - e.height - this.config.offset - this.config.arrow_size,
                e.arrow_top = e.height,
                n = !0
            }
            switch (e.posClass[1]) {
            case "right":
                n ? (e.left = t.left + t.box.width / 2 - this.config.offset - this.config.arrow_size,
                e.arrow_left = this.config.offset) : (e.left = t.left + t.box.width + this.config.offset + this.config.arrow_size,
                e.arrow_left = 2 * -this.config.arrow_size);
                break;
            case "center":
                e.left = t.left + t.box.width / 2 - e.width / 2,
                e.arrow_left = e.width / 2 - this.config.arrow_size;
                break;
            case "left":
                n ? (e.left = t.left - e.width + t.box.width / 2 + this.config.offset + this.config.arrow_size,
                e.arrow_left = e.width - this.config.offset - 2 * this.config.arrow_size) : (e.left = t.left - e.width - this.config.offset - this.config.arrow_size,
                e.arrow_left = e.width)
            }
        }
        ,
        ((c.prototype = Object.create(r.prototype)).constructor = c).id = null,
        c.icon = null,
        c.iconActive = null,
        c.prototype.create = function() {
            r.prototype.create.call(this),
            this.constructor.icon && this._setIcon(this.constructor.icon),
            this.id && this.psv.config.lang[this.id] && (this.container.title = this.psv.config.lang[this.id]),
            this.container.addEventListener("click", function(e) {
                this.enabled && this._onClick(),
                e.stopPropagation()
            }
            .bind(this))
        }
        ,
        c.prototype.destroy = function() {
            r.prototype.destroy.call(this)
        }
        ,
        c.prototype.toggleActive = function(e) {
            S.toggleClass(this.container, "psv-button--active", e),
            this.constructor.iconActive && this._setIcon(e ? this.constructor.iconActive : this.constructor.icon)
        }
        ,
        c.prototype.disable = function() {
            this.container.classList.add("psv-button--disabled"),
            this.enabled = !1
        }
        ,
        c.prototype.enable = function() {
            this.container.classList.remove("psv-button--disabled"),
            this.enabled = !0
        }
        ,
        c.prototype._setIcon = function(e, t) {
            t = t || this.container,
            e ? (t.innerHTML = p.ICONS[e],
            t.querySelector("svg").setAttribute("class", "psv-button-svg")) : t.innerHTML = ""
        }
        ,
        c.prototype._onClick = function() {}
        ,
        ((m.prototype = Object.create(c.prototype)).constructor = m).id = "autorotate",
        m.className = "psv-button psv-button--hover-scale psv-autorotate-button",
        m.icon = "play.svg",
        m.iconActive = "play-active.svg",
        m.prototype.create = function() {
            c.prototype.create.call(this),
            this.psv.on("autorotate", this)
        }
        ,
        m.prototype.destroy = function() {
            this.psv.off("autorotate", this),
            c.prototype.destroy.call(this)
        }
        ,
        m.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "autorotate":
                this.toggleActive(e.args[0])
            }
        }
        ,
        m.prototype._onClick = function() {
            this.psv.toggleAutorotate()
        }
        ,
        ((g.prototype = Object.create(c.prototype)).constructor = g).className = "psv-button psv-custom-button",
        g.prototype.create = function() {
            c.prototype.create.call(this),
            this.config.className && S.addClasses(this.container, this.config.className),
            this.config.title && (this.container.title = this.config.title),
            this.config.content && (this.container.innerHTML = this.config.content),
            !1 !== this.config.enabled && !0 !== this.config.disabled || this.disable(),
            !1 !== this.config.visible && !0 !== this.config.hidden || this.hide()
        }
        ,
        g.prototype.destroy = function() {
            delete this.config,
            c.prototype.destroy.call(this)
        }
        ,
        g.prototype._onClick = function() {
            this.config.onClick && this.config.onClick.apply(this.psv)
        }
        ,
        ((v.prototype = Object.create(c.prototype)).constructor = v).id = "download",
        v.className = "psv-button psv-button--hover-scale psv-download-button",
        v.icon = "download.svg",
        v.prototype._onClick = function() {
            var e = document.createElement("a");
            e.href = this.psv.config.panorama,
            e.download = this.psv.config.panorama,
            this.psv.container.appendChild(e),
            e.click()
        }
        ,
        ((y.prototype = Object.create(c.prototype)).constructor = y).id = "fullscreen",
        y.className = "psv-button psv-button--hover-scale psv-fullscreen-button",
        y.icon = "fullscreen-in.svg",
        y.iconActive = "fullscreen-out.svg",
        y.prototype.create = function() {
            c.prototype.create.call(this),
            p.SYSTEM.fullscreenEvent || (this.hide(),
            console.warn("PhotoSphereViewer: fullscreen not supported.")),
            this.psv.on("fullscreen-updated", this)
        }
        ,
        y.prototype.destroy = function() {
            this.psv.off("fullscreen-updated", this),
            c.prototype.destroy.call(this)
        }
        ,
        y.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "fullscreen-updated":
                this.toggleActive(e.args[0])
            }
        }
        ,
        y.prototype._onClick = function() {
            this.psv.toggleFullscreen()
        }
        ,
        ((b.prototype = Object.create(c.prototype)).constructor = b).id = "gyroscope",
        b.className = "psv-button psv-button--hover-scale psv-gyroscope-button",
        b.icon = "compass.svg",
        b.prototype.create = function() {
            c.prototype.create.call(this),
            p.SYSTEM.deviceOrientationSupported.promise.then(this._onAvailabilityChange.bind(this, !0), this._onAvailabilityChange.bind(this, !1)),
            this.hide(),
            this.psv.on("gyroscope-updated", this)
        }
        ,
        b.prototype.destroy = function() {
            this.psv.off("gyroscope-updated", this),
            c.prototype.destroy.call(this)
        }
        ,
        b.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "gyroscope-updated":
                this.toggleActive(e.args[0])
            }
        }
        ,
        b.prototype._onClick = function() {
            this.psv.toggleGyroscopeControl()
        }
        ,
        b.prototype._onAvailabilityChange = function(e) {
            if (e) {
                if (!S.checkTHREE("DeviceOrientationControls"))
                    throw new x("Missing Three.js components: DeviceOrientationControls. Get them from three.js-examples package.");
                this.show()
            }
        }
        ,
        ((_.prototype = Object.create(c.prototype)).constructor = _).id = "markers",
        _.className = "psv-button psv-button--hover-scale psv-markers-button",
        _.icon = "pin.svg",
        _.prototype._onClick = function() {
            this.psv.hud.toggleMarkersList()
        }
        ,
        ((w.prototype = Object.create(c.prototype)).constructor = w).id = "zoom",
        w.className = "psv-button psv-zoom-button",
        w.prototype.create = function() {
            c.prototype.create.call(this);
            var e = document.createElement("div");
            e.className = "psv-zoom-button-minus",
            e.title = this.psv.config.lang.zoomOut,
            this._setIcon("zoom-out.svg", e),
            this.container.appendChild(e);
            var t = document.createElement("div");
            t.className = "psv-zoom-button-range",
            this.container.appendChild(t),
            this.zoom_range = document.createElement("div"),
            this.zoom_range.className = "psv-zoom-button-line",
            t.appendChild(this.zoom_range),
            this.zoom_value = document.createElement("div"),
            this.zoom_value.className = "psv-zoom-button-handle",
            this.zoom_range.appendChild(this.zoom_value);
            var n = document.createElement("div");
            n.className = "psv-zoom-button-plus",
            n.title = this.psv.config.lang.zoomIn,
            this._setIcon("zoom-in.svg", n),
            this.container.appendChild(n),
            this.zoom_range.addEventListener("mousedown", this),
            this.zoom_range.addEventListener("touchstart", this),
            this.psv.container.addEventListener("mousemove", this),
            this.psv.container.addEventListener("touchmove", this),
            this.psv.container.addEventListener("mouseup", this),
            this.psv.container.addEventListener("touchend", this),
            e.addEventListener("mousedown", this._zoomOut.bind(this)),
            n.addEventListener("mousedown", this._zoomIn.bind(this)),
            this.psv.on("zoom-updated", this),
            this.psv.once("ready", function() {
                this._moveZoomValue(this.psv.prop.zoom_lvl)
            }
            .bind(this))
        }
        ,
        w.prototype.destroy = function() {
            this.psv.container.removeEventListener("mousemove", this),
            this.psv.container.removeEventListener("touchmove", this),
            this.psv.container.removeEventListener("mouseup", this),
            this.psv.container.removeEventListener("touchend", this),
            delete this.zoom_range,
            delete this.zoom_value,
            this.psv.off("zoom-updated", this),
            c.prototype.destroy.call(this)
        }
        ,
        w.prototype.handleEvent = function(e) {
            switch (e.type) {
            case "mousedown":
                this._initZoomChangeWithMouse(e);
                break;
            case "touchstart":
                this._initZoomChangeByTouch(e);
                break;
            case "mousemove":
                this._changeZoomWithMouse(e);
                break;
            case "touchmove":
                this._changeZoomByTouch(e);
                break;
            case "mouseup":
            case "touchend":
                this._stopZoomChange(e);
                break;
            case "zoom-updated":
                this._moveZoomValue(e.args[0])
            }
        }
        ,
        w.prototype._moveZoomValue = function(e) {
            this.zoom_value.style.left = e / 100 * this.zoom_range.offsetWidth - this.zoom_value.offsetWidth / 2 + "px"
        }
        ,
        w.prototype._initZoomChangeWithMouse = function(e) {
            this.enabled && (this.prop.mousedown = !0,
            this._changeZoom(e.clientX))
        }
        ,
        w.prototype._initZoomChangeByTouch = function(e) {
            this.enabled && (this.prop.mousedown = !0,
            this._changeZoom(e.changedTouches[0].clientX))
        }
        ,
        w.prototype._zoomIn = function() {
            this.enabled && (this.prop.buttondown = !0,
            this.psv.zoomIn(),
            window.setTimeout(this._startLongPressInterval.bind(this, 1), 200))
        }
        ,
        w.prototype._zoomOut = function() {
            this.enabled && (this.prop.buttondown = !0,
            this.psv.zoomOut(),
            window.setTimeout(this._startLongPressInterval.bind(this, -1), 200))
        }
        ,
        w.prototype._startLongPressInterval = function(e) {
            this.prop.buttondown && (this.prop.longPressInterval = window.setInterval(function() {
                this.psv.zoom(this.psv.prop.zoom_lvl + e)
            }
            .bind(this), 50))
        }
        ,
        w.prototype._stopZoomChange = function() {
            this.enabled && (window.clearInterval(this.prop.longPressInterval),
            this.prop.longPressInterval = null,
            this.prop.mousedown = !1,
            this.prop.buttondown = !1)
        }
        ,
        w.prototype._changeZoomWithMouse = function(e) {
            this.enabled && (e.preventDefault(),
            this._changeZoom(e.clientX))
        }
        ,
        w.prototype._changeZoomByTouch = function(e) {
            this.enabled && (e.preventDefault(),
            this._changeZoom(e.changedTouches[0].clientX))
        }
        ,
        w.prototype._changeZoom = function(e) {
            if (this.prop.mousedown) {
                var t = parseInt(e) - this.zoom_range.getBoundingClientRect().left
                  , n = t / this.zoom_range.offsetWidth * 100;
                this.psv.zoom(n)
            }
        }
        ,
        (x.prototype = Object.create(Error.prototype)).name = "PSVError",
        p.Error = x.prototype.constructor = x,
        T.types = ["image", "html", "polygon_px", "polygon_rad", "rect", "circle", "ellipse", "path"],
        T.getType = function(t, e) {
            var n = [];
            if (T.types.forEach(function(e) {
                t[e] && n.push(e)
            }),
            0 === n.length && !e)
                throw new x("missing marker content, either " + T.types.join(", "));
            if (1 < n.length)
                throw new x("multiple marker content, either " + T.types.join(", "));
            return n[0]
        }
        ,
        T.prototype.destroy = function() {
            delete this.$el.psvMarker
        }
        ,
        T.prototype.isNormal = function() {
            return "image" == this.type || "html" == this.type
        }
        ,
        T.prototype.isPolygon = function() {
            return "polygon_px" == this.type || "polygon_rad" == this.type
        }
        ,
        T.prototype.isSvg = function() {
            return "rect" == this.type || "circle" == this.type || "ellipse" == this.type || "path" == this.type
        }
        ,
        T.prototype.update = function(e) {
            if (e && e !== this) {
                var t = T.getType(e, !0);
                if (void 0 !== t && t !== this.type)
                    throw new x("cannot change marker type");
                S.deepmerge(this, e)
            }
            this.isNormal() ? this.$el.setAttribute("class", "psv-marker psv-marker--normal") : this.$el.setAttribute("class", "psv-marker psv-marker--svg"),
            this.className && S.addClasses(this.$el, this.className),
            this.tooltip && (S.addClasses(this.$el, "has-tooltip"),
            "string" == typeof this.tooltip && (this.tooltip = {
                content: this.tooltip
            })),
            this.style && S.deepmerge(this.$el.style, this.style),
            this.anchor = S.parsePosition(this.anchor),
            this.isNormal() ? this._updateNormal() : this.isPolygon() ? this._updatePolygon() : this._updateSvg()
        }
        ,
        T.prototype._updateNormal = function() {
            this.width && this.height ? (this.$el.style.width = this.width + "px",
            this.$el.style.height = this.height + "px",
            this._dynamicSize = !1) : this._dynamicSize = !0,
            this.image ? this.$el.style.backgroundImage = "url(" + this.image + ")" : this.$el.innerHTML = this.html,
            this.psv.cleanPosition(this),
            this.position3D = this.psv.sphericalCoordsToVector3(this)
        }
        ,
        T.prototype._updateSvg = function() {
            switch (this._dynamicSize = !0,
            this.type) {
            case "rect":
                "number" == typeof this._def ? this._def = {
                    x: 0,
                    y: 0,
                    width: this._def,
                    height: this._def
                } : Array.isArray(this._def) ? this._def = {
                    x: 0,
                    y: 0,
                    width: this._def[0],
                    height: this._def[1]
                } : this._def.x = this._def.y = 0;
                break;
            case "circle":
                "number" == typeof this._def ? this._def = {
                    cx: this._def,
                    cy: this._def,
                    r: this._def
                } : Array.isArray(this._def) ? this._def = {
                    cx: this._def[0],
                    cy: this._def[0],
                    r: this._def[0]
                } : this._def.cx = this._def.cy = this._def.r;
                break;
            case "ellipse":
                "number" == typeof this._def ? this._def = {
                    cx: this._def,
                    cy: this._def,
                    rx: this._def,
                    ry: this._def
                } : Array.isArray(this._def) ? this._def = {
                    cx: this._def[0],
                    cy: this._def[1],
                    rx: this._def[0],
                    ry: this._def[1]
                } : (this._def.cx = this._def.rx,
                this._def.cy = this._def.ry);
                break;
            case "path":
                "string" == typeof this._def && (this._def = {
                    d: this._def
                })
            }
            Object.getOwnPropertyNames(this._def).forEach(function(e) {
                this.$el.setAttributeNS(null, e, this._def[e])
            }, this),
            this.svgStyle ? Object.getOwnPropertyNames(this.svgStyle).forEach(function(e) {
                this.$el.setAttributeNS(null, e, this.svgStyle[e])
            }, this) : this.$el.setAttributeNS(null, "fill", "rgba(0,0,0,0.5)"),
            this.psv.cleanPosition(this),
            this.position3D = this.psv.sphericalCoordsToVector3(this)
        }
        ,
        T.prototype._updatePolygon = function() {
            this._dynamicSize = !0,
            this.svgStyle ? Object.getOwnPropertyNames(this.svgStyle).forEach(function(e) {
                this.$el.setAttributeNS(null, e, this.svgStyle[e])
            }, this) : this.$el.setAttributeNS(null, "fill", "rgba(0,0,0,0.5)"),
            [this.polygon_rad, this.polygon_px].forEach(function(e) {
                if (e && "object" != E(e[0]))
                    for (var t = 0; t < e.length; t++)
                        e.splice(t, 2, [e[t], e[t + 1]])
            }),
            this.polygon_px ? this.polygon_rad = this.polygon_px.map(function(e) {
                var t = this.psv.textureCoordsToSphericalCoords({
                    x: e[0],
                    y: e[1]
                });
                return [t.longitude, t.latitude]
            }, this) : this.polygon_rad = this.polygon_rad.map(function(e) {
                return [S.parseAngle(e[0]), S.bound(S.parseAngle(e[1], -Math.PI), -S.HalfPI, S.HalfPI)]
            }),
            this.longitude = this.polygon_rad[0][0],
            this.latitude = this.polygon_rad[0][1],
            this.positions3D = this.polygon_rad.map(function(e) {
                return this.psv.sphericalCoordsToVector3({
                    longitude: e[0],
                    latitude: e[1]
                })
            }, this)
        }
        ;
        var S = {};
        return (p.Utils = S).TwoPI = 2 * Math.PI,
        S.HalfPI = Math.PI / 2,
        S.svgNS = "http://www.w3.org/2000/svg",
        S.checkTHREE = function(e) {
            for (var t = 0, n = arguments.length; t < n; t++)
                if (!(arguments[t]in h))
                    return !1;
            return !0
        }
        ,
        S.isCanvasSupported = function() {
            var e = document.createElement("canvas");
            return !(!e.getContext || !e.getContext("2d"))
        }
        ,
        S.getWebGLCtx = function() {
            var t = document.createElement("canvas")
              , n = null;
            return t.getContext && ["webgl", "experimental-webgl", "moz-webgl", "webkit-3d"].some(function(e) {
                try {
                    return (n = t.getContext(e)) && "function" == typeof n.getParameter
                } catch (e) {
                    return !1
                }
            }) ? n : null
        }
        ,
        S.isWebGLSupported = function() {
            return !!window.WebGLRenderingContext && null !== S.getWebGLCtx()
        }
        ,
        S.getMaxTextureWidth = function() {
            var e = S.getWebGLCtx();
            if (null !== e)
                return e.getParameter(e.MAX_TEXTURE_SIZE)
        }
        ,
        S.toggleClass = function(e, t, n) {
            if (e.classList)
                void 0 === n ? e.classList.toggle(t) : n && !e.classList.contains(t) ? e.classList.add(t) : n || e.classList.remove(t);
            else {
                var i = e.getAttribute("class") || ""
                  , r = -1 !== i.indexOf(t)
                  , a = new RegExp("(?:^|\\s)" + t + "(?:\\s|$)");
                void 0 !== n && !n || r ? n || (i = i.replace(a, " ")) : i += 0 < i.length ? " " + t : t,
                e.setAttribute("class", i)
            }
        }
        ,
        S.addClasses = function(t, e) {
            e && e.split(" ").forEach(function(e) {
                S.toggleClass(t, e, !0)
            })
        }
        ,
        S.removeClasses = function(t, e) {
            e && e.split(" ").forEach(function(e) {
                S.toggleClass(t, e, !1)
            })
        }
        ,
        S.hasParent = function(e, t) {
            do {
                if (e === t)
                    return !0
            } while (e = e.parentNode);
            return !1
        }
        ,
        S.getClosest = function(e, t) {
            var n = e.matches || e.msMatchesSelector;
            do {
                if (n.bind(e)(t))
                    return e
            } while (e = e.parentElement);
            return null
        }
        ,
        S.mouseWheelEvent = function() {
            return "onwheel"in document.createElement("div") ? "wheel" : void 0 !== document.onmousewheel ? "mousewheel" : "DOMMouseScroll"
        }
        ,
        S.fullscreenEvent = function() {
            var e = {
                exitFullscreen: "fullscreenchange",
                webkitExitFullscreen: "webkitfullscreenchange",
                mozCancelFullScreen: "mozfullscreenchange",
                msExitFullscreen: "msFullscreenEnabled"
            };
            for (var t in e)
                if (t in document)
                    return e[t]
        }
        ,
        S.bound = function(e, t, n) {
            return Math.max(t, Math.min(n, e))
        }
        ,
        S.isInteger = Number.isInteger || function(e) {
            return "number" == typeof e && isFinite(e) && Math.floor(e) === e
        }
        ,
        S.sum = function(e) {
            return e.reduce(function(e, t) {
                return e + t
            }, 0)
        }
        ,
        S.getXMPValue = function(e, t) {
            var n;
            return null !== (n = e.match("<GPano:" + t + ">(.*)</GPano:" + t + ">")) ? n[1] : null !== (n = e.match("GPano:" + t + '="(.*?)"')) ? n[1] : null
        }
        ,
        S.isFullscreenEnabled = function(e) {
            return (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) === e
        }
        ,
        S.requestFullscreen = function(e) {
            (e.requestFullscreen || e.mozRequestFullScreen || e.webkitRequestFullscreen || e.msRequestFullscreen).call(e)
        }
        ,
        S.exitFullscreen = function() {
            (document.exitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen || document.msExitFullscreen).call(document)
        }
        ,
        S.getStyle = function(e, t) {
            return window.getComputedStyle(e, null)[t]
        }
        ,
        S.getShortestArc = function(n, i) {
            return [0, S.TwoPI, -S.TwoPI].reduce(function(e, t) {
                return t = i - n + t,
                Math.abs(t) < Math.abs(e) ? t : e
            }, 1 / 0)
        }
        ,
        S.parsePosition = function(e) {
            if (!e)
                return {
                    top: .5,
                    left: .5
                };
            if ("object" === E(e))
                return e;
            var t = e.toLocaleLowerCase().split(" ").slice(0, 2);
            1 === t.length && (t = void 0 !== S.parsePosition.positions[t[0]] ? [t[0], "center"] : [t[0], t[0]]);
            var n = "left" != t[1] && "right" != t[1] && "top" != t[0] && "bottom" != t[0];
            t = t.map(function(e) {
                return S.parsePosition.positions[e] || e
            }),
            n || t.reverse();
            var i = t.join(" ").match(/^([0-9.]+)% ([0-9.]+)%$/);
            return i ? {
                left: i[1] / 100,
                top: i[2] / 100
            } : {
                top: .5,
                left: .5
            }
        }
        ,
        S.parsePosition.positions = {
            top: "0%",
            bottom: "100%",
            left: "0%",
            right: "100%",
            center: "50%"
        },
        S.parseSpeed = function(e) {
            if ("string" == typeof e) {
                e = e.toString().trim();
                var t = parseFloat(e.replace(/^(-?[0-9]+(?:\.[0-9]*)?).*$/, "$1"))
                  , n = e.replace(/^-?[0-9]+(?:\.[0-9]*)?(.*)$/, "$1").trim();
                switch (n.match(/(pm|per minute)$/) && (t /= 60),
                n) {
                case "dpm":
                case "degrees per minute":
                case "dps":
                case "degrees per second":
                    e = h.Math.degToRad(t);
                    break;
                case "radians per minute":
                case "radians per second":
                    e = t;
                    break;
                case "rpm":
                case "revolutions per minute":
                case "rps":
                case "revolutions per second":
                    e = t * S.TwoPI;
                    break;
                default:
                    throw new x('unknown speed unit "' + n + '"')
                }
            }
            return e
        }
        ,
        S.parseAngle = function(e, t) {
            if ("string" == typeof e) {
                var n = e.toLowerCase().trim().match(/^(-?[0-9]+(?:\.[0-9]*)?)(.*)$/);
                if (!n)
                    throw new x('unknown angle "' + e + '"');
                var i = parseFloat(n[1])
                  , r = n[2];
                if (r)
                    switch (r) {
                    case "deg":
                    case "degs":
                        e = h.Math.degToRad(i);
                        break;
                    case "rad":
                    case "rads":
                        e = i;
                        break;
                    default:
                        throw new x('unknown angle unit "' + r + '"')
                    }
            }
            return !1 !== t && (void 0 === t && (t = 0),
            (e = (e - t) % S.TwoPI) < 0 && (e = S.TwoPI + e),
            e += t),
            e
        }
        ,
        S.cleanTHREEScene = function(e) {
            e.children.forEach(function(e) {
                e instanceof h.Mesh && (e.geometry && (e.geometry.dispose(),
                e.geometry = null),
                e.material && (e.material.materials ? (e.material.materials.forEach(function(e) {
                    e.map && (e.map.dispose(),
                    e.map = null),
                    e.dispose()
                }),
                e.material.materials.length = 0) : (e.material.map && (e.material.map.dispose(),
                e.material.map = null),
                e.material.dispose()),
                e.material = null))
            }),
            e.children.length = 0
        }
        ,
        S.animation = function(r) {
            var a = d(!1)
              , o = null;
            function s(e) {
                if (-1 !== a.promise.getStatus()) {
                    null === o && (o = e);
                    var t, n = (e - o) / r.duration, i = {};
                    if (n < 1) {
                        for (t in r.properties)
                            i[t] = r.properties[t].start + (r.properties[t].end - r.properties[t].start) * r.easing(n);
                        r.onTick(i, n),
                        window.requestAnimationFrame(s)
                    } else {
                        for (t in r.properties)
                            i[t] = r.properties[t].end;
                        r.onTick(i, 1),
                        window.requestAnimationFrame(function() {
                            a.resolve()
                        })
                    }
                }
            }
            r.easing && "string" != typeof r.easing || (r.easing = S.animation.easings[r.easing || "linear"]),
            void 0 !== r.delay ? window.setTimeout(function() {
                window.requestAnimationFrame(s)
            }, r.delay) : window.requestAnimationFrame(s);
            var e = a.promise;
            return e.cancel = function() {
                a.reject()
            }
            ,
            e
        }
        ,
        S.animation.easings = {
            linear: function(e) {
                return e
            },
            inQuad: function(e) {
                return e * e
            },
            outQuad: function(e) {
                return e * (2 - e)
            },
            inOutQuad: function(e) {
                return e < .5 ? 2 * e * e : (4 - 2 * e) * e - 1
            },
            inCubic: function(e) {
                return e * e * e
            },
            outCubic: function(e) {
                return --e * e * e + 1
            },
            inOutCubic: function(e) {
                return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1
            },
            inQuart: function(e) {
                return e * e * e * e
            },
            outQuart: function(e) {
                return 1 - --e * e * e * e
            },
            inOutQuart: function(e) {
                return e < .5 ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e
            },
            inQuint: function(e) {
                return e * e * e * e * e
            },
            outQuint: function(e) {
                return 1 + --e * e * e * e * e
            },
            inOutQuint: function(e) {
                return e < .5 ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e
            },
            inSine: function(e) {
                return 1 - Math.cos(e * (Math.PI / 2))
            },
            outSine: function(e) {
                return Math.sin(e * (Math.PI / 2))
            },
            inOutSine: function(e) {
                return .5 - .5 * Math.cos(Math.PI * e)
            },
            inExpo: function(e) {
                return Math.pow(2, 10 * (e - 1))
            },
            outExpo: function(e) {
                return 1 - Math.pow(2, -10 * e)
            },
            inOutExpo: function(e) {
                return (e = 2 * e - 1) < 0 ? .5 * Math.pow(2, 10 * e) : 1 - .5 * Math.pow(2, -10 * e)
            },
            inCirc: function(e) {
                return 1 - Math.sqrt(1 - e * e)
            },
            outCirc: function(e) {
                return e--,
                Math.sqrt(1 - e * e)
            },
            inOutCirc: function(e) {
                return (e *= 2) < 1 ? .5 - .5 * Math.sqrt(1 - e * e) : .5 + .5 * Math.sqrt(1 - (e -= 2) * e)
            }
        },
        S.throttle = function(n, i) {
            function r() {
                u = Date.now(),
                l = null,
                s = n.apply(a, o),
                l || (a = o = null)
            }
            var a, o, s, l = null, u = 0;
            return function() {
                var e = Date.now()
                  , t = i - (e - (u = u || e));
                return a = this,
                o = arguments,
                t <= 0 || i < t ? (l && (clearTimeout(l),
                l = null),
                u = e,
                s = n.apply(a, o),
                l || (a = o = null)) : l = l || setTimeout(r, t),
                s
            }
        }
        ,
        S.isPlainObject = function(e) {
            if ("object" != E(e) || null === e)
                return !1;
            if ("function" != typeof Object.getPrototypeOf)
                return "[object Object]" == Object.prototype.toString.call(e);
            var t = Object.getPrototypeOf(e);
            return t === Object.prototype || null === t
        }
        ,
        S.deepmerge = function(e, t) {
            var r = t;
            return function n(i, t) {
                return Array.isArray(t) ? (i && Array.isArray(i) ? i.length = 0 : i = [],
                t.forEach(function(e, t) {
                    i[t] = n(null, e)
                })) : "object" == E(t) ? (i && !Array.isArray(i) || (i = {}),
                Object.keys(t).forEach(function(e) {
                    "object" == E(t[e]) && t[e] && S.isPlainObject(t[e]) ? t[e] != r && (i[e] ? n(i[e], t[e]) : i[e] = n(null, t[e])) : i[e] = t[e]
                })) : i = t,
                i
            }(e, t)
        }
        ,
        S.clone = function(e) {
            return S.deepmerge(null, e)
        }
        ,
        /**
   * requestAnimationFrame polyfill
   * {@link http://mattsnider.com/cross-browser-and-legacy-supported-requestframeanimation}
   * @license MIT
   */
        function(e) {
            if (e.requestAnimationFrame = e.requestAnimationFrame || e.mozRequestAnimationFrame || e.webkitRequestAnimationFrame || e.msRequestAnimationFrame,
            e.cancelAnimationFrame = e.cancelAnimationFrame || e.mozCancelAnimationFrame || e.webkitCancelAnimationFrame || e.msCancelAnimationFrame,
            !e.requestAnimationFrame) {
                var n, i = [], r = [], t = 0;
                e.requestAnimationFrame = function(e) {
                    return i.push([++t, e]),
                    n = n || setInterval(function() {
                        if (i.length) {
                            var e = +new Date
                              , t = r;
                            for (r = i,
                            i = t; r.length; )
                                r.shift()[1](e)
                        } else
                            clearInterval(n),
                            n = void 0
                    }, 20),
                    t
                }
                ,
                e.cancelAnimationFrame = function(e) {
                    var t, n;
                    for (t = 0,
                    n = i.length; t < n; t += 1)
                        if (i[t][0] === e)
                            return void i.splice(t, 1);
                    for (t = 0,
                    n = r.length; t < n; t += 1)
                        if (r[t][0] === e)
                            return void r.splice(t, 1)
                }
            }
        }(window),
        p.ICONS["compass.svg"] = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M49.997,0C22.38,0.004,0.005,22.383,0,50.002C0.005,77.614,22.38,99.995,49.997,100C77.613,99.995,99.996,77.614,100,50.002C99.996,22.383,77.613,0.004,49.997,0z M49.997,88.81c-21.429-0.04-38.772-17.378-38.809-38.807c0.037-21.437,17.381-38.775,38.809-38.812C71.43,11.227,88.769,28.567,88.81,50.002C88.769,71.432,71.43,88.77,49.997,88.81z"/><path d="M72.073,25.891L40.25,41.071l-0.003-0.004l-0.003,0.009L27.925,74.109l31.82-15.182l0.004,0.004l0.002-0.007l-0.002-0.004L72.073,25.891z M57.837,54.411L44.912,42.579l21.092-10.062L57.837,54.411z"/>\x3c!--Created by iconoci from the Noun Project--\x3e</svg>',
        p.ICONS["download.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M83.285,35.575H66.271L66.277,3H32.151v32.575H16.561l33.648,32.701L83.285,35.575z"/><path d="M83.316,64.199v16.32H16.592v-16.32H-0.094v32.639H100V64.199H83.316z"/>\x3c!--Created by Michael Zenaty from the Noun Project--\x3e</svg>',
        p.ICONS["fullscreen-in.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><polygon points="100,39.925 87.105,39.925 87.105,18.895 66.075,18.895 66.075,6 100,6"/><polygon points="100,93.221 66.075,93.221 66.075,80.326 87.105,80.326 87.105,59.295 100,59.295"/><polygon points="33.925,93.221 0,93.221 0,59.295 12.895,59.295 12.895,80.326 33.925,80.326"/><polygon points="12.895,39.925 0,39.925 0,6 33.925,6 33.925,18.895 12.895,18.895"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>',
        p.ICONS["fullscreen-out.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><polygon points="66.075,7 78.969,7 78.969,28.031 100,28.031 100,40.925 66.075,40.925"/><polygon points="66.075,60.295 100,60.295 100,73.19 78.969,73.19 78.969,94.221 66.075,94.221"/><polygon points="0,60.295 33.925,60.295 33.925,94.221 21.031,94.221 21.031,73.19 0,73.19"/><polygon points="21.031,7 33.925,7 33.925,40.925 0,40.925 0,28.031 21.031,28.031"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>',
        p.ICONS["pin.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><path d="M24,0C13.798,0,5.499,8.3,5.499,18.501c0,10.065,17.57,28.635,18.318,29.421C23.865,47.972,23.931,48,24,48s0.135-0.028,0.183-0.078c0.748-0.786,18.318-19.355,18.318-29.421C42.501,8.3,34.202,0,24,0z M24,7.139c5.703,0,10.342,4.64,10.342,10.343c0,5.702-4.639,10.342-10.342,10.342c-5.702,0-10.34-4.64-10.34-10.342C13.66,11.778,18.298,7.139,24,7.139z"/>\x3c!--Created by Daniele Marucci from the Noun Project--\x3e</svg>',
        p.ICONS["play-active.svg"] = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 41 41" enable-background="new 0 0 41 41" xml:space="preserve"><path d="M40.5,14.1c-0.1-0.1-1.2-0.5-2.898-1C37.5,13.1,37.4,13,37.4,12.9C34.5,6.5,28,2,20.5,2S6.6,6.5,3.7,12.9c0,0.1-0.1,0.1-0.2,0.2c-1.7,0.6-2.8,1-2.9,1L0,14.4v12.1l0.6,0.2c0.1,0,1.1,0.399,2.7,0.899c0.1,0,0.2,0.101,0.2,0.199C6.3,34.4,12.9,39,20.5,39c7.602,0,14.102-4.6,16.9-11.1c0-0.102,0.1-0.102,0.199-0.2c1.699-0.601,2.699-1,2.801-1l0.6-0.3V14.3L40.5,14.1z M6.701,11.5C9.7,7,14.8,4,20.5,4c5.8,0,10.9,3,13.8,7.5c0.2,0.3-0.1,0.6-0.399,0.5c-3.799-1-8.799-2-13.6-2c-4.7,0-9.5,1-13.2,2C6.801,12.1,6.601,11.8,6.701,11.5z M25.1,20.3L18.7,24c-0.3,0.2-0.7,0-0.7-0.5v-7.4c0-0.4,0.4-0.6,0.7-0.4 l6.399,3.8C25.4,19.6,25.4,20.1,25.1,20.3z M34.5,29.201C31.602,33.9,26.4,37,20.5,37c-5.9,0-11.1-3.1-14-7.898c-0.2-0.302,0.1-0.602,0.4-0.5c3.9,1,8.9,2.1,13.6,2.1c5,0,9.9-1,13.602-2C34.4,28.602,34.602,28.9,34.5,29.201z"/>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>',
        p.ICONS["play.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 41 41" enable-background="new 0 0 41 41" xml:space="preserve"><path d="M40.5,14.1c-0.1-0.1-1.2-0.5-2.899-1c-0.101,0-0.2-0.1-0.2-0.2C34.5,6.5,28,2,20.5,2S6.6,6.5,3.7,12.9c0,0.1-0.1,0.1-0.2,0.2c-1.7,0.6-2.8,1-2.9,1L0,14.4v12.1l0.6,0.2c0.1,0,1.1,0.4,2.7,0.9c0.1,0,0.2,0.1,0.2,0.199C6.3,34.4,12.9,39,20.5,39c7.601,0,14.101-4.6,16.9-11.1c0-0.101,0.1-0.101,0.2-0.2c1.699-0.6,2.699-1,2.8-1l0.6-0.3V14.3L40.5,14.1zM20.5,4c5.8,0,10.9,3,13.8,7.5c0.2,0.3-0.1,0.6-0.399,0.5c-3.8-1-8.8-2-13.6-2c-4.7,0-9.5,1-13.2,2c-0.3,0.1-0.5-0.2-0.4-0.5C9.7,7,14.8,4,20.5,4z M20.5,37c-5.9,0-11.1-3.1-14-7.899c-0.2-0.301,0.1-0.601,0.4-0.5c3.9,1,8.9,2.1,13.6,2.1c5,0,9.9-1,13.601-2c0.3-0.1,0.5,0.2,0.399,0.5C31.601,33.9,26.4,37,20.5,37z M39.101,24.9c0,0.1-0.101,0.3-0.2,0.3c-2.5,0.9-10.4,3.6-18.4,3.6c-7.1,0-15.6-2.699-18.3-3.6C2.1,25.2,2,25,2,24.9V16c0-0.1,0.1-0.3,0.2-0.3c2.6-0.9,10.6-3.6,18.2-3.6c7.5,0,15.899,2.7,18.5,3.6c0.1,0,0.2,0.2,0.2,0.3V24.9z"/><path d="M18.7,24l6.4-3.7c0.3-0.2,0.3-0.7,0-0.8l-6.4-3.8c-0.3-0.2-0.7,0-0.7,0.4v7.4C18,24,18.4,24.2,18.7,24z"/>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>',
        p.ICONS["zoom-in.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><path d="M14.043,12.22c2.476-3.483,1.659-8.313-1.823-10.789C8.736-1.044,3.907-0.228,1.431,3.255c-2.475,3.482-1.66,8.312,1.824,10.787c2.684,1.908,6.281,1.908,8.965,0l4.985,4.985c0.503,0.504,1.32,0.504,1.822,0c0.505-0.503,0.505-1.319,0-1.822L14.043,12.22z M7.738,13.263c-3.053,0-5.527-2.475-5.527-5.525c0-3.053,2.475-5.527,5.527-5.527c3.05,0,5.524,2.474,5.524,5.527C13.262,10.789,10.788,13.263,7.738,13.263z"/><polygon points="8.728,4.009 6.744,4.009 6.744,6.746 4.006,6.746 4.006,8.73 6.744,8.73 6.744,11.466 8.728,11.466 8.728,8.73 11.465,8.73 11.465,6.746 8.728,6.746"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>',
        p.ICONS["zoom-out.svg"] = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><path d="M14.043,12.22c2.476-3.483,1.659-8.313-1.823-10.789C8.736-1.044,3.907-0.228,1.431,3.255c-2.475,3.482-1.66,8.312,1.824,10.787c2.684,1.908,6.281,1.908,8.965,0l4.985,4.985c0.503,0.504,1.32,0.504,1.822,0c0.505-0.503,0.505-1.319,0-1.822L14.043,12.22z M7.738,13.263c-3.053,0-5.527-2.475-5.527-5.525c0-3.053,2.475-5.527,5.527-5.527c3.05,0,5.524,2.474,5.524,5.527C13.262,10.789,10.788,13.263,7.738,13.263z"/><rect x="4.006" y="6.746" width="7.459" height="1.984"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>',
        p
    }
    ) ? i.apply(t, r) : i) || (e.exports = a)
}
, function(e, t, n) {
    "use strict";
    var i = n(0)
      , r = n.n(i);
    t.a = {
        swiperOpts: {
            reloadOnEvent: ["responsive-img-reloaded", "recalculate-cause-video"],
            onSwiperCreated: function() {
                var e = this;
                this.plugin.subscribe("recalculate-carousel-cause-video", function() {
                    e.plugin.swiper.onResize()
                }),
                this.plugin.subscribe("recalculate-cause-video", function() {
                    e.plugin.swiper.onResize()
                });
                var t = ["webkit", "moz", "ms"].filter(function(e) {
                    return document["".concat(e, "FullscreenEnabled")]
                });
                0 === t.length && (t = ""),
                document.addEventListener("".concat(t, "fullscreenchange"), function() {
                    document["".concat(t, "IsFullScreen")] ? e.plugin.$element[0].contains(document["".concat(t, "CurrentFullScreenElement")]) && (e.plugin.videoWasInFullscreen = !0) : e.plugin.videoWasInFullscreen && (e.plugin.swiper.onResize(!0),
                    e.plugin.publish("recalculate-carousel-cause-video"),
                    e.plugin.videoWasInFullscreen = !1)
                })
            },
            onSlideChangeStart: function() {
                var n = this;
                r()(this.plugin.swiper.slides[this.plugin.swiper.previousIndex]).find(".fp-video-player").each(function(e, t) {
                    return n.plugin.publish("remove-player-".concat(t.getAttribute("plugin-id")))
                })
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        afterCloseCallback: function(e, t) {
            var n = this;
            t.find(".fp-video-player[plugin-id]").each(function(e, t) {
                return n.plugin.publish("remove-player-".concat(t.getAttribute("plugin-id")))
            })
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        onLoad: function() {
            var r = this
              , a = this.plugin.$element.data("main-plugin-id")
              , e = this.plugin.$element.find(".select-wrapper");
            0 < e.length && (this.plugin.on(e, "focusin", function(e) {
                e.currentTarget.classList.add("is-active")
            }),
            this.plugin.on(e, "focusout", function(e) {
                e.currentTarget.classList.remove("is-active")
            }),
            this.plugin.on(e, "change", function(e) {
                var t = e.target
                  , n = {
                    selectId: t.id,
                    idValue: t.value
                }
                  , i = JSON.parse(t.getAttribute("data-gtm"));
                i.eventAction += t.options[0].text,
                r.plugin.publish("car-specification/specification-tagging", i),
                r.plugin.publish("custom-event-focus-opts/changeSelect-" + a, n)
            }))
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        onLoad: function() {
            var e = this
              , t = this.plugin.$element.find(".editorial-comparison-list_trigger");
            this.plugin.on(t, "click", function() {
                e.plugin.publish("car-specification/specification-tagging", t.data("gtm"))
            })
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        afterShowCallback: function() {
            var e = this.plugin.$activePopup;
            window.Makolab.PluginManager.pluginLoader.initPlugins(e)
        },
        afterCloseCallback: function() {
            var e = this.plugin.$activePopup;
            window.Makolab.PluginManager.pluginLoader.removePlugins(e)
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(110)
      , r = n.n(i)
      , a = n(0)
      , o = n.n(a)
      , s = "is-loading"
      , l = n(154)
      , u = {}
      , c = !0
      , h = !1
      , d = void 0;
    try {
        for (var p, f = l[Symbol.iterator](); !(c = (p = f.next()).done); c = !0) {
            var m = p.value;
            u[m] = n(596)("./" + m)
        }
    } catch (e) {
        h = !0,
        d = e
    } finally {
        try {
            c || null == f.return || f.return()
        } finally {
            if (h)
                throw d
        }
    }
    t.a = {
        beforeLoadData: function() {
            this.plugin.$element.find(".fp-social-gtm").off(".gtm"),
            this.plugin.$element.find(this.plugin.opts.listContainer).addClass(s)
        },
        onDataLoaded: function() {
            this.plugin.$element.find(this.plugin.opts.listContainer).removeClass(s);
            var e = this.plugin.items;
            (e.total <= e.page_size || Math.ceil(e.total / e.page_size) - 1 === e.page_index) && this.plugin.$next.hide()
        },
        onPageLoaded: function(e) {
            window.dataLayer = window.dataLayer || [],
            e.find(".fp-social-gtm").on("click.gtm", function(e) {
                window.dataLayer.push(JSON.parse(e.currentTarget.getAttribute("data-tag")))
            });
            var t = "en";
            this.plugin.opts.params.locales && (t = this.plugin.opts.params.locales,
            Object.prototype.hasOwnProperty.call(u, t) && r.a.register(t, u[t])),
            o()(this.plugin.listContainer + " .date:not(.is-timeago-loaded)").each(function() {
                var e = o()(this);
                e.text(r()(null, t).format(e.text())),
                e.addClass("is-timeago-loaded")
            })
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(0)
      , o = n.n(i)
      , r = n(1)
      , s = []
      , l = n.n(r).a.throttle(function(e) {
        e.data && e.data.offset < window.pageYOffset + window.innerHeight && s && s[0] && (e.data.plugin.plugin.publish(s[0]),
        o()(window).off("scroll", l))
    }, 10);
    t.a = {
        noScroll: !0,
        beforeChangeTab: function(e) {
            var t = e.data("tabLoadEvent");
            if (0 === s.length && t) {
                var n = this.plugin.$element.offset().top;
                o()(window).on("scroll", {
                    offset: n,
                    plugin: this
                }, l)
            }
            if (t && 0 === s.filter(function(e) {
                return e === t
            }).length && (s.push(t),
            "tab-0" !== t && this.plugin.publish(e.data("tabLoadEvent"))),
            !this.plugin.setAccordionClasses) {
                var i = this.plugin.$element;
                3 < this.plugin.$triggers.length ? i.addClass("smAccordion") : i.addClass("xsAccordion"),
                this.plugin.setAccordionClasses = !0
            }
            var r = this.plugin.$element.find(".expand-content-trigger." + this.plugin.opts.expandTriggerClass);
            if (r.removeClass(this.plugin.opts.expandTriggerClass),
            r.parent().find(".expand-content-container").hide().addClass("is-collapsed"),
            r.is(e))
                this.plugin.tabsExpand = !0;
            else {
                this.plugin.tabsExpand = !1;
                for (var a = this.plugin.$contentPanels.eq(0).attr("data-tab"); a < this.plugin.$contentPanels.length; a++)
                    this.plugin.$contentPanels.eq(a).attr("data-tab") === e.eq(0).attr("data-tab") && (this.plugin.$contentPanels.eq(a).find(".expand-content-trigger").addClass(this.plugin.opts.expandTriggerClass),
                    this.plugin.$contentPanels.eq(a).find(".expand-content-container").css({
                        display: "block"
                    }).removeClass("is-collapsed"))
            }
        },
        afterChangeTab: function(e) {
            var t = e.offset().top;
            if (this.plugin.opts.noScroll)
                this.plugin.opts.noScroll = !1;
            else {
                this.plugin.$activeContentPanel.slideDown(this.plugin.opts.accordionDuration);
                var n = o()(".trigger-top-fixed").height();
                n = 0 < n ? n : 10,
                o()("html, body").animate({
                    scrollTop: t - n + "px"
                })
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        swiperOpts: {
            onLazyImageReady: function(e) {
                this.swiper && setTimeout(function() {
                    e.onResize()
                }, 0)
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.a = {
        beforeChangeTab: function(e) {
            if (!this.plugin.setAccordionClasses) {
                var t = this.plugin.$element;
                2 < this.plugin.$triggers.length && (3 < this.plugin.$triggers.length ? t.addClass("smAccordion") : t.addClass("xsAccordion")),
                this.plugin.setAccordionClasses = !0
            }
            var n = this.plugin.$element.find(".expand-content-trigger.is-active");
            n.removeClass("is-active"),
            n.parent().find(".expand-content-container").hide();
            for (var i = this.plugin.$contentPanels.eq(0).attr("data-tab"); i < this.plugin.$contentPanels.length; i++)
                this.plugin.$contentPanels.eq(i).attr("data-tab") === e.eq(0).attr("data-tab") && (this.plugin.$contentPanels.eq(i).find(".expand-content-trigger").addClass("is-active"),
                this.plugin.$contentPanels.eq(i).find(".expand-content-container").css({
                    display: "block"
                }))
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(0)
      , r = n.n(i);
    t.a = {
        afterToggleCallback: function(e) {
            var t = e.closest(".tab-pane");
            t.toggleClass("is-active"),
            e.closest(".tab-content").find(".tab-pane.is-active").each(function() {
                var e = r()(this);
                e.is(t) || (e.removeClass("is-active"),
                e.find(".expand-content-container").css({
                    display: "none"
                }),
                e.find(".expand-content-trigger").removeClass("is-active"))
            }),
            e.closest(".tabs-body").find(".nav.nav-tabs").find(".is-active").removeClass("is-active");
            for (var n = e.closest(".tabs-body").find(".nav.nav-tabs").find("li"), i = 0; i < n.length; i++)
                n.eq(i).attr("data-tab") === e.closest(".tab-pane").attr("data-tab") && n.eq(i).addClass("is-active");
            e.closest(".tab-pane").addClass("is-active"),
            this.plugin.fixedNav || (this.plugin.fixedNav = r()("html,body").find(".trigger-top-fixed").height()),
            r()("html, body").animate({
                scrollTop: e.offset().top - (this.plugin.fixedNav ? this.plugin.fixedNav : 10)
            })
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(1)
      , r = n.n(i)
      , a = n(0)
      , o = n.n(a)
      , s = n(83);
    t.a = {
        eventOnSlideChanged: "ext-swiper/slide-changed-hero",
        reloadOnEvent: ["responsive-img-reloaded"],
        swiperOpts: {
            onSwiperCreated: function() {
                var n = this
                  , e = this.plugin.$element.find(this.plugin.opts.swiperOpts.prevButton)
                  , t = this.plugin.$element.find(this.plugin.opts.swiperOpts.nextButton);
                this.plugin.on(e, "click", function() {
                    n.plugin.publish("push-data-layer", n.plugin.opts.layers.prevButton)
                }),
                this.plugin.on(t, "click", function() {
                    n.plugin.publish("push-data-layer", n.plugin.opts.layers.nextButton)
                }),
                this.plugin.on(this.plugin.$element.find(".swiper-pagination-bullet"), "click", function(e) {
                    var t = r.a.clone(n.plugin.opts.layers.paginationBullet);
                    t["_trackEvent.label"] = o()(e.target).index() + 1,
                    n.plugin.publish("push-data-layer", t)
                }),
                this.plugin.subscribe("recalculate-slider-cause-video-" + this.plugin.pluginId, function() {
                    n.plugin.swiper.onResize()
                });
                var i = ["webkit", "moz", "ms"].filter(function(e) {
                    return document["".concat(e, "FullscreenEnabled")]
                });
                0 === i.length && (i = ""),
                document.addEventListener("".concat(i, "fullscreenchange"), function() {
                    if (document["".concat(i, "IsFullScreen")]) {
                        var e = document["".concat(i, "CurrentFullScreenElement")];
                        n.plugin.$element[0].contains(e) && (n.plugin.videoWasInFullscreen = !0)
                    } else
                        n.plugin.videoWasInFullscreen && (setTimeout(function() {}, 0),
                        n.plugin.publish("recalculate-slider-cause-video-" + n.plugin.pluginId))
                })
            },
            onSlideChangeStart: function() {
                this.plugin.callbackOnchange || (this.plugin.callbackOnchange = !0),
                this.plugin.currentVideo && (this.plugin.currentVideo.pauseVideo(),
                this.plugin.currentVideo.showPicture())
            },
            onSlideChangeEnd: function() {
                this.plugin.allVideosObject = this.plugin.allVideosObject || {};
                var e = (r.a.isUndefined(this.plugin.swiper) ? this.plugin.$element.find(".swiper-slide-active").get(0) : this.plugin.swiper.slides[this.plugin.swiper.activeIndex]).querySelector(".fp-video-player");
                if (this.plugin.currentVideo && this.plugin.currentVideo.removeVideo(),
                e)
                    if (e.classList.contains("fp-video-already-initialized"))
                        this.plugin.currentVideo = this.plugin.allVideosObject[e.getAttribute("plugin-id")],
                        this.plugin.currentVideo && this.plugin.currentVideo.isMobile && this.plugin.currentVideo.playerInit();
                    else {
                        var t = !1;
                        try {
                            t = JSON.parse(e.getAttribute("data-fopts"))
                        } catch (e) {
                            this.plugin.swiper.slideNext()
                        }
                        !1 !== t && (this.plugin.currentVideo = new s.a(o()(e),t),
                        this.plugin.currentVideo.opts.eventOnVideoEnd = "recalculate-slider-cause-video-".concat(this.plugin.pluginId),
                        this.plugin.currentVideo.start(),
                        this.plugin.allVideosObject[this.plugin.currentVideo.pluginId] = this.plugin.currentVideo,
                        e.classList.add("fp-video-already-initialized"))
                    }
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(1)
      , r = n.n(i)
      , a = n(0)
      , o = n.n(a)
      , s = n(83);
    t.a = {
        reloadOnEvent: ["responsive-img-reloaded"],
        swiperOpts: {
            onSwiperCreated: function() {
                var t = this;
                this.plugin.subscribe("recalculate-gallery-cause-video-" + this.plugin.pluginId, function() {
                    t.plugin.swiper.onResize()
                });
                var n = ["webkit", "moz", "ms"].filter(function(e) {
                    return document["".concat(e, "FullscreenEnabled")]
                });
                0 === n.length && (n = ""),
                document.addEventListener("".concat(n, "fullscreenchange"), function() {
                    if (document["".concat(n, "IsFullScreen")]) {
                        var e = document["".concat(n, "CurrentFullScreenElement")];
                        t.plugin.$element[0].contains(e) && (t.plugin.videoWasInFullscreen = !0)
                    } else
                        t.plugin.videoWasInFullscreen && (setTimeout(function() {}, 0),
                        t.plugin.publish("recalculate-gallery-cause-video-" + t.plugin.pluginId))
                })
            },
            onSlideChangeStart: function() {
                this.plugin.currentVideo && (this.plugin.currentVideo.pauseVideo(),
                this.plugin.currentVideo.showPicture())
            },
            onSlideChangeEnd: function() {
                this.plugin.allVideosObject = this.plugin.allVideosObject || {};
                var e = r.a.isUndefined(this.plugin.swiper) ? this.plugin.$element.find(".swiper-slide-active").get(0) : this.plugin.swiper.slides[this.plugin.swiper.activeIndex];
                if (e) {
                    var t = e.querySelector(".fp-video-player");
                    this.plugin.currentVideo && this.plugin.currentVideo.removeVideo(),
                    t && (t.classList.contains("fp-video-already-initialized") ? (this.plugin.currentVideo = this.plugin.allVideosObject[t.getAttribute("plugin-id")],
                    this.plugin.currentVideo && this.plugin.currentVideo.isMobile && this.plugin.currentVideo.playerInit()) : (this.plugin.currentVideo = new s.a(o()(t),JSON.parse(t.getAttribute("data-fopts"))),
                    this.plugin.currentVideo.opts.eventOnVideoEnd = "recalculate-gallery-cause-video-".concat(this.plugin.pluginId),
                    this.plugin.currentVideo.start(),
                    this.plugin.allVideosObject[this.plugin.currentVideo.pluginId] = this.plugin.currentVideo,
                    t.classList.add("fp-video-already-initialized")))
                }
            },
            onTransitionEnd: function(e) {
                var t = e.slides[e.activeIndex];
                if (t) {
                    var n = t.querySelector(".fp-gallery-element").getAttribute("data-caption") || "";
                    e.paginationContainer.parent().find(".swiper_text").html(n)
                }
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(71);
    t.a = {
        validationOpts: {
            formSelector: ".dynamic-form",
            customValidators: {
                regular: i.a.regularExp
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(3)
      , r = n(1)
      , a = n.n(r)
      , o = n(0)
      , l = n.n(o)
      , u = n(109);
    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var c = function() {
        function t(e) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.THREE = e,
            this.createRendererCanvas()
        }
        return function(e, t, n) {
            t && s(e.prototype, t),
            n && s(e, n)
        }(t, [{
            key: "createRendererCanvas",
            value: function() {
                var _e = this;
                _e.THREE.SpriteCanvasMaterial = function(e) {
                    _e.THREE.Material.call(this),
                    this.type = "SpriteCanvasMaterial",
                    this.color = new _e.THREE.Color(16777215),
                    this.program = function() {}
                    ,
                    this.setValues(e)
                }
                ,
                _e.THREE.SpriteCanvasMaterial.prototype = Object.create(_e.THREE.Material.prototype),
                _e.THREE.SpriteCanvasMaterial.prototype.constructor = _e.THREE.SpriteCanvasMaterial,
                _e.THREE.SpriteCanvasMaterial.prototype.isSpriteCanvasMaterial = !0,
                _e.THREE.SpriteCanvasMaterial.prototype.clone = function() {
                    var e = new _e.THREE.SpriteCanvasMaterial;
                    return e.copy(this),
                    e.color.copy(this.color),
                    e.program = this.program,
                    e
                }
                ,
                _e.THREE.CanvasRenderer = function(e) {
                    console.log("self.THREE.CanvasRenderer", _e.THREE.REVISION),
                    e = e || {};
                    var s, l, u, c, h, d, p, f, m, g, v, y, b, _, w, x, T, S, E, C = this, M = new _e.THREE.Projector, i = void 0 !== e.canvas ? e.canvas : document.createElement("canvas"), k = i.width, P = i.height, A = Math.floor(k / 2), I = Math.floor(P / 2), L = 0, O = 0, R = k, D = P, r = 1, N = i.getContext("2d", {
                        alpha: !0 === e.alpha,
                        preserveDrawingBuffer: e.preserveDrawingBuffer || !1
                    }), n = new _e.THREE.Color(0), a = !0 === e.alpha ? 0 : 1, o = 1, F = 0, B = null, U = null, j = null, z = null, H = null, t = [], V = new _e.THREE.Color, G = new _e.THREE.Color, W = new _e.THREE.Color, q = new _e.THREE.Color, $ = {}, X = new _e.THREE.Box2, Y = new _e.THREE.Box2, K = new _e.THREE.Box2, Z = new _e.THREE.Color, Q = new _e.THREE.Color, J = new _e.THREE.Color, ee = new _e.THREE.Vector3, te = new _e.THREE.Vector3, ne = new _e.THREE.Vector3, ie = new _e.THREE.Matrix3;
                    function re(e, t, n) {
                        de(n.opacity),
                        pe(n.blending);
                        var i = t.scale.x * A
                          , r = t.scale.y * I
                          , a = Math.sqrt(i * i + r * r);
                        if (K.min.set(e.x - a, e.y - a),
                        K.max.set(e.x + a, e.y + a),
                        n.isSpriteMaterial) {
                            var o = n.map;
                            if (null !== o) {
                                var s = $[o.id];
                                if (void 0 !== s && s.version === o.version || (s = ue(o),
                                $[o.id] = s),
                                void 0 !== s.canvas) {
                                    ye(s.canvas);
                                    var l = o.image
                                      , u = l.width * o.offset.x
                                      , c = l.height * o.offset.y
                                      , h = l.width * o.repeat.x
                                      , d = l.height * o.repeat.y
                                      , p = i / h
                                      , f = r / d;
                                    N.save(),
                                    N.translate(e.x, e.y),
                                    0 !== n.rotation && N.rotate(n.rotation),
                                    N.translate(-i / 2, -r / 2),
                                    N.scale(p, f),
                                    N.translate(-u, -c),
                                    N.fillRect(u, c, h, d),
                                    N.restore()
                                }
                            } else
                                ye(n.color.getStyle()),
                                N.save(),
                                N.translate(e.x, e.y),
                                0 !== n.rotation && N.rotate(n.rotation),
                                N.scale(i, -r),
                                N.fillRect(-.5, -.5, 1, 1),
                                N.restore()
                        } else
                            n.isSpriteCanvasMaterial ? (ve(n.color.getStyle()),
                            ye(n.color.getStyle()),
                            N.save(),
                            N.translate(e.x, e.y),
                            0 !== n.rotation && N.rotate(n.rotation),
                            N.scale(i, r),
                            n.program(N),
                            N.restore()) : n.isPointsMaterial && (ye(n.color.getStyle()),
                            N.save(),
                            N.translate(e.x, e.y),
                            0 !== n.rotation && N.rotate(n.rotation),
                            N.scale(i * n.size, -r * n.size),
                            N.fillRect(-.5, -.5, 1, 1),
                            N.restore())
                    }
                    function ae(e, t, n, i) {
                        if (de(i.opacity),
                        pe(i.blending),
                        N.beginPath(),
                        N.moveTo(e.positionScreen.x, e.positionScreen.y),
                        N.lineTo(t.positionScreen.x, t.positionScreen.y),
                        i.isLineBasicMaterial) {
                            if (fe(i.linewidth),
                            me(i.linecap),
                            ge(i.linejoin),
                            i.vertexColors !== _e.THREE.VertexColors)
                                ve(i.color.getStyle());
                            else {
                                var r = n.vertexColors[0].getStyle()
                                  , a = n.vertexColors[1].getStyle();
                                if (r === a)
                                    ve(r);
                                else {
                                    try {
                                        var o = N.createLinearGradient(e.positionScreen.x, e.positionScreen.y, t.positionScreen.x, t.positionScreen.y);
                                        o.addColorStop(0, r),
                                        o.addColorStop(1, a)
                                    } catch (e) {
                                        o = r
                                    }
                                    ve(o)
                                }
                            }
                            N.stroke(),
                            K.expandByScalar(2 * i.linewidth)
                        } else
                            i.isLineDashedMaterial && (fe(i.linewidth),
                            me(i.linecap),
                            ge(i.linejoin),
                            ve(i.color.getStyle()),
                            be([i.dashSize, i.gapSize]),
                            N.stroke(),
                            K.expandByScalar(2 * i.linewidth),
                            be([]))
                    }
                    function oe(e, t, n, i, r, a, o, s) {
                        if (C.info.render.vertices += 3,
                        C.info.render.faces++,
                        de(s.opacity),
                        pe(s.blending),
                        p = e.positionScreen.x,
                        f = e.positionScreen.y,
                        m = t.positionScreen.x,
                        g = t.positionScreen.y,
                        v = n.positionScreen.x,
                        y = n.positionScreen.y,
                        function(e, t, n, i, r, a) {
                            N.beginPath(),
                            N.moveTo(e, t),
                            N.lineTo(n, i),
                            N.lineTo(r, a),
                            N.closePath()
                        }(p, f, m, g, v, y),
                        (s.isMeshLambertMaterial || s.isMeshPhongMaterial || s.isMeshStandardMaterial) && null === s.map)
                            G.copy(s.color),
                            W.copy(s.emissive),
                            s.vertexColors === _e.THREE.FaceColors && G.multiply(o.color),
                            V.copy(Z),
                            te.copy(e.positionWorld).add(t.positionWorld).add(n.positionWorld).divideScalar(3),
                            function(e, t, n) {
                                for (var i = 0, r = u.length; i < r; i++) {
                                    var a = u[i];
                                    if (q.copy(a.color),
                                    a.isDirectionalLight) {
                                        var o = ee.setFromMatrixPosition(a.matrixWorld).normalize();
                                        if ((s = t.dot(o)) <= 0)
                                            continue;
                                        s *= a.intensity,
                                        n.add(q.multiplyScalar(s))
                                    } else if (a.isPointLight) {
                                        var s;
                                        o = ee.setFromMatrixPosition(a.matrixWorld);
                                        if ((s = t.dot(ee.subVectors(o, e).normalize())) <= 0)
                                            continue;
                                        if (0 == (s *= 0 == a.distance ? 1 : 1 - Math.min(e.distanceTo(o) / a.distance, 1)))
                                            continue;
                                        s *= a.intensity,
                                        n.add(q.multiplyScalar(s))
                                    }
                                }
                            }(te, o.normalModel, V),
                            V.multiply(G).add(W),
                            !0 === s.wireframe ? se(V, s.wireframeLinewidth, s.wireframeLinecap, s.wireframeLinejoin) : le(V);
                        else if (s.isMeshBasicMaterial || s.isMeshLambertMaterial || s.isMeshPhongMaterial || s.isMeshStandardMaterial) {
                            if (null !== s.map)
                                s.map.mapping === _e.THREE.UVMapping && (b = o.uvs,
                                ce(p, f, m, g, v, y, b[i].x, b[i].y, b[r].x, b[r].y, b[a].x, b[a].y, s.map));
                            else
                                null !== s.envMap ? s.envMap.mapping === _e.THREE.SphericalReflectionMapping && (ne.copy(o.vertexNormalsModel[i]).applyMatrix3(ie),
                                _ = .5 * ne.x + .5,
                                w = .5 * ne.y + .5,
                                ne.copy(o.vertexNormalsModel[r]).applyMatrix3(ie),
                                x = .5 * ne.x + .5,
                                T = .5 * ne.y + .5,
                                ne.copy(o.vertexNormalsModel[a]).applyMatrix3(ie),
                                S = .5 * ne.x + .5,
                                E = .5 * ne.y + .5,
                                ce(p, f, m, g, v, y, _, w, x, T, S, E, s.envMap)) : (V.copy(s.color),
                                s.vertexColors === _e.THREE.FaceColors && V.multiply(o.color),
                                !0 === s.wireframe ? se(V, s.wireframeLinewidth, s.wireframeLinecap, s.wireframeLinejoin) : le(V))
                        } else
                            s.isMeshNormalMaterial ? (ne.copy(o.normalModel).applyMatrix3(ie),
                            V.setRGB(ne.x, ne.y, ne.z).multiplyScalar(.5).addScalar(.5)) : V.setRGB(1, 1, 1),
                            !0 === s.wireframe ? se(V, s.wireframeLinewidth, s.wireframeLinecap, s.wireframeLinejoin) : le(V)
                    }
                    function se(e, t, n, i) {
                        fe(t),
                        me(n),
                        ge(i),
                        ve(e.getStyle()),
                        N.stroke(),
                        K.expandByScalar(2 * t)
                    }
                    function le(e) {
                        ye(e.getStyle()),
                        N.fill()
                    }
                    function ue(e) {
                        if (0 === e.version || e instanceof _e.THREE.CompressedTexture || e instanceof _e.THREE.DataTexture)
                            return {
                                canvas: void 0,
                                version: e.version
                            };
                        var t = e.image;
                        if (!1 === t.complete)
                            return {
                                canvas: void 0,
                                version: 0
                            };
                        var n = e.wrapS === _e.THREE.RepeatWrapping || e.wrapS === _e.THREE.MirroredRepeatWrapping
                          , i = e.wrapT === _e.THREE.RepeatWrapping || e.wrapT === _e.THREE.MirroredRepeatWrapping
                          , r = e.wrapS === _e.THREE.MirroredRepeatWrapping
                          , a = e.wrapT === _e.THREE.MirroredRepeatWrapping
                          , o = document.createElement("canvas");
                        o.width = t.width * (r ? 2 : 1),
                        o.height = t.height * (a ? 2 : 1);
                        var s = o.getContext("2d");
                        s.setTransform(1, 0, 0, -1, 0, t.height),
                        s.drawImage(t, 0, 0),
                        !0 == r && (s.setTransform(-1, 0, 0, -1, t.width, t.height),
                        s.drawImage(t, -t.width, 0)),
                        !0 == a && (s.setTransform(1, 0, 0, 1, 0, 0),
                        s.drawImage(t, 0, t.height)),
                        !0 == r && !0 == a && (s.setTransform(-1, 0, 0, 1, t.width, 0),
                        s.drawImage(t, -t.width, t.height));
                        var l = "no-repeat";
                        !0 == n && !0 == i ? l = "repeat" : !0 == n ? l = "repeat-x" : !0 == i && (l = "repeat-y");
                        var u = N.createPattern(o, l);
                        return e.onUpdate && e.onUpdate(e),
                        {
                            canvas: u,
                            version: e.version
                        }
                    }
                    function ce(e, t, n, i, r, a, o, s, l, u, c, h, d) {
                        var p = $[d.id];
                        if (void 0 !== p && p.version === d.version || (p = ue(d),
                        $[d.id] = p),
                        void 0 === p.canvas)
                            return ye("rgba( 0, 0, 0, 1)"),
                            void N.fill();
                        ye(p.canvas);
                        var f, m, g, v, y, b, _, w, x = d.offset.x / d.repeat.x, T = d.offset.y / d.repeat.y, S = d.image.width * d.repeat.x, E = d.image.height * d.repeat.y;
                        l = (l + x) * S,
                        u = (u + T) * E,
                        c = (c + x) * S,
                        h = (h + T) * E,
                        n -= e,
                        i -= t,
                        r -= e,
                        a -= t,
                        0 != (_ = (l -= o = (o + x) * S) * (h -= s = (s + T) * E) - (c -= o) * (u -= s)) && (y = e - (f = (h * n - u * r) * (w = 1 / _)) * o - (g = (l * r - c * n) * w) * s,
                        b = t - (m = (h * i - u * a) * w) * o - (v = (l * a - c * i) * w) * s,
                        N.save(),
                        N.transform(f, m, g, v, y, b),
                        N.fill(),
                        N.restore())
                    }
                    function he(e, t, n) {
                        var i, r = t.x - e.x, a = t.y - e.y, o = r * r + a * a;
                        0 != o && (r *= i = n / Math.sqrt(o),
                        a *= i,
                        t.x += r,
                        t.y += a,
                        e.x -= r,
                        e.y -= a)
                    }
                    function de(e) {
                        o !== e && (N.globalAlpha = e,
                        o = e)
                    }
                    function pe(e) {
                        F !== e && (e === _e.THREE.NormalBlending ? N.globalCompositeOperation = "source-over" : e === _e.THREE.AdditiveBlending ? N.globalCompositeOperation = "lighter" : e === _e.THREE.SubtractiveBlending ? N.globalCompositeOperation = "darker" : e === _e.THREE.MultiplyBlending && (N.globalCompositeOperation = "multiply"),
                        F = e)
                    }
                    function fe(e) {
                        j !== e && (N.lineWidth = e,
                        j = e)
                    }
                    function me(e) {
                        z !== e && (N.lineCap = e,
                        z = e)
                    }
                    function ge(e) {
                        H !== e && (N.lineJoin = e,
                        H = e)
                    }
                    function ve(e) {
                        B !== e && (N.strokeStyle = e,
                        B = e)
                    }
                    function ye(e) {
                        U !== e && (N.fillStyle = e,
                        U = e)
                    }
                    function be(e) {
                        t.length !== e.length && (N.setLineDash(e),
                        t = e)
                    }
                    void 0 === N.setLineDash && (N.setLineDash = function() {}
                    ),
                    this.domElement = i,
                    this.autoClear = !0,
                    this.sortObjects = !0,
                    this.sortElements = !0,
                    this.info = {
                        render: {
                            vertices: 0,
                            faces: 0
                        }
                    },
                    this.supportsVertexTextures = function() {}
                    ,
                    this.setFaceCulling = function() {}
                    ,
                    this.getContext = function() {
                        return N
                    }
                    ,
                    this.getContextAttributes = function() {
                        return N.getContextAttributes()
                    }
                    ,
                    this.getPixelRatio = function() {
                        return r
                    }
                    ,
                    this.setPixelRatio = function(e) {
                        void 0 !== e && (r = e)
                    }
                    ,
                    this.setSize = function(e, t, n) {
                        k = e * r,
                        P = t * r,
                        i.width = k,
                        i.height = P,
                        A = Math.floor(k / 2),
                        I = Math.floor(P / 2),
                        !1 !== n && (i.style.width = e + "px",
                        i.style.height = t + "px"),
                        X.min.set(-A, -I),
                        X.max.set(A, I),
                        Y.min.set(-A, -I),
                        Y.max.set(A, I),
                        o = 1,
                        F = 0,
                        H = z = j = U = B = null,
                        this.setViewport(0, 0, e, t)
                    }
                    ,
                    this.setViewport = function(e, t, n, i) {
                        L = e * r,
                        O = t * r,
                        R = n * r,
                        D = i * r
                    }
                    ,
                    this.setScissor = function() {}
                    ,
                    this.setScissorTest = function() {}
                    ,
                    this.setClearColor = function(e, t) {
                        n.set(e),
                        a = void 0 !== t ? t : 1,
                        Y.min.set(-A, -I),
                        Y.max.set(A, I)
                    }
                    ,
                    this.setClearColorHex = function(e, t) {
                        console.warn("self.THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),
                        this.setClearColor(e, t)
                    }
                    ,
                    this.getClearColor = function() {
                        return n
                    }
                    ,
                    this.getClearAlpha = function() {
                        return a
                    }
                    ,
                    this.getMaxAnisotropy = function() {
                        return 0
                    }
                    ,
                    this.clear = function() {
                        !1 === Y.isEmpty() && (Y.intersect(X),
                        Y.expandByScalar(2),
                        Y.min.x = Y.min.x + A,
                        Y.min.y = -Y.min.y + I,
                        Y.max.x = Y.max.x + A,
                        Y.max.y = -Y.max.y + I,
                        a < 1 && N.clearRect(0 | Y.min.x, 0 | Y.max.y, Y.max.x - Y.min.x | 0, Y.min.y - Y.max.y | 0),
                        0 < a && (pe(_e.THREE.NormalBlending),
                        de(1),
                        ye("rgba(" + Math.floor(255 * n.r) + "," + Math.floor(255 * n.g) + "," + Math.floor(255 * n.b) + "," + a + ")"),
                        N.fillRect(0 | Y.min.x, 0 | Y.max.y, Y.max.x - Y.min.x | 0, Y.min.y - Y.max.y | 0)),
                        Y.makeEmpty())
                    }
                    ,
                    this.clearColor = function() {}
                    ,
                    this.clearDepth = function() {}
                    ,
                    this.clearStencil = function() {}
                    ,
                    this.render = function(e, t) {
                        if (void 0 !== t.isCamera) {
                            var n = e.background;
                            n && n.isColor ? (ye("rgb(" + Math.floor(255 * n.r) + "," + Math.floor(255 * n.g) + "," + Math.floor(255 * n.b) + ")"),
                            N.fillRect(0, 0, k, P)) : !0 === this.autoClear && this.clear(),
                            C.info.render.vertices = 0,
                            C.info.render.faces = 0,
                            N.setTransform(R / k, 0, 0, -D / P, L, P - O),
                            N.translate(A, I),
                            s = M.projectScene(e, t, this.sortObjects, this.sortElements),
                            l = s.elements,
                            u = s.lights,
                            ie.getNormalMatrix(t.matrixWorldInverse),
                            function() {
                                Z.setRGB(0, 0, 0),
                                Q.setRGB(0, 0, 0),
                                J.setRGB(0, 0, 0);
                                for (var e = 0, t = u.length; e < t; e++) {
                                    var n = u[e]
                                      , i = n.color;
                                    n.isAmbientLight ? Z.add(i) : n.isDirectionalLight ? Q.add(i) : n.isPointLight && J.add(i)
                                }
                            }();
                            for (var i = 0, r = l.length; i < r; i++) {
                                var a = l[i]
                                  , o = a.material;
                                if (void 0 !== o && 0 !== o.opacity) {
                                    if (K.makeEmpty(),
                                    a instanceof _e.THREE.RenderableSprite)
                                        (c = a).x *= A,
                                        c.y *= I,
                                        re(c, a, o);
                                    else if (a instanceof _e.THREE.RenderableLine)
                                        c = a.v1,
                                        h = a.v2,
                                        c.positionScreen.x *= A,
                                        c.positionScreen.y *= I,
                                        h.positionScreen.x *= A,
                                        h.positionScreen.y *= I,
                                        K.setFromPoints([c.positionScreen, h.positionScreen]),
                                        !0 === X.intersectsBox(K) && ae(c, h, a, o);
                                    else if (a instanceof _e.THREE.RenderableFace) {
                                        if (c = a.v1,
                                        h = a.v2,
                                        d = a.v3,
                                        c.positionScreen.z < -1 || 1 < c.positionScreen.z)
                                            continue;
                                        if (h.positionScreen.z < -1 || 1 < h.positionScreen.z)
                                            continue;
                                        if (d.positionScreen.z < -1 || 1 < d.positionScreen.z)
                                            continue;
                                        c.positionScreen.x *= A,
                                        c.positionScreen.y *= I,
                                        h.positionScreen.x *= A,
                                        h.positionScreen.y *= I,
                                        d.positionScreen.x *= A,
                                        d.positionScreen.y *= I,
                                        0 < o.overdraw && (he(c.positionScreen, h.positionScreen, o.overdraw),
                                        he(h.positionScreen, d.positionScreen, o.overdraw),
                                        he(d.positionScreen, c.positionScreen, o.overdraw)),
                                        K.setFromPoints([c.positionScreen, h.positionScreen, d.positionScreen]),
                                        !0 === X.intersectsBox(K) && oe(c, h, d, 0, 1, 2, a, o)
                                    }
                                    Y.union(K)
                                }
                            }
                            N.setTransform(1, 0, 0, 1, 0, 0)
                        } else
                            console.error("self.THREE.CanvasRenderer.render: camera is not an instance of self.THREE.Camera.")
                    }
                }
            }
        }]),
        t
    }();
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var d = function() {
        function t(e) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.THREE = e,
            this.createProjectorr()
        }
        return function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(t, [{
            key: "createProjectorr",
            value: function() {
                var xe = this;
                xe.THREE.RenderableObject = function() {
                    this.id = 0,
                    this.object = null,
                    this.z = 0,
                    this.renderOrder = 0
                }
                ,
                xe.THREE.RenderableFace = function() {
                    this.id = 0,
                    this.v1 = new xe.THREE.RenderableVertex,
                    this.v2 = new xe.THREE.RenderableVertex,
                    this.v3 = new xe.THREE.RenderableVertex,
                    this.normalModel = new xe.THREE.Vector3,
                    this.vertexNormalsModel = [new xe.THREE.Vector3, new xe.THREE.Vector3, new xe.THREE.Vector3],
                    this.vertexNormalsLength = 0,
                    this.color = new xe.THREE.Color,
                    this.material = null,
                    this.uvs = [new xe.THREE.Vector2, new xe.THREE.Vector2, new xe.THREE.Vector2],
                    this.z = 0,
                    this.renderOrder = 0
                }
                ,
                xe.THREE.RenderableVertex = function() {
                    this.position = new xe.THREE.Vector3,
                    this.positionWorld = new xe.THREE.Vector3,
                    this.positionScreen = new xe.THREE.Vector4,
                    this.visible = !0
                }
                ,
                xe.THREE.RenderableVertex.prototype.copy = function(e) {
                    this.positionWorld.copy(e.positionWorld),
                    this.positionScreen.copy(e.positionScreen)
                }
                ,
                xe.THREE.RenderableLine = function() {
                    this.id = 0,
                    this.v1 = new xe.THREE.RenderableVertex,
                    this.v2 = new xe.THREE.RenderableVertex,
                    this.vertexColors = [new xe.THREE.Color, new xe.THREE.Color],
                    this.material = null,
                    this.z = 0,
                    this.renderOrder = 0
                }
                ,
                xe.THREE.RenderableSprite = function() {
                    this.id = 0,
                    this.object = null,
                    this.x = 0,
                    this.y = 0,
                    this.z = 0,
                    this.rotation = 0,
                    this.scale = new xe.THREE.Vector2,
                    this.material = null,
                    this.renderOrder = 0
                }
                ,
                xe.THREE.Projector = function() {
                    var t, Y, a, K, Z, Q, J, ee, r, te, ne, n = [], i = 0, ie = [], o = 0, s = [], l = 0, u = [], c = 0, h = [], d = 0, re = {
                        objects: [],
                        lights: [],
                        elements: []
                    }, ae = new xe.THREE.Vector3, oe = new xe.THREE.Vector4, m = new xe.THREE.Box3(new xe.THREE.Vector3(-1,-1,-1),new xe.THREE.Vector3(1,1,1)), g = new xe.THREE.Box3, v = new Array(3), se = new xe.THREE.Matrix4, le = new xe.THREE.Matrix4, ue = new xe.THREE.Matrix4, ce = new xe.THREE.Matrix3, he = new xe.THREE.Frustum, de = new xe.THREE.Vector4, pe = new xe.THREE.Vector4;
                    this.projectVector = function(e, t) {
                        console.warn("self.THREE.Projector: .projectVector() is now vector.project()."),
                        e.project(t)
                    }
                    ,
                    this.unprojectVector = function(e, t) {
                        console.warn("self.THREE.Projector: .unprojectVector() is now vector.unproject()."),
                        e.unproject(t)
                    }
                    ,
                    this.pickingRay = function() {
                        console.error("self.THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
                    }
                    ;
                    var fe = new function() {
                        var l = []
                          , r = []
                          , u = []
                          , c = null
                          , h = null
                          , d = new xe.THREE.Matrix3;
                        function i(e) {
                            var t = e.position
                              , n = e.positionWorld
                              , i = e.positionScreen;
                            n.copy(t).applyMatrix4(ne),
                            i.copy(n).applyMatrix4(le);
                            var r = 1 / i.w;
                            i.x *= r,
                            i.y *= r,
                            i.z *= r,
                            e.visible = -1 <= i.x && i.x <= 1 && -1 <= i.y && i.y <= 1 && -1 <= i.z && i.z <= 1
                        }
                        function p(e, t, n) {
                            return !0 === e.visible || !0 === t.visible || !0 === n.visible || (v[0] = e.positionScreen,
                            v[1] = t.positionScreen,
                            v[2] = n.positionScreen,
                            m.intersectsBox(g.setFromPoints(v)))
                        }
                        function f(e, t, n) {
                            return (n.positionScreen.x - e.positionScreen.x) * (t.positionScreen.y - e.positionScreen.y) - (n.positionScreen.y - e.positionScreen.y) * (t.positionScreen.x - e.positionScreen.x) < 0
                        }
                        return {
                            setObject: function(e) {
                                h = (c = e).material,
                                d.getNormalMatrix(c.matrixWorld),
                                l.length = 0,
                                r.length = 0,
                                u.length = 0
                            },
                            projectVertex: i,
                            checkTriangleVisibility: p,
                            checkBackfaceCulling: f,
                            pushVertex: function(e, t, n) {
                                (a = ve()).position.set(e, t, n),
                                i(a)
                            },
                            pushNormal: function(e, t, n) {
                                l.push(e, t, n)
                            },
                            pushColor: function(e, t, n) {
                                r.push(e, t, n)
                            },
                            pushUv: function(e, t) {
                                u.push(e, t)
                            },
                            pushLine: function(e, t) {
                                var n = ie[e]
                                  , i = ie[t];
                                n.positionScreen.copy(n.position).applyMatrix4(ue),
                                i.positionScreen.copy(i.position).applyMatrix4(ue),
                                !0 === we(n.positionScreen, i.positionScreen) && (n.positionScreen.multiplyScalar(1 / n.positionScreen.w),
                                i.positionScreen.multiplyScalar(1 / i.positionScreen.w),
                                (J = be()).id = c.id,
                                J.v1.copy(n),
                                J.v2.copy(i),
                                J.z = Math.max(n.positionScreen.z, i.positionScreen.z),
                                J.renderOrder = c.renderOrder,
                                J.material = c.material,
                                c.material.vertexColors === xe.THREE.VertexColors && (J.vertexColors[0].fromArray(r, 3 * e),
                                J.vertexColors[1].fromArray(r, 3 * t)),
                                re.elements.push(J))
                            },
                            pushTriangle: function(e, t, n) {
                                var i = ie[e]
                                  , r = ie[t]
                                  , a = ie[n];
                                if (!1 !== p(i, r, a) && (h.side === xe.THREE.DoubleSide || !0 === f(i, r, a))) {
                                    (Z = ye()).id = c.id,
                                    Z.v1.copy(i),
                                    Z.v2.copy(r),
                                    Z.v3.copy(a),
                                    Z.z = (i.positionScreen.z + r.positionScreen.z + a.positionScreen.z) / 3,
                                    Z.renderOrder = c.renderOrder,
                                    Z.normalModel.fromArray(l, 3 * e),
                                    Z.normalModel.applyMatrix3(d).normalize();
                                    for (var o = 0; o < 3; o++) {
                                        var s = Z.vertexNormalsModel[o];
                                        s.fromArray(l, 3 * arguments[o]),
                                        s.applyMatrix3(d).normalize(),
                                        Z.uvs[o].fromArray(u, 2 * arguments[o])
                                    }
                                    Z.vertexNormalsLength = 3,
                                    Z.material = c.material,
                                    re.elements.push(Z)
                                }
                            }
                        }
                    }
                    ;
                    function me(e) {
                        (t = function() {
                            if (Y !== i)
                                return n[Y++];
                            var e = new xe.THREE.RenderableObject;
                            return n.push(e),
                            i++,
                            Y++,
                            e
                        }()).id = e.id,
                        t.object = e,
                        ae.setFromMatrixPosition(e.matrixWorld),
                        ae.applyMatrix4(le),
                        t.z = ae.z,
                        t.renderOrder = e.renderOrder,
                        re.objects.push(t)
                    }
                    function ge(e, t, n) {
                        var i = 1 / e.w;
                        e.z *= i,
                        -1 <= e.z && e.z <= 1 && ((r = function() {
                            if (te !== d)
                                return h[te++];
                            var e = new xe.THREE.RenderableSprite;
                            return h.push(e),
                            d++,
                            te++,
                            e
                        }()).id = t.id,
                        r.x = e.x * i,
                        r.y = e.y * i,
                        r.z = e.z,
                        r.renderOrder = t.renderOrder,
                        r.object = t,
                        r.rotation = t.rotation,
                        r.scale.x = t.scale.x * Math.abs(r.x - (e.x + n.projectionMatrix.elements[0]) / (e.w + n.projectionMatrix.elements[12])),
                        r.scale.y = t.scale.y * Math.abs(r.y - (e.y + n.projectionMatrix.elements[5]) / (e.w + n.projectionMatrix.elements[13])),
                        r.material = t.material,
                        re.elements.push(r))
                    }
                    function ve() {
                        if (K !== o)
                            return ie[K++];
                        var e = new xe.THREE.RenderableVertex;
                        return ie.push(e),
                        o++,
                        K++,
                        e
                    }
                    function ye() {
                        if (Q !== l)
                            return s[Q++];
                        var e = new xe.THREE.RenderableFace;
                        return s.push(e),
                        l++,
                        Q++,
                        e
                    }
                    function be() {
                        if (ee !== c)
                            return u[ee++];
                        var e = new xe.THREE.RenderableLine;
                        return u.push(e),
                        c++,
                        ee++,
                        e
                    }
                    function _e(e, t) {
                        return e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : e.id !== t.id ? e.id - t.id : 0
                    }
                    function we(e, t) {
                        var n = 0
                          , i = 1
                          , r = e.z + e.w
                          , a = t.z + t.w
                          , o = -e.z + e.w
                          , s = -t.z + t.w;
                        return 0 <= r && 0 <= a && 0 <= o && 0 <= s || !(r < 0 && a < 0 || o < 0 && s < 0) && (r < 0 ? n = Math.max(n, r / (r - a)) : a < 0 && (i = Math.min(i, r / (r - a))),
                        o < 0 ? n = Math.max(n, o / (o - s)) : s < 0 && (i = Math.min(i, o / (o - s))),
                        !(i < n) && (e.lerp(t, n),
                        t.lerp(e, 1 - i),
                        !0))
                    }
                    this.projectScene = function(e, t, n, i) {
                        te = ee = Q = 0,
                        !(re.elements.length = 0) === e.autoUpdate && e.updateMatrixWorld(),
                        null === t.parent && t.updateMatrixWorld(),
                        se.copy(t.matrixWorldInverse),
                        le.multiplyMatrices(t.projectionMatrix, se),
                        he.setFromMatrix(le),
                        Y = 0,
                        re.objects.length = 0,
                        re.lights.length = 0,
                        function e(t) {
                            if (!1 !== t.visible) {
                                if (t instanceof xe.THREE.Light)
                                    re.lights.push(t);
                                else if (t instanceof xe.THREE.Mesh || t instanceof xe.THREE.Line || t instanceof xe.THREE.Points) {
                                    if (!1 === t.material.visible)
                                        return;
                                    if (!0 === t.frustumCulled && !1 === he.intersectsObject(t))
                                        return;
                                    me(t)
                                } else if (t instanceof xe.THREE.Sprite) {
                                    if (!1 === t.material.visible)
                                        return;
                                    if (!0 === t.frustumCulled && !1 === he.intersectsSprite(t))
                                        return;
                                    me(t)
                                }
                                for (var n = t.children, i = 0, r = n.length; i < r; i++)
                                    e(n[i])
                            }
                        }(e),
                        !0 === n && re.objects.sort(_e);
                        for (var r = re.objects, a = 0, o = r.length; a < o; a++) {
                            var s = r[a].object
                              , l = s.geometry;
                            if (fe.setObject(s),
                            ne = s.matrixWorld,
                            K = 0,
                            s instanceof xe.THREE.Mesh) {
                                if (l instanceof xe.THREE.BufferGeometry) {
                                    var u = l.attributes
                                      , c = l.groups;
                                    if (void 0 === u.position)
                                        continue;
                                    for (var h = 0, d = (X = u.position.array).length; h < d; h += 3)
                                        fe.pushVertex(X[h], X[h + 1], X[h + 2]);
                                    if (void 0 !== u.normal) {
                                        var p = u.normal.array;
                                        for (h = 0,
                                        d = p.length; h < d; h += 3)
                                            fe.pushNormal(p[h], p[h + 1], p[h + 2])
                                    }
                                    if (void 0 !== u.uv) {
                                        var f = u.uv.array;
                                        for (h = 0,
                                        d = f.length; h < d; h += 2)
                                            fe.pushUv(f[h], f[h + 1])
                                    }
                                    if (null !== l.index) {
                                        var m = l.index.array;
                                        if (0 < c.length)
                                            for (var g = 0; g < c.length; g++) {
                                                var v = c[g];
                                                for (h = v.start,
                                                d = v.start + v.count; h < d; h += 3)
                                                    fe.pushTriangle(m[h], m[h + 1], m[h + 2])
                                            }
                                        else
                                            for (h = 0,
                                            d = m.length; h < d; h += 3)
                                                fe.pushTriangle(m[h], m[h + 1], m[h + 2])
                                    } else
                                        for (h = 0,
                                        d = X.length / 3; h < d; h += 3)
                                            fe.pushTriangle(h, h + 1, h + 2)
                                } else if (l instanceof xe.THREE.Geometry) {
                                    var y = l.vertices
                                      , b = l.faces
                                      , _ = l.faceVertexUvs[0];
                                    ce.getNormalMatrix(ne);
                                    for (var w = s.material, x = Array.isArray(w), T = 0, S = y.length; T < S; T++) {
                                        var E = y[T];
                                        if (ae.copy(E),
                                        !0 === w.morphTargets)
                                            for (var C = l.morphTargets, M = s.morphTargetInfluences, k = 0, P = C.length; k < P; k++) {
                                                var A = M[k];
                                                if (0 !== A) {
                                                    var I = C[k].vertices[T];
                                                    ae.x += (I.x - E.x) * A,
                                                    ae.y += (I.y - E.y) * A,
                                                    ae.z += (I.z - E.z) * A
                                                }
                                            }
                                        fe.pushVertex(ae.x, ae.y, ae.z)
                                    }
                                    for (var L = 0, O = b.length; L < O; L++) {
                                        var R = b[L];
                                        if (void 0 !== (w = !0 === x ? s.material[R.materialIndex] : s.material)) {
                                            var D = w.side
                                              , N = ie[R.a]
                                              , F = ie[R.b]
                                              , B = ie[R.c];
                                            if (!1 !== fe.checkTriangleVisibility(N, F, B)) {
                                                var U = fe.checkBackfaceCulling(N, F, B);
                                                if (D !== xe.THREE.DoubleSide) {
                                                    if (D === xe.THREE.FrontSide && !1 === U)
                                                        continue;
                                                    if (D === xe.THREE.BackSide && !0 === U)
                                                        continue
                                                }
                                                (Z = ye()).id = s.id,
                                                Z.v1.copy(N),
                                                Z.v2.copy(F),
                                                Z.v3.copy(B),
                                                Z.normalModel.copy(R.normal),
                                                !1 !== U || D !== xe.THREE.BackSide && D !== xe.THREE.DoubleSide || Z.normalModel.negate(),
                                                Z.normalModel.applyMatrix3(ce).normalize();
                                                for (var j = R.vertexNormals, z = 0, H = Math.min(j.length, 3); z < H; z++) {
                                                    var V = Z.vertexNormalsModel[z];
                                                    V.copy(j[z]),
                                                    !1 !== U || D !== xe.THREE.BackSide && D !== xe.THREE.DoubleSide || V.negate(),
                                                    V.applyMatrix3(ce).normalize()
                                                }
                                                Z.vertexNormalsLength = j.length;
                                                var G = _[L];
                                                if (void 0 !== G)
                                                    for (var W = 0; W < 3; W++)
                                                        Z.uvs[W].copy(G[W]);
                                                Z.color = R.color,
                                                Z.material = w,
                                                Z.z = (N.positionScreen.z + F.positionScreen.z + B.positionScreen.z) / 3,
                                                Z.renderOrder = s.renderOrder,
                                                re.elements.push(Z)
                                            }
                                        }
                                    }
                                }
                            } else if (s instanceof xe.THREE.Line) {
                                if (ue.multiplyMatrices(le, ne),
                                l instanceof xe.THREE.BufferGeometry) {
                                    if (void 0 !== (u = l.attributes).position) {
                                        for (h = 0,
                                        d = (X = u.position.array).length; h < d; h += 3)
                                            fe.pushVertex(X[h], X[h + 1], X[h + 2]);
                                        if (void 0 !== u.color) {
                                            var q = u.color.array;
                                            for (h = 0,
                                            d = q.length; h < d; h += 3)
                                                fe.pushColor(q[h], q[h + 1], q[h + 2])
                                        }
                                        if (null !== l.index)
                                            for (h = 0,
                                            d = (m = l.index.array).length; h < d; h += 2)
                                                fe.pushLine(m[h], m[h + 1]);
                                        else {
                                            var $ = s instanceof xe.THREE.LineSegments ? 2 : 1;
                                            for (h = 0,
                                            d = X.length / 3 - 1; h < d; h += $)
                                                fe.pushLine(h, h + 1)
                                        }
                                    }
                                } else if (l instanceof xe.THREE.Geometry) {
                                    if (0 === (y = s.geometry.vertices).length)
                                        continue;
                                    (N = ve()).positionScreen.copy(y[0]).applyMatrix4(ue);
                                    for ($ = s instanceof xe.THREE.LineSegments ? 2 : 1,
                                    T = 1,
                                    S = y.length; T < S; T++)
                                        (N = ve()).positionScreen.copy(y[T]).applyMatrix4(ue),
                                        0 < (T + 1) % $ || (F = ie[K - 2],
                                        de.copy(N.positionScreen),
                                        pe.copy(F.positionScreen),
                                        !0 === we(de, pe) && (de.multiplyScalar(1 / de.w),
                                        pe.multiplyScalar(1 / pe.w),
                                        (J = be()).id = s.id,
                                        J.v1.positionScreen.copy(de),
                                        J.v2.positionScreen.copy(pe),
                                        J.z = Math.max(de.z, pe.z),
                                        J.renderOrder = s.renderOrder,
                                        J.material = s.material,
                                        s.material.vertexColors === xe.THREE.VertexColors && (J.vertexColors[0].copy(s.geometry.colors[T]),
                                        J.vertexColors[1].copy(s.geometry.colors[T - 1])),
                                        re.elements.push(J)))
                                }
                            } else if (s instanceof xe.THREE.Points) {
                                if (ue.multiplyMatrices(le, ne),
                                l instanceof xe.THREE.Geometry)
                                    for (T = 0,
                                    S = (y = s.geometry.vertices).length; T < S; T++) {
                                        E = y[T];
                                        oe.set(E.x, E.y, E.z, 1),
                                        oe.applyMatrix4(ue),
                                        ge(oe, s, t)
                                    }
                                else if (l instanceof xe.THREE.BufferGeometry) {
                                    if (void 0 !== (u = l.attributes).position) {
                                        var X;
                                        for (h = 0,
                                        d = (X = u.position.array).length; h < d; h += 3)
                                            oe.set(X[h], X[h + 1], X[h + 2], 1),
                                            oe.applyMatrix4(ue),
                                            ge(oe, s, t)
                                    }
                                }
                            } else
                                s instanceof xe.THREE.Sprite && (oe.set(ne.elements[12], ne.elements[13], ne.elements[14], 1),
                                oe.applyMatrix4(le),
                                ge(oe, s, t))
                        }
                        return !0 === i && re.elements.sort(_e),
                        re
                    }
                }
            }
        }]),
        t
    }()
      , p = n(313)
      , f = n.n(p);
    function m(e) {
        return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function g(e, t) {
        return function(e) {
            if (Array.isArray(e))
                return e
        }(e) || function(e, t) {
            if (!(Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)))
                return;
            var n = []
              , i = !0
              , r = !1
              , a = void 0;
            try {
                for (var o, s = e[Symbol.iterator](); !(i = (o = s.next()).done) && (n.push(o.value),
                !t || n.length !== t); i = !0)
                    ;
            } catch (e) {
                r = !0,
                a = e
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (r)
                        throw a
                }
            }
            return n
        }(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }
    function v(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function y(e, t) {
        return !t || "object" !== m(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function b(e, t, n) {
        return (b = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function _(e) {
        return (_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function w(e, t) {
        return (w = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    n.d(t, "a", function() {
        return x
    });
    var x = function() {
        function s(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, s);
            return t = a.a.merge({}, {
                containerSelector: ".photo-sphere-viewer-container",
                panorama: {
                    left: "/images/car/cubemap/right.jpg",
                    front: "/images/car/cubemap/back.jpg",
                    right: "/images/car/cubemap/left.jpg",
                    back: "/images/car/cubemap/front.jpg",
                    top: "/images/car/cubemap/up.jpg",
                    bottom: "/images/car/cubemap/down.jpg"
                },
                pluginInitEvent: "psv-init",
                pluginLoadEvent: "psv-load",
                imageClassName: "photo-sphere-viewer_stage_image",
                photoSphereViewerStageClassName: "photo-sphere-viewer_stage",
                loadingClassName: "loading",
                singleImageClass: "is-single"
            }, t),
            (i = y(this, _(s).call(this, e, t, n))).panoramaImageNames = ["right", "back", "left", "front", "up", "down"],
            i.singleImageDomInitialized = !1,
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && w(e, t)
        }(s, i["a"]),
        function(e, t, n) {
            t && v(e.prototype, t),
            n && v(e, n)
        }(s, [{
            key: "start",
            value: function() {
                var t = this;
                this.RendererCanvas = new c(u),
                this.Projectorr = new d(u),
                this.opts.initializeOnEvent ? (a.a.forEach(this.subscribers, function(e) {
                    t._publisher.unsubscribe(e)
                }),
                this.subscribers = [],
                this.subscribers.push(this.subscribe(this.opts.initializeOnEvent, this.triggerPhotoSphereView.bind(this)))) : (b(_(s.prototype), "start", this).call(this),
                this.init())
            }
        }, {
            key: "triggerPhotoSphereView",
            value: function(e, t) {
                var n = this
                  , i = g(t, 2)
                  , r = i[0]
                  , a = i[1];
                if (this.publish(this.opts.pluginInitEvent),
                this.initialized) {
                    var o = this;
                    1 !== a ? setTimeout(function() {
                        n.viewer.setPanorama(n.getPanorama(r, a)).then(function() {
                            o.resume(),
                            o.publish(o.opts.pluginLoadEvent)
                        })
                    }, 1) : this.init(r, a)
                } else
                    b(_(s.prototype), "start", this).call(this),
                    this.init(r, a),
                    this.initialized = !0
            }
        }, {
            key: "stop",
            value: function() {
                b(_(s.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                b(_(s.prototype), "resume", this).call(this)
            }
        }, {
            key: "init",
            value: function(e, t) {
                var n = this;
                1 !== t ? (n.viewer = new f.a({
                    container: l()(n.opts.containerSelector)[0],
                    panorama: n.getPanorama(e, t) || n.opts.panorama,
                    time_anim: !1,
                    default_long: Math.PI,
                    mousewheel: !1,
                    navbar: []
                }),
                n.viewer.on("ready", function() {
                    n.publish(n.opts.pluginLoadEvent)
                })) : (this.$element.addClass(this.opts.loadingClassName),
                this.singleImageDomInitialized || (this.$element.addClass(this.opts.singleImageClass),
                l()("<div/>", {
                    class: this.opts.photoSphereViewerStageClassName
                }).appendTo(this.$element),
                this.singleImageDomInitialized = !0),
                l()('<img src="' + e + 'front.jpg" class="' + n.opts.imageClassName + '">').on("load", function() {
                    n.$element.find("." + n.opts.photoSphereViewerStageClassName + " img").remove(),
                    l()(this).css("display", "block").appendTo("." + n.opts.photoSphereViewerStageClassName),
                    n.$element.removeClass(n.opts.loadingClassName),
                    n.publish(n.opts.pluginLoadEvent)
                }))
            }
        }, {
            key: "getPanorama",
            value: function(t, e) {
                return t ? 6 === e ? a.a.map(this.panoramaImageNames, function(e) {
                    return t + e + ".jpg"
                }) : t + "front.jpg" : null
            }
        }]),
        s
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(1)
      , r = n.n(i);
    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function o() {}
    o.prototype = {
        on: function(e, t, n) {
            var i = this.e || (this.e = {});
            return (i[e] || (i[e] = [])).push({
                fn: t,
                ctx: n
            }),
            this
        },
        once: function(e, t, n) {
            var i = this;
            function r() {
                i.off(e, r),
                t.apply(n, arguments)
            }
            return r._ = t,
            this.on(e, r, n)
        },
        emit: function(e) {
            for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, r = n.length; i < r; i++)
                n[i].fn.apply(n[i].ctx, t);
            return this
        },
        off: function(e, t) {
            var n = this.e || (this.e = {})
              , i = n[e]
              , r = [];
            if (i && t)
                for (var a = 0, o = i.length; a < o; a++)
                    i[a].fn !== t && i[a].fn._ !== t && r.push(i[a]);
            return r.length ? n[e] = r : delete n[e],
            this
        }
    };
    var s = o
      , l = "undefined" != typeof Element ? Element.prototype : {}
      , u = l.matches || l.matchesSelector || l.webkitMatchesSelector || l.mozMatchesSelector || l.msMatchesSelector || l.oMatchesSelector
      , c = function(e, t) {
        if (!e || 1 !== e.nodeType)
            return !1;
        if (u)
            return u.call(e, t);
        for (var n = e.parentNode.querySelectorAll(t), i = 0; i < n.length; i++)
            if (n[i] == e)
                return !0;
        return !1
    };
    function h(e, t) {
        var n, i, r, a, o = 0;
        return function() {
            n = this,
            i = arguments;
            var e = new Date - o;
            return a || (t <= e ? s() : a = setTimeout(s, t - e)),
            r
        }
        ;
        function s() {
            a = 0,
            o = +new Date,
            r = e.apply(n, i),
            i = n = null
        }
    }
    function d() {}
    function p(e) {
        return parseFloat(e) || 0
    }
    function f(e, t) {
        if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function")
    }
    var m = function(e, t, n) {
        return t && g(e.prototype, t),
        n && g(e, n),
        e
    };
    function g(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var v = (m(y, null, [{
        key: "equals",
        value: function(e, t) {
            return e.x === t.x && e.y === t.y
        }
    }]),
    y);
    function y(e, t) {
        f(this, y),
        this.x = p(e),
        this.y = p(t)
    }
    var b = (m(_, null, [{
        key: "intersects",
        value: function(e, t) {
            return e.left < t.left + t.width && t.left < e.left + e.width && e.top < t.top + t.height && t.top < e.top + e.height
        }
    }]),
    _);
    function _(e, t, n, i, r) {
        f(this, _),
        this.id = r,
        this.left = e,
        this.top = t,
        this.width = n,
        this.height = i
    }
    var w = {
        BASE: "shuffle",
        SHUFFLE_ITEM: "shuffle-item",
        VISIBLE: "shuffle-item--visible",
        HIDDEN: "shuffle-item--hidden"
    }
      , x = 0
      , T = (m(S, [{
        key: "show",
        value: function() {
            this.isVisible = !0,
            this.element.classList.remove(w.HIDDEN),
            this.element.classList.add(w.VISIBLE),
            this.element.removeAttribute("aria-hidden")
        }
    }, {
        key: "hide",
        value: function() {
            this.isVisible = !1,
            this.element.classList.remove(w.VISIBLE),
            this.element.classList.add(w.HIDDEN),
            this.element.setAttribute("aria-hidden", !0)
        }
    }, {
        key: "init",
        value: function() {
            this.addClasses([w.SHUFFLE_ITEM, w.VISIBLE]),
            this.applyCss(S.Css.INITIAL),
            this.scale = S.Scale.VISIBLE,
            this.point = new v
        }
    }, {
        key: "addClasses",
        value: function(e) {
            var t = this;
            e.forEach(function(e) {
                t.element.classList.add(e)
            })
        }
    }, {
        key: "removeClasses",
        value: function(e) {
            var t = this;
            e.forEach(function(e) {
                t.element.classList.remove(e)
            })
        }
    }, {
        key: "applyCss",
        value: function(t) {
            var n = this;
            Object.keys(t).forEach(function(e) {
                n.element.style[e] = t[e]
            })
        }
    }, {
        key: "dispose",
        value: function() {
            this.removeClasses([w.HIDDEN, w.VISIBLE, w.SHUFFLE_ITEM]),
            this.element.removeAttribute("style"),
            this.element = null
        }
    }]),
    S);
    function S(e) {
        f(this, S),
        x += 1,
        this.id = x,
        this.element = e,
        this.isVisible = !0,
        this.isHidden = !1
    }
    T.Css = {
        INITIAL: {
            position: "absolute",
            top: 0,
            visibility: "visible",
            "will-change": "transform"
        },
        VISIBLE: {
            before: {
                opacity: 1,
                visibility: "visible"
            },
            after: {
                transitionDelay: ""
            }
        },
        HIDDEN: {
            before: {
                opacity: 0
            },
            after: {
                visibility: "hidden",
                transitionDelay: ""
            }
        }
    },
    T.Scale = {
        VISIBLE: 1,
        HIDDEN: .001
    };
    var E = document.body || document.documentElement
      , C = document.createElement("div");
    C.style.cssText = "width:10px;padding:2px;box-sizing:border-box;",
    E.appendChild(C);
    var M = "10px" === window.getComputedStyle(C, null).width;
    function k(e, t, n) {
        var i = 2 < arguments.length && void 0 !== n ? n : window.getComputedStyle(e, null)
          , r = p(i[t]);
        return M || "width" !== t ? M || "height" !== t || (r += p(i.paddingTop) + p(i.paddingBottom) + p(i.borderTopWidth) + p(i.borderBottomWidth)) : r += p(i.paddingLeft) + p(i.paddingRight) + p(i.borderLeftWidth) + p(i.borderRightWidth),
        r
    }
    E.removeChild(C);
    var P = {
        reverse: !1,
        by: null,
        compare: null,
        randomize: !1,
        key: "element"
    };
    function A(e, t) {
        var r = Object.assign({}, P, t)
          , n = Array.from(e)
          , a = !1;
        return e.length ? r.randomize ? function(e) {
            for (var t = e.length; t; ) {
                t -= 1;
                var n = Math.floor(Math.random() * (t + 1))
                  , i = e[n];
                e[n] = e[t],
                e[t] = i
            }
            return e
        }(e) : ("function" == typeof r.by ? e.sort(function(e, t) {
            if (a)
                return 0;
            var n = r.by(e[r.key])
              , i = r.by(t[r.key]);
            return void 0 === n && void 0 === i ? (a = !0,
            0) : n < i || "sortFirst" === n || "sortLast" === i ? -1 : i < n || "sortLast" === n || "sortFirst" === i ? 1 : 0
        }) : "function" == typeof r.compare && e.sort(r.compare),
        a ? n : (r.reverse && e.reverse(),
        e)) : []
    }
    var I = {}
      , L = "transitionend"
      , O = 0;
    function R(e) {
        return !!I[e] && (I[e].element.removeEventListener(L, I[e].listener),
        !(I[e] = null))
    }
    function D(e, t) {
        function n(e) {
            e.currentTarget === e.target && (R(i),
            t(e))
        }
        var i = L + (O += 1);
        return e.addEventListener(L, n),
        I[i] = {
            element: e,
            listener: n
        },
        i
    }
    function N(e) {
        return Math.max.apply(Math, e)
    }
    function F(e, t, n, i) {
        var r = e / t;
        return Math.abs(Math.round(r) - r) < i && (r = Math.round(r)),
        Math.min(Math.ceil(r), n)
    }
    function B(e, t, n) {
        if (1 === t)
            return e;
        for (var i = [], r = 0; r <= n - t; r++)
            i.push(N(e.slice(r, r + t)));
        return i
    }
    function U(e, t) {
        for (var n = function(e) {
            return Math.min.apply(Math, e)
        }(e), i = 0, r = e.length; i < r; i++)
            if (e[i] >= n - t && e[i] <= n + t)
                return i;
        return 0
    }
    function j(e, c) {
        var h = {};
        e.forEach(function(e) {
            h[e.top] ? h[e.top].push(e) : h[e.top] = [e]
        });
        var d = []
          , p = []
          , f = [];
        return Object.keys(h).forEach(function(e) {
            var t = h[e];
            p.push(t);
            var n = t[t.length - 1]
              , i = n.left + n.width
              , r = Math.round((c - i) / 2)
              , a = t
              , o = !1;
            if (0 < r) {
                var s = [];
                (o = t.every(function(e) {
                    var t = new b(e.left + r,e.top,e.width,e.height,e.id)
                      , n = !d.some(function(e) {
                        return b.intersects(t, e)
                    });
                    return s.push(t),
                    n
                })) && (a = s)
            }
            if (!o) {
                var l = void 0;
                if (t.some(function(n) {
                    return d.some(function(e) {
                        var t = b.intersects(n, e);
                        return t && (l = e),
                        t
                    })
                })) {
                    var u = f.findIndex(function(e) {
                        return e.includes(l)
                    });
                    f.splice(u, 1, p[u])
                }
            }
            d = d.concat(a),
            f.push(a)
        }),
        [].concat.apply([], f).sort(function(e, t) {
            return e.id - t.id
        }).map(function(e) {
            return new v(e.left,e.top)
        })
    }
    function z(e) {
        return Array.from(new Set(e))
    }
    var H = 0
      , V = (function(e, t) {
        if ("function" != typeof t && null !== t)
            throw new TypeError("Super expression must either be null or a function, not " + a(t));
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }(G, s),
    m(G, [{
        key: "_init",
        value: function() {
            if (this.items = this._getItems(),
            this.options.sizer = this._getElementOption(this.options.sizer),
            this.element.classList.add(G.Classes.BASE),
            this._initItems(this.items),
            this._onResize = this._getResizeFunction(),
            window.addEventListener("resize", this._onResize),
            "complete" !== document.readyState) {
                var t = this.layout.bind(this);
                window.addEventListener("load", function e() {
                    window.removeEventListener("load", e),
                    t()
                })
            }
            var e = window.getComputedStyle(this.element, null)
              , n = G.getSize(this.element).width;
            this._validateStyles(e),
            this._setColumns(n),
            this.filter(this.options.group, this.options.initialSort),
            this.element.offsetWidth,
            this.setItemTransitions(this.items),
            this.element.style.transition = "height " + this.options.speed + "ms " + this.options.easing
        }
    }, {
        key: "_getResizeFunction",
        value: function() {
            var e = this._handleResize.bind(this);
            return this.options.throttle ? this.options.throttle(e, this.options.throttleTime) : e
        }
    }, {
        key: "_getElementOption",
        value: function(e) {
            return "string" == typeof e ? this.element.querySelector(e) : e && e.nodeType && 1 === e.nodeType ? e : e && e.jquery ? e[0] : null
        }
    }, {
        key: "_validateStyles",
        value: function(e) {
            "static" === e.position && (this.element.style.position = "relative"),
            "hidden" !== e.overflow && (this.element.style.overflow = "hidden")
        }
    }, {
        key: "_filter",
        value: function(e, t) {
            var n = 0 < arguments.length && void 0 !== e ? e : this.lastFilter
              , i = 1 < arguments.length && void 0 !== t ? t : this.items
              , r = this._getFilteredSets(n, i);
            return this._toggleFilterClasses(r),
            "string" == typeof (this.lastFilter = n) && (this.group = n),
            r
        }
    }, {
        key: "_getFilteredSets",
        value: function(t, e) {
            var n = this
              , i = []
              , r = [];
            return t === G.ALL_ITEMS ? i = e : e.forEach(function(e) {
                n._doesPassFilter(t, e.element) ? i.push(e) : r.push(e)
            }),
            {
                visible: i,
                hidden: r
            }
        }
    }, {
        key: "_doesPassFilter",
        value: function(e, t) {
            if ("function" == typeof e)
                return e.call(t, t, this);
            var n = t.getAttribute("data-" + G.FILTER_ATTRIBUTE_KEY)
              , i = this.options.delimiter ? n.split(this.options.delimiter) : JSON.parse(n);
            function r(e) {
                return i.includes(e)
            }
            return Array.isArray(e) ? this.options.filterMode === G.FilterMode.ANY ? e.some(r) : e.every(r) : i.includes(e)
        }
    }, {
        key: "_toggleFilterClasses",
        value: function(e) {
            var t = e.visible
              , n = e.hidden;
            t.forEach(function(e) {
                e.show()
            }),
            n.forEach(function(e) {
                e.hide()
            })
        }
    }, {
        key: "_initItems",
        value: function(e) {
            e.forEach(function(e) {
                e.init()
            })
        }
    }, {
        key: "_disposeItems",
        value: function(e) {
            e.forEach(function(e) {
                e.dispose()
            })
        }
    }, {
        key: "_updateItemCount",
        value: function() {
            this.visibleItems = this._getFilteredItems().length
        }
    }, {
        key: "setItemTransitions",
        value: function(e) {
            var t = this.options
              , n = t.speed
              , i = t.easing
              , r = this.options.useTransforms ? ["transform"] : ["top", "left"]
              , a = Object.keys(T.Css.HIDDEN.before).map(function(e) {
                return function(e) {
                    return e.replace(/([A-Z])/g, function(e, t) {
                        return "-" + t.toLowerCase()
                    })
                }(e)
            })
              , o = r.concat(a).join();
            e.forEach(function(e) {
                e.element.style.transitionDuration = n + "ms",
                e.element.style.transitionTimingFunction = i,
                e.element.style.transitionProperty = o
            })
        }
    }, {
        key: "_getItems",
        value: function() {
            var t = this;
            return Array.from(this.element.children).filter(function(e) {
                return c(e, t.options.itemSelector)
            }).map(function(e) {
                return new T(e)
            })
        }
    }, {
        key: "_mergeNewItems",
        value: function(e) {
            var t = Array.from(this.element.children);
            return A(this.items.concat(e), {
                by: function(e) {
                    return t.indexOf(e)
                }
            })
        }
    }, {
        key: "_getFilteredItems",
        value: function() {
            return this.items.filter(function(e) {
                return e.isVisible
            })
        }
    }, {
        key: "_getConcealedItems",
        value: function() {
            return this.items.filter(function(e) {
                return !e.isVisible
            })
        }
    }, {
        key: "_getColumnSize",
        value: function(e, t) {
            var n = void 0;
            return 0 === (n = "function" == typeof this.options.columnWidth ? this.options.columnWidth(e) : this.options.sizer ? G.getSize(this.options.sizer).width : this.options.columnWidth ? this.options.columnWidth : 0 < this.items.length ? G.getSize(this.items[0].element, !0).width : e) && (n = e),
            n + t
        }
    }, {
        key: "_getGutterSize",
        value: function(e) {
            return "function" == typeof this.options.gutterWidth ? this.options.gutterWidth(e) : this.options.sizer ? k(this.options.sizer, "marginLeft") : this.options.gutterWidth
        }
    }, {
        key: "_setColumns",
        value: function(e) {
            var t = 0 < arguments.length && void 0 !== e ? e : G.getSize(this.element).width
              , n = this._getGutterSize(t)
              , i = this._getColumnSize(t, n)
              , r = (t + n) / i;
            Math.abs(Math.round(r) - r) < this.options.columnThreshold && (r = Math.round(r)),
            this.cols = Math.max(Math.floor(r), 1),
            this.containerWidth = t,
            this.colWidth = i
        }
    }, {
        key: "_setContainerSize",
        value: function() {
            this.element.style.height = this._getContainerSize() + "px"
        }
    }, {
        key: "_getContainerSize",
        value: function() {
            return N(this.positions)
        }
    }, {
        key: "_getStaggerAmount",
        value: function(e) {
            return Math.min(e * this.options.staggerAmount, this.options.staggerAmountMax)
        }
    }, {
        key: "_dispatch",
        value: function(e, t) {
            var n = 1 < arguments.length && void 0 !== t ? t : {};
            this.isDestroyed || (n.shuffle = this).emit(e, n)
        }
    }, {
        key: "_resetCols",
        value: function() {
            var e = this.cols;
            for (this.positions = []; e; )
                e -= 1,
                this.positions.push(0)
        }
    }, {
        key: "_layout",
        value: function(e) {
            var r = this
              , a = this._getNextPositions(e)
              , o = 0;
            e.forEach(function(e, t) {
                function n() {
                    e.applyCss(T.Css.VISIBLE.after)
                }
                if (v.equals(e.point, a[t]) && !e.isHidden)
                    return e.applyCss(T.Css.VISIBLE.before),
                    void n();
                e.point = a[t],
                e.scale = T.Scale.VISIBLE,
                e.isHidden = !1;
                var i = r.getStylesForTransition(e, T.Css.VISIBLE.before);
                i.transitionDelay = r._getStaggerAmount(o) + "ms",
                r._queue.push({
                    item: e,
                    styles: i,
                    callback: n
                }),
                o += 1
            })
        }
    }, {
        key: "_getNextPositions",
        value: function(e) {
            var r = this;
            if (this.options.isCentered) {
                var t = e.map(function(e, t) {
                    var n = G.getSize(e.element, !0)
                      , i = r._getItemPosition(n);
                    return new b(i.x,i.y,n.width,n.height,t)
                });
                return this.getTransformedPositions(t, this.containerWidth)
            }
            return e.map(function(e) {
                return r._getItemPosition(G.getSize(e.element, !0))
            })
        }
    }, {
        key: "_getItemPosition",
        value: function(e) {
            return function(e) {
                for (var t = e.itemSize, n = e.positions, i = e.gridSize, r = e.total, a = e.threshold, o = e.buffer, s = F(t.width, i, r, a), l = B(n, s, r), u = U(l, o), c = new v(i * u,l[u]), h = l[u] + t.height, d = 0; d < s; d++)
                    n[u + d] = h;
                return c
            }({
                itemSize: e,
                positions: this.positions,
                gridSize: this.colWidth,
                total: this.cols,
                threshold: this.options.columnThreshold,
                buffer: this.options.buffer
            })
        }
    }, {
        key: "getTransformedPositions",
        value: function(e, t) {
            return j(e, t)
        }
    }, {
        key: "_shrink",
        value: function(e) {
            var i = this
              , t = 0 < arguments.length && void 0 !== e ? e : this._getConcealedItems()
              , r = 0;
            t.forEach(function(e) {
                function t() {
                    e.applyCss(T.Css.HIDDEN.after)
                }
                if (e.isHidden)
                    return e.applyCss(T.Css.HIDDEN.before),
                    void t();
                e.scale = T.Scale.HIDDEN,
                e.isHidden = !0;
                var n = i.getStylesForTransition(e, T.Css.HIDDEN.before);
                n.transitionDelay = i._getStaggerAmount(r) + "ms",
                i._queue.push({
                    item: e,
                    styles: n,
                    callback: t
                }),
                r += 1
            })
        }
    }, {
        key: "_handleResize",
        value: function() {
            this.isEnabled && !this.isDestroyed && this.update()
        }
    }, {
        key: "getStylesForTransition",
        value: function(e, t) {
            var n = Object.assign({}, t)
              , i = this.options.isRTL ? "right" : "left";
            if (this.options.useTransforms) {
                var r = this.options.roundTransforms ? Math.round(e.point.x) : e.point.x
                  , a = this.options.roundTransforms ? Math.round(e.point.y) : e.point.y;
                n.transform = "translate(" + r + "px, " + a + "px) scale(" + e.scale + ")"
            } else
                n[i] = e.point.x + "px",
                n.top = e.point.y + "px";
            return n
        }
    }, {
        key: "_whenTransitionDone",
        value: function(e, t, n) {
            var i = D(e, function(e) {
                t(),
                n(null, e)
            });
            this._transitions.push(i)
        }
    }, {
        key: "_getTransitionFunction",
        value: function(t) {
            var n = this;
            return function(e) {
                t.item.applyCss(t.styles),
                n._whenTransitionDone(t.item.element, t.callback, e)
            }
        }
    }, {
        key: "_processQueue",
        value: function() {
            this.isTransitioning && this._cancelMovement();
            var e = 0 < this.options.speed
              , t = 0 < this._queue.length;
            t && e && this.isInitialized ? this._startTransitions(this._queue) : (t && this._styleImmediately(this._queue),
            this._dispatch(G.EventType.LAYOUT)),
            this._queue.length = 0
        }
    }, {
        key: "_startTransitions",
        value: function(e) {
            var t = this;
            this.isTransitioning = !0,
            function(e, n, i) {
                i || ("function" == typeof n ? (i = n,
                n = null) : i = d);
                var r = e && e.length;
                if (!r)
                    return i(null, []);
                var a = !1
                  , o = new Array(r);
                function s(n) {
                    return function(e, t) {
                        if (!a) {
                            if (e)
                                return i(e, o),
                                void (a = !0);
                            o[n] = t,
                            --r || i(null, o)
                        }
                    }
                }
                e.forEach(n ? function(e, t) {
                    e.call(n, s(t))
                }
                : function(e, t) {
                    e(s(t))
                }
                )
            }(e.map(function(e) {
                return t._getTransitionFunction(e)
            }), this._movementFinished.bind(this))
        }
    }, {
        key: "_cancelMovement",
        value: function() {
            this._transitions.forEach(R),
            this._transitions.length = 0,
            this.isTransitioning = !1
        }
    }, {
        key: "_styleImmediately",
        value: function(e) {
            if (e.length) {
                var t = e.map(function(e) {
                    return e.item.element
                });
                G._skipTransitions(t, function() {
                    e.forEach(function(e) {
                        e.item.applyCss(e.styles),
                        e.callback()
                    })
                })
            }
        }
    }, {
        key: "_movementFinished",
        value: function() {
            this._transitions.length = 0,
            this.isTransitioning = !1,
            this._dispatch(G.EventType.LAYOUT)
        }
    }, {
        key: "filter",
        value: function(e, t) {
            this.isEnabled && ((!e || e && 0 === e.length) && (e = G.ALL_ITEMS),
            this._filter(e),
            this._shrink(),
            this._updateItemCount(),
            this.sort(t))
        }
    }, {
        key: "sort",
        value: function(e) {
            var t = 0 < arguments.length && void 0 !== e ? e : this.lastSort;
            if (this.isEnabled) {
                this._resetCols();
                var n = A(this._getFilteredItems(), t);
                this._layout(n),
                this._processQueue(),
                this._setContainerSize(),
                this.lastSort = t
            }
        }
    }, {
        key: "update",
        value: function(e) {
            var t = 0 < arguments.length && void 0 !== e && e;
            this.isEnabled && (t || this._setColumns(),
            this.sort())
        }
    }, {
        key: "layout",
        value: function() {
            this.update(!0)
        }
    }, {
        key: "add",
        value: function(e) {
            var n = this
              , t = z(e).map(function(e) {
                return new T(e)
            });
            function i(e) {
                return t.includes(e)
            }
            function r(e) {
                e.scale = T.Scale.HIDDEN,
                e.isHidden = !0,
                e.applyCss(T.Css.HIDDEN.before),
                e.applyCss(T.Css.HIDDEN.after)
            }
            this._initItems(t),
            this._resetCols();
            var a = A(this._mergeNewItems(t), this.lastSort)
              , o = this._filter(this.lastFilter, a)
              , s = this._getNextPositions(o.visible);
            o.visible.forEach(function(e, t) {
                i(e) && (e.point = s[t],
                r(e),
                e.applyCss(n.getStylesForTransition(e, {})))
            }),
            o.hidden.forEach(function(e) {
                i(e) && r(e)
            }),
            this.element.offsetWidth,
            this.setItemTransitions(t),
            this.items = this._mergeNewItems(t),
            this.filter(this.lastFilter)
        }
    }, {
        key: "disable",
        value: function() {
            this.isEnabled = !1
        }
    }, {
        key: "enable",
        value: function(e) {
            var t = !(0 < arguments.length && void 0 !== e) || e;
            this.isEnabled = !0,
            t && this.update()
        }
    }, {
        key: "remove",
        value: function(e) {
            var t = this;
            if (e.length) {
                var n = z(e)
                  , i = n.map(function(e) {
                    return t.getItemByElement(e)
                }).filter(function(e) {
                    return !!e
                });
                this._toggleFilterClasses({
                    visible: [],
                    hidden: i
                }),
                this._shrink(i),
                this.sort(),
                this.items = this.items.filter(function(e) {
                    return !i.includes(e)
                }),
                this._updateItemCount(),
                this.once(G.EventType.LAYOUT, function() {
                    t._disposeItems(i),
                    n.forEach(function(e) {
                        e.parentNode.removeChild(e)
                    }),
                    t._dispatch(G.EventType.REMOVED, {
                        collection: n
                    })
                })
            }
        }
    }, {
        key: "getItemByElement",
        value: function(t) {
            return this.items.find(function(e) {
                return e.element === t
            })
        }
    }, {
        key: "resetItems",
        value: function() {
            var e = this;
            this._disposeItems(this.items),
            this.isInitialized = !1,
            this.items = this._getItems(),
            this._initItems(this.items),
            this.once(G.EventType.LAYOUT, function() {
                e.setItemTransitions(e.items),
                e.isInitialized = !0
            }),
            this.filter(this.lastFilter)
        }
    }, {
        key: "destroy",
        value: function() {
            this._cancelMovement(),
            window.removeEventListener("resize", this._onResize),
            this.element.classList.remove("shuffle"),
            this.element.removeAttribute("style"),
            this._disposeItems(this.items),
            this.items.length = 0,
            this._transitions.length = 0,
            this.options.sizer = null,
            this.element = null,
            this.isDestroyed = !0,
            this.isEnabled = !1
        }
    }], [{
        key: "getSize",
        value: function(e, t) {
            var n = 1 < arguments.length && void 0 !== t && t
              , i = window.getComputedStyle(e, null)
              , r = k(e, "width", i)
              , a = k(e, "height", i);
            return n && (r += k(e, "marginLeft", i) + k(e, "marginRight", i),
            a += k(e, "marginTop", i) + k(e, "marginBottom", i)),
            {
                width: r,
                height: a
            }
        }
    }, {
        key: "_skipTransitions",
        value: function(e, t) {
            var n = e.map(function(e) {
                var t = e.style
                  , n = t.transitionDuration
                  , i = t.transitionDelay;
                return t.transitionDuration = "0ms",
                t.transitionDelay = "0ms",
                {
                    duration: n,
                    delay: i
                }
            });
            t(),
            e[0].offsetWidth,
            e.forEach(function(e, t) {
                e.style.transitionDuration = n[t].duration,
                e.style.transitionDelay = n[t].delay
            })
        }
    }]),
    G);
    function G(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
        f(this, G);
        var n = function(e, t) {
            if (!e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" !== a(t) && "function" != typeof t ? e : t
        }(this, (G.__proto__ || Object.getPrototypeOf(G)).call(this));
        n.options = Object.assign({}, G.options, t),
        n.options.delimeter && (n.options.delimiter = n.options.delimeter),
        n.lastSort = {},
        n.group = G.ALL_ITEMS,
        n.lastFilter = G.ALL_ITEMS,
        n.isEnabled = !0,
        n.isDestroyed = !1,
        n.isInitialized = !1,
        n._transitions = [],
        n.isTransitioning = !1,
        n._queue = [];
        var i = n._getElementOption(e);
        if (!i)
            throw new TypeError("Shuffle needs to be initialized with an element.");
        return n.element = i,
        n.id = "shuffle_" + H,
        H += 1,
        n._init(),
        n.isInitialized = !0,
        n
    }
    V.ShuffleItem = T,
    V.ALL_ITEMS = "all",
    V.FILTER_ATTRIBUTE_KEY = "groups",
    V.EventType = {
        LAYOUT: "shuffle:layout",
        REMOVED: "shuffle:removed"
    },
    V.Classes = w,
    V.FilterMode = {
        ANY: "any",
        ALL: "all"
    },
    V.options = {
        group: V.ALL_ITEMS,
        speed: 250,
        easing: "cubic-bezier(0.4, 0.0, 0.2, 1)",
        itemSelector: "*",
        sizer: null,
        gutterWidth: 0,
        columnWidth: 0,
        delimiter: null,
        buffer: 0,
        columnThreshold: .01,
        initialSort: null,
        throttle: h,
        throttleTime: 300,
        staggerAmount: 15,
        staggerAmountMax: 150,
        useTransforms: !0,
        filterMode: V.FilterMode.ANY,
        isCentered: !1,
        roundTransforms: !0,
        isRTL: !1
    },
    V.Point = v,
    V.Rect = b,
    V.__sorter = A,
    V.__getColumnSpan = F,
    V.__getAvailablePositions = B,
    V.__getShortColumn = U,
    V.__getCenteredPositions = j;
    var W = V
      , q = n(158)
      , $ = n.n(q)
      , X = n(3);
    function Y(e) {
        return (Y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function K(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function Z(e, t) {
        return !t || "object" !== Y(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function Q(e, t, n) {
        return (Q = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = J(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function J(e) {
        return (J = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function ee(e, t) {
        return (ee = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    n.d(t, "a", function() {
        return te
    });
    var te = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = r.a.merge({}, {
                initializeOnEvent: "",
                rearrangeOnEvent: "",
                shuffleOpts: {
                    isRTL: !0,
                    itemSelector: ".box-social",
                    buffer: 1,
                    useTransforms: !1
                }
            }, t),
            Z(this, J(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && ee(e, t)
        }(i, X["a"]),
        function(e, t, n) {
            t && K(e.prototype, t),
            n && K(e, n)
        }(i, [{
            key: "start",
            value: function() {
                Q(J(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                Q(J(i.prototype), "stop", this).call(this),
                this.shuffle.destroy()
            }
        }, {
            key: "resume",
            value: function() {
                Q(J(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.direction = this.opts.shuffleOpts.isRTL ? "right" : "left",
                this.opts.initializeOnEvent && "string" == typeof this.opts.initializeOnEvent ? this.subscribe(this.opts.initializeOnEvent, this.create.bind(this)) : this.create(),
                this.opts.rearrangeOnEvent && "string" == typeof this.opts.rearrangeOnEvent && this.subscribe(this.opts.rearrangeOnEvent, this.arrange.bind(this))
            }
        }, {
            key: "create",
            value: function() {
                this.shuffle ? this.arrange() : (W.ShuffleItem.Css.INITIAL[this.direction] = 0,
                this.shuffle = new W(this.$element[0],this.opts.shuffleOpts),
                this.shuffle.update(),
                this.refreshAfterImgLoad())
            }
        }, {
            key: "arrange",
            value: function() {
                if (this.shuffle) {
                    var e = this.$element.find(this.opts.shuffleOpts.itemSelector + ":not(.shuffle-item)");
                    this.shuffle.add(e),
                    this.shuffle.update(),
                    this.refreshAfterImgLoad()
                } else
                    this.create()
            }
        }, {
            key: "refreshAfterImgLoad",
            value: function() {
                var e = this;
                $()(this.$element, function() {
                    e.shuffle.layout()
                })
            }
        }]),
        i
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(3)
      , r = n(1)
      , c = n.n(r)
      , a = n(0)
      , s = n.n(a);
    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    var l = new (function() {
        function e() {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.urlPropName = "",
            this.status = "pending"
        }
        return function(e, t, n) {
            t && o(e.prototype, t),
            n && o(e, n)
        }(e, [{
            key: "init",
            value: function(e) {
                var t = this;
                if (this.setUrlPropName(e.exportUrl, e.cmsUrl),
                e.url && e.url.length) {
                    var n = e.url;
                    this.httpGet(n).then(function(e) {
                        t.visualization = JSON.parse(e),
                        t.postInit()
                    }, function(e) {
                        t.status = "error",
                        console.error("Cannot get visualization data from url: " + n),
                        console.error("Error: ".concat(e))
                    })
                } else if (e.data)
                    this.visualization = e.data,
                    setTimeout(function() {
                        t.postInit()
                    }, 1);
                else {
                    if (!window.visualization)
                        throw this.status = "error",
                        new Error("Error while fetching visualization data");
                    this.visualization = window.visualization,
                    setTimeout(function() {
                        t.postInit()
                    }, 1)
                }
            }
        }, {
            key: "setUrlPropName",
            value: function(e, t) {
                var n = window.location.hostname;
                function i(e) {
                    return (e = e.replace(/(https?:\/\/)?(www.)?/i, "")).split("/")[0]
                }
                c.a.isString(e) && 0 < e.length && i(n) === i(e) ? this.urlPropName = "urlDraft" : c.a.isString(t) && 0 < t.length && i(n) === i(t) ? this.urlPropName = "url" : this.urlPropName = "urlProd"
            }
        }, {
            key: "postInit",
            value: function() {
                this.current = {
                    color: this.visualization.colors[0],
                    upholstery: this.visualization.upholsteries[0],
                    wheel: this.visualization.wheels && this.visualization.wheels[0]
                },
                this.setCascadeActive("color", this.current.color.id),
                this.status = "ready"
            }
        }, {
            key: "httpGet",
            value: function(i) {
                return new Promise(function(t, n) {
                    var e = new XMLHttpRequest;
                    e.open("GET", i, !0),
                    e.onload = function() {
                        if (200 === this.status)
                            t(this.response);
                        else {
                            var e = new Error(this.statusText);
                            e.code = this.status,
                            n(e)
                        }
                    }
                    ,
                    e.onerror = function() {
                        n(new Error("Network Error"))
                    }
                    ,
                    e.send()
                }
                )
            }
        }, {
            key: "getItemByTypeAndId",
            value: function(e, t) {
                switch (e) {
                case "color":
                    return c.a.find(this.visualization.colors, function(e) {
                        return e.id === t
                    });
                case "wheels":
                    return c.a.find(this.visualization.wheels, function(e) {
                        return e.id === t
                    });
                case "upholstery":
                    return c.a.find(this.visualization.upholsteries, function(e) {
                        return e.id === t
                    });
                default:
                    return null
                }
            }
        }, {
            key: "getActiveItemByType",
            value: function(e) {
                switch (e) {
                case "color":
                    return this.current.color;
                case "wheels":
                    return this.current.wheel;
                case "upholstery":
                    return this.current.upholstery;
                default:
                    return null
                }
            }
        }, {
            key: "setCascadeActive",
            value: function(e, t) {
                var n = this;
                if (t = t.toString(),
                "color" === e) {
                    if (this.current.color = c.a.find(this.visualization.colors, function(e) {
                        return e.id === t
                    }),
                    this.wheelsExist()) {
                        var i = c.a.find(c.a.flatten(this.visualization.exterior), function(e) {
                            return e.id === n.current.color.id
                        }).imageSet
                          , r = c.a.find(i, function(e) {
                            return e.id === n.current.upholstery.id
                        }) || i[0];
                        this.current.upholstery = c.a.find(this.visualization.upholsteries, function(e) {
                            return e.id === r.id
                        });
                        var a = c.a.find(r.images, function(e) {
                            return e.id === n.current.wheel.id
                        }) || r.images[0];
                        this.current.wheel = c.a.find(this.visualization.wheels, function(e) {
                            return e.id === a.id
                        })
                    }
                } else if ("upholstery" === e) {
                    if (this.current.upholstery = c.a.find(this.visualization.upholsteries, function(e) {
                        return e.id === t
                    }),
                    this.wheelsExist()) {
                        var o = c.a.chain(this.visualization.exterior).flatten().filter(function(e) {
                            return c.a.some(e.imageSet, function(e) {
                                return e.id === t
                            })
                        }).map(function(e) {
                            return e.id
                        }).value();
                        c.a.includes(o, this.current.color.id) || (this.current.color = c.a.find(this.visualization.colors, function(e) {
                            return e.id === o[0]
                        }));
                        var s = c.a.map(c.a.find(c.a.find(this.visualization.exterior, function(e) {
                            return e.id === n.current.color.id
                        }).imageSet, function(e) {
                            return e.id === n.current.upholstery.id
                        }).images, function(e) {
                            return e.id
                        });
                        c.a.includes(s, this.current.wheel.id) || (this.current.wheel = c.a.find(this.visualization.wheels, function(e) {
                            return e.id === s[0]
                        }))
                    }
                } else if ("wheels" === e && this.wheelsExist()) {
                    this.current.wheel = c.a.find(this.visualization.wheels, function(e) {
                        return e.id === t
                    });
                    var l = c.a.chain(this.visualization.exterior).flatten().map(function(e) {
                        return {
                            id: e.id,
                            images: c.a.chain(e.imageSet).map(function(e) {
                                return e.images
                            }).reduce(function(e, t) {
                                return e.concat(t)
                            }, []).uniqBy("id").value()
                        }
                    }).filter(function(e) {
                        return c.a.some(e.images, function(e) {
                            return e.id === t
                        })
                    }).map(function(e) {
                        return e.id
                    }).value();
                    c.a.includes(l, this.current.color.id) || (this.current.color = c.a.find(this.visualization.colors, function(e) {
                        return e.id === l[0]
                    }));
                    var u = c.a.chain(c.a.filter(c.a.find(this.visualization.exterior, function(e) {
                        return e.id === n.current.color.id
                    }).imageSet, function(e) {
                        return c.a.some(e.images, function(e) {
                            return e.id === t
                        })
                    })).map(function(e) {
                        return e.id
                    }).value();
                    c.a.includes(u, this.current.upholstery.id) || (this.current.upholstery = c.a.find(this.visualization.upholsteries, function(e) {
                        return e.id === u[0]
                    }))
                }
            }
        }, {
            key: "getCurrentBaseUrl",
            value: function(e) {
                var t, n = e ? "exterior" : "interior";
                if (this.wheelsExist()) {
                    var i = c.a.find(this.visualization[n], {
                        id: this.current.color.id
                    })
                      , r = c.a.find(i.imageSet, {
                        id: this.current.upholstery.id
                    })
                      , a = c.a.find(r.images, {
                        id: this.current.wheel.id
                    });
                    t = i[this.getImageProp()] + r[this.getImageProp()] + a[this.getImageProp()]
                } else if (e) {
                    t = c.a.find(this.visualization[n], {
                        id: this.current.color.id
                    })[this.getImageProp()] + "_"
                } else {
                    t = c.a.find(this.visualization[n], {
                        id: this.current.upholstery.id
                    })[this.getImageProp()] + "_"
                }
                return this["last" + (e ? "Exterior" : "Interior") + "Url"] = t
            }
        }, {
            key: "getCurrentImageSetType",
            value: function(e) {
                var t = e ? "exterior" : "interior"
                  , n = e ? 24 : 6;
                return parseInt(this.visualization[t][0].imageSetType || n, 10)
            }
        }, {
            key: "getImageProp",
            value: function() {
                return this.urlPropName
            }
        }, {
            key: "wheelsExist",
            value: function() {
                return this.visualization && this.visualization.wheels && 0 < this.visualization.wheels.length
            }
        }]),
        e
    }());
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    n.d(t, "a", function() {
        return g
    });
    var g = function() {
        function r(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, r);
            return t = c.a.merge({}, {
                url: null,
                cmsUrl: "",
                exportUrl: "",
                navTriggerSelector: ".nav-tabs_item_link",
                navTabsSelector: ".nav-tabs",
                swiperSlideTriggerSelector: ".swiper-slide .swiper-slide_image",
                swiperSlideWrapperSelector: ".swiper-slide-wrapper",
                containerSelector: ".swiper-slide-container",
                optionNameSelector: ".control-block_option-name",
                optionContentSelector: ".control-block_content_option",
                mainContentSelector: ".visualiser-container_main-content",
                controlsSelector: ".visualiser-container_controls",
                hintOverlaySelector: ".visualiser-container_main-content_hint-overlay",
                turnOverlaySelector: ".visualiser-container_main-content_turn-overlay",
                spritespinStageImageSelector: ".spritespin-stage img",
                latestVisibleImageClass: "is-latest-visible",
                activeClass: "is-active",
                rtlClass: "is-rtl",
                activeDataType: "color",
                spritespinContainerSelector: ".spritespin-container",
                photoSphereViewerContainerSelector: ".photo-sphere-viewer-container",
                loadingClass: "loading",
                interiorSelector: ".visualiser-container_main-content_interior",
                exteriorSelector: ".visualiser-container_main-content_exterior",
                data: null,
                exteriorPluginInitEvent: "threesixty-init",
                exteriorPluginLoadEvent: "threesixty-load",
                exteriorImageLoadEvent: "threesixty-image-load",
                interiorPluginInitEvent: "psv-init",
                interiorPluginLoadEvent: "psv-load",
                loaderBarSelector: ".loader-panel_center-block_vertical1_vertical2_loader-bar_loader-fill",
                loaderPanelSelector: ".loader-panel",
                photoSphereViewerStageSelector: ".photo-sphere-viewer_stage",
                canvasSelector: "canvas.psv-canvas",
                fadeOutTime: 1e3,
                fadeInTime: 500,
                minContainerWidth: 200,
                isRTL: !1,
                visualizerChangeEnd: !0,
                eventsArray: [],
                firstEvent: [],
                dataLayer: {
                    pageCat: "",
                    carCode: "",
                    carLabel: ""
                }
            }, t),
            l.init(t),
            (i = function(e, t) {
                return !t || "object" !== u(t) && "function" != typeof t ? d(e) : t
            }(this, f(r).call(this, e, t, n))).activeType = "color",
            i.swiperSlideClickHandler = i.swiperSlideClickHandler.bind(d(i)),
            i.navClickHandler = i.navClickHandler.bind(d(i)),
            i.windowResizeHandler = i.windowResizeHandler.bind(d(i)),
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(r, i["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(r, [{
            key: "start",
            value: function() {
                p(f(r.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                p(f(r.prototype), "stop", this).call(this),
                window.removeEventListener("resize", this.windowResizeHandler)
            }
        }, {
            key: "resume",
            value: function() {
                p(f(r.prototype), "resume", this).call(this)
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                window.dataLayer = window.dataLayer || [],
                this.$navTriggers = this.$element.find(this.opts.navTriggerSelector),
                this.$contentPanels = this.$element.find(this.opts.containerSelector);
                var t = this.opts.isRTL
                  , a = t ? c.a.forEachRight : c.a.forEach;
                t && this.$element.find(this.opts.navTabsSelector).addClass(this.opts.rtlClass),
                this.$navTriggers.parent().find('[data-type="' + this.opts.activeDataType + '"]').parent().addClass(this.opts.activeClass);
                var n = this.$element.find(this.opts.mainContentSelector);
                this.on(n, "click", function() {
                    0 === e.opts.firstEvent.length && (e.opts.firstEvent.push("first"),
                    1 === e.opts.firstEvent.length && e.setFirstEventDataLayer())
                });
                var o = this;
                !function e() {
                    if ("pending" === l.status)
                        setTimeout(e, 250);
                    else if ("ready" === l.status) {
                        a(l.visualization.colors, function(e) {
                            o.drawSwiperSlide(e.id, "color", e[l.getImageProp()])
                        }),
                        o.activateSwiperSlide("color", l.current.color.id),
                        a(l.visualization.upholsteries, function(e) {
                            o.drawSwiperSlide(e.id, "upholstery", e[l.getImageProp()])
                        }),
                        o.activateSwiperSlide("upholstery", l.current.upholstery.id),
                        l.wheelsExist() && (a(l.visualization.wheels, function(e) {
                            o.drawSwiperSlide(e.id, "wheels", e[l.getImageProp()])
                        }),
                        o.activateSwiperSlide("wheels", l.current.wheel.id),
                        o.$element.find(o.opts.swiperSlideWrapperSelector + '[data-type="wheels"]').parent().parent().show(),
                        s()(o.opts.navTriggerSelector + '[data-type="wheels"]').parent().show()),
                        o.$element.find(o.opts.optionNameSelector).text(l.current.color.name),
                        o.reloadMainContent("color");
                        var t = 0
                          , n = l.getCurrentImageSetType(!0)
                          , i = !0
                          , r = o.subscribe(o.opts.exteriorImageLoadEvent, function() {
                            t++,
                            o.$element.find(o.opts.loaderBarSelector).width(t / n * 100 + "%")
                        });
                        o.subscribe(o.opts.interiorPluginInitEvent, function() {
                            if ("upholstery" === o.prevActiveType) {
                                o.$element.find(o.opts.interiorSelector).addClass(o.opts.loadingClass);
                                var e, t = s()("<img />");
                                if (1 === l.getCurrentImageSetType(!1)) {
                                    var n = o.$element.find(o.opts.interiorSelector).find("img");
                                    t.attr("src", n.attr("src")),
                                    e = o.$element.find(o.opts.photoSphereViewerStageSelector).height()
                                } else {
                                    try {
                                        t.attr("src", o.$element.find(o.opts.canvasSelector)[0].toDataURL("image/png"))
                                    } catch (e) {}
                                    e = o.$element.find(o.opts.photoSphereViewerContainerSelector).height()
                                }
                                t.css("position", "absolute"),
                                t.css("z-index", 2e3),
                                t.width(s()(o.opts.photoSphereViewerContainerSelector).width()),
                                t.height(e),
                                o.$element.find(o.opts.interiorSelector).prepend(t)
                            } else
                                o.$element.find(o.opts.spritespinContainerSelector).addClass(o.opts.loadingClass);
                            o.showOverlay()
                        }),
                        o.subscribe(o.opts.interiorPluginLoadEvent, function() {
                            o.windowResizeHandler(),
                            "upholstery" === o.prevActiveType ? (o.$element.find(o.opts.interiorSelector).removeClass(o.opts.loadingClass),
                            o.$element.find(o.opts.interiorSelector + "> img").fadeOut(o.opts.fadeOutTime, function() {
                                o.opts.visualizerChangeEnd = !0,
                                s()(this).remove()
                            })) : (o.$element.find(o.opts.spritespinContainerSelector).fadeOut(o.opts.fadeOutTime, function() {
                                o.opts.visualizerChangeEnd = !0,
                                s()(this).removeClass(o.opts.loadingClass),
                                o.$element.find(o.opts.spritespinContainerSelector).css("display", "block")
                            }),
                            o.$element.find(o.opts.interiorSelector).addClass(o.opts.activeClass).hide().css("visibility", "visible").fadeIn(o.opts.fadeInTime)),
                            o.hideOverlay()
                        }),
                        o.subscribe(o.opts.exteriorPluginInitEvent, function() {
                            if ("upholstery" === o.prevActiveType)
                                o.$element.find(o.opts.interiorSelector).addClass(o.opts.loadingClass);
                            else if (!i) {
                                var e = s()(o.opts.spritespinContainerSelector + " img:visible")
                                  , t = e.clone().width(e.width()).height(e.height());
                                t.css("position", "absolute"),
                                t.css("z-index", 2e3),
                                o.$element.find(o.opts.spritespinContainerSelector).parent().prepend(t)
                            }
                            o.windowResizeHandler(),
                            o.showOverlay()
                        }),
                        o.subscribe(o.opts.exteriorPluginLoadEvent, function() {
                            if (o.windowResizeHandler(),
                            "upholstery" === o.prevActiveType)
                                o.$element.find(o.opts.interiorSelector).fadeOut(o.opts.fadeOutTime, function() {
                                    s()(this).removeClass(o.opts.loadingClass),
                                    o.$element.find(o.opts.interiorSelector).css("display", "block").css("visibility", "hidden"),
                                    o.opts.visualizerChangeEnd = !0
                                }),
                                o.$element.find(o.opts.spritespinContainerSelector).addClass(o.opts.activeClass).fadeIn(o.opts.fadeInTime);
                            else {
                                if (i && 1 !== n) {
                                    var e = o.$element.find(o.opts.hintOverlaySelector);
                                    e.addClass(o.opts.activeClass),
                                    o.$element.on("click", function() {
                                        s()(window).width() > o.opts.minContainerWidth && (e.removeClass(o.opts.activeClass),
                                        o.$element.off("click"))
                                    }),
                                    o.$element.find(o.opts.spritespinStageImageSelector + ":visible").addClass(o.opts.latestVisibleImageClass),
                                    o.$element.find(o.opts.spritespinStageImageSelector).show(),
                                    setTimeout(function() {
                                        o.$element.find(o.opts.spritespinStageImageSelector + ":not(.".concat(o.opts.latestVisibleImageClass, ")")).hide(),
                                        o.$element.find(o.opts.spritespinStageImageSelector + ":visible").removeClass(o.opts.latestVisibleImageClass),
                                        o.$element.find(o.opts.loaderPanelSelector).removeClass(o.opts.activeClass),
                                        o.opts.visualizerChangeEnd = !0
                                    }, o.opts.fadeOutTime)
                                } else if (i && 1 === n)
                                    o.$element.find(o.opts.loaderPanelSelector).removeClass(o.opts.activeClass),
                                    o.opts.visualizerChangeEnd = !0;
                                else if (i)
                                    o.opts.visualizerChangeEnd = !0;
                                else {
                                    o.$element.find(o.opts.spritespinStageImageSelector + ":visible").addClass(o.opts.latestVisibleImageClass),
                                    o.$element.find(o.opts.spritespinStageImageSelector).show(),
                                    setTimeout(function() {
                                        o.$element.find(o.opts.spritespinStageImageSelector + ":not(.".concat(o.opts.latestVisibleImageClass, ")")).hide(),
                                        o.$element.find(o.opts.spritespinStageImageSelector + ":visible").removeClass(o.opts.latestVisibleImageClass)
                                    }, o.opts.fadeOutTime);
                                    var t = o.$element.find(o.opts.spritespinContainerSelector).parent().find("> img");
                                    t.fadeOut(o.opts.fadeOutTime, function() {
                                        o.opts.visualizerChangeEnd = !0,
                                        t.remove()
                                    })
                                }
                                o.$element.find(o.opts.spritespinContainerSelector).css("visibility", "visible").hide().fadeIn(o.opts.fadeInTime),
                                o.$element.find(o.opts.loaderPanelSelector).removeClass(o.opts.activeClass)
                            }
                            o.hideOverlay(),
                            i && o._publisher.unsubscribe(r),
                            i = !1
                        })
                    }
                }(),
                this.on(this.$navTriggers, "click", this.navClickHandler),
                window.addEventListener("resize", c.a.throttle(this.windowResizeHandler.bind(this), 200)),
                window.addEventListener("orientationchange", c.a.throttle(this.windowResizeHandler.bind(this), 200))
            }
        }, {
            key: "windowResizeHandler",
            value: function() {
                var e = s()(window).width()
                  , t = e > this.opts.minContainerWidth ? e : this.opts.minContainerWidth
                  , n = 515 * t / 960 < 515 ? 515 * t / 960 : 515
                  , i = this.$element.find(this.opts.mainContentSelector);
                if (t < 960 || n !== i.height()) {
                    i.height(n);
                    var r = Math.round(-100 * (t < 960 ? t : 960) / 960);
                    this.$element.find(this.opts.exteriorSelector + " img").css("top", r + "px")
                }
            }
        }, {
            key: "swiperSlideClickHandler",
            value: function(e) {
                if (this.opts.visualizerChangeEnd) {
                    var t = s()(e.currentTarget);
                    if (t.parent().is(".is-active"))
                        return !1;
                    this.opts.visualizerChangeEnd = !1,
                    t.is("a") && e.preventDefault(),
                    this.swiperSlideChange(t)
                }
            }
        }, {
            key: "navClickHandler",
            value: function(e) {
                if (this.opts.visualizerChangeEnd) {
                    var t = s()(e.currentTarget);
                    t.is("a") && e.preventDefault(),
                    t.parent().is(".is-active") || this.navChange(t.data("type"))
                }
            }
        }, {
            key: "swiperSlideChange",
            value: function(e) {
                var t = e.parent().data("type")
                  , n = e.parent().data("object-id");
                (!e.parent().hasClass(this.opts.activeClass) || "upholstery" === t && "upholstery" !== this.activeType || "upholstery" !== t && "upholstery" === this.activeType) && (l.setCascadeActive(t, n),
                this.$element.find(this.opts.optionNameSelector).text(l.getActiveItemByType(t).name),
                e.parent().addClass(this.opts.activeClass),
                this.activateNavTrigger(t),
                this.$element.find(this.opts.optionNameSelector).text(l.getActiveItemByType(t).name),
                this.$element.find(this.opts.swiperSlideWrapperSelector).children().removeClass(this.opts.activeClass),
                this.setContainerLabels("color", l.current.color.name),
                this.$element.find('[data-type="color"][data-object-id="' + l.current.color.id + '"]').addClass(this.opts.activeClass),
                this.setContainerLabels("upholstery", l.current.upholstery.name),
                this.$element.find('[data-type="upholstery"][data-object-id="' + l.current.upholstery.id + '"]').addClass(this.opts.activeClass),
                l.wheelsExist() && (this.setContainerLabels("wheels", l.current.wheel.name),
                this.$element.find('[data-type="wheels"][data-object-id="' + l.current.wheel.id + '"]').addClass(this.opts.activeClass)),
                this.reloadMainContent(t))
            }
        }, {
            key: "navChange",
            value: function(e) {
                this.reloadMainContent(e),
                this.activateNavTrigger(e),
                this.$element.find(this.opts.optionNameSelector).text(l.getActiveItemByType(e).name),
                this.windowResizeHandler()
            }
        }, {
            key: "activateNavTrigger",
            value: function(t) {
                var n = this;
                this.$navTriggers.parent().removeClass(this.opts.activeClass),
                this.$element.find(this.opts.navTriggerSelector + '[data-type="' + t + '"]').parent().addClass(this.opts.activeClass),
                this.$contentPanels.removeClass(this.opts.activeClass),
                c.a.forEach(this.$element.find(this.opts.containerSelector), function(e) {
                    0 < s()(e).find('[data-type="' + t + '"]').length && s()(e).addClass(n.opts.activeClass)
                })
            }
        }, {
            key: "drawSwiperSlide",
            value: function(e, t, n) {
                var i = s()(this.$element.find(this.opts.swiperSlideWrapperSelector + '[data-type="' + t + '"]'))
                  , r = s()("<div/>", {
                    class: "swiper-slide_option-filler",
                    style: "background-image: url(" + this.opts.loaderUrl + ")"
                })
                  , a = s()("<img />", {
                    class: "swiper-slide_image swiper-slide_image--round",
                    alt: t,
                    src: n
                })
                  , o = s()("<div/>", {
                    class: "swiper-slide",
                    "data-type": t,
                    "data-object-id": e
                });
                o.append(r, a),
                i.append(o)
            }
        }, {
            key: "activateSwiperSlide",
            value: function(e, t) {
                this.on(this.$element.find('[data-type="' + e + '"]').find(this.opts.swiperSlideTriggerSelector), "click", this.swiperSlideClickHandler),
                this.$element.find('[data-type="' + e + '"][data-object-id="' + t + '"]').addClass(this.opts.activeClass);
                var n = l.getItemByTypeAndId(e, t).name;
                this.setContainerLabels(e, n)
            }
        }, {
            key: "setContainerLabels",
            value: function(t, e) {
                s()(c.a.filter(this.$element.find(this.opts.containerSelector), function(e) {
                    return 0 < s()(e).find('[data-type="' + t + '"]').length
                })).parent().find(this.opts.optionContentSelector).text(e)
            }
        }, {
            key: "setDataLayer",
            value: function(e) {
                window.dataLayer.push({
                    event: "configuratorInteraction",
                    configStepName: "upholstery" === e ? "interior" : e,
                    pageCat: this.opts.dataLayer.pageCat,
                    carCode: this.opts.dataLayer.carCode,
                    carLabel: this.opts.dataLayer.carLabel
                })
            }
        }, {
            key: "setFirstEventDataLayer",
            value: function() {
                window.dataLayer.push({
                    event: "configuratorInteraction",
                    configStepName: "3DInteraction"
                })
            }
        }, {
            key: "reloadMainContent",
            value: function(e) {
                this.opts.eventsArray.push(e),
                1 < this.opts.eventsArray.length && this.setDataLayer(e),
                2 === this.opts.eventsArray.length && (this.opts.firstEvent.push("first"),
                1 === this.opts.firstEvent.length && this.setFirstEventDataLayer()),
                this.prevActiveType = this.activeType,
                this.activeType = e;
                var t = this;
                if ("color" === e || "wheels" === e) {
                    var n = l.lastExteriorUrl
                      , i = l.getCurrentBaseUrl(!0);
                    i === n && "upholstery" === this.prevActiveType ? (this.showOverlay(),
                    s()(this.opts.interiorSelector).fadeOut(t.opts.fadeOutTime, function() {
                        s()(this).css("display", "block").css("visibility", "hidden"),
                        t.hideOverlay()
                    }),
                    s()(this.opts.spritespinContainerSelector).addClass(this.opts.activeClass).fadeIn(t.opts.fadeInTime)) : this.publish("reload-exterior", [i, l.getCurrentImageSetType(!0)])
                } else {
                    var r = l.lastInteriorUrl
                      , a = l.getCurrentBaseUrl(!1);
                    a === r ? (t.showOverlay(),
                    s()(this.opts.spritespinContainerSelector).fadeOut(t.opts.fadeOutTime, function() {
                        s()(this).css("display", "block"),
                        t.hideOverlay()
                    }),
                    s()(this.opts.interiorSelector).addClass(this.opts.activeClass).css("visibility", "visible").hide().fadeIn(t.opts.fadeInTime)) : this.publish("reload-interior", [a, l.getCurrentImageSetType(!1)])
                }
            }
        }, {
            key: "showOverlay",
            value: function() {
                s()("body").prepend('<div class="page-overlay"></div>')
            }
        }, {
            key: "hideOverlay",
            value: function() {
                s()(".page-overlay") && s()(".page-overlay").remove()
            }
        }]),
        r
    }()
}
, function(e, t, n) {
    "use strict";
    var i = n(3)
      , r = n(1)
      , o = n.n(r)
      , a = n(0)
      , s = n.n(a);
    function g(e) {
        return (g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function l(e) {
        !function(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }(this, l),
        function(e) {
            (function(c) {
                var a = "spritespin"
                  , o = {};
                (window.SpriteSpin = o).namespace = a,
                o.mods = {},
                o.eventNames = ["mousedown", "mousemove", "mouseup", "mouseenter", "mouseover", "mouseleave", "dblclick", "mousewheel", "touchstart", "touchmove", "touchend", "touchcancel", "selectstart", "gesturestart", "gesturechange", "gestureend"],
                o.eventsToPrevent = ["dragstart"],
                o.defaults = {
                    source: void 0,
                    width: void 0,
                    height: void 0,
                    frames: void 0,
                    framesX: void 0,
                    lanes: 1,
                    sizeMode: void 0,
                    module: "360",
                    behavior: "drag",
                    renderer: "canvas",
                    lane: 0,
                    frame: 0,
                    frameTime: 40,
                    animate: !0,
                    reverse: !1,
                    loop: !0,
                    stopFrame: 0,
                    wrap: !0,
                    wrapLane: !1,
                    sense: 1,
                    senseLane: void 0,
                    orientation: "horizontal",
                    detectSubsampling: !0,
                    scrollThreshold: 50,
                    preloadCount: void 0,
                    onInit: void 0,
                    onProgress: void 0,
                    onLoad: void 0,
                    onFrame: void 0,
                    onDraw: void 0
                };
                var s = 0
                  , l = {};
                function e(t) {
                    c(window.document).bind(t + "." + a, function(e) {
                        !function(e, t) {
                            for (var n in l)
                                if (l.hasOwnProperty(n)) {
                                    var i, r, a = l[n];
                                    for (i = 0; i < a.mods.length; i += 1)
                                        "function" == typeof (r = a.mods[i])[e] && r[e].apply(a.target, [t, a])
                                }
                        }("document" + t, e)
                    })
                }
                function t() {
                    for (var e in l)
                        if (l.hasOwnProperty(e)) {
                            var t = l[e];
                            t.responsive && o.boot(t)
                        }
                }
                o.instances = l;
                var n = null;
                c(window).on("resize", function() {
                    clearTimeout(n),
                    n = setTimeout(t, 100)
                });
                for (var i = 0; i < o.eventNames.length; i += 1)
                    e(o.eventNames[i]);
                function h(e, t, n) {
                    for (e = String(e); e.length < t; )
                        e = String(n) + e;
                    return e
                }
                function r(e, t, n) {
                    return n < e ? n : e < t ? t : e
                }
                function u(e, t, n, i) {
                    for (; n < e; )
                        e -= i;
                    for (; e < t; )
                        e += i;
                    return e
                }
                function d(e) {
                    return e.preventDefault(),
                    !1
                }
                function p(t, e, n) {
                    n && t.bind(e + "." + a, function(e) {
                        n.apply(t, [e, t.spritespin("data")])
                    })
                }
                function f(e) {
                    e.unbind("." + a)
                }
                function m(e, t) {
                    var n, i = (t || e).width;
                    if (i * (t || e).height <= 1048576)
                        return !1;
                    if (!(n = document.createElement("canvas")) || !n.getContext)
                        return !1;
                    var r = n.getContext("2d");
                    if (!r)
                        return !1;
                    n.width = n.height = 1,
                    r.fillStyle = "#FF00FF",
                    r.fillRect(0, 0, 1, 1),
                    r.drawImage(e, 1 - i, 0);
                    try {
                        var a = r.getImageData(0, 0, 1, 1).data;
                        return 255 === a[0] && 0 === a[1] && 255 === a[2]
                    } catch (e) {
                        return function() {
                            window.console && window.console.log && window.console.log.apply(window.console, arguments)
                        }(e.message, e.stack),
                        !1
                    }
                }
                o.clamp = r,
                o.wrap = u,
                o.bind = p,
                o.sourceArray = function(e, t) {
                    var n = 0
                      , i = 0
                      , r = 0
                      , a = 0
                      , o = t.digits || 2;
                    t.frame && (n = t.frame[0],
                    i = t.frame[1]),
                    t.lane && (r = t.lane[0],
                    a = t.lane[1]);
                    var s, l, u, c = [];
                    for (s = r; s <= a; s += 1)
                        for (l = n; l <= i; l += 1)
                            u = (u = e.replace("{lane}", h(s, o, 0))).replace("{frame}", h(l, o, 0)),
                            c.push(u);
                    return c
                }
                ,
                o.measureSource = function(e) {
                    var t = e.images[0]
                      , n = function(e) {
                        if (null != e.naturalWidth)
                            return {
                                width: e.naturalWidth,
                                height: e.naturalHeight
                            };
                        var t = new Image;
                        return t.src = e.src,
                        {
                            width: t.width,
                            height: t.height
                        }
                    }(t);
                    if (1 === e.images.length) {
                        if (e.sourceWidth = n.width,
                        e.sourceHeight = n.height,
                        e.detectSubsampling && m(t, n) && (e.sourceWidth /= 2,
                        e.sourceHeight /= 2),
                        e.framesX = e.framesX || e.frames,
                        !e.frameWidth || !e.frameHeight)
                            if (e.framesX) {
                                e.frameWidth = Math.floor(e.sourceWidth / e.framesX);
                                var i = Math.ceil(e.frames * e.lanes / e.framesX);
                                e.frameHeight = Math.floor(e.sourceHeight / i)
                            } else
                                e.frameWidth = n.width,
                                e.frameHeight = n.height
                    } else
                        e.sourceWidth = e.frameWidth = n.width,
                        e.sourceHeight = e.frameHeight = n.height,
                        m(t, n) && (e.sourceWidth = e.frameWidth = n.width / 2,
                        e.sourceHeight = e.frameHeight = n.height / 2),
                        e.frames = e.frames || e.images.length
                }
                ,
                o.resetInput = function(e) {
                    e.startX = e.startY = void 0,
                    e.currentX = e.currentY = void 0,
                    e.oldX = e.oldY = void 0,
                    e.dX = e.dY = e.dW = 0,
                    e.ddX = e.ddY = e.ddW = 0
                }
                ,
                o.updateInput = function(e, t) {
                    void 0 === e.touches && void 0 !== e.originalEvent && (e.touches = e.originalEvent.touches),
                    t.oldX = t.currentX,
                    t.oldY = t.currentY,
                    void 0 !== e.touches && 0 < e.touches.length ? (t.currentX = e.touches[0].clientX || 0,
                    t.currentY = e.touches[0].clientY || 0) : (t.currentX = e.clientX || 0,
                    t.currentY = e.clientY || 0),
                    void 0 !== t.oldX && void 0 !== t.oldY || (t.oldX = t.currentX,
                    t.oldY = t.currentY),
                    void 0 !== t.startX && void 0 !== t.startY || (t.startX = t.currentX,
                    t.startY = t.currentY,
                    t.clickframe = t.frame,
                    t.clicklane = t.lane),
                    t.dX = t.currentX - t.startX,
                    t.dY = t.currentY - t.startY,
                    t.ddX = t.currentX - t.oldX,
                    t.ddY = t.currentY - t.oldY,
                    t.ndX = t.dX / t.width,
                    t.ndY = t.dY / t.height,
                    t.nddX = t.ddX / t.width,
                    t.nddY = t.ddY / t.height
                }
                ,
                o.updateFrame = function(e, t, n) {
                    e.lastFrame = e.frame,
                    e.lastLane = e.lane,
                    void 0 !== t ? e.frame = Number(t) : e.animation && (e.frame += e.reverse ? -1 : 1),
                    e.animation ? (e.frame = u(e.frame, 0, e.frames - 1, e.frames),
                    e.loop || e.frame !== e.stopFrame || o.stopAnimation(e)) : e.wrap ? e.frame = u(e.frame, 0, e.frames - 1, e.frames) : e.frame = r(e.frame, 0, e.frames - 1),
                    void 0 !== n && (e.lane = n,
                    e.wrapLane ? e.lane = u(e.lane, 0, e.lanes - 1, e.lanes) : e.lane = r(e.lane, 0, e.lanes - 1)),
                    e.lastFrame == e.frame && e.lastLane == e.lane || e.target.trigger("onFrameChanged", e),
                    e.target.trigger("onFrame", e),
                    e.target.trigger("onDraw", e)
                }
                ,
                o.stopAnimation = function(e) {
                    e.animate = !1,
                    e.animation && (window.clearInterval(e.animation),
                    e.animation = null)
                }
                ,
                o.setAnimation = function(e) {
                    e.animate ? o.requestFrame(e) : o.stopAnimation(e)
                }
                ,
                o.requestFrame = function(e) {
                    e.animation || (void 0 === e.frameFunction && (e.frameFunction = function() {
                        try {
                            o.updateFrame(e)
                        } catch (e) {}
                    }
                    ),
                    e.animation = window.setInterval(e.frameFunction, e.frameTime))
                }
                ,
                o.setModules = function(e) {
                    var t, n, i;
                    for (t = 0; t < e.mods.length; t += 1)
                        "string" == typeof (n = e.mods[t]) && ((i = o.mods[n]) ? e.mods[t] = i : c.error("No module found with name " + n))
                }
                ,
                o.displaySize = function(e) {
                    var t = Math.floor(e.width || e.frameWidth || e.target.innerWidth())
                      , n = Math.floor(e.height || e.frameHeight || e.target.innerHeight());
                    return {
                        width: t,
                        height: n,
                        aspect: t / n
                    }
                }
                ,
                o.calculateInnerLayout = function(e) {
                    var t = Math.floor(e.width || e.frameWidth || e.target.innerWidth())
                      , n = Math.floor(e.height || e.frameHeight || e.target.innerHeight())
                      , i = t / n
                      , r = e.frameWidth || t
                      , a = e.frameHeight || n
                      , o = r / a
                      , s = {
                        width: "100%",
                        height: "100%",
                        top: 0,
                        left: 0,
                        bottom: 0,
                        right: 0,
                        position: "absolute",
                        overflow: "hidden"
                    }
                      , l = e.sizeMode;
                    return l && "scale" != l && ("original" == l ? (s.width = r,
                    s.height = a) : "fit" == l ? i <= o ? (s.width = t,
                    s.height = t / o) : (s.height = n,
                    s.width = n * o) : "fill" == l ? i <= o ? (s.height = n,
                    s.width = n * o) : (s.width = t,
                    s.height = t / o) : (s.width = t,
                    s.height = n),
                    s.width = 0 | s.width,
                    s.height = 0 | s.height,
                    s.top = (n - s.height) / 2 | 0,
                    s.left = (t - s.width) / 2 | 0,
                    s.right = s.left,
                    s.bottom = s.top),
                    s
                }
                ,
                o.setLayout = function(e) {
                    e.target.attr("unselectable", "on").css({
                        width: "",
                        height: "",
                        "-ms-user-select": "none",
                        "-moz-user-select": "none",
                        "-khtml-user-select": "none",
                        "-webkit-user-select": "none",
                        "user-select": "none"
                    });
                    var t = Math.floor(e.width || e.frameWidth || e.target.innerWidth())
                      , n = Math.floor(e.height || e.frameHeight || e.target.innerHeight());
                    if (e.responsive && "function" == typeof window.getComputedStyle) {
                        var i = getComputedStyle(e.target[0]);
                        if (i.width) {
                            var r = t / n;
                            n = (t = 0 | Number(i.width.replace("px", ""))) / r | 0
                        }
                    }
                    e.target.css({
                        width: t,
                        height: n,
                        position: "relative",
                        overflow: "hidden"
                    });
                    var a = o.calculateInnerLayout(e);
                    e.stage.css(a).hide(),
                    e.canvas && (e.canvasRatio = e.canvasRatio || function(e) {
                        return (window.devicePixelRatio || 1) / (e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1)
                    }(e.context),
                    e.canvas[0].width = a.width * e.canvasRatio || t,
                    e.canvas[0].height = a.height * e.canvasRatio || n,
                    e.canvas.css(a).hide(),
                    e.context.scale(e.canvasRatio, e.canvasRatio))
                }
                ,
                o.setEvents = function(e) {
                    var t, n, i, r = e.target;
                    for (f(r),
                    n = 0; n < o.eventsToPrevent.length; n += 1)
                        p(r, o.eventsToPrevent[n], d);
                    for (t = 0; t < e.mods.length; t += 1) {
                        for (i = e.mods[t],
                        n = 0; n < o.eventNames.length; n += 1)
                            p(r, o.eventNames[n], i[o.eventNames[n]]);
                        p(r, "onInit", i.onInit),
                        p(r, "onProgress", i.onProgress),
                        p(r, "onLoad", i.onLoad),
                        p(r, "onFrameChanged", i.onFrameChanged),
                        p(r, "onFrame", i.onFrame),
                        p(r, "onDraw", i.onDraw)
                    }
                    p(r, "onLoad", function(e, t) {
                        o.setAnimation(t)
                    }),
                    p(r, "onInit", e.onInit),
                    p(r, "onProgress", e.onProgress),
                    p(r, "onLoad", e.onLoad),
                    p(r, "onFrameChanged", i.onFrameChanged),
                    p(r, "onFrame", e.onFrame),
                    p(r, "onDraw", e.onDraw)
                }
                ,
                o.boot = function(t) {
                    o.setModules(t),
                    o.setLayout(t),
                    o.setEvents(t),
                    t.target.addClass("loading").trigger("onInit", t),
                    t.loading = !0,
                    function(e) {
                        function t() {
                            a += 1,
                            "function" == typeof e.progress && e.progress({
                                index: c.inArray(this, o),
                                loaded: a,
                                total: r.length,
                                percent: Math.round(a / r.length * 100)
                            }),
                            u = u || this === o[0],
                            !l && s <= a && u && "function" == typeof e.complete && (l = !0,
                            e.complete(o))
                        }
                        var n, i, r = "string" == typeof e.source ? [e.source] : e.source, a = 0, o = [], s = e.preloadCount || r.length, l = !1, u = !1;
                        for (n = 0; n < r.length; n += 1)
                            i = new Image,
                            o.push(i),
                            i.onload = i.onabort = i.onerror = t,
                            i.src = r[n];
                        "function" == typeof e.initiated && e.initiated(o)
                    }({
                        source: t.source,
                        preloadCount: t.preloadCount,
                        progress: function(e) {
                            t.target.trigger("onProgress", [e, t])
                        },
                        complete: function(e) {
                            t.images = e,
                            t.loading = !1,
                            o.measureSource(t),
                            o.setLayout(t),
                            t.stage.show(),
                            t.target.removeClass("loading").trigger("onLoad", t).trigger("onFrame", t).trigger("onDraw", t)
                        }
                    })
                }
                ,
                o.create = function(e) {
                    var t = e.target
                      , n = t.data(a);
                    if (n)
                        c.extend(n, e);
                    else {
                        (n = c.extend({}, o.defaults, e)).source = n.source || [],
                        t.find("img:not(.gif-loader)").each(function() {
                            n.source.push(c(this).attr("src"))
                        });
                        var i = t.data("loader-src");
                        if (t.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div><span class='gif-loader' style='background-image:url(" + i + ")'></span>"),
                        "canvas" === n.renderer) {
                            var r = c("<canvas class='spritespin-canvas'></canvas>")[0];
                            r.getContext && r.getContext("2d") ? (n.canvas = c(r),
                            n.context = r.getContext("2d"),
                            t.append(n.canvas),
                            t.addClass("with-canvas")) : n.renderer = "image"
                        }
                        n.target = t,
                        n.stage = t.find(".spritespin-stage"),
                        t.data(a, n),
                        function(e) {
                            s += 1,
                            e.id = s,
                            l[s] = e
                        }(n)
                    }
                    "string" == typeof n.source && (n.source = [n.source]),
                    n.mods && (delete n.behavior,
                    delete n.module),
                    (n.behavior || n.module) && (n.mods = [],
                    n.behavior && n.mods.push(n.behavior),
                    n.module && n.mods.push(n.module),
                    delete n.behavior,
                    delete n.module),
                    o.boot(n)
                }
                ,
                o.destroy = function(e) {
                    e && (function(e) {
                        delete l[e.id]
                    }(e),
                    o.stopAnimation(e),
                    f(e.target),
                    e.target.removeData(a))
                }
                ,
                o.registerModule = function(e, t) {
                    return o.mods[e] && c.error("Module name is already taken: " + e),
                    t = t || {},
                    o.mods[e] = t
                }
                ,
                o.Api = function(e) {
                    this.data = e
                }
                ,
                o.extendApi = function(e) {
                    var t, n = o.Api.prototype;
                    for (t in e)
                        e.hasOwnProperty(t) && (n[t] ? c.error("API method is already defined: " + t) : n[t] = e[t]);
                    return n
                }
                ,
                c.fn.spritespin = function(e, t) {
                    if ("data" === e)
                        return this.data(a);
                    if ("api" === e) {
                        var n = this.data(a);
                        return n.api = n.api || new o.Api(n),
                        n.api
                    }
                    if ("destroy" === e)
                        return c(this).each(function() {
                            o.destroy(c(this).data(a))
                        });
                    if (2 === arguments.length && "string" == typeof e) {
                        var i = {};
                        i[e] = t,
                        e = i
                    }
                    return "object" === g(e) ? (e.target = e.target || c(this),
                    o.create(e),
                    e.target) : c.error("Invalid call to spritespin")
                }
            }
            )(e),
            function() {
                var o = window.SpriteSpin;
                o.extendApi({
                    isPlaying: function() {
                        return null !== this.data.animation
                    },
                    isLooping: function() {
                        return this.data.loop
                    },
                    toggleAnimation: function() {
                        this.data.animate = !this.data.animate,
                        o.setAnimation(this.data)
                    },
                    stopAnimation: function() {
                        this.data.animate = !1,
                        o.setAnimation(this.data)
                    },
                    startAnimation: function() {
                        this.data.animate = !0,
                        o.setAnimation(this.data)
                    },
                    loop: function(e) {
                        return this.data.loop = e,
                        o.setAnimation(this.data),
                        this
                    },
                    currentFrame: function() {
                        return this.data.frame
                    },
                    updateFrame: function(e) {
                        return o.updateFrame(this.data, e),
                        this
                    },
                    skipFrames: function(e) {
                        var t = this.data;
                        return o.updateFrame(t, t.frame + (t.reverse ? -e : +e)),
                        this
                    },
                    nextFrame: function() {
                        return this.skipFrames(1)
                    },
                    prevFrame: function() {
                        return this.skipFrames(-1)
                    },
                    playTo: function(e, t) {
                        var n = this.data;
                        if ((t = t || {}).force || n.frame !== e) {
                            if (t.nearest) {
                                var i = e - n.frame
                                  , r = e > n.frame ? i - n.frames : i + n.frames
                                  , a = Math.abs(i) < Math.abs(r) ? i : r;
                                n.reverse = a < 0
                            }
                            return n.animate = !0,
                            n.loop = !1,
                            n.stopFrame = e,
                            o.setAnimation(n),
                            this
                        }
                    }
                })
            }(),
            function(l) {
                var u = function() {
                    for (var e, t, n = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], i = 0, r = n.length, a = {}; i < r; i++)
                        if ((e = n[i]) && e[1]in document) {
                            for (i = 0,
                            t = e.length; i < t; i++)
                                a[n[0][i]] = e[i];
                            return a
                        }
                    return !1
                }();
                function e() {
                    return document[u.fullscreenElement]
                }
                function c() {
                    return !!e()
                }
                var h = u.fullscreenchange + "." + SpriteSpin.namespace + "-fullscreen";
                function d() {
                    l(document).unbind(h)
                }
                var p = "orientationchange." + SpriteSpin.namespace + "-fullscreen";
                function f() {
                    l(window).unbind(p)
                }
                SpriteSpin.extendApi({
                    fullscreenEnabled: function() {
                        return document[u.fullscreenEnabled]
                    },
                    fullscreenElement: e,
                    exitFullscreen: function() {
                        return document[u.exitFullscreen]()
                    },
                    toggleFullscreen: function(e) {
                        c() ? this.requestFullscreen(e) : this.exitFullscreen()
                    },
                    requestFullscreen: function(e) {
                        e = e || {};
                        function t() {
                            n.width = window.screen.width,
                            n.height = window.screen.height,
                            n.source = e.source || a,
                            n.sizeMode = e.sizeMode || "fit",
                            n.responsive = !1,
                            SpriteSpin.boot(n)
                        }
                        var n = this.data
                          , i = n.width
                          , r = n.height
                          , a = n.source
                          , o = n.sizeMode
                          , s = n.responsive;
                        !function(e) {
                            d(),
                            l(document).bind(h, e)
                        }(function() {
                            c() ? (t(),
                            function(e) {
                                f(),
                                l(window).bind(p, e)
                            }(t)) : (d(),
                            f(),
                            n.width = i,
                            n.height = r,
                            n.source = a,
                            n.sizeMode = o,
                            n.responsive = s,
                            SpriteSpin.boot(n))
                        }),
                        function(e) {
                            (e = e || document.documentElement)[u.requestFullscreen]()
                        }(n.target[0])
                    }
                })
            }(e, window.SpriteSpin),
            function(e, o) {
                function t(e, t) {
                    if (!t.loading && t.stage.is(":visible")) {
                        o.updateInput(e, t);
                        var n, i, r = t.target, a = r.offset();
                        i = "horizontal" === t.orientation ? (n = r.innerWidth() / 2,
                        t.currentX - a.left) : (n = r.innerHeight() / 2,
                        t.currentY - a.top),
                        o.updateFrame(t, t.frame + (n < i ? 1 : -1))
                    }
                }
                o.registerModule("click", {
                    mouseup: t,
                    touchend: t
                })
            }(0, window.SpriteSpin),
            function(e, u) {
                function n(e, t) {
                    t.loading || t.dragging || !t.stage.is(":visible") || (t.dragFrame = t.frame || 0,
                    t.dragLane = t.lane || 0,
                    t.dragging = !0,
                    u.updateInput(e, t))
                }
                function t(e, t) {
                    t.dragging && (t.dragging = !1,
                    u.resetInput(t))
                }
                function i(e, t) {
                    if (t.dragging) {
                        if (u.updateInput(e, t),
                        Math.abs(t.ddX) + Math.abs(t.ddY) > t.scrollThreshold)
                            return t.dragging = !1,
                            void u.resetInput(t);
                        e.preventDefault();
                        var n = 0;
                        n = "number" == typeof t.orientation ? (Number(t.orientation) || 0) * Math.PI / 180 : "horizontal" === t.orientation ? 0 : Math.PI / 2;
                        var i = Math.sin(n)
                          , r = Math.cos(n)
                          , a = (t.nddX * r - t.nddY * i) * t.sense || 0
                          , o = (t.nddX * i + t.nddY * r) * (t.senseLane || t.sense) || 0;
                        t.dragFrame += t.reverse ? t.frames * a : -t.frames * a,
                        t.dragLane += t.lanes * o;
                        var s = Math.floor(t.dragFrame)
                          , l = Math.floor(t.dragLane);
                        u.updateFrame(t, s, l),
                        u.stopAnimation(t)
                    }
                }
                u.registerModule("drag", {
                    mousedown: n,
                    mousemove: i,
                    mouseup: t,
                    documentmousemove: i,
                    documentmouseup: t,
                    touchstart: n,
                    touchmove: i,
                    touchend: t,
                    touchcancel: t
                }),
                u.registerModule("move", {
                    mousemove: function(e, t) {
                        n.call(this, e, t),
                        i.call(this, e, t)
                    },
                    mouseleave: t,
                    touchstart: n,
                    touchmove: i,
                    touchend: t,
                    touchcancel: t
                })
            }(0, window.SpriteSpin),
            function(e, o) {
                function t(e, t) {
                    t.loading || t.dragging || !t.stage.is(":visible") || (o.updateInput(e, t),
                    t.dragging = !0,
                    t.animate = !0,
                    o.setAnimation(t))
                }
                function n(e, t) {
                    t.dragging = !1,
                    o.resetInput(t),
                    o.stopAnimation(t)
                }
                function i(e, t) {
                    if (t.dragging) {
                        o.updateInput(e, t);
                        var n, i, r = t.target, a = r.offset();
                        i = "horizontal" === t.orientation ? (n = r.innerWidth() / 2,
                        (t.currentX - a().left - n) / n) : (n = t.height / 2,
                        (t.currentY - a().top - n) / n),
                        t.reverse = i < 0,
                        i = i < 0 ? -i : i,
                        t.frameTime = 80 * (1 - i) + 20,
                        ("horizontal" === t.orientation && t.dX < t.dY || "vertical" === t.orientation && t.dX < t.dY) && e.preventDefault()
                    }
                }
                o.registerModule("hold", {
                    mousedown: t,
                    mousemove: i,
                    mouseup: n,
                    mouseleave: n,
                    touchstart: t,
                    touchmove: i,
                    touchend: n,
                    touchcancel: n,
                    onFrame: function() {
                        e(this).spritespin("api").startAnimation()
                    }
                })
            }(e, window.SpriteSpin),
            function(e, l) {
                function t(e, t) {
                    t.loading || t.dragging || (l.updateInput(e, t),
                    t.dragging = !0)
                }
                function n(e, t) {
                    if (t.dragging) {
                        l.updateInput(e, t);
                        var n = t.frame
                          , i = t.lane;
                        l.updateFrame(t, n, i)
                    }
                }
                function i(e, t) {
                    if (t.dragging) {
                        t.dragging = !1;
                        var n, i, r = t.frame, a = t.lane, o = t.swipeSnap, s = t.swipeFling;
                        i = "horizontal" === t.orientation ? (n = t.ndX,
                        t.ddX) : (n = t.ndY,
                        t.ddY),
                        o < n || s < i ? r = t.frame - 1 : (n < -o || i < -s) && (r = t.frame + 1),
                        l.resetInput(t),
                        l.updateFrame(t, r, a),
                        l.stopAnimation(t)
                    }
                }
                l.registerModule("swipe", {
                    onLoad: function(e, t) {
                        t.swipeFling = t.swipeFling || 10,
                        t.swipeSnap = t.swipeSnap || .5
                    },
                    mousedown: t,
                    mousemove: n,
                    mouseup: i,
                    mouseleave: i,
                    touchstart: t,
                    touchmove: n,
                    touchend: i,
                    touchcancel: i
                })
            }(0, window.SpriteSpin),
            function(o, e) {
                var s = Math.floor;
                e.registerModule("360", {
                    onLoad: function(e, t) {
                        if (t.width && t.frameWidth ? t.scaleWidth = t.width / t.frameWidth : t.scaleWidth = 1,
                        t.height && t.frameHeight ? t.scaleHeight = t.height / t.frameHeight : t.scaleHeight = 1,
                        t.sourceIsSprite = 1 === t.images.length,
                        t.stage.empty().css({
                            "background-image": "none"
                        }).show(),
                        "canvas" === t.renderer) {
                            var n = t.canvas[0].width / t.canvasRatio
                              , i = t.canvas[0].height / t.canvasRatio;
                            t.context.clearRect(0, 0, n, i),
                            t.canvas.show()
                        } else if ("background" === t.renderer) {
                            i = t.sourceIsSprite ? (n = s(t.sourceWidth * t.scaleWidth),
                            s(t.sourceHeight * t.scaleHeight)) : (n = s(t.frameWidth * t.scaleWidth),
                            s(t.frameHeight * t.scaleHeight));
                            var r = [n, "px ", i, "px"].join("");
                            t.stage.css({
                                "background-repeat": "no-repeat",
                                "-webkit-background-size": r,
                                "-moz-background-size": r,
                                "-o-background-size": r,
                                "background-size": r
                            })
                        } else
                            "image" === t.renderer && (t.sourceIsSprite ? (n = s(t.sourceWidth * t.scaleWidth),
                            i = s(t.sourceHeight * t.scaleHeight)) : n = i = "100%",
                            o(t.images).appendTo(t.stage).css({
                                width: n,
                                height: i,
                                position: "absolute"
                            }))
                    },
                    onDraw: function(e, t) {
                        t.sourceIsSprite ? function(e) {
                            var t = e.lane * e.frames + e.frame
                              , n = e.frameWidth * (t % e.framesX)
                              , i = e.frameHeight * s(t / e.framesX);
                            if ("canvas" === e.renderer) {
                                var r = e.canvas[0].width / e.canvasRatio
                                  , a = e.canvas[0].height / e.canvasRatio;
                                return e.context.clearRect(0, 0, r, a),
                                e.context.drawImage(e.images[0], n, i, e.frameWidth, e.frameHeight, 0, 0, r, a)
                            }
                            n = -s(n * e.scaleWidth),
                            i = -s(i * e.scaleHeight),
                            "background" === e.renderer ? e.stage.css({
                                "background-image": ["url('", e.source[0], "')"].join(""),
                                "background-position": [n, "px ", i, "px"].join("")
                            }) : o(e.images).css({
                                top: i,
                                left: n,
                                "max-width": "initial"
                            })
                        }(t) : function(e) {
                            var t = e.lane * e.frames + e.frame
                              , n = e.images[t];
                            if ("canvas" === e.renderer) {
                                if (n && !1 !== n.complete) {
                                    var i = e.canvas[0].width / e.canvasRatio
                                      , r = e.canvas[0].height / e.canvasRatio;
                                    e.context.clearRect(0, 0, i, r),
                                    e.context.drawImage(n, 0, 0, i, r)
                                }
                            } else
                                "background" === e.renderer ? e.stage.css({
                                    "background-image": ["url('", e.source[t], "')"].join(""),
                                    "background-position": [0, "px ", 0, "px"].join("")
                                }) : (o(e.images).hide(),
                                o(e.images[t]).show())
                        }(t)
                    }
                })
            }(e, window.SpriteSpin),
            function(n, r) {
                function a(e) {
                    e.blurScope = e.blurScope || {};
                    var t = e.blurScope;
                    return t.canvas = t.canvas || n("<canvas class='blur-layer'></canvas>"),
                    t.context = t.context || t.canvas[0].getContext("2d"),
                    t.steps = t.steps || [],
                    t.fadeTime = Math.max(e.blurFadeTime || 200, 1),
                    t.frameTime = Math.max(e.blurFrameTime || e.frameTime, 16),
                    t.trackTime = null,
                    t.cssBlur = !!e.blurCss,
                    t
                }
                var o = [];
                function s(e, t) {
                    t.timeout = window.setTimeout(function() {
                        !function(e, t) {
                            if (function(e, t) {
                                window.clearTimeout(t.timeout),
                                t.timeout = null
                            }(0, t),
                            !t.context)
                                return;
                            var n, i, r = t.context, a = 0;
                            for (r.clearRect(0, 0, e.width, e.height),
                            n = 0; n < t.steps.length; n += 1)
                                (i = t.steps[n]).live = Math.max(i.live - i.step, 0),
                                i.alpha = Math.max(i.live - .25, 0),
                                l(e, t, i),
                                a += i.alpha + i.d;
                            t.cssBlur && function(e, t) {
                                t = Math.min(Math.max(t / 2 - 4, 0), 1.5),
                                e.css({
                                    "-webkit-filter": "blur(" + t + "px)",
                                    filter: "blur(" + t + "px)"
                                })
                            }(t.canvas, a);
                            (function(e) {
                                var t;
                                for (t = o.length = 0; t < e.length; t += 1)
                                    e[t].alpha <= 0 && o.push(t);
                                for (t = 0; t < o.length; t += 1)
                                    e.splice(o[t], 1)
                            }
                            )(t.steps),
                            t.steps.length && s(e, t)
                        }(e, t)
                    }, t.frameTime)
                }
                function l(e, t, n) {
                    var i = t.context
                      , r = n.index
                      , a = e.sourceIsSprite ? e.images[0] : e.images[r];
                    if (!(n.alpha <= 0) && a && !1 !== a.complete)
                        if (i.globalAlpha = n.alpha,
                        e.sourceIsSprite) {
                            var o = e.frameWidth * (r % e.framesX)
                              , s = e.frameHeight * Math.floor(r / e.framesX);
                            i.drawImage(a, o, s, e.frameWidth, e.frameHeight, 0, 0, e.width, e.height)
                        } else
                            i.drawImage(a, 0, 0, e.width, e.height)
                }
                r.registerModule("blur", {
                    onLoad: function(e, t) {
                        var n = a(t)
                          , i = r.calculateInnerLayout(t);
                        n.canvas[0].width = t.width * t.canvasRatio,
                        n.canvas[0].height = t.height * t.canvasRatio,
                        n.canvas.css(i).show(),
                        n.context.scale(t.canvasRatio, t.canvasRatio),
                        t.target.append(n.canvas)
                    },
                    onFrameChanged: function(e, t) {
                        var n = a(t);
                        !function(e, t) {
                            var n = Math.abs(e.frame - e.lastFrame);
                            n >= e.frames / 2 && (n = e.frames - n);
                            t.steps.unshift({
                                index: e.lane * e.frames + e.frame,
                                live: 1,
                                step: t.frameTime / t.fadeTime,
                                d: n
                            })
                        }(t, n),
                        null == n.timeout && s(t, n)
                    }
                })
            }(e, window.SpriteSpin),
            function(e, r) {
                var n = Math.max
                  , i = Math.min;
                function t(e, t) {
                    t.dragging && (h(t, t.easeScope),
                    function(e, t) {
                        t.samples.push({
                            time: (new Date).getTime(),
                            frame: e.dragFrame,
                            lane: e.dragLane
                        });
                        for (; t.samples.length > e.easeSamples; )
                            t.samples.shift()
                    }(t, t.easeScope))
                }
                function a(e, t) {
                    for (var n, i, r = t.easeScope, a = r.samples, o = 0, s = 0, l = 0, u = 0; u < a.length; u += 1)
                        if (i = a[u],
                        n) {
                            var c = i.time - n.time;
                            if (c > t.easeAbortAfterMs)
                                return o = s = l = 0,
                                h(t, r);
                            s += i.frame - n.frame,
                            o += i.lane - n.lane,
                            l += c,
                            n = i
                        } else
                            n = i;
                    a.length = 0,
                    l && (r.ms = t.easeUpdateTime,
                    r.lane = t.lane,
                    r.lanes = 0,
                    r.laneStep = o / l * r.ms,
                    r.frame = t.frame,
                    r.frames = 0,
                    r.frameStep = s / l * r.ms,
                    d(t, r))
                }
                function h(e, t) {
                    null != t.timeout && (window.clearTimeout(t.timeout),
                    t.timeout = null)
                }
                function d(e, t) {
                    t.timeout = window.setTimeout(function() {
                        !function(e, t) {
                            t.lanes += t.laneStep,
                            t.frames += t.frameStep,
                            t.laneStep *= e.easeDamping,
                            t.frameStep *= e.easeDamping;
                            var n = Math.floor(t.frame + t.frames)
                              , i = Math.floor(t.lane + t.lanes);
                            r.updateFrame(e, n, i),
                            e.dragging ? h(0, t) : .005 < Math.abs(t.frameStep) || .005 < Math.abs(t.laneStep) ? d(e, t) : h(0, t)
                        }(e, t)
                    }, t.ms)
                }
                r.registerModule("ease", {
                    onLoad: function(e, t) {
                        t.easeAbortAfterMs = n(t.easeAbortAfterMs || 250, 0),
                        t.easeDamping = n(i(t.easeDamping || .9, .999), 0),
                        t.easeSamples = n(t.easeSamples || 5, 1),
                        t.easeUpdateTime = n(t.easeUpdateTime || t.frameTime, 16),
                        t.easeScope = {
                            samples: [],
                            steps: []
                        }
                    },
                    mousemove: t,
                    mouseup: a,
                    mouseleave: a,
                    touchmove: t,
                    touchend: a,
                    touchcancel: a
                })
            }(0, window.SpriteSpin),
            function(s, l) {
                l.registerModule("gallery", {
                    onLoad: function(e, t) {
                        t.galleryImages = [],
                        t.galleryOffsets = [],
                        t.gallerySpeed = 500,
                        t.galleryOpacity = .25,
                        t.galleryFrame = 0,
                        t.galleryStage = t.galleryStage || s("<div/>"),
                        t.stage.prepend(t.galleryStage),
                        t.galleryStage.empty();
                        var n, i = 0;
                        for (n = 0; n < t.source.length; n += 1) {
                            var r = s("<img src='" + t.source[n] + "'/>");
                            t.galleryStage.append(r),
                            t.galleryImages.push(r);
                            var a = t.height / r[0].height;
                            t.galleryOffsets.push(-i + (t.width - r[0].width * a) / 2),
                            i += t.width,
                            r.css({
                                "max-width": "initial",
                                opacity: t.galleryOpacity,
                                width: t.width,
                                height: t.height
                            })
                        }
                        var o = l.calculateInnerLayout(t);
                        t.galleryStage.css(o).css({
                            width: i
                        }),
                        t.galleryImages[t.galleryFrame].animate({
                            opacity: 1
                        }, t.gallerySpeed)
                    },
                    onDraw: function(e, t) {
                        t.galleryFrame === t.frame || t.dragging ? !t.dragging && t.dX == t.gallerydX || (t.galleryDX = t.DX,
                        t.galleryDDX = t.DDX,
                        t.galleryStage.stop(!0, !0).animate({
                            left: t.galleryOffsets[t.frame] + t.dX
                        })) : (t.galleryStage.stop(!0, !1),
                        t.galleryStage.animate({
                            left: t.galleryOffsets[t.frame]
                        }, t.gallerySpeed),
                        t.galleryImages[t.galleryFrame].animate({
                            opacity: t.galleryOpacity
                        }, t.gallerySpeed),
                        t.galleryFrame = t.frame,
                        t.galleryImages[t.galleryFrame].animate({
                            opacity: 1
                        }, t.gallerySpeed))
                    }
                })
            }(e, window.SpriteSpin),
            function(e, t) {
                var r = Math.floor;
                t.registerModule("panorama", {
                    onLoad: function(e, t) {
                        t.stage.empty().show(),
                        t.frames = t.sourceWidth,
                        "horizontal" === t.orientation ? (t.scale = t.height / t.sourceHeight,
                        t.frames = t.sourceWidth) : (t.scale = t.width / t.sourceWidth,
                        t.frames = t.sourceHeight);
                        var n = [r(t.sourceWidth * t.scale), "px ", r(t.sourceHeight * t.scale), "px"].join("");
                        t.stage.css({
                            "max-width": "initial",
                            "background-image": ["url('", t.source[0], "')"].join(""),
                            "background-repeat": "repeat-both",
                            "-webkit-background-size": n,
                            "-moz-background-size": n,
                            "-o-background-size": n,
                            "background-size": n
                        })
                    },
                    onDraw: function(e, t) {
                        var n = 0
                          , i = 0;
                        "horizontal" === t.orientation ? n = -r(t.frame % t.frames * t.scale) : i = -r(t.frame % t.frames * t.scale),
                        t.stage.css({
                            "background-position": [n, "px ", i, "px"].join("")
                        })
                    }
                })
            }(0, window.SpriteSpin),
            function(o, s) {
                function r(e, t) {
                    var n, i, r, a;
                    e.preventDefault(),
                    t.dragging = !1,
                    !e.touches && e.originalEvent && (e.touches = e.originalEvent.touches),
                    i = e.touches && e.touches.length ? (n = e.touches[0].clientX || 0,
                    e.touches[0].clientY || 0) : (n = e.clientX || 0,
                    e.clientY || 0),
                    n /= t.width,
                    i /= t.height,
                    null == t.zoomPX && (t.zoomPX = n,
                    t.zoomPY = i),
                    null == t.zoomX && (t.zoomX = n,
                    t.zoomY = i),
                    r = n - t.zoomPX,
                    a = i - t.zoomPY,
                    t.zoomPX = n,
                    t.zoomPY = i,
                    e.type.match(/touch/) && (r = -r,
                    a = -a),
                    t.zoomX = s.clamp(t.zoomX + r, 0, 1),
                    t.zoomY = s.clamp(t.zoomY + a, 0, 1),
                    s.updateFrame(t)
                }
                function e(e, t) {
                    e.preventDefault();
                    var n = (new Date).getTime();
                    if (t.zoomClickTime) {
                        var i = n - t.zoomClickTime;
                        (t.zoomDoubleClickTime || 500) < i ? t.zoomClickTime = n : (t.zoomClickTime = 0,
                        o(this).spritespin("api").toggleZoom() && r(e, t))
                    } else
                        t.zoomClickTime = n
                }
                function t(e, t) {
                    t.zoomStage.is(":visible") && r(e, t)
                }
                s.registerModule("zoom", {
                    mousedown: e,
                    touchstart: e,
                    mousemove: t,
                    touchmove: t,
                    onInit: function(e, t) {
                        t.zoomStage || (t.zoomStage = o("<div class='spritezoom-stage'></div>").css({
                            width: "100%",
                            height: "100%",
                            top: 0,
                            left: 0,
                            bottom: 0,
                            right: 0,
                            position: "absolute"
                        }).appendTo(t.target).hide())
                    },
                    onDestroy: function(e, t) {
                        t.zoomStage && t.zoomStage.remove()
                    },
                    onDraw: function(e, t) {
                        var n = t.lane * t.frames + t.frame
                          , i = (t.zoomSource || t.source)[n];
                        if (i) {
                            var r = t.zoomX
                              , a = t.zoomY;
                            null != r && null != a || (r = t.zoomX = .5,
                            a = t.zoomY = .5),
                            r = 100 * r | 0,
                            a = 100 * a | 0,
                            t.zoomStage.css({
                                "background-repeat": "no-repeat",
                                "background-image": ["url('", i, "')"].join(""),
                                "background-position": [r, "% ", a, "%"].join("")
                            })
                        } else
                            o.error("'zoomSource' option is missing or it contains unsufficient number of frames.")
                    }
                }),
                s.extendApi({
                    toggleZoom: function() {
                        var e = this.data;
                        return e.zoomStage ? e.zoomStage.is(":visible") ? (e.zoomStage.fadeOut(),
                        e.stage.fadeIn(),
                        !1) : (e.zoomStage.fadeIn(),
                        e.stage.fadeOut(),
                        !0) : (o.error("zoom module is not initialized or is not available."),
                        !1)
                    }
                })
            }(e, window.SpriteSpin)
        }(e)
    }
    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function c(e, t) {
        return function(e) {
            if (Array.isArray(e))
                return e
        }(e) || function(e, t) {
            if (!(Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)))
                return;
            var n = []
              , i = !0
              , r = !1
              , a = void 0;
            try {
                for (var o, s = e[Symbol.iterator](); !(i = (o = s.next()).done) && (n.push(o.value),
                !t || n.length !== t); i = !0)
                    ;
            } catch (e) {
                r = !0,
                a = e
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (r)
                        throw a
                }
            }
            return n
        }(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }
    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function d(e, t) {
        return !t || "object" !== u(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function p(e, t, n) {
        return (p = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = f(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function f(e) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    n.d(t, "a", function() {
        return v
    });
    var v = function() {
        function a(e, t, n) {
            var i;
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, a);
            return t = o.a.merge({}, {
                containerSelector: ".spritespin-container",
                color: "woodland-brown",
                width: 680,
                height: 427,
                animate: !1,
                initialized: !1,
                renderer: "image",
                initializeOnEvent: null,
                sense: 5,
                scrollThreshold: 150,
                reverse: !1,
                pluginInitEvent: "threesixty-init",
                pluginLoadEvent: "threesixty-load",
                imageLoadEvent: "threesixty-image-load",
                spritespinStageClassName: "spritespin-stage",
                singleImageClass: "is-single",
                loadingClassName: "loading",
                imageClassName: "spritespin-stage_image"
            }, t),
            (i = d(this, f(a).call(this, e, t, n))).singleImageDomInitialized = !1,
            i
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && m(e, t)
        }(a, i["a"]),
        function(e, t, n) {
            t && h(e.prototype, t),
            n && h(e, n)
        }(a, [{
            key: "start",
            value: function() {
                var t = this;
                this.SpriteSpin = new l(s.a),
                this.opts.initializeOnEvent ? (o.a.forEach(this.subscribers, function(e) {
                    t._publisher.unsubscribe(e)
                }),
                this.subscribers = [],
                this.subscribers.push(this.subscribe(this.opts.initializeOnEvent, this.triggerSpritespin.bind(this)))) : (p(f(a.prototype), "start", this).call(this),
                this.init())
            }
        }, {
            key: "triggerSpritespin",
            value: function(e, t) {
                var n = c(t, 2)
                  , i = n[0]
                  , r = n[1];
                this.initialized ? (1 !== r ? s()(this.opts.containerSelector + ".is-active").spritespin({
                    source: this.getImageSource(i, r)
                }) : this.init(i, r),
                this.resume()) : (p(f(a.prototype), "start", this).call(this),
                this.init(i, r),
                this.initialized = !0)
            }
        }, {
            key: "stop",
            value: function() {
                p(f(a.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                p(f(a.prototype), "resume", this).call(this)
            }
        }, {
            key: "init",
            value: function(e, t) {
                var n = this;
                1 !== t ? this.spritespinApi = s()(this.opts.containerSelector + ".is-active").spritespin({
                    source: this.getImageSource(e, t),
                    width: this.opts.width,
                    height: this.opts.height,
                    animate: this.opts.animate,
                    renderer: this.opts.renderer,
                    scrollThreshold: this.opts.scrollThreshold,
                    frame: parseInt(sessionStorage.currentFrame, 10) || 0,
                    frames: t,
                    framesX: 1 === t ? 24 : void 0,
                    reverse: this.opts.reverse,
                    sense: this.opts.sense,
                    onInit: function() {
                        n.publish(n.opts.pluginInitEvent)
                    },
                    onProgress: function() {
                        n.publish(n.opts.imageLoadEvent)
                    },
                    onLoad: function() {
                        n.publish(n.opts.pluginLoadEvent)
                    },
                    onFrame: function() {
                        sessionStorage.currentFrame = n.spritespinApi.currentFrame()
                    }
                }).spritespin("api") : (this.publish(this.opts.pluginInitEvent),
                this.$element.addClass(this.opts.loadingClassName),
                this.singleImageDomInitialized || (this.$element.addClass(this.opts.singleImageClass),
                s()("<div/>", {
                    class: this.opts.spritespinStageClassName
                }).appendTo(this.$element),
                this.singleImageDomInitialized = !0),
                s()('<img src="' + n.getImageSource(e, t)[0] + '" class="' + n.opts.imageClassName + '">').on("load", function() {
                    n.$element.find("." + n.opts.spritespinStageClassName + " img").remove(),
                    s()(this).css("display", "block").appendTo("." + n.opts.spritespinStageClassName),
                    n.publish(n.opts.imageLoadEvent),
                    n.publish(n.opts.pluginLoadEvent),
                    n.$element.removeClass(n.opts.loadingClassName)
                }))
            }
        }, {
            key: "getImageSource",
            value: function(e, t) {
                var n = 0 < arguments.length && void 0 !== e ? e : "/images/car/" + this.opts.color + "/"
                  , i = 1 < arguments.length && void 0 !== t ? t : 24;
                for (var r, a = [], o = 1; o <= i; o++)
                    a.push(n + ("0".repeat(2 - (r = o).toString().length) + r) + ".jpg");
                return a
            }
        }]),
        a
    }()
}
, function(x, T, e) {
    (function(l) {
        var h;
        !function(n) {
            "use strict";
            function u(e) {
                return Array.isArray ? Array.isArray(e) : e instanceof Array
            }
            function d(e) {
                return !1 === e || e === n || null === e
            }
            function c(e, t) {
                return [].slice.call(e, t)
            }
            var t, p = function(e) {
                return "function" == typeof e
            }, e = "undefined", f = typeof TypeError == e ? Error : TypeError;
            if (typeof l != e && l.nextTick)
                t = l.nextTick;
            else if (typeof MessageChannel != e) {
                var i = new MessageChannel
                  , r = [];
                i.port1.onmessage = function() {
                    r.length && r.shift()()
                }
                ,
                t = function(e) {
                    r.push(e),
                    i.port2.postMessage(0)
                }
            } else
                t = function(e) {
                    setTimeout(e, 0)
                }
                ;
            function a(e) {
                t(function() {
                    throw e
                })
            }
            function m(e) {
                return this.then(e, n)
            }
            function g(e) {
                return this.then(n, e)
            }
            function v(t, e) {
                return this.then(function(e) {
                    return p(t) ? t.apply(null, u(e) ? e : [e]) : w.onlyFuncs ? e : t
                }, e || n)
            }
            function y(e) {
                function t() {
                    e()
                }
                return this.then(t, t),
                this
            }
            function b(t) {
                return this.then(function(e) {
                    return p(t) ? t.apply(null, u(e) ? e.splice(0, 0, void 0) && e : [void 0, e]) : w.onlyFuncs ? e : t
                }, function(e) {
                    return t(e)
                })
            }
            function _(t) {
                return this.then(n, t ? function(e) {
                    throw t(e),
                    e
                }
                : a)
            }
            var w = function(e) {
                var a, r = (n !== e ? e : w.alwaysAsync) ? t : function(e) {
                    e()
                }
                , o = 0, s = [], l = {
                    then: function(t, n) {
                        var i = w();
                        return s.push([function(e) {
                            try {
                                d(t) ? i.resolve(e) : i.resolve(p(t) ? t(e) : w.onlyFuncs ? e : t)
                            } catch (e) {
                                i.reject(e)
                            }
                        }
                        , function(e) {
                            if ((d(n) || !p(n) && w.onlyFuncs) && i.reject(e),
                            n)
                                try {
                                    i.resolve(p(n) ? n(e) : n)
                                } catch (e) {
                                    i.reject(e)
                                }
                        }
                        ]),
                        0 !== o && r(u),
                        i.promise
                    },
                    success: m,
                    error: g,
                    otherwise: g,
                    apply: v,
                    spread: v,
                    ensure: y,
                    nodify: b,
                    rethrow: _,
                    isPending: function() {
                        return 0 === o
                    },
                    getStatus: function() {
                        return o
                    }
                };
                function u() {
                    if (0 !== o) {
                        var e, t = s, n = 0, i = t.length, r = ~o ? 0 : 1;
                        for (s = []; n < i; n++)
                            (e = t[n][r]) && e(a)
                    }
                }
                function c(e) {
                    var n = !1;
                    function t(t) {
                        return function(e) {
                            return n ? void 0 : (n = !0,
                            t(e))
                        }
                    }
                    if (o)
                        return this;
                    try {
                        var i = function(e) {
                            return !(!e || !(typeof e).match(/function|object/))
                        }(e) && e.then;
                        if (p(i)) {
                            if (e === l)
                                throw new f("Promise can't resolve itself");
                            return i.call(e, t(c), t(h)),
                            this
                        }
                    } catch (e) {
                        return t(h)(e),
                        this
                    }
                    return r(function() {
                        a = e,
                        o = 1,
                        u()
                    }),
                    this
                }
                function h(e) {
                    return o || r(function() {
                        try {
                            throw e
                        } catch (e) {
                            a = e
                        }
                        o = -1,
                        u()
                    }),
                    this
                }
                return l.toSource = l.toString = l.valueOf = function() {
                    return a === n ? this : a
                }
                ,
                {
                    promise: l,
                    resolve: c,
                    fulfill: c,
                    reject: h
                }
            };
            function o(e, n) {
                var i = c(e);
                if (1 === i.length && u(i[0])) {
                    if (!i[0].length)
                        return w.fulfilled([]);
                    i = i[0]
                }
                var r = []
                  , a = w()
                  , o = i.length;
                if (o)
                    for (var t = function(t) {
                        i[t] = w.promisify(i[t]),
                        i[t].then(function(e) {
                            r[t] = n ? i[t] : e,
                            --o || a.resolve(r)
                        }, function(e) {
                            n ? (r[t] = i[t],
                            --o || a.resolve(r)) : a.reject(e)
                        })
                    }, s = 0, l = o; s < l; s++)
                        t(s);
                else
                    a.resolve(r);
                return a.promise
            }
            function s(e, t) {
                return e.then(p(t) ? t : function() {
                    return t
                }
                )
            }
            w.deferred = w.defer = w,
            w.nextTick = t,
            w.alwaysAsync = !0,
            w.onlyFuncs = !0,
            w.resolve = w.resolved = w.fulfilled = function(e) {
                return w(!0).resolve(e).promise
            }
            ,
            w.reject = w.rejected = function(e) {
                return w(!0).reject(e).promise
            }
            ,
            w.wait = function(e) {
                var t = w();
                return setTimeout(t.resolve, e || 0),
                t.promise
            }
            ,
            w.delay = function(e, t) {
                var n = w();
                return setTimeout(function() {
                    try {
                        n.resolve(p(e) ? e.apply(null) : e)
                    } catch (e) {
                        n.reject(e)
                    }
                }, t || 0),
                n.promise
            }
            ,
            w.promisify = function(e) {
                return e && p(e.then) ? e : w.resolved(e)
            }
            ,
            w.all = function() {
                return o(arguments, !1)
            }
            ,
            w.resolveAll = function() {
                return o(arguments, !0)
            }
            ,
            w.sequence = function() {
                return function(e) {
                    var t = c(e);
                    1 === t.length && u(t[0]) && (t = t[0]);
                    for (var n = w(), i = 0, r = t.length, a = w.resolved(); i < r; i++)
                        a = s(a, t[i]);
                    return n.resolve(a),
                    n.promise
                }(arguments)
            }
            ,
            w.nodeCapsule = function(t, i) {
                return i || (i = t,
                t = void 0),
                function() {
                    var n = w()
                      , e = c(arguments);
                    e.push(function(e, t) {
                        e ? n.reject(e) : n.resolve(2 < arguments.length ? c(arguments, 1) : t)
                    });
                    try {
                        i.apply(t, e)
                    } catch (e) {
                        n.reject(e)
                    }
                    return n.promise
                }
            }
            ,
            void 0 === (h = function() {
                return w
            }
            .apply(T, [])) || (x.exports = h)
        }()
    }
    ).call(this, e(595))
}
, function(e, t, n) {
    var i, r, a, o;
    /*!
 * uEvent - to make any js object an event emitter
 * Copyright 2011 Jerome Etienne (http://jetienne.com)
 * Copyright 2015-2016 Damien "Mistic" Sorel (http://www.strangeplanet.fr)
 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */
    /*!
 * uEvent - to make any js object an event emitter
 * Copyright 2011 Jerome Etienne (http://jetienne.com)
 * Copyright 2015-2016 Damien "Mistic" Sorel (http://www.strangeplanet.fr)
 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */
    o = function() {
        "use strict";
        function e() {
            return !0
        }
        function t() {
            return !1
        }
        function s() {}
        return (s.Event = function(e, t) {
            var n = e
              , i = t;
            Object.defineProperties(this, {
                type: {
                    get: function() {
                        return n
                    },
                    set: function(e) {},
                    enumerable: !0
                },
                args: {
                    get: function() {
                        return i
                    },
                    set: function(e) {},
                    enumerable: !0
                }
            })
        }
        ).prototype = {
            constructor: s.Event,
            isDefaultPrevented: t,
            isPropagationStopped: t,
            preventDefault: function() {
                this.isDefaultPrevented = e
            },
            stopPropagation: function() {
                this.isPropagationStopped = e
            }
        },
        s.prototype = {
            constructor: s,
            on: function(e, t) {
                if (this.__events = this.__events || {},
                "object" == typeof e)
                    for (var n in e)
                        e.hasOwnProperty(n) && (this.__events[n] = this.__events[n] || [],
                        this.__events[n].push(e[n]));
                else
                    e.split(" ").forEach(function(e) {
                        this.__events[e] = this.__events[e] || [],
                        this.__events[e].push(t)
                    }, this);
                return this
            },
            off: function(e, n) {
                if (this.__events = this.__events || {},
                "object" == typeof e) {
                    for (var t in e)
                        if (e.hasOwnProperty(t) && t in this.__events) {
                            var i = this.__events[t].indexOf(e[t]);
                            -1 !== i && this.__events[t].splice(i, 1)
                        }
                } else
                    e ? e.split(" ").forEach(function(e) {
                        if (e in this.__events)
                            if (n) {
                                var t = this.__events[e].indexOf(n);
                                -1 !== t && this.__events[e].splice(t, 1)
                            } else
                                this.__events[e].length = 0
                    }, this) : this.__events = {};
                return this
            },
            once: function(e, t) {
                if (this.__once = this.__once || {},
                "object" == typeof e)
                    for (var n in e)
                        e.hasOwnProperty(n) && (this.__once[n] = this.__once[n] || [],
                        this.__once[n].push(e[n]));
                else
                    e.split(" ").forEach(function(e) {
                        this.__once[e] = this.__once[e] || [],
                        this.__once[e].push(t)
                    }, this);
                return this
            },
            trigger: function(e) {
                var t, n, i, r = Array.prototype.slice.call(arguments, 1), a = new s.Event(e,r);
                if (r.push(a),
                this.__events && e in this.__events)
                    for (t = 0,
                    n = this.__events[e].length; t < n; t++)
                        if ("object" == typeof (i = this.__events[e][t]) ? i.handleEvent(a) : i.apply(this, r),
                        a.isPropagationStopped())
                            return a;
                if (this.__once && e in this.__once) {
                    for (t = 0,
                    n = this.__once[e].length; t < n; t++)
                        if ("object" == typeof (i = this.__once[e][t]) ? i.handleEvent(a) : i.apply(this, r),
                        a.isPropagationStopped())
                            return delete this.__once[e],
                            a;
                    delete this.__once[e]
                }
                return a
            },
            change: function(e, t) {
                var n, i, r, a = Array.prototype.slice.call(arguments, 1), o = new s.Event(e,a);
                if (a.push(o),
                this.__events && e in this.__events)
                    for (n = 0,
                    i = this.__events[e].length; n < i; n++)
                        if (a[0] = t,
                        t = "object" == typeof (r = this.__events[e][n]) ? r.handleEvent(o) : r.apply(this, a),
                        o.isPropagationStopped())
                            return t;
                return t
            }
        },
        s.mixin = function(n, i) {
            i = i || {},
            n = "function" == typeof n ? n.prototype : n,
            ["on", "off", "once", "trigger", "change"].forEach(function(e) {
                var t = i[e] || e;
                n[t] = s.prototype[e]
            }),
            Object.defineProperties(n, {
                __events: {
                    value: null,
                    writable: !0
                },
                __once: {
                    value: null,
                    writable: !0
                }
            })
        }
        ,
        s
    }
    ,
    e.exports ? e.exports = o() : (r = [],
    void 0 === (a = "function" == typeof (i = o) ? i.apply(t, r) : i) || (e.exports = a))
}
, function(e, t, n) {
    var i;
    !function() {
        "use strict";
        var l, u = {
            name: "doT",
            version: "1.1.1",
            templateSettings: {
                evaluate: /\{\{([\s\S]+?(\}?)+)\}\}/g,
                interpolate: /\{\{=([\s\S]+?)\}\}/g,
                encode: /\{\{!([\s\S]+?)\}\}/g,
                use: /\{\{#([\s\S]+?)\}\}/g,
                useParams: /(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,
                define: /\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,
                defineParams: /^\s*([\w$]+):([\s\S]+)/,
                conditional: /\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,
                iterate: /\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,
                varname: "it",
                strip: !0,
                append: !0,
                selfcontained: !1,
                doNotSkipEncoded: !1
            },
            template: void 0,
            compile: void 0,
            log: !0
        };
        u.encodeHTMLSource = function(e) {
            var t = {
                "&": "&#38;",
                "<": "&#60;",
                ">": "&#62;",
                '"': "&#34;",
                "'": "&#39;",
                "/": "&#47;"
            }
              , n = e ? /[&<>"'\/]/g : /&(?!#?\w+;)|<|>|"|'|\//g;
            return function(e) {
                return e ? e.toString().replace(n, function(e) {
                    return t[e] || e
                }) : ""
            }
        }
        ,
        l = function() {
            return this || (0,
            eval)("this")
        }(),
        e.exports ? e.exports = u : void 0 === (i = function() {
            return u
        }
        .call(t, n, t, e)) || (e.exports = i);
        var c = {
            append: {
                start: "'+(",
                end: ")+'",
                startencode: "'+encodeHTML("
            },
            split: {
                start: "';out+=(",
                end: ");out+='",
                startencode: "';out+=encodeHTML("
            }
        }
          , h = /$^/;
        function d(e) {
            return e.replace(/\\('|\\)/g, "$1").replace(/[\r\t\n]/g, " ")
        }
        u.template = function(e, t, n) {
            var i, r, a = (t = t || u.templateSettings).append ? c.append : c.split, o = 0, s = t.use || t.define ? function i(r, e, a) {
                return ("string" == typeof e ? e : e.toString()).replace(r.define || h, function(e, i, t, n) {
                    return 0 === i.indexOf("def.") && (i = i.substring(4)),
                    i in a || (":" === t ? (r.defineParams && n.replace(r.defineParams, function(e, t, n) {
                        a[i] = {
                            arg: t,
                            text: n
                        }
                    }),
                    i in a || (a[i] = n)) : new Function("def","def['" + i + "']=" + n)(a)),
                    ""
                }).replace(r.use || h, function(e, t) {
                    r.useParams && (t = t.replace(r.useParams, function(e, t, n, i) {
                        if (a[n] && a[n].arg && i) {
                            var r = (n + ":" + i).replace(/'|\\/g, "_");
                            return a.__exp = a.__exp || {},
                            a.__exp[r] = a[n].text.replace(new RegExp("(^|[^\\w$])" + a[n].arg + "([^\\w$])","g"), "$1" + i + "$2"),
                            t + "def.__exp['" + r + "']"
                        }
                    }));
                    var n = new Function("def","return " + t)(a);
                    return n ? i(r, n, a) : n
                })
            }(t, e, n || {}) : e;
            s = ("var out='" + (t.strip ? s.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g, " ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g, "") : s).replace(/'|\\/g, "\\$&").replace(t.interpolate || h, function(e, t) {
                return a.start + d(t) + a.end
            }).replace(t.encode || h, function(e, t) {
                return i = !0,
                a.startencode + d(t) + a.end
            }).replace(t.conditional || h, function(e, t, n) {
                return t ? n ? "';}else if(" + d(n) + "){out+='" : "';}else{out+='" : n ? "';if(" + d(n) + "){out+='" : "';}out+='"
            }).replace(t.iterate || h, function(e, t, n, i) {
                return t ? (o += 1,
                r = i || "i" + o,
                t = d(t),
                "';var arr" + o + "=" + t + ";if(arr" + o + "){var " + n + "," + r + "=-1,l" + o + "=arr" + o + ".length-1;while(" + r + "<l" + o + "){" + n + "=arr" + o + "[" + r + "+=1];out+='") : "';} } out+='"
            }).replace(t.evaluate || h, function(e, t) {
                return "';" + d(t) + "out+='"
            }) + "';return out;").replace(/\n/g, "\\n").replace(/\t/g, "\\t").replace(/\r/g, "\\r").replace(/(\s|;|\}|^|\{)out\+='';/g, "$1").replace(/\+''/g, ""),
            i && (t.selfcontained || !l || l._encodeHTML || (l._encodeHTML = u.encodeHTMLSource(t.doNotSkipEncoded)),
            s = "var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (" + u.encodeHTMLSource.toString() + "(" + (t.doNotSkipEncoded || "") + "));" + s);
            try {
                return new Function(t.varname,s)
            } catch (e) {
                throw "undefined" != typeof console && console.log("Could not create a template function: " + s),
                e
            }
        }
        ,
        u.compile = function(e, t) {
            return u.template(e, null, t)
        }
    }()
}
, function(e, t, n) {}
, function(e, t, n) {
    "use strict";
    n(336);
    var i, r = (i = n(508)) && i.__esModule ? i : {
        default: i
    };
    r.default._babelPolyfill && "undefined" != typeof console && console.warn && console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),
    r.default._babelPolyfill = !0
}
, function(e, t, n) {
    "use strict";
    n(337),
    n(480),
    n(482),
    n(485),
    n(487),
    n(489),
    n(491),
    n(493),
    n(495),
    n(497),
    n(499),
    n(501),
    n(503),
    n(507)
}
, function(e, t, n) {
    n(338),
    n(341),
    n(342),
    n(343),
    n(344),
    n(345),
    n(346),
    n(347),
    n(348),
    n(349),
    n(350),
    n(351),
    n(352),
    n(353),
    n(354),
    n(355),
    n(356),
    n(357),
    n(358),
    n(359),
    n(360),
    n(361),
    n(362),
    n(363),
    n(364),
    n(365),
    n(366),
    n(367),
    n(368),
    n(369),
    n(370),
    n(371),
    n(372),
    n(373),
    n(374),
    n(375),
    n(376),
    n(377),
    n(378),
    n(379),
    n(380),
    n(381),
    n(382),
    n(384),
    n(385),
    n(386),
    n(387),
    n(388),
    n(389),
    n(390),
    n(391),
    n(392),
    n(393),
    n(394),
    n(395),
    n(396),
    n(397),
    n(398),
    n(399),
    n(400),
    n(401),
    n(402),
    n(403),
    n(404),
    n(405),
    n(406),
    n(407),
    n(408),
    n(409),
    n(410),
    n(411),
    n(412),
    n(413),
    n(414),
    n(415),
    n(416),
    n(417),
    n(419),
    n(420),
    n(422),
    n(423),
    n(424),
    n(425),
    n(426),
    n(427),
    n(428),
    n(430),
    n(431),
    n(432),
    n(433),
    n(434),
    n(435),
    n(436),
    n(437),
    n(438),
    n(439),
    n(440),
    n(441),
    n(442),
    n(131),
    n(443),
    n(181),
    n(444),
    n(182),
    n(445),
    n(446),
    n(447),
    n(448),
    n(183),
    n(451),
    n(452),
    n(453),
    n(454),
    n(455),
    n(456),
    n(457),
    n(458),
    n(459),
    n(460),
    n(461),
    n(462),
    n(463),
    n(464),
    n(465),
    n(466),
    n(467),
    n(468),
    n(469),
    n(470),
    n(471),
    n(472),
    n(473),
    n(474),
    n(475),
    n(476),
    n(477),
    n(478),
    n(479),
    e.exports = n(11)
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        var t = $[e] = A(U[H]);
        return t._k = e,
        t
    }
    function r(e, t) {
        S(e);
        for (var n, i = x(t = M(t)), r = 0, a = i.length; r < a; )
            te(e, n = i[r++], t[n]);
        return e
    }
    function a(e) {
        var t = W.call(this, e = k(e, !0));
        return !(this === Y && c($, e) && !c(X, e)) && (!(t || !c(this, e) || !c($, e) || c(this, V) && this[V][e]) || t)
    }
    function o(e, t) {
        if (e = M(e),
        t = k(t, !0),
        e !== Y || !c($, t) || c(X, t)) {
            var n = N(e, t);
            return !n || !c($, t) || c(e, V) && e[V][t] || (n.enumerable = !0),
            n
        }
    }
    function s(e) {
        for (var t, n = B(M(e)), i = [], r = 0; n.length > r; )
            c($, t = n[r++]) || t == V || t == f || i.push(t);
        return i
    }
    function l(e) {
        for (var t, n = e === Y, i = B(n ? X : M(e)), r = [], a = 0; i.length > a; )
            !c($, t = i[a++]) || n && !c(Y, t) || r.push($[t]);
        return r
    }
    var u = n(5)
      , c = n(21)
      , h = n(12)
      , d = n(2)
      , p = n(19)
      , f = n(38).KEY
      , m = n(6)
      , g = n(85)
      , v = n(58)
      , y = n(43)
      , b = n(9)
      , _ = n(112)
      , w = n(162)
      , x = n(340)
      , T = n(88)
      , S = n(7)
      , E = n(8)
      , C = n(15)
      , M = n(23)
      , k = n(37)
      , P = n(42)
      , A = n(47)
      , I = n(165)
      , L = n(30)
      , O = n(87)
      , R = n(13)
      , D = n(45)
      , N = L.f
      , F = R.f
      , B = I.f
      , U = u.Symbol
      , j = u.JSON
      , z = j && j.stringify
      , H = "prototype"
      , V = b("_hidden")
      , G = b("toPrimitive")
      , W = {}.propertyIsEnumerable
      , q = g("symbol-registry")
      , $ = g("symbols")
      , X = g("op-symbols")
      , Y = Object[H]
      , K = "function" == typeof U && !!O.f
      , Z = u.QObject
      , Q = !Z || !Z[H] || !Z[H].findChild
      , J = h && m(function() {
        return 7 != A(F({}, "a", {
            get: function() {
                return F(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }) ? function(e, t, n) {
        var i = N(Y, t);
        i && delete Y[t],
        F(e, t, n),
        i && e !== Y && F(Y, t, i)
    }
    : F
      , ee = K && "symbol" == typeof U.iterator ? function(e) {
        return "symbol" == typeof e
    }
    : function(e) {
        return e instanceof U
    }
      , te = function(e, t, n) {
        return e === Y && te(X, t, n),
        S(e),
        t = k(t, !0),
        S(n),
        c($, t) ? (n.enumerable ? (c(e, V) && e[V][t] && (e[V][t] = !1),
        n = A(n, {
            enumerable: P(0, !1)
        })) : (c(e, V) || F(e, V, P(1, {})),
        e[V][t] = !0),
        J(e, t, n)) : F(e, t, n)
    };
    K || (p((U = function(e) {
        if (this instanceof U)
            throw TypeError("Symbol is not a constructor!");
        var t = y(0 < arguments.length ? e : void 0)
          , n = function(e) {
            this === Y && n.call(X, e),
            c(this, V) && c(this[V], t) && (this[V][t] = !1),
            J(this, t, P(1, e))
        };
        return h && Q && J(Y, t, {
            configurable: !0,
            set: n
        }),
        i(t)
    }
    )[H], "toString", function() {
        return this._k
    }),
    L.f = o,
    R.f = te,
    n(48).f = I.f = s,
    n(75).f = a,
    O.f = l,
    h && !n(44) && p(Y, "propertyIsEnumerable", a, !0),
    _.f = function(e) {
        return i(b(e))
    }
    ),
    d(d.G + d.W + d.F * !K, {
        Symbol: U
    });
    for (var ne = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ie = 0; ne.length > ie; )
        b(ne[ie++]);
    for (var re = D(b.store), ae = 0; re.length > ae; )
        w(re[ae++]);
    d(d.S + d.F * !K, "Symbol", {
        for: function(e) {
            return c(q, e += "") ? q[e] : q[e] = U(e)
        },
        keyFor: function(e) {
            if (!ee(e))
                throw TypeError(e + " is not a symbol!");
            for (var t in q)
                if (q[t] === e)
                    return t
        },
        useSetter: function() {
            Q = !0
        },
        useSimple: function() {
            Q = !1
        }
    }),
    d(d.S + d.F * !K, "Object", {
        create: function(e, t) {
            return void 0 === t ? A(e) : r(A(e), t)
        },
        defineProperty: te,
        defineProperties: r,
        getOwnPropertyDescriptor: o,
        getOwnPropertyNames: s,
        getOwnPropertySymbols: l
    });
    var oe = m(function() {
        O.f(1)
    });
    d(d.S + d.F * oe, "Object", {
        getOwnPropertySymbols: function(e) {
            return O.f(C(e))
        }
    }),
    j && d(d.S + d.F * (!K || m(function() {
        var e = U();
        return "[null]" != z([e]) || "{}" != z({
            a: e
        }) || "{}" != z(Object(e))
    })), "JSON", {
        stringify: function(e) {
            for (var t, n, i = [e], r = 1; r < arguments.length; )
                i.push(arguments[r++]);
            if (n = t = i[1],
            (E(t) || void 0 !== e) && !ee(e))
                return T(t) || (t = function(e, t) {
                    if ("function" == typeof n && (t = n.call(this, e, t)),
                    !ee(t))
                        return t
                }
                ),
                i[1] = t,
                z.apply(j, i)
        }
    }),
    U[H][G] || n(22)(U[H], G, U[H].valueOf),
    v(U, "Symbol"),
    v(Math, "Math", !0),
    v(u.JSON, "JSON", !0)
}
, function(e, t, n) {
    e.exports = n(85)("native-function-to-string", Function.toString)
}
, function(e, t, n) {
    var s = n(45)
      , l = n(87)
      , u = n(75);
    e.exports = function(e) {
        var t = s(e)
          , n = l.f;
        if (n)
            for (var i, r = n(e), a = u.f, o = 0; r.length > o; )
                a.call(e, i = r[o++]) && t.push(i);
        return t
    }
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Object", {
        create: n(47)
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S + i.F * !n(12), "Object", {
        defineProperty: n(13).f
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S + i.F * !n(12), "Object", {
        defineProperties: n(164)
    })
}
, function(e, t, n) {
    var i = n(23)
      , r = n(30).f;
    n(31)("getOwnPropertyDescriptor", function() {
        return function(e, t) {
            return r(i(e), t)
        }
    })
}
, function(e, t, n) {
    var i = n(15)
      , r = n(49);
    n(31)("getPrototypeOf", function() {
        return function(e) {
            return r(i(e))
        }
    })
}
, function(e, t, n) {
    var i = n(15)
      , r = n(45);
    n(31)("keys", function() {
        return function(e) {
            return r(i(e))
        }
    })
}
, function(e, t, n) {
    n(31)("getOwnPropertyNames", function() {
        return n(165).f
    })
}
, function(e, t, n) {
    var i = n(8)
      , r = n(38).onFreeze;
    n(31)("freeze", function(t) {
        return function(e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}
, function(e, t, n) {
    var i = n(8)
      , r = n(38).onFreeze;
    n(31)("seal", function(t) {
        return function(e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}
, function(e, t, n) {
    var i = n(8)
      , r = n(38).onFreeze;
    n(31)("preventExtensions", function(t) {
        return function(e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}
, function(e, t, n) {
    var i = n(8);
    n(31)("isFrozen", function(t) {
        return function(e) {
            return !i(e) || !!t && t(e)
        }
    })
}
, function(e, t, n) {
    var i = n(8);
    n(31)("isSealed", function(t) {
        return function(e) {
            return !i(e) || !!t && t(e)
        }
    })
}
, function(e, t, n) {
    var i = n(8);
    n(31)("isExtensible", function(t) {
        return function(e) {
            return !!i(e) && (!t || t(e))
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S + i.F, "Object", {
        assign: n(166)
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Object", {
        is: n(167)
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Object", {
        setPrototypeOf: n(116).set
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(76)
      , r = {};
    r[n(9)("toStringTag")] = "z",
    r + "" != "[object z]" && n(19)(Object.prototype, "toString", function() {
        return "[object " + i(this) + "]"
    }, !0)
}
, function(e, t, n) {
    var i = n(2);
    i(i.P, "Function", {
        bind: n(168)
    })
}
, function(e, t, n) {
    var i = n(13).f
      , r = Function.prototype
      , a = /^\s*function ([^ (]*)/;
    "name"in r || n(12) && i(r, "name", {
        configurable: !0,
        get: function() {
            try {
                return ("" + this).match(a)[1]
            } catch (e) {
                return ""
            }
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(8)
      , r = n(49)
      , a = n(9)("hasInstance")
      , o = Function.prototype;
    a in o || n(13).f(o, a, {
        value: function(e) {
            if ("function" != typeof this || !i(e))
                return !1;
            if (!i(this.prototype))
                return e instanceof this;
            for (; e = r(e); )
                if (this.prototype === e)
                    return !0;
            return !1
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(170);
    i(i.G + i.F * (parseInt != r), {
        parseInt: r
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(171);
    i(i.G + i.F * (parseFloat != r), {
        parseFloat: r
    })
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        var t = c(e, !1);
        if ("string" == typeof t && 2 < t.length) {
            var n, i, r, a = (t = b ? t.trim() : p(t, 3)).charCodeAt(0);
            if (43 === a || 45 === a) {
                if (88 === (n = t.charCodeAt(2)) || 120 === n)
                    return NaN
            } else if (48 === a) {
                switch (t.charCodeAt(1)) {
                case 66:
                case 98:
                    i = 2,
                    r = 49;
                    break;
                case 79:
                case 111:
                    i = 8,
                    r = 55;
                    break;
                default:
                    return +t
                }
                for (var o, s = t.slice(2), l = 0, u = s.length; l < u; l++)
                    if ((o = s.charCodeAt(l)) < 48 || r < o)
                        return NaN;
                return parseInt(s, i)
            }
        }
        return +t
    }
    var r = n(5)
      , a = n(21)
      , o = n(34)
      , s = n(118)
      , c = n(37)
      , l = n(6)
      , u = n(48).f
      , h = n(30).f
      , d = n(13).f
      , p = n(59).trim
      , f = "Number"
      , m = r[f]
      , g = m
      , v = m.prototype
      , y = o(n(47)(v)) == f
      , b = "trim"in String.prototype;
    if (!m(" 0o1") || !m("0b1") || m("+0x1")) {
        m = function(e) {
            var t = arguments.length < 1 ? 0 : e
              , n = this;
            return n instanceof m && (y ? l(function() {
                v.valueOf.call(n)
            }) : o(n) != f) ? s(new g(i(t)), n, m) : i(t)
        }
        ;
        for (var _, w = n(12) ? u(g) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), x = 0; w.length > x; x++)
            a(g, _ = w[x]) && !a(m, _) && d(m, _, h(g, _));
        (m.prototype = v).constructor = m,
        n(19)(r, f, m)
    }
}
, function(e, t, n) {
    "use strict";
    function u(e, t) {
        for (var n = -1, i = t; ++n < 6; )
            i += e * o[n],
            o[n] = i % 1e7,
            i = a(i / 1e7)
    }
    function c(e) {
        for (var t = 6, n = 0; 0 <= --t; )
            n += o[t],
            o[t] = a(n / e),
            n = n % e * 1e7
    }
    function h() {
        for (var e = 6, t = ""; 0 <= --e; )
            if ("" !== t || 0 === e || 0 !== o[e]) {
                var n = String(o[e]);
                t = "" === t ? n : t + f.call("0", 7 - n.length) + n
            }
        return t
    }
    var i = n(2)
      , d = n(29)
      , p = n(172)
      , f = n(119)
      , r = 1..toFixed
      , a = Math.floor
      , o = [0, 0, 0, 0, 0, 0]
      , m = "Number.toFixed: incorrect invocation!"
      , g = function(e, t, n) {
        return 0 === t ? n : t % 2 == 1 ? g(e, t - 1, n * e) : g(e * e, t / 2, n)
    };
    i(i.P + i.F * (!!r && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !n(6)(function() {
        r.call({})
    })), "Number", {
        toFixed: function(e) {
            var t, n, i, r, a = p(this, m), o = d(e), s = "", l = "0";
            if (o < 0 || 20 < o)
                throw RangeError(m);
            if (a != a)
                return "NaN";
            if (a <= -1e21 || 1e21 <= a)
                return String(a);
            if (a < 0 && (s = "-",
            a = -a),
            1e-21 < a)
                if (n = (t = function(e) {
                    for (var t = 0, n = e; 4096 <= n; )
                        t += 12,
                        n /= 4096;
                    for (; 2 <= n; )
                        t += 1,
                        n /= 2;
                    return t
                }(a * g(2, 69, 1)) - 69) < 0 ? a * g(2, -t, 1) : a / g(2, t, 1),
                n *= 4503599627370496,
                0 < (t = 52 - t)) {
                    for (u(0, n),
                    i = o; 7 <= i; )
                        u(1e7, 0),
                        i -= 7;
                    for (u(g(10, i, 1), 0),
                    i = t - 1; 23 <= i; )
                        c(1 << 23),
                        i -= 23;
                    c(1 << i),
                    u(1, 1),
                    c(2),
                    l = h()
                } else
                    u(0, n),
                    u(1 << -t, 0),
                    l = h() + f.call("0", o);
            return l = 0 < o ? s + ((r = l.length) <= o ? "0." + f.call("0", o - r) + l : l.slice(0, r - o) + "." + l.slice(r - o)) : s + l
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(6)
      , a = n(172)
      , o = 1..toPrecision;
    i(i.P + i.F * (r(function() {
        return "1" !== o.call(1, void 0)
    }) || !r(function() {
        o.call({})
    })), "Number", {
        toPrecision: function(e) {
            var t = a(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === e ? o.call(t) : o.call(t, e)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(5).isFinite;
    i(i.S, "Number", {
        isFinite: function(e) {
            return "number" == typeof e && r(e)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Number", {
        isInteger: n(173)
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Number", {
        isNaN: function(e) {
            return e != e
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(173)
      , a = Math.abs;
    i(i.S, "Number", {
        isSafeInteger: function(e) {
            return r(e) && a(e) <= 9007199254740991
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(171);
    i(i.S + i.F * (Number.parseFloat != r), "Number", {
        parseFloat: r
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(170);
    i(i.S + i.F * (Number.parseInt != r), "Number", {
        parseInt: r
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(174)
      , a = Math.sqrt
      , o = Math.acosh;
    i(i.S + i.F * !(o && 710 == Math.floor(o(Number.MAX_VALUE)) && o(1 / 0) == 1 / 0), "Math", {
        acosh: function(e) {
            return (e = +e) < 1 ? NaN : 94906265.62425156 < e ? Math.log(e) + Math.LN2 : r(e - 1 + a(e - 1) * a(e + 1))
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = Math.asinh;
    i(i.S + i.F * !(r && 0 < 1 / r(0)), "Math", {
        asinh: function e(t) {
            return isFinite(t = +t) && 0 != t ? t < 0 ? -e(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = Math.atanh;
    i(i.S + i.F * !(r && 1 / r(-0) < 0), "Math", {
        atanh: function(e) {
            return 0 == (e = +e) ? e : Math.log((1 + e) / (1 - e)) / 2
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(120);
    i(i.S, "Math", {
        cbrt: function(e) {
            return r(e = +e) * Math.pow(Math.abs(e), 1 / 3)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        clz32: function(e) {
            return (e >>>= 0) ? 31 - Math.floor(Math.log(e + .5) * Math.LOG2E) : 32
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = Math.exp;
    i(i.S, "Math", {
        cosh: function(e) {
            return (r(e = +e) + r(-e)) / 2
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(121);
    i(i.S + i.F * (r != Math.expm1), "Math", {
        expm1: r
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        fround: n(383)
    })
}
, function(e, t, n) {
    var a = n(120)
      , i = Math.pow
      , o = i(2, -52)
      , s = i(2, -23)
      , l = i(2, 127) * (2 - s)
      , u = i(2, -126);
    e.exports = Math.fround || function(e) {
        var t, n, i = Math.abs(e), r = a(e);
        return i < u ? r * function(e) {
            return e + 1 / o - 1 / o
        }(i / u / s) * u * s : l < (n = (t = (1 + s / o) * i) - (t - i)) || n != n ? r * (1 / 0) : r * n
    }
}
, function(e, t, n) {
    var i = n(2)
      , l = Math.abs;
    i(i.S, "Math", {
        hypot: function(e, t) {
            for (var n, i, r = 0, a = 0, o = arguments.length, s = 0; a < o; )
                s < (n = l(arguments[a++])) ? (r = r * (i = s / n) * i + 1,
                s = n) : r += 0 < n ? (i = n / s) * i : n;
            return s === 1 / 0 ? 1 / 0 : s * Math.sqrt(r)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = Math.imul;
    i(i.S + i.F * n(6)(function() {
        return -5 != r(4294967295, 5) || 2 != r.length
    }), "Math", {
        imul: function(e, t) {
            var n = +e
              , i = +t
              , r = 65535 & n
              , a = 65535 & i;
            return 0 | r * a + ((65535 & n >>> 16) * a + r * (65535 & i >>> 16) << 16 >>> 0)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        log10: function(e) {
            return Math.log(e) * Math.LOG10E
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        log1p: n(174)
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        log2: function(e) {
            return Math.log(e) / Math.LN2
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        sign: n(120)
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(121)
      , a = Math.exp;
    i(i.S + i.F * n(6)(function() {
        return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
        sinh: function(e) {
            return Math.abs(e = +e) < 1 ? (r(e) - r(-e)) / 2 : (a(e - 1) - a(-e - 1)) * (Math.E / 2)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(121)
      , a = Math.exp;
    i(i.S, "Math", {
        tanh: function(e) {
            var t = r(e = +e)
              , n = r(-e);
            return t == 1 / 0 ? 1 : n == 1 / 0 ? -1 : (t - n) / (a(e) + a(-e))
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Math", {
        trunc: function(e) {
            return (0 < e ? Math.floor : Math.ceil)(e)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , a = n(46)
      , o = String.fromCharCode
      , r = String.fromCodePoint;
    i(i.S + i.F * (!!r && 1 != r.length), "String", {
        fromCodePoint: function(e) {
            for (var t, n = [], i = arguments.length, r = 0; r < i; ) {
                if (t = +arguments[r++],
                a(t, 1114111) !== t)
                    throw RangeError(t + " is not a valid code point");
                n.push(t < 65536 ? o(t) : o(55296 + ((t -= 65536) >> 10), t % 1024 + 56320))
            }
            return n.join("")
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , o = n(23)
      , s = n(10);
    i(i.S, "String", {
        raw: function(e) {
            for (var t = o(e.raw), n = s(t.length), i = arguments.length, r = [], a = 0; a < n; )
                r.push(String(t[a++])),
                a < i && r.push(String(arguments[a]));
            return r.join("")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(59)("trim", function(e) {
        return function() {
            return e(this, 3)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(122)(!0);
    n(123)(String, "String", function(e) {
        this._t = String(e),
        this._i = 0
    }, function() {
        var e, t = this._t, n = this._i;
        return n >= t.length ? {
            value: void 0,
            done: !0
        } : (e = i(t, n),
        this._i += e.length,
        {
            value: e,
            done: !1
        })
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(122)(!1);
    i(i.P, "String", {
        codePointAt: function(e) {
            return r(this, e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , s = n(10)
      , l = n(124)
      , u = "endsWith"
      , c = ""[u];
    i(i.P + i.F * n(126)(u), "String", {
        endsWith: function(e, t) {
            var n = l(this, e, u)
              , i = 1 < arguments.length ? t : void 0
              , r = s(n.length)
              , a = void 0 === i ? r : Math.min(s(i), r)
              , o = String(e);
            return c ? c.call(n, o, a) : n.slice(a - o.length, a) === o
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(124);
    i(i.P + i.F * n(126)("includes"), "String", {
        includes: function(e, t) {
            return !!~r(this, e, "includes").indexOf(e, 1 < arguments.length ? t : void 0)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.P, "String", {
        repeat: n(119)
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , a = n(10)
      , o = n(124)
      , s = "startsWith"
      , l = ""[s];
    i(i.P + i.F * n(126)(s), "String", {
        startsWith: function(e, t) {
            var n = o(this, e, s)
              , i = a(Math.min(1 < arguments.length ? t : void 0, n.length))
              , r = String(e);
            return l ? l.call(n, r, i) : n.slice(i, i + r.length) === r
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("anchor", function(t) {
        return function(e) {
            return t(this, "a", "name", e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("big", function(e) {
        return function() {
            return e(this, "big", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("blink", function(e) {
        return function() {
            return e(this, "blink", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("bold", function(e) {
        return function() {
            return e(this, "b", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("fixed", function(e) {
        return function() {
            return e(this, "tt", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("fontcolor", function(t) {
        return function(e) {
            return t(this, "font", "color", e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("fontsize", function(t) {
        return function(e) {
            return t(this, "font", "size", e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("italics", function(e) {
        return function() {
            return e(this, "i", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("link", function(t) {
        return function(e) {
            return t(this, "a", "href", e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("small", function(e) {
        return function() {
            return e(this, "small", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("strike", function(e) {
        return function() {
            return e(this, "strike", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("sub", function(e) {
        return function() {
            return e(this, "sub", "", "")
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(20)("sup", function(e) {
        return function() {
            return e(this, "sup", "", "")
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(15)
      , a = n(37);
    i(i.P + i.F * n(6)(function() {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function() {
                return 1
            }
        })
    }), "Date", {
        toJSON: function(e) {
            var t = r(this)
              , n = a(t);
            return "number" != typeof n || isFinite(n) ? t.toISOString() : null
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(418);
    i(i.P + i.F * (Date.prototype.toISOString !== r), "Date", {
        toISOString: r
    })
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return 9 < e ? e : "0" + e
    }
    var r = n(6)
      , a = Date.prototype.getTime
      , o = Date.prototype.toISOString;
    e.exports = r(function() {
        return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1))
    }) || !r(function() {
        o.call(new Date(NaN))
    }) ? function() {
        if (!isFinite(a.call(this)))
            throw RangeError("Invalid time value");
        var e = this.getUTCFullYear()
          , t = this.getUTCMilliseconds()
          , n = e < 0 ? "-" : 9999 < e ? "+" : "";
        return n + ("00000" + Math.abs(e)).slice(n ? -6 : -4) + "-" + i(this.getUTCMonth() + 1) + "-" + i(this.getUTCDate()) + "T" + i(this.getUTCHours()) + ":" + i(this.getUTCMinutes()) + ":" + i(this.getUTCSeconds()) + "." + (99 < t ? t : "0" + i(t)) + "Z"
    }
    : o
}
, function(e, t, n) {
    var i = Date.prototype
      , r = "Invalid Date"
      , a = i.toString
      , o = i.getTime;
    new Date(NaN) + "" != r && n(19)(i, "toString", function() {
        var e = o.call(this);
        return e == e ? a.call(this) : r
    })
}
, function(e, t, n) {
    var i = n(9)("toPrimitive")
      , r = Date.prototype;
    i in r || n(22)(r, i, n(421))
}
, function(e, t, n) {
    "use strict";
    var i = n(7)
      , r = n(37);
    e.exports = function(e) {
        if ("string" !== e && "number" !== e && "default" !== e)
            throw TypeError("Incorrect hint");
        return r(i(this), "number" != e)
    }
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Array", {
        isArray: n(88)
    })
}
, function(e, t, n) {
    "use strict";
    var f = n(27)
      , i = n(2)
      , m = n(15)
      , g = n(176)
      , v = n(127)
      , y = n(10)
      , b = n(128)
      , _ = n(129);
    i(i.S + i.F * !n(89)(function(e) {
        Array.from(e)
    }), "Array", {
        from: function(e, t, n) {
            var i, r, a, o, s = m(e), l = "function" == typeof this ? this : Array, u = arguments.length, c = 1 < u ? t : void 0, h = void 0 !== c, d = 0, p = _(s);
            if (h && (c = f(c, 2 < u ? n : void 0, 2)),
            null == p || l == Array && v(p))
                for (r = new l(i = y(s.length)); d < i; d++)
                    b(r, d, h ? c(s[d], d) : s[d]);
            else
                for (o = p.call(s),
                r = new l; !(a = o.next()).done; d++)
                    b(r, d, h ? g(o, c, [a.value, d], !0) : a.value);
            return r.length = d,
            r
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(128);
    i(i.S + i.F * n(6)(function() {
        function e() {}
        return !(Array.of.call(e)instanceof e)
    }), "Array", {
        of: function() {
            for (var e = 0, t = arguments.length, n = new ("function" == typeof this ? this : Array)(t); e < t; )
                r(n, e, arguments[e++]);
            return n.length = t,
            n
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(23)
      , a = [].join;
    i(i.P + i.F * (n(74) != Object || !n(25)(a)), "Array", {
        join: function(e) {
            return a.call(r(this), void 0 === e ? "," : e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(115)
      , u = n(34)
      , c = n(46)
      , h = n(10)
      , d = [].slice;
    i(i.P + i.F * n(6)(function() {
        r && d.call(r)
    }), "Array", {
        slice: function(e, t) {
            var n = h(this.length)
              , i = u(this);
            if (t = void 0 === t ? n : t,
            "Array" == i)
                return d.call(this, e, t);
            for (var r = c(e, n), a = c(t, n), o = h(a - r), s = new Array(o), l = 0; l < o; l++)
                s[l] = "String" == i ? this.charAt(r + l) : this[r + l];
            return s
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(28)
      , a = n(15)
      , o = n(6)
      , s = [].sort
      , l = [1, 2, 3];
    i(i.P + i.F * (o(function() {
        l.sort(void 0)
    }) || !o(function() {
        l.sort(null)
    }) || !n(25)(s)), "Array", {
        sort: function(e) {
            return void 0 === e ? s.call(a(this)) : s.call(a(this), r(e))
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(0)
      , a = n(25)([].forEach, !0);
    i(i.P + i.F * !a, "Array", {
        forEach: function(e, t) {
            return r(this, e, t)
        }
    })
}
, function(e, t, n) {
    var i = n(8)
      , r = n(88)
      , a = n(9)("species");
    e.exports = function(e) {
        var t;
        return r(e) && ("function" != typeof (t = e.constructor) || t !== Array && !r(t.prototype) || (t = void 0),
        i(t) && null === (t = t[a]) && (t = void 0)),
        void 0 === t ? Array : t
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(1);
    i(i.P + i.F * !n(25)([].map, !0), "Array", {
        map: function(e, t) {
            return r(this, e, t)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(2);
    i(i.P + i.F * !n(25)([].filter, !0), "Array", {
        filter: function(e, t) {
            return r(this, e, t)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(3);
    i(i.P + i.F * !n(25)([].some, !0), "Array", {
        some: function(e, t) {
            return r(this, e, t)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(4);
    i(i.P + i.F * !n(25)([].every, !0), "Array", {
        every: function(e, t) {
            return r(this, e, t)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(178);
    i(i.P + i.F * !n(25)([].reduce, !0), "Array", {
        reduce: function(e, t) {
            return r(this, e, arguments.length, t, !1)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(178);
    i(i.P + i.F * !n(25)([].reduceRight, !0), "Array", {
        reduceRight: function(e, t) {
            return r(this, e, arguments.length, t, !0)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(86)(!1)
      , a = [].indexOf
      , o = !!a && 1 / [1].indexOf(1, -0) < 0;
    i(i.P + i.F * (o || !n(25)(a)), "Array", {
        indexOf: function(e, t) {
            return o ? a.apply(this, arguments) || 0 : r(this, e, t)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , a = n(23)
      , o = n(29)
      , s = n(10)
      , l = [].lastIndexOf
      , u = !!l && 1 / [1].lastIndexOf(1, -0) < 0;
    i(i.P + i.F * (u || !n(25)(l)), "Array", {
        lastIndexOf: function(e, t) {
            if (u)
                return l.apply(this, arguments) || 0;
            var n = a(this)
              , i = s(n.length)
              , r = i - 1;
            for (1 < arguments.length && (r = Math.min(r, o(t))),
            r < 0 && (r = i + r); 0 <= r; r--)
                if (r in n && n[r] === e)
                    return r || 0;
            return -1
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.P, "Array", {
        copyWithin: n(179)
    }),
    n(50)("copyWithin")
}
, function(e, t, n) {
    var i = n(2);
    i(i.P, "Array", {
        fill: n(130)
    }),
    n(50)("fill")
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(5)
      , a = !0;
    "find"in [] && Array(1).find(function() {
        a = !1
    }),
    i(i.P + i.F * a, "Array", {
        find: function(e, t) {
            return r(this, e, 1 < arguments.length ? t : void 0)
        }
    }),
    n(50)("find")
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(32)(6)
      , a = "findIndex"
      , o = !0;
    a in [] && Array(1)[a](function() {
        o = !1
    }),
    i(i.P + i.F * o, "Array", {
        findIndex: function(e, t) {
            return r(this, e, 1 < arguments.length ? t : void 0)
        }
    }),
    n(50)(a)
}
, function(e, t, n) {
    n(61)("Array")
}
, function(e, t, n) {
    var i = n(5)
      , a = n(118)
      , r = n(13).f
      , o = n(48).f
      , s = n(125)
      , l = n(90)
      , u = i.RegExp
      , c = u
      , h = u.prototype
      , d = /a/g
      , p = /a/g
      , f = new u(d) !== d;
    if (n(12) && (!f || n(6)(function() {
        return p[n(9)("match")] = !1,
        u(d) != d || u(p) == p || "/a/i" != u(d, "i")
    }))) {
        u = function(e, t) {
            var n = this instanceof u
              , i = s(e)
              , r = void 0 === t;
            return !n && i && e.constructor === u && r ? e : a(f ? new c(i && !r ? e.source : e,t) : c((i = e instanceof u) ? e.source : e, i && r ? l.call(e) : t), n ? this : h, u)
        }
        ;
        function m(t) {
            t in u || r(u, t, {
                configurable: !0,
                get: function() {
                    return c[t]
                },
                set: function(e) {
                    c[t] = e
                }
            })
        }
        for (var g = o(c), v = 0; g.length > v; )
            m(g[v++]);
        (h.constructor = u).prototype = h,
        n(19)(i, "RegExp", u)
    }
    n(61)("RegExp")
}
, function(e, t, n) {
    "use strict";
    n(182);
    function i(e) {
        n(19)(RegExp.prototype, s, e, !0)
    }
    var r = n(7)
      , a = n(90)
      , o = n(12)
      , s = "toString"
      , l = /./[s];
    n(6)(function() {
        return "/a/b" != l.call({
            source: "a",
            flags: "b"
        })
    }) ? i(function() {
        var e = r(this);
        return "/".concat(e.source, "/", "flags"in e ? e.flags : !o && e instanceof RegExp ? a.call(e) : void 0)
    }) : l.name != s && i(function() {
        return l.call(this)
    })
}
, function(e, t, n) {
    "use strict";
    var h = n(7)
      , d = n(10)
      , p = n(133)
      , f = n(91);
    n(92)("match", 1, function(i, r, u, c) {
        return [function(e) {
            var t = i(this)
              , n = null == e ? void 0 : e[r];
            return void 0 !== n ? n.call(e, t) : new RegExp(e)[r](String(t))
        }
        , function(e) {
            var t = c(u, e, this);
            if (t.done)
                return t.value;
            var n = h(e)
              , i = String(this);
            if (!n.global)
                return f(n, i);
            for (var r, a = n.unicode, o = [], s = n.lastIndex = 0; null !== (r = f(n, i)); ) {
                var l = String(r[0]);
                "" === (o[s] = l) && (n.lastIndex = p(i, d(n.lastIndex), a)),
                s++
            }
            return 0 === s ? null : o
        }
        ]
    })
}
, function(e, t, n) {
    "use strict";
    var S = n(7)
      , i = n(15)
      , E = n(10)
      , C = n(29)
      , M = n(133)
      , k = n(91)
      , P = Math.max
      , A = Math.min
      , d = Math.floor
      , p = /\$([$&`']|\d\d?|<[^>]*>)/g
      , f = /\$([$&`']|\d\d?)/g;
    n(92)("replace", 2, function(r, a, w, x) {
        return [function(e, t) {
            var n = r(this)
              , i = null == e ? void 0 : e[a];
            return void 0 !== i ? i.call(e, n, t) : w.call(String(n), e, t)
        }
        , function(e, t) {
            var n = x(w, e, this, t);
            if (n.done)
                return n.value;
            var i = S(e)
              , r = String(this)
              , a = "function" == typeof t;
            a || (t = String(t));
            var o = i.global;
            if (o) {
                var s = i.unicode;
                i.lastIndex = 0
            }
            for (var l = []; ; ) {
                var u = k(i, r);
                if (null === u)
                    break;
                if (l.push(u),
                !o)
                    break;
                "" === String(u[0]) && (i.lastIndex = M(r, E(i.lastIndex), s))
            }
            for (var c, h = "", d = 0, p = 0; p < l.length; p++) {
                u = l[p];
                for (var f = String(u[0]), m = P(A(C(u.index), r.length), 0), g = [], v = 1; v < u.length; v++)
                    g.push(void 0 === (c = u[v]) ? c : String(c));
                var y = u.groups;
                if (a) {
                    var b = [f].concat(g, m, r);
                    void 0 !== y && b.push(y);
                    var _ = String(t.apply(void 0, b))
                } else
                    _ = T(f, r, m, g, y, t);
                d <= m && (h += r.slice(d, m) + _,
                d = m + f.length)
            }
            return h + r.slice(d)
        }
        ];
        function T(a, o, s, l, u, e) {
            var c = s + a.length
              , h = l.length
              , t = f;
            return void 0 !== u && (u = i(u),
            t = p),
            w.call(e, t, function(e, t) {
                var n;
                switch (t.charAt(0)) {
                case "$":
                    return "$";
                case "&":
                    return a;
                case "`":
                    return o.slice(0, s);
                case "'":
                    return o.slice(c);
                case "<":
                    n = u[t.slice(1, -1)];
                    break;
                default:
                    var i = +t;
                    if (0 == i)
                        return e;
                    if (h < i) {
                        var r = d(i / 10);
                        return 0 === r ? e : r <= h ? void 0 === l[r - 1] ? t.charAt(1) : l[r - 1] + t.charAt(1) : e
                    }
                    n = l[i - 1]
                }
                return void 0 === n ? "" : n
            })
        }
    })
}
, function(e, t, n) {
    "use strict";
    var l = n(7)
      , u = n(167)
      , c = n(91);
    n(92)("search", 1, function(i, r, o, s) {
        return [function(e) {
            var t = i(this)
              , n = null == e ? void 0 : e[r];
            return void 0 !== n ? n.call(e, t) : new RegExp(e)[r](String(t))
        }
        , function(e) {
            var t = s(o, e, this);
            if (t.done)
                return t.value;
            var n = l(e)
              , i = String(this)
              , r = n.lastIndex;
            u(r, 0) || (n.lastIndex = 0);
            var a = c(n, i);
            return u(n.lastIndex, r) || (n.lastIndex = r),
            null === a ? -1 : a.index
        }
        ]
    })
}
, function(e, t, n) {
    "use strict";
    var h = n(125)
      , b = n(7)
      , _ = n(77)
      , w = n(133)
      , x = n(10)
      , T = n(91)
      , d = n(132)
      , i = n(6)
      , S = Math.min
      , p = [].push
      , o = "split"
      , f = "length"
      , m = "lastIndex"
      , E = 4294967295
      , C = !i(function() {
        RegExp(E, "y")
    });
    n(92)("split", 2, function(r, a, g, v) {
        var y;
        return y = "c" == "abbc"[o](/(b)*/)[1] || 4 != "test"[o](/(?:)/, -1)[f] || 2 != "ab"[o](/(?:ab)*/)[f] || 4 != "."[o](/(.?)(.?)/)[f] || 1 < "."[o](/()()/)[f] || ""[o](/.?/)[f] ? function(e, t) {
            var n = String(this);
            if (void 0 === e && 0 === t)
                return [];
            if (!h(e))
                return g.call(n, e, t);
            for (var i, r, a, o = [], s = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (e.sticky ? "y" : ""), l = 0, u = void 0 === t ? E : t >>> 0, c = new RegExp(e.source,s + "g"); (i = d.call(c, n)) && !(l < (r = c[m]) && (o.push(n.slice(l, i.index)),
            1 < i[f] && i.index < n[f] && p.apply(o, i.slice(1)),
            a = i[0][f],
            l = r,
            o[f] >= u)); )
                c[m] === i.index && c[m]++;
            return l === n[f] ? !a && c.test("") || o.push("") : o.push(n.slice(l)),
            o[f] > u ? o.slice(0, u) : o
        }
        : "0"[o](void 0, 0)[f] ? function(e, t) {
            return void 0 === e && 0 === t ? [] : g.call(this, e, t)
        }
        : g,
        [function(e, t) {
            var n = r(this)
              , i = null == e ? void 0 : e[a];
            return void 0 !== i ? i.call(e, n, t) : y.call(String(n), e, t)
        }
        , function(e, t) {
            var n = v(y, e, this, t, y !== g);
            if (n.done)
                return n.value;
            var i = b(e)
              , r = String(this)
              , a = _(i, RegExp)
              , o = i.unicode
              , s = (i.ignoreCase ? "i" : "") + (i.multiline ? "m" : "") + (i.unicode ? "u" : "") + (C ? "y" : "g")
              , l = new a(C ? i : "^(?:" + i.source + ")",s)
              , u = void 0 === t ? E : t >>> 0;
            if (0 == u)
                return [];
            if (0 === r.length)
                return null === T(l, r) ? [r] : [];
            for (var c = 0, h = 0, d = []; h < r.length; ) {
                l.lastIndex = C ? h : 0;
                var p, f = T(l, C ? r : r.slice(h));
                if (null === f || (p = S(x(l.lastIndex + (C ? 0 : h)), r.length)) === c)
                    h = w(r, h, o);
                else {
                    if (d.push(r.slice(c, h)),
                    d.length === u)
                        return d;
                    for (var m = 1; m <= f.length - 1; m++)
                        if (d.push(f[m]),
                        d.length === u)
                            return d;
                    h = c = p
                }
            }
            return d.push(r.slice(c)),
            d
        }
        ]
    })
}
, function(e, t, n) {
    var s = n(5)
      , l = n(134).set
      , u = s.MutationObserver || s.WebKitMutationObserver
      , c = s.process
      , h = s.Promise
      , d = "process" == n(34)(c);
    e.exports = function() {
        function e() {
            var e, t;
            for (d && (e = c.domain) && e.exit(); n; ) {
                t = n.fn,
                n = n.next;
                try {
                    t()
                } catch (e) {
                    throw n ? r() : i = void 0,
                    e
                }
            }
            i = void 0,
            e && e.enter()
        }
        var n, i, r;
        if (d)
            r = function() {
                c.nextTick(e)
            }
            ;
        else if (!u || s.navigator && s.navigator.standalone)
            if (h && h.resolve) {
                var t = h.resolve(void 0);
                r = function() {
                    t.then(e)
                }
            } else
                r = function() {
                    l.call(s, e)
                }
                ;
        else {
            var a = !0
              , o = document.createTextNode("");
            new u(e).observe(o, {
                characterData: !0
            }),
            r = function() {
                o.data = a = !a
            }
        }
        return function(e) {
            var t = {
                fn: e,
                next: void 0
            };
            i && (i.next = t),
            n || (n = t,
            r()),
            i = t
        }
    }
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return {
                e: !1,
                v: e()
            }
        } catch (e) {
            return {
                e: !0,
                v: e
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(186)
      , r = n(51);
    e.exports = n(95)("Map", function(t) {
        return function(e) {
            return t(this, 0 < arguments.length ? e : void 0)
        }
    }, {
        get: function(e) {
            var t = i.getEntry(r(this, "Map"), e);
            return t && t.v
        },
        set: function(e, t) {
            return i.def(r(this, "Map"), 0 === e ? 0 : e, t)
        }
    }, i, !0)
}
, function(e, t, n) {
    "use strict";
    var i = n(186)
      , r = n(51);
    e.exports = n(95)("Set", function(t) {
        return function(e) {
            return t(this, 0 < arguments.length ? e : void 0)
        }
    }, {
        add: function(e) {
            return i.def(r(this, "Set"), e = 0 === e ? 0 : e, e)
        }
    }, i)
}
, function(e, t, n) {
    "use strict";
    function i(t) {
        return function(e) {
            return t(this, 0 < arguments.length ? e : void 0)
        }
    }
    var a, r = n(5), o = n(32)(0), s = n(19), l = n(38), u = n(166), c = n(187), h = n(8), d = n(51), p = n(51), f = !r.ActiveXObject && "ActiveXObject"in r, m = "WeakMap", g = l.getWeak, v = Object.isExtensible, y = c.ufstore, b = {
        get: function(e) {
            if (h(e)) {
                var t = g(e);
                return !0 === t ? y(d(this, m)).get(e) : t ? t[this._i] : void 0
            }
        },
        set: function(e, t) {
            return c.def(d(this, m), e, t)
        }
    }, _ = e.exports = n(95)(m, i, b, c, !0, !0);
    p && f && (u((a = c.getConstructor(i, m)).prototype, b),
    l.NEED = !0,
    o(["delete", "has", "get", "set"], function(i) {
        var e = _.prototype
          , r = e[i];
        s(e, i, function(e, t) {
            if (!h(e) || v(e))
                return r.call(this, e, t);
            this._f || (this._f = new a);
            var n = this._f[i](e, t);
            return "set" == i ? this : n
        })
    }))
}
, function(e, t, n) {
    "use strict";
    var i = n(187)
      , r = n(51);
    n(95)("WeakSet", function(t) {
        return function(e) {
            return t(this, 0 < arguments.length ? e : void 0)
        }
    }, {
        add: function(e) {
            return i.def(r(this, "WeakSet"), e, !0)
        }
    }, i, !1, !0)
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(96)
      , a = n(135)
      , u = n(7)
      , c = n(46)
      , h = n(10)
      , o = n(8)
      , s = n(5).ArrayBuffer
      , d = n(77)
      , p = a.ArrayBuffer
      , f = a.DataView
      , l = r.ABV && s.isView
      , m = p.prototype.slice
      , g = r.VIEW
      , v = "ArrayBuffer";
    i(i.G + i.W + i.F * (s !== p), {
        ArrayBuffer: p
    }),
    i(i.S + i.F * !r.CONSTR, v, {
        isView: function(e) {
            return l && l(e) || o(e) && g in e
        }
    }),
    i(i.P + i.U + i.F * n(6)(function() {
        return !new p(2).slice(1, void 0).byteLength
    }), v, {
        slice: function(e, t) {
            if (void 0 !== m && void 0 === t)
                return m.call(u(this), e);
            for (var n = u(this).byteLength, i = c(e, n), r = c(void 0 === t ? n : t, n), a = new (d(this, p))(h(r - i)), o = new f(this), s = new f(a), l = 0; i < r; )
                s.setUint8(l++, o.getUint8(i++));
            return a
        }
    }),
    n(61)(v)
}
, function(e, t, n) {
    var i = n(2);
    i(i.G + i.W + i.F * !n(96).ABV, {
        DataView: n(135).DataView
    })
}
, function(e, t, n) {
    n(36)("Int8", 1, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Uint8", 1, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Uint8", 1, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    }, !0)
}
, function(e, t, n) {
    n(36)("Int16", 2, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Uint16", 2, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Int32", 4, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Uint32", 4, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Float32", 4, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    n(36)("Float64", 8, function(i) {
        return function(e, t, n) {
            return i(this, e, t, n)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , a = n(28)
      , o = n(7)
      , s = (n(5).Reflect || {}).apply
      , l = Function.apply;
    i(i.S + i.F * !n(6)(function() {
        s(function() {})
    }), "Reflect", {
        apply: function(e, t, n) {
            var i = a(e)
              , r = o(n);
            return s ? s(i, t, r) : l.call(i, t, r)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , l = n(47)
      , u = n(28)
      , c = n(7)
      , h = n(8)
      , r = n(6)
      , d = n(168)
      , p = (n(5).Reflect || {}).construct
      , f = r(function() {
        function e() {}
        return !(p(function() {}, [], e)instanceof e)
    })
      , m = !r(function() {
        p(function() {})
    });
    i(i.S + i.F * (f || m), "Reflect", {
        construct: function(e, t, n) {
            u(e),
            c(t);
            var i = arguments.length < 3 ? e : u(n);
            if (m && !f)
                return p(e, t, i);
            if (e == i) {
                switch (t.length) {
                case 0:
                    return new e;
                case 1:
                    return new e(t[0]);
                case 2:
                    return new e(t[0],t[1]);
                case 3:
                    return new e(t[0],t[1],t[2]);
                case 4:
                    return new e(t[0],t[1],t[2],t[3])
                }
                var r = [null];
                return r.push.apply(r, t),
                new (d.apply(e, r))
            }
            var a = i.prototype
              , o = l(h(a) ? a : Object.prototype)
              , s = Function.apply.call(e, o, t);
            return h(s) ? s : o
        }
    })
}
, function(e, t, n) {
    var i = n(13)
      , r = n(2)
      , a = n(7)
      , o = n(37);
    r(r.S + r.F * n(6)(function() {
        Reflect.defineProperty(i.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }), "Reflect", {
        defineProperty: function(e, t, n) {
            a(e),
            t = o(t, !0),
            a(n);
            try {
                return i.f(e, t, n),
                !0
            } catch (e) {
                return !1
            }
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(30).f
      , a = n(7);
    i(i.S, "Reflect", {
        deleteProperty: function(e, t) {
            var n = r(a(e), t);
            return !(n && !n.configurable) && delete e[t]
        }
    })
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        this._t = a(e),
        this._i = 0;
        var t, n = this._k = [];
        for (t in e)
            n.push(t)
    }
    var r = n(2)
      , a = n(7);
    n(175)(i, "Object", function() {
        var e, t = this._k;
        do {
            if (this._i >= t.length)
                return {
                    value: void 0,
                    done: !0
                }
        } while (!((e = t[this._i++])in this._t));
        return {
            value: e,
            done: !1
        }
    }),
    r(r.S, "Reflect", {
        enumerate: function(e) {
            return new i(e)
        }
    })
}
, function(e, t, n) {
    var o = n(30)
      , s = n(49)
      , l = n(21)
      , i = n(2)
      , u = n(8)
      , c = n(7);
    i(i.S, "Reflect", {
        get: function e(t, n) {
            var i, r, a = arguments.length < 3 ? t : arguments[2];
            return c(t) === a ? t[n] : (i = o.f(t, n)) ? l(i, "value") ? i.value : void 0 !== i.get ? i.get.call(a) : void 0 : u(r = s(t)) ? e(r, n, a) : void 0
        }
    })
}
, function(e, t, n) {
    var i = n(30)
      , r = n(2)
      , a = n(7);
    r(r.S, "Reflect", {
        getOwnPropertyDescriptor: function(e, t) {
            return i.f(a(e), t)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(49)
      , a = n(7);
    i(i.S, "Reflect", {
        getPrototypeOf: function(e) {
            return r(a(e))
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Reflect", {
        has: function(e, t) {
            return t in e
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(7)
      , a = Object.isExtensible;
    i(i.S, "Reflect", {
        isExtensible: function(e) {
            return r(e),
            !a || a(e)
        }
    })
}
, function(e, t, n) {
    var i = n(2);
    i(i.S, "Reflect", {
        ownKeys: n(189)
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(7)
      , a = Object.preventExtensions;
    i(i.S, "Reflect", {
        preventExtensions: function(e) {
            r(e);
            try {
                return a && a(e),
                !0
            } catch (e) {
                return !1
            }
        }
    })
}
, function(e, t, n) {
    var l = n(13)
      , u = n(30)
      , c = n(49)
      , h = n(21)
      , i = n(2)
      , d = n(42)
      , p = n(7)
      , f = n(8);
    i(i.S, "Reflect", {
        set: function e(t, n, i) {
            var r, a, o = arguments.length < 4 ? t : arguments[3], s = u.f(p(t), n);
            if (!s) {
                if (f(a = c(t)))
                    return e(a, n, i, o);
                s = d(0)
            }
            if (h(s, "value")) {
                if (!1 === s.writable || !f(o))
                    return !1;
                if (r = u.f(o, n)) {
                    if (r.get || r.set || !1 === r.writable)
                        return !1;
                    r.value = i,
                    l.f(o, n, r)
                } else
                    l.f(o, n, d(0, i));
                return !0
            }
            return void 0 !== s.set && (s.set.call(o, i),
            !0)
        }
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(116);
    r && i(i.S, "Reflect", {
        setPrototypeOf: function(e, t) {
            r.check(e, t);
            try {
                return r.set(e, t),
                !0
            } catch (e) {
                return !1
            }
        }
    })
}
, function(e, t, n) {
    n(481),
    e.exports = n(11).Array.includes
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(86)(!0);
    i(i.P, "Array", {
        includes: function(e, t) {
            return r(this, e, 1 < arguments.length ? t : void 0)
        }
    }),
    n(50)("includes")
}
, function(e, t, n) {
    n(483),
    e.exports = n(11).Array.flatMap
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , a = n(484)
      , o = n(15)
      , s = n(10)
      , l = n(28)
      , u = n(177);
    i(i.P, "Array", {
        flatMap: function(e, t) {
            var n, i, r = o(this);
            return l(e),
            n = s(r.length),
            i = u(r, 0),
            a(i, r, r, n, 0, 1, e, t),
            i
        }
    }),
    n(50)("flatMap")
}
, function(e, t, n) {
    "use strict";
    var f = n(88)
      , m = n(8)
      , g = n(10)
      , v = n(27)
      , y = n(9)("isConcatSpreadable");
    e.exports = function e(t, n, i, r, a, o, s, l) {
        for (var u, c, h = a, d = 0, p = !!s && v(s, l, 3); d < r; ) {
            if (d in i) {
                if (u = p ? p(i[d], d, n) : i[d],
                c = !1,
                m(u) && (c = void 0 !== (c = u[y]) ? !!c : f(u)),
                c && 0 < o)
                    h = e(t, n, u, g(u.length), h, o - 1) - 1;
                else {
                    if (9007199254740991 <= h)
                        throw TypeError();
                    t[h] = u
                }
                h++
            }
            d++
        }
        return h
    }
}
, function(e, t, n) {
    n(486),
    e.exports = n(11).String.padStart
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(190)
      , a = n(94)
      , o = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);
    i(i.P + i.F * o, "String", {
        padStart: function(e, t) {
            return r(this, e, 1 < arguments.length ? t : void 0, !0)
        }
    })
}
, function(e, t, n) {
    n(488),
    e.exports = n(11).String.padEnd
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(190)
      , a = n(94)
      , o = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);
    i(i.P + i.F * o, "String", {
        padEnd: function(e, t) {
            return r(this, e, 1 < arguments.length ? t : void 0, !1)
        }
    })
}
, function(e, t, n) {
    n(490),
    e.exports = n(11).String.trimLeft
}
, function(e, t, n) {
    "use strict";
    n(59)("trimLeft", function(e) {
        return function() {
            return e(this, 1)
        }
    }, "trimStart")
}
, function(e, t, n) {
    n(492),
    e.exports = n(11).String.trimRight
}
, function(e, t, n) {
    "use strict";
    n(59)("trimRight", function(e) {
        return function() {
            return e(this, 2)
        }
    }, "trimEnd")
}
, function(e, t, n) {
    n(494),
    e.exports = n(112).f("asyncIterator")
}
, function(e, t, n) {
    n(162)("asyncIterator")
}
, function(e, t, n) {
    n(496),
    e.exports = n(11).Object.getOwnPropertyDescriptors
}
, function(e, t, n) {
    var i = n(2)
      , l = n(189)
      , u = n(23)
      , c = n(30)
      , h = n(128);
    i(i.S, "Object", {
        getOwnPropertyDescriptors: function(e) {
            for (var t, n, i = u(e), r = c.f, a = l(i), o = {}, s = 0; a.length > s; )
                void 0 !== (n = r(i, t = a[s++])) && h(o, t, n);
            return o
        }
    })
}
, function(e, t, n) {
    n(498),
    e.exports = n(11).Object.values
}
, function(e, t, n) {
    var i = n(2)
      , r = n(191)(!1);
    i(i.S, "Object", {
        values: function(e) {
            return r(e)
        }
    })
}
, function(e, t, n) {
    n(500),
    e.exports = n(11).Object.entries
}
, function(e, t, n) {
    var i = n(2)
      , r = n(191)(!0);
    i(i.S, "Object", {
        entries: function(e) {
            return r(e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    n(183),
    n(502),
    e.exports = n(11).Promise.finally
}
, function(e, t, n) {
    "use strict";
    var i = n(2)
      , r = n(11)
      , a = n(5)
      , o = n(77)
      , s = n(185);
    i(i.P + i.R, "Promise", {
        finally: function(t) {
            var n = o(this, r.Promise || a.Promise)
              , e = "function" == typeof t;
            return this.then(e ? function(e) {
                return s(n, t()).then(function() {
                    return e
                })
            }
            : t, e ? function(e) {
                return s(n, t()).then(function() {
                    throw e
                })
            }
            : t)
        }
    })
}
, function(e, t, n) {
    n(504),
    n(505),
    n(506),
    e.exports = n(11)
}
, function(e, t, n) {
    function i(r) {
        return function(e, t) {
            var n = 2 < arguments.length
              , i = n && s.call(arguments, 2);
            return r(n ? function() {
                ("function" == typeof e ? e : Function(e)).apply(this, i)
            }
            : e, t)
        }
    }
    var r = n(5)
      , a = n(2)
      , o = n(94)
      , s = [].slice
      , l = /MSIE .\./.test(o);
    a(a.G + a.B + a.F * l, {
        setTimeout: i(r.setTimeout),
        setInterval: i(r.setInterval)
    })
}
, function(e, t, n) {
    var i = n(2)
      , r = n(134);
    i(i.G + i.B, {
        setImmediate: r.set,
        clearImmediate: r.clear
    })
}
, function(e, t, n) {
    for (var i = n(131), r = n(45), a = n(19), o = n(5), s = n(22), l = n(60), u = n(9), c = u("iterator"), h = u("toStringTag"), d = l.Array, p = {
        CSSRuleList: !0,
        CSSStyleDeclaration: !1,
        CSSValueList: !1,
        ClientRectList: !1,
        DOMRectList: !1,
        DOMStringList: !1,
        DOMTokenList: !0,
        DataTransferItemList: !1,
        FileList: !1,
        HTMLAllCollection: !1,
        HTMLCollection: !1,
        HTMLFormElement: !1,
        HTMLSelectElement: !1,
        MediaList: !0,
        MimeTypeArray: !1,
        NamedNodeMap: !1,
        NodeList: !0,
        PaintRequestList: !1,
        Plugin: !1,
        PluginArray: !1,
        SVGLengthList: !1,
        SVGNumberList: !1,
        SVGPathSegList: !1,
        SVGPointList: !1,
        SVGStringList: !1,
        SVGTransformList: !1,
        SourceBufferList: !1,
        StyleSheetList: !0,
        TextTrackCueList: !1,
        TextTrackList: !1,
        TouchList: !1
    }, f = r(p), m = 0; m < f.length; m++) {
        var g, v = f[m], y = p[v], b = o[v], _ = b && b.prototype;
        if (_ && (_[c] || s(_, c, d),
        _[h] || s(_, h, v),
        l[v] = d,
        y))
            for (g in i)
                _[g] || a(_, g, i[g], !0)
    }
}
, function(e, t, n) {
    var i = function(a) {
        "use strict";
        var l, e = Object.prototype, u = e.hasOwnProperty, t = "function" == typeof Symbol ? Symbol : {}, r = t.iterator || "@@iterator", n = t.asyncIterator || "@@asyncIterator", i = t.toStringTag || "@@toStringTag";
        function o(e, t, n, i) {
            var r = t && t.prototype instanceof s ? t : s
              , a = Object.create(r.prototype)
              , o = new M(i || []);
            return a._invoke = function(a, o, s) {
                var l = h;
                return function(e, t) {
                    if (l === p)
                        throw new Error("Generator is already running");
                    if (l === f) {
                        if ("throw" === e)
                            throw t;
                        return P()
                    }
                    for (s.method = e,
                    s.arg = t; ; ) {
                        var n = s.delegate;
                        if (n) {
                            var i = S(n, s);
                            if (i) {
                                if (i === m)
                                    continue;
                                return i
                            }
                        }
                        if ("next" === s.method)
                            s.sent = s._sent = s.arg;
                        else if ("throw" === s.method) {
                            if (l === h)
                                throw l = f,
                                s.arg;
                            s.dispatchException(s.arg)
                        } else
                            "return" === s.method && s.abrupt("return", s.arg);
                        l = p;
                        var r = c(a, o, s);
                        if ("normal" === r.type) {
                            if (l = s.done ? f : d,
                            r.arg === m)
                                continue;
                            return {
                                value: r.arg,
                                done: s.done
                            }
                        }
                        "throw" === r.type && (l = f,
                        s.method = "throw",
                        s.arg = r.arg)
                    }
                }
            }(e, n, o),
            a
        }
        function c(e, t, n) {
            try {
                return {
                    type: "normal",
                    arg: e.call(t, n)
                }
            } catch (e) {
                return {
                    type: "throw",
                    arg: e
                }
            }
        }
        a.wrap = o;
        var h = "suspendedStart"
          , d = "suspendedYield"
          , p = "executing"
          , f = "completed"
          , m = {};
        function s() {}
        function g() {}
        function v() {}
        var y = {};
        y[r] = function() {
            return this
        }
        ;
        var b = Object.getPrototypeOf
          , _ = b && b(b(k([])));
        _ && _ !== e && u.call(_, r) && (y = _);
        var w = v.prototype = s.prototype = Object.create(y);
        function x(e) {
            ["next", "throw", "return"].forEach(function(t) {
                e[t] = function(e) {
                    return this._invoke(t, e)
                }
            })
        }
        function T(l) {
            var t;
            this._invoke = function(n, i) {
                function e() {
                    return new Promise(function(e, t) {
                        !function t(e, n, i, r) {
                            var a = c(l[e], l, n);
                            if ("throw" !== a.type) {
                                var o = a.arg
                                  , s = o.value;
                                return s && "object" == typeof s && u.call(s, "__await") ? Promise.resolve(s.__await).then(function(e) {
                                    t("next", e, i, r)
                                }, function(e) {
                                    t("throw", e, i, r)
                                }) : Promise.resolve(s).then(function(e) {
                                    o.value = e,
                                    i(o)
                                }, function(e) {
                                    return t("throw", e, i, r)
                                })
                            }
                            r(a.arg)
                        }(n, i, e, t)
                    }
                    )
                }
                return t = t ? t.then(e, e) : e()
            }
        }
        function S(e, t) {
            var n = e.iterator[t.method];
            if (n === l) {
                if (t.delegate = null,
                "throw" === t.method) {
                    if (e.iterator.return && (t.method = "return",
                    t.arg = l,
                    S(e, t),
                    "throw" === t.method))
                        return m;
                    t.method = "throw",
                    t.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return m
            }
            var i = c(n, e.iterator, t.arg);
            if ("throw" === i.type)
                return t.method = "throw",
                t.arg = i.arg,
                t.delegate = null,
                m;
            var r = i.arg;
            return r ? r.done ? (t[e.resultName] = r.value,
            t.next = e.nextLoc,
            "return" !== t.method && (t.method = "next",
            t.arg = l),
            t.delegate = null,
            m) : r : (t.method = "throw",
            t.arg = new TypeError("iterator result is not an object"),
            t.delegate = null,
            m)
        }
        function E(e) {
            var t = {
                tryLoc: e[0]
            };
            1 in e && (t.catchLoc = e[1]),
            2 in e && (t.finallyLoc = e[2],
            t.afterLoc = e[3]),
            this.tryEntries.push(t)
        }
        function C(e) {
            var t = e.completion || {};
            t.type = "normal",
            delete t.arg,
            e.completion = t
        }
        function M(e) {
            this.tryEntries = [{
                tryLoc: "root"
            }],
            e.forEach(E, this),
            this.reset(!0)
        }
        function k(t) {
            if (t) {
                var e = t[r];
                if (e)
                    return e.call(t);
                if ("function" == typeof t.next)
                    return t;
                if (!isNaN(t.length)) {
                    var n = -1
                      , i = function e() {
                        for (; ++n < t.length; )
                            if (u.call(t, n))
                                return e.value = t[n],
                                e.done = !1,
                                e;
                        return e.value = l,
                        e.done = !0,
                        e
                    };
                    return i.next = i
                }
            }
            return {
                next: P
            }
        }
        function P() {
            return {
                value: l,
                done: !0
            }
        }
        return g.prototype = w.constructor = v,
        v.constructor = g,
        v[i] = g.displayName = "GeneratorFunction",
        a.isGeneratorFunction = function(e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === g || "GeneratorFunction" === (t.displayName || t.name))
        }
        ,
        a.mark = function(e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v,
            i in e || (e[i] = "GeneratorFunction")),
            e.prototype = Object.create(w),
            e
        }
        ,
        a.awrap = function(e) {
            return {
                __await: e
            }
        }
        ,
        x(T.prototype),
        T.prototype[n] = function() {
            return this
        }
        ,
        a.AsyncIterator = T,
        a.async = function(e, t, n, i) {
            var r = new T(o(e, t, n, i));
            return a.isGeneratorFunction(t) ? r : r.next().then(function(e) {
                return e.done ? e.value : r.next()
            })
        }
        ,
        x(w),
        w[i] = "Generator",
        w[r] = function() {
            return this
        }
        ,
        w.toString = function() {
            return "[object Generator]"
        }
        ,
        a.keys = function(n) {
            var i = [];
            for (var e in n)
                i.push(e);
            return i.reverse(),
            function e() {
                for (; i.length; ) {
                    var t = i.pop();
                    if (t in n)
                        return e.value = t,
                        e.done = !1,
                        e
                }
                return e.done = !0,
                e
            }
        }
        ,
        a.values = k,
        M.prototype = {
            constructor: M,
            reset: function(e) {
                if (this.prev = 0,
                this.next = 0,
                this.sent = this._sent = l,
                this.done = !1,
                this.delegate = null,
                this.method = "next",
                this.arg = l,
                this.tryEntries.forEach(C),
                !e)
                    for (var t in this)
                        "t" === t.charAt(0) && u.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = l)
            },
            stop: function() {
                this.done = !0;
                var e = this.tryEntries[0].completion;
                if ("throw" === e.type)
                    throw e.arg;
                return this.rval
            },
            dispatchException: function(n) {
                if (this.done)
                    throw n;
                var i = this;
                function e(e, t) {
                    return a.type = "throw",
                    a.arg = n,
                    i.next = e,
                    t && (i.method = "next",
                    i.arg = l),
                    !!t
                }
                for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
                    var r = this.tryEntries[t]
                      , a = r.completion;
                    if ("root" === r.tryLoc)
                        return e("end");
                    if (r.tryLoc <= this.prev) {
                        var o = u.call(r, "catchLoc")
                          , s = u.call(r, "finallyLoc");
                        if (o && s) {
                            if (this.prev < r.catchLoc)
                                return e(r.catchLoc, !0);
                            if (this.prev < r.finallyLoc)
                                return e(r.finallyLoc)
                        } else if (o) {
                            if (this.prev < r.catchLoc)
                                return e(r.catchLoc, !0)
                        } else {
                            if (!s)
                                throw new Error("try statement without catch or finally");
                            if (this.prev < r.finallyLoc)
                                return e(r.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function(e, t) {
                for (var n = this.tryEntries.length - 1; 0 <= n; --n) {
                    var i = this.tryEntries[n];
                    if (i.tryLoc <= this.prev && u.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                        var r = i;
                        break
                    }
                }
                r && ("break" === e || "continue" === e) && r.tryLoc <= t && t <= r.finallyLoc && (r = null);
                var a = r ? r.completion : {};
                return a.type = e,
                a.arg = t,
                r ? (this.method = "next",
                this.next = r.finallyLoc,
                m) : this.complete(a)
            },
            complete: function(e, t) {
                if ("throw" === e.type)
                    throw e.arg;
                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                this.method = "return",
                this.next = "end") : "normal" === e.type && t && (this.next = t),
                m
            },
            finish: function(e) {
                for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
                    var n = this.tryEntries[t];
                    if (n.finallyLoc === e)
                        return this.complete(n.completion, n.afterLoc),
                        C(n),
                        m
                }
            },
            catch: function(e) {
                for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
                    var n = this.tryEntries[t];
                    if (n.tryLoc === e) {
                        var i = n.completion;
                        if ("throw" === i.type) {
                            var r = i.arg;
                            C(n)
                        }
                        return r
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function(e, t, n) {
                return this.delegate = {
                    iterator: k(e),
                    resultName: t,
                    nextLoc: n
                },
                "next" === this.method && (this.arg = l),
                m
            }
        },
        a
    }(e.exports);
    try {
        regeneratorRuntime = i
    } catch (e) {
        Function("r", "regeneratorRuntime = r")(i)
    }
}
, function(e, t, n) {
    n(509),
    e.exports = n(192).global
}
, function(e, t, n) {
    var i = n(510);
    i(i.G, {
        global: n(136)
    })
}
, function(e, t, n) {
    var m = n(136)
      , g = n(192)
      , v = n(511)
      , y = n(513)
      , b = n(520)
      , _ = "prototype"
      , w = function(e, t, n) {
        var i, r, a, o = e & w.F, s = e & w.G, l = e & w.S, u = e & w.P, c = e & w.B, h = e & w.W, d = s ? g : g[t] || (g[t] = {}), p = d[_], f = s ? m : l ? m[t] : (m[t] || {})[_];
        for (i in s && (n = t),
        n)
            (r = !o && f && void 0 !== f[i]) && b(d, i) || (a = r ? f[i] : n[i],
            d[i] = s && "function" != typeof f[i] ? n[i] : c && r ? v(a, m) : h && f[i] == a ? function(i) {
                function e(e, t, n) {
                    if (this instanceof i) {
                        switch (arguments.length) {
                        case 0:
                            return new i;
                        case 1:
                            return new i(e);
                        case 2:
                            return new i(e,t)
                        }
                        return new i(e,t,n)
                    }
                    return i.apply(this, arguments)
                }
                return e[_] = i[_],
                e
            }(a) : u && "function" == typeof a ? v(Function.call, a) : a,
            u && ((d.virtual || (d.virtual = {}))[i] = a,
            e & w.R && p && !p[i] && y(p, i, a)))
    };
    w.F = 1,
    w.G = 2,
    w.S = 4,
    w.P = 8,
    w.B = 16,
    w.W = 32,
    w.U = 64,
    w.R = 128,
    e.exports = w
}
, function(e, t, n) {
    var a = n(512);
    e.exports = function(i, r, e) {
        if (a(i),
        void 0 === r)
            return i;
        switch (e) {
        case 1:
            return function(e) {
                return i.call(r, e)
            }
            ;
        case 2:
            return function(e, t) {
                return i.call(r, e, t)
            }
            ;
        case 3:
            return function(e, t, n) {
                return i.call(r, e, t, n)
            }
        }
        return function() {
            return i.apply(r, arguments)
        }
    }
}
, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e)
            throw TypeError(e + " is not a function!");
        return e
    }
}
, function(e, t, n) {
    var i = n(514)
      , r = n(519);
    e.exports = n(138) ? function(e, t, n) {
        return i.f(e, t, r(1, n))
    }
    : function(e, t, n) {
        return e[t] = n,
        e
    }
}
, function(e, t, n) {
    var i = n(515)
      , r = n(516)
      , a = n(518)
      , o = Object.defineProperty;
    t.f = n(138) ? Object.defineProperty : function(e, t, n) {
        if (i(e),
        t = a(t, !0),
        i(n),
        r)
            try {
                return o(e, t, n)
            } catch (e) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (e[t] = n.value),
        e
    }
}
, function(e, t, n) {
    var i = n(137);
    e.exports = function(e) {
        if (!i(e))
            throw TypeError(e + " is not an object!");
        return e
    }
}
, function(e, t, n) {
    e.exports = !n(138) && !n(193)(function() {
        return 7 != Object.defineProperty(n(517)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, n) {
    var i = n(137)
      , r = n(136).document
      , a = i(r) && i(r.createElement);
    e.exports = function(e) {
        return a ? r.createElement(e) : {}
    }
}
, function(e, t, n) {
    var r = n(137);
    e.exports = function(e, t) {
        if (!r(e))
            return e;
        var n, i;
        if (t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
            return i;
        if ("function" == typeof (n = e.valueOf) && !r(i = n.call(e)))
            return i;
        if (!t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}
, function(e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return n.call(e, t)
    }
}
, function(e, t) {
    var n, i, r;
    n = window,
    i = "Modernizr"in n,
    r = n.Modernizr,
    function(e, t) {
        var s = []
          , n = {
            _version: "3.7.1",
            _config: {
                classPrefix: "",
                enableClasses: !0,
                enableJSClass: !0,
                usePrefixes: !0
            },
            _q: [],
            on: function(e, t) {
                var n = this;
                setTimeout(function() {
                    t(n[e])
                }, 0)
            },
            addTest: function(e, t, n) {
                s.push({
                    name: e,
                    fn: t,
                    options: n
                })
            },
            addAsyncTest: function(e) {
                s.push({
                    name: null,
                    fn: e
                })
            }
        }
          , l = function() {};
        l.prototype = n,
        l = new l;
        var u = []
          , r = t.documentElement
          , a = "svg" === r.nodeName.toLowerCase();
        !function() {
            var e, t, n, i, r, a;
            for (var o in s)
                if (s.hasOwnProperty(o)) {
                    if (e = [],
                    (t = s[o]).name && (e.push(t.name.toLowerCase()),
                    t.options && t.options.aliases && t.options.aliases.length))
                        for (n = 0; n < t.options.aliases.length; n++)
                            e.push(t.options.aliases[n].toLowerCase());
                    for (i = "function" == typeof t.fn ? t.fn() : t.fn,
                    r = 0; r < e.length; r++)
                        1 === (a = e[r].split(".")).length ? l[a[0]] = i : (!l[a[0]] || l[a[0]]instanceof Boolean || (l[a[0]] = new Boolean(l[a[0]])),
                        l[a[0]][a[1]] = i),
                        u.push((i ? "" : "no-") + a.join("-"))
                }
        }(),
        function(e) {
            var t = r.className
              , n = l._config.classPrefix || "";
            if (a && (t = t.baseVal),
            l._config.enableJSClass) {
                var i = new RegExp("(^|\\s)" + n + "no-js(\\s|$)");
                t = t.replace(i, "$1" + n + "js$2")
            }
            l._config.enableClasses && (0 < e.length && (t += " " + n + e.join(" " + n)),
            a ? r.className.baseVal = t : r.className = t)
        }(u),
        delete n.addTest,
        delete n.addAsyncTest;
        for (var i = 0; i < l._q.length; i++)
            l._q[i]();
        e.Modernizr = l
    }(n, document),
    e.exports = n.Modernizr,
    i ? n.Modernizr = r : delete n.Modernizr
}
, function(e, t, n) {
    var i, r;
    i = [n(199)],
    void 0 === (r = function(e) {
        "use strict";
        return e.call(Object)
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(524)],
    void 0 === (r = function(e, t) {
        "use strict";
        e.find = t,
        e.expr = t.selectors,
        e.expr[":"] = e.expr.pseudos,
        e.uniqueSort = e.unique = t.uniqueSort,
        e.text = t.getText,
        e.isXMLDoc = t.isXML,
        e.contains = t.contains,
        e.escapeSelector = t.escape
    }
    .apply(t, i)) || (e.exports = r)
}
, function(Ce, Me, ke) {
    var Pe;
    /*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
    /*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
    !function(n) {
        function h(e, t) {
            var n = "0x" + e.slice(1) - 65536;
            return t || (n < 0 ? String.fromCharCode(65536 + n) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320))
        }
        function r() {
            x()
        }
        var e, p, _, a, o, f, d, m, w, l, u, x, T, s, S, g, c, v, y, E = "sizzle" + 1 * new Date, b = n.document, C = 0, i = 0, M = le(), k = le(), P = le(), A = le(), I = function(e, t) {
            return e === t && (u = !0),
            0
        }, L = {}.hasOwnProperty, t = [], O = t.pop, R = t.push, D = t.push, N = t.slice, F = function(e, t) {
            for (var n = 0, i = e.length; n < i; n++)
                if (e[n] === t)
                    return n;
            return -1
        }, B = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", U = "[\\x20\\t\\r\\n\\f]", j = "(?:\\\\[\\da-fA-F]{1,6}" + U + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+", z = "\\[" + U + "*(" + j + ")(?:" + U + "*([*^$|!~]?=)" + U + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + j + "))|)" + U + "*\\]", H = ":(" + j + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + z + ")*)|.*)\\)|)", V = new RegExp(U + "+","g"), G = new RegExp("^" + U + "+|((?:^|[^\\\\])(?:\\\\.)*)" + U + "+$","g"), W = new RegExp("^" + U + "*," + U + "*"), q = new RegExp("^" + U + "*([>+~]|" + U + ")" + U + "*"), $ = new RegExp(U + "|>"), X = new RegExp(H), Y = new RegExp("^" + j + "$"), K = {
            ID: new RegExp("^#(" + j + ")"),
            CLASS: new RegExp("^\\.(" + j + ")"),
            TAG: new RegExp("^(" + j + "|[*])"),
            ATTR: new RegExp("^" + z),
            PSEUDO: new RegExp("^" + H),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + U + "*(even|odd|(([+-]|)(\\d*)n|)" + U + "*(?:([+-]|)" + U + "*(\\d+)|))" + U + "*\\)|)","i"),
            bool: new RegExp("^(?:" + B + ")$","i"),
            needsContext: new RegExp("^" + U + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + U + "*((?:-\\d)?\\d*)" + U + "*\\)|)(?=[^-]|$)","i")
        }, Z = /HTML$/i, Q = /^(?:input|select|textarea|button)$/i, J = /^h\d$/i, ee = /^[^{]+\{\s*\[native \w/, te = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ne = /[+~]/, ie = new RegExp("\\\\[\\da-fA-F]{1,6}" + U + "?|\\\\([^\\r\\n\\f])","g"), re = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ae = function(e, t) {
            return t ? "\0" === e ? "�" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
        }, oe = _e(function(e) {
            return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
        }, {
            dir: "parentNode",
            next: "legend"
        });
        try {
            D.apply(t = N.call(b.childNodes), b.childNodes),
            t[b.childNodes.length].nodeType
        } catch (e) {
            D = {
                apply: t.length ? function(e, t) {
                    R.apply(e, N.call(t))
                }
                : function(e, t) {
                    for (var n = e.length, i = 0; e[n++] = t[i++]; )
                        ;
                    e.length = n - 1
                }
            }
        }
        function se(t, e, n, i) {
            var r, a, o, s, l, u, c, h = e && e.ownerDocument, d = e ? e.nodeType : 9;
            if (n = n || [],
            "string" != typeof t || !t || 1 !== d && 9 !== d && 11 !== d)
                return n;
            if (!i && (x(e),
            e = e || T,
            S)) {
                if (11 !== d && (l = te.exec(t)))
                    if (r = l[1]) {
                        if (9 === d) {
                            if (!(o = e.getElementById(r)))
                                return n;
                            if (o.id === r)
                                return n.push(o),
                                n
                        } else if (h && (o = h.getElementById(r)) && y(e, o) && o.id === r)
                            return n.push(o),
                            n
                    } else {
                        if (l[2])
                            return D.apply(n, e.getElementsByTagName(t)),
                            n;
                        if ((r = l[3]) && p.getElementsByClassName && e.getElementsByClassName)
                            return D.apply(n, e.getElementsByClassName(r)),
                            n
                    }
                if (p.qsa && !A[t + " "] && (!g || !g.test(t)) && (1 !== d || "object" !== e.nodeName.toLowerCase())) {
                    if (c = t,
                    h = e,
                    1 === d && ($.test(t) || q.test(t))) {
                        for ((h = ne.test(t) && ve(e.parentNode) || e) === e && p.scope || ((s = e.getAttribute("id")) ? s = s.replace(re, ae) : e.setAttribute("id", s = E)),
                        a = (u = f(t)).length; a--; )
                            u[a] = (s ? "#" + s : ":scope") + " " + be(u[a]);
                        c = u.join(",")
                    }
                    try {
                        return D.apply(n, h.querySelectorAll(c)),
                        n
                    } catch (e) {
                        A(t, !0)
                    } finally {
                        s === E && e.removeAttribute("id")
                    }
                }
            }
            return m(t.replace(G, "$1"), e, n, i)
        }
        function le() {
            var i = [];
            return function e(t, n) {
                return i.push(t + " ") > _.cacheLength && delete e[i.shift()],
                e[t + " "] = n
            }
        }
        function ue(e) {
            return e[E] = !0,
            e
        }
        function ce(e) {
            var t = T.createElement("fieldset");
            try {
                return !!e(t)
            } catch (e) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t),
                t = null
            }
        }
        function he(e, t) {
            for (var n = e.split("|"), i = n.length; i--; )
                _.attrHandle[n[i]] = t
        }
        function de(e, t) {
            var n = t && e
              , i = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
            if (i)
                return i;
            if (n)
                for (; n = n.nextSibling; )
                    if (n === t)
                        return -1;
            return e ? 1 : -1
        }
        function pe(t) {
            return function(e) {
                return "input" === e.nodeName.toLowerCase() && e.type === t
            }
        }
        function fe(n) {
            return function(e) {
                var t = e.nodeName.toLowerCase();
                return ("input" === t || "button" === t) && e.type === n
            }
        }
        function me(t) {
            return function(e) {
                return "form"in e ? e.parentNode && !1 === e.disabled ? "label"in e ? "label"in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && oe(e) === t : e.disabled === t : "label"in e && e.disabled === t
            }
        }
        function ge(o) {
            return ue(function(a) {
                return a = +a,
                ue(function(e, t) {
                    for (var n, i = o([], e.length, a), r = i.length; r--; )
                        e[n = i[r]] && (e[n] = !(t[n] = e[n]))
                })
            })
        }
        function ve(e) {
            return e && void 0 !== e.getElementsByTagName && e
        }
        for (e in p = se.support = {},
        o = se.isXML = function(e) {
            var t = e && e.namespaceURI
              , n = e && (e.ownerDocument || e).documentElement;
            return !Z.test(t || n && n.nodeName || "HTML")
        }
        ,
        x = se.setDocument = function(e) {
            var t, n, i = e ? e.ownerDocument || e : b;
            return i != T && 9 === i.nodeType && i.documentElement && (s = (T = i).documentElement,
            S = !o(T),
            b != T && (n = T.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", r, !1) : n.attachEvent && n.attachEvent("onunload", r)),
            p.scope = ce(function(e) {
                return s.appendChild(e).appendChild(T.createElement("div")),
                void 0 !== e.querySelectorAll && !e.querySelectorAll(":scope fieldset div").length
            }),
            p.attributes = ce(function(e) {
                return e.className = "i",
                !e.getAttribute("className")
            }),
            p.getElementsByTagName = ce(function(e) {
                return e.appendChild(T.createComment("")),
                !e.getElementsByTagName("*").length
            }),
            p.getElementsByClassName = ee.test(T.getElementsByClassName),
            p.getById = ce(function(e) {
                return s.appendChild(e).id = E,
                !T.getElementsByName || !T.getElementsByName(E).length
            }),
            p.getById ? (_.filter.ID = function(e) {
                var t = e.replace(ie, h);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }
            ,
            _.find.ID = function(e, t) {
                if (void 0 !== t.getElementById && S) {
                    var n = t.getElementById(e);
                    return n ? [n] : []
                }
            }
            ) : (_.filter.ID = function(e) {
                var n = e.replace(ie, h);
                return function(e) {
                    var t = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                    return t && t.value === n
                }
            }
            ,
            _.find.ID = function(e, t) {
                if (void 0 !== t.getElementById && S) {
                    var n, i, r, a = t.getElementById(e);
                    if (a) {
                        if ((n = a.getAttributeNode("id")) && n.value === e)
                            return [a];
                        for (r = t.getElementsByName(e),
                        i = 0; a = r[i++]; )
                            if ((n = a.getAttributeNode("id")) && n.value === e)
                                return [a]
                    }
                    return []
                }
            }
            ),
            _.find.TAG = p.getElementsByTagName ? function(e, t) {
                return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : p.qsa ? t.querySelectorAll(e) : void 0
            }
            : function(e, t) {
                var n, i = [], r = 0, a = t.getElementsByTagName(e);
                if ("*" !== e)
                    return a;
                for (; n = a[r++]; )
                    1 === n.nodeType && i.push(n);
                return i
            }
            ,
            _.find.CLASS = p.getElementsByClassName && function(e, t) {
                if (void 0 !== t.getElementsByClassName && S)
                    return t.getElementsByClassName(e)
            }
            ,
            c = [],
            g = [],
            (p.qsa = ee.test(T.querySelectorAll)) && (ce(function(e) {
                var t;
                s.appendChild(e).innerHTML = "<a id='" + E + "'></a><select id='" + E + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                e.querySelectorAll("[msallowcapture^='']").length && g.push("[*^$]=" + U + "*(?:''|\"\")"),
                e.querySelectorAll("[selected]").length || g.push("\\[" + U + "*(?:value|" + B + ")"),
                e.querySelectorAll("[id~=" + E + "-]").length || g.push("~="),
                (t = T.createElement("input")).setAttribute("name", ""),
                e.appendChild(t),
                e.querySelectorAll("[name='']").length || g.push("\\[" + U + "*name" + U + "*=" + U + "*(?:''|\"\")"),
                e.querySelectorAll(":checked").length || g.push(":checked"),
                e.querySelectorAll("a#" + E + "+*").length || g.push(".#.+[+~]"),
                e.querySelectorAll("\\\f"),
                g.push("[\\r\\n\\f]")
            }),
            ce(function(e) {
                e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                var t = T.createElement("input");
                t.setAttribute("type", "hidden"),
                e.appendChild(t).setAttribute("name", "D"),
                e.querySelectorAll("[name=d]").length && g.push("name" + U + "*[*^$|!~]?="),
                2 !== e.querySelectorAll(":enabled").length && g.push(":enabled", ":disabled"),
                s.appendChild(e).disabled = !0,
                2 !== e.querySelectorAll(":disabled").length && g.push(":enabled", ":disabled"),
                e.querySelectorAll("*,:x"),
                g.push(",.*:")
            })),
            (p.matchesSelector = ee.test(v = s.matches || s.webkitMatchesSelector || s.mozMatchesSelector || s.oMatchesSelector || s.msMatchesSelector)) && ce(function(e) {
                p.disconnectedMatch = v.call(e, "*"),
                v.call(e, "[s!='']:x"),
                c.push("!=", H)
            }),
            g = g.length && new RegExp(g.join("|")),
            c = c.length && new RegExp(c.join("|")),
            t = ee.test(s.compareDocumentPosition),
            y = t || ee.test(s.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e
                  , i = t && t.parentNode;
                return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)))
            }
            : function(e, t) {
                if (t)
                    for (; t = t.parentNode; )
                        if (t === e)
                            return !0;
                return !1
            }
            ,
            I = t ? function(e, t) {
                if (e === t)
                    return u = !0,
                    0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return n || (1 & (n = (e.ownerDocument || e) == (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !p.sortDetached && t.compareDocumentPosition(e) === n ? e == T || e.ownerDocument == b && y(b, e) ? -1 : t == T || t.ownerDocument == b && y(b, t) ? 1 : l ? F(l, e) - F(l, t) : 0 : 4 & n ? -1 : 1)
            }
            : function(e, t) {
                if (e === t)
                    return u = !0,
                    0;
                var n, i = 0, r = e.parentNode, a = t.parentNode, o = [e], s = [t];
                if (!r || !a)
                    return e == T ? -1 : t == T ? 1 : r ? -1 : a ? 1 : l ? F(l, e) - F(l, t) : 0;
                if (r === a)
                    return de(e, t);
                for (n = e; n = n.parentNode; )
                    o.unshift(n);
                for (n = t; n = n.parentNode; )
                    s.unshift(n);
                for (; o[i] === s[i]; )
                    i++;
                return i ? de(o[i], s[i]) : o[i] == b ? -1 : s[i] == b ? 1 : 0
            }
            ),
            T
        }
        ,
        se.matches = function(e, t) {
            return se(e, null, null, t)
        }
        ,
        se.matchesSelector = function(e, t) {
            if (x(e),
            p.matchesSelector && S && !A[t + " "] && (!c || !c.test(t)) && (!g || !g.test(t)))
                try {
                    var n = v.call(e, t);
                    if (n || p.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                        return n
                } catch (e) {
                    A(t, !0)
                }
            return 0 < se(t, T, null, [e]).length
        }
        ,
        se.contains = function(e, t) {
            return (e.ownerDocument || e) != T && x(e),
            y(e, t)
        }
        ,
        se.attr = function(e, t) {
            (e.ownerDocument || e) != T && x(e);
            var n = _.attrHandle[t.toLowerCase()]
              , i = n && L.call(_.attrHandle, t.toLowerCase()) ? n(e, t, !S) : void 0;
            return void 0 !== i ? i : p.attributes || !S ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null
        }
        ,
        se.escape = function(e) {
            return (e + "").replace(re, ae)
        }
        ,
        se.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }
        ,
        se.uniqueSort = function(e) {
            var t, n = [], i = 0, r = 0;
            if (u = !p.detectDuplicates,
            l = !p.sortStable && e.slice(0),
            e.sort(I),
            u) {
                for (; t = e[r++]; )
                    t === e[r] && (i = n.push(r));
                for (; i--; )
                    e.splice(n[i], 1)
            }
            return l = null,
            e
        }
        ,
        a = se.getText = function(e) {
            var t, n = "", i = 0, r = e.nodeType;
            if (r) {
                if (1 === r || 9 === r || 11 === r) {
                    if ("string" == typeof e.textContent)
                        return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling)
                        n += a(e)
                } else if (3 === r || 4 === r)
                    return e.nodeValue
            } else
                for (; t = e[i++]; )
                    n += a(t);
            return n
        }
        ,
        (_ = se.selectors = {
            cacheLength: 50,
            createPseudo: ue,
            match: K,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(ie, h),
                    e[3] = (e[3] || e[4] || e[5] || "").replace(ie, h),
                    "~=" === e[2] && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(),
                    "nth" === e[1].slice(0, 3) ? (e[3] || se.error(e[0]),
                    e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                    e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && se.error(e[0]),
                    e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return K.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && X.test(n) && (t = f(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t),
                    e[2] = n.slice(0, t)),
                    e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(ie, h).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    }
                    : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = M[e + " "];
                    return t || (t = new RegExp("(^|" + U + ")" + e + "(" + U + "|$)")) && M(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(n, i, r) {
                    return function(e) {
                        var t = se.attr(e, n);
                        return null == t ? "!=" === i : !i || (t += "",
                        "=" === i ? t === r : "!=" === i ? t !== r : "^=" === i ? r && 0 === t.indexOf(r) : "*=" === i ? r && -1 < t.indexOf(r) : "$=" === i ? r && t.slice(-r.length) === r : "~=" === i ? -1 < (" " + t.replace(V, " ") + " ").indexOf(r) : "|=" === i && (t === r || t.slice(0, r.length + 1) === r + "-"))
                    }
                },
                CHILD: function(f, e, t, m, g) {
                    var v = "nth" !== f.slice(0, 3)
                      , y = "last" !== f.slice(-4)
                      , b = "of-type" === e;
                    return 1 === m && 0 === g ? function(e) {
                        return !!e.parentNode
                    }
                    : function(e, t, n) {
                        var i, r, a, o, s, l, u = v != y ? "nextSibling" : "previousSibling", c = e.parentNode, h = b && e.nodeName.toLowerCase(), d = !n && !b, p = !1;
                        if (c) {
                            if (v) {
                                for (; u; ) {
                                    for (o = e; o = o[u]; )
                                        if (b ? o.nodeName.toLowerCase() === h : 1 === o.nodeType)
                                            return !1;
                                    l = u = "only" === f && !l && "nextSibling"
                                }
                                return !0
                            }
                            if (l = [y ? c.firstChild : c.lastChild],
                            y && d) {
                                for (p = (s = (i = (r = (a = (o = c)[E] || (o[E] = {}))[o.uniqueID] || (a[o.uniqueID] = {}))[f] || [])[0] === C && i[1]) && i[2],
                                o = s && c.childNodes[s]; o = ++s && o && o[u] || (p = s = 0) || l.pop(); )
                                    if (1 === o.nodeType && ++p && o === e) {
                                        r[f] = [C, s, p];
                                        break
                                    }
                            } else if (d && (p = s = (i = (r = (a = (o = e)[E] || (o[E] = {}))[o.uniqueID] || (a[o.uniqueID] = {}))[f] || [])[0] === C && i[1]),
                            !1 === p)
                                for (; (o = ++s && o && o[u] || (p = s = 0) || l.pop()) && ((b ? o.nodeName.toLowerCase() !== h : 1 !== o.nodeType) || !++p || (d && ((r = (a = o[E] || (o[E] = {}))[o.uniqueID] || (a[o.uniqueID] = {}))[f] = [C, p]),
                                o !== e)); )
                                    ;
                            return (p -= g) === m || p % m == 0 && 0 <= p / m
                        }
                    }
                },
                PSEUDO: function(e, a) {
                    var t, o = _.pseudos[e] || _.setFilters[e.toLowerCase()] || se.error("unsupported pseudo: " + e);
                    return o[E] ? o(a) : 1 < o.length ? (t = [e, e, "", a],
                    _.setFilters.hasOwnProperty(e.toLowerCase()) ? ue(function(e, t) {
                        for (var n, i = o(e, a), r = i.length; r--; )
                            e[n = F(e, i[r])] = !(t[n] = i[r])
                    }) : function(e) {
                        return o(e, 0, t)
                    }
                    ) : o
                }
            },
            pseudos: {
                not: ue(function(e) {
                    var i = []
                      , r = []
                      , s = d(e.replace(G, "$1"));
                    return s[E] ? ue(function(e, t, n, i) {
                        for (var r, a = s(e, null, i, []), o = e.length; o--; )
                            (r = a[o]) && (e[o] = !(t[o] = r))
                    }) : function(e, t, n) {
                        return i[0] = e,
                        s(i, null, n, r),
                        i[0] = null,
                        !r.pop()
                    }
                }),
                has: ue(function(t) {
                    return function(e) {
                        return 0 < se(t, e).length
                    }
                }),
                contains: ue(function(t) {
                    return t = t.replace(ie, h),
                    function(e) {
                        return -1 < (e.textContent || a(e)).indexOf(t)
                    }
                }),
                lang: ue(function(n) {
                    return Y.test(n || "") || se.error("unsupported lang: " + n),
                    n = n.replace(ie, h).toLowerCase(),
                    function(e) {
                        var t;
                        do {
                            if (t = S ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang"))
                                return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-")
                        } while ((e = e.parentNode) && 1 === e.nodeType);
                        return !1
                    }
                }),
                target: function(e) {
                    var t = n.location && n.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === s
                },
                focus: function(e) {
                    return e === T.activeElement && (!T.hasFocus || T.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: me(!1),
                disabled: me(!0),
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex,
                    !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(e) {
                    return !_.pseudos.empty(e)
                },
                header: function(e) {
                    return J.test(e.nodeName)
                },
                input: function(e) {
                    return Q.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: ge(function() {
                    return [0]
                }),
                last: ge(function(e, t) {
                    return [t - 1]
                }),
                eq: ge(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: ge(function(e, t) {
                    for (var n = 0; n < t; n += 2)
                        e.push(n);
                    return e
                }),
                odd: ge(function(e, t) {
                    for (var n = 1; n < t; n += 2)
                        e.push(n);
                    return e
                }),
                lt: ge(function(e, t, n) {
                    for (var i = n < 0 ? n + t : t < n ? t : n; 0 <= --i; )
                        e.push(i);
                    return e
                }),
                gt: ge(function(e, t, n) {
                    for (var i = n < 0 ? n + t : n; ++i < t; )
                        e.push(i);
                    return e
                })
            }
        }).pseudos.nth = _.pseudos.eq,
        {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            _.pseudos[e] = pe(e);
        for (e in {
            submit: !0,
            reset: !0
        })
            _.pseudos[e] = fe(e);
        function ye() {}
        function be(e) {
            for (var t = 0, n = e.length, i = ""; t < n; t++)
                i += e[t].value;
            return i
        }
        function _e(s, e, t) {
            var l = e.dir
              , u = e.next
              , c = u || l
              , h = t && "parentNode" === c
              , d = i++;
            return e.first ? function(e, t, n) {
                for (; e = e[l]; )
                    if (1 === e.nodeType || h)
                        return s(e, t, n);
                return !1
            }
            : function(e, t, n) {
                var i, r, a, o = [C, d];
                if (n) {
                    for (; e = e[l]; )
                        if ((1 === e.nodeType || h) && s(e, t, n))
                            return !0
                } else
                    for (; e = e[l]; )
                        if (1 === e.nodeType || h)
                            if (r = (a = e[E] || (e[E] = {}))[e.uniqueID] || (a[e.uniqueID] = {}),
                            u && u === e.nodeName.toLowerCase())
                                e = e[l] || e;
                            else {
                                if ((i = r[c]) && i[0] === C && i[1] === d)
                                    return o[2] = i[2];
                                if ((r[c] = o)[2] = s(e, t, n))
                                    return !0
                            }
                return !1
            }
        }
        function we(r) {
            return 1 < r.length ? function(e, t, n) {
                for (var i = r.length; i--; )
                    if (!r[i](e, t, n))
                        return !1;
                return !0
            }
            : r[0]
        }
        function xe(e, t, n, i, r) {
            for (var a, o = [], s = 0, l = e.length, u = null != t; s < l; s++)
                (a = e[s]) && (n && !n(a, i, r) || (o.push(a),
                u && t.push(s)));
            return o
        }
        function Te(p, f, m, g, v, e) {
            return g && !g[E] && (g = Te(g)),
            v && !v[E] && (v = Te(v, e)),
            ue(function(e, t, n, i) {
                var r, a, o, s = [], l = [], u = t.length, c = e || function(e, t, n) {
                    for (var i = 0, r = t.length; i < r; i++)
                        se(e, t[i], n);
                    return n
                }(f || "*", n.nodeType ? [n] : n, []), h = !p || !e && f ? c : xe(c, s, p, n, i), d = m ? v || (e ? p : u || g) ? [] : t : h;
                if (m && m(h, d, n, i),
                g)
                    for (r = xe(d, l),
                    g(r, [], n, i),
                    a = r.length; a--; )
                        (o = r[a]) && (d[l[a]] = !(h[l[a]] = o));
                if (e) {
                    if (v || p) {
                        if (v) {
                            for (r = [],
                            a = d.length; a--; )
                                (o = d[a]) && r.push(h[a] = o);
                            v(null, d = [], r, i)
                        }
                        for (a = d.length; a--; )
                            (o = d[a]) && -1 < (r = v ? F(e, o) : s[a]) && (e[r] = !(t[r] = o))
                    }
                } else
                    d = xe(d === t ? d.splice(u, d.length) : d),
                    v ? v(null, t, d, i) : D.apply(t, d)
            })
        }
        function Se(e) {
            for (var r, t, n, i = e.length, a = _.relative[e[0].type], o = a || _.relative[" "], s = a ? 1 : 0, l = _e(function(e) {
                return e === r
            }, o, !0), u = _e(function(e) {
                return -1 < F(r, e)
            }, o, !0), c = [function(e, t, n) {
                var i = !a && (n || t !== w) || ((r = t).nodeType ? l(e, t, n) : u(e, t, n));
                return r = null,
                i
            }
            ]; s < i; s++)
                if (t = _.relative[e[s].type])
                    c = [_e(we(c), t)];
                else {
                    if ((t = _.filter[e[s].type].apply(null, e[s].matches))[E]) {
                        for (n = ++s; n < i && !_.relative[e[n].type]; n++)
                            ;
                        return Te(1 < s && we(c), 1 < s && be(e.slice(0, s - 1).concat({
                            value: " " === e[s - 2].type ? "*" : ""
                        })).replace(G, "$1"), t, s < n && Se(e.slice(s, n)), n < i && Se(e = e.slice(n)), n < i && be(e))
                    }
                    c.push(t)
                }
            return we(c)
        }
        ye.prototype = _.filters = _.pseudos,
        _.setFilters = new ye,
        f = se.tokenize = function(e, t) {
            var n, i, r, a, o, s, l, u = k[e + " "];
            if (u)
                return t ? 0 : u.slice(0);
            for (o = e,
            s = [],
            l = _.preFilter; o; ) {
                for (a in n && !(i = W.exec(o)) || (i && (o = o.slice(i[0].length) || o),
                s.push(r = [])),
                n = !1,
                (i = q.exec(o)) && (n = i.shift(),
                r.push({
                    value: n,
                    type: i[0].replace(G, " ")
                }),
                o = o.slice(n.length)),
                _.filter)
                    !(i = K[a].exec(o)) || l[a] && !(i = l[a](i)) || (n = i.shift(),
                    r.push({
                        value: n,
                        type: a,
                        matches: i
                    }),
                    o = o.slice(n.length));
                if (!n)
                    break
            }
            return t ? o.length : o ? se.error(e) : k(e, s).slice(0)
        }
        ,
        d = se.compile = function(e, t) {
            var n, i = [], r = [], a = P[e + " "];
            if (!a) {
                for (n = (t = t || f(e)).length; n--; )
                    (a = Se(t[n]))[E] ? i.push(a) : r.push(a);
                (a = P(e, function(g, v) {
                    function e(e, t, n, i, r) {
                        var a, o, s, l = 0, u = "0", c = e && [], h = [], d = w, p = e || b && _.find.TAG("*", r), f = C += null == d ? 1 : Math.random() || .1, m = p.length;
                        for (r && (w = t == T || t || r); u !== m && null != (a = p[u]); u++) {
                            if (b && a) {
                                for (o = 0,
                                t || a.ownerDocument == T || (x(a),
                                n = !S); s = g[o++]; )
                                    if (s(a, t || T, n)) {
                                        i.push(a);
                                        break
                                    }
                                r && (C = f)
                            }
                            y && ((a = !s && a) && l--,
                            e && c.push(a))
                        }
                        if (l += u,
                        y && u !== l) {
                            for (o = 0; s = v[o++]; )
                                s(c, h, t, n);
                            if (e) {
                                if (0 < l)
                                    for (; u--; )
                                        c[u] || h[u] || (h[u] = O.call(i));
                                h = xe(h)
                            }
                            D.apply(i, h),
                            r && !e && 0 < h.length && 1 < l + v.length && se.uniqueSort(i)
                        }
                        return r && (C = f,
                        w = d),
                        c
                    }
                    var y = 0 < v.length
                      , b = 0 < g.length;
                    return y ? ue(e) : e
                }(r, i))).selector = e
            }
            return a
        }
        ,
        m = se.select = function(e, t, n, i) {
            var r, a, o, s, l, u = "function" == typeof e && e, c = !i && f(e = u.selector || e);
            if (n = n || [],
            1 === c.length) {
                if (2 < (a = c[0] = c[0].slice(0)).length && "ID" === (o = a[0]).type && 9 === t.nodeType && S && _.relative[a[1].type]) {
                    if (!(t = (_.find.ID(o.matches[0].replace(ie, h), t) || [])[0]))
                        return n;
                    u && (t = t.parentNode),
                    e = e.slice(a.shift().value.length)
                }
                for (r = K.needsContext.test(e) ? 0 : a.length; r-- && (o = a[r],
                !_.relative[s = o.type]); )
                    if ((l = _.find[s]) && (i = l(o.matches[0].replace(ie, h), ne.test(a[0].type) && ve(t.parentNode) || t))) {
                        if (a.splice(r, 1),
                        !(e = i.length && be(a)))
                            return D.apply(n, i),
                            n;
                        break
                    }
            }
            return (u || d(e, c))(i, t, !S, n, !t || ne.test(e) && ve(t.parentNode) || t),
            n
        }
        ,
        p.sortStable = E.split("").sort(I).join("") === E,
        p.detectDuplicates = !!u,
        x(),
        p.sortDetached = ce(function(e) {
            return 1 & e.compareDocumentPosition(T.createElement("fieldset"))
        }),
        ce(function(e) {
            return e.innerHTML = "<a href='#'></a>",
            "#" === e.firstChild.getAttribute("href")
        }) || he("type|href|height|width", function(e, t, n) {
            if (!n)
                return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }),
        p.attributes && ce(function(e) {
            return e.innerHTML = "<input/>",
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
        }) || he("value", function(e, t, n) {
            if (!n && "input" === e.nodeName.toLowerCase())
                return e.defaultValue
        }),
        ce(function(e) {
            return null == e.getAttribute("disabled")
        }) || he(B, function(e, t, n) {
            var i;
            if (!n)
                return !0 === e[t] ? t.toLowerCase() : (i = e.getAttributeNode(t)) && i.specified ? i.value : null
        });
        var Ee = n.Sizzle;
        se.noConflict = function() {
            return n.Sizzle === se && (n.Sizzle = Ee),
            se
        }
        ,
        void 0 === (Pe = function() {
            return se
        }
        .call(Me, ke, Me, Ce)) || (Ce.exports = Pe)
    }(window)
}
, function(e, t, n) {
    var i, r;
    i = [n(4)],
    void 0 === (r = function(a) {
        "use strict";
        return function(e, t, n) {
            for (var i = [], r = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; )
                if (1 === e.nodeType) {
                    if (r && a(e).is(n))
                        break;
                    i.push(e)
                }
            return i
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e, t) {
            for (var n = []; e; e = e.nextSibling)
                1 === e.nodeType && e !== t && n.push(e);
            return n
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(66)],
    void 0 === (r = function(e) {
        "use strict";
        var n = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        e.Deferred.exceptionHook = function(e, t) {
            window.console && window.console.warn && e && n.test(e.name) && window.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4)],
    void 0 === (r = function(e) {
        "use strict";
        e.readyException = function(e) {
            window.setTimeout(function() {
                throw e
            })
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(80), n(33), n(206)],
    void 0 === (r = function(e, s, l, u, c) {
        "use strict";
        var r = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
          , a = /[A-Z]/g;
        function h(e, t, n) {
            var i;
            if (void 0 === n && 1 === e.nodeType)
                if (i = "data-" + t.replace(a, "-$&").toLowerCase(),
                "string" == typeof (n = e.getAttribute(i))) {
                    try {
                        n = function(e) {
                            return "true" === e || "false" !== e && ("null" === e ? null : e === +e + "" ? +e : r.test(e) ? JSON.parse(e) : e)
                        }(n)
                    } catch (e) {}
                    c.set(e, t, n)
                } else
                    n = void 0;
            return n
        }
        return e.extend({
            hasData: function(e) {
                return c.hasData(e) || u.hasData(e)
            },
            data: function(e, t, n) {
                return c.access(e, t, n)
            },
            removeData: function(e, t) {
                c.remove(e, t)
            },
            _data: function(e, t, n) {
                return u.access(e, t, n)
            },
            _removeData: function(e, t) {
                u.remove(e, t)
            }
        }),
        e.fn.extend({
            data: function(n, e) {
                var t, i, r, a = this[0], o = a && a.attributes;
                if (void 0 !== n)
                    return "object" == typeof n ? this.each(function() {
                        c.set(this, n)
                    }) : s(this, function(e) {
                        var t;
                        if (a && void 0 === e)
                            return void 0 !== (t = c.get(a, n)) ? t : void 0 !== (t = h(a, n)) ? t : void 0;
                        this.each(function() {
                            c.set(this, n, e)
                        })
                    }, null, e, 1 < arguments.length, null, !0);
                if (this.length && (r = c.get(a),
                1 === a.nodeType && !u.get(a, "hasDataAttrs"))) {
                    for (t = o.length; t--; )
                        o[t] && 0 === (i = o[t].name).indexOf("data-") && (i = l(i.slice(5)),
                        h(a, i, r[i]));
                    u.set(a, "hasDataAttrs", !0)
                }
                return r
            },
            removeData: function(e) {
                return this.each(function() {
                    c.remove(this, e)
                })
            }
        }),
        e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(142), n(143)],
    void 0 === (r = function(t) {
        "use strict";
        return t.fn.delay = function(i, e) {
            return i = t.fx && t.fx.speeds[i] || i,
            e = e || "fx",
            this.queue(e, function(e, t) {
                var n = window.setTimeout(e, i);
                t.stop = function() {
                    window.clearTimeout(n)
                }
            })
        }
        ,
        t.fn.delay
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(33), n(208)],
    void 0 === (r = function(d, p, f) {
        "use strict";
        var m = {};
        function e(e, t) {
            for (var n, i, r, a, o, s, l, u = [], c = 0, h = e.length; c < h; c++)
                (i = e[c]).style && (n = i.style.display,
                t ? ("none" === n && (u[c] = p.get(i, "display") || null,
                u[c] || (i.style.display = "")),
                "" === i.style.display && f(i) && (u[c] = (l = o = a = void 0,
                o = (r = i).ownerDocument,
                s = r.nodeName,
                (l = m[s]) || (a = o.body.appendChild(o.createElement(s)),
                l = d.css(a, "display"),
                a.parentNode.removeChild(a),
                "none" === l && (l = "block"),
                m[s] = l)))) : "none" !== n && (u[c] = "none",
                p.set(i, "display", n)));
            for (c = 0; c < h; c++)
                null != u[c] && (e[c].style.display = u[c]);
            return e
        }
        return d.fn.extend({
            show: function() {
                return e(this, !0)
            },
            hide: function() {
                return e(this)
            },
            toggle: function(e) {
                return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                    f(this) ? d(this).show() : d(this).hide()
                })
            }
        }),
        e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return function(e, t, n) {
            var i, r, a = {};
            for (r in t)
                a[r] = e.style[r],
                e.style[r] = t[r];
            for (r in i = n.call(e),
            t)
                e.style[r] = a[r];
            return i
        }
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(145)],
    void 0 === (r = function(e) {
        "use strict";
        return new RegExp(e.join("|"),"i")
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(535)],
    void 0 === (r = function(e) {
        "use strict";
        return new RegExp("^" + e + "+|((?:^|[^\\\\])(?:\\\\.)*)" + e + "+$","g")
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return "[\\x20\\t\\r\\n\\f]"
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(221), n(81)],
    void 0 === (r = function(o, t) {
        "use strict";
        function a(e, t, n, i, r) {
            return new a.prototype.init(e,t,n,i,r)
        }
        ((o.Tween = a).prototype = {
            constructor: a,
            init: function(e, t, n, i, r, a) {
                this.elem = e,
                this.prop = n,
                this.easing = r || o.easing._default,
                this.options = t,
                this.start = this.now = this.cur(),
                this.end = i,
                this.unit = a || (o.cssNumber[n] ? "" : "px")
            },
            cur: function() {
                var e = a.propHooks[this.prop];
                return e && e.get ? e.get(this) : a.propHooks._default.get(this)
            },
            run: function(e) {
                var t, n = a.propHooks[this.prop];
                return this.options.duration ? this.pos = t = o.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
                this.now = (this.end - this.start) * t + this.start,
                this.options.step && this.options.step.call(this.elem, this.now, this),
                n && n.set ? n.set(this) : a.propHooks._default.set(this),
                this
            }
        }).init.prototype = a.prototype,
        (a.propHooks = {
            _default: {
                get: function(e) {
                    var t;
                    return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = o.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
                },
                set: function(e) {
                    o.fx.step[e.prop] ? o.fx.step[e.prop](e) : 1 !== e.elem.nodeType || !o.cssHooks[e.prop] && null == e.elem.style[t(e.prop)] ? e.elem[e.prop] = e.now : o.style(e.elem, e.prop, e.now + e.unit)
                }
            }
        }).scrollTop = a.propHooks.scrollLeft = {
            set: function(e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        },
        o.easing = {
            linear: function(e) {
                return e
            },
            swing: function(e) {
                return .5 - Math.cos(e * Math.PI) / 2
            },
            _default: "swing"
        },
        o.fx = a.prototype.init,
        o.fx.step = {}
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(538), n(222), n(539), n(540)],
    void 0 === (r = function(e) {
        "use strict";
        return e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(39), n(149), n(40), n(18)],
    void 0 === (r = function(s, n, i, r, a) {
        "use strict";
        var o, l = s.expr.attrHandle;
        s.fn.extend({
            attr: function(e, t) {
                return n(this, s.attr, e, t, 1 < arguments.length)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    s.removeAttr(this, e)
                })
            }
        }),
        s.extend({
            attr: function(e, t, n) {
                var i, r, a = e.nodeType;
                if (3 !== a && 8 !== a && 2 !== a)
                    return void 0 === e.getAttribute ? s.prop(e, t, n) : (1 === a && s.isXMLDoc(e) || (r = s.attrHooks[t.toLowerCase()] || (s.expr.match.bool.test(t) ? o : void 0)),
                    void 0 !== n ? null === n ? void s.removeAttr(e, t) : r && "set"in r && void 0 !== (i = r.set(e, n, t)) ? i : (e.setAttribute(t, n + ""),
                    n) : r && "get"in r && null !== (i = r.get(e, t)) ? i : null == (i = s.find.attr(e, t)) ? void 0 : i)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        if (!r.radioValue && "radio" === t && i(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t),
                            n && (e.value = n),
                            t
                        }
                    }
                }
            },
            removeAttr: function(e, t) {
                var n, i = 0, r = t && t.match(a);
                if (r && 1 === e.nodeType)
                    for (; n = r[i++]; )
                        e.removeAttribute(n)
            }
        }),
        o = {
            set: function(e, t, n) {
                return !1 === t ? s.removeAttr(e, n) : e.setAttribute(n, n),
                n
            }
        },
        s.each(s.expr.match.bool.source.match(/\w+/g), function(e, t) {
            var o = l[t] || s.find.attr;
            l[t] = function(e, t, n) {
                var i, r, a = t.toLowerCase();
                return n || (r = l[a],
                l[a] = i,
                i = null != o(e, t, n) ? a : null,
                l[a] = r),
                i
            }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(150), n(14), n(40), n(33), n(26)],
    void 0 === (r = function(l, s, u, t, c) {
        "use strict";
        function h(e) {
            return e.getAttribute && e.getAttribute("class") || ""
        }
        function d(e) {
            return Array.isArray(e) ? e : "string" == typeof e && e.match(t) || []
        }
        l.fn.extend({
            addClass: function(t) {
                var e, n, i, r, a, o;
                return u(t) ? this.each(function(e) {
                    l(this).addClass(t.call(this, e, h(this)))
                }) : (e = d(t)).length ? this.each(function() {
                    if (i = h(this),
                    n = 1 === this.nodeType && " " + s(i) + " ") {
                        for (a = 0; a < e.length; a++)
                            r = e[a],
                            n.indexOf(" " + r + " ") < 0 && (n += r + " ");
                        o = s(n),
                        i !== o && this.setAttribute("class", o)
                    }
                }) : this
            },
            removeClass: function(t) {
                var e, n, i, r, a, o;
                return u(t) ? this.each(function(e) {
                    l(this).removeClass(t.call(this, e, h(this)))
                }) : arguments.length ? (e = d(t)).length ? this.each(function() {
                    if (i = h(this),
                    n = 1 === this.nodeType && " " + s(i) + " ") {
                        for (a = 0; a < e.length; a++)
                            for (r = e[a]; -1 < n.indexOf(" " + r + " "); )
                                n = n.replace(" " + r + " ", " ");
                        o = s(n),
                        i !== o && this.setAttribute("class", o)
                    }
                }) : this : this.attr("class", "")
            },
            toggleClass: function(t, n) {
                var e, i, r, a, o = typeof t, s = "string" == o || Array.isArray(t);
                return u(t) ? this.each(function(e) {
                    l(this).toggleClass(t.call(this, e, h(this), n), n)
                }) : "boolean" == typeof n && s ? n ? this.addClass(t) : this.removeClass(t) : (e = d(t),
                this.each(function() {
                    if (s)
                        for (a = l(this),
                        r = 0; r < e.length; r++)
                            i = e[r],
                            a.hasClass(i) ? a.removeClass(i) : a.addClass(i);
                    else
                        void 0 !== t && "boolean" != o || ((i = h(this)) && c.set(this, "__className__", i),
                        this.setAttribute && this.setAttribute("class", i || !1 === t ? "" : c.get(this, "__className__") || ""))
                }))
            },
            hasClass: function(e) {
                var t, n, i = 0;
                for (t = " " + e + " "; n = this[i++]; )
                    if (1 === n.nodeType && -1 < (" " + s(h(n)) + " ").indexOf(t))
                        return !0;
                return !1
            }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(150), n(149), n(39), n(14), n(26)],
    void 0 === (r = function(u, n, e, c, a) {
        "use strict";
        var o = /\r/g;
        u.fn.extend({
            val: function(n) {
                var i, e, r, t = this[0];
                return arguments.length ? (r = a(n),
                this.each(function(e) {
                    var t;
                    1 === this.nodeType && (null == (t = r ? n.call(this, e, u(this).val()) : n) ? t = "" : "number" == typeof t ? t += "" : Array.isArray(t) && (t = u.map(t, function(e) {
                        return null == e ? "" : e + ""
                    })),
                    (i = u.valHooks[this.type] || u.valHooks[this.nodeName.toLowerCase()]) && "set"in i && void 0 !== i.set(this, t, "value") || (this.value = t))
                })) : t ? (i = u.valHooks[t.type] || u.valHooks[t.nodeName.toLowerCase()]) && "get"in i && void 0 !== (e = i.get(t, "value")) ? e : "string" == typeof (e = t.value) ? e.replace(o, "") : null == e ? "" : e : void 0
            }
        }),
        u.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = u.find.attr(e, "value");
                        return null != t ? t : n(u.text(e))
                    }
                },
                select: {
                    get: function(e) {
                        var t, n, i, r = e.options, a = e.selectedIndex, o = "select-one" === e.type, s = o ? null : [], l = o ? a + 1 : r.length;
                        for (i = a < 0 ? l : o ? a : 0; i < l; i++)
                            if (((n = r[i]).selected || i === a) && !n.disabled && (!n.parentNode.disabled || !c(n.parentNode, "optgroup"))) {
                                if (t = u(n).val(),
                                o)
                                    return t;
                                s.push(t)
                            }
                        return s
                    },
                    set: function(e, t) {
                        for (var n, i, r = e.options, a = u.makeArray(t), o = r.length; o--; )
                            ((i = r[o]).selected = -1 < u.inArray(u.valHooks.option.get(i), a)) && (n = !0);
                        return n || (e.selectedIndex = -1),
                        a
                    }
                }
            }
        }),
        u.each(["radio", "checkbox"], function() {
            u.valHooks[this] = {
                set: function(e, t) {
                    if (Array.isArray(t))
                        return e.checked = -1 < u.inArray(u(e).val(), t)
                }
            },
            e.checkOn || (u.valHooks[this].get = function(e) {
                return null === e.getAttribute("value") ? "on" : e.value
            }
            )
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(33), n(542), n(67), n(151)],
    void 0 === (r = function(t, a, e) {
        "use strict";
        return e.focusin || t.each({
            focus: "focusin",
            blur: "focusout"
        }, function(n, i) {
            function r(e) {
                t.event.simulate(i, e.target, t.event.fix(e))
            }
            t.event.special[i] = {
                setup: function() {
                    var e = this.ownerDocument || this.document || this
                      , t = a.access(e, i);
                    t || e.addEventListener(n, r, !0),
                    a.access(e, i, (t || 0) + 1)
                },
                teardown: function() {
                    var e = this.ownerDocument || this.document || this
                      , t = a.access(e, i) - 1;
                    t ? a.access(e, i, t) : (e.removeEventListener(n, r, !0),
                    a.remove(e, i))
                }
            }
        }),
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(53)],
    void 0 === (r = function(e) {
        "use strict";
        return e.focusin = "onfocusin"in window,
        e
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(55)],
    void 0 === (r = function(i) {
        "use strict";
        return i._evalUrl = function(e, t, n) {
            return i.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(e) {
                    i.globalEval(e, t, n)
                }
            })
        }
        ,
        i._evalUrl
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i;
    void 0 === (i = function() {
        "use strict";
        return window.location
    }
    .call(t, n, t, e)) || (e.exports = i)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(14), n(26), n(102), n(65)],
    void 0 === (r = function(i, r) {
        "use strict";
        return i.fn.extend({
            wrapAll: function(e) {
                var t;
                return this[0] && (r(e) && (e = e.call(this[0])),
                t = i(e, this[0].ownerDocument).eq(0).clone(!0),
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    for (var e = this; e.firstElementChild; )
                        e = e.firstElementChild;
                    return e
                }).append(this)),
                this
            },
            wrapInner: function(n) {
                return r(n) ? this.each(function(e) {
                    i(this).wrapInner(n.call(this, e))
                }) : this.each(function() {
                    var e = i(this)
                      , t = e.contents();
                    t.length ? t.wrapAll(n) : e.append(n)
                })
            },
            wrap: function(t) {
                var n = r(t);
                return this.each(function(e) {
                    i(this).wrapAll(n ? t.call(this, e) : t)
                })
            },
            unwrap: function(e) {
                return this.parent(e).not("body").each(function() {
                    i(this).replaceWith(this.childNodes)
                }),
                this
            }
        }),
        i
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(18)],
    void 0 === (r = function(t) {
        "use strict";
        t.expr.pseudos.hidden = function(e) {
            return !t.expr.pseudos.visible(e)
        }
        ,
        t.expr.pseudos.visible = function(e) {
            return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(53), n(55)],
    void 0 === (r = function(e, t) {
        "use strict";
        e.ajaxSettings.xhr = function() {
            try {
                return new window.XMLHttpRequest
            } catch (e) {}
        }
        ;
        var s = {
            0: 200,
            1223: 204
        }
          , n = e.ajaxSettings.xhr();
        t.cors = !!n && "withCredentials"in n,
        t.ajax = n = !!n,
        e.ajaxTransport(function(r) {
            var a, o;
            if (t.cors || n && !r.crossDomain)
                return {
                    send: function(e, t) {
                        var n, i = r.xhr();
                        if (i.open(r.type, r.url, r.async, r.username, r.password),
                        r.xhrFields)
                            for (n in r.xhrFields)
                                i[n] = r.xhrFields[n];
                        for (n in r.mimeType && i.overrideMimeType && i.overrideMimeType(r.mimeType),
                        r.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest"),
                        e)
                            i.setRequestHeader(n, e[n]);
                        a = function(e) {
                            return function() {
                                a && (a = o = i.onload = i.onerror = i.onabort = i.ontimeout = i.onreadystatechange = null,
                                "abort" === e ? i.abort() : "error" === e ? "number" != typeof i.status ? t(0, "error") : t(i.status, i.statusText) : t(s[i.status] || i.status, i.statusText, "text" !== (i.responseType || "text") || "string" != typeof i.responseText ? {
                                    binary: i.response
                                } : {
                                    text: i.responseText
                                }, i.getAllResponseHeaders()))
                            }
                        }
                        ,
                        i.onload = a(),
                        o = i.onerror = i.ontimeout = a("error"),
                        void 0 !== i.onabort ? i.onabort = o : i.onreadystatechange = function() {
                            4 === i.readyState && window.setTimeout(function() {
                                a && o()
                            })
                        }
                        ,
                        a = a("abort");
                        try {
                            i.send(r.hasContent && r.data || null)
                        } catch (e) {
                            if (a)
                                throw e
                        }
                    },
                    abort: function() {
                        a && a()
                    }
                }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(16), n(55)],
    void 0 === (r = function(a, o) {
        "use strict";
        a.ajaxPrefilter(function(e) {
            e.crossDomain && (e.contents.script = !1)
        }),
        a.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(e) {
                    return a.globalEval(e),
                    e
                }
            }
        }),
        a.ajaxPrefilter("script", function(e) {
            void 0 === e.cache && (e.cache = !1),
            e.crossDomain && (e.type = "GET")
        }),
        a.ajaxTransport("script", function(n) {
            var i, r;
            if (n.crossDomain || n.scriptAttrs)
                return {
                    send: function(e, t) {
                        i = a("<script>").attr(n.scriptAttrs || {}).prop({
                            charset: n.scriptCharset,
                            src: n.url
                        }).on("load error", r = function(e) {
                            i.remove(),
                            r = null,
                            e && t("error" === e.type ? 404 : 200, e.type)
                        }
                        ),
                        o.head.appendChild(i[0])
                    },
                    abort: function() {
                        r && r()
                    }
                }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(14), n(223), n(224), n(55)],
    void 0 === (r = function(s, l, t, u) {
        "use strict";
        var c = []
          , h = /(=)\?(?=&|$)|\?\?/;
        s.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = c.pop() || s.expando + "_" + t.guid++;
                return this[e] = !0,
                e
            }
        }),
        s.ajaxPrefilter("json jsonp", function(e, t, n) {
            var i, r, a, o = !1 !== e.jsonp && (h.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && h.test(e.data) && "data");
            if (o || "jsonp" === e.dataTypes[0])
                return i = e.jsonpCallback = l(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback,
                o ? e[o] = e[o].replace(h, "$1" + i) : !1 !== e.jsonp && (e.url += (u.test(e.url) ? "&" : "?") + e.jsonp + "=" + i),
                e.converters["script json"] = function() {
                    return a || s.error(i + " was not called"),
                    a[0]
                }
                ,
                e.dataTypes[0] = "json",
                r = window[i],
                window[i] = function() {
                    a = arguments
                }
                ,
                n.always(function() {
                    void 0 === r ? s(window).removeProp(i) : window[i] = r,
                    e[i] && (e.jsonpCallback = t.jsonpCallback,
                    c.push(i)),
                    a && l(r) && r(a[0]),
                    a = r = void 0
                }),
                "script"
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(150), n(14), n(227), n(55), n(65), n(102), n(18)],
    void 0 === (r = function(l, u, c) {
        "use strict";
        l.fn.load = function(e, t, n) {
            var i, r, a, o = this, s = e.indexOf(" ");
            return -1 < s && (i = u(e.slice(s)),
            e = e.slice(0, s)),
            c(t) ? (n = t,
            t = void 0) : t && "object" == typeof t && (r = "POST"),
            0 < o.length && l.ajax({
                url: e,
                type: r || "GET",
                dataType: "html",
                data: t
            }).done(function(e) {
                a = arguments,
                o.html(i ? l("<div>").append(l.parseHTML(e)).find(i) : e)
            }).always(n && function(e, t) {
                o.each(function() {
                    n.apply(this, a || [e.responseText, t, e])
                })
            }
            ),
            this
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(16), n(53)],
    void 0 === (r = function(e, t) {
        "use strict";
        var n;
        return t.createHTMLDocument = ((n = e.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
        2 === n.childNodes.length),
        t
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(18), n(143)],
    void 0 === (r = function(e) {
        "use strict";
        e.expr.pseudos.animated = function(t) {
            return e.grep(e.timers, function(e) {
                return t === e.elem
            }).length
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(101), n(14), n(147), n(219), n(220), n(148), n(79), n(26), n(81), n(18)],
    void 0 === (r = function(d, n, t, p, i, r, a, o, s) {
        "use strict";
        return d.offset = {
            setOffset: function(e, t, n) {
                var i, r, a, o, s, l, u = d.css(e, "position"), c = d(e), h = {};
                "static" === u && (e.style.position = "relative"),
                s = c.offset(),
                a = d.css(e, "top"),
                l = d.css(e, "left"),
                r = ("absolute" === u || "fixed" === u) && -1 < (a + l).indexOf("auto") ? (o = (i = c.position()).top,
                i.left) : (o = parseFloat(a) || 0,
                parseFloat(l) || 0),
                p(t) && (t = t.call(e, n, d.extend({}, s))),
                null != t.top && (h.top = t.top - s.top + o),
                null != t.left && (h.left = t.left - s.left + r),
                "using"in t ? t.using.call(e, h) : c.css(h)
            }
        },
        d.fn.extend({
            offset: function(t) {
                if (arguments.length)
                    return void 0 === t ? this : this.each(function(e) {
                        d.offset.setOffset(this, t, e)
                    });
                var e, n, i = this[0];
                return i ? i.getClientRects().length ? (e = i.getBoundingClientRect(),
                n = i.ownerDocument.defaultView,
                {
                    top: e.top + n.pageYOffset,
                    left: e.left + n.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function() {
                if (this[0]) {
                    var e, t, n, i = this[0], r = {
                        top: 0,
                        left: 0
                    };
                    if ("fixed" === d.css(i, "position"))
                        t = i.getBoundingClientRect();
                    else {
                        for (t = this.offset(),
                        n = i.ownerDocument,
                        e = i.offsetParent || n.documentElement; e && (e === n.body || e === n.documentElement) && "static" === d.css(e, "position"); )
                            e = e.parentNode;
                        e && e !== i && 1 === e.nodeType && ((r = d(e).offset()).top += d.css(e, "borderTopWidth", !0),
                        r.left += d.css(e, "borderLeftWidth", !0))
                    }
                    return {
                        top: t.top - r.top - d.css(i, "marginTop", !0),
                        left: t.left - r.left - d.css(i, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var e = this.offsetParent; e && "static" === d.css(e, "position"); )
                        e = e.offsetParent;
                    return e || t
                })
            }
        }),
        d.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(t, r) {
            var a = "pageYOffset" === r;
            d.fn[t] = function(e) {
                return n(this, function(e, t, n) {
                    var i;
                    if (s(e) ? i = e : 9 === e.nodeType && (i = e.defaultView),
                    void 0 === n)
                        return i ? i[r] : e[t];
                    i ? i.scrollTo(a ? i.pageXOffset : n, a ? n : i.pageYOffset) : e[t] = n
                }, t, e, arguments.length)
            }
        }),
        d.each(["top", "left"], function(e, n) {
            d.cssHooks[n] = a(o.pixelPosition, function(e, t) {
                if (t)
                    return t = r(e, n),
                    i.test(t) ? d(e).position()[n] + "px" : t
            })
        }),
        d
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(54), n(79), n(81)],
    void 0 === (r = function(l, u, c) {
        "use strict";
        return l.each({
            Height: "height",
            Width: "width"
        }, function(o, s) {
            l.each({
                padding: "inner" + o,
                content: s,
                "": "outer" + o
            }, function(i, a) {
                l.fn[a] = function(e, t) {
                    var n = arguments.length && (i || "boolean" != typeof e)
                      , r = i || (!0 === e || !0 === t ? "margin" : "border");
                    return u(this, function(e, t, n) {
                        var i;
                        return c(e) ? 0 === a.indexOf("outer") ? e["inner" + o] : e.document.documentElement["client" + o] : 9 === e.nodeType ? (i = e.documentElement,
                        Math.max(e.body["scroll" + o], i["scroll" + o], e.body["offset" + o], i["offset" + o], i["client" + o])) : void 0 === n ? l.css(e, t, r) : l.style(e, t, n, r)
                    }, s, n ? e : void 0, n)
                }
            })
        }),
        l
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(39), n(80), n(64), n(14), n(79), n(97), n(556), n(557)],
    void 0 === (r = function(a, e, t, n, o, i, s) {
        "use strict";
        var r = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
        a.proxy = function(e, t) {
            var n, i, r;
            if ("string" == typeof t && (n = e[t],
            t = e,
            e = n),
            o(e))
                return i = s.call(arguments, 2),
                (r = function() {
                    return e.apply(t || this, i.concat(s.call(arguments)))
                }
                ).guid = e.guid = e.guid || a.guid++,
                r
        }
        ,
        a.holdReady = function(e) {
            e ? a.readyWait++ : a.ready(!0)
        }
        ,
        a.isArray = Array.isArray,
        a.parseJSON = JSON.parse,
        a.nodeName = e,
        a.isFunction = o,
        a.isWindow = i,
        a.camelCase = t,
        a.type = n,
        a.now = Date.now,
        a.isNumeric = function(e) {
            var t = a.type(e);
            return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
        }
        ,
        a.trim = function(e) {
            return null == e ? "" : (e + "").replace(r, "$1")
        }
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(55), n(67)],
    void 0 === (r = function(n) {
        "use strict";
        n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
            n.fn[t] = function(e) {
                return this.on(t, e)
            }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4), n(67), n(151)],
    void 0 === (r = function(t) {
        "use strict";
        t.fn.extend({
            bind: function(e, t, n) {
                return this.on(e, null, t, n)
            },
            unbind: function(e, t) {
                return this.off(e, null, t)
            },
            delegate: function(e, t, n, i) {
                return this.on(t, e, n, i)
            },
            undelegate: function(e, t, n) {
                return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
            },
            hover: function(e, t) {
                return this.mouseenter(e).mouseleave(t || e)
            }
        }),
        t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, n) {
            t.fn[n] = function(e, t) {
                return 0 < arguments.length ? this.on(n, null, e, t) : this.trigger(n)
            }
        })
    }
    .apply(t, i)) || (e.exports = r)
}
, function(t, n, e) {
    var i, r;
    i = [e(4)],
    void 0 === (r = function(e) {
        "use strict";
        void 0 === (r = function() {
            return e
        }
        .apply(n, i = [])) || (t.exports = r)
    }
    .apply(n, i)) || (t.exports = r)
}
, function(e, t, n) {
    var i, r;
    i = [n(4)],
    void 0 === (r = function(t) {
        "use strict";
        var n = window.jQuery
          , i = window.$;
        t.noConflict = function(e) {
            return window.$ === t && (window.$ = i),
            e && window.jQuery === t && (window.jQuery = n),
            t
        }
        ,
        "undefined" == typeof noGlobal && (window.jQuery = window.$ = t)
    }
    .apply(t, i)) || (e.exports = r)
}
, function(module, exports) {
    "object" != typeof JSON && (JSON = {}),
    function() {
        "use strict";
        function f(e) {
            return e < 10 ? "0" + e : e
        }
        function quote(e) {
            return escapable.lastIndex = 0,
            escapable.test(e) ? '"' + e.replace(escapable, function(e) {
                var t = meta[e];
                return "string" == typeof t ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + e + '"'
        }
        function str(e, t) {
            var n, i, r, a, o, s = gap, l = t[e];
            switch (l && "object" == typeof l && "function" == typeof l.toJSON && (l = l.toJSON(e)),
            "function" == typeof rep && (l = rep.call(t, e, l)),
            typeof l) {
            case "string":
                return quote(l);
            case "number":
                return isFinite(l) ? String(l) : "null";
            case "boolean":
            case "null":
                return String(l);
            case "object":
                if (!l)
                    return "null";
                if (gap += indent,
                o = [],
                "[object Array]" === Object.prototype.toString.apply(l)) {
                    for (a = l.length,
                    n = 0; n < a; n += 1)
                        o[n] = str(n, l) || "null";
                    return r = 0 === o.length ? "[]" : gap ? "[\n" + gap + o.join(",\n" + gap) + "\n" + s + "]" : "[" + o.join(",") + "]",
                    gap = s,
                    r
                }
                if (rep && "object" == typeof rep)
                    for (a = rep.length,
                    n = 0; n < a; n += 1)
                        "string" == typeof rep[n] && ((r = str(i = rep[n], l)) && o.push(quote(i) + (gap ? ": " : ":") + r));
                else
                    for (i in l)
                        Object.prototype.hasOwnProperty.call(l, i) && ((r = str(i, l)) && o.push(quote(i) + (gap ? ": " : ":") + r));
                return r = 0 === o.length ? "{}" : gap ? "{\n" + gap + o.join(",\n" + gap) + "\n" + s + "}" : "{" + o.join(",") + "}",
                gap = s,
                r
            }
        }
        "function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function(e) {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
        }
        ,
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(e) {
            return this.valueOf()
        }
        );
        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
            "\b": "\\b",
            "\t": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        }, rep;
        "function" != typeof JSON.stringify && (JSON.stringify = function(e, t, n) {
            var i;
            if (indent = gap = "",
            "number" == typeof n)
                for (i = 0; i < n; i += 1)
                    indent += " ";
            else
                "string" == typeof n && (indent = n);
            if (!(rep = t) || "function" == typeof t || "object" == typeof t && "number" == typeof t.length)
                return str("", {
                    "": e
                });
            throw new Error("JSON.stringify")
        }
        ),
        "function" != typeof JSON.parse && (JSON.parse = function(text, reviver) {
            function walk(e, t) {
                var n, i, r = e[t];
                if (r && "object" == typeof r)
                    for (n in r)
                        Object.prototype.hasOwnProperty.call(r, n) && (void 0 !== (i = walk(r, n)) ? r[n] = i : delete r[n]);
                return reviver.call(e, t, r)
            }
            var j;
            if (text = String(text),
            cx.lastIndex = 0,
            cx.test(text) && (text = text.replace(cx, function(e) {
                return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            })),
            /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
                return j = eval("(" + text + ")"),
                "function" == typeof reviver ? walk({
                    "": j
                }, "") : j;
            throw new SyntaxError("JSON.parse")
        }
        )
    }(),
    function(n) {
        "use strict";
        var o = n.History = n.History || {};
        if (void 0 !== o.Adapter)
            throw new Error("History.js Adapter has already been loaded...");
        o.Adapter = {
            handlers: {},
            _uid: 1,
            uid: function(e) {
                return e._uid || (e._uid = o.Adapter._uid++)
            },
            bind: function(e, t, n) {
                var i, r, a = o.Adapter.uid(e);
                o.Adapter.handlers[a] = o.Adapter.handlers[a] || {},
                o.Adapter.handlers[a][t] = o.Adapter.handlers[a][t] || [],
                o.Adapter.handlers[a][t].push(n),
                e["on" + t] = (i = e,
                r = t,
                function(e) {
                    o.Adapter.trigger(i, r, e)
                }
                )
            },
            trigger: function(e, t, n) {
                n = n || {};
                var i, r, a = o.Adapter.uid(e);
                for (o.Adapter.handlers[a] = o.Adapter.handlers[a] || {},
                o.Adapter.handlers[a][t] = o.Adapter.handlers[a][t] || [],
                i = 0,
                r = o.Adapter.handlers[a][t].length; i < r; ++i)
                    o.Adapter.handlers[a][t][i].apply(this, [n])
            },
            extractEventData: function(e, t) {
                return t && t[e] || void 0
            },
            onDomLoad: function(e) {
                var t = n.setTimeout(function() {
                    e()
                }, 2e3);
                n.onload = function() {
                    clearTimeout(t),
                    e()
                }
            }
        },
        void 0 !== o.init && o.init()
    }(window),
    function(c) {
        "use strict";
        var e = c.document
          , t = c.setTimeout || t
          , n = c.clearTimeout || n
          , s = c.setInterval || s
          , h = c.History = c.History || {};
        if (void 0 !== h.initHtml4)
            throw new Error("History.js HTML4 Support has already been loaded...");
        h.initHtml4 = function() {
            if (void 0 !== h.initHtml4.initialized)
                return !1;
            h.initHtml4.initialized = !0,
            h.enabled = !0,
            h.savedHashes = [],
            h.isLastHash = function(e) {
                return e === h.getHashByIndex()
            }
            ,
            h.isHashEqual = function(e, t) {
                return (e = encodeURIComponent(e).replace(/%25/g, "%")) === (t = encodeURIComponent(t).replace(/%25/g, "%"))
            }
            ,
            h.saveHash = function(e) {
                return !h.isLastHash(e) && (h.savedHashes.push(e),
                !0)
            }
            ,
            h.getHashByIndex = function(e) {
                return void 0 === e ? h.savedHashes[h.savedHashes.length - 1] : e < 0 ? h.savedHashes[h.savedHashes.length + e] : h.savedHashes[e]
            }
            ,
            h.discardedHashes = {},
            h.discardedStates = {},
            h.discardState = function(e, t, n) {
                var i, r = h.getHashByState(e);
                return i = {
                    discardedState: e,
                    backState: n,
                    forwardState: t
                },
                h.discardedStates[r] = i,
                !0
            }
            ,
            h.discardHash = function(e, t, n) {
                var i = {
                    discardedHash: e,
                    backState: n,
                    forwardState: t
                };
                return h.discardedHashes[e] = i,
                !0
            }
            ,
            h.discardedState = function(e) {
                var t = h.getHashByState(e);
                return h.discardedStates[t] || !1
            }
            ,
            h.discardedHash = function(e) {
                return h.discardedHashes[e] || !1
            }
            ,
            h.recycleState = function(e) {
                var t = h.getHashByState(e);
                return h.discardedState(e) && delete h.discardedStates[t],
                !0
            }
            ,
            h.emulated.hashChange && (h.hashChangeInit = function() {
                h.checkerFunction = null;
                var n, i, r, a = "", o = Boolean(h.getHash());
                return h.isInternetExplorer() ? ("historyjs-iframe",
                (n = e.createElement("iframe")).setAttribute("id", "historyjs-iframe"),
                n.setAttribute("src", "#"),
                n.style.display = "none",
                e.body.appendChild(n),
                n.contentWindow.document.open(),
                n.contentWindow.document.close(),
                i = "",
                r = !1,
                h.checkerFunction = function() {
                    if (r)
                        return !1;
                    r = !0;
                    var e = h.getHash()
                      , t = h.getHash(n.contentWindow.document);
                    return e !== a ? (t !== (a = e) && (i = t = e,
                    n.contentWindow.document.open(),
                    n.contentWindow.document.close(),
                    n.contentWindow.document.location.hash = h.escapeHash(e)),
                    h.Adapter.trigger(c, "hashchange")) : t !== i && (i = t,
                    o && "" === t ? h.back() : h.setHash(t, !1)),
                    !(r = !1)
                }
                ) : h.checkerFunction = function() {
                    var e = h.getHash() || "";
                    return e !== a && (a = e,
                    h.Adapter.trigger(c, "hashchange")),
                    !0
                }
                ,
                h.intervalList.push(s(h.checkerFunction, h.options.hashChangeInterval)),
                !0
            }
            ,
            h.Adapter.onDomLoad(h.hashChangeInit)),
            h.emulated.pushState && (h.onHashChange = function(e) {
                var t, n = e && e.newURL || h.getLocationHref(), i = h.getHashByUrl(n), r = null;
                return h.isLastHash(i) ? (h.busy(!1),
                !1) : (h.doubleCheckComplete(),
                h.saveHash(i),
                i && h.isTraditionalAnchor(i) ? (h.Adapter.trigger(c, "anchorchange"),
                h.busy(!1),
                !1) : (r = h.extractState(h.getFullUrl(i || h.getLocationHref()), !0),
                h.isLastSavedState(r) ? (h.busy(!1),
                !1) : (h.getHashByState(r),
                (t = h.discardedState(r)) ? (h.getHashByIndex(-2) === h.getHashByState(t.forwardState) ? h.back(!1) : h.forward(!1),
                !1) : (h.pushState(r.data, r.title, encodeURI(r.url), !1),
                !0))))
            }
            ,
            h.Adapter.bind(c, "hashchange", h.onHashChange),
            h.pushState = function(e, t, n, i) {
                if (n = encodeURI(n).replace(/%25/g, "%"),
                h.getHashByUrl(n))
                    throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
                if (!1 !== i && h.busy())
                    return h.pushQueue({
                        scope: h,
                        callback: h.pushState,
                        args: arguments,
                        queue: i
                    }),
                    !1;
                h.busy(!0);
                var r = h.createStateObject(e, t, n)
                  , a = h.getHashByState(r)
                  , o = h.getState(!1)
                  , s = h.getHashByState(o)
                  , l = h.getHash()
                  , u = h.expectedStateId == r.id;
                return h.storeState(r),
                h.expectedStateId = r.id,
                h.recycleState(r),
                h.setTitle(r),
                a === s ? (h.busy(!1),
                !1) : (h.saveState(r),
                u || h.Adapter.trigger(c, "statechange"),
                h.isHashEqual(a, l) || h.isHashEqual(a, h.getShortUrl(h.getLocationHref())) || h.setHash(a, !1),
                h.busy(!1),
                !0)
            }
            ,
            h.replaceState = function(e, t, n, i) {
                if (n = encodeURI(n).replace(/%25/g, "%"),
                h.getHashByUrl(n))
                    throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
                if (!1 !== i && h.busy())
                    return h.pushQueue({
                        scope: h,
                        callback: h.replaceState,
                        args: arguments,
                        queue: i
                    }),
                    !1;
                h.busy(!0);
                var r = h.createStateObject(e, t, n)
                  , a = h.getHashByState(r)
                  , o = h.getState(!1)
                  , s = h.getHashByState(o)
                  , l = h.getStateByIndex(-2);
                return h.discardState(o, r, l),
                a === s ? (h.storeState(r),
                h.expectedStateId = r.id,
                h.recycleState(r),
                h.setTitle(r),
                h.saveState(r),
                h.Adapter.trigger(c, "statechange"),
                h.busy(!1)) : h.pushState(r.data, r.title, r.url, !1),
                !0
            }
            ),
            h.emulated.pushState && h.getHash() && !h.emulated.hashChange && h.Adapter.onDomLoad(function() {
                h.Adapter.trigger(c, "hashchange")
            })
        }
        ,
        void 0 !== h.init && h.init()
    }(window),
    function(o, n) {
        "use strict";
        var s = o.console || n
          , l = o.document
          , i = o.navigator
          , r = !1
          , a = o.setTimeout
          , u = o.clearTimeout
          , c = o.setInterval
          , h = o.clearInterval
          , d = o.JSON
          , p = o.alert
          , f = o.History = o.History || {}
          , m = o.history;
        try {
            (r = o.sessionStorage).setItem("TEST", "1"),
            r.removeItem("TEST")
        } catch (e) {
            r = !1
        }
        if (d.stringify = d.stringify || d.encode,
        d.parse = d.parse || d.decode,
        void 0 !== f.init)
            throw new Error("History.js Core has already been loaded...");
        f.init = function(e) {
            return void 0 !== f.Adapter && (void 0 !== f.initCore && f.initCore(),
            void 0 !== f.initHtml4 && f.initHtml4(),
            !0)
        }
        ,
        f.initCore = function(e) {
            if (void 0 !== f.initCore.initialized)
                return !1;
            if (f.initCore.initialized = !0,
            f.options = f.options || {},
            f.options.hashChangeInterval = f.options.hashChangeInterval || 100,
            f.options.safariPollInterval = f.options.safariPollInterval || 500,
            f.options.doubleCheckInterval = f.options.doubleCheckInterval || 500,
            f.options.disableSuid = f.options.disableSuid || !1,
            f.options.storeInterval = f.options.storeInterval || 1e3,
            f.options.busyDelay = f.options.busyDelay || 250,
            f.options.debug = f.options.debug || !1,
            f.options.initialTitle = f.options.initialTitle || l.title,
            f.options.html4Mode = f.options.html4Mode || !1,
            f.options.delayInit = f.options.delayInit || !1,
            f.intervalList = [],
            f.clearAllIntervals = function() {
                var e, t = f.intervalList;
                if (null != t) {
                    for (e = 0; e < t.length; e++)
                        h(t[e]);
                    f.intervalList = null
                }
            }
            ,
            f.debug = function() {
                f.options.debug && f.log.apply(f, arguments)
            }
            ,
            f.log = function() {
                var e, t, n, i, r, a = void 0 !== s && void 0 !== s.log && void 0 !== s.log.apply, o = l.getElementById("log");
                for (a ? (e = (i = Array.prototype.slice.call(arguments)).shift(),
                void 0 !== s.debug ? s.debug.apply(s, [e, i]) : s.log.apply(s, [e, i])) : e = "\n" + arguments[0] + "\n",
                t = 1,
                n = arguments.length; t < n; ++t) {
                    if ("object" == typeof (r = arguments[t]) && void 0 !== d)
                        try {
                            r = d.stringify(r)
                        } catch (e) {}
                    e += "\n" + r + "\n"
                }
                return o ? (o.value += e + "\n-----\n",
                o.scrollTop = o.scrollHeight - o.clientHeight) : a || p(e),
                !0
            }
            ,
            f.getInternetExplorerMajorVersion = function() {
                return f.getInternetExplorerMajorVersion.cached = void 0 !== f.getInternetExplorerMajorVersion.cached ? f.getInternetExplorerMajorVersion.cached : function() {
                    for (var e = 3, t = l.createElement("div"), n = t.getElementsByTagName("i"); (t.innerHTML = "\x3c!--[if gt IE " + ++e + "]><i></i><![endif]--\x3e") && n[0]; )
                        ;
                    return 4 < e && e
                }()
            }
            ,
            f.isInternetExplorer = function() {
                return f.isInternetExplorer.cached = void 0 !== f.isInternetExplorer.cached ? f.isInternetExplorer.cached : Boolean(f.getInternetExplorerMajorVersion())
            }
            ,
            f.options.html4Mode ? f.emulated = {
                pushState: !0,
                hashChange: !0
            } : f.emulated = {
                pushState: !Boolean(o.history && o.history.pushState && o.history.replaceState && !/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent) && !/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),
                hashChange: Boolean(!("onhashchange"in o || "onhashchange"in l) || f.isInternetExplorer() && f.getInternetExplorerMajorVersion() < 8)
            },
            f.enabled = !f.emulated.pushState,
            f.bugs = {
                setHash: Boolean(!f.emulated.pushState && "Apple Computer, Inc." === i.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),
                safariPoll: Boolean(!f.emulated.pushState && "Apple Computer, Inc." === i.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),
                ieDoubleCheck: Boolean(f.isInternetExplorer() && f.getInternetExplorerMajorVersion() < 8),
                hashEscape: Boolean(f.isInternetExplorer() && f.getInternetExplorerMajorVersion() < 7)
            },
            f.isEmptyObject = function(e) {
                for (var t in e)
                    if (e.hasOwnProperty(t))
                        return !1;
                return !0
            }
            ,
            f.cloneObject = function(e) {
                var t;
                return e ? (t = d.stringify(e),
                d.parse(t)) : {}
            }
            ,
            f.getRootUrl = function() {
                var e = l.location.protocol + "//" + (l.location.hostname || l.location.host);
                return l.location.port && (e += ":" + l.location.port),
                e += "/"
            }
            ,
            f.getBaseHref = function() {
                var e = l.getElementsByTagName("base")
                  , t = "";
                return 1 === e.length && (t = e[0].href.replace(/[^\/]+$/, "")),
                (t = t.replace(/\/+$/, "")) && (t += "/"),
                t
            }
            ,
            f.getBaseUrl = function() {
                return f.getBaseHref() || f.getBasePageUrl() || f.getRootUrl()
            }
            ,
            f.getPageUrl = function() {
                return ((f.getState(!1, !1) || {}).url || f.getLocationHref()).replace(/\/+$/, "").replace(/[^\/]+$/, function(e, t, n) {
                    return /\./.test(e) ? e : e + "/"
                })
            }
            ,
            f.getBasePageUrl = function() {
                return f.getLocationHref().replace(/[#\?].*/, "").replace(/[^\/]+$/, function(e, t, n) {
                    return /[^\/]$/.test(e) ? "" : e
                }).replace(/\/+$/, "") + "/"
            }
            ,
            f.getFullUrl = function(e, t) {
                var n = e
                  , i = e.substring(0, 1);
                return t = void 0 === t || t,
                /[a-z]+\:\/\//.test(e) || (n = "/" === i ? f.getRootUrl() + e.replace(/^\/+/, "") : "#" === i ? f.getPageUrl().replace(/#.*/, "") + e : "?" === i ? f.getPageUrl().replace(/[\?#].*/, "") + e : t ? f.getBaseUrl() + e.replace(/^(\.\/)+/, "") : f.getBasePageUrl() + e.replace(/^(\.\/)+/, "")),
                n.replace(/\#$/, "")
            }
            ,
            f.getShortUrl = function(e) {
                var t = e
                  , n = f.getBaseUrl()
                  , i = f.getRootUrl();
                return f.emulated.pushState && (t = t.replace(n, "")),
                t = t.replace(i, "/"),
                f.isTraditionalAnchor(t) && (t = "./" + t),
                t = t.replace(/^(\.\/)+/g, "./").replace(/\#$/, "")
            }
            ,
            f.getLocationHref = function(e) {
                return (e = e || l).URL === e.location.href ? e.location.href : e.location.href === decodeURIComponent(e.URL) ? e.URL : e.location.hash && decodeURIComponent(e.location.href.replace(/^[^#]+/, "")) === e.location.hash ? e.location.href : -1 == e.URL.indexOf("#") && -1 != e.location.href.indexOf("#") ? e.location.href : e.URL || e.location.href
            }
            ,
            f.store = {},
            f.idToState = f.idToState || {},
            f.stateToId = f.stateToId || {},
            f.urlToId = f.urlToId || {},
            f.storedStates = f.storedStates || [],
            f.savedStates = f.savedStates || [],
            f.normalizeStore = function() {
                f.store.idToState = f.store.idToState || {},
                f.store.urlToId = f.store.urlToId || {},
                f.store.stateToId = f.store.stateToId || {}
            }
            ,
            f.getState = function(e, t) {
                void 0 === e && (e = !0),
                void 0 === t && (t = !0);
                var n = f.getLastSavedState();
                return !n && t && (n = f.createStateObject()),
                e && ((n = f.cloneObject(n)).url = n.cleanUrl || n.url),
                n
            }
            ,
            f.getIdByState = function(e) {
                var t, n = f.extractId(e.url);
                if (!n)
                    if (t = f.getStateString(e),
                    void 0 !== f.stateToId[t])
                        n = f.stateToId[t];
                    else if (void 0 !== f.store.stateToId[t])
                        n = f.store.stateToId[t];
                    else {
                        for (; n = (new Date).getTime() + String(Math.random()).replace(/\D/g, ""),
                        void 0 !== f.idToState[n] || void 0 !== f.store.idToState[n]; )
                            ;
                        f.stateToId[t] = n,
                        f.idToState[n] = e
                    }
                return n
            }
            ,
            f.normalizeState = function(e) {
                var t, n;
                return e && "object" == typeof e || (e = {}),
                void 0 !== e.normalized ? e : (e.data && "object" == typeof e.data || (e.data = {}),
                (t = {
                    normalized: !0
                }).title = e.title || "",
                t.url = f.getFullUrl(e.url ? e.url : f.getLocationHref()),
                t.hash = f.getShortUrl(t.url),
                t.data = f.cloneObject(e.data),
                t.id = f.getIdByState(t),
                t.cleanUrl = t.url.replace(/\??\&_suid.*/, ""),
                t.url = t.cleanUrl,
                n = !f.isEmptyObject(t.data),
                (t.title || n) && !0 !== f.options.disableSuid && (t.hash = f.getShortUrl(t.url).replace(/\??\&_suid.*/, ""),
                /\?/.test(t.hash) || (t.hash += "?"),
                t.hash += "&_suid=" + t.id),
                t.hashedUrl = f.getFullUrl(t.hash),
                (f.emulated.pushState || f.bugs.safariPoll) && f.hasUrlDuplicate(t) && (t.url = t.hashedUrl),
                t)
            }
            ,
            f.createStateObject = function(e, t, n) {
                var i = {
                    data: e,
                    title: t,
                    url: n
                };
                return i = f.normalizeState(i)
            }
            ,
            f.getStateById = function(e) {
                return e = String(e),
                f.idToState[e] || f.store.idToState[e] || n
            }
            ,
            f.getStateString = function(e) {
                var t;
                return t = {
                    data: f.normalizeState(e).data,
                    title: e.title,
                    url: e.url
                },
                d.stringify(t)
            }
            ,
            f.getStateId = function(e) {
                return f.normalizeState(e).id
            }
            ,
            f.getHashByState = function(e) {
                return f.normalizeState(e).hash
            }
            ,
            f.extractId = function(e) {
                var t, n;
                return n = -1 != e.indexOf("#") ? e.split("#")[0] : e,
                (t = /(.*)\&_suid=([0-9]+)$/.exec(n)) && t[1] || e,
                (t ? String(t[2] || "") : "") || !1
            }
            ,
            f.isTraditionalAnchor = function(e) {
                return !/[\/\?\.]/.test(e)
            }
            ,
            f.extractState = function(e, t) {
                var n, i, r = null;
                return t = t || !1,
                (n = f.extractId(e)) && (r = f.getStateById(n)),
                r || (i = f.getFullUrl(e),
                (n = f.getIdByUrl(i) || !1) && (r = f.getStateById(n)),
                r || !t || f.isTraditionalAnchor(e) || (r = f.createStateObject(null, null, i))),
                r
            }
            ,
            f.getIdByUrl = function(e) {
                return f.urlToId[e] || f.store.urlToId[e] || n
            }
            ,
            f.getLastSavedState = function() {
                return f.savedStates[f.savedStates.length - 1] || n
            }
            ,
            f.getLastStoredState = function() {
                return f.storedStates[f.storedStates.length - 1] || n
            }
            ,
            f.hasUrlDuplicate = function(e) {
                var t;
                return (t = f.extractState(e.url)) && t.id !== e.id
            }
            ,
            f.storeState = function(e) {
                return f.urlToId[e.url] = e.id,
                f.storedStates.push(f.cloneObject(e)),
                e
            }
            ,
            f.isLastSavedState = function(e) {
                var t = !1;
                return f.savedStates.length && (t = e.id === f.getLastSavedState().id),
                t
            }
            ,
            f.saveState = function(e) {
                return !f.isLastSavedState(e) && (f.savedStates.push(f.cloneObject(e)),
                !0)
            }
            ,
            f.getStateByIndex = function(e) {
                return void 0 === e ? f.savedStates[f.savedStates.length - 1] : e < 0 ? f.savedStates[f.savedStates.length + e] : f.savedStates[e]
            }
            ,
            f.getCurrentIndex = function() {
                return f.savedStates.length < 1 ? 0 : f.savedStates.length - 1
            }
            ,
            f.getHash = function(e) {
                var t = f.getLocationHref(e);
                return f.getHashByUrl(t)
            }
            ,
            f.unescapeHash = function(e) {
                var t = f.normalizeHash(e);
                return t = decodeURIComponent(t)
            }
            ,
            f.normalizeHash = function(e) {
                return e.replace(/[^#]*#/, "").replace(/#.*/, "")
            }
            ,
            f.setHash = function(e, t) {
                var n, i;
                return !1 !== t && f.busy() ? (f.pushQueue({
                    scope: f,
                    callback: f.setHash,
                    args: arguments,
                    queue: t
                }),
                !1) : (f.busy(!0),
                (n = f.extractState(e, !0)) && !f.emulated.pushState ? f.pushState(n.data, n.title, n.url, !1) : f.getHash() !== e && (f.bugs.setHash ? (i = f.getPageUrl(),
                f.pushState(null, null, i + "#" + e, !1)) : l.location.hash = e),
                f)
            }
            ,
            f.escapeHash = function(e) {
                var t = f.normalizeHash(e);
                return t = o.encodeURIComponent(t),
                f.bugs.hashEscape || (t = t.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?")),
                t
            }
            ,
            f.getHashByUrl = function(e) {
                var t = String(e).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
                return t = f.unescapeHash(t)
            }
            ,
            f.setTitle = function(e) {
                var t, n = e.title;
                n || (t = f.getStateByIndex(0)) && t.url === e.url && (n = t.title || f.options.initialTitle);
                try {
                    l.getElementsByTagName("title")[0].innerHTML = n.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ")
                } catch (e) {}
                return l.title = n,
                f
            }
            ,
            f.queues = [],
            f.busy = function(e) {
                if (void 0 !== e ? f.busy.flag = e : void 0 === f.busy.flag && (f.busy.flag = !1),
                !f.busy.flag) {
                    u(f.busy.timeout);
                    var i = function() {
                        var e, t, n;
                        if (!f.busy.flag)
                            for (e = f.queues.length - 1; 0 <= e; --e)
                                0 !== (t = f.queues[e]).length && (n = t.shift(),
                                f.fireQueueItem(n),
                                f.busy.timeout = a(i, f.options.busyDelay))
                    };
                    f.busy.timeout = a(i, f.options.busyDelay)
                }
                return f.busy.flag
            }
            ,
            f.busy.flag = !1,
            f.fireQueueItem = function(e) {
                return e.callback.apply(e.scope || f, e.args || [])
            }
            ,
            f.pushQueue = function(e) {
                return f.queues[e.queue || 0] = f.queues[e.queue || 0] || [],
                f.queues[e.queue || 0].push(e),
                f
            }
            ,
            f.queue = function(e, t) {
                return "function" == typeof e && (e = {
                    callback: e
                }),
                void 0 !== t && (e.queue = t),
                f.busy() ? f.pushQueue(e) : f.fireQueueItem(e),
                f
            }
            ,
            f.clearQueue = function() {
                return f.busy.flag = !1,
                f.queues = [],
                f
            }
            ,
            f.stateChanged = !1,
            f.doubleChecker = !1,
            f.doubleCheckComplete = function() {
                return f.stateChanged = !0,
                f.doubleCheckClear(),
                f
            }
            ,
            f.doubleCheckClear = function() {
                return f.doubleChecker && (u(f.doubleChecker),
                f.doubleChecker = !1),
                f
            }
            ,
            f.doubleCheck = function(e) {
                return f.stateChanged = !1,
                f.doubleCheckClear(),
                f.bugs.ieDoubleCheck && (f.doubleChecker = a(function() {
                    return f.doubleCheckClear(),
                    f.stateChanged || e(),
                    !0
                }, f.options.doubleCheckInterval)),
                f
            }
            ,
            f.safariStatePoll = function() {
                var e = f.extractState(f.getLocationHref());
                if (!f.isLastSavedState(e))
                    return e || f.createStateObject(),
                    f.Adapter.trigger(o, "popstate"),
                    f
            }
            ,
            f.back = function(e) {
                return !1 !== e && f.busy() ? (f.pushQueue({
                    scope: f,
                    callback: f.back,
                    args: arguments,
                    queue: e
                }),
                !1) : (f.busy(!0),
                f.doubleCheck(function() {
                    f.back(!1)
                }),
                m.go(-1),
                !0)
            }
            ,
            f.forward = function(e) {
                return !1 !== e && f.busy() ? (f.pushQueue({
                    scope: f,
                    callback: f.forward,
                    args: arguments,
                    queue: e
                }),
                !1) : (f.busy(!0),
                f.doubleCheck(function() {
                    f.forward(!1)
                }),
                m.go(1),
                !0)
            }
            ,
            f.go = function(e, t) {
                var n;
                if (0 < e)
                    for (n = 1; n <= e; ++n)
                        f.forward(t);
                else {
                    if (!(e < 0))
                        throw new Error("History.go: History.go requires a positive or negative integer passed.");
                    for (n = -1; e <= n; --n)
                        f.back(t)
                }
                return f
            }
            ,
            f.emulated.pushState) {
                var t = function() {};
                f.pushState = f.pushState || t,
                f.replaceState = f.replaceState || t
            } else
                f.onPopState = function(e, t) {
                    var n, i, r = !1, a = !1;
                    return f.doubleCheckComplete(),
                    (n = f.getHash()) ? ((i = f.extractState(n || f.getLocationHref(), !0)) ? f.replaceState(i.data, i.title, i.url, !1) : (f.Adapter.trigger(o, "anchorchange"),
                    f.busy(!1)),
                    f.expectedStateId = !1) : (a = (a = (r = f.Adapter.extractEventData("state", e, t) || !1) ? f.getStateById(r) : f.expectedStateId ? f.getStateById(f.expectedStateId) : f.extractState(f.getLocationHref())) || f.createStateObject(null, null, f.getLocationHref()),
                    f.expectedStateId = !1,
                    f.isLastSavedState(a) ? (f.busy(!1),
                    !1) : (f.storeState(a),
                    f.saveState(a),
                    f.setTitle(a),
                    f.Adapter.trigger(o, "statechange"),
                    f.busy(!1),
                    !0))
                }
                ,
                f.Adapter.bind(o, "popstate", f.onPopState),
                f.pushState = function(e, t, n, i) {
                    if (f.getHashByUrl(n) && f.emulated.pushState)
                        throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                    if (!1 !== i && f.busy())
                        return f.pushQueue({
                            scope: f,
                            callback: f.pushState,
                            args: arguments,
                            queue: i
                        }),
                        !1;
                    f.busy(!0);
                    var r = f.createStateObject(e, t, n);
                    return f.isLastSavedState(r) ? f.busy(!1) : (f.storeState(r),
                    f.expectedStateId = r.id,
                    m.pushState(r.id, r.title, r.url),
                    f.Adapter.trigger(o, "popstate")),
                    !0
                }
                ,
                f.replaceState = function(e, t, n, i) {
                    if (f.getHashByUrl(n) && f.emulated.pushState)
                        throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                    if (!1 !== i && f.busy())
                        return f.pushQueue({
                            scope: f,
                            callback: f.replaceState,
                            args: arguments,
                            queue: i
                        }),
                        !1;
                    f.busy(!0);
                    var r = f.createStateObject(e, t, n);
                    return f.isLastSavedState(r) ? f.busy(!1) : (f.storeState(r),
                    f.expectedStateId = r.id,
                    m.replaceState(r.id, r.title, r.url),
                    f.Adapter.trigger(o, "popstate")),
                    !0
                }
                ;
            if (r) {
                try {
                    f.store = d.parse(r.getItem("History.store")) || {}
                } catch (e) {
                    f.store = {}
                }
                f.normalizeStore()
            } else
                f.store = {},
                f.normalizeStore();
            f.Adapter.bind(o, "unload", f.clearAllIntervals),
            f.saveState(f.storeState(f.extractState(f.getLocationHref(), !0))),
            r && (f.onUnload = function() {
                var t, e, n;
                try {
                    t = d.parse(r.getItem("History.store")) || {}
                } catch (e) {
                    t = {}
                }
                for (e in t.idToState = t.idToState || {},
                t.urlToId = t.urlToId || {},
                t.stateToId = t.stateToId || {},
                f.idToState)
                    f.idToState.hasOwnProperty(e) && (t.idToState[e] = f.idToState[e]);
                for (e in f.urlToId)
                    f.urlToId.hasOwnProperty(e) && (t.urlToId[e] = f.urlToId[e]);
                for (e in f.stateToId)
                    f.stateToId.hasOwnProperty(e) && (t.stateToId[e] = f.stateToId[e]);
                f.store = t,
                f.normalizeStore(),
                n = d.stringify(t);
                try {
                    r.setItem("History.store", n)
                } catch (e) {
                    if (e.code !== DOMException.QUOTA_EXCEEDED_ERR)
                        throw e;
                    r.length && (r.removeItem("History.store"),
                    r.setItem("History.store", n))
                }
            }
            ,
            f.intervalList.push(c(f.onUnload, f.options.storeInterval)),
            f.Adapter.bind(o, "beforeunload", f.onUnload),
            f.Adapter.bind(o, "unload", f.onUnload)),
            f.emulated.pushState || (f.bugs.safariPoll && f.intervalList.push(c(f.safariStatePoll, f.options.safariPollInterval)),
            "Apple Computer, Inc." !== i.vendor && "Mozilla" !== (i.appCodeName || "") || (f.Adapter.bind(o, "hashchange", function() {
                f.Adapter.trigger(o, "popstate")
            }),
            f.getHash() && f.Adapter.onDomLoad(function() {
                f.Adapter.trigger(o, "hashchange")
            })))
        }
        ,
        f.options && f.options.delayInit || f.init()
    }(window)
}
, function(i, e, r) {
    var t, n, a;
    n = [r(0)],
    void 0 === (a = "function" == typeof (t = function(se) {
        !function() {
            var e = r(562)
              , t = i.exports
              , n = "https:" == document.location.protocol ? "https:" : "http:";
            e || (t ? r(228)(se) : se.event.special.mousewheel || se("head").append(decodeURI("%3Cscript src=" + n + "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),
            function() {
                var p = "mCustomScrollbar", F = "mCS", i = ".mCustomScrollbar", r = {
                    setTop: 0,
                    setLeft: 0,
                    axis: "y",
                    scrollbarPosition: "inside",
                    scrollInertia: 950,
                    autoDraggerLength: true,
                    alwaysShowScrollbar: 0,
                    snapOffset: 0,
                    mouseWheel: {
                        enable: true,
                        scrollAmount: "auto",
                        axis: "y",
                        deltaFactor: "auto",
                        disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                    },
                    scrollButtons: {
                        scrollType: "stepless",
                        scrollAmount: "auto"
                    },
                    keyboard: {
                        enable: true,
                        scrollType: "stepless",
                        scrollAmount: "auto"
                    },
                    contentTouchScroll: 25,
                    documentTouchScroll: true,
                    advanced: {
                        autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                        updateOnContentResize: true,
                        updateOnImageLoad: "auto",
                        autoUpdateTimeout: 60
                    },
                    theme: "light",
                    callbacks: {
                        onTotalScrollOffset: 0,
                        onTotalScrollBackOffset: 0,
                        alwaysTriggerOffsets: true
                    }
                }, s = 0, a = {}, g = window.attachEvent && !window.addEventListener ? 1 : 0, B = false, U, w = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"], f = {
                    init: function(o) {
                        var o = se.extend(true, {}, r, o)
                          , e = u.call(this);
                        if (o.live) {
                            var t = o.liveSelector || this.selector || i
                              , n = se(t);
                            if (o.live === "off") {
                                c(t);
                                return
                            }
                            a[t] = setTimeout(function() {
                                n.mCustomScrollbar(o);
                                if (o.live === "once" && n.length) {
                                    c(t)
                                }
                            }, 500)
                        } else {
                            c(t)
                        }
                        o.setWidth = o.set_width ? o.set_width : o.setWidth;
                        o.setHeight = o.set_height ? o.set_height : o.setHeight;
                        o.axis = o.horizontalScroll ? "x" : h(o.axis);
                        o.scrollInertia = o.scrollInertia > 0 && o.scrollInertia < 17 ? 17 : o.scrollInertia;
                        if (typeof o.mouseWheel !== "object" && o.mouseWheel == true) {
                            o.mouseWheel = {
                                enable: true,
                                scrollAmount: "auto",
                                axis: "y",
                                preventDefault: false,
                                deltaFactor: "auto",
                                normalizeDelta: false,
                                invert: false
                            }
                        }
                        o.mouseWheel.scrollAmount = !o.mouseWheelPixels ? o.mouseWheel.scrollAmount : o.mouseWheelPixels;
                        o.mouseWheel.normalizeDelta = !o.advanced.normalizeMouseWheelDelta ? o.mouseWheel.normalizeDelta : o.advanced.normalizeMouseWheelDelta;
                        o.scrollButtons.scrollType = d(o.scrollButtons.scrollType);
                        l(o);
                        return se(e).each(function() {
                            var e = se(this);
                            if (!e.data(F)) {
                                e.data(F, {
                                    idx: ++s,
                                    opt: o,
                                    scrollRatio: {
                                        y: null,
                                        x: null
                                    },
                                    overflowed: null,
                                    contentReset: {
                                        y: null,
                                        x: null
                                    },
                                    bindEvents: false,
                                    tweenRunning: false,
                                    sequential: {},
                                    langDir: e.css("direction"),
                                    cbOffsets: null,
                                    trigger: null,
                                    poll: {
                                        size: {
                                            o: 0,
                                            n: 0
                                        },
                                        img: {
                                            o: 0,
                                            n: 0
                                        },
                                        change: {
                                            o: 0,
                                            n: 0
                                        }
                                    }
                                });
                                var t = e.data(F)
                                  , n = t.opt
                                  , i = e.data("mcs-axis")
                                  , r = e.data("mcs-scrollbar-position")
                                  , a = e.data("mcs-theme");
                                if (i) {
                                    n.axis = i
                                }
                                if (r) {
                                    n.scrollbarPosition = r
                                }
                                if (a) {
                                    n.theme = a;
                                    l(n)
                                }
                                m.call(this);
                                if (t && n.callbacks.onCreate && typeof n.callbacks.onCreate === "function") {
                                    n.callbacks.onCreate.call(this)
                                }
                                se("#mCSB_" + t.idx + "_container img:not(." + w[2] + ")").addClass(w[2]);
                                f.update.call(null, e)
                            }
                        })
                    },
                    update: function(e, s) {
                        var t = e || u.call(this);
                        return se(t).each(function() {
                            var e = se(this);
                            if (e.data(F)) {
                                var t = e.data(F)
                                  , n = t.opt
                                  , i = se("#mCSB_" + t.idx + "_container")
                                  , r = se("#mCSB_" + t.idx)
                                  , a = [se("#mCSB_" + t.idx + "_dragger_vertical"), se("#mCSB_" + t.idx + "_dragger_horizontal")];
                                if (!i.length) {
                                    return
                                }
                                if (t.tweenRunning) {
                                    K(e)
                                }
                                if (s && t && n.callbacks.onBeforeUpdate && typeof n.callbacks.onBeforeUpdate === "function") {
                                    n.callbacks.onBeforeUpdate.call(this)
                                }
                                if (e.hasClass(w[3])) {
                                    e.removeClass(w[3])
                                }
                                if (e.hasClass(w[4])) {
                                    e.removeClass(w[4])
                                }
                                r.css("max-height", "none");
                                if (r.height() !== e.height()) {
                                    r.css("max-height", e.height())
                                }
                                y.call(this);
                                if (n.axis !== "y" && !n.advanced.autoExpandHorizontalScroll) {
                                    i.css("width", v(i))
                                }
                                t.overflowed = T.call(this);
                                k.call(this);
                                if (n.autoDraggerLength) {
                                    _.call(this)
                                }
                                x.call(this);
                                C.call(this);
                                var o = [Math.abs(i[0].offsetTop), Math.abs(i[0].offsetLeft)];
                                if (n.axis !== "x") {
                                    if (!t.overflowed[0]) {
                                        S.call(this);
                                        if (n.axis === "y") {
                                            M.call(this)
                                        } else if (n.axis === "yx" && t.overflowed[1]) {
                                            Z(e, o[1].toString(), {
                                                dir: "x",
                                                dur: 0,
                                                overwrite: "none"
                                            })
                                        }
                                    } else if (a[0].height() > a[0].parent().height()) {
                                        S.call(this)
                                    } else {
                                        Z(e, o[0].toString(), {
                                            dir: "y",
                                            dur: 0,
                                            overwrite: "none"
                                        });
                                        t.contentReset.y = null
                                    }
                                }
                                if (n.axis !== "y") {
                                    if (!t.overflowed[1]) {
                                        S.call(this);
                                        if (n.axis === "x") {
                                            M.call(this)
                                        } else if (n.axis === "yx" && t.overflowed[0]) {
                                            Z(e, o[0].toString(), {
                                                dir: "y",
                                                dur: 0,
                                                overwrite: "none"
                                            })
                                        }
                                    } else if (a[1].width() > a[1].parent().width()) {
                                        S.call(this)
                                    } else {
                                        Z(e, o[1].toString(), {
                                            dir: "x",
                                            dur: 0,
                                            overwrite: "none"
                                        });
                                        t.contentReset.x = null
                                    }
                                }
                                if (s && t) {
                                    if (s === 2 && n.callbacks.onImageLoad && typeof n.callbacks.onImageLoad === "function") {
                                        n.callbacks.onImageLoad.call(this)
                                    } else if (s === 3 && n.callbacks.onSelectorChange && typeof n.callbacks.onSelectorChange === "function") {
                                        n.callbacks.onSelectorChange.call(this)
                                    } else if (n.callbacks.onUpdate && typeof n.callbacks.onUpdate === "function") {
                                        n.callbacks.onUpdate.call(this)
                                    }
                                }
                                X.call(this)
                            }
                        })
                    },
                    scrollTo: function(s, l) {
                        if (typeof s == "undefined" || s == null) {
                            return
                        }
                        var e = u.call(this);
                        return se(e).each(function() {
                            var e = se(this);
                            if (e.data(F)) {
                                var t = e.data(F)
                                  , n = t.opt
                                  , i = {
                                    trigger: "external",
                                    scrollInertia: n.scrollInertia,
                                    scrollEasing: "mcsEaseInOut",
                                    moveDragger: false,
                                    timeout: 60,
                                    callbacks: true,
                                    onStart: true,
                                    onUpdate: true,
                                    onComplete: true
                                }
                                  , r = se.extend(true, {}, i, l)
                                  , a = q.call(this, s)
                                  , o = r.scrollInertia > 0 && r.scrollInertia < 17 ? 17 : r.scrollInertia;
                                a[0] = $.call(this, a[0], "y");
                                a[1] = $.call(this, a[1], "x");
                                if (r.moveDragger) {
                                    a[0] *= t.scrollRatio.y;
                                    a[1] *= t.scrollRatio.x
                                }
                                r.dur = oe() ? 0 : o;
                                setTimeout(function() {
                                    if (a[0] !== null && typeof a[0] !== "undefined" && n.axis !== "x" && t.overflowed[0]) {
                                        r.dir = "y";
                                        r.overwrite = "all";
                                        Z(e, a[0].toString(), r)
                                    }
                                    if (a[1] !== null && typeof a[1] !== "undefined" && n.axis !== "y" && t.overflowed[1]) {
                                        r.dir = "x";
                                        r.overwrite = "none";
                                        Z(e, a[1].toString(), r)
                                    }
                                }, r.timeout)
                            }
                        })
                    },
                    stop: function() {
                        var e = u.call(this);
                        return se(e).each(function() {
                            var e = se(this);
                            if (e.data(F)) {
                                K(e)
                            }
                        })
                    },
                    disable: function(n) {
                        var e = u.call(this);
                        return se(e).each(function() {
                            var e = se(this);
                            if (e.data(F)) {
                                var t = e.data(F);
                                X.call(this, "remove");
                                M.call(this);
                                if (n) {
                                    S.call(this)
                                }
                                k.call(this, true);
                                e.addClass(w[3])
                            }
                        })
                    },
                    destroy: function() {
                        var o = u.call(this);
                        return se(o).each(function() {
                            var e = se(this);
                            if (e.data(F)) {
                                var t = e.data(F)
                                  , n = t.opt
                                  , i = se("#mCSB_" + t.idx)
                                  , r = se("#mCSB_" + t.idx + "_container")
                                  , a = se(".mCSB_" + t.idx + "_scrollbar");
                                if (n.live) {
                                    c(n.liveSelector || se(o).selector)
                                }
                                X.call(this, "remove");
                                M.call(this);
                                S.call(this);
                                e.removeData(F);
                                te(this, "mcs");
                                a.remove();
                                r.find("img." + w[2]).removeClass(w[2]);
                                i.replaceWith(r.contents());
                                e.removeClass(p + " _" + F + "_" + t.idx + " " + w[6] + " " + w[7] + " " + w[5] + " " + w[3]).addClass(w[4])
                            }
                        })
                    }
                }, u = function() {
                    return typeof se(this) !== "object" || se(this).length < 1 ? i : this
                }, l = function(e) {
                    var t = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"]
                      , n = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"]
                      , i = ["minimal", "minimal-dark"]
                      , r = ["minimal", "minimal-dark"]
                      , a = ["minimal", "minimal-dark"];
                    e.autoDraggerLength = se.inArray(e.theme, t) > -1 ? false : e.autoDraggerLength;
                    e.autoExpandScrollbar = se.inArray(e.theme, n) > -1 ? false : e.autoExpandScrollbar;
                    e.scrollButtons.enable = se.inArray(e.theme, i) > -1 ? false : e.scrollButtons.enable;
                    e.autoHideScrollbar = se.inArray(e.theme, r) > -1 ? true : e.autoHideScrollbar;
                    e.scrollbarPosition = se.inArray(e.theme, a) > -1 ? "outside" : e.scrollbarPosition
                }, c = function(e) {
                    if (a[e]) {
                        clearTimeout(a[e]);
                        te(a, e)
                    }
                }, h = function(e) {
                    return e === "yx" || e === "xy" || e === "auto" ? "yx" : e === "x" || e === "horizontal" ? "x" : "y"
                }, d = function(e) {
                    return e === "stepped" || e === "pixels" || e === "step" || e === "click" ? "stepped" : "stepless"
                }, m = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt
                      , i = n.autoExpandScrollbar ? " " + w[1] + "_expand" : ""
                      , r = ["<div id='mCSB_" + t.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + n.theme + " mCSB_scrollTools_vertical" + i + "'><div class='" + w[12] + "'><div id='mCSB_" + t.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + t.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + n.theme + " mCSB_scrollTools_horizontal" + i + "'><div class='" + w[12] + "'><div id='mCSB_" + t.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"]
                      , a = n.axis === "yx" ? "mCSB_vertical_horizontal" : n.axis === "x" ? "mCSB_horizontal" : "mCSB_vertical"
                      , o = n.axis === "yx" ? r[0] + r[1] : n.axis === "x" ? r[1] : r[0]
                      , s = n.axis === "yx" ? "<div id='mCSB_" + t.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : ""
                      , l = n.autoHideScrollbar ? " " + w[6] : ""
                      , u = n.axis !== "x" && t.langDir === "rtl" ? " " + w[7] : "";
                    if (n.setWidth) {
                        e.css("width", n.setWidth)
                    }
                    if (n.setHeight) {
                        e.css("height", n.setHeight)
                    }
                    n.setLeft = n.axis !== "y" && t.langDir === "rtl" ? "989999px" : n.setLeft;
                    e.addClass(p + " _" + F + "_" + t.idx + l + u).wrapInner("<div id='mCSB_" + t.idx + "' class='mCustomScrollBox mCS-" + n.theme + " " + a + "'><div id='mCSB_" + t.idx + "_container' class='mCSB_container' style='position:relative; top:" + n.setTop + "; left:" + n.setLeft + ";' dir='" + t.langDir + "' /></div>");
                    var c = se("#mCSB_" + t.idx)
                      , h = se("#mCSB_" + t.idx + "_container");
                    if (n.axis !== "y" && !n.advanced.autoExpandHorizontalScroll) {
                        h.css("width", v(h))
                    }
                    if (n.scrollbarPosition === "outside") {
                        if (e.css("position") === "static") {
                            e.css("position", "relative")
                        }
                        e.css("overflow", "visible");
                        c.addClass("mCSB_outside").after(o)
                    } else {
                        c.addClass("mCSB_inside").append(o);
                        h.wrap(s)
                    }
                    b.call(this);
                    var d = [se("#mCSB_" + t.idx + "_dragger_vertical"), se("#mCSB_" + t.idx + "_dragger_horizontal")];
                    d[0].css("min-height", d[0].height());
                    d[1].css("min-width", d[1].width())
                }, v = function(e) {
                    var t = [e[0].scrollWidth, Math.max.apply(Math, e.children().map(function() {
                        return se(this).outerWidth(true)
                    }).get())]
                      , n = e.parent().width();
                    return t[0] > n ? t[0] : t[1] > n ? t[1] : "100%"
                }, y = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt
                      , i = se("#mCSB_" + t.idx + "_container");
                    if (n.advanced.autoExpandHorizontalScroll && n.axis !== "y") {
                        i.css({
                            width: "auto",
                            "min-width": 0,
                            "overflow-x": "scroll"
                        });
                        var r = Math.ceil(i[0].scrollWidth);
                        if (n.advanced.autoExpandHorizontalScroll === 3 || n.advanced.autoExpandHorizontalScroll !== 2 && r > i.parent().width()) {
                            i.css({
                                width: r,
                                "min-width": "100%",
                                "overflow-x": "inherit"
                            })
                        } else {
                            i.css({
                                "overflow-x": "inherit",
                                position: "absolute"
                            }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                                width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left),
                                "min-width": "100%",
                                position: "relative"
                            }).unwrap()
                        }
                    }
                }, b = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt
                      , i = se(".mCSB_" + t.idx + "_scrollbar:first")
                      , r = !re(n.scrollButtons.tabindex) ? "" : "tabindex='" + n.scrollButtons.tabindex + "'"
                      , a = ["<a href='#' class='" + w[13] + "' " + r + " />", "<a href='#' class='" + w[14] + "' " + r + " />", "<a href='#' class='" + w[15] + "' " + r + " />", "<a href='#' class='" + w[16] + "' " + r + " />"]
                      , o = [n.axis === "x" ? a[2] : a[0], n.axis === "x" ? a[3] : a[1], a[2], a[3]];
                    if (n.scrollButtons.enable) {
                        i.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])
                    }
                }, _ = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = se("#mCSB_" + t.idx)
                      , i = se("#mCSB_" + t.idx + "_container")
                      , r = [se("#mCSB_" + t.idx + "_dragger_vertical"), se("#mCSB_" + t.idx + "_dragger_horizontal")]
                      , a = [n.height() / i.outerHeight(false), n.width() / i.outerWidth(false)]
                      , o = [parseInt(r[0].css("min-height")), Math.round(a[0] * r[0].parent().height()), parseInt(r[1].css("min-width")), Math.round(a[1] * r[1].parent().width())]
                      , s = g && o[1] < o[0] ? o[0] : o[1]
                      , l = g && o[3] < o[2] ? o[2] : o[3];
                    r[0].css({
                        height: s,
                        "max-height": r[0].parent().height() - 10
                    }).find(".mCSB_dragger_bar").css({
                        "line-height": o[0] + "px"
                    });
                    r[1].css({
                        width: l,
                        "max-width": r[1].parent().width() - 10
                    })
                }, x = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = se("#mCSB_" + t.idx)
                      , i = se("#mCSB_" + t.idx + "_container")
                      , r = [se("#mCSB_" + t.idx + "_dragger_vertical"), se("#mCSB_" + t.idx + "_dragger_horizontal")]
                      , a = [i.outerHeight(false) - n.height(), i.outerWidth(false) - n.width()]
                      , o = [a[0] / (r[0].parent().height() - r[0].height()), a[1] / (r[1].parent().width() - r[1].width())];
                    t.scrollRatio = {
                        y: o[0],
                        x: o[1]
                    }
                }, E = function(e, t, n) {
                    var i = n ? w[0] + "_expanded" : ""
                      , r = e.closest(".mCSB_scrollTools");
                    if (t === "active") {
                        e.toggleClass(w[0] + " " + i);
                        r.toggleClass(w[1]);
                        e[0]._draggable = e[0]._draggable ? 0 : 1
                    } else {
                        if (!e[0]._draggable) {
                            if (t === "hide") {
                                e.removeClass(w[0]);
                                r.removeClass(w[1])
                            } else {
                                e.addClass(w[0]);
                                r.addClass(w[1])
                            }
                        }
                    }
                }, T = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = se("#mCSB_" + t.idx)
                      , i = se("#mCSB_" + t.idx + "_container")
                      , r = t.overflowed == null ? i.height() : i.outerHeight(false)
                      , a = t.overflowed == null ? i.width() : i.outerWidth(false)
                      , o = i[0].scrollHeight
                      , s = i[0].scrollWidth;
                    if (o > r) {
                        r = o
                    }
                    if (s > a) {
                        a = s
                    }
                    return [r > n.height(), a > n.width()]
                }, S = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt
                      , i = se("#mCSB_" + t.idx)
                      , r = se("#mCSB_" + t.idx + "_container")
                      , a = [se("#mCSB_" + t.idx + "_dragger_vertical"), se("#mCSB_" + t.idx + "_dragger_horizontal")];
                    K(e);
                    if (n.axis !== "x" && !t.overflowed[0] || n.axis === "y" && t.overflowed[0]) {
                        a[0].add(r).css("top", 0);
                        Z(e, "_resetY")
                    }
                    if (n.axis !== "y" && !t.overflowed[1] || n.axis === "x" && t.overflowed[1]) {
                        var o = dx = 0;
                        if (t.langDir === "rtl") {
                            o = i.width() - r.outerWidth(false);
                            dx = Math.abs(o / t.scrollRatio.x)
                        }
                        r.css("left", o);
                        a[1].css("left", dx);
                        Z(e, "_resetX")
                    }
                }, C = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt;
                    if (!t.bindEvents) {
                        o.call(this);
                        if (n.contentTouchScroll) {
                            P.call(this)
                        }
                        A.call(this);
                        if (n.mouseWheel.enable) {
                            function i() {
                                r = setTimeout(function() {
                                    if (!se.event.special.mousewheel) {
                                        i()
                                    } else {
                                        clearTimeout(r);
                                        I.call(e[0])
                                    }
                                }, 100)
                            }
                            var r;
                            i()
                        }
                        D.call(this);
                        H.call(this);
                        if (n.advanced.autoScrollOnFocus) {
                            N.call(this)
                        }
                        if (n.scrollButtons.enable) {
                            V.call(this)
                        }
                        if (n.keyboard.enable) {
                            G.call(this)
                        }
                        t.bindEvents = true
                    }
                }, M = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = t.opt
                      , i = F + "_" + t.idx
                      , r = ".mCSB_" + t.idx + "_scrollbar"
                      , a = se("#mCSB_" + t.idx + ",#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper," + r + " ." + w[12] + ",#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal," + r + ">a")
                      , o = se("#mCSB_" + t.idx + "_container");
                    if (n.advanced.releaseDraggableSelectors) {
                        a.add(se(n.advanced.releaseDraggableSelectors))
                    }
                    if (n.advanced.extraDraggableSelectors) {
                        a.add(se(n.advanced.extraDraggableSelectors))
                    }
                    if (t.bindEvents) {
                        se(document).add(se(!z() || top.document)).unbind("." + i);
                        a.each(function() {
                            se(this).unbind("." + i)
                        });
                        clearTimeout(e[0]._focusTimeout);
                        te(e[0], "_focusTimeout");
                        clearTimeout(t.sequential.step);
                        te(t.sequential, "step");
                        clearTimeout(o[0].onCompleteTimeout);
                        te(o[0], "onCompleteTimeout");
                        t.bindEvents = false
                    }
                }, k = function(e) {
                    var t = se(this)
                      , n = t.data(F)
                      , i = n.opt
                      , r = se("#mCSB_" + n.idx + "_container_wrapper")
                      , a = r.length ? r : se("#mCSB_" + n.idx + "_container")
                      , o = [se("#mCSB_" + n.idx + "_scrollbar_vertical"), se("#mCSB_" + n.idx + "_scrollbar_horizontal")]
                      , s = [o[0].find(".mCSB_dragger"), o[1].find(".mCSB_dragger")];
                    if (i.axis !== "x") {
                        if (n.overflowed[0] && !e) {
                            o[0].add(s[0]).add(o[0].children("a")).css("display", "block");
                            a.removeClass(w[8] + " " + w[10])
                        } else {
                            if (i.alwaysShowScrollbar) {
                                if (i.alwaysShowScrollbar !== 2) {
                                    s[0].css("display", "none")
                                }
                                a.removeClass(w[10])
                            } else {
                                o[0].css("display", "none");
                                a.addClass(w[10])
                            }
                            a.addClass(w[8])
                        }
                    }
                    if (i.axis !== "y") {
                        if (n.overflowed[1] && !e) {
                            o[1].add(s[1]).add(o[1].children("a")).css("display", "block");
                            a.removeClass(w[9] + " " + w[11])
                        } else {
                            if (i.alwaysShowScrollbar) {
                                if (i.alwaysShowScrollbar !== 2) {
                                    s[1].css("display", "none")
                                }
                                a.removeClass(w[11])
                            } else {
                                o[1].css("display", "none");
                                a.addClass(w[11])
                            }
                            a.addClass(w[9])
                        }
                    }
                    if (!n.overflowed[0] && !n.overflowed[1]) {
                        t.addClass(w[5])
                    } else {
                        t.removeClass(w[5])
                    }
                }, j = function(e) {
                    var t = e.type
                      , n = e.target.ownerDocument !== document && frameElement !== null ? [se(frameElement).offset().top, se(frameElement).offset().left] : null
                      , i = z() && e.target.ownerDocument !== top.document && frameElement !== null ? [se(e.view.frameElement).offset().top, se(e.view.frameElement).offset().left] : [0, 0];
                    switch (t) {
                    case "pointerdown":
                    case "MSPointerDown":
                    case "pointermove":
                    case "MSPointerMove":
                    case "pointerup":
                    case "MSPointerUp":
                        return n ? [e.originalEvent.pageY - n[0] + i[0], e.originalEvent.pageX - n[1] + i[1], false] : [e.originalEvent.pageY, e.originalEvent.pageX, false];
                        break;
                    case "touchstart":
                    case "touchmove":
                    case "touchend":
                        var r = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]
                          , a = e.originalEvent.touches.length || e.originalEvent.changedTouches.length;
                        return e.target.ownerDocument !== document ? [r.screenY, r.screenX, a > 1] : [r.pageY, r.pageX, a > 1];
                        break;
                    default:
                        return n ? [e.pageY - n[0] + i[0], e.pageX - n[1] + i[1], false] : [e.pageY, e.pageX, false]
                    }
                }, o = function() {
                    var o = se(this), s = o.data(F), l = s.opt, e = F + "_" + s.idx, u = ["mCSB_" + s.idx + "_dragger_vertical", "mCSB_" + s.idx + "_dragger_horizontal"], c = se("#mCSB_" + s.idx + "_container"), t = se("#" + u[0] + ",#" + u[1]), h, d, p, n = l.advanced.releaseDraggableSelectors ? t.add(se(l.advanced.releaseDraggableSelectors)) : t, i = l.advanced.extraDraggableSelectors ? se(!z() || top.document).add(se(l.advanced.extraDraggableSelectors)) : se(!z() || top.document);
                    t.bind("contextmenu." + e, function(e) {
                        e.preventDefault()
                    }).bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        e.stopImmediatePropagation();
                        e.preventDefault();
                        if (!ne(e)) {
                            return
                        }
                        B = true;
                        if (g) {
                            document.onselectstart = function() {
                                return false
                            }
                        }
                        O.call(c, false);
                        K(o);
                        h = se(this);
                        var t = h.offset()
                          , n = j(e)[0] - t.top
                          , i = j(e)[1] - t.left
                          , r = h.height() + t.top
                          , a = h.width() + t.left;
                        if (n < r && n > 0 && i < a && i > 0) {
                            d = n;
                            p = i
                        }
                        E(h, "active", l.autoExpandScrollbar)
                    }).bind("touchmove." + e, function(e) {
                        e.stopImmediatePropagation();
                        e.preventDefault();
                        var t = h.offset()
                          , n = j(e)[0] - t.top
                          , i = j(e)[1] - t.left;
                        r(d, p, n, i)
                    });
                    se(document).add(i).bind("mousemove." + e + " pointermove." + e + " MSPointerMove." + e, function(e) {
                        if (h) {
                            var t = h.offset()
                              , n = j(e)[0] - t.top
                              , i = j(e)[1] - t.left;
                            if (d === n && p === i) {
                                return
                            }
                            r(d, p, n, i)
                        }
                    }).add(n).bind("mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                        if (h) {
                            E(h, "active", l.autoExpandScrollbar);
                            h = null
                        }
                        B = false;
                        if (g) {
                            document.onselectstart = null
                        }
                        O.call(c, true)
                    });
                    function r(e, t, n, i) {
                        c[0].idleTimer = l.scrollInertia < 233 ? 250 : 0;
                        if (h.attr("id") === u[1]) {
                            var r = "x"
                              , a = (h[0].offsetLeft - t + i) * s.scrollRatio.x
                        } else {
                            var r = "y"
                              , a = (h[0].offsetTop - e + n) * s.scrollRatio.y
                        }
                        Z(o, a.toString(), {
                            dir: r,
                            drag: true
                        })
                    }
                }, P = function() {
                    var u = se(this), c = u.data(F), h = c.opt, e = F + "_" + c.idx, d = se("#mCSB_" + c.idx), p = se("#mCSB_" + c.idx + "_container"), f = [se("#mCSB_" + c.idx + "_dragger_vertical"), se("#mCSB_" + c.idx + "_dragger_horizontal")], m, g, v, y, b, _ = [], w = [], x, T, S, E, C, M, k = 0, P, A = h.axis === "yx" ? "none" : "all", I = [], L, O, t = p.find("iframe"), n = ["touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, "touchmove." + e + " pointermove." + e + " MSPointerMove." + e, "touchend." + e + " pointerup." + e + " MSPointerUp." + e], R = document.body.style.touchAction !== undefined && document.body.style.touchAction !== "";
                    p.bind(n[0], function(e) {
                        i(e)
                    }).bind(n[1], function(e) {
                        r(e)
                    });
                    d.bind(n[0], function(e) {
                        a(e)
                    }).bind(n[2], function(e) {
                        o(e)
                    });
                    if (t.length) {
                        t.each(function() {
                            se(this).bind("load", function() {
                                if (z(this)) {
                                    se(this.contentDocument || this.contentWindow.document).bind(n[0], function(e) {
                                        i(e);
                                        a(e)
                                    }).bind(n[1], function(e) {
                                        r(e)
                                    }).bind(n[2], function(e) {
                                        o(e)
                                    })
                                }
                            })
                        })
                    }
                    function i(e) {
                        if (!ie(e) || B || j(e)[2]) {
                            U = 0;
                            return
                        }
                        U = 1;
                        L = 0;
                        O = 0;
                        m = 1;
                        u.removeClass("mCS_touch_action");
                        var t = p.offset();
                        g = j(e)[0] - t.top;
                        v = j(e)[1] - t.left;
                        I = [j(e)[0], j(e)[1]]
                    }
                    function r(e) {
                        if (!ie(e) || B || j(e)[2]) {
                            return
                        }
                        if (!h.documentTouchScroll) {
                            e.preventDefault()
                        }
                        e.stopImmediatePropagation();
                        if (O && !L) {
                            return
                        }
                        if (m) {
                            T = J();
                            var t = d.offset()
                              , n = j(e)[0] - t.top
                              , i = j(e)[1] - t.left
                              , r = "mcsLinearOut";
                            _.push(n);
                            w.push(i);
                            I[2] = Math.abs(j(e)[0] - I[0]);
                            I[3] = Math.abs(j(e)[1] - I[1]);
                            if (c.overflowed[0]) {
                                var a = f[0].parent().height() - f[0].height()
                                  , o = g - n > 0 && n - g > -(a * c.scrollRatio.y) && (I[3] * 2 < I[2] || h.axis === "yx")
                            }
                            if (c.overflowed[1]) {
                                var s = f[1].parent().width() - f[1].width()
                                  , l = v - i > 0 && i - v > -(s * c.scrollRatio.x) && (I[2] * 2 < I[3] || h.axis === "yx")
                            }
                            if (o || l) {
                                if (!R) {
                                    e.preventDefault()
                                }
                                L = 1
                            } else {
                                O = 1;
                                u.addClass("mCS_touch_action")
                            }
                            if (R) {
                                e.preventDefault()
                            }
                            M = h.axis === "yx" ? [g - n, v - i] : h.axis === "x" ? [null, v - i] : [g - n, null];
                            p[0].idleTimer = 250;
                            if (c.overflowed[0]) {
                                N(M[0], k, r, "y", "all", true)
                            }
                            if (c.overflowed[1]) {
                                N(M[1], k, r, "x", A, true)
                            }
                        }
                    }
                    function a(e) {
                        if (!ie(e) || B || j(e)[2]) {
                            U = 0;
                            return
                        }
                        U = 1;
                        e.stopImmediatePropagation();
                        K(u);
                        x = J();
                        var t = d.offset();
                        y = j(e)[0] - t.top;
                        b = j(e)[1] - t.left;
                        _ = [];
                        w = []
                    }
                    function o(e) {
                        if (!ie(e) || B || j(e)[2]) {
                            return
                        }
                        m = 0;
                        e.stopImmediatePropagation();
                        L = 0;
                        O = 0;
                        S = J();
                        var t = d.offset()
                          , n = j(e)[0] - t.top
                          , i = j(e)[1] - t.left;
                        if (S - T > 30) {
                            return
                        }
                        C = 1e3 / (S - x);
                        var r = "mcsEaseOut"
                          , a = C < 2.5
                          , o = a ? [_[_.length - 2], w[w.length - 2]] : [0, 0];
                        E = a ? [n - o[0], i - o[1]] : [n - y, i - b];
                        var s = [Math.abs(E[0]), Math.abs(E[1])];
                        C = a ? [Math.abs(E[0] / 4), Math.abs(E[1] / 4)] : [C, C];
                        var l = [Math.abs(p[0].offsetTop) - E[0] * D(s[0] / C[0], C[0]), Math.abs(p[0].offsetLeft) - E[1] * D(s[1] / C[1], C[1])];
                        M = h.axis === "yx" ? [l[0], l[1]] : h.axis === "x" ? [null, l[1]] : [l[0], null];
                        P = [s[0] * 4 + h.scrollInertia, s[1] * 4 + h.scrollInertia];
                        var u = parseInt(h.contentTouchScroll) || 0;
                        M[0] = s[0] > u ? M[0] : 0;
                        M[1] = s[1] > u ? M[1] : 0;
                        if (c.overflowed[0]) {
                            N(M[0], P[0], r, "y", A, false)
                        }
                        if (c.overflowed[1]) {
                            N(M[1], P[1], r, "x", A, false)
                        }
                    }
                    function D(e, t) {
                        var n = [t * 1.5, t * 2, t / 1.5, t / 2];
                        if (e > 90) {
                            return t > 4 ? n[0] : n[3]
                        } else if (e > 60) {
                            return t > 3 ? n[3] : n[2]
                        } else if (e > 30) {
                            return t > 8 ? n[1] : t > 6 ? n[0] : t > 4 ? t : n[2]
                        } else {
                            return t > 8 ? t : n[3]
                        }
                    }
                    function N(e, t, n, i, r, a) {
                        if (!e) {
                            return
                        }
                        Z(u, e.toString(), {
                            dur: t,
                            scrollEasing: n,
                            dir: i,
                            overwrite: r,
                            drag: a
                        })
                    }
                }, A = function() {
                    var i = se(this), r = i.data(F), a = r.opt, o = r.sequential, e = F + "_" + r.idx, s = se("#mCSB_" + r.idx + "_container"), l = s.parent(), u;
                    s.bind("mousedown." + e, function(e) {
                        if (U) {
                            return
                        }
                        if (!u) {
                            u = 1;
                            B = true
                        }
                    }).add(document).bind("mousemove." + e, function(e) {
                        if (!U && u && c()) {
                            var t = s.offset()
                              , n = j(e)[0] - t.top + s[0].offsetTop
                              , i = j(e)[1] - t.left + s[0].offsetLeft;
                            if (n > 0 && n < l.height() && i > 0 && i < l.width()) {
                                if (o.step) {
                                    h("off", null, "stepped")
                                }
                            } else {
                                if (a.axis !== "x" && r.overflowed[0]) {
                                    if (n < 0) {
                                        h("on", 38)
                                    } else if (n > l.height()) {
                                        h("on", 40)
                                    }
                                }
                                if (a.axis !== "y" && r.overflowed[1]) {
                                    if (i < 0) {
                                        h("on", 37)
                                    } else if (i > l.width()) {
                                        h("on", 39)
                                    }
                                }
                            }
                        }
                    }).bind("mouseup." + e + " dragend." + e, function(e) {
                        if (U) {
                            return
                        }
                        if (u) {
                            u = 0;
                            h("off", null)
                        }
                        B = false
                    });
                    function c() {
                        return window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0
                    }
                    function h(e, t, n) {
                        o.type = n && u ? "stepped" : "stepless";
                        o.scrollAmount = 10;
                        W(i, e, t, "mcsLinearOut", n ? 60 : null)
                    }
                }, I = function() {
                    if (!se(this).data(F)) {
                        return
                    }
                    var h = se(this)
                      , d = h.data(F)
                      , p = d.opt
                      , e = F + "_" + d.idx
                      , f = se("#mCSB_" + d.idx)
                      , m = [se("#mCSB_" + d.idx + "_dragger_vertical"), se("#mCSB_" + d.idx + "_dragger_horizontal")]
                      , t = se("#mCSB_" + d.idx + "_container").find("iframe");
                    if (t.length) {
                        t.each(function() {
                            se(this).bind("load", function() {
                                if (z(this)) {
                                    se(this.contentDocument || this.contentWindow.document).bind("mousewheel." + e, function(e, t) {
                                        n(e, t)
                                    })
                                }
                            })
                        })
                    }
                    f.bind("mousewheel." + e, function(e, t) {
                        n(e, t)
                    });
                    function n(e, t) {
                        K(h);
                        if (R(h, e.target)) {
                            return
                        }
                        var n = p.mouseWheel.deltaFactor !== "auto" ? parseInt(p.mouseWheel.deltaFactor) : g && e.deltaFactor < 100 ? 100 : e.deltaFactor || 100
                          , i = p.scrollInertia;
                        if (p.axis === "x" || p.mouseWheel.axis === "x") {
                            var r = "x"
                              , a = [Math.round(n * d.scrollRatio.x), parseInt(p.mouseWheel.scrollAmount)]
                              , o = p.mouseWheel.scrollAmount !== "auto" ? a[1] : a[0] >= f.width() ? f.width() * .9 : a[0]
                              , s = Math.abs(se("#mCSB_" + d.idx + "_container")[0].offsetLeft)
                              , l = m[1][0].offsetLeft
                              , u = m[1].parent().width() - m[1].width()
                              , c = p.mouseWheel.axis === "y" ? e.deltaY || t : e.deltaX
                        } else {
                            var r = "y"
                              , a = [Math.round(n * d.scrollRatio.y), parseInt(p.mouseWheel.scrollAmount)]
                              , o = p.mouseWheel.scrollAmount !== "auto" ? a[1] : a[0] >= f.height() ? f.height() * .9 : a[0]
                              , s = Math.abs(se("#mCSB_" + d.idx + "_container")[0].offsetTop)
                              , l = m[0][0].offsetTop
                              , u = m[0].parent().height() - m[0].height()
                              , c = e.deltaY || t
                        }
                        if (r === "y" && !d.overflowed[0] || r === "x" && !d.overflowed[1]) {
                            return
                        }
                        if (p.mouseWheel.invert || e.webkitDirectionInvertedFromDevice) {
                            c = -c
                        }
                        if (p.mouseWheel.normalizeDelta) {
                            c = c < 0 ? -1 : 1
                        }
                        if (c > 0 && l !== 0 || c < 0 && l !== u || p.mouseWheel.preventDefault) {
                            e.stopImmediatePropagation();
                            e.preventDefault()
                        }
                        if (e.deltaFactor < 5 && !p.mouseWheel.normalizeDelta) {
                            o = e.deltaFactor;
                            i = 17
                        }
                        Z(h, (s - c * o).toString(), {
                            dir: r,
                            dur: i
                        })
                    }
                }, L = new Object, z = function(e) {
                    var t = false
                      , n = false
                      , i = null;
                    if (e === undefined) {
                        n = "#empty"
                    } else if (se(e).attr("id") !== undefined) {
                        n = se(e).attr("id")
                    }
                    if (n !== false && L[n] !== undefined) {
                        return L[n]
                    }
                    if (!e) {
                        try {
                            var r = top.document;
                            i = r.body.innerHTML
                        } catch (e) {}
                        t = i !== null
                    } else {
                        try {
                            var r = e.contentDocument || e.contentWindow.document;
                            i = r.body.innerHTML
                        } catch (e) {}
                        t = i !== null
                    }
                    if (n !== false) {
                        L[n] = t
                    }
                    return t
                }, O = function(e) {
                    var t = this.find("iframe");
                    if (!t.length) {
                        return
                    }
                    var n = !e ? "none" : "auto";
                    t.css("pointer-events", n)
                }, R = function(e, t) {
                    var n = t.nodeName.toLowerCase()
                      , i = e.data(F).opt.mouseWheel.disableOver
                      , r = ["select", "textarea"];
                    return se.inArray(n, i) > -1 && !(se.inArray(n, r) > -1 && !se(t).is(":focus"))
                }, D = function() {
                    var o = se(this), s = o.data(F), e = F + "_" + s.idx, l = se("#mCSB_" + s.idx + "_container"), u = l.parent(), t = se(".mCSB_" + s.idx + "_scrollbar ." + w[12]), c;
                    t.bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                        B = true;
                        if (!se(e.target).hasClass("mCSB_dragger")) {
                            c = 1
                        }
                    }).bind("touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                        B = false
                    }).bind("click." + e, function(e) {
                        if (!c) {
                            return
                        }
                        c = 0;
                        if (se(e.target).hasClass(w[12]) || se(e.target).hasClass("mCSB_draggerRail")) {
                            K(o);
                            var t = se(this)
                              , n = t.find(".mCSB_dragger");
                            if (t.parent(".mCSB_scrollTools_horizontal").length > 0) {
                                if (!s.overflowed[1]) {
                                    return
                                }
                                var i = "x"
                                  , r = e.pageX > n.offset().left ? -1 : 1
                                  , a = Math.abs(l[0].offsetLeft) - r * (u.width() * .9)
                            } else {
                                if (!s.overflowed[0]) {
                                    return
                                }
                                var i = "y"
                                  , r = e.pageY > n.offset().top ? -1 : 1
                                  , a = Math.abs(l[0].offsetTop) - r * (u.height() * .9)
                            }
                            Z(o, a.toString(), {
                                dir: i,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    })
                }, N = function() {
                    var o = se(this)
                      , e = o.data(F)
                      , s = e.opt
                      , t = F + "_" + e.idx
                      , l = se("#mCSB_" + e.idx + "_container")
                      , u = l.parent();
                    l.bind("focusin." + t, function(e) {
                        var r = se(document.activeElement)
                          , t = l.find(".mCustomScrollBox").length
                          , a = 0;
                        if (!r.is(s.advanced.autoScrollOnFocus)) {
                            return
                        }
                        K(o);
                        clearTimeout(o[0]._focusTimeout);
                        o[0]._focusTimer = t ? (a + 17) * t : 0;
                        o[0]._focusTimeout = setTimeout(function() {
                            var e = [ae(r)[0], ae(r)[1]]
                              , t = [l[0].offsetTop, l[0].offsetLeft]
                              , n = [t[0] + e[0] >= 0 && t[0] + e[0] < u.height() - r.outerHeight(false), t[1] + e[1] >= 0 && t[0] + e[1] < u.width() - r.outerWidth(false)]
                              , i = s.axis === "yx" && !n[0] && !n[1] ? "none" : "all";
                            if (s.axis !== "x" && !n[0]) {
                                Z(o, e[0].toString(), {
                                    dir: "y",
                                    scrollEasing: "mcsEaseInOut",
                                    overwrite: i,
                                    dur: a
                                })
                            }
                            if (s.axis !== "y" && !n[1]) {
                                Z(o, e[1].toString(), {
                                    dir: "x",
                                    scrollEasing: "mcsEaseInOut",
                                    overwrite: i,
                                    dur: a
                                })
                            }
                        }, o[0]._focusTimer)
                    })
                }, H = function() {
                    var e = se(this)
                      , t = e.data(F)
                      , n = F + "_" + t.idx
                      , i = se("#mCSB_" + t.idx + "_container").parent();
                    i.bind("scroll." + n, function(e) {
                        if (i.scrollTop() !== 0 || i.scrollLeft() !== 0) {
                            se(".mCSB_" + t.idx + "_scrollbar").css("visibility", "hidden")
                        }
                    })
                }, V = function() {
                    var i = se(this)
                      , r = i.data(F)
                      , a = r.opt
                      , o = r.sequential
                      , e = F + "_" + r.idx
                      , t = ".mCSB_" + r.idx + "_scrollbar"
                      , n = se(t + ">a");
                    n.bind("contextmenu." + e, function(e) {
                        e.preventDefault()
                    }).bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e + " mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e + " mouseout." + e + " pointerout." + e + " MSPointerOut." + e + " click." + e, function(e) {
                        e.preventDefault();
                        if (!ne(e)) {
                            return
                        }
                        var t = se(this).attr("class");
                        o.type = a.scrollButtons.scrollType;
                        switch (e.type) {
                        case "mousedown":
                        case "touchstart":
                        case "pointerdown":
                        case "MSPointerDown":
                            if (o.type === "stepped") {
                                return
                            }
                            B = true;
                            r.tweenRunning = false;
                            n("on", t);
                            break;
                        case "mouseup":
                        case "touchend":
                        case "pointerup":
                        case "MSPointerUp":
                        case "mouseout":
                        case "pointerout":
                        case "MSPointerOut":
                            if (o.type === "stepped") {
                                return
                            }
                            B = false;
                            if (o.dir) {
                                n("off", t)
                            }
                            break;
                        case "click":
                            if (o.type !== "stepped" || r.tweenRunning) {
                                return
                            }
                            n("on", t);
                            break
                        }
                        function n(e, t) {
                            o.scrollAmount = a.scrollButtons.scrollAmount;
                            W(i, e, t)
                        }
                    })
                }, G = function() {
                    var s = se(this)
                      , l = s.data(F)
                      , u = l.opt
                      , c = l.sequential
                      , e = F + "_" + l.idx
                      , t = se("#mCSB_" + l.idx)
                      , h = se("#mCSB_" + l.idx + "_container")
                      , d = h.parent()
                      , p = "input,textarea,select,datalist,keygen,[contenteditable='true']"
                      , n = h.find("iframe")
                      , i = ["blur." + e + " keydown." + e + " keyup." + e];
                    if (n.length) {
                        n.each(function() {
                            se(this).bind("load", function() {
                                if (z(this)) {
                                    se(this.contentDocument || this.contentWindow.document).bind(i[0], function(e) {
                                        r(e)
                                    })
                                }
                            })
                        })
                    }
                    t.attr("tabindex", "0").bind(i[0], function(e) {
                        r(e)
                    });
                    function r(e) {
                        switch (e.type) {
                        case "blur":
                            if (l.tweenRunning && c.dir) {
                                o("off", null)
                            }
                            break;
                        case "keydown":
                        case "keyup":
                            var t = e.keyCode ? e.keyCode : e.which
                              , n = "on";
                            if (u.axis !== "x" && (t === 38 || t === 40) || u.axis !== "y" && (t === 37 || t === 39)) {
                                if ((t === 38 || t === 40) && !l.overflowed[0] || (t === 37 || t === 39) && !l.overflowed[1]) {
                                    return
                                }
                                if (e.type === "keyup") {
                                    n = "off"
                                }
                                if (!se(document.activeElement).is(p)) {
                                    e.preventDefault();
                                    e.stopImmediatePropagation();
                                    o(n, t)
                                }
                            } else if (t === 33 || t === 34) {
                                if (l.overflowed[0] || l.overflowed[1]) {
                                    e.preventDefault();
                                    e.stopImmediatePropagation()
                                }
                                if (e.type === "keyup") {
                                    K(s);
                                    var i = t === 34 ? -1 : 1;
                                    if (u.axis === "x" || u.axis === "yx" && l.overflowed[1] && !l.overflowed[0]) {
                                        var r = "x"
                                          , a = Math.abs(h[0].offsetLeft) - i * (d.width() * .9)
                                    } else {
                                        var r = "y"
                                          , a = Math.abs(h[0].offsetTop) - i * (d.height() * .9)
                                    }
                                    Z(s, a.toString(), {
                                        dir: r,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                            } else if (t === 35 || t === 36) {
                                if (!se(document.activeElement).is(p)) {
                                    if (l.overflowed[0] || l.overflowed[1]) {
                                        e.preventDefault();
                                        e.stopImmediatePropagation()
                                    }
                                    if (e.type === "keyup") {
                                        if (u.axis === "x" || u.axis === "yx" && l.overflowed[1] && !l.overflowed[0]) {
                                            var r = "x"
                                              , a = t === 35 ? Math.abs(d.width() - h.outerWidth(false)) : 0
                                        } else {
                                            var r = "y"
                                              , a = t === 35 ? Math.abs(d.height() - h.outerHeight(false)) : 0
                                        }
                                        Z(s, a.toString(), {
                                            dir: r,
                                            scrollEasing: "mcsEaseInOut"
                                        })
                                    }
                                }
                            }
                            break
                        }
                        function o(e, t) {
                            c.type = u.keyboard.scrollType;
                            c.scrollAmount = u.keyboard.scrollAmount;
                            if (c.type === "stepped" && l.tweenRunning) {
                                return
                            }
                            W(s, e, t)
                        }
                    }
                }, W = function(h, e, t, d, p) {
                    var f = h.data(F)
                      , m = f.opt
                      , g = f.sequential
                      , v = se("#mCSB_" + f.idx + "_container")
                      , n = g.type === "stepped" ? true : false
                      , y = m.scrollInertia < 26 ? 26 : m.scrollInertia
                      , b = m.scrollInertia < 1 ? 17 : m.scrollInertia;
                    switch (e) {
                    case "on":
                        g.dir = [t === w[16] || t === w[15] || t === 39 || t === 37 ? "x" : "y", t === w[13] || t === w[15] || t === 38 || t === 37 ? -1 : 1];
                        K(h);
                        if (re(t) && g.type === "stepped") {
                            return
                        }
                        _(n);
                        break;
                    case "off":
                        i();
                        if (n || f.tweenRunning && g.dir) {
                            _(true)
                        }
                        break
                    }
                    function _(e) {
                        if (m.snapAmount) {
                            g.scrollAmount = !(m.snapAmount instanceof Array) ? m.snapAmount : g.dir[0] === "x" ? m.snapAmount[1] : m.snapAmount[0]
                        }
                        var t = g.type !== "stepped"
                          , n = p ? p : !e ? 1e3 / 60 : t ? y / 1.5 : b
                          , i = !e ? 2.5 : t ? 7.5 : 40
                          , r = [Math.abs(v[0].offsetTop), Math.abs(v[0].offsetLeft)]
                          , a = [f.scrollRatio.y > 10 ? 10 : f.scrollRatio.y, f.scrollRatio.x > 10 ? 10 : f.scrollRatio.x]
                          , o = g.dir[0] === "x" ? r[1] + g.dir[1] * (a[1] * i) : r[0] + g.dir[1] * (a[0] * i)
                          , s = g.dir[0] === "x" ? r[1] + g.dir[1] * parseInt(g.scrollAmount) : r[0] + g.dir[1] * parseInt(g.scrollAmount)
                          , l = g.scrollAmount !== "auto" ? s : o
                          , u = d ? d : !e ? "mcsLinear" : t ? "mcsLinearOut" : "mcsEaseInOut"
                          , c = !e ? false : true;
                        if (e && n < 17) {
                            l = g.dir[0] === "x" ? r[1] : r[0]
                        }
                        Z(h, l.toString(), {
                            dir: g.dir[0],
                            scrollEasing: u,
                            dur: n,
                            onComplete: c
                        });
                        if (e) {
                            g.dir = false;
                            return
                        }
                        clearTimeout(g.step);
                        g.step = setTimeout(function() {
                            _()
                        }, n)
                    }
                    function i() {
                        clearTimeout(g.step),
                        te(g, "step"),
                        K(h)
                    }
                }, q = function(e) {
                    var t = se(this).data(F).opt
                      , n = [];
                    if (typeof e === "function") {
                        e = e()
                    }
                    if (!(e instanceof Array)) {
                        n[0] = e.y ? e.y : e.x || t.axis === "x" ? null : e;
                        n[1] = e.x ? e.x : e.y || t.axis === "y" ? null : e
                    } else {
                        n = e.length > 1 ? [e[0], e[1]] : t.axis === "x" ? [null, e[0]] : [e[0], null]
                    }
                    if (typeof n[0] === "function") {
                        n[0] = n[0]()
                    }
                    if (typeof n[1] === "function") {
                        n[1] = n[1]()
                    }
                    return n
                }, $ = function(e, t) {
                    if (e == null || typeof e == "undefined") {
                        return
                    }
                    var n = se(this)
                      , i = n.data(F)
                      , r = i.opt
                      , a = se("#mCSB_" + i.idx + "_container")
                      , o = a.parent()
                      , s = typeof e;
                    if (!t) {
                        t = r.axis === "x" ? "x" : "y"
                    }
                    var l = t === "x" ? a.outerWidth(false) - o.width() : a.outerHeight(false) - o.height()
                      , u = t === "x" ? a[0].offsetLeft : a[0].offsetTop
                      , c = t === "x" ? "left" : "top";
                    switch (s) {
                    case "function":
                        return e();
                        break;
                    case "object":
                        var h = e.jquery ? e : se(e);
                        if (!h.length) {
                            return
                        }
                        return t === "x" ? ae(h)[1] : ae(h)[0];
                        break;
                    case "string":
                    case "number":
                        if (re(e)) {
                            return Math.abs(e)
                        } else if (e.indexOf("%") !== -1) {
                            return Math.abs(l * parseInt(e) / 100)
                        } else if (e.indexOf("-=") !== -1) {
                            return Math.abs(u - parseInt(e.split("-=")[1]))
                        } else if (e.indexOf("+=") !== -1) {
                            var d = u + parseInt(e.split("+=")[1]);
                            return d >= 0 ? 0 : Math.abs(d)
                        } else if (e.indexOf("px") !== -1 && re(e.split("px")[0])) {
                            return Math.abs(e.split("px")[0])
                        } else {
                            if (e === "top" || e === "left") {
                                return 0
                            } else if (e === "bottom") {
                                return Math.abs(o.height() - a.outerHeight(false))
                            } else if (e === "right") {
                                return Math.abs(o.width() - a.outerWidth(false))
                            } else if (e === "first" || e === "last") {
                                var h = a.find(":" + e);
                                return t === "x" ? ae(h)[1] : ae(h)[0]
                            } else {
                                if (se(e).length) {
                                    return t === "x" ? ae(se(e))[1] : ae(se(e))[0]
                                } else {
                                    a.css(c, e);
                                    f.update.call(null, n[0]);
                                    return
                                }
                            }
                        }
                        break
                    }
                }, X = function(e) {
                    var t = se(this)
                      , n = t.data(F)
                      , i = n.opt
                      , r = se("#mCSB_" + n.idx + "_container");
                    if (e) {
                        clearTimeout(r[0].autoUpdate);
                        te(r[0], "autoUpdate");
                        return
                    }
                    a();
                    function a() {
                        clearTimeout(r[0].autoUpdate);
                        if (t.parents("html").length === 0) {
                            t = null;
                            return
                        }
                        r[0].autoUpdate = setTimeout(function() {
                            if (i.advanced.updateOnSelectorChange) {
                                n.poll.change.n = s();
                                if (n.poll.change.n !== n.poll.change.o) {
                                    n.poll.change.o = n.poll.change.n;
                                    l(3);
                                    return
                                }
                            }
                            if (i.advanced.updateOnContentResize) {
                                n.poll.size.n = t[0].scrollHeight + t[0].scrollWidth + r[0].offsetHeight + t[0].offsetHeight + t[0].offsetWidth;
                                if (n.poll.size.n !== n.poll.size.o) {
                                    n.poll.size.o = n.poll.size.n;
                                    l(1);
                                    return
                                }
                            }
                            if (i.advanced.updateOnImageLoad) {
                                if (!(i.advanced.updateOnImageLoad === "auto" && i.axis === "y")) {
                                    n.poll.img.n = r.find("img").length;
                                    if (n.poll.img.n !== n.poll.img.o) {
                                        n.poll.img.o = n.poll.img.n;
                                        r.find("img").each(function() {
                                            o(this)
                                        });
                                        return
                                    }
                                }
                            }
                            if (i.advanced.updateOnSelectorChange || i.advanced.updateOnContentResize || i.advanced.updateOnImageLoad) {
                                a()
                            }
                        }, i.advanced.autoUpdateTimeout)
                    }
                    function o(e) {
                        if (se(e).hasClass(w[2])) {
                            l();
                            return
                        }
                        var t = new Image;
                        function n(e, t) {
                            return function() {
                                return t.apply(e, arguments)
                            }
                        }
                        function i() {
                            this.onload = null,
                            se(e).addClass(w[2]),
                            l(2)
                        }
                        t.onload = n(t, i);
                        t.src = e.src
                    }
                    function s() {
                        if (i.advanced.updateOnSelectorChange === true) {
                            i.advanced.updateOnSelectorChange = "*"
                        }
                        var e = 0
                          , t = r.find(i.advanced.updateOnSelectorChange);
                        if (i.advanced.updateOnSelectorChange && t.length > 0) {
                            t.each(function() {
                                e += this.offsetHeight + this.offsetWidth
                            })
                        }
                        return e
                    }
                    function l(e) {
                        clearTimeout(r[0].autoUpdate);
                        f.update.call(null, t[0], e)
                    }
                }, Y = function(e, t, n) {
                    return Math.round(e / t) * t - n
                }, K = function(e) {
                    var t = e.data(F)
                      , n = se("#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal");
                    n.each(function() {
                        ee.call(this)
                    })
                }, Z = function(r, e, a) {
                    var t = r.data(F)
                      , n = t.opt
                      , i = {
                        trigger: "internal",
                        dir: "y",
                        scrollEasing: "mcsEaseOut",
                        drag: false,
                        dur: n.scrollInertia,
                        overwrite: "all",
                        callbacks: true,
                        onStart: true,
                        onUpdate: true,
                        onComplete: true
                    }
                      , a = se.extend(i, a)
                      , o = [a.dur, a.drag ? 0 : a.dur]
                      , s = se("#mCSB_" + t.idx)
                      , l = se("#mCSB_" + t.idx + "_container")
                      , u = l.parent()
                      , c = n.callbacks.onTotalScrollOffset ? q.call(r, n.callbacks.onTotalScrollOffset) : [0, 0]
                      , h = n.callbacks.onTotalScrollBackOffset ? q.call(r, n.callbacks.onTotalScrollBackOffset) : [0, 0];
                    t.trigger = a.trigger;
                    if (u.scrollTop() !== 0 || u.scrollLeft() !== 0) {
                        se(".mCSB_" + t.idx + "_scrollbar").css("visibility", "visible");
                        u.scrollTop(0).scrollLeft(0)
                    }
                    if (e === "_resetY" && !t.contentReset.y) {
                        if (x("onOverflowYNone")) {
                            n.callbacks.onOverflowYNone.call(r[0])
                        }
                        t.contentReset.y = 1
                    }
                    if (e === "_resetX" && !t.contentReset.x) {
                        if (x("onOverflowXNone")) {
                            n.callbacks.onOverflowXNone.call(r[0])
                        }
                        t.contentReset.x = 1
                    }
                    if (e === "_resetY" || e === "_resetX") {
                        return
                    }
                    if ((t.contentReset.y || !r[0].mcs) && t.overflowed[0]) {
                        if (x("onOverflowY")) {
                            n.callbacks.onOverflowY.call(r[0])
                        }
                        t.contentReset.x = null
                    }
                    if ((t.contentReset.x || !r[0].mcs) && t.overflowed[1]) {
                        if (x("onOverflowX")) {
                            n.callbacks.onOverflowX.call(r[0])
                        }
                        t.contentReset.x = null
                    }
                    if (n.snapAmount) {
                        var d = !(n.snapAmount instanceof Array) ? n.snapAmount : a.dir === "x" ? n.snapAmount[1] : n.snapAmount[0];
                        e = Y(e, d, n.snapOffset)
                    }
                    switch (a.dir) {
                    case "x":
                        var p = se("#mCSB_" + t.idx + "_dragger_horizontal")
                          , f = "left"
                          , m = l[0].offsetLeft
                          , g = [s.width() - l.outerWidth(false), p.parent().width() - p.width()]
                          , v = [e, e === 0 ? 0 : e / t.scrollRatio.x]
                          , y = c[1]
                          , b = h[1]
                          , _ = y > 0 ? y / t.scrollRatio.x : 0
                          , w = b > 0 ? b / t.scrollRatio.x : 0;
                        break;
                    case "y":
                        var p = se("#mCSB_" + t.idx + "_dragger_vertical")
                          , f = "top"
                          , m = l[0].offsetTop
                          , g = [s.height() - l.outerHeight(false), p.parent().height() - p.height()]
                          , v = [e, e === 0 ? 0 : e / t.scrollRatio.y]
                          , y = c[0]
                          , b = h[0]
                          , _ = y > 0 ? y / t.scrollRatio.y : 0
                          , w = b > 0 ? b / t.scrollRatio.y : 0;
                        break
                    }
                    if (v[1] < 0 || v[0] === 0 && v[1] === 0) {
                        v = [0, 0]
                    } else if (v[1] >= g[1]) {
                        v = [g[0], g[1]]
                    } else {
                        v[0] = -v[0]
                    }
                    if (!r[0].mcs) {
                        S();
                        if (x("onInit")) {
                            n.callbacks.onInit.call(r[0])
                        }
                    }
                    clearTimeout(l[0].onCompleteTimeout);
                    Q(p[0], f, Math.round(v[1]), o[1], a.scrollEasing);
                    if (!t.tweenRunning && (m === 0 && v[0] >= 0 || m === g[0] && v[0] <= g[0])) {
                        return
                    }
                    Q(l[0], f, Math.round(v[0]), o[0], a.scrollEasing, a.overwrite, {
                        onStart: function() {
                            if (a.callbacks && a.onStart && !t.tweenRunning) {
                                if (x("onScrollStart")) {
                                    S();
                                    n.callbacks.onScrollStart.call(r[0])
                                }
                                t.tweenRunning = true;
                                E(p);
                                t.cbOffsets = T()
                            }
                        },
                        onUpdate: function() {
                            if (a.callbacks && a.onUpdate) {
                                if (x("whileScrolling")) {
                                    S();
                                    n.callbacks.whileScrolling.call(r[0])
                                }
                            }
                        },
                        onComplete: function() {
                            if (a.callbacks && a.onComplete) {
                                if (n.axis === "yx") {
                                    clearTimeout(l[0].onCompleteTimeout)
                                }
                                var e = l[0].idleTimer || 0;
                                l[0].onCompleteTimeout = setTimeout(function() {
                                    if (x("onScroll")) {
                                        S();
                                        n.callbacks.onScroll.call(r[0])
                                    }
                                    if (x("onTotalScroll") && v[1] >= g[1] - _ && t.cbOffsets[0]) {
                                        S();
                                        n.callbacks.onTotalScroll.call(r[0])
                                    }
                                    if (x("onTotalScrollBack") && v[1] <= w && t.cbOffsets[1]) {
                                        S();
                                        n.callbacks.onTotalScrollBack.call(r[0])
                                    }
                                    t.tweenRunning = false;
                                    l[0].idleTimer = 0;
                                    E(p, "hide")
                                }, e)
                            }
                        }
                    });
                    function x(e) {
                        return t && n.callbacks[e] && typeof n.callbacks[e] === "function"
                    }
                    function T() {
                        return [n.callbacks.alwaysTriggerOffsets || m >= g[0] + y, n.callbacks.alwaysTriggerOffsets || m <= -b]
                    }
                    function S() {
                        var e = [l[0].offsetTop, l[0].offsetLeft]
                          , t = [p[0].offsetTop, p[0].offsetLeft]
                          , n = [l.outerHeight(false), l.outerWidth(false)]
                          , i = [s.height(), s.width()];
                        r[0].mcs = {
                            content: l,
                            top: e[0],
                            left: e[1],
                            draggerTop: t[0],
                            draggerLeft: t[1],
                            topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(n[0]) - i[0])),
                            leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(n[1]) - i[1])),
                            direction: a.dir
                        }
                    }
                }, Q = function(e, t, n, i, r, a, o) {
                    if (!e._mTween) {
                        e._mTween = {
                            top: {},
                            left: {}
                        }
                    }
                    var o = o || {}, s = o.onStart || function() {}
                    , l = o.onUpdate || function() {}
                    , u = o.onComplete || function() {}
                    , c = J(), h, d = 0, p = e.offsetTop, f = e.style, m, g = e._mTween[t];
                    if (t === "left") {
                        p = e.offsetLeft
                    }
                    var v = n - p;
                    g.stop = 0;
                    if (a !== "none") {
                        w()
                    }
                    _();
                    function y() {
                        if (g.stop) {
                            return
                        }
                        if (!d) {
                            s.call()
                        }
                        d = J() - c;
                        b();
                        if (d >= g.time) {
                            g.time = d > g.time ? d + h - (d - g.time) : d + h - 1;
                            if (g.time < d + 1) {
                                g.time = d + 1
                            }
                        }
                        if (g.time < i) {
                            g.id = m(y)
                        } else {
                            u.call()
                        }
                    }
                    function b() {
                        if (i > 0) {
                            g.currVal = x(g.time, p, v, i, r);
                            f[t] = Math.round(g.currVal) + "px"
                        } else {
                            f[t] = n + "px"
                        }
                        l.call()
                    }
                    function _() {
                        h = 1e3 / 60,
                        g.time = d + h,
                        m = window.requestAnimationFrame ? window.requestAnimationFrame : function(e) {
                            return b(),
                            setTimeout(e, .01)
                        }
                        ,
                        g.id = m(y)
                    }
                    function w() {
                        if (null == g.id)
                            return;
                        if (window.requestAnimationFrame)
                            window.cancelAnimationFrame(g.id);
                        else
                            clearTimeout(g.id);
                        g.id = null
                    }
                    function x(e, t, n, i, r) {
                        switch (r) {
                        case "linear":
                        case "mcsLinear":
                            return n * e / i + t;
                        case "mcsLinearOut":
                            return e /= i,
                            e--,
                            n * Math.sqrt(1 - e * e) + t;
                        case "easeInOutSmooth":
                            return (e /= i / 2) < 1 ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t;
                        case "easeInOutStrong":
                            return (e /= i / 2) < 1 ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--,
                            n / 2 * (2 - Math.pow(2, -10 * e)) + t);
                        case "easeInOut":
                        case "mcsEaseInOut":
                            return (e /= i / 2) < 1 ? n / 2 * e * e * e + t : n / 2 * ((e -= 2) * e * e + 2) + t;
                        case "easeOutSmooth":
                            return e /= i,
                            -n * (--e * e * e * e - 1) + t;
                        case "easeOutStrong":
                            return n * (1 - Math.pow(2, -10 * e / i)) + t;
                        case "easeOut":
                        case "mcsEaseOut":
                        default:
                            var a = (e /= i) * e
                              , o = a * e;
                            return t + n * (.499999999999997 * o * a + -2.5 * a * a + 5.5 * o + -6.5 * a + 4 * e)
                        }
                    }
                }, J = function() {
                    if (window.performance && window.performance.now) {
                        return window.performance.now()
                    } else {
                        if (window.performance && window.performance.webkitNow) {
                            return window.performance.webkitNow()
                        } else {
                            if (Date.now) {
                                return Date.now()
                            } else {
                                return (new Date).getTime()
                            }
                        }
                    }
                }, ee = function() {
                    var e = this;
                    if (!e._mTween) {
                        e._mTween = {
                            top: {},
                            left: {}
                        }
                    }
                    var t = ["top", "left"];
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        if (e._mTween[i].id) {
                            if (!window.requestAnimationFrame) {
                                clearTimeout(e._mTween[i].id)
                            } else {
                                window.cancelAnimationFrame(e._mTween[i].id)
                            }
                            e._mTween[i].id = null;
                            e._mTween[i].stop = 1
                        }
                    }
                }, te = function(t, n) {
                    try {
                        delete t[n]
                    } catch (e) {
                        t[n] = null
                    }
                }, ne = function(e) {
                    return !(e.which && e.which !== 1)
                }, ie = function(e) {
                    var t = e.originalEvent.pointerType;
                    return !(t && t !== "touch" && t !== 2)
                }, re = function(e) {
                    return !isNaN(parseFloat(e)) && isFinite(e)
                }, ae = function(e) {
                    var t = e.parents(".mCSB_container");
                    return [e.offset().top - t.offset().top, e.offset().left - t.offset().left]
                }, oe = function() {
                    var e = t();
                    if (!e)
                        return false;
                    return document[e];
                    function t() {
                        var e = ["webkit", "moz", "ms", "o"];
                        if ("hidden"in document)
                            return "hidden";
                        for (var t = 0; t < e.length; t++)
                            if (e[t] + "Hidden"in document)
                                return e[t] + "Hidden";
                        return null
                    }
                };
                se.fn[p] = function(e) {
                    if (f[e]) {
                        return f[e].apply(this, Array.prototype.slice.call(arguments, 1))
                    } else if (typeof e === "object" || !e) {
                        return f.init.apply(this, arguments)
                    } else {
                        se.error("Method " + e + " does not exist")
                    }
                }
                ,
                se[p] = function(e) {
                    if (f[e]) {
                        return f[e].apply(this, Array.prototype.slice.call(arguments, 1))
                    } else if (typeof e === "object" || !e) {
                        return f.init.apply(this, arguments)
                    } else {
                        se.error("Method " + e + " does not exist")
                    }
                }
                ,
                se[p].defaults = r,
                window[p] = true,
                se(window).bind("load", function() {
                    se(i)[p]();
                    se.extend(se.expr[":"], {
                        mcsInView: se.expr[":"].mcsInView || function(e) {
                            var t = se(e), n = t.parents(".mCSB_container"), i, r;
                            if (!n.length) {
                                return
                            }
                            i = n.parent();
                            r = [n[0].offsetTop, n[0].offsetLeft];
                            return r[0] + ae(t)[0] >= 0 && r[0] + ae(t)[0] < i.height() - t.outerHeight(false) && r[1] + ae(t)[1] >= 0 && r[1] + ae(t)[1] < i.width() - t.outerWidth(false)
                        }
                        ,
                        mcsInSight: se.expr[":"].mcsInSight || function(e, t, n) {
                            var i = se(e), r, a = i.parents(".mCSB_container"), o, s, l, u = n[3] === "exact" ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]];
                            if (!a.length) {
                                return
                            }
                            r = [i.outerHeight(false), i.outerWidth(false)];
                            s = [a[0].offsetTop + ae(i)[0], a[0].offsetLeft + ae(i)[1]];
                            o = [a.parent()[0].offsetHeight, a.parent()[0].offsetWidth];
                            l = [r[0] < o[0] ? u[0] : u[1], r[1] < o[1] ? u[0] : u[1]];
                            return s[0] - o[0] * l[0][0] < 0 && s[0] + r[0] - o[0] * l[0][1] >= 0 && s[1] - o[1] * l[1][0] < 0 && s[1] + r[1] - o[1] * l[1][1] >= 0
                        }
                        ,
                        mcsOverflow: se.expr[":"].mcsOverflow || function(e) {
                            var t = se(e).data(F);
                            if (!t) {
                                return
                            }
                            return t.overflowed[0] || t.overflowed[1]
                        }
                    })
                })
            }()
        }()
    }
    ) ? t.apply(e, n) : t) || (i.exports = a)
}
, function(t, e) {
    (function(e) {
        t.exports = e
    }
    ).call(this, {})
}
, function(e, t, n) {
    var i, r, a;
    /*!
 * jQuery Validation Plugin v1.19.1
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2019 Jörn Zaefferer
 * Released under the MIT license
 */
    r = [n(0), n(229)],
    void 0 === (a = "function" == typeof (i = function(l) {
        return function() {
            function a(e) {
                return e.replace(/<.[^<>]*?>/g, " ").replace(/&nbsp;|&#160;/gi, " ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g, "")
            }
            l.validator.addMethod("maxWords", function(e, t, n) {
                return this.optional(t) || a(e).match(/\b\w+\b/g).length <= n
            }, l.validator.format("Please enter {0} words or less.")),
            l.validator.addMethod("minWords", function(e, t, n) {
                return this.optional(t) || a(e).match(/\b\w+\b/g).length >= n
            }, l.validator.format("Please enter at least {0} words.")),
            l.validator.addMethod("rangeWords", function(e, t, n) {
                var i = a(e)
                  , r = /\b\w+\b/g;
                return this.optional(t) || i.match(r).length >= n[0] && i.match(r).length <= n[1]
            }, l.validator.format("Please enter between {0} and {1} words."))
        }(),
        l.validator.addMethod("abaRoutingNumber", function(e) {
            var t = 0
              , n = e.split("")
              , i = n.length;
            if (9 !== i)
                return !1;
            for (var r = 0; r < i; r += 3)
                t += 3 * parseInt(n[r], 10) + 7 * parseInt(n[r + 1], 10) + parseInt(n[r + 2], 10);
            return 0 !== t && t % 10 == 0
        }, "Please enter a valid routing number."),
        l.validator.addMethod("accept", function(e, t, n) {
            var i, r, a = "string" == typeof n ? n.replace(/\s/g, "") : "image/*", o = this.optional(t);
            if (o)
                return o;
            if ("file" === l(t).attr("type") && (a = a.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g, "\\$&").replace(/,/g, "|").replace(/\/\*/g, "/.*"),
            t.files && t.files.length))
                for (r = new RegExp(".?(" + a + ")$","i"),
                i = 0; i < t.files.length; i++)
                    if (!t.files[i].type.match(r))
                        return !1;
            return !0
        }, l.validator.format("Please enter a value with a valid mimetype.")),
        l.validator.addMethod("alphanumeric", function(e, t) {
            return this.optional(t) || /^\w+$/i.test(e)
        }, "Letters, numbers, and underscores only please"),
        l.validator.addMethod("bankaccountNL", function(e, t) {
            if (this.optional(t))
                return !0;
            if (!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))
                return !1;
            var n, i = e.replace(/ /g, ""), r = 0, a = i.length;
            for (n = 0; n < a; n++)
                r += (a - n) * i.substring(n, n + 1);
            return r % 11 == 0
        }, "Please specify a valid bank account number"),
        l.validator.addMethod("bankorgiroaccountNL", function(e, t) {
            return this.optional(t) || l.validator.methods.bankaccountNL.call(this, e, t) || l.validator.methods.giroaccountNL.call(this, e, t)
        }, "Please specify a valid bank or giro account number"),
        l.validator.addMethod("bic", function(e, t) {
            return this.optional(t) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())
        }, "Please specify a valid BIC code"),
        l.validator.addMethod("cifES", function(e, t) {
            "use strict";
            if (this.optional(t))
                return !0;
            var n, i, r, a, o = new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi), s = e.substring(0, 1), l = e.substring(1, 8), u = e.substring(8, 9), c = 0, h = 0;
            if (9 !== e.length || !o.test(e))
                return !1;
            for (n = 0; n < l.length; n++)
                i = parseInt(l[n], 10),
                n % 2 == 0 ? h += (i *= 2) < 10 ? i : i - 9 : c += i;
            return r = (10 - (c + h).toString().substr(-1)).toString(),
            r = 9 < parseInt(r, 10) ? "0" : r,
            a = "JABCDEFGHI".substr(r, 1).toString(),
            s.match(/[ABEH]/) ? u === r : s.match(/[KPQS]/) ? u === a : u === r || u === a
        }, "Please specify a valid CIF number."),
        l.validator.addMethod("cnhBR", function(e) {
            if (11 !== (e = e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length)
                return !1;
            var t, n, i, r, a, o = 0, s = 0;
            if (t = e.charAt(0),
            new Array(12).join(t) === e)
                return !1;
            for (a = 9,
            r = 0; r < 9; ++r,
            --a)
                o += +e.charAt(r) * a;
            for (10 <= (n = o % 11) && (n = 0,
            s = 2),
            a = 1,
            r = o = 0; r < 9; ++r,
            ++a)
                o += +e.charAt(r) * a;
            return 10 <= (i = o % 11) ? i = 0 : i -= s,
            String(n).concat(i) === e.substr(-2)
        }, "Please specify a valid CNH number"),
        l.validator.addMethod("cnpjBR", function(e, t) {
            "use strict";
            if (this.optional(t))
                return !0;
            if (14 !== (e = e.replace(/[^\d]+/g, "")).length)
                return !1;
            if ("00000000000000" === e || "11111111111111" === e || "22222222222222" === e || "33333333333333" === e || "44444444444444" === e || "55555555555555" === e || "66666666666666" === e || "77777777777777" === e || "88888888888888" === e || "99999999999999" === e)
                return !1;
            for (var n = e.length - 2, i = e.substring(0, n), r = e.substring(n), a = 0, o = n - 7, s = n; 1 <= s; s--)
                a += i.charAt(n - s) * o--,
                o < 2 && (o = 9);
            var l = a % 11 < 2 ? 0 : 11 - a % 11;
            if (l !== parseInt(r.charAt(0), 10))
                return !1;
            n += 1,
            i = e.substring(0, n),
            a = 0,
            o = n - 7;
            for (var u = n; 1 <= u; u--)
                a += i.charAt(n - u) * o--,
                o < 2 && (o = 9);
            return (l = a % 11 < 2 ? 0 : 11 - a % 11) === parseInt(r.charAt(1), 10)
        }, "Please specify a CNPJ value number"),
        l.validator.addMethod("cpfBR", function(e, t) {
            "use strict";
            if (this.optional(t))
                return !0;
            if (11 !== (e = e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length)
                return !1;
            var n, i, r, a, o = 0;
            if (n = parseInt(e.substring(9, 10), 10),
            i = parseInt(e.substring(10, 11), 10),
            r = function(e, t) {
                var n = 10 * e % 11;
                return 10 !== n && 11 !== n || (n = 0),
                n === t
            }
            ,
            "" === e || "00000000000" === e || "11111111111" === e || "22222222222" === e || "33333333333" === e || "44444444444" === e || "55555555555" === e || "66666666666" === e || "77777777777" === e || "88888888888" === e || "99999999999" === e)
                return !1;
            for (a = 1; a <= 9; a++)
                o += parseInt(e.substring(a - 1, a), 10) * (11 - a);
            if (r(o, n)) {
                for (o = 0,
                a = 1; a <= 10; a++)
                    o += parseInt(e.substring(a - 1, a), 10) * (12 - a);
                return r(o, i)
            }
            return !1
        }, "Please specify a valid CPF number"),
        l.validator.addMethod("creditcard", function(e, t) {
            if (this.optional(t))
                return "dependency-mismatch";
            if (/[^0-9 \-]+/.test(e))
                return !1;
            var n, i, r = 0, a = 0, o = !1;
            if ((e = e.replace(/\D/g, "")).length < 13 || 19 < e.length)
                return !1;
            for (n = e.length - 1; 0 <= n; n--)
                i = e.charAt(n),
                a = parseInt(i, 10),
                o && 9 < (a *= 2) && (a -= 9),
                r += a,
                o = !o;
            return r % 10 == 0
        }, "Please enter a valid credit card number."),
        l.validator.addMethod("creditcardtypes", function(e, t, n) {
            if (/[^0-9\-]+/.test(e))
                return !1;
            e = e.replace(/\D/g, "");
            var i = 0;
            return n.mastercard && (i |= 1),
            n.visa && (i |= 2),
            n.amex && (i |= 4),
            n.dinersclub && (i |= 8),
            n.enroute && (i |= 16),
            n.discover && (i |= 32),
            n.jcb && (i |= 64),
            n.unknown && (i |= 128),
            n.all && (i = 255),
            1 & i && (/^(5[12345])/.test(e) || /^(2[234567])/.test(e)) ? 16 === e.length : 2 & i && /^(4)/.test(e) ? 16 === e.length : 4 & i && /^(3[47])/.test(e) ? 15 === e.length : 8 & i && /^(3(0[012345]|[68]))/.test(e) ? 14 === e.length : 16 & i && /^(2(014|149))/.test(e) ? 15 === e.length : 32 & i && /^(6011)/.test(e) ? 16 === e.length : 64 & i && /^(3)/.test(e) ? 16 === e.length : 64 & i && /^(2131|1800)/.test(e) ? 15 === e.length : !!(128 & i)
        }, "Please enter a valid credit card number."),
        l.validator.addMethod("currency", function(e, t, n) {
            var i, r = "string" == typeof n, a = r ? n : n[0], o = r || n[1];
            return a = a.replace(/,/g, ""),
            i = "^[" + (a = o ? a + "]" : a + "]?") + "([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",
            i = new RegExp(i),
            this.optional(t) || i.test(e)
        }, "Please specify a valid currency"),
        l.validator.addMethod("dateFA", function(e, t) {
            return this.optional(t) || /^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)
        }, l.validator.messages.date),
        l.validator.addMethod("dateITA", function(e, t) {
            var n, i, r, a, o, s = !1;
            return s = !!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e) && (n = e.split("/"),
            i = parseInt(n[0], 10),
            r = parseInt(n[1], 10),
            a = parseInt(n[2], 10),
            (o = new Date(Date.UTC(a, r - 1, i, 12, 0, 0, 0))).getUTCFullYear() === a && o.getUTCMonth() === r - 1 && o.getUTCDate() === i),
            this.optional(t) || s
        }, l.validator.messages.date),
        l.validator.addMethod("dateNL", function(e, t) {
            return this.optional(t) || /^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)
        }, l.validator.messages.date),
        l.validator.addMethod("extension", function(e, t, n) {
            return n = "string" == typeof n ? n.replace(/,/g, "|") : "png|jpe?g|gif",
            this.optional(t) || e.match(new RegExp("\\.(" + n + ")$","i"))
        }, l.validator.format("Please enter a value with a valid extension.")),
        l.validator.addMethod("giroaccountNL", function(e, t) {
            return this.optional(t) || /^[0-9]{1,7}$/.test(e)
        }, "Please specify a valid giro account number"),
        l.validator.addMethod("greaterThan", function(e, t, n) {
            var i = l(n);
            return this.settings.onfocusout && i.not(".validate-greaterThan-blur").length && i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan", function() {
                l(t).valid()
            }),
            e > i.val()
        }, "Please enter a greater value."),
        l.validator.addMethod("greaterThanEqual", function(e, t, n) {
            var i = l(n);
            return this.settings.onfocusout && i.not(".validate-greaterThanEqual-blur").length && i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual", function() {
                l(t).valid()
            }),
            e >= i.val()
        }, "Please enter a greater value."),
        l.validator.addMethod("iban", function(e, t) {
            if (this.optional(t))
                return !0;
            var n, i, r, a, o, s = e.replace(/ /g, "").toUpperCase(), l = "", u = !0, c = "";
            if (s.length < 5)
                return !1;
            if (void 0 !== (r = {
                AL: "\\d{8}[\\dA-Z]{16}",
                AD: "\\d{8}[\\dA-Z]{12}",
                AT: "\\d{16}",
                AZ: "[\\dA-Z]{4}\\d{20}",
                BE: "\\d{12}",
                BH: "[A-Z]{4}[\\dA-Z]{14}",
                BA: "\\d{16}",
                BR: "\\d{23}[A-Z][\\dA-Z]",
                BG: "[A-Z]{4}\\d{6}[\\dA-Z]{8}",
                CR: "\\d{17}",
                HR: "\\d{17}",
                CY: "\\d{8}[\\dA-Z]{16}",
                CZ: "\\d{20}",
                DK: "\\d{14}",
                DO: "[A-Z]{4}\\d{20}",
                EE: "\\d{16}",
                FO: "\\d{14}",
                FI: "\\d{14}",
                FR: "\\d{10}[\\dA-Z]{11}\\d{2}",
                GE: "[\\dA-Z]{2}\\d{16}",
                DE: "\\d{18}",
                GI: "[A-Z]{4}[\\dA-Z]{15}",
                GR: "\\d{7}[\\dA-Z]{16}",
                GL: "\\d{14}",
                GT: "[\\dA-Z]{4}[\\dA-Z]{20}",
                HU: "\\d{24}",
                IS: "\\d{22}",
                IE: "[\\dA-Z]{4}\\d{14}",
                IL: "\\d{19}",
                IT: "[A-Z]\\d{10}[\\dA-Z]{12}",
                KZ: "\\d{3}[\\dA-Z]{13}",
                KW: "[A-Z]{4}[\\dA-Z]{22}",
                LV: "[A-Z]{4}[\\dA-Z]{13}",
                LB: "\\d{4}[\\dA-Z]{20}",
                LI: "\\d{5}[\\dA-Z]{12}",
                LT: "\\d{16}",
                LU: "\\d{3}[\\dA-Z]{13}",
                MK: "\\d{3}[\\dA-Z]{10}\\d{2}",
                MT: "[A-Z]{4}\\d{5}[\\dA-Z]{18}",
                MR: "\\d{23}",
                MU: "[A-Z]{4}\\d{19}[A-Z]{3}",
                MC: "\\d{10}[\\dA-Z]{11}\\d{2}",
                MD: "[\\dA-Z]{2}\\d{18}",
                ME: "\\d{18}",
                NL: "[A-Z]{4}\\d{10}",
                NO: "\\d{11}",
                PK: "[\\dA-Z]{4}\\d{16}",
                PS: "[\\dA-Z]{4}\\d{21}",
                PL: "\\d{24}",
                PT: "\\d{21}",
                RO: "[A-Z]{4}[\\dA-Z]{16}",
                SM: "[A-Z]\\d{10}[\\dA-Z]{12}",
                SA: "\\d{2}[\\dA-Z]{18}",
                RS: "\\d{18}",
                SK: "\\d{20}",
                SI: "\\d{15}",
                ES: "\\d{20}",
                SE: "\\d{20}",
                CH: "\\d{5}[\\dA-Z]{12}",
                TN: "\\d{20}",
                TR: "\\d{5}[\\dA-Z]{17}",
                AE: "\\d{3}\\d{16}",
                GB: "[A-Z]{4}\\d{14}",
                VG: "[\\dA-Z]{4}\\d{16}"
            }[s.substring(0, 2)]) && !new RegExp("^[A-Z]{2}\\d{2}" + r + "$","").test(s))
                return !1;
            for (n = s.substring(4, s.length) + s.substring(0, 4),
            a = 0; a < n.length; a++)
                "0" !== (i = n.charAt(a)) && (u = !1),
                u || (l += "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));
            for (o = 0; o < l.length; o++)
                c = ("" + c + l.charAt(o)) % 97;
            return 1 === c
        }, "Please specify a valid IBAN"),
        l.validator.addMethod("integer", function(e, t) {
            return this.optional(t) || /^-?\d+$/.test(e)
        }, "A positive or negative non-decimal number please"),
        l.validator.addMethod("ipv4", function(e, t) {
            return this.optional(t) || /^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)
        }, "Please enter a valid IP v4 address."),
        l.validator.addMethod("ipv6", function(e, t) {
            return this.optional(t) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)
        }, "Please enter a valid IP v6 address."),
        l.validator.addMethod("lessThan", function(e, t, n) {
            var i = l(n);
            return this.settings.onfocusout && i.not(".validate-lessThan-blur").length && i.addClass("validate-lessThan-blur").on("blur.validate-lessThan", function() {
                l(t).valid()
            }),
            e < i.val()
        }, "Please enter a lesser value."),
        l.validator.addMethod("lessThanEqual", function(e, t, n) {
            var i = l(n);
            return this.settings.onfocusout && i.not(".validate-lessThanEqual-blur").length && i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual", function() {
                l(t).valid()
            }),
            e <= i.val()
        }, "Please enter a lesser value."),
        l.validator.addMethod("lettersonly", function(e, t) {
            return this.optional(t) || /^[a-z]+$/i.test(e)
        }, "Letters only please"),
        l.validator.addMethod("letterswithbasicpunc", function(e, t) {
            return this.optional(t) || /^[a-z\-.,()'"\s]+$/i.test(e)
        }, "Letters or punctuation only please"),
        l.validator.addMethod("maxfiles", function(e, t, n) {
            return !!this.optional(t) || !("file" === l(t).attr("type") && t.files && t.files.length > n)
        }, l.validator.format("Please select no more than {0} files.")),
        l.validator.addMethod("maxsize", function(e, t, n) {
            if (this.optional(t))
                return !0;
            if ("file" === l(t).attr("type") && t.files && t.files.length)
                for (var i = 0; i < t.files.length; i++)
                    if (t.files[i].size > n)
                        return !1;
            return !0
        }, l.validator.format("File size must not exceed {0} bytes each.")),
        l.validator.addMethod("maxsizetotal", function(e, t, n) {
            if (this.optional(t))
                return !0;
            if ("file" === l(t).attr("type") && t.files && t.files.length)
                for (var i = 0, r = 0; r < t.files.length; r++)
                    if (n < (i += t.files[r].size))
                        return !1;
            return !0
        }, l.validator.format("Total size of all files must not exceed {0} bytes.")),
        l.validator.addMethod("mobileNL", function(e, t) {
            return this.optional(t) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)
        }, "Please specify a valid mobile number"),
        l.validator.addMethod("mobileRU", function(e, t) {
            var n = e.replace(/\(|\)|\s+|-/g, "");
            return this.optional(t) || 9 < n.length && /^((\+7|7|8)+([0-9]){10})$/.test(n)
        }, "Please specify a valid mobile number"),
        l.validator.addMethod("mobileUK", function(e, t) {
            return e = e.replace(/\(|\)|\s+|-/g, ""),
            this.optional(t) || 9 < e.length && e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)
        }, "Please specify a valid mobile number"),
        l.validator.addMethod("netmask", function(e, t) {
            return this.optional(t) || /^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)
        }, "Please enter a valid netmask."),
        l.validator.addMethod("nieES", function(e, t) {
            "use strict";
            if (this.optional(t))
                return !0;
            var n, i = new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi), r = e.substr(e.length - 1).toUpperCase();
            return !(10 < (e = e.toString().toUpperCase()).length || e.length < 9 || !i.test(e)) && (n = 9 === (e = e.replace(/^[X]/, "0").replace(/^[Y]/, "1").replace(/^[Z]/, "2")).length ? e.substr(0, 8) : e.substr(0, 9),
            "TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(n, 10) % 23) === r)
        }, "Please specify a valid NIE number."),
        l.validator.addMethod("nifES", function(e, t) {
            "use strict";
            return !!this.optional(t) || !!(e = e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)") && (/^[0-9]{8}[A-Z]{1}$/.test(e) ? "TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8, 0) % 23) === e.charAt(8) : !!/^[KLM]{1}/.test(e) && e[8] === "TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8, 1) % 23))
        }, "Please specify a valid NIF number."),
        l.validator.addMethod("nipPL", function(e) {
            "use strict";
            if (10 !== (e = e.replace(/[^0-9]/g, "")).length)
                return !1;
            for (var t = [6, 5, 7, 2, 3, 4, 5, 6, 7], n = 0, i = 0; i < 9; i++)
                n += t[i] * e[i];
            var r = n % 11;
            return (10 == r ? 0 : r) === parseInt(e[9], 10)
        }, "Please specify a valid NIP number."),
        l.validator.addMethod("nisBR", function(e) {
            var t, n, i, r, a, o = 0;
            if (11 !== (e = e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length)
                return !1;
            for (n = parseInt(e.substring(10, 11), 10),
            t = parseInt(e.substring(0, 10), 10),
            r = 2; r < 12; r++)
                10 === (a = r) && (a = 2),
                11 === r && (a = 3),
                o += t % 10 * a,
                t = parseInt(t / 10, 10);
            return n === (i = 1 < (i = o % 11) ? 11 - i : 0)
        }, "Please specify a valid NIS/PIS number"),
        l.validator.addMethod("notEqualTo", function(e, t, n) {
            return this.optional(t) || !l.validator.methods.equalTo.call(this, e, t, n)
        }, "Please enter a different value, values must not be the same."),
        l.validator.addMethod("nowhitespace", function(e, t) {
            return this.optional(t) || /^\S+$/i.test(e)
        }, "No white space please"),
        l.validator.addMethod("pattern", function(e, t, n) {
            return !!this.optional(t) || ("string" == typeof n && (n = new RegExp("^(?:" + n + ")$")),
            n.test(e))
        }, "Invalid format."),
        l.validator.addMethod("phoneNL", function(e, t) {
            return this.optional(t) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)
        }, "Please specify a valid phone number."),
        l.validator.addMethod("phonePL", function(e, t) {
            return e = e.replace(/\s+/g, ""),
            this.optional(t) || /^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)
        }, "Please specify a valid phone number"),
        l.validator.addMethod("phonesUK", function(e, t) {
            return e = e.replace(/\(|\)|\s+|-/g, ""),
            this.optional(t) || 9 < e.length && e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)
        }, "Please specify a valid uk phone number"),
        l.validator.addMethod("phoneUK", function(e, t) {
            return e = e.replace(/\(|\)|\s+|-/g, ""),
            this.optional(t) || 9 < e.length && e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)
        }, "Please specify a valid phone number"),
        l.validator.addMethod("phoneUS", function(e, t) {
            return e = e.replace(/\s+/g, ""),
            this.optional(t) || 9 < e.length && e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)
        }, "Please specify a valid phone number"),
        l.validator.addMethod("postalcodeBR", function(e, t) {
            return this.optional(t) || /^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)
        }, "Informe um CEP válido."),
        l.validator.addMethod("postalCodeCA", function(e, t) {
            return this.optional(t) || /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)
        }, "Please specify a valid postal code"),
        l.validator.addMethod("postalcodeIT", function(e, t) {
            return this.optional(t) || /^\d{5}$/.test(e)
        }, "Please specify a valid postal code"),
        l.validator.addMethod("postalcodeNL", function(e, t) {
            return this.optional(t) || /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)
        }, "Please specify a valid postal code"),
        l.validator.addMethod("postcodeUK", function(e, t) {
            return this.optional(t) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)
        }, "Please specify a valid UK postcode"),
        l.validator.addMethod("require_from_group", function(e, t, n) {
            var i = l(n[1], t.form)
              , r = i.eq(0)
              , a = r.data("valid_req_grp") ? r.data("valid_req_grp") : l.extend({}, this)
              , o = i.filter(function() {
                return a.elementValue(this)
            }).length >= n[0];
            return r.data("valid_req_grp", a),
            l(t).data("being_validated") || (i.data("being_validated", !0),
            i.each(function() {
                a.element(this)
            }),
            i.data("being_validated", !1)),
            o
        }, l.validator.format("Please fill at least {0} of these fields.")),
        l.validator.addMethod("skip_or_fill_minimum", function(e, t, n) {
            var i = l(n[1], t.form)
              , r = i.eq(0)
              , a = r.data("valid_skip") ? r.data("valid_skip") : l.extend({}, this)
              , o = i.filter(function() {
                return a.elementValue(this)
            }).length
              , s = 0 === o || o >= n[0];
            return r.data("valid_skip", a),
            l(t).data("being_validated") || (i.data("being_validated", !0),
            i.each(function() {
                a.element(this)
            }),
            i.data("being_validated", !1)),
            s
        }, l.validator.format("Please either skip these fields or fill at least {0} of them.")),
        l.validator.addMethod("stateUS", function(e, t, n) {
            var i, r = void 0 === n, a = !r && void 0 !== n.caseSensitive && n.caseSensitive, o = !r && void 0 !== n.includeTerritories && n.includeTerritories, s = !r && void 0 !== n.includeMilitary && n.includeMilitary;
            return i = o || s ? o && s ? "^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : o ? "^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : "^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$" : "^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",
            i = a ? new RegExp(i) : new RegExp(i,"i"),
            this.optional(t) || i.test(e)
        }, "Please specify a valid state"),
        l.validator.addMethod("strippedminlength", function(e, t, n) {
            return l(e).text().length >= n
        }, l.validator.format("Please enter at least {0} characters")),
        l.validator.addMethod("time", function(e, t) {
            return this.optional(t) || /^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)
        }, "Please enter a valid time, between 00:00 and 23:59"),
        l.validator.addMethod("time12h", function(e, t) {
            return this.optional(t) || /^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)
        }, "Please enter a valid time in 12-hour am/pm format"),
        l.validator.addMethod("url2", function(e, t) {
            return this.optional(t) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
        }, l.validator.messages.url),
        l.validator.addMethod("vinUS", function(e) {
            if (17 !== e.length)
                return !1;
            var t, n, i, r, a, o, s = ["A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "P", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], l = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9], u = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2], c = 0;
            for (t = 0; t < 17; t++) {
                if (r = u[t],
                i = e.slice(t, t + 1),
                8 === t && (o = i),
                isNaN(i)) {
                    for (n = 0; n < s.length; n++)
                        if (i.toUpperCase() === s[n]) {
                            i = l[n],
                            i *= r,
                            isNaN(o) && 8 === n && (o = s[n]);
                            break
                        }
                } else
                    i *= r;
                c += i
            }
            return 10 == (a = c % 11) && (a = "X"),
            a === o
        }, "The specified vehicle identification number (VIN) is invalid."),
        l.validator.addMethod("zipcodeUS", function(e, t) {
            return this.optional(t) || /^\d{5}(-\d{4})?$/.test(e)
        }, "The specified US ZIP Code is invalid"),
        l.validator.addMethod("ziprange", function(e, t) {
            return this.optional(t) || /^90[2-5]\d\{2\}-\d{4}$/.test(e)
        }, "Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),
        l
    }
    ) ? i.apply(t, r) : i) || (e.exports = a)
}
, function(e, t) {}
, function(e, t) {
    e.exports = function(e, t) {
        var n, i = null;
        try {
            n = JSON.parse(e, t)
        } catch (e) {
            i = e
        }
        return [i, n]
    }
}
, function(e, t) {
    function n(e) {
        if (e && "object" == typeof e) {
            var t = e.which || e.keyCode || e.charCode;
            t && (e = t)
        }
        if ("number" == typeof e)
            return o[e];
        var n, i = String(e);
        return (n = r[i.toLowerCase()]) ? n : (n = a[i.toLowerCase()]) || (1 === i.length ? i.charCodeAt(0) : void 0)
    }
    n.isEventKey = function(e, t) {
        if (e && "object" == typeof e) {
            var n = e.which || e.keyCode || e.charCode;
            if (null == n)
                return !1;
            if ("string" == typeof t) {
                var i;
                if (i = r[t.toLowerCase()])
                    return i === n;
                if (i = a[t.toLowerCase()])
                    return i === n
            } else if ("number" == typeof t)
                return t === n;
            return !1
        }
    }
    ;
    var r = (t = e.exports = n).code = t.codes = {
        backspace: 8,
        tab: 9,
        enter: 13,
        shift: 16,
        ctrl: 17,
        alt: 18,
        "pause/break": 19,
        "caps lock": 20,
        esc: 27,
        space: 32,
        "page up": 33,
        "page down": 34,
        end: 35,
        home: 36,
        left: 37,
        up: 38,
        right: 39,
        down: 40,
        insert: 45,
        delete: 46,
        command: 91,
        "left command": 91,
        "right command": 93,
        "numpad *": 106,
        "numpad +": 107,
        "numpad -": 109,
        "numpad .": 110,
        "numpad /": 111,
        "num lock": 144,
        "scroll lock": 145,
        "my computer": 182,
        "my calculator": 183,
        ";": 186,
        "=": 187,
        ",": 188,
        "-": 189,
        ".": 190,
        "/": 191,
        "`": 192,
        "[": 219,
        "\\": 220,
        "]": 221,
        "'": 222
    }
      , a = t.aliases = {
        windows: 91,
        "⇧": 16,
        "⌥": 18,
        "⌃": 17,
        "⌘": 91,
        ctl: 17,
        control: 17,
        option: 18,
        pause: 19,
        break: 19,
        caps: 20,
        return: 13,
        escape: 27,
        spc: 32,
        spacebar: 32,
        pgup: 33,
        pgdn: 34,
        ins: 45,
        del: 46,
        cmd: 91
    };
    /*!
 * Programatically add the following
 */
    for (i = 97; i < 123; i++)
        r[String.fromCharCode(i)] = i - 32;
    for (var i = 48; i < 58; i++)
        r[i - 48] = i;
    for (i = 1; i < 13; i++)
        r["f" + i] = i + 111;
    for (i = 0; i < 10; i++)
        r["numpad " + i] = i + 96;
    var o = t.names = t.title = {};
    for (i in r)
        o[r[i]] = i;
    for (var s in a)
        r[s] = a[s]
}
, function(e, t, n) {
    "use strict";
    var i = n(232)
      , r = n(82)
      , a = n(568);
    v.httpHandler = n(569);
    /**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */
    var g = function(e) {
        var r = {};
        return e && e.trim().split("\n").forEach(function(e) {
            var t = e.indexOf(":")
              , n = e.slice(0, t).trim().toLowerCase()
              , i = e.slice(t + 1).trim();
            void 0 === r[n] ? r[n] = i : Array.isArray(r[n]) ? r[n].push(i) : r[n] = [r[n], i]
        }),
        r
    };
    function o(e, t, n) {
        var i = e;
        return a(t) ? (n = t,
        "string" == typeof e && (i = {
            uri: e
        })) : i = r({}, t, {
            uri: e
        }),
        i.callback = n,
        i
    }
    function v(e, t, n) {
        return s(t = o(e, t, n))
    }
    function s(i) {
        if (void 0 === i.callback)
            throw new Error("callback argument missing");
        var r = !1
          , a = function(e, t, n) {
            r || (r = !0,
            i.callback(e, t, n))
        };
        function t(e) {
            return clearTimeout(s),
            e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))),
            e.statusCode = 0,
            a(e, m)
        }
        function e() {
            if (!o) {
                var e;
                clearTimeout(s),
                e = i.useXDR && void 0 === l.status ? 200 : 1223 === l.status ? 204 : l.status;
                var t = m
                  , n = null;
                return 0 !== e ? (t = {
                    body: function() {
                        var e = void 0;
                        if (e = l.response ? l.response : l.responseText || function(e) {
                            try {
                                if ("document" === e.responseType)
                                    return e.responseXML;
                                var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                                if ("" === e.responseType && !t)
                                    return e.responseXML
                            } catch (e) {}
                            return null
                        }(l),
                        f)
                            try {
                                e = JSON.parse(e)
                            } catch (e) {}
                        return e
                    }(),
                    statusCode: e,
                    method: c,
                    headers: {},
                    url: u,
                    rawRequest: l
                },
                l.getAllResponseHeaders && (t.headers = g(l.getAllResponseHeaders()))) : n = new Error("Internal XMLHttpRequest Error"),
                a(n, t, t.body)
            }
        }
        var n, o, s, l = i.xhr || null, u = (l = l || (i.cors || i.useXDR ? new v.XDomainRequest : new v.XMLHttpRequest)).url = i.uri || i.url, c = l.method = i.method || "GET", h = i.body || i.data, d = l.headers = i.headers || {}, p = !!i.sync, f = !1, m = {
            body: void 0,
            headers: {},
            statusCode: 0,
            method: c,
            url: u,
            rawRequest: l
        };
        if ("json"in i && !1 !== i.json && (f = !0,
        d.accept || d.Accept || (d.Accept = "application/json"),
        "GET" !== c && "HEAD" !== c && (d["content-type"] || d["Content-Type"] || (d["Content-Type"] = "application/json"),
        h = JSON.stringify(!0 === i.json ? h : i.json))),
        l.onreadystatechange = function() {
            4 === l.readyState && setTimeout(e, 0)
        }
        ,
        l.onload = e,
        l.onerror = t,
        l.onprogress = function() {}
        ,
        l.onabort = function() {
            o = !0
        }
        ,
        l.ontimeout = t,
        l.open(c, u, !p, i.username, i.password),
        p || (l.withCredentials = !!i.withCredentials),
        !p && 0 < i.timeout && (s = setTimeout(function() {
            if (!o) {
                o = !0,
                l.abort("timeout");
                var e = new Error("XMLHttpRequest timeout");
                e.code = "ETIMEDOUT",
                t(e)
            }
        }, i.timeout)),
        l.setRequestHeader)
            for (n in d)
                d.hasOwnProperty(n) && l.setRequestHeader(n, d[n]);
        else if (i.headers && !function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t))
                    return !1;
            return !0
        }(i.headers))
            throw new Error("Headers cannot be set on an XDomainRequest object");
        return "responseType"in i && (l.responseType = i.responseType),
        "beforeSend"in i && "function" == typeof i.beforeSend && i.beforeSend(l),
        l.send(h || null),
        l
    }
    e.exports = v,
    (e.exports.default = v).XMLHttpRequest = i.XMLHttpRequest || function() {}
    ,
    v.XDomainRequest = "withCredentials"in new v.XMLHttpRequest ? v.XMLHttpRequest : i.XDomainRequest,
    function(e, t) {
        for (var n = 0; n < e.length; n++)
            t(e[n])
    }(["get", "put", "post", "patch", "head", "delete"], function(i) {
        v["delete" === i ? "del" : i] = function(e, t, n) {
            return (t = o(e, t, n)).method = i.toUpperCase(),
            s(t)
        }
    })
}
, function(e, t) {
    e.exports = function(e) {
        if (!e)
            return !1;
        var t = n.call(e);
        return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
    }
    ;
    var n = Object.prototype.toString
}
, function(e, t, n) {
    "use strict";
    var s = n(232);
    e.exports = function(a, o) {
        return void 0 === o && (o = !1),
        function(e, t, n) {
            if (e)
                a(e);
            else if (400 <= t.statusCode && t.statusCode <= 599) {
                var i = n;
                if (o)
                    if (s.TextDecoder) {
                        var r = function(e) {
                            void 0 === e && (e = "");
                            return e.toLowerCase().split(";").reduce(function(e, t) {
                                var n = t.split("=")
                                  , i = n[0]
                                  , r = n[1];
                                return "charset" === i.trim() ? r.trim() : e
                            }, "utf-8")
                        }(t.headers && t.headers["content-type"]);
                        try {
                            i = new TextDecoder(r).decode(n)
                        } catch (e) {}
                    } else
                        i = String.fromCharCode.apply(null, new Uint8Array(n));
                a({
                    cause: i
                })
            } else
                a(null, n)
        }
    }
}
, function(e, t, n) {
    var i = n(230)
      , r = e.exports = {
        WebVTT: n(571),
        VTTCue: n(572),
        VTTRegion: n(573)
    };
    i.vttjs = r,
    i.WebVTT = r.WebVTT;
    var a = r.VTTCue
      , o = r.VTTRegion
      , s = i.VTTCue
      , l = i.VTTRegion;
    r.shim = function() {
        i.VTTCue = a,
        i.VTTRegion = o
    }
    ,
    r.restore = function() {
        i.VTTCue = s,
        i.VTTRegion = l
    }
    ,
    i.VTTCue || r.shim()
}
, function(e, t, n) {
    var i = n(231)
      , r = Object.create || function(e) {
        if (1 !== arguments.length)
            throw new Error("Object.create shim only accepts one parameter.");
        return a.prototype = e,
        new a
    }
    ;
    function a() {}
    function l(e, t) {
        this.name = "ParsingError",
        this.code = e.code,
        this.message = t || e.message
    }
    function m(e) {
        function t(e, t, n, i) {
            return 3600 * (0 | e) + 60 * (0 | t) + (0 | n) + (0 | i) / 1e3
        }
        var n = e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);
        return n ? n[3] ? t(n[1], n[2], n[3].replace(":", ""), n[4]) : 59 < n[1] ? t(n[1], n[2], 0, n[4]) : t(0, n[1], n[2], n[4]) : null
    }
    function u() {
        this.values = r(null)
    }
    function c(e, t, n, i) {
        var r = i ? e.split(i) : [e];
        for (var a in r)
            if ("string" == typeof r[a]) {
                var o = r[a].split(n);
                if (2 === o.length)
                    t(o[0], o[1])
            }
    }
    function h(t, e, o) {
        var n = t;
        function i() {
            var e = m(t);
            if (null === e)
                throw new l(l.Errors.BadTimeStamp,"Malformed timestamp: " + n);
            return t = t.replace(/^[^\sa-zA-Z-]+/, ""),
            e
        }
        function r() {
            t = t.replace(/^\s+/, "")
        }
        if (r(),
        e.startTime = i(),
        r(),
        "--\x3e" !== t.substr(0, 3))
            throw new l(l.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): " + n);
        t = t.substr(3),
        r(),
        e.endTime = i(),
        r(),
        function(e, t) {
            var a = new u;
            c(e, function(e, t) {
                switch (e) {
                case "region":
                    for (var n = o.length - 1; 0 <= n; n--)
                        if (o[n].id === t) {
                            a.set(e, o[n].region);
                            break
                        }
                    break;
                case "vertical":
                    a.alt(e, t, ["rl", "lr"]);
                    break;
                case "line":
                    var i = t.split(",")
                      , r = i[0];
                    a.integer(e, r),
                    a.percent(e, r) && a.set("snapToLines", !1),
                    a.alt(e, r, ["auto"]),
                    2 === i.length && a.alt("lineAlign", i[1], ["start", "center", "end"]);
                    break;
                case "position":
                    i = t.split(","),
                    a.percent(e, i[0]),
                    2 === i.length && a.alt("positionAlign", i[1], ["start", "center", "end"]);
                    break;
                case "size":
                    a.percent(e, t);
                    break;
                case "align":
                    a.alt(e, t, ["start", "center", "end", "left", "right"])
                }
            }, /:/, /\s/),
            t.region = a.get("region", null),
            t.vertical = a.get("vertical", "");
            try {
                t.line = a.get("line", "auto")
            } catch (e) {}
            t.lineAlign = a.get("lineAlign", "start"),
            t.snapToLines = a.get("snapToLines", !0),
            t.size = a.get("size", 100);
            try {
                t.align = a.get("align", "center")
            } catch (e) {
                t.align = a.get("align", "middle")
            }
            try {
                t.position = a.get("position", "auto")
            } catch (e) {
                t.position = a.get("position", {
                    start: 0,
                    left: 0,
                    center: 50,
                    middle: 50,
                    end: 100,
                    right: 100
                }, t.align)
            }
            t.positionAlign = a.get("positionAlign", {
                start: "start",
                left: "start",
                center: "center",
                middle: "center",
                end: "end",
                right: "end"
            }, t.align)
        }(t, e)
    }
    ((l.prototype = r(Error.prototype)).constructor = l).Errors = {
        BadSignature: {
            code: 0,
            message: "Malformed WebVTT signature."
        },
        BadTimeStamp: {
            code: 1,
            message: "Malformed time stamp."
        }
    },
    u.prototype = {
        set: function(e, t) {
            this.get(e) || "" === t || (this.values[e] = t)
        },
        get: function(e, t, n) {
            return n ? this.has(e) ? this.values[e] : t[n] : this.has(e) ? this.values[e] : t
        },
        has: function(e) {
            return e in this.values
        },
        alt: function(e, t, n) {
            for (var i = 0; i < n.length; ++i)
                if (t === n[i]) {
                    this.set(e, t);
                    break
                }
        },
        integer: function(e, t) {
            /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
        },
        percent: function(e, t) {
            return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && 0 <= (t = parseFloat(t)) && t <= 100) && (this.set(e, t),
            !0)
        }
    };
    var g = i.createElement && i.createElement("textarea")
      , v = {
        c: "span",
        i: "i",
        b: "b",
        u: "u",
        ruby: "ruby",
        rt: "rt",
        v: "span",
        lang: "span"
    }
      , y = {
        white: "rgba(255,255,255,1)",
        lime: "rgba(0,255,0,1)",
        cyan: "rgba(0,255,255,1)",
        red: "rgba(255,0,0,1)",
        yellow: "rgba(255,255,0,1)",
        magenta: "rgba(255,0,255,1)",
        blue: "rgba(0,0,255,1)",
        black: "rgba(0,0,0,1)"
    }
      , b = {
        v: "title",
        lang: "lang"
    }
      , _ = {
        rt: "ruby"
    };
    function o(a, n) {
        function e() {
            if (!n)
                return null;
            var e, t = n.match(/^([^<]*)(<[^>]*>?)?/);
            return e = t[1] ? t[1] : t[2],
            n = n.substr(e.length),
            e
        }
        function t(e, t) {
            var n = v[e];
            if (!n)
                return null;
            var i = a.document.createElement(n)
              , r = b[e];
            return r && t && (i[r] = t.trim()),
            i
        }
        for (var i, r, o, s, l = a.document.createElement("div"), u = l, c = []; null !== (i = e()); )
            if ("<" !== i[0])
                u.appendChild(a.document.createTextNode((r = i,
                g.innerHTML = r,
                r = g.textContent,
                g.textContent = "",
                r)));
            else {
                if ("/" === i[1]) {
                    c.length && c[c.length - 1] === i.substr(2).replace(">", "") && (c.pop(),
                    u = u.parentNode);
                    continue
                }
                var h, d = m(i.substr(1, i.length - 2));
                if (d) {
                    h = a.document.createProcessingInstruction("timestamp", d),
                    u.appendChild(h);
                    continue
                }
                var p = i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                if (!p)
                    continue;
                if (!(h = t(p[1], p[3])))
                    continue;
                if (o = u,
                _[(s = h).localName] && _[s.localName] !== o.localName)
                    continue;
                if (p[2]) {
                    var f = p[2].split(".");
                    f.forEach(function(e) {
                        var t = /^bg_/.test(e)
                          , n = t ? e.slice(3) : e;
                        if (y.hasOwnProperty(n)) {
                            var i = t ? "background-color" : "color"
                              , r = y[n];
                            h.style[i] = r
                        }
                    }),
                    h.className = f.join(" ")
                }
                c.push(p[1]),
                u.appendChild(h),
                u = h
            }
        return l
    }
    var s = [[1470, 1470], [1472, 1472], [1475, 1475], [1478, 1478], [1488, 1514], [1520, 1524], [1544, 1544], [1547, 1547], [1549, 1549], [1563, 1563], [1566, 1610], [1645, 1647], [1649, 1749], [1765, 1766], [1774, 1775], [1786, 1805], [1807, 1808], [1810, 1839], [1869, 1957], [1969, 1969], [1984, 2026], [2036, 2037], [2042, 2042], [2048, 2069], [2074, 2074], [2084, 2084], [2088, 2088], [2096, 2110], [2112, 2136], [2142, 2142], [2208, 2208], [2210, 2220], [8207, 8207], [64285, 64285], [64287, 64296], [64298, 64310], [64312, 64316], [64318, 64318], [64320, 64321], [64323, 64324], [64326, 64449], [64467, 64829], [64848, 64911], [64914, 64967], [65008, 65020], [65136, 65140], [65142, 65276], [67584, 67589], [67592, 67592], [67594, 67637], [67639, 67640], [67644, 67644], [67647, 67669], [67671, 67679], [67840, 67867], [67872, 67897], [67903, 67903], [67968, 68023], [68030, 68031], [68096, 68096], [68112, 68115], [68117, 68119], [68121, 68147], [68160, 68167], [68176, 68184], [68192, 68223], [68352, 68405], [68416, 68437], [68440, 68466], [68472, 68479], [68608, 68680], [126464, 126467], [126469, 126495], [126497, 126498], [126500, 126500], [126503, 126503], [126505, 126514], [126516, 126519], [126521, 126521], [126523, 126523], [126530, 126530], [126535, 126535], [126537, 126537], [126539, 126539], [126541, 126543], [126545, 126546], [126548, 126548], [126551, 126551], [126553, 126553], [126555, 126555], [126557, 126557], [126559, 126559], [126561, 126562], [126564, 126564], [126567, 126570], [126572, 126578], [126580, 126583], [126585, 126588], [126590, 126590], [126592, 126601], [126603, 126619], [126625, 126627], [126629, 126633], [126635, 126651], [1114109, 1114109]];
    function d(e) {
        for (var t = 0; t < s.length; t++) {
            var n = s[t];
            if (e >= n[0] && e <= n[1])
                return !0
        }
        return !1
    }
    function p() {}
    function f(e, t, n) {
        p.call(this),
        this.cue = t,
        this.cueDiv = o(e, t.text);
        var i = {
            color: "rgba(255, 255, 255, 1)",
            backgroundColor: "rgba(0, 0, 0, 0.8)",
            position: "relative",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            display: "inline",
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext"
        };
        this.applyStyles(i, this.cueDiv),
        this.div = e.document.createElement("div"),
        i = {
            direction: function(e) {
                var t = []
                  , n = "";
                if (!e || !e.childNodes)
                    return "ltr";
                function r(e, t) {
                    for (var n = t.childNodes.length - 1; 0 <= n; n--)
                        e.push(t.childNodes[n])
                }
                function a(e) {
                    if (!e || !e.length)
                        return null;
                    var t = e.pop()
                      , n = t.textContent || t.innerText;
                    if (n) {
                        var i = n.match(/^.*(\n|\r)/);
                        return i ? i[e.length = 0] : n
                    }
                    return "ruby" === t.tagName ? a(e) : t.childNodes ? (r(e, t),
                    a(e)) : void 0
                }
                for (r(t, e); n = a(t); )
                    for (var i = 0; i < n.length; i++)
                        if (d(n.charCodeAt(i)))
                            return "rtl";
                return "ltr"
            }(this.cueDiv),
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext",
            textAlign: "middle" === t.align ? "center" : t.align,
            font: n.font,
            whiteSpace: "pre-line",
            position: "absolute"
        },
        this.applyStyles(i),
        this.div.appendChild(this.cueDiv);
        var r = 0;
        switch (t.positionAlign) {
        case "start":
            r = t.position;
            break;
        case "center":
            r = t.position - t.size / 2;
            break;
        case "end":
            r = t.position - t.size
        }
        "" === t.vertical ? this.applyStyles({
            left: this.formatStyle(r, "%"),
            width: this.formatStyle(t.size, "%")
        }) : this.applyStyles({
            top: this.formatStyle(r, "%"),
            height: this.formatStyle(t.size, "%")
        }),
        this.move = function(e) {
            this.applyStyles({
                top: this.formatStyle(e.top, "px"),
                bottom: this.formatStyle(e.bottom, "px"),
                left: this.formatStyle(e.left, "px"),
                right: this.formatStyle(e.right, "px"),
                height: this.formatStyle(e.height, "px"),
                width: this.formatStyle(e.width, "px")
            })
        }
    }
    function w(e) {
        var t, n, i, r;
        if (e.div) {
            n = e.div.offsetHeight,
            i = e.div.offsetWidth,
            r = e.div.offsetTop;
            var a = (a = e.div.childNodes) && (a = a[0]) && a.getClientRects && a.getClientRects();
            e = e.div.getBoundingClientRect(),
            t = a ? Math.max(a[0] && a[0].height || 0, e.height / a.length) : 0
        }
        this.left = e.left,
        this.right = e.right,
        this.top = e.top || r,
        this.height = e.height || n,
        this.bottom = e.bottom || r + (e.height || n),
        this.width = e.width || i,
        this.lineHeight = void 0 !== t ? t : e.lineHeight
    }
    function x(e, t, s, l) {
        var n = new w(t)
          , i = t.cue
          , r = function(e) {
            if ("number" == typeof e.line && (e.snapToLines || 0 <= e.line && e.line <= 100))
                return e.line;
            if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement)
                return -1;
            for (var t = e.track, n = t.textTrackList, i = 0, r = 0; r < n.length && n[r] !== t; r++)
                "showing" === n[r].mode && i++;
            return -1 * ++i
        }(i)
          , a = [];
        if (i.snapToLines) {
            var o;
            switch (i.vertical) {
            case "":
                a = ["+y", "-y"],
                o = "height";
                break;
            case "rl":
                a = ["+x", "-x"],
                o = "width";
                break;
            case "lr":
                a = ["-x", "+x"],
                o = "width"
            }
            var u = n.lineHeight
              , c = u * Math.round(r)
              , h = s[o] + u
              , d = a[0];
            Math.abs(c) > h && (c = c < 0 ? -1 : 1,
            c *= Math.ceil(h / u) * u),
            r < 0 && (c += "" === i.vertical ? s.height : s.width,
            a = a.reverse()),
            n.move(d, c)
        } else {
            var p = n.lineHeight / s.height * 100;
            switch (i.lineAlign) {
            case "center":
                r -= p / 2;
                break;
            case "end":
                r -= p
            }
            switch (i.vertical) {
            case "":
                t.applyStyles({
                    top: t.formatStyle(r, "%")
                });
                break;
            case "rl":
                t.applyStyles({
                    left: t.formatStyle(r, "%")
                });
                break;
            case "lr":
                t.applyStyles({
                    right: t.formatStyle(r, "%")
                })
            }
            a = ["+y", "-x", "+x", "-y"],
            n = new w(t)
        }
        var f = function(e, t) {
            for (var n, i = new w(e), r = 1, a = 0; a < t.length; a++) {
                for (; e.overlapsOppositeAxis(s, t[a]) || e.within(s) && e.overlapsAny(l); )
                    e.move(t[a]);
                if (e.within(s))
                    return e;
                var o = e.intersectPercentage(s);
                o < r && (n = new w(e),
                r = o),
                e = new w(i)
            }
            return n || i
        }(n, a);
        t.move(f.toCSSCompatValues(s))
    }
    function T() {}
    p.prototype.applyStyles = function(e, t) {
        for (var n in t = t || this.div,
        e)
            e.hasOwnProperty(n) && (t.style[n] = e[n])
    }
    ,
    p.prototype.formatStyle = function(e, t) {
        return 0 === e ? 0 : e + t
    }
    ,
    (f.prototype = r(p.prototype)).constructor = f,
    w.prototype.move = function(e, t) {
        switch (t = void 0 !== t ? t : this.lineHeight,
        e) {
        case "+x":
            this.left += t,
            this.right += t;
            break;
        case "-x":
            this.left -= t,
            this.right -= t;
            break;
        case "+y":
            this.top += t,
            this.bottom += t;
            break;
        case "-y":
            this.top -= t,
            this.bottom -= t
        }
    }
    ,
    w.prototype.overlaps = function(e) {
        return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top
    }
    ,
    w.prototype.overlapsAny = function(e) {
        for (var t = 0; t < e.length; t++)
            if (this.overlaps(e[t]))
                return !0;
        return !1
    }
    ,
    w.prototype.within = function(e) {
        return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right
    }
    ,
    w.prototype.overlapsOppositeAxis = function(e, t) {
        switch (t) {
        case "+x":
            return this.left < e.left;
        case "-x":
            return this.right > e.right;
        case "+y":
            return this.top < e.top;
        case "-y":
            return this.bottom > e.bottom
        }
    }
    ,
    w.prototype.intersectPercentage = function(e) {
        return Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)) / (this.height * this.width)
    }
    ,
    w.prototype.toCSSCompatValues = function(e) {
        return {
            top: this.top - e.top,
            bottom: e.bottom - this.bottom,
            left: this.left - e.left,
            right: e.right - this.right,
            height: this.height,
            width: this.width
        }
    }
    ,
    w.getSimpleBoxPosition = function(e) {
        var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0
          , n = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0
          , i = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
        return {
            left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e).left,
            right: e.right,
            top: e.top || i,
            height: e.height || t,
            bottom: e.bottom || i + (e.height || t),
            width: e.width || n
        }
    }
    ,
    T.StringDecoder = function() {
        return {
            decode: function(e) {
                if (!e)
                    return "";
                if ("string" != typeof e)
                    throw new Error("Error - expected string data.");
                return decodeURIComponent(encodeURIComponent(e))
            }
        }
    }
    ,
    T.convertCueToDOMTree = function(e, t) {
        return e && t ? o(e, t) : null
    }
    ;
    T.processCues = function(i, r, e) {
        if (!i || !r || !e)
            return null;
        for (; e.firstChild; )
            e.removeChild(e.firstChild);
        var a = i.document.createElement("div");
        if (a.style.position = "absolute",
        a.style.left = "0",
        a.style.right = "0",
        a.style.top = "0",
        a.style.bottom = "0",
        a.style.margin = "1.5%",
        e.appendChild(a),
        function(e) {
            for (var t = 0; t < e.length; t++)
                if (e[t].hasBeenReset || !e[t].displayState)
                    return !0;
            return !1
        }(r)) {
            var o = []
              , s = w.getSimpleBoxPosition(a)
              , l = {
                font: Math.round(.05 * s.height * 100) / 100 + "px sans-serif"
            };
            !function() {
                for (var e, t, n = 0; n < r.length; n++)
                    t = r[n],
                    e = new f(i,t,l),
                    a.appendChild(e.div),
                    x(0, e, s, o),
                    t.displayState = e.div,
                    o.push(w.getSimpleBoxPosition(e))
            }()
        } else
            for (var t = 0; t < r.length; t++)
                a.appendChild(r[t].displayState)
    }
    ,
    (T.Parser = function(e, t, n) {
        n || (n = t,
        t = {}),
        t = t || {},
        this.window = e,
        this.vttjs = t,
        this.state = "INITIAL",
        this.buffer = "",
        this.decoder = n || new TextDecoder("utf8"),
        this.regionList = []
    }
    ).prototype = {
        reportOrThrowError: function(e) {
            if (!(e instanceof l))
                throw e;
            this.onparsingerror && this.onparsingerror(e)
        },
        parse: function(e) {
            var i = this;
            function t() {
                for (var e = i.buffer, t = 0; t < e.length && "\r" !== e[t] && "\n" !== e[t]; )
                    ++t;
                var n = e.substr(0, t);
                return "\r" === e[t] && ++t,
                "\n" === e[t] && ++t,
                i.buffer = e.substr(t),
                n
            }
            function n(e) {
                e.match(/X-TIMESTAMP-MAP/) ? c(e, function(e, t) {
                    switch (e) {
                    case "X-TIMESTAMP-MAP":
                        !function(e) {
                            var n = new u;
                            c(e, function(e, t) {
                                switch (e) {
                                case "MPEGT":
                                    n.integer(e + "S", t);
                                    break;
                                case "LOCA":
                                    n.set(e + "L", m(t))
                                }
                            }, /[^\d]:/, /,/),
                            i.ontimestampmap && i.ontimestampmap({
                                MPEGTS: n.get("MPEGTS"),
                                LOCAL: n.get("LOCAL")
                            })
                        }(t)
                    }
                }, /=/) : c(e, function(e, t) {
                    switch (e) {
                    case "Region":
                        !function(e) {
                            var r = new u;
                            if (c(e, function(e, t) {
                                switch (e) {
                                case "id":
                                    r.set(e, t);
                                    break;
                                case "width":
                                    r.percent(e, t);
                                    break;
                                case "lines":
                                    r.integer(e, t);
                                    break;
                                case "regionanchor":
                                case "viewportanchor":
                                    var n = t.split(",");
                                    if (2 !== n.length)
                                        break;
                                    var i = new u;
                                    if (i.percent("x", n[0]),
                                    i.percent("y", n[1]),
                                    !i.has("x") || !i.has("y"))
                                        break;
                                    r.set(e + "X", i.get("x")),
                                    r.set(e + "Y", i.get("y"));
                                    break;
                                case "scroll":
                                    r.alt(e, t, ["up"])
                                }
                            }, /=/, /\s/),
                            r.has("id")) {
                                var t = new (i.vttjs.VTTRegion || i.window.VTTRegion);
                                t.width = r.get("width", 100),
                                t.lines = r.get("lines", 3),
                                t.regionAnchorX = r.get("regionanchorX", 0),
                                t.regionAnchorY = r.get("regionanchorY", 100),
                                t.viewportAnchorX = r.get("viewportanchorX", 0),
                                t.viewportAnchorY = r.get("viewportanchorY", 100),
                                t.scroll = r.get("scroll", ""),
                                i.onregion && i.onregion(t),
                                i.regionList.push({
                                    id: r.get("id"),
                                    region: t
                                })
                            }
                        }(t)
                    }
                }, /:/)
            }
            e && (i.buffer += i.decoder.decode(e, {
                stream: !0
            }));
            try {
                var r;
                if ("INITIAL" === i.state) {
                    if (!/\r\n|\n/.test(i.buffer))
                        return this;
                    var a = (r = t()).match(/^WEBVTT([ \t].*)?$/);
                    if (!a || !a[0])
                        throw new l(l.Errors.BadSignature);
                    i.state = "HEADER"
                }
                for (var o = !1; i.buffer; ) {
                    if (!/\r\n|\n/.test(i.buffer))
                        return this;
                    switch (o ? o = !1 : r = t(),
                    i.state) {
                    case "HEADER":
                        /:/.test(r) ? n(r) : r || (i.state = "ID");
                        continue;
                    case "NOTE":
                        r || (i.state = "ID");
                        continue;
                    case "ID":
                        if (/^NOTE($|[ \t])/.test(r)) {
                            i.state = "NOTE";
                            break
                        }
                        if (!r)
                            continue;
                        i.cue = new (i.vttjs.VTTCue || i.window.VTTCue)(0,0,"");
                        try {
                            i.cue.align = "center"
                        } catch (e) {
                            i.cue.align = "middle"
                        }
                        if (i.state = "CUE",
                        -1 === r.indexOf("--\x3e")) {
                            i.cue.id = r;
                            continue
                        }
                    case "CUE":
                        try {
                            h(r, i.cue, i.regionList)
                        } catch (e) {
                            i.reportOrThrowError(e),
                            i.cue = null,
                            i.state = "BADCUE";
                            continue
                        }
                        i.state = "CUETEXT";
                        continue;
                    case "CUETEXT":
                        var s = -1 !== r.indexOf("--\x3e");
                        if (!r || s && (o = !0)) {
                            i.oncue && i.oncue(i.cue),
                            i.cue = null,
                            i.state = "ID";
                            continue
                        }
                        i.cue.text && (i.cue.text += "\n"),
                        i.cue.text += r.replace(/\u2028/g, "\n").replace(/u2029/g, "\n");
                        continue;
                    case "BADCUE":
                        r || (i.state = "ID");
                        continue
                    }
                }
            } catch (e) {
                i.reportOrThrowError(e),
                "CUETEXT" === i.state && i.cue && i.oncue && i.oncue(i.cue),
                i.cue = null,
                i.state = "INITIAL" === i.state ? "BADWEBVTT" : "BADCUE"
            }
            return this
        },
        flush: function() {
            var t = this;
            try {
                if (t.buffer += t.decoder.decode(),
                !t.cue && "HEADER" !== t.state || (t.buffer += "\n\n",
                t.parse()),
                "INITIAL" === t.state)
                    throw new l(l.Errors.BadSignature)
            } catch (e) {
                t.reportOrThrowError(e)
            }
            return t.onflush && t.onflush(),
            this
        }
    },
    e.exports = T
}
, function(e, t) {
    var v = {
        "": 1,
        lr: 1,
        rl: 1
    }
      , n = {
        start: 1,
        center: 1,
        end: 1,
        left: 1,
        right: 1,
        auto: 1,
        "line-left": 1,
        "line-right": 1
    };
    function y(e) {
        return "string" == typeof e && (!!n[e.toLowerCase()] && e.toLowerCase())
    }
    function i(e, t, n) {
        this.hasBeenReset = !1;
        var i = ""
          , r = !1
          , a = e
          , o = t
          , s = n
          , l = null
          , u = ""
          , c = !0
          , h = "auto"
          , d = "start"
          , p = "auto"
          , f = "auto"
          , m = 100
          , g = "center";
        Object.defineProperties(this, {
            id: {
                enumerable: !0,
                get: function() {
                    return i
                },
                set: function(e) {
                    i = "" + e
                }
            },
            pauseOnExit: {
                enumerable: !0,
                get: function() {
                    return r
                },
                set: function(e) {
                    r = !!e
                }
            },
            startTime: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("Start time must be set to a number.");
                    a = e,
                    this.hasBeenReset = !0
                }
            },
            endTime: {
                enumerable: !0,
                get: function() {
                    return o
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("End time must be set to a number.");
                    o = e,
                    this.hasBeenReset = !0
                }
            },
            text: {
                enumerable: !0,
                get: function() {
                    return s
                },
                set: function(e) {
                    s = "" + e,
                    this.hasBeenReset = !0
                }
            },
            region: {
                enumerable: !0,
                get: function() {
                    return l
                },
                set: function(e) {
                    l = e,
                    this.hasBeenReset = !0
                }
            },
            vertical: {
                enumerable: !0,
                get: function() {
                    return u
                },
                set: function(e) {
                    var t = function(e) {
                        return "string" == typeof e && (!!v[e.toLowerCase()] && e.toLowerCase())
                    }(e);
                    if (!1 === t)
                        throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");
                    u = t,
                    this.hasBeenReset = !0
                }
            },
            snapToLines: {
                enumerable: !0,
                get: function() {
                    return c
                },
                set: function(e) {
                    c = !!e,
                    this.hasBeenReset = !0
                }
            },
            line: {
                enumerable: !0,
                get: function() {
                    return h
                },
                set: function(e) {
                    if ("number" != typeof e && "auto" !== e)
                        throw new SyntaxError("Line: an invalid number or illegal string was specified.");
                    h = e,
                    this.hasBeenReset = !0
                }
            },
            lineAlign: {
                enumerable: !0,
                get: function() {
                    return d
                },
                set: function(e) {
                    var t = y(e);
                    t ? (d = t,
                    this.hasBeenReset = !0) : console.warn("lineAlign: an invalid or illegal string was specified.")
                }
            },
            position: {
                enumerable: !0,
                get: function() {
                    return p
                },
                set: function(e) {
                    if (e < 0 || 100 < e)
                        throw new Error("Position must be between 0 and 100.");
                    p = e,
                    this.hasBeenReset = !0
                }
            },
            positionAlign: {
                enumerable: !0,
                get: function() {
                    return f
                },
                set: function(e) {
                    var t = y(e);
                    t ? (f = t,
                    this.hasBeenReset = !0) : console.warn("positionAlign: an invalid or illegal string was specified.")
                }
            },
            size: {
                enumerable: !0,
                get: function() {
                    return m
                },
                set: function(e) {
                    if (e < 0 || 100 < e)
                        throw new Error("Size must be between 0 and 100.");
                    m = e,
                    this.hasBeenReset = !0
                }
            },
            align: {
                enumerable: !0,
                get: function() {
                    return g
                },
                set: function(e) {
                    var t = y(e);
                    if (!t)
                        throw new SyntaxError("align: an invalid or illegal alignment string was specified.");
                    g = t,
                    this.hasBeenReset = !0
                }
            }
        }),
        this.displayState = void 0
    }
    i.prototype.getCueAsHTML = function() {
        return WebVTT.convertCueToDOMTree(window, this.text)
    }
    ,
    e.exports = i
}
, function(e, t) {
    var l = {
        "": !0,
        up: !0
    };
    function u(e) {
        return "number" == typeof e && 0 <= e && e <= 100
    }
    e.exports = function() {
        var t = 100
          , n = 3
          , i = 0
          , r = 100
          , a = 0
          , o = 100
          , s = "";
        Object.defineProperties(this, {
            width: {
                enumerable: !0,
                get: function() {
                    return t
                },
                set: function(e) {
                    if (!u(e))
                        throw new Error("Width must be between 0 and 100.");
                    t = e
                }
            },
            lines: {
                enumerable: !0,
                get: function() {
                    return n
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("Lines must be set to a number.");
                    n = e
                }
            },
            regionAnchorY: {
                enumerable: !0,
                get: function() {
                    return r
                },
                set: function(e) {
                    if (!u(e))
                        throw new Error("RegionAnchorX must be between 0 and 100.");
                    r = e
                }
            },
            regionAnchorX: {
                enumerable: !0,
                get: function() {
                    return i
                },
                set: function(e) {
                    if (!u(e))
                        throw new Error("RegionAnchorY must be between 0 and 100.");
                    i = e
                }
            },
            viewportAnchorY: {
                enumerable: !0,
                get: function() {
                    return o
                },
                set: function(e) {
                    if (!u(e))
                        throw new Error("ViewportAnchorY must be between 0 and 100.");
                    o = e
                }
            },
            viewportAnchorX: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    if (!u(e))
                        throw new Error("ViewportAnchorX must be between 0 and 100.");
                    a = e
                }
            },
            scroll: {
                enumerable: !0,
                get: function() {
                    return s
                },
                set: function(e) {
                    var t = function(e) {
                        return "string" == typeof e && (!!l[e.toLowerCase()] && e.toLowerCase())
                    }(e);
                    !1 === t ? console.warn("Scroll: an invalid or illegal string was specified.") : s = t
                }
            }
        })
    }
}
, function(i, e, t) {
    var a = t(152)
      , r = t(575);
    function o(e, t, n) {
        return r() ? i.exports = o = Reflect.construct : i.exports = o = function(e, t, n) {
            var i = [null];
            i.push.apply(i, t);
            var r = new (Function.bind.apply(e, i));
            return n && a(r, n.prototype),
            r
        }
        ,
        i.exports.default = i.exports,
        i.exports.__esModule = !0,
        o.apply(null, arguments)
    }
    i.exports = o,
    i.exports.default = i.exports,
    i.exports.__esModule = !0
}
, function(e, t) {
    e.exports = function() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
            !0
        } catch (e) {
            return !1
        }
    }
    ,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t, n) {
    var i = n(152);
    e.exports = function(e, t) {
        if ("function" != typeof t && null !== t)
            throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }),
        t && i(e, t)
    }
    ,
    e.exports.default = e.exports,
    e.exports.__esModule = !0
}
, function(e, t, n) {
    "use strict";
    var i = n(153);
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    function r(e, t) {
        if (/^[a-z]+:/i.test(t))
            return t;
        /^data:/.test(e) && (e = s.default.location && s.default.location.href || "");
        var n = "function" == typeof s.default.URL
          , i = /^\/\//.test(e)
          , r = !s.default.location && !/\/\//i.test(e);
        if (n ? e = new s.default.URL(e,s.default.location || l) : /\/\//i.test(e) || (e = o.default.buildAbsoluteURL(s.default.location && s.default.location.href || "", e)),
        n) {
            var a = new URL(t,e);
            return r ? a.href.slice(l.length) : i ? a.href.slice(a.protocol.length) : a.href
        }
        return o.default.buildAbsoluteURL(e, t)
    }
    var o = i(n(104))
      , s = i(n(17))
      , l = "http://example.com";
    t.default = r,
    e.exports = t.default
}
, function(e, F, B) {
    "use strict";
    (function(e) {
        /*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
        var i = B(579)
          , a = B(580)
          , o = B(581);
        function n() {
            return h.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }
        function s(e, t) {
            if (n() < t)
                throw new RangeError("Invalid typed array length");
            return h.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = h.prototype : (null === e && (e = new h(t)),
            e.length = t),
            e
        }
        function h(e, t, n) {
            if (!(h.TYPED_ARRAY_SUPPORT || this instanceof h))
                return new h(e,t,n);
            if ("number" != typeof e)
                return r(this, e, t, n);
            if ("string" == typeof t)
                throw new Error("If encoding is specified then the first argument must be a string");
            return u(this, e)
        }
        function r(e, t, n, i) {
            if ("number" == typeof t)
                throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, i) {
                if (t.byteLength,
                n < 0 || t.byteLength < n)
                    throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < n + (i || 0))
                    throw new RangeError("'length' is out of bounds");
                t = void 0 === n && void 0 === i ? new Uint8Array(t) : void 0 === i ? new Uint8Array(t,n) : new Uint8Array(t,n,i);
                h.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = h.prototype : e = c(e, t);
                return e
            }(e, t, n, i) : "string" == typeof t ? function(e, t, n) {
                "string" == typeof n && "" !== n || (n = "utf8");
                if (!h.isEncoding(n))
                    throw new TypeError('"encoding" must be a valid string encoding');
                var i = 0 | p(t, n)
                  , r = (e = s(e, i)).write(t, n);
                r !== i && (e = e.slice(0, r));
                return e
            }(e, t, n) : function(e, t) {
                if (h.isBuffer(t)) {
                    var n = 0 | d(t.length);
                    return 0 === (e = s(e, n)).length || t.copy(e, 0, 0, n),
                    e
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length"in t)
                        return "number" != typeof t.length || function(e) {
                            return e != e
                        }(t.length) ? s(e, 0) : c(e, t);
                    if ("Buffer" === t.type && o(t.data))
                        return c(e, t.data)
                }
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }
        function l(e) {
            if ("number" != typeof e)
                throw new TypeError('"size" argument must be a number');
            if (e < 0)
                throw new RangeError('"size" argument must not be negative')
        }
        function u(e, t) {
            if (l(t),
            e = s(e, t < 0 ? 0 : 0 | d(t)),
            !h.TYPED_ARRAY_SUPPORT)
                for (var n = 0; n < t; ++n)
                    e[n] = 0;
            return e
        }
        function c(e, t) {
            var n = t.length < 0 ? 0 : 0 | d(t.length);
            e = s(e, n);
            for (var i = 0; i < n; i += 1)
                e[i] = 255 & t[i];
            return e
        }
        function d(e) {
            if (e >= n())
                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + n().toString(16) + " bytes");
            return 0 | e
        }
        function p(e, t) {
            if (h.isBuffer(e))
                return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer))
                return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var n = e.length;
            if (0 === n)
                return 0;
            for (var i = !1; ; )
                switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return n;
                case "utf8":
                case "utf-8":
                case void 0:
                    return R(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * n;
                case "hex":
                    return n >>> 1;
                case "base64":
                    return D(e).length;
                default:
                    if (i)
                        return R(e).length;
                    t = ("" + t).toLowerCase(),
                    i = !0
                }
        }
        function f(e, t, n) {
            var i = e[t];
            e[t] = e[n],
            e[n] = i
        }
        function m(e, t, n, i, r) {
            if (0 === e.length)
                return -1;
            if ("string" == typeof n ? (i = n,
            n = 0) : 2147483647 < n ? n = 2147483647 : n < -2147483648 && (n = -2147483648),
            n = +n,
            isNaN(n) && (n = r ? 0 : e.length - 1),
            n < 0 && (n = e.length + n),
            n >= e.length) {
                if (r)
                    return -1;
                n = e.length - 1
            } else if (n < 0) {
                if (!r)
                    return -1;
                n = 0
            }
            if ("string" == typeof t && (t = h.from(t, i)),
            h.isBuffer(t))
                return 0 === t.length ? -1 : g(e, t, n, i, r);
            if ("number" == typeof t)
                return t &= 255,
                h.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : g(e, [t], n, i, r);
            throw new TypeError("val must be string, number or Buffer")
        }
        function g(e, t, n, i, r) {
            var a, o = 1, s = e.length, l = t.length;
            if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
                if (e.length < 2 || t.length < 2)
                    return -1;
                s /= o = 2,
                l /= 2,
                n /= 2
            }
            function u(e, t) {
                return 1 === o ? e[t] : e.readUInt16BE(t * o)
            }
            if (r) {
                var c = -1;
                for (a = n; a < s; a++)
                    if (u(e, a) === u(t, -1 === c ? 0 : a - c)) {
                        if (-1 === c && (c = a),
                        a - c + 1 === l)
                            return c * o
                    } else
                        -1 !== c && (a -= a - c),
                        c = -1
            } else
                for (s < n + l && (n = s - l),
                a = n; 0 <= a; a--) {
                    for (var h = !0, d = 0; d < l; d++)
                        if (u(e, a + d) !== u(t, d)) {
                            h = !1;
                            break
                        }
                    if (h)
                        return a
                }
            return -1
        }
        function v(e, t, n, i) {
            n = Number(n) || 0;
            var r = e.length - n;
            i ? r < (i = Number(i)) && (i = r) : i = r;
            var a = t.length;
            if (a % 2 != 0)
                throw new TypeError("Invalid hex string");
            a / 2 < i && (i = a / 2);
            for (var o = 0; o < i; ++o) {
                var s = parseInt(t.substr(2 * o, 2), 16);
                if (isNaN(s))
                    return o;
                e[n + o] = s
            }
            return o
        }
        function y(e, t, n, i) {
            return N(function(e) {
                for (var t = [], n = 0; n < e.length; ++n)
                    t.push(255 & e.charCodeAt(n));
                return t
            }(t), e, n, i)
        }
        function b(e, t, n) {
            return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n))
        }
        function _(e, t, n) {
            n = Math.min(e.length, n);
            for (var i = [], r = t; r < n; ) {
                var a, o, s, l, u = e[r], c = null, h = 239 < u ? 4 : 223 < u ? 3 : 191 < u ? 2 : 1;
                if (r + h <= n)
                    switch (h) {
                    case 1:
                        u < 128 && (c = u);
                        break;
                    case 2:
                        128 == (192 & (a = e[r + 1])) && 127 < (l = (31 & u) << 6 | 63 & a) && (c = l);
                        break;
                    case 3:
                        a = e[r + 1],
                        o = e[r + 2],
                        128 == (192 & a) && 128 == (192 & o) && 2047 < (l = (15 & u) << 12 | (63 & a) << 6 | 63 & o) && (l < 55296 || 57343 < l) && (c = l);
                        break;
                    case 4:
                        a = e[r + 1],
                        o = e[r + 2],
                        s = e[r + 3],
                        128 == (192 & a) && 128 == (192 & o) && 128 == (192 & s) && 65535 < (l = (15 & u) << 18 | (63 & a) << 12 | (63 & o) << 6 | 63 & s) && l < 1114112 && (c = l)
                    }
                null === c ? (c = 65533,
                h = 1) : 65535 < c && (c -= 65536,
                i.push(c >>> 10 & 1023 | 55296),
                c = 56320 | 1023 & c),
                i.push(c),
                r += h
            }
            return function(e) {
                var t = e.length;
                if (t <= w)
                    return String.fromCharCode.apply(String, e);
                var n = ""
                  , i = 0;
                for (; i < t; )
                    n += String.fromCharCode.apply(String, e.slice(i, i += w));
                return n
            }(i)
        }
        F.Buffer = h,
        F.SlowBuffer = function(e) {
            +e != e && (e = 0);
            return h.alloc(+e)
        }
        ,
        F.INSPECT_MAX_BYTES = 50,
        h.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                },
                42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (e) {
                return !1
            }
        }(),
        F.kMaxLength = n(),
        h.poolSize = 8192,
        h._augment = function(e) {
            return e.__proto__ = h.prototype,
            e
        }
        ,
        h.from = function(e, t, n) {
            return r(null, e, t, n)
        }
        ,
        h.TYPED_ARRAY_SUPPORT && (h.prototype.__proto__ = Uint8Array.prototype,
        h.__proto__ = Uint8Array,
        "undefined" != typeof Symbol && Symbol.species && h[Symbol.species] === h && Object.defineProperty(h, Symbol.species, {
            value: null,
            configurable: !0
        })),
        h.alloc = function(e, t, n) {
            return function(e, t, n, i) {
                return l(t),
                t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof i ? s(e, t).fill(n, i) : s(e, t).fill(n) : s(e, t)
            }(null, e, t, n)
        }
        ,
        h.allocUnsafe = function(e) {
            return u(null, e)
        }
        ,
        h.allocUnsafeSlow = function(e) {
            return u(null, e)
        }
        ,
        h.isBuffer = function(e) {
            return !(null == e || !e._isBuffer)
        }
        ,
        h.compare = function(e, t) {
            if (!h.isBuffer(e) || !h.isBuffer(t))
                throw new TypeError("Arguments must be Buffers");
            if (e === t)
                return 0;
            for (var n = e.length, i = t.length, r = 0, a = Math.min(n, i); r < a; ++r)
                if (e[r] !== t[r]) {
                    n = e[r],
                    i = t[r];
                    break
                }
            return n < i ? -1 : i < n ? 1 : 0
        }
        ,
        h.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return !0;
            default:
                return !1
            }
        }
        ,
        h.concat = function(e, t) {
            if (!o(e))
                throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length)
                return h.alloc(0);
            var n;
            if (void 0 === t)
                for (n = t = 0; n < e.length; ++n)
                    t += e[n].length;
            var i = h.allocUnsafe(t)
              , r = 0;
            for (n = 0; n < e.length; ++n) {
                var a = e[n];
                if (!h.isBuffer(a))
                    throw new TypeError('"list" argument must be an Array of Buffers');
                a.copy(i, r),
                r += a.length
            }
            return i
        }
        ,
        h.byteLength = p,
        h.prototype._isBuffer = !0,
        h.prototype.swap16 = function() {
            var e = this.length;
            if (e % 2 != 0)
                throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2)
                f(this, t, t + 1);
            return this
        }
        ,
        h.prototype.swap32 = function() {
            var e = this.length;
            if (e % 4 != 0)
                throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4)
                f(this, t, t + 3),
                f(this, t + 1, t + 2);
            return this
        }
        ,
        h.prototype.swap64 = function() {
            var e = this.length;
            if (e % 8 != 0)
                throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8)
                f(this, t, t + 7),
                f(this, t + 1, t + 6),
                f(this, t + 2, t + 5),
                f(this, t + 3, t + 4);
            return this
        }
        ,
        h.prototype.toString = function() {
            var e = 0 | this.length;
            return 0 == e ? "" : 0 === arguments.length ? _(this, 0, e) : function(e, t, n) {
                var i = !1;
                if ((void 0 === t || t < 0) && (t = 0),
                t > this.length)
                    return "";
                if ((void 0 === n || n > this.length) && (n = this.length),
                n <= 0)
                    return "";
                if ((n >>>= 0) <= (t >>>= 0))
                    return "";
                for (e = e || "utf8"; ; )
                    switch (e) {
                    case "hex":
                        return S(this, t, n);
                    case "utf8":
                    case "utf-8":
                        return _(this, t, n);
                    case "ascii":
                        return x(this, t, n);
                    case "latin1":
                    case "binary":
                        return T(this, t, n);
                    case "base64":
                        return b(this, t, n);
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return E(this, t, n);
                    default:
                        if (i)
                            throw new TypeError("Unknown encoding: " + e);
                        e = (e + "").toLowerCase(),
                        i = !0
                    }
            }
            .apply(this, arguments)
        }
        ,
        h.prototype.equals = function(e) {
            if (!h.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === h.compare(this, e)
        }
        ,
        h.prototype.inspect = function() {
            var e = ""
              , t = F.INSPECT_MAX_BYTES;
            return 0 < this.length && (e = this.toString("hex", 0, t).match(/.{2}/g).join(" "),
            this.length > t && (e += " ... ")),
            "<Buffer " + e + ">"
        }
        ,
        h.prototype.compare = function(e, t, n, i, r) {
            if (!h.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0),
            void 0 === n && (n = e ? e.length : 0),
            void 0 === i && (i = 0),
            void 0 === r && (r = this.length),
            t < 0 || n > e.length || i < 0 || r > this.length)
                throw new RangeError("out of range index");
            if (r <= i && n <= t)
                return 0;
            if (r <= i)
                return -1;
            if (n <= t)
                return 1;
            if (this === e)
                return 0;
            for (var a = (r >>>= 0) - (i >>>= 0), o = (n >>>= 0) - (t >>>= 0), s = Math.min(a, o), l = this.slice(i, r), u = e.slice(t, n), c = 0; c < s; ++c)
                if (l[c] !== u[c]) {
                    a = l[c],
                    o = u[c];
                    break
                }
            return a < o ? -1 : o < a ? 1 : 0
        }
        ,
        h.prototype.includes = function(e, t, n) {
            return -1 !== this.indexOf(e, t, n)
        }
        ,
        h.prototype.indexOf = function(e, t, n) {
            return m(this, e, t, n, !0)
        }
        ,
        h.prototype.lastIndexOf = function(e, t, n) {
            return m(this, e, t, n, !1)
        }
        ,
        h.prototype.write = function(e, t, n, i) {
            if (void 0 === t)
                i = "utf8",
                n = this.length,
                t = 0;
            else if (void 0 === n && "string" == typeof t)
                i = t,
                n = this.length,
                t = 0;
            else {
                if (!isFinite(t))
                    throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0,
                isFinite(n) ? (n |= 0,
                void 0 === i && (i = "utf8")) : (i = n,
                n = void 0)
            }
            var r = this.length - t;
            if ((void 0 === n || r < n) && (n = r),
            0 < e.length && (n < 0 || t < 0) || t > this.length)
                throw new RangeError("Attempt to write outside buffer bounds");
            i = i || "utf8";
            for (var a, o, s, l, u, c, h, d, p, f = !1; ; )
                switch (i) {
                case "hex":
                    return v(this, e, t, n);
                case "utf8":
                case "utf-8":
                    return d = t,
                    p = n,
                    N(R(e, (h = this).length - d), h, d, p);
                case "ascii":
                    return y(this, e, t, n);
                case "latin1":
                case "binary":
                    return y(this, e, t, n);
                case "base64":
                    return l = this,
                    u = t,
                    c = n,
                    N(D(e), l, u, c);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return o = t,
                    s = n,
                    N(function(e, t) {
                        for (var n, i, r, a = [], o = 0; o < e.length && !((t -= 2) < 0); ++o)
                            n = e.charCodeAt(o),
                            i = n >> 8,
                            r = n % 256,
                            a.push(r),
                            a.push(i);
                        return a
                    }(e, (a = this).length - o), a, o, s);
                default:
                    if (f)
                        throw new TypeError("Unknown encoding: " + i);
                    i = ("" + i).toLowerCase(),
                    f = !0
                }
        }
        ,
        h.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        }
        ;
        var w = 4096;
        function x(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r)
                i += String.fromCharCode(127 & e[r]);
            return i
        }
        function T(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r)
                i += String.fromCharCode(e[r]);
            return i
        }
        function S(e, t, n) {
            var i = e.length;
            (!t || t < 0) && (t = 0),
            (!n || n < 0 || i < n) && (n = i);
            for (var r = "", a = t; a < n; ++a)
                r += O(e[a]);
            return r
        }
        function E(e, t, n) {
            for (var i = e.slice(t, n), r = "", a = 0; a < i.length; a += 2)
                r += String.fromCharCode(i[a] + 256 * i[a + 1]);
            return r
        }
        function C(e, t, n) {
            if (e % 1 != 0 || e < 0)
                throw new RangeError("offset is not uint");
            if (n < e + t)
                throw new RangeError("Trying to access beyond buffer length")
        }
        function M(e, t, n, i, r, a) {
            if (!h.isBuffer(e))
                throw new TypeError('"buffer" argument must be a Buffer instance');
            if (r < t || t < a)
                throw new RangeError('"value" argument is out of bounds');
            if (n + i > e.length)
                throw new RangeError("Index out of range")
        }
        function k(e, t, n, i) {
            t < 0 && (t = 65535 + t + 1);
            for (var r = 0, a = Math.min(e.length - n, 2); r < a; ++r)
                e[n + r] = (t & 255 << 8 * (i ? r : 1 - r)) >>> 8 * (i ? r : 1 - r)
        }
        function P(e, t, n, i) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var r = 0, a = Math.min(e.length - n, 4); r < a; ++r)
                e[n + r] = t >>> 8 * (i ? r : 3 - r) & 255
        }
        function A(e, t, n, i) {
            if (n + i > e.length)
                throw new RangeError("Index out of range");
            if (n < 0)
                throw new RangeError("Index out of range")
        }
        function I(e, t, n, i, r) {
            return r || A(e, 0, n, 4),
            a.write(e, t, n, i, 23, 4),
            n + 4
        }
        function L(e, t, n, i, r) {
            return r || A(e, 0, n, 8),
            a.write(e, t, n, i, 52, 8),
            n + 8
        }
        h.prototype.slice = function(e, t) {
            var n, i = this.length;
            if ((e = ~~e) < 0 ? (e += i) < 0 && (e = 0) : i < e && (e = i),
            (t = void 0 === t ? i : ~~t) < 0 ? (t += i) < 0 && (t = 0) : i < t && (t = i),
            t < e && (t = e),
            h.TYPED_ARRAY_SUPPORT)
                (n = this.subarray(e, t)).__proto__ = h.prototype;
            else {
                var r = t - e;
                n = new h(r,void 0);
                for (var a = 0; a < r; ++a)
                    n[a] = this[a + e]
            }
            return n
        }
        ,
        h.prototype.readUIntLE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || C(e, t, this.length);
            for (var i = this[e], r = 1, a = 0; ++a < t && (r *= 256); )
                i += this[e + a] * r;
            return i
        }
        ,
        h.prototype.readUIntBE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || C(e, t, this.length);
            for (var i = this[e + --t], r = 1; 0 < t && (r *= 256); )
                i += this[e + --t] * r;
            return i
        }
        ,
        h.prototype.readUInt8 = function(e, t) {
            return t || C(e, 1, this.length),
            this[e]
        }
        ,
        h.prototype.readUInt16LE = function(e, t) {
            return t || C(e, 2, this.length),
            this[e] | this[e + 1] << 8
        }
        ,
        h.prototype.readUInt16BE = function(e, t) {
            return t || C(e, 2, this.length),
            this[e] << 8 | this[e + 1]
        }
        ,
        h.prototype.readUInt32LE = function(e, t) {
            return t || C(e, 4, this.length),
            (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }
        ,
        h.prototype.readUInt32BE = function(e, t) {
            return t || C(e, 4, this.length),
            16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }
        ,
        h.prototype.readIntLE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || C(e, t, this.length);
            for (var i = this[e], r = 1, a = 0; ++a < t && (r *= 256); )
                i += this[e + a] * r;
            return (r *= 128) <= i && (i -= Math.pow(2, 8 * t)),
            i
        }
        ,
        h.prototype.readIntBE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || C(e, t, this.length);
            for (var i = t, r = 1, a = this[e + --i]; 0 < i && (r *= 256); )
                a += this[e + --i] * r;
            return (r *= 128) <= a && (a -= Math.pow(2, 8 * t)),
            a
        }
        ,
        h.prototype.readInt8 = function(e, t) {
            return t || C(e, 1, this.length),
            128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }
        ,
        h.prototype.readInt16LE = function(e, t) {
            t || C(e, 2, this.length);
            var n = this[e] | this[e + 1] << 8;
            return 32768 & n ? 4294901760 | n : n
        }
        ,
        h.prototype.readInt16BE = function(e, t) {
            t || C(e, 2, this.length);
            var n = this[e + 1] | this[e] << 8;
            return 32768 & n ? 4294901760 | n : n
        }
        ,
        h.prototype.readInt32LE = function(e, t) {
            return t || C(e, 4, this.length),
            this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }
        ,
        h.prototype.readInt32BE = function(e, t) {
            return t || C(e, 4, this.length),
            this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }
        ,
        h.prototype.readFloatLE = function(e, t) {
            return t || C(e, 4, this.length),
            a.read(this, e, !0, 23, 4)
        }
        ,
        h.prototype.readFloatBE = function(e, t) {
            return t || C(e, 4, this.length),
            a.read(this, e, !1, 23, 4)
        }
        ,
        h.prototype.readDoubleLE = function(e, t) {
            return t || C(e, 8, this.length),
            a.read(this, e, !0, 52, 8)
        }
        ,
        h.prototype.readDoubleBE = function(e, t) {
            return t || C(e, 8, this.length),
            a.read(this, e, !1, 52, 8)
        }
        ,
        h.prototype.writeUIntLE = function(e, t, n, i) {
            e = +e,
            t |= 0,
            n |= 0,
            i || M(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = 1
              , a = 0;
            for (this[t] = 255 & e; ++a < n && (r *= 256); )
                this[t + a] = e / r & 255;
            return t + n
        }
        ,
        h.prototype.writeUIntBE = function(e, t, n, i) {
            e = +e,
            t |= 0,
            n |= 0,
            i || M(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = n - 1
              , a = 1;
            for (this[t + r] = 255 & e; 0 <= --r && (a *= 256); )
                this[t + r] = e / a & 255;
            return t + n
        }
        ,
        h.prototype.writeUInt8 = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 1, 255, 0),
            h.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            this[t] = 255 & e,
            t + 1
        }
        ,
        h.prototype.writeUInt16LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 2, 65535, 0),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : k(this, e, t, !0),
            t + 2
        }
        ,
        h.prototype.writeUInt16BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 2, 65535, 0),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : k(this, e, t, !1),
            t + 2
        }
        ,
        h.prototype.writeUInt32LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 4, 4294967295, 0),
            h.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24,
            this[t + 2] = e >>> 16,
            this[t + 1] = e >>> 8,
            this[t] = 255 & e) : P(this, e, t, !0),
            t + 4
        }
        ,
        h.prototype.writeUInt32BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 4, 4294967295, 0),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : P(this, e, t, !1),
            t + 4
        }
        ,
        h.prototype.writeIntLE = function(e, t, n, i) {
            if (e = +e,
            t |= 0,
            !i) {
                var r = Math.pow(2, 8 * n - 1);
                M(this, e, t, n, r - 1, -r)
            }
            var a = 0
              , o = 1
              , s = 0;
            for (this[t] = 255 & e; ++a < n && (o *= 256); )
                e < 0 && 0 === s && 0 !== this[t + a - 1] && (s = 1),
                this[t + a] = (e / o >> 0) - s & 255;
            return t + n
        }
        ,
        h.prototype.writeIntBE = function(e, t, n, i) {
            if (e = +e,
            t |= 0,
            !i) {
                var r = Math.pow(2, 8 * n - 1);
                M(this, e, t, n, r - 1, -r)
            }
            var a = n - 1
              , o = 1
              , s = 0;
            for (this[t + a] = 255 & e; 0 <= --a && (o *= 256); )
                e < 0 && 0 === s && 0 !== this[t + a + 1] && (s = 1),
                this[t + a] = (e / o >> 0) - s & 255;
            return t + n
        }
        ,
        h.prototype.writeInt8 = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 1, 127, -128),
            h.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            e < 0 && (e = 255 + e + 1),
            this[t] = 255 & e,
            t + 1
        }
        ,
        h.prototype.writeInt16LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 2, 32767, -32768),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : k(this, e, t, !0),
            t + 2
        }
        ,
        h.prototype.writeInt16BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 2, 32767, -32768),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : k(this, e, t, !1),
            t + 2
        }
        ,
        h.prototype.writeInt32LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 4, 2147483647, -2147483648),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8,
            this[t + 2] = e >>> 16,
            this[t + 3] = e >>> 24) : P(this, e, t, !0),
            t + 4
        }
        ,
        h.prototype.writeInt32BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || M(this, e, t, 4, 2147483647, -2147483648),
            e < 0 && (e = 4294967295 + e + 1),
            h.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : P(this, e, t, !1),
            t + 4
        }
        ,
        h.prototype.writeFloatLE = function(e, t, n) {
            return I(this, e, t, !0, n)
        }
        ,
        h.prototype.writeFloatBE = function(e, t, n) {
            return I(this, e, t, !1, n)
        }
        ,
        h.prototype.writeDoubleLE = function(e, t, n) {
            return L(this, e, t, !0, n)
        }
        ,
        h.prototype.writeDoubleBE = function(e, t, n) {
            return L(this, e, t, !1, n)
        }
        ,
        h.prototype.copy = function(e, t, n, i) {
            if (n = n || 0,
            i || 0 === i || (i = this.length),
            t >= e.length && (t = e.length),
            t = t || 0,
            0 < i && i < n && (i = n),
            i === n)
                return 0;
            if (0 === e.length || 0 === this.length)
                return 0;
            if (t < 0)
                throw new RangeError("targetStart out of bounds");
            if (n < 0 || n >= this.length)
                throw new RangeError("sourceStart out of bounds");
            if (i < 0)
                throw new RangeError("sourceEnd out of bounds");
            i > this.length && (i = this.length),
            e.length - t < i - n && (i = e.length - t + n);
            var r, a = i - n;
            if (this === e && n < t && t < i)
                for (r = a - 1; 0 <= r; --r)
                    e[r + t] = this[r + n];
            else if (a < 1e3 || !h.TYPED_ARRAY_SUPPORT)
                for (r = 0; r < a; ++r)
                    e[r + t] = this[r + n];
            else
                Uint8Array.prototype.set.call(e, this.subarray(n, n + a), t);
            return a
        }
        ,
        h.prototype.fill = function(e, t, n, i) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (i = t,
                t = 0,
                n = this.length) : "string" == typeof n && (i = n,
                n = this.length),
                1 === e.length) {
                    var r = e.charCodeAt(0);
                    r < 256 && (e = r)
                }
                if (void 0 !== i && "string" != typeof i)
                    throw new TypeError("encoding must be a string");
                if ("string" == typeof i && !h.isEncoding(i))
                    throw new TypeError("Unknown encoding: " + i)
            } else
                "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < n)
                throw new RangeError("Out of range index");
            if (n <= t)
                return this;
            var a;
            if (t >>>= 0,
            n = void 0 === n ? this.length : n >>> 0,
            "number" == typeof (e = e || 0))
                for (a = t; a < n; ++a)
                    this[a] = e;
            else {
                var o = h.isBuffer(e) ? e : R(new h(e,i).toString())
                  , s = o.length;
                for (a = 0; a < n - t; ++a)
                    this[a + t] = o[a % s]
            }
            return this
        }
        ;
        var t = /[^+\/0-9A-Za-z-_]/g;
        function O(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }
        function R(e, t) {
            var n;
            t = t || 1 / 0;
            for (var i = e.length, r = null, a = [], o = 0; o < i; ++o) {
                if (55295 < (n = e.charCodeAt(o)) && n < 57344) {
                    if (!r) {
                        if (56319 < n) {
                            -1 < (t -= 3) && a.push(239, 191, 189);
                            continue
                        }
                        if (o + 1 === i) {
                            -1 < (t -= 3) && a.push(239, 191, 189);
                            continue
                        }
                        r = n;
                        continue
                    }
                    if (n < 56320) {
                        -1 < (t -= 3) && a.push(239, 191, 189),
                        r = n;
                        continue
                    }
                    n = 65536 + (r - 55296 << 10 | n - 56320)
                } else
                    r && -1 < (t -= 3) && a.push(239, 191, 189);
                if (r = null,
                n < 128) {
                    if ((t -= 1) < 0)
                        break;
                    a.push(n)
                } else if (n < 2048) {
                    if ((t -= 2) < 0)
                        break;
                    a.push(n >> 6 | 192, 63 & n | 128)
                } else if (n < 65536) {
                    if ((t -= 3) < 0)
                        break;
                    a.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                } else {
                    if (!(n < 1114112))
                        throw new Error("Invalid code point");
                    if ((t -= 4) < 0)
                        break;
                    a.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                }
            }
            return a
        }
        function D(e) {
            return i.toByteArray(function(e) {
                if ((e = function(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                }(e).replace(t, "")).length < 2)
                    return "";
                for (; e.length % 4 != 0; )
                    e += "=";
                return e
            }(e))
        }
        function N(e, t, n, i) {
            for (var r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r)
                t[r + n] = e[r];
            return r
        }
    }
    ).call(this, B(52))
}
, function(e, t, n) {
    "use strict";
    t.byteLength = function(e) {
        var t = h(e)
          , n = t[0]
          , i = t[1];
        return 3 * (n + i) / 4 - i
    }
    ,
    t.toByteArray = function(e) {
        var t, n, i = h(e), r = i[0], a = i[1], o = new c(function(e, t, n) {
            return 3 * (t + n) / 4 - n
        }(0, r, a)), s = 0, l = 0 < a ? r - 4 : r;
        for (n = 0; n < l; n += 4)
            t = u[e.charCodeAt(n)] << 18 | u[e.charCodeAt(n + 1)] << 12 | u[e.charCodeAt(n + 2)] << 6 | u[e.charCodeAt(n + 3)],
            o[s++] = t >> 16 & 255,
            o[s++] = t >> 8 & 255,
            o[s++] = 255 & t;
        2 === a && (t = u[e.charCodeAt(n)] << 2 | u[e.charCodeAt(n + 1)] >> 4,
        o[s++] = 255 & t);
        1 === a && (t = u[e.charCodeAt(n)] << 10 | u[e.charCodeAt(n + 1)] << 4 | u[e.charCodeAt(n + 2)] >> 2,
        o[s++] = t >> 8 & 255,
        o[s++] = 255 & t);
        return o
    }
    ,
    t.fromByteArray = function(e) {
        for (var t, n = e.length, i = n % 3, r = [], a = 0, o = n - i; a < o; a += 16383)
            r.push(l(e, a, o < a + 16383 ? o : a + 16383));
        1 == i ? (t = e[n - 1],
        r.push(s[t >> 2] + s[t << 4 & 63] + "==")) : 2 == i && (t = (e[n - 2] << 8) + e[n - 1],
        r.push(s[t >> 10] + s[t >> 4 & 63] + s[t << 2 & 63] + "="));
        return r.join("")
    }
    ;
    for (var s = [], u = [], c = "undefined" != typeof Uint8Array ? Uint8Array : Array, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = 0, a = i.length; r < a; ++r)
        s[r] = i[r],
        u[i.charCodeAt(r)] = r;
    function h(e) {
        var t = e.length;
        if (0 < t % 4)
            throw new Error("Invalid string. Length must be a multiple of 4");
        var n = e.indexOf("=");
        return -1 === n && (n = t),
        [n, n === t ? 0 : 4 - n % 4]
    }
    function l(e, t, n) {
        for (var i, r, a = [], o = t; o < n; o += 3)
            i = (e[o] << 16 & 16711680) + (e[o + 1] << 8 & 65280) + (255 & e[o + 2]),
            a.push(s[(r = i) >> 18 & 63] + s[r >> 12 & 63] + s[r >> 6 & 63] + s[63 & r]);
        return a.join("")
    }
    u["-".charCodeAt(0)] = 62,
    u["_".charCodeAt(0)] = 63
}
, function(e, t) {
    t.read = function(e, t, n, i, r) {
        var a, o, s = 8 * r - i - 1, l = (1 << s) - 1, u = l >> 1, c = -7, h = n ? r - 1 : 0, d = n ? -1 : 1, p = e[t + h];
        for (h += d,
        a = p & (1 << -c) - 1,
        p >>= -c,
        c += s; 0 < c; a = 256 * a + e[t + h],
        h += d,
        c -= 8)
            ;
        for (o = a & (1 << -c) - 1,
        a >>= -c,
        c += i; 0 < c; o = 256 * o + e[t + h],
        h += d,
        c -= 8)
            ;
        if (0 === a)
            a = 1 - u;
        else {
            if (a === l)
                return o ? NaN : 1 / 0 * (p ? -1 : 1);
            o += Math.pow(2, i),
            a -= u
        }
        return (p ? -1 : 1) * o * Math.pow(2, a - i)
    }
    ,
    t.write = function(e, t, n, i, r, a) {
        var o, s, l, u = 8 * a - r - 1, c = (1 << u) - 1, h = c >> 1, d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = i ? 0 : a - 1, f = i ? 1 : -1, m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t),
        isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
        o = c) : (o = Math.floor(Math.log(t) / Math.LN2),
        t * (l = Math.pow(2, -o)) < 1 && (o--,
        l *= 2),
        2 <= (t += 1 <= o + h ? d / l : d * Math.pow(2, 1 - h)) * l && (o++,
        l /= 2),
        c <= o + h ? (s = 0,
        o = c) : 1 <= o + h ? (s = (t * l - 1) * Math.pow(2, r),
        o += h) : (s = t * Math.pow(2, h - 1) * Math.pow(2, r),
        o = 0)); 8 <= r; e[n + p] = 255 & s,
        p += f,
        s /= 256,
        r -= 8)
            ;
        for (o = o << r | s,
        u += r; 0 < u; e[n + p] = 255 & o,
        p += f,
        o /= 256,
        u -= 8)
            ;
        e[n + p - f] |= 128 * m
    }
}
, function(e, t) {
    var n = {}.toString;
    e.exports = Array.isArray || function(e) {
        return "[object Array]" == n.call(e)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(153);
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.DEFAULT_VIDEO_CODEC = t.DEFAULT_AUDIO_CODEC = t.muxerSupportsCodec = t.browserSupportsCodec = t.getMimeForCodec = t.isTextCodec = t.isAudioCodec = t.isVideoCodec = t.codecsFromDefault = t.parseCodecs = t.mapLegacyAvcCodecs = t.translateLegacyCodecs = t.translateLegacyCodec = void 0;
    function r(e) {
        return e ? e.replace(/avc1\.(\d+)\.(\d+)/i, function(e, t, n) {
            return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(n).toString(16)).slice(-2)
        }) : e
    }
    var a = i(n(17))
      , s = {
        mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,
        webm: /^(vp0?[89]|av0?1|opus|vorbis)/,
        ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,
        video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,
        audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,
        text: /^(stpp.ttml.im1t)/,
        muxerVideo: /^(avc0?1)/,
        muxerAudio: /^(mp4a)/,
        muxerText: /a^/
    }
      , l = ["video", "audio", "text"]
      , o = ["Video", "Audio", "Text"];
    t.translateLegacyCodec = r;
    function u(e) {
        return e.map(r)
    }
    t.translateLegacyCodecs = u;
    t.mapLegacyAvcCodecs = function(e) {
        return e.replace(/avc1\.(\d+)\.(\d+)/i, function(e) {
            return u([e])[0]
        })
    }
    ;
    function c(e) {
        void 0 === e && (e = "");
        var t = e.split(",")
          , o = [];
        return t.forEach(function(r) {
            var a;
            r = r.trim(),
            l.forEach(function(e) {
                var t = s[e].exec(r.toLowerCase());
                if (t && !(t.length <= 1)) {
                    a = e;
                    var n = r.substring(0, t[1].length)
                      , i = r.replace(n, "");
                    o.push({
                        type: n,
                        details: i,
                        mediaType: e
                    })
                }
            }),
            a || o.push({
                type: r,
                details: "",
                mediaType: "unknown"
            })
        }),
        o
    }
    t.parseCodecs = c;
    t.codecsFromDefault = function(e, t) {
        if (!e.mediaGroups.AUDIO || !t)
            return null;
        var n = e.mediaGroups.AUDIO[t];
        if (!n)
            return null;
        for (var i in n) {
            var r = n[i];
            if (r.default && r.playlists)
                return c(r.playlists[0].attributes.CODECS)
        }
        return null
    }
    ;
    t.isVideoCodec = function(e) {
        return void 0 === e && (e = ""),
        s.video.test(e.trim().toLowerCase())
    }
    ;
    function h(e) {
        return void 0 === e && (e = ""),
        s.audio.test(e.trim().toLowerCase())
    }
    t.isAudioCodec = h;
    function d(e) {
        return void 0 === e && (e = ""),
        s.text.test(e.trim().toLowerCase())
    }
    t.isTextCodec = d;
    function p(e) {
        if (e && "string" == typeof e) {
            var t = e.toLowerCase().split(",").map(function(e) {
                return r(e.trim())
            })
              , n = "video";
            1 === t.length && h(t[0]) ? n = "audio" : 1 === t.length && d(t[0]) && (n = "application");
            var i = "mp4";
            return t.every(function(e) {
                return s.mp4.test(e)
            }) ? i = "mp4" : t.every(function(e) {
                return s.webm.test(e)
            }) ? i = "webm" : t.every(function(e) {
                return s.ogg.test(e)
            }) && (i = "ogg"),
            n + "/" + i + ';codecs="' + e + '"'
        }
    }
    t.getMimeForCodec = p;
    t.browserSupportsCodec = function(e) {
        return void 0 === e && (e = ""),
        a.default.MediaSource && a.default.MediaSource.isTypeSupported && a.default.MediaSource.isTypeSupported(p(e)) || !1
    }
    ;
    t.muxerSupportsCodec = function(e) {
        return void 0 === e && (e = ""),
        e.toLowerCase().split(",").every(function(e) {
            e = e.trim();
            for (var t = 0; t < o.length; t++) {
                if (s["muxer" + o[t]].test(e))
                    return !0
            }
            return !1
        })
    }
    ;
    t.DEFAULT_AUDIO_CODEC = "mp4a.40.2";
    t.DEFAULT_VIDEO_CODEC = "avc1.4d400d"
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.simpleTypeFromSourceType = void 0;
    var i = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i
      , r = /^application\/dash\+xml/i;
    t.simpleTypeFromSourceType = function(e) {
        return i.test(e) ? "hls" : r.test(e) ? "dash" : "application/vnd.videojs.vhs+json" === e ? "vhs-json" : null
    }
}
, function(e, t, n) {
    var i = n(103)
      , r = n(233)
      , c = n(585)
      , a = n(586)
      , o = r.DOMImplementation
      , h = i.NAMESPACE
      , s = a.ParseError
      , d = a.XMLReader;
    function l(e) {
        this.options = e || {
            locator: {}
        }
    }
    function p() {
        this.cdata = !1
    }
    function f(e, t) {
        t.lineNumber = e.lineNumber,
        t.columnNumber = e.columnNumber
    }
    function m(e) {
        if (e)
            return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]"
    }
    function u(e, t, n) {
        return "string" == typeof e ? e.substr(t, n) : e.length >= t + n || t ? new java.lang.String(e,t,n) + "" : e
    }
    function g(e, t) {
        e.currentElement ? e.currentElement.appendChild(t) : e.doc.appendChild(t)
    }
    l.prototype.parseFromString = function(e, t) {
        var n = this.options
          , i = new d
          , r = n.domBuilder || new p
          , a = n.errorHandler
          , o = n.locator
          , s = n.xmlns || {}
          , l = /\/x?html?$/.test(t)
          , u = l ? c.HTML_ENTITIES : c.XML_ENTITIES;
        return o && r.setDocumentLocator(o),
        i.errorHandler = function(i, e, r) {
            if (!i) {
                if (e instanceof p)
                    return e;
                i = e
            }
            var a = {}
              , o = i instanceof Function;
            function t(t) {
                var n = i[t];
                !n && o && (n = 2 == i.length ? function(e) {
                    i(t, e)
                }
                : i),
                a[t] = n && function(e) {
                    n("[xmldom " + t + "]\t" + e + m(r))
                }
                || function() {}
            }
            return r = r || {},
            t("warning"),
            t("error"),
            t("fatalError"),
            a
        }(a, r, o),
        i.domBuilder = n.domBuilder || r,
        l && (s[""] = h.HTML),
        s.xml = s.xml || h.XML,
        e && "string" == typeof e ? i.parse(e, s, u) : i.errorHandler.error("invalid doc source"),
        r.doc
    }
    ,
    p.prototype = {
        startDocument: function() {
            this.doc = (new o).createDocument(null, null, null),
            this.locator && (this.doc.documentURI = this.locator.systemId)
        },
        startElement: function(e, t, n, i) {
            var r = this.doc
              , a = r.createElementNS(e, n || t)
              , o = i.length;
            g(this, a),
            this.currentElement = a,
            this.locator && f(this.locator, a);
            for (var s = 0; s < o; s++) {
                e = i.getURI(s);
                var l = i.getValue(s)
                  , u = (n = i.getQName(s),
                r.createAttributeNS(e, n));
                this.locator && f(i.getLocator(s), u),
                u.value = u.nodeValue = l,
                a.setAttributeNode(u)
            }
        },
        endElement: function(e, t, n) {
            var i = this.currentElement;
            i.tagName;
            this.currentElement = i.parentNode
        },
        startPrefixMapping: function(e, t) {},
        endPrefixMapping: function(e) {},
        processingInstruction: function(e, t) {
            var n = this.doc.createProcessingInstruction(e, t);
            this.locator && f(this.locator, n),
            g(this, n)
        },
        ignorableWhitespace: function(e, t, n) {},
        characters: function(e, t, n) {
            if (e = u.apply(this, arguments)) {
                if (this.cdata)
                    var i = this.doc.createCDATASection(e);
                else
                    i = this.doc.createTextNode(e);
                this.currentElement ? this.currentElement.appendChild(i) : /^\s*$/.test(e) && this.doc.appendChild(i),
                this.locator && f(this.locator, i)
            }
        },
        skippedEntity: function(e) {},
        endDocument: function() {
            this.doc.normalize()
        },
        setDocumentLocator: function(e) {
            (this.locator = e) && (e.lineNumber = 0)
        },
        comment: function(e, t, n) {
            e = u.apply(this, arguments);
            var i = this.doc.createComment(e);
            this.locator && f(this.locator, i),
            g(this, i)
        },
        startCDATA: function() {
            this.cdata = !0
        },
        endCDATA: function() {
            this.cdata = !1
        },
        startDTD: function(e, t, n) {
            var i = this.doc.implementation;
            if (i && i.createDocumentType) {
                var r = i.createDocumentType(e, t, n);
                this.locator && f(this.locator, r),
                g(this, r),
                this.doc.doctype = r
            }
        },
        warning: function(e) {
            console.warn("[xmldom warning]\t" + e, m(this.locator))
        },
        error: function(e) {
            console.error("[xmldom error]\t" + e, m(this.locator))
        },
        fatalError: function(e) {
            throw new s(e,this.locator)
        }
    },
    "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, function(e) {
        p.prototype[e] = function() {
            return null
        }
    }),
    t.__DOMHandler = p,
    t.DOMParser = l,
    t.DOMImplementation = r.DOMImplementation,
    t.XMLSerializer = r.XMLSerializer
}
, function(e, t, n) {
    var i = n(103).freeze;
    t.XML_ENTITIES = i({
        amp: "&",
        apos: "'",
        gt: ">",
        lt: "<",
        quot: '"'
    }),
    t.HTML_ENTITIES = i({
        lt: "<",
        gt: ">",
        amp: "&",
        quot: '"',
        apos: "'",
        Agrave: "À",
        Aacute: "Á",
        Acirc: "Â",
        Atilde: "Ã",
        Auml: "Ä",
        Aring: "Å",
        AElig: "Æ",
        Ccedil: "Ç",
        Egrave: "È",
        Eacute: "É",
        Ecirc: "Ê",
        Euml: "Ë",
        Igrave: "Ì",
        Iacute: "Í",
        Icirc: "Î",
        Iuml: "Ï",
        ETH: "Ð",
        Ntilde: "Ñ",
        Ograve: "Ò",
        Oacute: "Ó",
        Ocirc: "Ô",
        Otilde: "Õ",
        Ouml: "Ö",
        Oslash: "Ø",
        Ugrave: "Ù",
        Uacute: "Ú",
        Ucirc: "Û",
        Uuml: "Ü",
        Yacute: "Ý",
        THORN: "Þ",
        szlig: "ß",
        agrave: "à",
        aacute: "á",
        acirc: "â",
        atilde: "ã",
        auml: "ä",
        aring: "å",
        aelig: "æ",
        ccedil: "ç",
        egrave: "è",
        eacute: "é",
        ecirc: "ê",
        euml: "ë",
        igrave: "ì",
        iacute: "í",
        icirc: "î",
        iuml: "ï",
        eth: "ð",
        ntilde: "ñ",
        ograve: "ò",
        oacute: "ó",
        ocirc: "ô",
        otilde: "õ",
        ouml: "ö",
        oslash: "ø",
        ugrave: "ù",
        uacute: "ú",
        ucirc: "û",
        uuml: "ü",
        yacute: "ý",
        thorn: "þ",
        yuml: "ÿ",
        nbsp: " ",
        iexcl: "¡",
        cent: "¢",
        pound: "£",
        curren: "¤",
        yen: "¥",
        brvbar: "¦",
        sect: "§",
        uml: "¨",
        copy: "©",
        ordf: "ª",
        laquo: "«",
        not: "¬",
        shy: "­­",
        reg: "®",
        macr: "¯",
        deg: "°",
        plusmn: "±",
        sup2: "²",
        sup3: "³",
        acute: "´",
        micro: "µ",
        para: "¶",
        middot: "·",
        cedil: "¸",
        sup1: "¹",
        ordm: "º",
        raquo: "»",
        frac14: "¼",
        frac12: "½",
        frac34: "¾",
        iquest: "¿",
        times: "×",
        divide: "÷",
        forall: "∀",
        part: "∂",
        exist: "∃",
        empty: "∅",
        nabla: "∇",
        isin: "∈",
        notin: "∉",
        ni: "∋",
        prod: "∏",
        sum: "∑",
        minus: "−",
        lowast: "∗",
        radic: "√",
        prop: "∝",
        infin: "∞",
        ang: "∠",
        and: "∧",
        or: "∨",
        cap: "∩",
        cup: "∪",
        int: "∫",
        there4: "∴",
        sim: "∼",
        cong: "≅",
        asymp: "≈",
        ne: "≠",
        equiv: "≡",
        le: "≤",
        ge: "≥",
        sub: "⊂",
        sup: "⊃",
        nsub: "⊄",
        sube: "⊆",
        supe: "⊇",
        oplus: "⊕",
        otimes: "⊗",
        perp: "⊥",
        sdot: "⋅",
        Alpha: "Α",
        Beta: "Β",
        Gamma: "Γ",
        Delta: "Δ",
        Epsilon: "Ε",
        Zeta: "Ζ",
        Eta: "Η",
        Theta: "Θ",
        Iota: "Ι",
        Kappa: "Κ",
        Lambda: "Λ",
        Mu: "Μ",
        Nu: "Ν",
        Xi: "Ξ",
        Omicron: "Ο",
        Pi: "Π",
        Rho: "Ρ",
        Sigma: "Σ",
        Tau: "Τ",
        Upsilon: "Υ",
        Phi: "Φ",
        Chi: "Χ",
        Psi: "Ψ",
        Omega: "Ω",
        alpha: "α",
        beta: "β",
        gamma: "γ",
        delta: "δ",
        epsilon: "ε",
        zeta: "ζ",
        eta: "η",
        theta: "θ",
        iota: "ι",
        kappa: "κ",
        lambda: "λ",
        mu: "μ",
        nu: "ν",
        xi: "ξ",
        omicron: "ο",
        pi: "π",
        rho: "ρ",
        sigmaf: "ς",
        sigma: "σ",
        tau: "τ",
        upsilon: "υ",
        phi: "φ",
        chi: "χ",
        psi: "ψ",
        omega: "ω",
        thetasym: "ϑ",
        upsih: "ϒ",
        piv: "ϖ",
        OElig: "Œ",
        oelig: "œ",
        Scaron: "Š",
        scaron: "š",
        Yuml: "Ÿ",
        fnof: "ƒ",
        circ: "ˆ",
        tilde: "˜",
        ensp: " ",
        emsp: " ",
        thinsp: " ",
        zwnj: "‌",
        zwj: "‍",
        lrm: "‎",
        rlm: "‏",
        ndash: "–",
        mdash: "—",
        lsquo: "‘",
        rsquo: "’",
        sbquo: "‚",
        ldquo: "“",
        rdquo: "”",
        bdquo: "„",
        dagger: "†",
        Dagger: "‡",
        bull: "•",
        hellip: "…",
        permil: "‰",
        prime: "′",
        Prime: "″",
        lsaquo: "‹",
        rsaquo: "›",
        oline: "‾",
        euro: "€",
        trade: "™",
        larr: "←",
        uarr: "↑",
        rarr: "→",
        darr: "↓",
        harr: "↔",
        crarr: "↵",
        lceil: "⌈",
        rceil: "⌉",
        lfloor: "⌊",
        rfloor: "⌋",
        loz: "◊",
        spades: "♠",
        clubs: "♣",
        hearts: "♥",
        diams: "♦"
    }),
    t.entityMap = t.HTML_ENTITIES
}
, function(e, t, n) {
    var A = n(103).NAMESPACE
      , i = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/
      , r = new RegExp("[\\-\\.0-9" + i.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]")
      , a = new RegExp("^" + i.source + r.source + "*(?::" + i.source + r.source + "*)?$")
      , d = 0
      , p = 1
      , f = 2
      , m = 3
      , g = 4
      , v = 5
      , y = 6
      , b = 7;
    function I(e, t) {
        this.message = e,
        this.locator = t,
        Error.captureStackTrace && Error.captureStackTrace(this, I)
    }
    function o() {}
    function L(e, t) {
        return t.lineNumber = e.lineNumber,
        t.columnNumber = e.columnNumber,
        t
    }
    function O(e, t, i, n, r, a) {
        function o(e, t, n) {
            i.attributeNames.hasOwnProperty(e) && a.fatalError("Attribute " + e + " redefined"),
            i.addValue(e, t, n)
        }
        for (var s, l = ++t, u = d; ; ) {
            var c = e.charAt(l);
            switch (c) {
            case "=":
                if (u === p)
                    s = e.slice(t, l),
                    u = m;
                else {
                    if (u !== f)
                        throw new Error("attribute equal must after attrName");
                    u = m
                }
                break;
            case "'":
            case '"':
                if (u === m || u === p) {
                    if (u === p && (a.warning('attribute value must after "="'),
                    s = e.slice(t, l)),
                    t = l + 1,
                    !(0 < (l = e.indexOf(c, t))))
                        throw new Error("attribute value no end '" + c + "' match");
                    o(s, h = e.slice(t, l).replace(/&#?\w+;/g, r), t - 1),
                    u = v
                } else {
                    if (u != g)
                        throw new Error('attribute value must after "="');
                    o(s, h = e.slice(t, l).replace(/&#?\w+;/g, r), t),
                    a.warning('attribute "' + s + '" missed start quot(' + c + ")!!"),
                    t = l + 1,
                    u = v
                }
                break;
            case "/":
                switch (u) {
                case d:
                    i.setTagName(e.slice(t, l));
                case v:
                case y:
                case b:
                    u = b,
                    i.closed = !0;
                case g:
                case p:
                case f:
                    break;
                default:
                    throw new Error("attribute invalid close char('/')")
                }
                break;
            case "":
                return a.error("unexpected end of input"),
                u == d && i.setTagName(e.slice(t, l)),
                l;
            case ">":
                switch (u) {
                case d:
                    i.setTagName(e.slice(t, l));
                case v:
                case y:
                case b:
                    break;
                case g:
                case p:
                    "/" === (h = e.slice(t, l)).slice(-1) && (i.closed = !0,
                    h = h.slice(0, -1));
                case f:
                    u === f && (h = s),
                    u == g ? (a.warning('attribute "' + h + '" missed quot(")!'),
                    o(s, h.replace(/&#?\w+;/g, r), t)) : (A.isHTML(n[""]) && h.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + h + '" missed value!! "' + h + '" instead!!'),
                    o(h, h, t));
                    break;
                case m:
                    throw new Error("attribute value missed!!")
                }
                return l;
            case "":
                c = " ";
            default:
                if (c <= " ")
                    switch (u) {
                    case d:
                        i.setTagName(e.slice(t, l)),
                        u = y;
                        break;
                    case p:
                        s = e.slice(t, l),
                        u = f;
                        break;
                    case g:
                        var h = e.slice(t, l).replace(/&#?\w+;/g, r);
                        a.warning('attribute "' + h + '" missed quot(")!!'),
                        o(s, h, t);
                    case v:
                        u = y
                    }
                else
                    switch (u) {
                    case f:
                        i.tagName;
                        A.isHTML(n[""]) && s.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + s + '" missed value!! "' + s + '" instead2!!'),
                        o(s, s, t),
                        t = l,
                        u = p;
                        break;
                    case v:
                        a.warning('attribute space is required"' + s + '"!!');
                    case y:
                        u = p,
                        t = l;
                        break;
                    case m:
                        u = g,
                        t = l;
                        break;
                    case b:
                        throw new Error("elements closed character '/' and '>' must be connected to")
                    }
            }
            l++
        }
    }
    function R(e, t, n) {
        for (var i = e.tagName, r = null, a = e.length; a--; ) {
            var o = e[a]
              , s = o.qName
              , l = o.value;
            if (0 < (d = s.indexOf(":")))
                var u = o.prefix = s.slice(0, d)
                  , c = s.slice(d + 1)
                  , h = "xmlns" === u && c;
            else
                u = null,
                h = "xmlns" === (c = s) && "";
            o.localName = c,
            !1 !== h && (null == r && (r = {},
            _(n, n = {})),
            n[h] = r[h] = l,
            o.uri = A.XMLNS,
            t.startPrefixMapping(h, l))
        }
        for (a = e.length; a--; ) {
            (u = (o = e[a]).prefix) && ("xml" === u && (o.uri = A.XML),
            "xmlns" !== u && (o.uri = n[u || ""]))
        }
        var d;
        c = 0 < (d = i.indexOf(":")) ? (u = e.prefix = i.slice(0, d),
        e.localName = i.slice(d + 1)) : (u = null,
        e.localName = i);
        var p = e.uri = n[u || ""];
        if (t.startElement(p, c, i, e),
        !e.closed)
            return e.currentNSMap = n,
            e.localNSMap = r,
            !0;
        if (t.endElement(p, c, i),
        r)
            for (u in r)
                t.endPrefixMapping(u)
    }
    function D(e, t, n, i, r) {
        if (/^(?:script|textarea)$/i.test(n)) {
            var a = e.indexOf("</" + n + ">", t)
              , o = e.substring(t + 1, a);
            if (/[&<]/.test(o))
                return /^script$/i.test(n) || (o = o.replace(/&#?\w+;/g, i)),
                r.characters(o, 0, o.length),
                a
        }
        return t + 1
    }
    function N(e, t, n, i) {
        var r = i[n];
        return null == r && ((r = e.lastIndexOf("</" + n + ">")) < t && (r = e.lastIndexOf("</" + n)),
        i[n] = r),
        r < t
    }
    function _(e, t) {
        for (var n in e)
            t[n] = e[n]
    }
    function F(e, t, n, i) {
        switch (e.charAt(t + 2)) {
        case "-":
            return "-" !== e.charAt(t + 3) ? -1 : t < (r = e.indexOf("--\x3e", t + 4)) ? (n.comment(e, t + 4, r - t - 4),
            r + 3) : (i.error("Unclosed comment"),
            -1);
        default:
            if ("CDATA[" == e.substr(t + 3, 6)) {
                var r = e.indexOf("]]>", t + 9);
                return n.startCDATA(),
                n.characters(e, t + 9, r - t - 9),
                n.endCDATA(),
                r + 3
            }
            var a = function(e, t) {
                var n, i = [], r = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                r.lastIndex = t,
                r.exec(e);
                for (; n = r.exec(e); )
                    if (i.push(n),
                    n[1])
                        return i
            }(e, t)
              , o = a.length;
            if (1 < o && /!doctype/i.test(a[0][0])) {
                var s = a[1][0]
                  , l = !1
                  , u = !1;
                3 < o && (/^public$/i.test(a[2][0]) ? (l = a[3][0],
                u = 4 < o && a[4][0]) : /^system$/i.test(a[2][0]) && (u = a[3][0]));
                var c = a[o - 1];
                return n.startDTD(s, l, u),
                n.endDTD(),
                c.index + c[0].length
            }
        }
        return -1
    }
    function B(e, t, n) {
        var i = e.indexOf("?>", t);
        if (i) {
            var r = e.substring(t, i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
            if (r) {
                r[0].length;
                return n.processingInstruction(r[1], r[2]),
                i + 2
            }
            return -1
        }
        return -1
    }
    function U() {
        this.attributeNames = {}
    }
    (I.prototype = new Error).name = I.name,
    o.prototype = {
        parse: function(e, t, n) {
            var i = this.domBuilder;
            i.startDocument(),
            _(t, t = {}),
            function(n, e, i, r, a) {
                function o(e) {
                    var t = e.slice(1, -1);
                    return t in i ? i[t] : "#" === t.charAt(0) ? function(e) {
                        if (65535 < e) {
                            var t = 55296 + ((e -= 65536) >> 10)
                              , n = 56320 + (1023 & e);
                            return String.fromCharCode(t, n)
                        }
                        return String.fromCharCode(e)
                    }(parseInt(t.substr(1).replace("x", "0x"))) : (a.error("entity not found:" + e),
                    e)
                }
                function t(e) {
                    if (f < e) {
                        var t = n.substring(f, e).replace(/&#?\w+;/g, o);
                        h && s(f),
                        r.characters(t, 0, e - f),
                        f = e
                    }
                }
                function s(e, t) {
                    for (; u <= e && (t = c.exec(n)); )
                        l = t.index,
                        u = l + t[0].length,
                        h.lineNumber++;
                    h.columnNumber = e - l + 1
                }
                var l = 0
                  , u = 0
                  , c = /.*(?:\r\n?|\n)|.*$/g
                  , h = r.locator
                  , d = [{
                    currentNSMap: e
                }]
                  , p = {}
                  , f = 0;
                for (; ; ) {
                    try {
                        var m = n.indexOf("<", f);
                        if (m < 0) {
                            if (!n.substr(f).match(/^\s*$/)) {
                                var g = r.doc
                                  , v = g.createTextNode(n.substr(f));
                                g.appendChild(v),
                                r.currentElement = v
                            }
                            return
                        }
                        switch (f < m && t(m),
                        n.charAt(m + 1)) {
                        case "/":
                            var y = n.indexOf(">", m + 3)
                              , b = n.substring(m + 2, y).replace(/[ \t\n\r]+$/g, "")
                              , _ = d.pop();
                            y < 0 ? (b = n.substring(m + 2).replace(/[\s<].*/, ""),
                            a.error("end tag name: " + b + " is not complete:" + _.tagName),
                            y = m + 1 + b.length) : b.match(/\s</) && (b = b.replace(/[\s<].*/, ""),
                            a.error("end tag name: " + b + " maybe not complete"),
                            y = m + 1 + b.length);
                            var w = _.localNSMap
                              , x = _.tagName == b;
                            if (x || _.tagName && _.tagName.toLowerCase() == b.toLowerCase()) {
                                if (r.endElement(_.uri, _.localName, b),
                                w)
                                    for (var T in w)
                                        r.endPrefixMapping(T);
                                x || a.fatalError("end tag name: " + b + " is not match the current start tagName:" + _.tagName)
                            } else
                                d.push(_);
                            y++;
                            break;
                        case "?":
                            h && s(m),
                            y = B(n, m, r);
                            break;
                        case "!":
                            h && s(m),
                            y = F(n, m, r, a);
                            break;
                        default:
                            h && s(m);
                            var S = new U
                              , E = d[d.length - 1].currentNSMap
                              , C = (y = O(n, m, S, E, o, a),
                            S.length);
                            if (!S.closed && N(n, y, S.tagName, p) && (S.closed = !0,
                            i.nbsp || a.warning("unclosed xml attribute")),
                            h && C) {
                                for (var M = L(h, {}), k = 0; k < C; k++) {
                                    var P = S[k];
                                    s(P.offset),
                                    P.locator = L(h, {})
                                }
                                r.locator = M,
                                R(S, r, E) && d.push(S),
                                r.locator = h
                            } else
                                R(S, r, E) && d.push(S);
                            A.isHTML(S.uri) && !S.closed ? y = D(n, y, S.tagName, o, r) : y++
                        }
                    } catch (e) {
                        if (e instanceof I)
                            throw e;
                        a.error("element parse error: " + e),
                        y = -1
                    }
                    f < y ? f = y : t(Math.max(m, f) + 1)
                }
            }(e, t, n, i, this.errorHandler),
            i.endDocument()
        }
    },
    U.prototype = {
        setTagName: function(e) {
            if (!a.test(e))
                throw new Error("invalid tagName:" + e);
            this.tagName = e
        },
        addValue: function(e, t, n) {
            if (!a.test(e))
                throw new Error("invalid attribute:" + e);
            this.attributeNames[e] = this.length,
            this[this.length++] = {
                qName: e,
                value: t,
                offset: n
            }
        },
        length: 0,
        getLocalName: function(e) {
            return this[e].localName
        },
        getLocator: function(e) {
            return this[e].locator
        },
        getQName: function(e) {
            return this[e].qName
        },
        getURI: function(e) {
            return this[e].uri
        },
        getValue: function(e) {
            return this[e].value
        }
    },
    t.XMLReader = o,
    t.ParseError = I
}
, function(e, t) {
    var a = Math.pow(2, 32);
    e.exports = function(e) {
        var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
          , n = {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            references: [],
            referenceId: t.getUint32(4),
            timescale: t.getUint32(8)
        }
          , i = 12;
        0 === n.version ? (n.earliestPresentationTime = t.getUint32(i),
        n.firstOffset = t.getUint32(i + 4),
        i += 8) : (n.earliestPresentationTime = t.getUint32(i) * a + t.getUint32(i + 4),
        n.firstOffset = t.getUint32(i + 8) * a + t.getUint32(i + 12),
        i += 16),
        i += 2;
        var r = t.getUint16(i);
        for (i += 2; 0 < r; i += 12,
        r--)
            n.references.push({
                referenceType: (128 & e[i]) >>> 7,
                referencedSize: 2147483647 & t.getUint32(i),
                subsegmentDuration: t.getUint32(i + 4),
                startsWithSap: !!(128 & e[i + 8]),
                sapType: (112 & e[i + 8]) >>> 4,
                sapDeltaTime: 268435455 & t.getUint32(i + 8)
            });
        return n
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.isLikelyFmp4MediaSegment = t.detectContainerForBytes = t.isLikely = void 0;
    var i = n(56)
      , r = n(589)
      , a = n(591)
      , o = n(234)
      , s = n(592)
      , l = {
        webm: (0,
        i.toUint8)([119, 101, 98, 109]),
        matroska: (0,
        i.toUint8)([109, 97, 116, 114, 111, 115, 107, 97]),
        flac: (0,
        i.toUint8)([102, 76, 97, 67]),
        ogg: (0,
        i.toUint8)([79, 103, 103, 83]),
        ac3: (0,
        i.toUint8)([11, 119]),
        riff: (0,
        i.toUint8)([82, 73, 70, 70]),
        avi: (0,
        i.toUint8)([65, 86, 73]),
        wav: (0,
        i.toUint8)([87, 65, 86, 69]),
        "3gp": (0,
        i.toUint8)([102, 116, 121, 112, 51, 103]),
        mp4: (0,
        i.toUint8)([102, 116, 121, 112]),
        fmp4: (0,
        i.toUint8)([115, 116, 121, 112]),
        mov: (0,
        i.toUint8)([102, 116, 121, 112, 113, 116]),
        moov: (0,
        i.toUint8)([109, 111, 111, 118]),
        moof: (0,
        i.toUint8)([109, 111, 111, 102])
    }
      , u = {
        aac: function(e) {
            var t = (0,
            o.getId3Offset)(e);
            return (0,
            i.bytesMatch)(e, [255, 16], {
                offset: t,
                mask: [255, 22]
            })
        },
        mp3: function(e) {
            var t = (0,
            o.getId3Offset)(e);
            return (0,
            i.bytesMatch)(e, [255, 2], {
                offset: t,
                mask: [255, 6]
            })
        },
        webm: function(e) {
            var t = (0,
            a.findEbml)(e, [a.EBML_TAGS.EBML, a.EBML_TAGS.DocType])[0];
            return (0,
            i.bytesMatch)(t, l.webm)
        },
        mkv: function(e) {
            var t = (0,
            a.findEbml)(e, [a.EBML_TAGS.EBML, a.EBML_TAGS.DocType])[0];
            return (0,
            i.bytesMatch)(t, l.matroska)
        },
        mp4: function(e) {
            return !u["3gp"](e) && !u.mov(e) && (!(!(0,
            i.bytesMatch)(e, l.mp4, {
                offset: 4
            }) && !(0,
            i.bytesMatch)(e, l.fmp4, {
                offset: 4
            })) || (!(!(0,
            i.bytesMatch)(e, l.moof, {
                offset: 4
            }) && !(0,
            i.bytesMatch)(e, l.moov, {
                offset: 4
            })) || void 0))
        },
        mov: function(e) {
            return (0,
            i.bytesMatch)(e, l.mov, {
                offset: 4
            })
        },
        "3gp": function(e) {
            return (0,
            i.bytesMatch)(e, l["3gp"], {
                offset: 4
            })
        },
        ac3: function(e) {
            var t = (0,
            o.getId3Offset)(e);
            return (0,
            i.bytesMatch)(e, l.ac3, {
                offset: t
            })
        },
        ts: function(e) {
            if (e.length < 189 && 1 <= e.length)
                return 71 === e[0];
            for (var t = 0; t + 188 < e.length && t < 188; ) {
                if (71 === e[t] && 71 === e[t + 188])
                    return !0;
                t += 1
            }
            return !1
        },
        flac: function(e) {
            var t = (0,
            o.getId3Offset)(e);
            return (0,
            i.bytesMatch)(e, l.flac, {
                offset: t
            })
        },
        ogg: function(e) {
            return (0,
            i.bytesMatch)(e, l.ogg)
        },
        avi: function(e) {
            return (0,
            i.bytesMatch)(e, l.riff) && (0,
            i.bytesMatch)(e, l.avi, {
                offset: 8
            })
        },
        wav: function(e) {
            return (0,
            i.bytesMatch)(e, l.riff) && (0,
            i.bytesMatch)(e, l.wav, {
                offset: 8
            })
        },
        h264: function(e) {
            return (0,
            s.findH264Nal)(e, 7, 3).length
        },
        h265: function(e) {
            return (0,
            s.findH265Nal)(e, [32, 33], 3).length
        }
    }
      , c = Object.keys(u).filter(function(e) {
        return "ts" !== e && "h264" !== e && "h265" !== e
    }).concat(["ts", "h264", "h265"]);
    c.forEach(function(e) {
        var t = u[e];
        u[e] = function(e) {
            return t((0,
            i.toUint8)(e))
        }
    });
    var h = u;
    t.isLikely = h;
    t.detectContainerForBytes = function(e) {
        e = (0,
        i.toUint8)(e);
        for (var t = 0; t < c.length; t++) {
            var n = c[t];
            if (h[n](e))
                return n
        }
        return ""
    }
    ;
    t.isLikelyFmp4MediaSegment = function(e) {
        return 0 < (0,
        r.findBox)(e, ["moof"]).length
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.parseMediaInfo = t.parseTracks = t.addSampleDescription = t.buildFrameTable = t.findNamedBox = t.findBox = t.parseDescriptors = void 0;
    function u(e) {
        return "string" == typeof e ? (0,
        T.stringToBytes)(e) : e
    }
    function v(e) {
        e = (0,
        T.toUint8)(e);
        for (var t = [], n = 0; e.length > n; ) {
            var i = e[n]
              , r = 0
              , a = 0
              , o = e[++a];
            for (a++; 128 & o; )
                r = (127 & o) << 7,
                o = e[a],
                a++;
            r += 127 & o;
            for (var s = 0; s < h.length; s++) {
                var l = h[s]
                  , u = l.id
                  , c = l.parser;
                if (i === u) {
                    t.push(c(e.subarray(a, a + r)));
                    break
                }
            }
            n += r + a
        }
        return t
    }
    var h, T = n(56), y = n(235), b = n(590);
    t.parseDescriptors = v,
    h = [{
        id: 3,
        parser: function(e) {
            var t = {
                tag: 3,
                id: e[0] << 8 | e[1],
                flags: e[2],
                size: 3,
                dependsOnEsId: 0,
                ocrEsId: 0,
                descriptors: [],
                url: ""
            };
            if (128 & t.flags && (t.dependsOnEsId = e[t.size] << 8 | e[t.size + 1],
            t.size += 2),
            64 & t.flags) {
                var n = e[t.size];
                t.url = (0,
                T.bytesToString)(e.subarray(t.size + 1, t.size + 1 + n)),
                t.size += n
            }
            return 32 & t.flags && (t.ocrEsId = e[t.size] << 8 | e[t.size + 1],
            t.size += 2),
            t.descriptors = v(e.subarray(t.size)) || [],
            t
        }
    }, {
        id: 4,
        parser: function(e) {
            return {
                tag: 4,
                oti: e[0],
                streamType: e[1],
                bufferSize: e[2] << 16 | e[3] << 8 | e[4],
                maxBitrate: e[5] << 24 | e[6] << 16 | e[7] << 8 | e[8],
                avgBitrate: e[9] << 24 | e[10] << 16 | e[11] << 8 | e[12],
                descriptors: v(e.subarray(13))
            }
        }
    }, {
        id: 5,
        parser: function(e) {
            return {
                tag: 5,
                bytes: e
            }
        }
    }, {
        id: 6,
        parser: function(e) {
            return {
                tag: 6,
                bytes: e
            }
        }
    }];
    function S(e, t, n) {
        void 0 === n && (n = !1),
        t = function(e) {
            return Array.isArray(e) ? e.map(function(e) {
                return u(e)
            }) : [u(e)]
        }(t),
        e = (0,
        T.toUint8)(e);
        var i = [];
        if (!t.length)
            return i;
        for (var r = 0; r < e.length; ) {
            var a = (e[r] << 24 | e[r + 1] << 16 | e[r + 2] << 8 | e[r + 3]) >>> 0
              , o = e.subarray(r + 4, r + 8);
            if (0 == a)
                break;
            var s = r + a;
            if (s > e.length) {
                if (n)
                    break;
                s = e.length
            }
            var l = e.subarray(r + 8, s);
            (0,
            T.bytesMatch)(o, t[0]) && (1 === t.length ? i.push(l) : i.push.apply(i, S(l, t.slice(1), n))),
            r = s
        }
        return i
    }
    t.findBox = S;
    function _(e, t) {
        if (!(t = u(t)).length)
            return e.subarray(e.length);
        for (var n = 0; n < e.length; ) {
            if ((0,
            T.bytesMatch)(e.subarray(n, n + t.length), t)) {
                var i = (e[n - 4] << 24 | e[n - 3] << 16 | e[n - 2] << 8 | e[n - 1]) >>> 0
                  , r = 1 < i ? n + i : e.byteLength;
                return e.subarray(n + 4, r)
            }
            n++
        }
        return e.subarray(e.length)
    }
    t.findNamedBox = _;
    function E(e, t, n) {
        void 0 === t && (t = 4),
        void 0 === n && (n = function(e) {
            return (0,
            T.bytesToNumber)(e)
        }
        );
        var i = [];
        if (!e || !e.length)
            return i;
        for (var r = (0,
        T.bytesToNumber)(e.subarray(4, 8)), a = 8; r; a += t,
        r--)
            i.push(n(e.subarray(a, a + t)));
        return i
    }
    function w(e, t) {
        for (var n = E(S(e, ["stss"])[0]), i = E(S(e, ["stco"])[0]), r = E(S(e, ["stts"])[0], 8, function(e) {
            return {
                sampleCount: (0,
                T.bytesToNumber)(e.subarray(0, 4)),
                sampleDelta: (0,
                T.bytesToNumber)(e.subarray(4, 8))
            }
        }), a = E(S(e, ["stsc"])[0], 12, function(e) {
            return {
                firstChunk: (0,
                T.bytesToNumber)(e.subarray(0, 4)),
                samplesPerChunk: (0,
                T.bytesToNumber)(e.subarray(4, 8)),
                sampleDescriptionIndex: (0,
                T.bytesToNumber)(e.subarray(8, 12))
            }
        }), o = S(e, ["stsz"])[0], s = E(o && o.length && o.subarray(4) || null), l = [], u = 0; u < i.length; u++) {
            for (var c = void 0, h = 0; h < a.length; h++) {
                var d = a[h];
                if (u + 1 >= d.firstChunk && (h + 1 >= a.length || u + 1 < a[h + 1].firstChunk)) {
                    c = d.samplesPerChunk;
                    break
                }
            }
            for (var p = i[u], f = 0; f < c; f++) {
                var m = s[l.length]
                  , g = !n.length;
                n.length && -1 !== n.indexOf(l.length + 1) && (g = !0);
                for (var v = {
                    keyframe: g,
                    start: p,
                    end: p + m
                }, y = 0; y < r.length; y++) {
                    var b = r[y]
                      , _ = b.sampleCount
                      , w = b.sampleDelta;
                    if (l.length <= _) {
                        var x = l.length ? l[l.length - 1].timestamp : 0;
                        v.timestamp = x + w / t * 1e3,
                        v.duration = w;
                        break
                    }
                }
                l.push(v),
                p += m
            }
        }
        return l
    }
    t.buildFrameTable = w;
    function x(e, t) {
        var n = (0,
        T.bytesToString)(t.subarray(0, 4));
        if ("video" === e.type ? (e.info = e.info || {},
        e.info.width = t[28] << 8 | t[29],
        e.info.height = t[30] << 8 | t[31]) : "audio" === e.type && (e.info = e.info || {},
        e.info.channels = t[20] << 8 | t[21],
        e.info.bitDepth = t[22] << 8 | t[23],
        e.info.sampleRate = t[28] << 8 | t[29]),
        "avc1" === n) {
            var i = _(t, "avcC");
            n += "." + (0,
            y.getAvcCodec)(i),
            e.info.avcC = i
        } else if ("hvc1" === n || "hev1" === n)
            n += "." + (0,
            y.getHvcCodec)(_(t, "hvcC"));
        else if ("mp4a" === n || "mp4v" === n) {
            var r = _(t, "esds")
              , a = v(r.subarray(4))[0]
              , o = a && a.descriptors.filter(function(e) {
                return 4 === e.tag
            })[0];
            o ? (n += "." + (0,
            T.toHexString)(o.oti),
            64 === o.oti ? n += "." + (o.descriptors[0].bytes[0] >> 3).toString() : 32 === o.oti ? n += "." + o.descriptors[0].bytes[4].toString() : 221 === o.oti && (n = "vorbis")) : "audio" === e.type ? n += ".40.2" : n += ".20.9"
        } else if ("av01" === n)
            n += "." + (0,
            y.getAv1Codec)(_(t, "av1C"));
        else if ("vp09" === n) {
            var s = _(t, "vpcC")
              , l = s[0]
              , u = s[1]
              , c = s[2] >> 4
              , h = (15 & s[2]) >> 1
              , d = (15 & s[2]) >> 3
              , p = s[3]
              , f = s[4]
              , m = s[5];
            n += "." + (0,
            T.padStart)(l, 2, "0"),
            n += "." + (0,
            T.padStart)(u, 2, "0"),
            n += "." + (0,
            T.padStart)(c, 2, "0"),
            n += "." + (0,
            T.padStart)(h, 2, "0"),
            n += "." + (0,
            T.padStart)(p, 2, "0"),
            n += "." + (0,
            T.padStart)(f, 2, "0"),
            n += "." + (0,
            T.padStart)(m, 2, "0"),
            n += "." + (0,
            T.padStart)(d, 2, "0")
        } else if ("theo" === n)
            n = "theora";
        else if ("spex" === n)
            n = "speex";
        else if (".mp3" === n)
            n = "mp4a.40.34";
        else if ("msVo" === n)
            n = "vorbis";
        else if ("Opus" === n) {
            n = "opus";
            var g = _(t, "dOps");
            e.info.opus = (0,
            b.parseOpusHead)(g),
            e.info.codecDelay = 65e5
        } else
            n = n.toLowerCase();
        e.codec = n
    }
    t.addSampleDescription = x;
    t.parseTracks = function(e, g) {
        void 0 === g && (g = !0),
        e = (0,
        T.toUint8)(e);
        var t = S(e, ["moov", "trak"], !0)
          , v = [];
        return t.forEach(function(e) {
            var t = {
                bytes: e
            }
              , n = S(e, ["mdia"])[0]
              , i = S(n, ["hdlr"])[0]
              , r = (0,
            T.bytesToString)(i.subarray(8, 12));
            t.type = "soun" === r ? "audio" : "vide" === r ? "video" : r;
            var a = S(e, ["tkhd"])[0];
            if (a) {
                var o = new DataView(a.buffer,a.byteOffset,a.byteLength)
                  , s = o.getUint8(0);
                t.number = 0 === s ? o.getUint32(12) : o.getUint32(20)
            }
            var l = S(n, ["mdhd"])[0];
            if (l) {
                var u = 0 === l[0] ? 12 : 20;
                t.timescale = (l[u] << 24 | l[1 + u] << 16 | l[2 + u] << 8 | l[3 + u]) >>> 0
            }
            for (var c = S(n, ["minf", "stbl"])[0], h = S(c, ["stsd"])[0], d = (0,
            T.bytesToNumber)(h.subarray(4, 8)), p = 8; d--; ) {
                var f = (0,
                T.bytesToNumber)(h.subarray(p, p + 4))
                  , m = h.subarray(p + 4, p + 4 + f);
                x(t, m),
                p += 4 + f
            }
            g && (t.frameTable = w(c, t.timescale)),
            v.push(t)
        }),
        v
    }
    ;
    t.parseMediaInfo = function(e) {
        var t = S(e, ["moov", "mvhd"], !0)[0];
        if (t && t.length) {
            var n = {};
            return 1 === t[0] ? (n.timestampScale = (0,
            T.bytesToNumber)(t.subarray(20, 24)),
            n.duration = (0,
            T.bytesToNumber)(t.subarray(24, 32))) : (n.timestampScale = (0,
            T.bytesToNumber)(t.subarray(12, 16)),
            n.duration = (0,
            T.bytesToNumber)(t.subarray(16, 20))),
            n.bytes = t,
            n
        }
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.setOpusHead = t.parseOpusHead = t.OPUS_HEAD = void 0;
    var i = new Uint8Array([79, 112, 117, 115, 72, 101, 97, 100]);
    t.OPUS_HEAD = i;
    t.parseOpusHead = function(e) {
        var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
          , n = t.getUint8(0)
          , i = 0 !== n
          , r = {
            version: n,
            channels: t.getUint8(1),
            preSkip: t.getUint16(2, i),
            sampleRate: t.getUint32(4, i),
            outputGain: t.getUint16(8, i),
            channelMappingFamily: t.getUint8(10)
        };
        if (0 < r.channelMappingFamily && 10 < e.length) {
            r.streamCount = t.getUint8(11),
            r.twoChannelStreamCount = t.getUint8(12),
            r.channelMapping = [];
            for (var a = 0; a < r.channels; a++)
                r.channelMapping.push(t.getUint8(13 + a))
        }
        return r
    }
    ;
    t.setOpusHead = function(e) {
        var t = e.channelMappingFamily <= 0 ? 11 : 12 + e.channels
          , n = new DataView(new ArrayBuffer(t))
          , i = 0 !== e.version;
        return n.setUint8(0, e.version),
        n.setUint8(1, e.channels),
        n.setUint16(2, e.preSkip, i),
        n.setUint32(4, e.sampleRate, i),
        n.setUint16(8, e.outputGain, i),
        n.setUint8(10, e.channelMappingFamily),
        0 < e.channelMappingFamily && (n.setUint8(11, e.streamCount),
        e.channelMapping.foreach(function(e, t) {
            n.setUint8(12 + t, e)
        })),
        new Uint8Array(n.buffer)
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.parseData = t.parseTracks = t.decodeBlock = t.findEbml = t.EBML_TAGS = void 0;
    var x = n(56)
      , f = n(235)
      , T = {
        EBML: (0,
        x.toUint8)([26, 69, 223, 163]),
        DocType: (0,
        x.toUint8)([66, 130]),
        Segment: (0,
        x.toUint8)([24, 83, 128, 103]),
        SegmentInfo: (0,
        x.toUint8)([21, 73, 169, 102]),
        Tracks: (0,
        x.toUint8)([22, 84, 174, 107]),
        Track: (0,
        x.toUint8)([174]),
        TrackNumber: (0,
        x.toUint8)([215]),
        DefaultDuration: (0,
        x.toUint8)([35, 227, 131]),
        TrackEntry: (0,
        x.toUint8)([174]),
        TrackType: (0,
        x.toUint8)([131]),
        FlagDefault: (0,
        x.toUint8)([136]),
        CodecID: (0,
        x.toUint8)([134]),
        CodecPrivate: (0,
        x.toUint8)([99, 162]),
        VideoTrack: (0,
        x.toUint8)([224]),
        AudioTrack: (0,
        x.toUint8)([225]),
        Cluster: (0,
        x.toUint8)([31, 67, 182, 117]),
        Timestamp: (0,
        x.toUint8)([231]),
        TimestampScale: (0,
        x.toUint8)([42, 215, 177]),
        BlockGroup: (0,
        x.toUint8)([160]),
        BlockDuration: (0,
        x.toUint8)([155]),
        Block: (0,
        x.toUint8)([161]),
        SimpleBlock: (0,
        x.toUint8)([163])
    };
    t.EBML_TAGS = T;
    function S(e, t, n, i) {
        void 0 === n && (n = !0),
        void 0 === i && (i = !1);
        var r = function(e) {
            for (var t = 1, n = 0; n < o.length && !(e & o[n]); n++)
                t++;
            return t
        }(e[t])
          , a = e.subarray(t, t + r);
        return n && ((a = Array.prototype.slice.call(e, t, t + r))[0] ^= o[r - 1]),
        {
            length: r,
            value: (0,
            x.bytesToNumber)(a, {
                signed: i
            }),
            bytes: a
        }
    }
    function u(e) {
        return "string" == typeof e ? e.match(/.{1,2}/g).map(function(e) {
            return u(e)
        }) : "number" == typeof e ? (0,
        x.numberToBytes)(e) : e
    }
    function c(e, t, n) {
        if (n >= t.length)
            return t.length;
        var i = S(t, n, !1);
        if ((0,
        x.bytesMatch)(e.bytes, i.bytes))
            return n;
        var r = S(t, n + i.length);
        return c(e, t, n + r.length + r.value + i.length)
    }
    function E(e, t) {
        t = function(e) {
            return Array.isArray(e) ? e.map(function(e) {
                return u(e)
            }) : [u(e)]
        }(t),
        e = (0,
        x.toUint8)(e);
        var n = [];
        if (!t.length)
            return n;
        for (var i = 0; i < e.length; ) {
            var r = S(e, i, !1)
              , a = S(e, i + r.length)
              , o = i + r.length + a.length;
            127 === a.value && (a.value = c(r, e, o),
            a.value !== e.length && (a.value -= o));
            var s = o + a.value > e.length ? e.length : o + a.value
              , l = e.subarray(o, s);
            (0,
            x.bytesMatch)(t[0], r.bytes) && (1 === t.length ? n.push(l) : n = n.concat(E(l, t.slice(1)))),
            i += r.length + a.length + l.length
        }
        return n
    }
    var o = [128, 64, 32, 16, 8, 4, 2, 1];
    t.findEbml = E;
    function s(e, t, n, i) {
        var r;
        "group" === t && (r = (r = E(e, [T.BlockDuration])[0]) && 1 / n * (r = (0,
        x.bytesToNumber)(r)) * n / 1e3,
        e = E(e, [T.Block])[0],
        t = "block");
        var a = new DataView(e.buffer,e.byteOffset,e.byteLength)
          , o = S(e, 0)
          , s = a.getInt16(o.length, !1)
          , l = e[o.length + 2]
          , u = e.subarray(o.length + 3)
          , c = 1 / n * (i + s) * n / 1e3
          , h = {
            duration: r,
            trackNumber: o.value,
            keyframe: "simple" === t && l >> 7 == 1,
            invisible: (8 & l) >> 3 == 1,
            lacing: (6 & l) >> 1,
            discardable: "simple" === t && 1 == (1 & l),
            frames: [],
            pts: c,
            dts: c,
            timestamp: s
        };
        if (!h.lacing)
            return h.frames.push(u),
            h;
        var d = u[0] + 1
          , p = []
          , f = 1;
        if (2 === h.lacing)
            for (var m = (u.length - f) / d, g = 0; g < d; g++)
                p.push(m);
        if (1 === h.lacing)
            for (var v = 0; v < d - 1; v++) {
                for (var y = 0; y += u[f],
                255 === u[++f - 1]; )
                    ;
                p.push(y)
            }
        if (3 === h.lacing)
            for (var b = 0, _ = 0; _ < d - 1; _++) {
                var w = 0 === _ ? S(u, f) : S(u, f, !0, !0);
                b += w.value,
                p.push(b),
                f += w.length
            }
        return p.forEach(function(e) {
            h.frames.push(u.subarray(f, f + e)),
            f += e
        }),
        h
    }
    t.decodeBlock = s;
    function r(e) {
        e = (0,
        x.toUint8)(e);
        var p = []
          , t = E(e, [T.Segment, T.Tracks, T.Track]);
        return t.length || (t = E(e, [T.Tracks, T.Track])),
        t.length || (t = E(e, [T.Track])),
        t.length ? (t.forEach(function(e) {
            var t = E(e, T.TrackType)[0];
            if (t && t.length) {
                if (1 === t[0])
                    t = "video";
                else if (2 === t[0])
                    t = "audio";
                else {
                    if (17 !== t[0])
                        return;
                    t = "subtitle"
                }
                var n = {
                    rawCodec: (0,
                    x.bytesToString)(E(e, [T.CodecID])[0]),
                    type: t,
                    codecPrivate: E(e, [T.CodecPrivate])[0],
                    number: (0,
                    x.bytesToNumber)(E(e, [T.TrackNumber])[0]),
                    defaultDuration: (0,
                    x.bytesToNumber)(E(e, [T.DefaultDuration])[0]),
                    default: E(e, [T.FlagDefault])[0],
                    rawData: e
                }
                  , i = "";
                if (/V_MPEG4\/ISO\/AVC/.test(n.rawCodec))
                    i = "avc1." + (0,
                    f.getAvcCodec)(n.codecPrivate);
                else if (/V_MPEGH\/ISO\/HEVC/.test(n.rawCodec))
                    i = "hev1." + (0,
                    f.getHvcCodec)(n.codecPrivate);
                else if (/V_MPEG4\/ISO\/ASP/.test(n.rawCodec))
                    i = n.codecPrivate ? "mp4v.20." + n.codecPrivate[4].toString() : "mp4v.20.9";
                else if (/^V_THEORA/.test(n.rawCodec))
                    i = "theora";
                else if (/^V_VP8/.test(n.rawCodec))
                    i = "vp8";
                else if (/^V_VP9/.test(n.rawCodec))
                    if (n.codecPrivate) {
                        var r = function(e) {
                            for (var t = 0, n = {}; t < e.length; ) {
                                var i = 127 & e[t]
                                  , r = e[t + 1]
                                  , a = void 0;
                                a = 1 === r ? e[t + 2] : e.subarray(t + 2, t + 2 + r),
                                1 == i ? n.profile = a : 2 == i ? n.level = a : 3 == i ? n.bitDepth = a : 4 == i ? n.chromaSubsampling = a : n[i] = a,
                                t += 2 + r
                            }
                            return n
                        }(n.codecPrivate)
                          , a = r.profile
                          , o = r.level
                          , s = r.bitDepth
                          , l = r.chromaSubsampling;
                        i = "vp09.",
                        i += (0,
                        x.padStart)(a, 2, "0") + ".",
                        i += (0,
                        x.padStart)(o, 2, "0") + ".",
                        i += (0,
                        x.padStart)(s, 2, "0") + ".",
                        i += "" + (0,
                        x.padStart)(l, 2, "0");
                        var u = E(e, [224, [85, 176], [85, 177]])[0] || []
                          , c = E(e, [224, [85, 176], [85, 185]])[0] || []
                          , h = E(e, [224, [85, 176], [85, 186]])[0] || []
                          , d = E(e, [224, [85, 176], [85, 187]])[0] || [];
                        (u.length || c.length || h.length || d.length) && (i += "." + (0,
                        x.padStart)(d[0], 2, "0"),
                        i += "." + (0,
                        x.padStart)(h[0], 2, "0"),
                        i += "." + (0,
                        x.padStart)(u[0], 2, "0"),
                        i += "." + (0,
                        x.padStart)(c[0], 2, "0"))
                    } else
                        i = "vp9";
                else
                    /^V_AV1/.test(n.rawCodec) ? i = "av01." + (0,
                    f.getAv1Codec)(n.codecPrivate) : /A_ALAC/.test(n.rawCodec) ? i = "alac" : /A_MPEG\/L2/.test(n.rawCodec) ? i = "mp2" : /A_MPEG\/L3/.test(n.rawCodec) ? i = "mp3" : /^A_AAC/.test(n.rawCodec) ? i = n.codecPrivate ? "mp4a.40." + (n.codecPrivate[0] >>> 3).toString() : "mp4a.40.2" : /^A_AC3/.test(n.rawCodec) ? i = "ac-3" : /^A_PCM/.test(n.rawCodec) ? i = "pcm" : /^A_MS\/ACM/.test(n.rawCodec) ? i = "speex" : /^A_EAC3/.test(n.rawCodec) ? i = "ec-3" : /^A_VORBIS/.test(n.rawCodec) ? i = "vorbis" : /^A_FLAC/.test(n.rawCodec) ? i = "flac" : /^A_OPUS/.test(n.rawCodec) && (i = "opus");
                n.codec = i,
                p.push(n)
            }
        }),
        p.sort(function(e, t) {
            return e.number - t.number
        })) : p
    }
    t.parseTracks = r;
    t.parseData = function(e, t) {
        var a = []
          , n = E(e, [T.Segment])[0]
          , o = E(n, [T.SegmentInfo, T.TimestampScale])[0];
        o = o && o.length ? (0,
        x.bytesToNumber)(o) : 1e6;
        var i = E(n, [T.Cluster]);
        return t = t || r(n),
        i.forEach(function(e, t) {
            var n = E(e, [T.SimpleBlock]).map(function(e) {
                return {
                    type: "simple",
                    data: e
                }
            })
              , i = E(e, [T.BlockGroup]).map(function(e) {
                return {
                    type: "group",
                    data: e
                }
            })
              , r = E(e, [T.Timestamp])[0] || 0;
            r && r.length && (r = (0,
            x.bytesToNumber)(r)),
            n.concat(i).sort(function(e, t) {
                return e.data.byteOffset - t.data.byteOffset
            }).forEach(function(e, t) {
                var n = s(e.data, e.type, o, r);
                a.push(n)
            })
        }),
        {
            tracks: t,
            blocks: a
        }
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.findH265Nal = t.findH264Nal = t.findNal = t.discardEmulationPreventionBytes = t.EMULATION_PREVENTION = t.NAL_TYPE_TWO = t.NAL_TYPE_ONE = void 0;
    var u = n(56)
      , c = (0,
    u.toUint8)([0, 0, 0, 1]);
    t.NAL_TYPE_ONE = c;
    var h = (0,
    u.toUint8)([0, 0, 1]);
    t.NAL_TYPE_TWO = h;
    var o = (0,
    u.toUint8)([0, 0, 3]);
    t.EMULATION_PREVENTION = o;
    function d(e) {
        for (var t = [], n = 1; n < e.length - 2; )
            (0,
            u.bytesMatch)(e.subarray(n, n + 3), o) && (t.push(n + 2),
            n++),
            n++;
        if (0 === t.length)
            return e;
        var i = e.length - t.length
          , r = new Uint8Array(i)
          , a = 0;
        for (n = 0; n < i; a++,
        n++)
            a === t[0] && (a++,
            t.shift()),
            r[n] = e[a];
        return r
    }
    t.discardEmulationPreventionBytes = d;
    function i(e, t, n, i) {
        void 0 === i && (i = 1 / 0),
        e = (0,
        u.toUint8)(e),
        n = [].concat(n);
        for (var r, a = 0, o = 0; a < e.length && (o < i || r); ) {
            var s = void 0;
            if ((0,
            u.bytesMatch)(e.subarray(a), c) ? s = 4 : (0,
            u.bytesMatch)(e.subarray(a), h) && (s = 3),
            s) {
                if (o++,
                r)
                    return d(e.subarray(r, a));
                var l = void 0;
                "h264" === t ? l = 31 & e[a + s] : "h265" === t && (l = e[a + s] >> 1 & 63),
                -1 !== n.indexOf(l) && (r = a + s),
                a += s + ("h264" === t ? 1 : 2)
            } else
                a++
        }
        return e.subarray(0, 0)
    }
    t.findNal = i;
    t.findH264Nal = function(e, t, n) {
        return i(e, "h264", t, n)
    }
    ;
    t.findH265Nal = function(e, t, n) {
        return i(e, "h265", t, n)
    }
}
, function(e, t) {
    var n, i, r, a, o, s, l;
    n = function(e) {
        return 9e4 * e
    }
    ,
    i = function(e, t) {
        return e * t
    }
    ,
    r = function(e) {
        return e / 9e4
    }
    ,
    a = function(e, t) {
        return e / t
    }
    ,
    o = function(e, t) {
        return n(a(e, t))
    }
    ,
    s = function(e, t) {
        return i(r(e), t)
    }
    ,
    l = function(e, t, n) {
        return r(n ? e : e - t)
    }
    ,
    e.exports = {
        ONE_SECOND_IN_TS: 9e4,
        secondsToVideoTs: n,
        secondsToAudioTs: i,
        videoTsToSeconds: r,
        audioTsToSeconds: a,
        audioTsToVideoTs: o,
        videoTsToAudioTs: s,
        metadataTsToSeconds: l
    }
}
, function(e, t, n) {
    var i, r;
    "undefined" != typeof window && window,
    void 0 === (r = "function" == typeof (i = function() {
        "use strict";
        function e() {}
        var t = e.prototype;
        return t.on = function(e, t) {
            if (e && t) {
                var n = this._events = this._events || {}
                  , i = n[e] = n[e] || [];
                return -1 == i.indexOf(t) && i.push(t),
                this
            }
        }
        ,
        t.once = function(e, t) {
            if (e && t) {
                this.on(e, t);
                var n = this._onceEvents = this._onceEvents || {};
                return (n[e] = n[e] || {})[t] = !0,
                this
            }
        }
        ,
        t.off = function(e, t) {
            var n = this._events && this._events[e];
            if (n && n.length) {
                var i = n.indexOf(t);
                return -1 != i && n.splice(i, 1),
                this
            }
        }
        ,
        t.emitEvent = function(e, t) {
            var n = this._events && this._events[e];
            if (n && n.length) {
                n = n.slice(0),
                t = t || [];
                for (var i = this._onceEvents && this._onceEvents[e], r = 0; r < n.length; r++) {
                    var a = n[r];
                    i && i[a] && (this.off(e, a),
                    delete i[a]),
                    a.apply(this, t)
                }
                return this
            }
        }
        ,
        t.allOff = function() {
            delete this._events,
            delete this._onceEvents
        }
        ,
        e
    }
    ) ? i.call(t, n, t, e) : i) || (e.exports = r)
}
, function(e, t) {
    var n, i, r = e.exports = {};
    function a() {
        throw new Error("setTimeout has not been defined")
    }
    function o() {
        throw new Error("clearTimeout has not been defined")
    }
    function s(t) {
        if (n === setTimeout)
            return setTimeout(t, 0);
        if ((n === a || !n) && setTimeout)
            return n = setTimeout,
            setTimeout(t, 0);
        try {
            return n(t, 0)
        } catch (e) {
            try {
                return n.call(null, t, 0)
            } catch (e) {
                return n.call(this, t, 0)
            }
        }
    }
    !function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : a
        } catch (e) {
            n = a
        }
        try {
            i = "function" == typeof clearTimeout ? clearTimeout : o
        } catch (e) {
            i = o
        }
    }();
    var l, u = [], c = !1, h = -1;
    function d() {
        c && l && (c = !1,
        l.length ? u = l.concat(u) : h = -1,
        u.length && p())
    }
    function p() {
        if (!c) {
            var e = s(d);
            c = !0;
            for (var t = u.length; t; ) {
                for (l = u,
                u = []; ++h < t; )
                    l && l[h].run();
                h = -1,
                t = u.length
            }
            l = null,
            c = !1,
            function(t) {
                if (i === clearTimeout)
                    return clearTimeout(t);
                if ((i === o || !i) && clearTimeout)
                    return i = clearTimeout,
                    clearTimeout(t);
                try {
                    i(t)
                } catch (e) {
                    try {
                        return i.call(null, t)
                    } catch (e) {
                        return i.call(this, t)
                    }
                }
            }(e)
        }
    }
    function f(e, t) {
        this.fun = e,
        this.array = t
    }
    function m() {}
    r.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (1 < arguments.length)
            for (var n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
        u.push(new f(e,t)),
        1 !== u.length || c || s(p)
    }
    ,
    f.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    r.title = "browser",
    r.browser = !0,
    r.env = {},
    r.argv = [],
    r.version = "",
    r.versions = {},
    r.on = m,
    r.addListener = m,
    r.once = m,
    r.off = m,
    r.removeListener = m,
    r.removeAllListeners = m,
    r.emit = m,
    r.prependListener = m,
    r.prependOnceListener = m,
    r.listeners = function(e) {
        return []
    }
    ,
    r.binding = function(e) {
        throw new Error("process.binding is not supported")
    }
    ,
    r.cwd = function() {
        return "/"
    }
    ,
    r.chdir = function(e) {
        throw new Error("process.chdir is not supported")
    }
    ,
    r.umask = function() {
        return 0
    }
}
, function(e, t, n) {
    var i = {
        "./ar": 236,
        "./ar.js": 236,
        "./be": 237,
        "./be.js": 237,
        "./bg": 238,
        "./bg.js": 238,
        "./ca": 239,
        "./ca.js": 239,
        "./da": 240,
        "./da.js": 240,
        "./de": 241,
        "./de.js": 241,
        "./el": 242,
        "./el.js": 242,
        "./en": 243,
        "./en.js": 243,
        "./en_short": 244,
        "./en_short.js": 244,
        "./es": 245,
        "./es.js": 245,
        "./eu": 246,
        "./eu.js": 246,
        "./fa": 247,
        "./fa.js": 247,
        "./fi": 248,
        "./fi.js": 248,
        "./fr": 249,
        "./fr.js": 249,
        "./he": 250,
        "./he.js": 250,
        "./hu": 251,
        "./hu.js": 251,
        "./in_BG": 252,
        "./in_BG.js": 252,
        "./in_HI": 253,
        "./in_HI.js": 253,
        "./in_ID": 254,
        "./in_ID.js": 254,
        "./it": 255,
        "./it.js": 255,
        "./ja": 256,
        "./ja.js": 256,
        "./ko": 257,
        "./ko.js": 257,
        "./locales": 154,
        "./locales.js": 154,
        "./ml": 258,
        "./ml.js": 258,
        "./my": 259,
        "./my.js": 259,
        "./nb_NO": 260,
        "./nb_NO.js": 260,
        "./nl": 261,
        "./nl.js": 261,
        "./nn_NO": 262,
        "./nn_NO.js": 262,
        "./pl": 263,
        "./pl.js": 263,
        "./pt_BR": 264,
        "./pt_BR.js": 264,
        "./ro": 265,
        "./ro.js": 265,
        "./ru": 266,
        "./ru.js": 266,
        "./sv": 267,
        "./sv.js": 267,
        "./ta": 268,
        "./ta.js": 268,
        "./th": 269,
        "./th.js": 269,
        "./tr": 270,
        "./tr.js": 270,
        "./uk": 271,
        "./uk.js": 271,
        "./vi": 272,
        "./vi.js": 272,
        "./zh_CN": 273,
        "./zh_CN.js": 273,
        "./zh_TW": 274,
        "./zh_TW.js": 274
    };
    function r(e) {
        var t = a(e);
        return n(t)
    }
    function a(e) {
        if (n.o(i, e))
            return i[e];
        var t = new Error("Cannot find module '" + e + "'");
        throw t.code = "MODULE_NOT_FOUND",
        t
    }
    r.keys = function() {
        return Object.keys(i)
    }
    ,
    r.resolve = a,
    (e.exports = r).id = 596
}
, function(e, t, n) {
    "use strict";
    n.r(t);
    var i = n(84)
      , r = n.n(i)
      , a = function() {
        function e() {
            this.listeners = {}
        }
        var t = e.prototype;
        return t.on = function(e, t) {
            this.listeners[e] || (this.listeners[e] = []),
            this.listeners[e].push(t)
        }
        ,
        t.off = function(e, t) {
            if (!this.listeners[e])
                return !1;
            var n = this.listeners[e].indexOf(t);
            return this.listeners[e] = this.listeners[e].slice(0),
            this.listeners[e].splice(n, 1),
            -1 < n
        }
        ,
        t.trigger = function(e, t) {
            var n = this.listeners[e];
            if (n)
                if (2 === arguments.length)
                    for (var i = n.length, r = 0; r < i; ++r)
                        n[r].call(this, t);
                else
                    for (var a = Array.prototype.slice.call(arguments, 1), o = n.length, s = 0; s < o; ++s)
                        n[s].apply(this, a)
        }
        ,
        t.dispose = function() {
            this.listeners = {}
        }
        ,
        t.pipe = function(t) {
            this.on("data", function(e) {
                t.push(e)
            })
        }
        ,
        e
    }()
      , o = n(82)
      , f = n.n(o)
      , s = n(156)
      , m = n.n(s)
      , g = n(105);
    n.d(t, "LineStream", function() {
        return b
    }),
    n.d(t, "ParseStream", function() {
        return _
    }),
    n.d(t, "Parser", function() {
        return h
    });
    function l(e) {
        var t = /([0-9.]*)?@?([0-9.]*)?/.exec(e || "")
          , n = {};
        return t[1] && (n.length = parseInt(t[1], 10)),
        t[2] && (n.offset = parseInt(t[2], 10)),
        n
    }
    function u(e) {
        for (var t, n = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), i = {}, r = n.length; r--; )
            "" !== n[r] && ((t = /([^=]*)=(.*)/.exec(n[r]).slice(1))[0] = t[0].replace(/^\s+|\s+$/g, ""),
            t[1] = t[1].replace(/^\s+|\s+$/g, ""),
            t[1] = t[1].replace(/^['"](.*)['"]$/g, "$1"),
            i[t[0]] = t[1]);
        return i
    }
    function v(t) {
        var n = {};
        return Object.keys(t).forEach(function(e) {
            n[function(e) {
                return e.toLowerCase().replace(/-(\w)/g, function(e) {
                    return e[1].toUpperCase()
                })
            }(e)] = t[e]
        }),
        n
    }
    function y(e) {
        var t = e.serverControl
          , n = e.targetDuration
          , i = e.partTargetDuration;
        if (t) {
            var r = "#EXT-X-SERVER-CONTROL"
              , a = "holdBack"
              , o = "partHoldBack"
              , s = n && 3 * n
              , l = i && 2 * i;
            n && !t.hasOwnProperty(a) && (t[a] = s,
            this.trigger("info", {
                message: r + " defaulting HOLD-BACK to targetDuration * 3 (" + s + ")."
            })),
            s && t[a] < s && (this.trigger("warn", {
                message: r + " clamping HOLD-BACK (" + t[a] + ") to targetDuration * 3 (" + s + ")"
            }),
            t[a] = s),
            i && !t.hasOwnProperty(o) && (t[o] = 3 * i,
            this.trigger("info", {
                message: r + " defaulting PART-HOLD-BACK to partTargetDuration * 3 (" + t[o] + ")."
            })),
            i && t[o] < l && (this.trigger("warn", {
                message: r + " clamping PART-HOLD-BACK (" + t[o] + ") to partTargetDuration * 2 (" + l + ")."
            }),
            t[o] = l)
        }
    }
    /*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */
    var b = function(t) {
        function e() {
            var e;
            return (e = t.call(this) || this).buffer = "",
            e
        }
        return r()(e, t),
        e.prototype.push = function(e) {
            var t;
            for (this.buffer += e,
            t = this.buffer.indexOf("\n"); -1 < t; t = this.buffer.indexOf("\n"))
                this.trigger("data", this.buffer.substring(0, t)),
                this.buffer = this.buffer.substring(t + 1)
        }
        ,
        e
    }(a)
      , c = String.fromCharCode(9)
      , _ = function(t) {
        function e() {
            var e;
            return (e = t.call(this) || this).customParsers = [],
            e.tagMappers = [],
            e
        }
        r()(e, t);
        var n = e.prototype;
        return n.push = function(i) {
            var a, o, s = this;
            0 !== (i = i.trim()).length && ("#" === i[0] ? this.tagMappers.reduce(function(e, t) {
                var n = t(i);
                return n === i ? e : e.concat([n])
            }, [i]).forEach(function(e) {
                for (var t = 0; t < s.customParsers.length; t++)
                    if (s.customParsers[t].call(s, e))
                        return;
                if (0 === e.indexOf("#EXT"))
                    if (e = e.replace("\r", ""),
                    a = /^#EXTM3U/.exec(e))
                        s.trigger("data", {
                            type: "tag",
                            tagType: "m3u"
                        });
                    else {
                        if (a = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "inf"
                            },
                            a[1] && (o.duration = parseFloat(a[1])),
                            a[2] && (o.title = a[2]),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "targetduration"
                            },
                            a[1] && (o.duration = parseInt(a[1], 10)),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "version"
                            },
                            a[1] && (o.version = parseInt(a[1], 10)),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "media-sequence"
                            },
                            a[1] && (o.number = parseInt(a[1], 10)),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "discontinuity-sequence"
                            },
                            a[1] && (o.number = parseInt(a[1], 10)),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "playlist-type"
                            },
                            a[1] && (o.playlistType = a[1]),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))
                            return o = f()(l(a[1]), {
                                type: "tag",
                                tagType: "byterange"
                            }),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))
                            return o = {
                                type: "tag",
                                tagType: "allow-cache"
                            },
                            a[1] && (o.allowed = !/NO/.test(a[1])),
                            void s.trigger("data", o);
                        if (a = /^#EXT-X-MAP:?(.*)$/.exec(e)) {
                            if (o = {
                                type: "tag",
                                tagType: "map"
                            },
                            a[1]) {
                                var n = u(a[1]);
                                n.URI && (o.uri = n.URI),
                                n.BYTERANGE && (o.byterange = l(n.BYTERANGE))
                            }
                            s.trigger("data", o)
                        } else if (a = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e)) {
                            if (o = {
                                type: "tag",
                                tagType: "stream-inf"
                            },
                            a[1]) {
                                if (o.attributes = u(a[1]),
                                o.attributes.RESOLUTION) {
                                    var i = o.attributes.RESOLUTION.split("x")
                                      , r = {};
                                    i[0] && (r.width = parseInt(i[0], 10)),
                                    i[1] && (r.height = parseInt(i[1], 10)),
                                    o.attributes.RESOLUTION = r
                                }
                                o.attributes.BANDWIDTH && (o.attributes.BANDWIDTH = parseInt(o.attributes.BANDWIDTH, 10)),
                                o.attributes["PROGRAM-ID"] && (o.attributes["PROGRAM-ID"] = parseInt(o.attributes["PROGRAM-ID"], 10))
                            }
                            s.trigger("data", o)
                        } else {
                            if (a = /^#EXT-X-MEDIA:?(.*)$/.exec(e))
                                return o = {
                                    type: "tag",
                                    tagType: "media"
                                },
                                a[1] && (o.attributes = u(a[1])),
                                void s.trigger("data", o);
                            if (a = /^#EXT-X-ENDLIST/.exec(e))
                                s.trigger("data", {
                                    type: "tag",
                                    tagType: "endlist"
                                });
                            else if (a = /^#EXT-X-DISCONTINUITY/.exec(e))
                                s.trigger("data", {
                                    type: "tag",
                                    tagType: "discontinuity"
                                });
                            else {
                                if (a = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "program-date-time"
                                    },
                                    a[1] && (o.dateTimeString = a[1],
                                    o.dateTimeObject = new Date(a[1])),
                                    void s.trigger("data", o);
                                if (a = /^#EXT-X-KEY:?(.*)$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "key"
                                    },
                                    a[1] && (o.attributes = u(a[1]),
                                    o.attributes.IV && ("0x" === o.attributes.IV.substring(0, 2).toLowerCase() && (o.attributes.IV = o.attributes.IV.substring(2)),
                                    o.attributes.IV = o.attributes.IV.match(/.{8}/g),
                                    o.attributes.IV[0] = parseInt(o.attributes.IV[0], 16),
                                    o.attributes.IV[1] = parseInt(o.attributes.IV[1], 16),
                                    o.attributes.IV[2] = parseInt(o.attributes.IV[2], 16),
                                    o.attributes.IV[3] = parseInt(o.attributes.IV[3], 16),
                                    o.attributes.IV = new Uint32Array(o.attributes.IV))),
                                    void s.trigger("data", o);
                                if (a = /^#EXT-X-START:?(.*)$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "start"
                                    },
                                    a[1] && (o.attributes = u(a[1]),
                                    o.attributes["TIME-OFFSET"] = parseFloat(o.attributes["TIME-OFFSET"]),
                                    o.attributes.PRECISE = /YES/.test(o.attributes.PRECISE)),
                                    void s.trigger("data", o);
                                if (a = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "cue-out-cont"
                                    },
                                    a[1] ? o.data = a[1] : o.data = "",
                                    void s.trigger("data", o);
                                if (a = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "cue-out"
                                    },
                                    a[1] ? o.data = a[1] : o.data = "",
                                    void s.trigger("data", o);
                                if (a = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e))
                                    return o = {
                                        type: "tag",
                                        tagType: "cue-in"
                                    },
                                    a[1] ? o.data = a[1] : o.data = "",
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-SKIP:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "skip"
                                    }).attributes = u(a[1]),
                                    o.attributes.hasOwnProperty("SKIPPED-SEGMENTS") && (o.attributes["SKIPPED-SEGMENTS"] = parseInt(o.attributes["SKIPPED-SEGMENTS"], 10)),
                                    o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES") && (o.attributes["RECENTLY-REMOVED-DATERANGES"] = o.attributes["RECENTLY-REMOVED-DATERANGES"].split(c)),
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-PART:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "part"
                                    }).attributes = u(a[1]),
                                    ["DURATION"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = parseFloat(o.attributes[e]))
                                    }),
                                    ["INDEPENDENT", "GAP"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = /YES/.test(o.attributes[e]))
                                    }),
                                    o.attributes.hasOwnProperty("BYTERANGE") && (o.attributes.byterange = l(o.attributes.BYTERANGE)),
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "server-control"
                                    }).attributes = u(a[1]),
                                    ["CAN-SKIP-UNTIL", "PART-HOLD-BACK", "HOLD-BACK"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = parseFloat(o.attributes[e]))
                                    }),
                                    ["CAN-SKIP-DATERANGES", "CAN-BLOCK-RELOAD"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = /YES/.test(o.attributes[e]))
                                    }),
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-PART-INF:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "part-inf"
                                    }).attributes = u(a[1]),
                                    ["PART-TARGET"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = parseFloat(o.attributes[e]))
                                    }),
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "preload-hint"
                                    }).attributes = u(a[1]),
                                    ["BYTERANGE-START", "BYTERANGE-LENGTH"].forEach(function(e) {
                                        if (o.attributes.hasOwnProperty(e)) {
                                            o.attributes[e] = parseInt(o.attributes[e], 10);
                                            var t = "BYTERANGE-LENGTH" === e ? "length" : "offset";
                                            o.attributes.byterange = o.attributes.byterange || {},
                                            o.attributes.byterange[t] = o.attributes[e],
                                            delete o.attributes[e]
                                        }
                                    }),
                                    void s.trigger("data", o);
                                if ((a = /^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e)) && a[1])
                                    return (o = {
                                        type: "tag",
                                        tagType: "rendition-report"
                                    }).attributes = u(a[1]),
                                    ["LAST-MSN", "LAST-PART"].forEach(function(e) {
                                        o.attributes.hasOwnProperty(e) && (o.attributes[e] = parseInt(o.attributes[e], 10))
                                    }),
                                    void s.trigger("data", o);
                                s.trigger("data", {
                                    type: "tag",
                                    data: e.slice(4)
                                })
                            }
                        }
                    }
                else
                    s.trigger("data", {
                        type: "comment",
                        text: e.slice(1)
                    })
            }) : this.trigger("data", {
                type: "uri",
                uri: i
            }))
        }
        ,
        n.addParser = function(e) {
            var t = this
              , n = e.expression
              , i = e.customType
              , r = e.dataParser
              , a = e.segment;
            "function" != typeof r && (r = function(e) {
                return e
            }
            ),
            this.customParsers.push(function(e) {
                if (n.exec(e))
                    return t.trigger("data", {
                        type: "custom",
                        data: r(e),
                        customType: i,
                        segment: a
                    }),
                    !0
            })
        }
        ,
        n.addTagMapper = function(e) {
            var t = e.expression
              , n = e.map;
            this.tagMappers.push(function(e) {
                return t.test(e) ? n(e) : e
            })
        }
        ,
        e
    }(a)
      , h = function(t) {
        function e() {
            var e;
            (e = t.call(this) || this).lineStream = new b,
            e.parseStream = new _,
            e.lineStream.pipe(e.parseStream);
            var i, r, a = m()(e), s = [], l = {}, u = !1, c = {
                AUDIO: {},
                VIDEO: {},
                "CLOSED-CAPTIONS": {},
                SUBTITLES: {}
            }, h = 0;
            e.manifest = {
                allowCache: !0,
                discontinuityStarts: [],
                segments: []
            };
            var d = 0
              , p = 0;
            return e.on("end", function() {
                l.uri || !l.parts && !l.preloadHints || (!l.map && i && (l.map = i),
                !l.key && r && (l.key = r),
                l.timeline || "number" != typeof h || (l.timeline = h),
                e.manifest.preloadSegment = l)
            }),
            e.parseStream.on("data", function(o) {
                var t, n;
                ({
                    tag: function() {
                        ({
                            version: function() {
                                o.version && (this.manifest.version = o.version)
                            },
                            "allow-cache": function() {
                                this.manifest.allowCache = o.allowed,
                                "allowed"in o || (this.trigger("info", {
                                    message: "defaulting allowCache to YES"
                                }),
                                this.manifest.allowCache = !0)
                            },
                            byterange: function() {
                                var e = {};
                                "length"in o && ((l.byterange = e).length = o.length,
                                "offset"in o || (o.offset = d)),
                                "offset"in o && ((l.byterange = e).offset = o.offset),
                                d = e.offset + e.length
                            },
                            endlist: function() {
                                this.manifest.endList = !0
                            },
                            inf: function() {
                                "mediaSequence"in this.manifest || (this.manifest.mediaSequence = 0,
                                this.trigger("info", {
                                    message: "defaulting media sequence to zero"
                                })),
                                "discontinuitySequence"in this.manifest || (this.manifest.discontinuitySequence = 0,
                                this.trigger("info", {
                                    message: "defaulting discontinuity sequence to zero"
                                })),
                                0 < o.duration && (l.duration = o.duration),
                                0 === o.duration && (l.duration = .01,
                                this.trigger("info", {
                                    message: "updating zero segment duration to a small value"
                                })),
                                this.manifest.segments = s
                            },
                            key: function() {
                                if (o.attributes)
                                    if ("NONE" !== o.attributes.METHOD)
                                        if (o.attributes.URI) {
                                            if ("com.apple.streamingkeydelivery" === o.attributes.KEYFORMAT)
                                                return this.manifest.contentProtection = this.manifest.contentProtection || {},
                                                void (this.manifest.contentProtection["com.apple.fps.1_0"] = {
                                                    attributes: o.attributes
                                                });
                                            if ("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" === o.attributes.KEYFORMAT) {
                                                return -1 === ["SAMPLE-AES", "SAMPLE-AES-CTR", "SAMPLE-AES-CENC"].indexOf(o.attributes.METHOD) ? void this.trigger("warn", {
                                                    message: "invalid key method provided for Widevine"
                                                }) : ("SAMPLE-AES-CENC" === o.attributes.METHOD && this.trigger("warn", {
                                                    message: "SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"
                                                }),
                                                "data:text/plain;base64," !== o.attributes.URI.substring(0, 23) ? void this.trigger("warn", {
                                                    message: "invalid key URI provided for Widevine"
                                                }) : o.attributes.KEYID && "0x" === o.attributes.KEYID.substring(0, 2) ? (this.manifest.contentProtection = this.manifest.contentProtection || {},
                                                void (this.manifest.contentProtection["com.widevine.alpha"] = {
                                                    attributes: {
                                                        schemeIdUri: o.attributes.KEYFORMAT,
                                                        keyId: o.attributes.KEYID.substring(2)
                                                    },
                                                    pssh: Object(g.a)(o.attributes.URI.split(",")[1])
                                                })) : void this.trigger("warn", {
                                                    message: "invalid key ID provided for Widevine"
                                                }))
                                            }
                                            o.attributes.METHOD || this.trigger("warn", {
                                                message: "defaulting key method to AES-128"
                                            }),
                                            r = {
                                                method: o.attributes.METHOD || "AES-128",
                                                uri: o.attributes.URI
                                            },
                                            void 0 !== o.attributes.IV && (r.iv = o.attributes.IV)
                                        } else
                                            this.trigger("warn", {
                                                message: "ignoring key declaration without URI"
                                            });
                                    else
                                        r = null;
                                else
                                    this.trigger("warn", {
                                        message: "ignoring key declaration without attribute list"
                                    })
                            },
                            "media-sequence": function() {
                                isFinite(o.number) ? this.manifest.mediaSequence = o.number : this.trigger("warn", {
                                    message: "ignoring invalid media sequence: " + o.number
                                })
                            },
                            "discontinuity-sequence": function() {
                                isFinite(o.number) ? (this.manifest.discontinuitySequence = o.number,
                                h = o.number) : this.trigger("warn", {
                                    message: "ignoring invalid discontinuity sequence: " + o.number
                                })
                            },
                            "playlist-type": function() {
                                /VOD|EVENT/.test(o.playlistType) ? this.manifest.playlistType = o.playlistType : this.trigger("warn", {
                                    message: "ignoring unknown playlist type: " + o.playlist
                                })
                            },
                            map: function() {
                                i = {},
                                o.uri && (i.uri = o.uri),
                                o.byterange && (i.byterange = o.byterange),
                                r && (i.key = r)
                            },
                            "stream-inf": function() {
                                this.manifest.playlists = s,
                                this.manifest.mediaGroups = this.manifest.mediaGroups || c,
                                o.attributes ? (l.attributes || (l.attributes = {}),
                                f()(l.attributes, o.attributes)) : this.trigger("warn", {
                                    message: "ignoring empty stream-inf attributes"
                                })
                            },
                            media: function() {
                                if (this.manifest.mediaGroups = this.manifest.mediaGroups || c,
                                o.attributes && o.attributes.TYPE && o.attributes["GROUP-ID"] && o.attributes.NAME) {
                                    var e = this.manifest.mediaGroups[o.attributes.TYPE];
                                    e[o.attributes["GROUP-ID"]] = e[o.attributes["GROUP-ID"]] || {},
                                    t = e[o.attributes["GROUP-ID"]],
                                    (n = {
                                        default: /yes/i.test(o.attributes.DEFAULT)
                                    }).default ? n.autoselect = !0 : n.autoselect = /yes/i.test(o.attributes.AUTOSELECT),
                                    o.attributes.LANGUAGE && (n.language = o.attributes.LANGUAGE),
                                    o.attributes.URI && (n.uri = o.attributes.URI),
                                    o.attributes["INSTREAM-ID"] && (n.instreamId = o.attributes["INSTREAM-ID"]),
                                    o.attributes.CHARACTERISTICS && (n.characteristics = o.attributes.CHARACTERISTICS),
                                    o.attributes.FORCED && (n.forced = /yes/i.test(o.attributes.FORCED)),
                                    t[o.attributes.NAME] = n
                                } else
                                    this.trigger("warn", {
                                        message: "ignoring incomplete or missing media group"
                                    })
                            },
                            discontinuity: function() {
                                h += 1,
                                l.discontinuity = !0,
                                this.manifest.discontinuityStarts.push(s.length)
                            },
                            "program-date-time": function() {
                                void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = o.dateTimeString,
                                this.manifest.dateTimeObject = o.dateTimeObject),
                                l.dateTimeString = o.dateTimeString,
                                l.dateTimeObject = o.dateTimeObject
                            },
                            targetduration: function() {
                                !isFinite(o.duration) || o.duration < 0 ? this.trigger("warn", {
                                    message: "ignoring invalid target duration: " + o.duration
                                }) : (this.manifest.targetDuration = o.duration,
                                y.call(this, this.manifest))
                            },
                            start: function() {
                                o.attributes && !isNaN(o.attributes["TIME-OFFSET"]) ? this.manifest.start = {
                                    timeOffset: o.attributes["TIME-OFFSET"],
                                    precise: o.attributes.PRECISE
                                } : this.trigger("warn", {
                                    message: "ignoring start declaration without appropriate attribute list"
                                })
                            },
                            "cue-out": function() {
                                l.cueOut = o.data
                            },
                            "cue-out-cont": function() {
                                l.cueOutCont = o.data
                            },
                            "cue-in": function() {
                                l.cueIn = o.data
                            },
                            skip: function() {
                                this.manifest.skip = v(o.attributes),
                                this.warnOnMissingAttributes_("#EXT-X-SKIP", o.attributes, ["SKIPPED-SEGMENTS"])
                            },
                            part: function() {
                                var n = this;
                                u = !0;
                                var e = this.manifest.segments.length
                                  , t = v(o.attributes);
                                l.parts = l.parts || [],
                                l.parts.push(t),
                                t.byterange && (t.byterange.hasOwnProperty("offset") || (t.byterange.offset = p),
                                p = t.byterange.offset + t.byterange.length);
                                var i = l.parts.length - 1;
                                this.warnOnMissingAttributes_("#EXT-X-PART #" + i + " for segment #" + e, o.attributes, ["URI", "DURATION"]),
                                this.manifest.renditionReports && this.manifest.renditionReports.forEach(function(e, t) {
                                    e.hasOwnProperty("lastPart") || n.trigger("warn", {
                                        message: "#EXT-X-RENDITION-REPORT #" + t + " lacks required attribute(s): LAST-PART"
                                    })
                                })
                            },
                            "server-control": function() {
                                var e = this.manifest.serverControl = v(o.attributes);
                                e.hasOwnProperty("canBlockReload") || (e.canBlockReload = !1,
                                this.trigger("info", {
                                    message: "#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"
                                })),
                                y.call(this, this.manifest),
                                e.canSkipDateranges && !e.hasOwnProperty("canSkipUntil") && this.trigger("warn", {
                                    message: "#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"
                                })
                            },
                            "preload-hint": function() {
                                var e = this.manifest.segments.length
                                  , t = v(o.attributes)
                                  , n = t.type && "PART" === t.type;
                                l.preloadHints = l.preloadHints || [],
                                l.preloadHints.push(t),
                                t.byterange && (t.byterange.hasOwnProperty("offset") || (t.byterange.offset = n ? p : 0,
                                n && (p = t.byterange.offset + t.byterange.length)));
                                var i = l.preloadHints.length - 1;
                                if (this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #" + i + " for segment #" + e, o.attributes, ["TYPE", "URI"]),
                                t.type)
                                    for (var r = 0; r < l.preloadHints.length - 1; r++) {
                                        var a = l.preloadHints[r];
                                        a.type && a.type === t.type && this.trigger("warn", {
                                            message: "#EXT-X-PRELOAD-HINT #" + i + " for segment #" + e + " has the same TYPE " + t.type + " as preload hint #" + r
                                        })
                                    }
                            },
                            "rendition-report": function() {
                                var e = v(o.attributes);
                                this.manifest.renditionReports = this.manifest.renditionReports || [],
                                this.manifest.renditionReports.push(e);
                                var t = this.manifest.renditionReports.length - 1
                                  , n = ["LAST-MSN", "URI"];
                                u && n.push("LAST-PART"),
                                this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #" + t, o.attributes, n)
                            },
                            "part-inf": function() {
                                this.manifest.partInf = v(o.attributes),
                                this.warnOnMissingAttributes_("#EXT-X-PART-INF", o.attributes, ["PART-TARGET"]),
                                this.manifest.partInf.partTarget && (this.manifest.partTargetDuration = this.manifest.partInf.partTarget),
                                y.call(this, this.manifest)
                            }
                        }[o.tagType] || function() {}
                        ).call(a)
                    },
                    uri: function() {
                        l.uri = o.uri,
                        s.push(l),
                        !this.manifest.targetDuration || "duration"in l || (this.trigger("warn", {
                            message: "defaulting segment duration to the target duration"
                        }),
                        l.duration = this.manifest.targetDuration),
                        r && (l.key = r),
                        l.timeline = h,
                        i && (l.map = i),
                        p = 0,
                        l = {}
                    },
                    comment: function() {},
                    custom: function() {
                        o.segment ? (l.custom = l.custom || {},
                        l.custom[o.customType] = o.data) : (this.manifest.custom = this.manifest.custom || {},
                        this.manifest.custom[o.customType] = o.data)
                    }
                })[o.type].call(a)
            }),
            e
        }
        r()(e, t);
        var n = e.prototype;
        return n.warnOnMissingAttributes_ = function(e, t, n) {
            var i = [];
            n.forEach(function(e) {
                t.hasOwnProperty(e) || i.push(e)
            }),
            i.length && this.trigger("warn", {
                message: e + " lacks required attribute(s): " + i.join(", ")
            })
        }
        ,
        n.push = function(e) {
            this.lineStream.push(e)
        }
        ,
        n.end = function() {
            this.lineStream.push("\n"),
            this.trigger("end")
        }
        ,
        n.addParser = function(e) {
            this.parseStream.addParser(e)
        }
        ,
        n.addTagMapper = function(e) {
            this.parseStream.addTagMapper(e)
        }
        ,
        e
    }(a)
}
, function(e, t, n) {
    "use strict";
    n.r(t);
    var i = n(104)
      , o = n.n(i)
      , r = n(17)
      , s = n.n(r)
      , l = "http://example.com"
      , p = function(e, t) {
        if (/^[a-z]+:/i.test(t))
            return t;
        /^data:/.test(e) && (e = s.a.location && s.a.location.href || "");
        var n = "function" == typeof s.a.URL
          , i = /^\/\//.test(e)
          , r = !s.a.location && !/\/\//i.test(e);
        if (n ? e = new s.a.URL(e,s.a.location || l) : /\/\//i.test(e) || (e = o.a.buildAbsoluteURL(s.a.location && s.a.location.href || "", e)),
        n) {
            var a = new URL(t,e);
            return r ? a.href.slice(l.length) : i ? a.href.slice(a.protocol.length) : a.href
        }
        return o.a.buildAbsoluteURL(e, t)
    }
      , a = n(289)
      , f = n.n(a)
      , v = n(105)
      , u = n(290);
    n.d(t, "VERSION", function() {
        return te
    }),
    n.d(t, "addSidxSegmentsToPlaylist", function() {
        return q
    }),
    n.d(t, "generateSidxKey", function() {
        return $
    }),
    n.d(t, "inheritAttributes", function() {
        return J
    }),
    n.d(t, "parse", function() {
        return ne
    }),
    n.d(t, "parseUTCTiming", function() {
        return ie
    }),
    n.d(t, "stringToMpdXml", function() {
        return ee
    }),
    n.d(t, "toM3u8", function() {
        return X
    }),
    n.d(t, "toPlaylists", function() {
        return K
    });
    function c(e) {
        return !!e && "object" == typeof e
    }
    function y() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
            t[n] = arguments[n];
        return t.reduce(function(t, n) {
            return "object" != typeof n || Object.keys(n).forEach(function(e) {
                Array.isArray(t[e]) && Array.isArray(n[e]) ? t[e] = t[e].concat(n[e]) : c(t[e]) && c(n[e]) ? t[e] = y(t[e], n[e]) : t[e] = n[e]
            }),
            t
        }, {})
    }
    function b(e) {
        return e.reduce(function(e, t) {
            return e.concat(t)
        }, [])
    }
    function h(e) {
        if (!e.length)
            return [];
        for (var t = [], n = 0; n < e.length; n++)
            t.push(e[n]);
        return t
    }
    function d(e) {
        var t = e.baseUrl
          , n = void 0 === t ? "" : t
          , i = e.source
          , r = void 0 === i ? "" : i
          , a = e.range
          , o = void 0 === a ? "" : a
          , s = e.indexRange
          , l = void 0 === s ? "" : s
          , u = {
            uri: r,
            resolvedUri: p(n || "", r)
        };
        if (o || l) {
            var c = (o || l).split("-")
              , h = parseInt(c[0], 10)
              , d = parseInt(c[1], 10);
            u.byterange = {
                length: d - h + 1,
                offset: h
            }
        }
        return u
    }
    function _(e) {
        return e && "number" != typeof e && (e = parseInt(e, 10)),
        isNaN(e) ? null : e
    }
    function m(e) {
        var t = e.type
          , n = e.duration
          , i = e.timescale
          , r = void 0 === i ? 1 : i
          , a = e.periodDuration
          , o = e.sourceDuration
          , s = W[t](e)
          , l = function(e, t) {
            for (var n = [], i = e; i < t; i++)
                n.push(i);
            return n
        }(s.start, s.end).map(function(s) {
            return function(e, t) {
                var n = s.duration
                  , i = s.timescale
                  , r = void 0 === i ? 1 : i
                  , a = s.periodIndex
                  , o = s.startNumber;
                return {
                    number: (void 0 === o ? 1 : o) + e,
                    duration: n / r,
                    timeline: a,
                    time: t * n
                }
            }
        }(e));
        if ("static" === t) {
            var u = l.length - 1
              , c = "number" == typeof a ? a : o;
            l[u].duration = c - n / r * u
        }
        return l
    }
    function w(e) {
        var t = e.baseUrl
          , n = e.initialization
          , i = void 0 === n ? {} : n
          , r = e.sourceDuration
          , a = e.indexRange
          , o = void 0 === a ? "" : a
          , s = e.duration;
        if (!t)
            throw new Error(H);
        var l = d({
            baseUrl: t,
            source: i.sourceURL,
            range: i.range
        })
          , u = d({
            baseUrl: t,
            source: t,
            indexRange: o
        });
        if (u.map = l,
        s) {
            var c = m(e);
            c.length && (u.duration = c[0].duration,
            u.timeline = c[0].timeline)
        } else
            r && (u.duration = r,
            u.timeline = 0);
        return u.number = 0,
        [u]
    }
    function g(e) {
        return function(t) {
            return Object.keys(t).map(function(e) {
                return t[e]
            })
        }(e.reduce(function(e, t) {
            var n, i = t.attributes.id + (t.attributes.lang || "");
            e[i] ? (t.segments[0] && (t.segments[0].discontinuity = !0),
            (n = e[i].segments).push.apply(n, t.segments),
            t.attributes.contentProtection && (e[i].attributes.contentProtection = t.attributes.contentProtection)) : e[i] = t;
            return e
        }, {})).map(function(e) {
            return e.discontinuityStarts = function(e, i) {
                return e.reduce(function(e, t, n) {
                    return t[i] && e.push(n),
                    e
                }, [])
            }(e.segments, "discontinuity"),
            e
        })
    }
    function x(e, t) {
        var n = $(e.sidx)
          , i = n && t[n] && t[n].sidx;
        return i && q(e, i, e.sidx.resolvedUri),
        e
    }
    function T(e) {
        var t, n = e.attributes, i = e.segments, r = e.sidx, a = {
            attributes: (t = {
                NAME: n.id,
                AUDIO: "audio",
                SUBTITLES: "subs",
                RESOLUTION: {
                    width: n.width,
                    height: n.height
                },
                CODECS: n.codecs,
                BANDWIDTH: n.bandwidth
            },
            t["PROGRAM-ID"] = 1,
            t),
            uri: "",
            endList: "static" === n.type,
            timeline: n.periodIndex,
            resolvedUri: "",
            targetDuration: n.duration,
            segments: i,
            mediaSequence: i.length ? i[0].number : 1
        };
        return n.contentProtection && (a.contentProtection = n.contentProtection),
        r && (a.sidx = r),
        a
    }
    function S(e) {
        var t = e.attributes;
        return "video/mp4" === t.mimeType || "video/webm" === t.mimeType || "video" === t.contentType
    }
    function E(e) {
        var t = e.attributes;
        return "audio/mp4" === t.mimeType || "audio/webm" === t.mimeType || "audio" === t.contentType
    }
    function C(e) {
        var t = e.attributes;
        return "text/vtt" === t.mimeType || "text" === t.contentType
    }
    function M(e, t) {
        for (var n, i, r, a, o, s, l, u, c, h, d, p, f = e.type, m = e.minimumUpdatePeriod, g = void 0 === m ? 0 : m, v = e.media, y = void 0 === v ? "" : v, b = e.sourceDuration, _ = e.timescale, w = void 0 === _ ? 1 : _, x = e.startNumber, T = void 0 === x ? 1 : x, S = e.periodIndex, E = [], C = -1, M = 0; M < t.length; M++) {
            var k = t[M]
              , P = k.d
              , A = k.r || 0
              , I = k.t || 0;
            C < 0 && (C = I),
            I && C < I && (C = I);
            var L = void 0;
            if (A < 0) {
                var O = M + 1;
                L = O === t.length ? "dynamic" === f && 0 < g && 0 < y.indexOf("$Number$") ? (i = C,
                r = P,
                void 0,
                a = (n = e).NOW,
                o = n.clientOffset,
                s = n.availabilityStartTime,
                l = n.timescale,
                u = void 0 === l ? 1 : l,
                c = n.start,
                h = void 0 === c ? 0 : c,
                d = n.minimumUpdatePeriod,
                p = (a + o) / 1e3 + (void 0 === d ? 0 : d) - (s + h),
                Math.ceil((p * u - i) / r)) : (b * w - C) / P : (t[O].t - C) / P
            } else
                L = A + 1;
            for (var R = T + E.length + L, D = T + E.length; D < R; )
                E.push({
                    number: D,
                    duration: P / w,
                    time: C,
                    timeline: S
                }),
                C += P,
                D++
        }
        return E
    }
    function k(e, t) {
        return e.replace(Y, function(a) {
            return function(e, t, n, i) {
                if ("$$" === e)
                    return "$";
                if (void 0 === a[t])
                    return e;
                var r = "" + a[t];
                return "RepresentationID" === t ? r : (i = n ? parseInt(i, 10) : 1) <= r.length ? r : new Array(i - r.length + 1).join("0") + r
            }
        }(t))
    }
    function P(a, e) {
        var o = {
            RepresentationID: a.id,
            Bandwidth: a.bandwidth || 0
        }
          , t = a.initialization
          , n = void 0 === t ? {
            sourceURL: "",
            range: ""
        } : t
          , s = d({
            baseUrl: a.baseUrl,
            source: k(n.sourceURL, o),
            range: n.range
        });
        return function(e, t) {
            return e.duration || t ? e.duration ? m(e) : M(e, t) : [{
                number: e.startNumber || 1,
                duration: e.sourceDuration,
                time: 0,
                timeline: e.periodIndex
            }]
        }(a, e).map(function(e) {
            o.Number = e.number,
            o.Time = e.time;
            var t = k(a.media || "", o)
              , n = a.timescale || 1
              , i = a.presentationTimeOffset || 0
              , r = a.periodStart + (e.time - i) / n;
            return {
                uri: t,
                timeline: e.timeline,
                duration: e.duration,
                resolvedUri: p(a.baseUrl || "", t),
                map: s,
                number: e.number,
                presentationTime: r
            }
        })
    }
    function A(a, e) {
        var t = a.duration
          , n = a.segmentUrls
          , i = void 0 === n ? [] : n
          , o = a.periodStart;
        if (!t && !e || t && e)
            throw new Error(V);
        var r, s = i.map(function(e) {
            return function(e, t) {
                var n = e.baseUrl
                  , i = e.initialization
                  , r = void 0 === i ? {} : i
                  , a = d({
                    baseUrl: n,
                    source: r.sourceURL,
                    range: r.range
                })
                  , o = d({
                    baseUrl: n,
                    source: t.media,
                    range: t.mediaRange
                });
                return o.map = a,
                o
            }(a, e)
        });
        return t && (r = m(a)),
        e && (r = M(a, e)),
        r.map(function(e, t) {
            if (s[t]) {
                var n = s[t]
                  , i = a.timescale || 1
                  , r = a.presentationTimeOffset || 0;
                return n.timeline = e.timeline,
                n.duration = e.duration,
                n.number = e.number,
                n.presentationTime = o + (e.time - r) / i,
                n
            }
        }).filter(function(e) {
            return e
        })
    }
    function I(e) {
        var t, n, i = e.attributes, r = e.segmentInfo;
        r.template ? (n = P,
        t = y(i, r.template)) : r.base ? (n = w,
        t = y(i, r.base)) : r.list && (n = A,
        t = y(i, r.list));
        var a = {
            attributes: i
        };
        if (!n)
            return a;
        var o = n(t, r.segmentTimeline);
        if (t.duration) {
            var s = t
              , l = s.duration
              , u = s.timescale
              , c = void 0 === u ? 1 : u;
            t.duration = l / c
        } else
            o.length ? t.duration = o.reduce(function(e, t) {
                return Math.max(e, Math.ceil(t.duration))
            }, 0) : t.duration = 0;
        return a.attributes = t,
        a.segments = o,
        r.base && t.indexRange && (a.sidx = o[0],
        a.segments = []),
        a
    }
    function L(e, t) {
        return h(e.childNodes).filter(function(e) {
            return e.tagName === t
        })
    }
    function O(e) {
        return e.textContent.trim()
    }
    function R(e) {
        var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
        if (!t)
            return 0;
        var n = t.slice(1)
          , i = n[0]
          , r = n[1]
          , a = n[2]
          , o = n[3]
          , s = n[4]
          , l = n[5];
        return 31536e3 * parseFloat(i || 0) + 2592e3 * parseFloat(r || 0) + 86400 * parseFloat(a || 0) + 3600 * parseFloat(o || 0) + 60 * parseFloat(s || 0) + parseFloat(l || 0)
    }
    function D(e) {
        return e && e.attributes ? h(e.attributes).reduce(function(e, t) {
            var n = Z[t.name] || Z.DEFAULT;
            return e[t.name] = n(t.value),
            e
        }, {}) : {}
    }
    function N(e, n) {
        return n.length ? b(e.map(function(t) {
            return n.map(function(e) {
                return p(t, O(e))
            })
        })) : e
    }
    function F(e) {
        var t = L(e, "SegmentTemplate")[0]
          , n = L(e, "SegmentList")[0]
          , i = n && L(n, "SegmentURL").map(function(e) {
            return y({
                tag: "SegmentURL"
            }, D(e))
        })
          , r = L(e, "SegmentBase")[0]
          , a = n || t
          , o = a && L(a, "SegmentTimeline")[0]
          , s = n || r || t
          , l = s && L(s, "Initialization")[0]
          , u = t && D(t);
        u && l ? u.initialization = l && D(l) : u && u.initialization && (u.initialization = {
            sourceURL: u.initialization
        });
        var c = {
            template: u,
            segmentTimeline: o && L(o, "S").map(function(e) {
                return D(e)
            }),
            list: n && y(D(n), {
                segmentUrls: i,
                initialization: D(l)
            }),
            base: r && y(D(r), {
                initialization: D(l)
            })
        };
        return Object.keys(c).forEach(function(e) {
            c[e] || delete c[e]
        }),
        c
    }
    function B(f, m, g) {
        return function(e) {
            var t = D(e)
              , n = N(m, L(e, "BaseURL"))
              , i = L(e, "Role")[0]
              , r = {
                role: D(i)
            }
              , a = y(f, t, r)
              , o = L(e, "Accessibility")[0]
              , s = function(e) {
                return "urn:scte:dash:cc:cea-608:2015" === e.schemeIdUri ? e.value.split(";").map(function(e) {
                    var t, n;
                    if (/^CC\d=/.test(n = e)) {
                        var i = e.split("=");
                        t = i[0],
                        n = i[1]
                    } else
                        /^CC\d$/.test(e) && (t = e);
                    return {
                        channel: t,
                        language: n
                    }
                }) : "urn:scte:dash:cc:cea-708:2015" === e.schemeIdUri ? e.value.split(";").map(function(e) {
                    var r = {
                        channel: void 0,
                        language: void 0,
                        aspectRatio: 1,
                        easyReader: 0,
                        "3D": 0
                    };
                    if (/=/.test(e)) {
                        var t = e.split("=")
                          , n = t[0]
                          , i = t[1]
                          , a = void 0 === i ? "" : i;
                        r.channel = n,
                        r.language = e,
                        a.split(",").forEach(function(e) {
                            var t = e.split(":")
                              , n = t[0]
                              , i = t[1];
                            "lang" === n ? r.language = i : "er" === n ? r.easyReader = Number(i) : "war" === n ? r.aspectRatio = Number(i) : "3D" === n && (r["3D"] = Number(i))
                        })
                    } else
                        r.language = e;
                    return r.channel && (r.channel = "SERVICE" + r.channel),
                    r
                }) : void 0
            }(D(o));
            s && (a = y(a, {
                captionServices: s
            }));
            var l = L(e, "Label")[0];
            if (l && l.childNodes.length) {
                var u = l.childNodes[0].nodeValue.trim();
                a = y(a, {
                    label: u
                })
            }
            var c = function(e) {
                return e.reduce(function(e, t) {
                    var n = D(t)
                      , i = Q[n.schemeIdUri];
                    if (i) {
                        e[i] = {
                            attributes: n
                        };
                        var r = L(t, "cenc:pssh")[0];
                        if (r) {
                            var a = O(r)
                              , o = a && Object(v.a)(a);
                            e[i].pssh = o
                        }
                    }
                    return e
                }, {})
            }(L(e, "ContentProtection"));
            Object.keys(c).length && (a = y(a, {
                contentProtection: c
            }));
            var h = F(e)
              , d = L(e, "Representation")
              , p = y(g, h);
            return b(d.map(function(a, o, s) {
                return function(e) {
                    var t = L(e, "BaseURL")
                      , n = N(o, t)
                      , i = y(a, D(e))
                      , r = F(e);
                    return n.map(function(e) {
                        return {
                            segmentInfo: y(s, r),
                            attributes: y(i, {
                                baseUrl: e
                            })
                        }
                    })
                }
            }(a, n, p)))
        }
    }
    /*! @name mpd-parser @version 0.19.0 @license Apache-2.0 */
    var U = "INVALID_NUMBER_OF_PERIOD"
      , j = "DASH_EMPTY_MANIFEST"
      , z = "DASH_INVALID_XML"
      , H = "NO_BASE_URL"
      , V = "SEGMENT_TIME_UNSPECIFIED"
      , G = "UNSUPPORTED_UTC_TIMING_SCHEME"
      , W = {
        static: function(e) {
            var t = e.duration
              , n = e.timescale
              , i = void 0 === n ? 1 : n
              , r = e.sourceDuration
              , a = e.periodDuration
              , o = _(e.endNumber)
              , s = t / i;
            return "number" == typeof o ? {
                start: 0,
                end: o
            } : "number" == typeof a ? {
                start: 0,
                end: a / s
            } : {
                start: 0,
                end: r / s
            }
        },
        dynamic: function(e) {
            var t = e.NOW
              , n = e.clientOffset
              , i = e.availabilityStartTime
              , r = e.timescale
              , a = void 0 === r ? 1 : r
              , o = e.duration
              , s = e.start
              , l = void 0 === s ? 0 : s
              , u = e.minimumUpdatePeriod
              , c = void 0 === u ? 0 : u
              , h = e.timeShiftBufferDepth
              , d = void 0 === h ? 1 / 0 : h
              , p = _(e.endNumber)
              , f = (t + n) / 1e3
              , m = i + l
              , g = f + c - m
              , v = Math.ceil(g * a / o)
              , y = Math.floor((f - m - d) * a / o)
              , b = Math.floor((f - m) * a / o);
            return {
                start: Math.max(0, y),
                end: "number" == typeof p ? p : Math.min(v, b)
            }
        }
    }
      , q = function(e, t, n) {
        for (var i = e.sidx.map ? e.sidx.map : null, r = e.sidx.duration, a = e.timeline || 0, o = e.sidx.byterange, s = o.offset + o.length, l = t.timescale, u = t.references.filter(function(e) {
            return 1 !== e.referenceType
        }), c = [], h = e.endList ? "static" : "dynamic", d = s + t.firstOffset, p = 0; p < u.length; p++) {
            var f = t.references[p]
              , m = f.referencedSize
              , g = f.subsegmentDuration
              , v = w({
                baseUrl: n,
                timescale: l,
                timeline: a,
                periodIndex: a,
                duration: g,
                sourceDuration: r,
                indexRange: d + "-" + (d + m - 1),
                type: h
            })[0];
            i && (v.map = i),
            c.push(v),
            d += m
        }
        return e.segments = c,
        e
    }
      , $ = function(e) {
        return e && e.uri + "-" + function(e) {
            var t = e.offset + e.length - 1;
            return e.offset + "-" + t
        }(e.byterange)
    }
      , X = function(e, t, n) {
        var i;
        if (void 0 === n && (n = {}),
        !e.length)
            return {};
        var r = e[0].attributes
          , a = r.sourceDuration
          , o = r.type
          , s = r.suggestedPresentationDelay
          , l = r.minimumUpdatePeriod
          , u = g(e.filter(S)).map(T)
          , c = g(e.filter(E))
          , h = e.filter(C)
          , d = e.map(function(e) {
            return e.attributes.captionServices
        }).filter(Boolean)
          , p = {
            allowCache: !0,
            discontinuityStarts: [],
            segments: [],
            endList: !0,
            mediaGroups: (i = {
                AUDIO: {},
                VIDEO: {}
            },
            i["CLOSED-CAPTIONS"] = {},
            i.SUBTITLES = {},
            i),
            uri: "",
            duration: a,
            playlists: function(e, t) {
                if (void 0 === t && (t = {}),
                !Object.keys(t).length)
                    return e;
                for (var n in e)
                    e[n] = x(e[n], t);
                return e
            }(u, n)
        };
        0 <= l && (p.minimumUpdatePeriod = 1e3 * l),
        t && (p.locations = t),
        "dynamic" === o && (p.suggestedPresentationDelay = s);
        var f = 0 === p.playlists.length;
        return c.length && (p.mediaGroups.AUDIO.audio = function(e, s, l) {
            var u;
            void 0 === s && (s = {}),
            void 0 === l && (l = !1);
            var t = e.reduce(function(e, t) {
                var n = t.attributes.role && t.attributes.role.value || ""
                  , i = t.attributes.lang || ""
                  , r = t.attributes.label || "main";
                if (i && !t.attributes.label) {
                    var a = n ? " (" + n + ")" : "";
                    r = t.attributes.lang + a
                }
                e[r] || (e[r] = {
                    language: i,
                    autoselect: !0,
                    default: "main" === n,
                    playlists: [],
                    uri: ""
                });
                var o = x(function(e, t) {
                    var n, i = e.attributes, r = e.segments, a = e.sidx, o = {
                        attributes: (n = {
                            NAME: i.id,
                            BANDWIDTH: i.bandwidth,
                            CODECS: i.codecs
                        },
                        n["PROGRAM-ID"] = 1,
                        n),
                        uri: "",
                        endList: "static" === i.type,
                        timeline: i.periodIndex,
                        resolvedUri: "",
                        targetDuration: i.duration,
                        segments: r,
                        mediaSequence: r.length ? r[0].number : 1
                    };
                    return i.contentProtection && (o.contentProtection = i.contentProtection),
                    a && (o.sidx = a),
                    t && (o.attributes.AUDIO = "audio",
                    o.attributes.SUBTITLES = "subs"),
                    o
                }(t, l), s);
                return e[r].playlists.push(o),
                void 0 === u && "main" === n && ((u = t).default = !0),
                e
            }, {});
            u || (t[Object.keys(t)[0]].default = !0);
            return t
        }(c, n, f)),
        h.length && (p.mediaGroups.SUBTITLES.subs = function(e, i) {
            return void 0 === i && (i = {}),
            e.reduce(function(e, t) {
                var n = t.attributes.lang || "text";
                return e[n] || (e[n] = {
                    language: n,
                    default: !1,
                    autoselect: !1,
                    playlists: [],
                    uri: ""
                }),
                e[n].playlists.push(x(function(e) {
                    var t, n = e.attributes, i = e.segments;
                    void 0 === i && (i = [{
                        uri: n.baseUrl,
                        timeline: n.periodIndex,
                        resolvedUri: n.baseUrl || "",
                        duration: n.sourceDuration,
                        number: 0
                    }],
                    n.duration = n.sourceDuration);
                    var r = ((t = {
                        NAME: n.id,
                        BANDWIDTH: n.bandwidth
                    })["PROGRAM-ID"] = 1,
                    t);
                    return n.codecs && (r.CODECS = n.codecs),
                    {
                        attributes: r,
                        uri: "",
                        endList: "static" === n.type,
                        timeline: n.periodIndex,
                        resolvedUri: n.baseUrl || "",
                        targetDuration: n.duration,
                        segments: i,
                        mediaSequence: i.length ? i[0].number : 1
                    }
                }(t), i)),
                e
            }, {})
        }(h, n)),
        d.length && (p.mediaGroups["CLOSED-CAPTIONS"].cc = function(e) {
            return e.reduce(function(i, e) {
                return e && e.forEach(function(e) {
                    var t = e.channel
                      , n = e.language;
                    i[n] = {
                        autoselect: !1,
                        default: !1,
                        instreamId: t,
                        language: n
                    },
                    e.hasOwnProperty("aspectRatio") && (i[n].aspectRatio = e.aspectRatio),
                    e.hasOwnProperty("easyReader") && (i[n].easyReader = e.easyReader),
                    e.hasOwnProperty("3D") && (i[n]["3D"] = e["3D"])
                }),
                i
            }, {})
        }(d)),
        p
    }
      , Y = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g
      , K = function(e) {
        return e.map(I)
    }
      , Z = {
        mediaPresentationDuration: function(e) {
            return R(e)
        },
        availabilityStartTime: function(e) {
            return function(e) {
                return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e) && (e += "Z"),
                Date.parse(e)
            }(e) / 1e3
        },
        minimumUpdatePeriod: function(e) {
            return R(e)
        },
        suggestedPresentationDelay: function(e) {
            return R(e)
        },
        type: function(e) {
            return e
        },
        timeShiftBufferDepth: function(e) {
            return R(e)
        },
        start: function(e) {
            return R(e)
        },
        width: function(e) {
            return parseInt(e, 10)
        },
        height: function(e) {
            return parseInt(e, 10)
        },
        bandwidth: function(e) {
            return parseInt(e, 10)
        },
        startNumber: function(e) {
            return parseInt(e, 10)
        },
        timescale: function(e) {
            return parseInt(e, 10)
        },
        presentationTimeOffset: function(e) {
            return parseInt(e, 10)
        },
        duration: function(e) {
            var t = parseInt(e, 10);
            return isNaN(t) ? R(e) : t
        },
        d: function(e) {
            return parseInt(e, 10)
        },
        t: function(e) {
            return parseInt(e, 10)
        },
        r: function(e) {
            return parseInt(e, 10)
        },
        DEFAULT: function(e) {
            return e
        }
    }
      , Q = {
        "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
        "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
        "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
        "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
    }
      , J = function(e, t) {
        void 0 === t && (t = {});
        var n = t
          , i = n.manifestUri
          , r = void 0 === i ? "" : i
          , a = n.NOW
          , o = void 0 === a ? Date.now() : a
          , s = n.clientOffset
          , l = void 0 === s ? 0 : s
          , u = L(e, "Period");
        if (!u.length)
            throw new Error(U);
        var c = L(e, "Location")
          , h = D(e)
          , d = N([r], L(e, "BaseURL"));
        h.type = h.type || "static",
        h.sourceDuration = h.mediaPresentationDuration || 0,
        h.NOW = o,
        h.clientOffset = l,
        c.length && (h.locations = c.map(O));
        var p = [];
        return u.forEach(function(e, t) {
            var n = D(e)
              , i = p[t - 1];
            n.start = function(e) {
                var t = e.attributes
                  , n = e.priorPeriodAttributes
                  , i = e.mpdType;
                return "number" == typeof t.start ? t.start : n && "number" == typeof n.start && "number" == typeof n.duration ? n.start + n.duration : n || "static" !== i ? null : 0
            }({
                attributes: n,
                priorPeriodAttributes: i ? i.attributes : null,
                mpdType: h.type
            }),
            p.push({
                node: e,
                attributes: n
            })
        }),
        {
            locations: h.locations,
            representationInfo: b(p.map(function(l, u) {
                return function(e, t) {
                    var n = N(u, L(e.node, "BaseURL"))
                      , i = parseInt(e.attributes.id, 10)
                      , r = f.a.isNaN(i) ? t : i
                      , a = y(l, {
                        periodIndex: r,
                        periodStart: e.attributes.start
                    });
                    "number" == typeof e.attributes.duration && (a.periodDuration = e.attributes.duration);
                    var o = L(e.node, "AdaptationSet")
                      , s = F(e.node);
                    return b(o.map(B(a, n, s)))
                }
            }(h, d)))
        }
    }
      , ee = function(e) {
        if ("" === e)
            throw new Error(j);
        var t, n, i = new u.DOMParser;
        try {
            n = (t = i.parseFromString(e, "application/xml")) && "MPD" === t.documentElement.tagName ? t.documentElement : null
        } catch (e) {}
        if (!n || n && 0 < n.getElementsByTagName("parsererror").length)
            throw new Error(z);
        return n
    }
      , te = "0.19.0"
      , ne = function(e, t) {
        void 0 === t && (t = {});
        var n = J(ee(e), t)
          , i = K(n.representationInfo);
        return X(i, n.locations, t.sidxMapping)
    }
      , ie = function(e) {
        return function(e) {
            var t = L(e, "UTCTiming")[0];
            if (!t)
                return null;
            var n = D(t);
            switch (n.schemeIdUri) {
            case "urn:mpeg:dash:utc:http-head:2014":
            case "urn:mpeg:dash:utc:http-head:2012":
                n.method = "HEAD";
                break;
            case "urn:mpeg:dash:utc:http-xsdate:2014":
            case "urn:mpeg:dash:utc:http-iso:2014":
            case "urn:mpeg:dash:utc:http-xsdate:2012":
            case "urn:mpeg:dash:utc:http-iso:2012":
                n.method = "GET";
                break;
            case "urn:mpeg:dash:utc:direct:2014":
            case "urn:mpeg:dash:utc:direct:2012":
                n.method = "DIRECT",
                n.value = Date.parse(n.value);
                break;
            case "urn:mpeg:dash:utc:http-ntp:2014":
            case "urn:mpeg:dash:utc:ntp:2014":
            case "urn:mpeg:dash:utc:sntp:2014":
            default:
                throw new Error(G)
            }
            return n
        }(ee(e))
    }
}
, function(e, t, n) {
    n(335),
    n(603),
    n(331),
    n(333),
    n(158),
    n(159),
    n(160),
    n(110),
    n(332),
    n(155),
    e.exports = n(600)
}
, function(e, t, n) {
    var i;
    i = n(155),
    e.exports = function(t) {
        "use strict";
        var i = t.browser.IS_IOS || t.browser.IS_NATIVE_ANDROID
          , n = t.getTech("Tech")
          , r = t.extend(n, {
            constructor: function(e, t) {
                n.call(this, e, t),
                this.setPoster(e.poster),
                this.setSrc(this.options_.source, !0),
                this.setTimeout(function() {
                    this.el_ && (this.el_.parentNode.className += " vjs-youtube",
                    i && (this.el_.parentNode.className += " vjs-youtube-mobile"),
                    r.isApiReady ? this.initYTPlayer() : r.apiReadyQueue.push(this))
                }
                .bind(this))
            },
            dispose: function() {
                if (this.ytPlayer)
                    this.ytPlayer.stopVideo && this.ytPlayer.stopVideo(),
                    this.ytPlayer.destroy && this.ytPlayer.destroy();
                else {
                    var e = r.apiReadyQueue.indexOf(this);
                    -1 !== e && r.apiReadyQueue.splice(e, 1)
                }
                this.ytPlayer = null,
                this.el_.parentNode.className = this.el_.parentNode.className.replace(" vjs-youtube", "").replace(" vjs-youtube-mobile", ""),
                this.el_.parentNode.removeChild(this.el_),
                n.prototype.dispose.call(this)
            },
            createEl: function() {
                var e = document.createElement("div");
                e.setAttribute("id", this.options_.techId),
                e.setAttribute("style", "width:100%;height:100%;top:0;left:0;position:absolute"),
                e.setAttribute("class", "vjs-tech");
                var t = document.createElement("div");
                if (t.appendChild(e),
                !i && !this.options_.ytControls) {
                    var n = document.createElement("div");
                    n.setAttribute("class", "vjs-iframe-blocker"),
                    n.setAttribute("style", "position:absolute;top:0;left:0;width:100%;height:100%"),
                    n.onclick = function() {
                        this.pause()
                    }
                    .bind(this),
                    t.appendChild(n)
                }
                return t
            },
            initYTPlayer: function() {
                var t = {
                    controls: 0,
                    modestbranding: 1,
                    rel: 0,
                    showinfo: 0,
                    loop: this.options_.loop ? 1 : 0
                };
                if (void 0 !== this.options_.autohide && (t.autohide = this.options_.autohide),
                void 0 !== this.options_.cc_load_policy && (t.cc_load_policy = this.options_.cc_load_policy),
                void 0 !== this.options_.ytControls && (t.controls = this.options_.ytControls),
                void 0 !== this.options_.disablekb && (t.disablekb = this.options_.disablekb),
                void 0 !== this.options_.color && (t.color = this.options_.color),
                t.controls ? void 0 !== this.options_.fs && (t.fs = this.options_.fs) : t.fs = 0,
                -1 !== this.options_.source.src.indexOf("end=")) {
                    var e = this.options_.source.src.match(/end=([0-9]*)/);
                    this.options_.end = parseInt(e[1])
                }
                if (void 0 !== this.options_.end && (t.end = this.options_.end),
                void 0 !== this.options_.hl ? t.hl = this.options_.hl : void 0 !== this.options_.language && (t.hl = this.options_.language.substr(0, 2)),
                void 0 !== this.options_.iv_load_policy && (t.iv_load_policy = this.options_.iv_load_policy),
                void 0 !== this.options_.list ? t.list = this.options_.list : this.url && void 0 !== this.url.listId && (t.list = this.url.listId),
                void 0 !== this.options_.listType && (t.listType = this.options_.listType),
                void 0 !== this.options_.modestbranding && (t.modestbranding = this.options_.modestbranding),
                void 0 !== this.options_.playlist && (t.playlist = this.options_.playlist),
                void 0 !== this.options_.playsinline && (t.playsinline = this.options_.playsinline),
                void 0 !== this.options_.rel && (t.rel = this.options_.rel),
                void 0 !== this.options_.showinfo && (t.showinfo = this.options_.showinfo),
                -1 !== this.options_.source.src.indexOf("start=")) {
                    var n = this.options_.source.src.match(/start=([0-9]*)/);
                    this.options_.start = parseInt(n[1])
                }
                if (void 0 !== this.options_.start && (t.start = this.options_.start),
                void 0 !== this.options_.theme && (t.theme = this.options_.theme),
                void 0 !== this.options_.customVars) {
                    var i = this.options_.customVars;
                    Object.keys(i).forEach(function(e) {
                        t[e] = i[e]
                    })
                }
                this.activeVideoId = this.url ? this.url.videoId : null,
                this.activeList = t.list;
                var r = {
                    videoId: this.activeVideoId,
                    playerVars: t,
                    events: {
                        onReady: this.onPlayerReady.bind(this),
                        onPlaybackQualityChange: this.onPlayerPlaybackQualityChange.bind(this),
                        onPlaybackRateChange: this.onPlayerPlaybackRateChange.bind(this),
                        onStateChange: this.onPlayerStateChange.bind(this),
                        onVolumeChange: this.onPlayerVolumeChange.bind(this),
                        onError: this.onPlayerError.bind(this)
                    }
                };
                void 0 !== this.options_.enablePrivacyEnhancedMode && this.options_.enablePrivacyEnhancedMode && (r.host = "https://www.youtube-nocookie.com"),
                this.ytPlayer = new YT.Player(this.options_.techId,r)
            },
            onPlayerReady: function() {
                this.options_.muted && this.ytPlayer.mute();
                var e = this.ytPlayer.getAvailablePlaybackRates();
                1 < e.length && (this.featuresPlaybackRate = !0),
                this.playerReady_ = !0,
                this.triggerReady(),
                this.playOnReady ? this.play() : this.cueOnReady && (this.cueVideoById_(this.url.videoId),
                this.activeVideoId = this.url.videoId)
            },
            onPlayerPlaybackQualityChange: function() {},
            onPlayerPlaybackRateChange: function() {
                this.trigger("ratechange")
            },
            onPlayerStateChange: function(e) {
                var t = e.data;
                if (t !== this.lastState && !this.errorNumber)
                    switch (this.lastState = t) {
                    case -1:
                        this.trigger("loadstart"),
                        this.trigger("loadedmetadata"),
                        this.trigger("durationchange"),
                        this.trigger("ratechange");
                        break;
                    case YT.PlayerState.ENDED:
                        this.trigger("ended");
                        break;
                    case YT.PlayerState.PLAYING:
                        this.trigger("timeupdate"),
                        this.trigger("durationchange"),
                        this.trigger("playing"),
                        this.trigger("play"),
                        this.isSeeking && this.onSeeked();
                        break;
                    case YT.PlayerState.PAUSED:
                        this.trigger("canplay"),
                        this.isSeeking ? this.onSeeked() : this.trigger("pause");
                        break;
                    case YT.PlayerState.BUFFERING:
                        this.player_.trigger("timeupdate"),
                        this.player_.trigger("waiting")
                    }
            },
            onPlayerVolumeChange: function() {
                this.trigger("volumechange")
            },
            onPlayerError: function(e) {
                this.errorNumber = e.data,
                this.trigger("pause"),
                this.trigger("error")
            },
            error: function() {
                var e = 1e3 + this.errorNumber;
                switch (this.errorNumber) {
                case 5:
                    return {
                        code: e,
                        message: "Error while trying to play the video"
                    };
                case 2:
                case 100:
                    return {
                        code: e,
                        message: "Unable to find the video"
                    };
                case 101:
                case 150:
                    return {
                        code: e,
                        message: "Playback on other Websites has been disabled by the video owner."
                    }
                }
                return {
                    code: e,
                    message: "YouTube unknown error (" + this.errorNumber + ")"
                }
            },
            loadVideoById_: function(e) {
                var t = {
                    videoId: e
                };
                this.options_.start && (t.startSeconds = this.options_.start),
                this.options_.end && (t.endEnd = this.options_.end),
                this.ytPlayer.loadVideoById(t)
            },
            cueVideoById_: function(e) {
                var t = {
                    videoId: e
                };
                this.options_.start && (t.startSeconds = this.options_.start),
                this.options_.end && (t.endEnd = this.options_.end),
                this.ytPlayer.cueVideoById(t)
            },
            src: function(e) {
                return e && this.setSrc({
                    src: e
                }),
                this.source
            },
            poster: function() {
                return i ? null : this.poster_
            },
            setPoster: function(e) {
                this.poster_ = e
            },
            setSrc: function(e) {
                e && e.src && (delete this.errorNumber,
                this.source = e,
                this.url = r.parseUrl(e.src),
                this.options_.poster || this.url.videoId && (this.poster_ = "https://img.youtube.com/vi/" + this.url.videoId + "/0.jpg",
                this.trigger("posterchange"),
                this.checkHighResPoster()),
                this.options_.autoplay && !i ? this.isReady_ ? this.play() : this.playOnReady = !0 : this.activeVideoId !== this.url.videoId && (this.isReady_ ? (this.cueVideoById_(this.url.videoId),
                this.activeVideoId = this.url.videoId) : this.cueOnReady = !0))
            },
            autoplay: function() {
                return this.options_.autoplay
            },
            setAutoplay: function(e) {
                this.options_.autoplay = e
            },
            loop: function() {
                return this.options_.loop
            },
            setLoop: function(e) {
                this.options_.loop = e
            },
            play: function() {
                this.url && this.url.videoId && (this.wasPausedBeforeSeek = !1,
                this.isReady_ ? (this.url.listId && (this.activeList === this.url.listId ? this.ytPlayer.playVideo() : (this.ytPlayer.loadPlaylist(this.url.listId),
                this.activeList = this.url.listId)),
                this.activeVideoId === this.url.videoId ? this.ytPlayer.playVideo() : (this.loadVideoById_(this.url.videoId),
                this.activeVideoId = this.url.videoId)) : (this.trigger("waiting"),
                this.playOnReady = !0))
            },
            pause: function() {
                this.ytPlayer && this.ytPlayer.pauseVideo()
            },
            paused: function() {
                return !this.ytPlayer || this.lastState !== YT.PlayerState.PLAYING && this.lastState !== YT.PlayerState.BUFFERING
            },
            currentTime: function() {
                return this.ytPlayer ? this.ytPlayer.getCurrentTime() : 0
            },
            setCurrentTime: function(e) {
                this.lastState === YT.PlayerState.PAUSED && (this.timeBeforeSeek = this.currentTime()),
                this.isSeeking || (this.wasPausedBeforeSeek = this.paused()),
                this.ytPlayer.seekTo(e, !0),
                this.trigger("timeupdate"),
                this.trigger("seeking"),
                this.isSeeking = !0,
                this.lastState === YT.PlayerState.PAUSED && this.timeBeforeSeek !== e && (clearInterval(this.checkSeekedInPauseInterval),
                this.checkSeekedInPauseInterval = setInterval(function() {
                    this.lastState === YT.PlayerState.PAUSED && this.isSeeking ? this.currentTime() !== this.timeBeforeSeek && (this.trigger("timeupdate"),
                    this.onSeeked()) : clearInterval(this.checkSeekedInPauseInterval)
                }
                .bind(this), 250))
            },
            seeking: function() {
                return this.isSeeking
            },
            seekable: function() {
                return this.ytPlayer ? t.createTimeRange(0, this.ytPlayer.getDuration()) : t.createTimeRange()
            },
            onSeeked: function() {
                clearInterval(this.checkSeekedInPauseInterval),
                this.isSeeking = !1,
                this.wasPausedBeforeSeek && this.pause(),
                this.trigger("seeked")
            },
            playbackRate: function() {
                return this.ytPlayer ? this.ytPlayer.getPlaybackRate() : 1
            },
            setPlaybackRate: function(e) {
                this.ytPlayer && this.ytPlayer.setPlaybackRate(e)
            },
            duration: function() {
                return this.ytPlayer ? this.ytPlayer.getDuration() : 0
            },
            currentSrc: function() {
                return this.source && this.source.src
            },
            ended: function() {
                return !!this.ytPlayer && this.lastState === YT.PlayerState.ENDED
            },
            volume: function() {
                return this.ytPlayer ? this.ytPlayer.getVolume() / 100 : 1
            },
            setVolume: function(e) {
                this.ytPlayer && this.ytPlayer.setVolume(100 * e)
            },
            muted: function() {
                return !!this.ytPlayer && this.ytPlayer.isMuted()
            },
            setMuted: function(e) {
                this.ytPlayer && (this.muted(!0),
                e ? this.ytPlayer.mute() : this.ytPlayer.unMute(),
                this.setTimeout(function() {
                    this.trigger("volumechange")
                }, 50))
            },
            buffered: function() {
                if (!this.ytPlayer || !this.ytPlayer.getVideoLoadedFraction)
                    return t.createTimeRange();
                var e = this.ytPlayer.getVideoLoadedFraction() * this.ytPlayer.getDuration();
                return t.createTimeRange(0, e)
            },
            preload: function() {},
            load: function() {},
            reset: function() {},
            networkState: function() {
                if (!this.ytPlayer)
                    return 0;
                switch (this.ytPlayer.getPlayerState()) {
                case -1:
                    return 0;
                case 3:
                    return 2;
                default:
                    return 1
                }
            },
            readyState: function() {
                if (!this.ytPlayer)
                    return 0;
                switch (this.ytPlayer.getPlayerState()) {
                case -1:
                    return 0;
                case 5:
                    return 1;
                case 3:
                    return 2;
                default:
                    return 4
                }
            },
            supportsFullScreen: function() {
                return document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled
            },
            checkHighResPoster: function() {
                var e = "https://img.youtube.com/vi/" + this.url.videoId + "/maxresdefault.jpg";
                try {
                    var t = new Image;
                    t.onload = function() {
                        if ("naturalHeight"in t) {
                            if (t.naturalHeight <= 90 || t.naturalWidth <= 120)
                                return
                        } else if (t.height <= 90 || t.width <= 120)
                            return;
                        this.poster_ = e,
                        this.trigger("posterchange")
                    }
                    .bind(this),
                    t.onerror = function() {}
                    ,
                    t.src = e
                } catch (e) {}
            }
        });
        r.isSupported = function() {
            return !0
        }
        ,
        r.canPlaySource = function(e) {
            return r.canPlayType(e.type)
        }
        ,
        r.canPlayType = function(e) {
            return "video/youtube" === e
        }
        ,
        r.parseUrl = function(e) {
            var t = {
                videoId: null
            }
              , n = e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);
            return n && 11 === n[2].length && (t.videoId = n[2]),
            (n = e.match(/[?&]list=([^#\&\?]+)/)) && n[1] && (t.listId = n[1]),
            t
        }
        ,
        r.apiReadyQueue = [],
        "undefined" != typeof document && (function(e, t) {
            var n = !1
              , i = document.createElement("script")
              , r = document.getElementsByTagName("script")[0];
            r.parentNode.insertBefore(i, r),
            i.onload = function() {
                n || (n = !0,
                t())
            }
            ,
            i.onreadystatechange = function() {
                n || "complete" !== this.readyState && "loaded" !== this.readyState || (n = !0,
                t())
            }
            ,
            i.src = e
        }("https://www.youtube.com/iframe_api", function() {
            YT.ready(function() {
                r.isApiReady = !0;
                for (var e = 0; e < r.apiReadyQueue.length; ++e)
                    r.apiReadyQueue[e].initYTPlayer()
            })
        }),
        function() {
            var e = ".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }"
              , t = document.head || document.getElementsByTagName("head")[0]
              , n = document.createElement("style");
            n.type = "text/css",
            n.styleSheet ? n.styleSheet.cssText = e : n.appendChild(document.createTextNode(e));
            t.appendChild(n)
        }()),
        void 0 !== t.registerTech ? t.registerTech("Youtube", r) : t.registerComponent("Youtube", r)
    }(i.default || i)
}
, , , function(e, t, n) {
    "use strict";
    n.r(t);
    n(521);
    var i = n(24)
      , r = n(276)
      , a = n(278)
      , o = n(279)
      , s = n(280)
      , l = n(70)
      , u = n(282)
      , c = n(283)
      , h = n(284)
      , d = n(157)
      , p = n(287)
      , f = n(288)
      , m = n(83)
      , g = n(291)
      , v = n(292)
      , y = n(293)
      , b = n(294)
      , _ = n(295)
      , w = n(328)
      , x = n(296)
      , T = n(297)
      , S = n(298)
      , E = n(299)
      , C = n(300)
      , M = n(106)
      , k = n(301)
      , P = n(72)
      , A = n(302)
      , I = n(3)
      , L = n(1)
      , O = n.n(L);
    function R(e) {
        return (R = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function D(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1,
            i.configurable = !0,
            "value"in i && (i.writable = !0),
            Object.defineProperty(e, i.key, i)
        }
    }
    function N(e, t) {
        return !t || "object" !== R(t) && "function" != typeof t ? function(e) {
            if (void 0 !== e)
                return e;
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
        }(e) : t
    }
    function F(e, t, n) {
        return (F = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var i = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = B(e)); )
                    ;
                return e
            }(e, t);
            if (i) {
                var r = Object.getOwnPropertyDescriptor(i, t);
                return r.get ? r.get.call(n) : r.value
            }
        }
        )(e, t, n || e)
    }
    function B(e) {
        return (B = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    function U(e, t) {
        return (U = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    var j = function() {
        function i(e, t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i);
            return t = O.a.merge({}, {
                sectionSelector: ".fp-form-section"
            }, t),
            N(this, B(i).call(this, e, t, n))
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && U(e, t)
        }(i, I["a"]),
        function(e, t, n) {
            t && D(e.prototype, t),
            n && D(e, n)
        }(i, [{
            key: "start",
            value: function() {
                F(B(i.prototype), "start", this).call(this),
                this.init()
            }
        }, {
            key: "stop",
            value: function() {
                F(B(i.prototype), "stop", this).call(this)
            }
        }, {
            key: "resume",
            value: function() {
                F(B(i.prototype), "resume", this).call(this),
                this.init()
            }
        }, {
            key: "init",
            value: function() {
                this.setDataToLocalStorage()
            }
        }, {
            key: "queryStringToJSON",
            value: function() {
                if (location.search) {
                    var e = location.search.slice(1).split("&")
                      , t = {};
                    return e.forEach(function(e) {
                        e = e.split("="),
                        t[e[0]] = decodeURIComponent(e[1] || "")
                    }),
                    JSON.parse(JSON.stringify(t))
                }
                return !1
            }
        }, {
            key: "setDataToLocalStorage",
            value: function() {
                var e = this.queryStringToJSON();
                if (e)
                    if (localStorage.queryObject) {
                        var t = Object.assign(JSON.parse(localStorage.queryObject), e);
                        localStorage.setItem("queryObject", JSON.stringify(t))
                    } else
                        localStorage.setItem("queryObject", JSON.stringify(e))
            }
        }]),
        i
    }()
      , z = n(303)
      , H = n(108)
      , V = n(107)
      , G = n(304)
      , W = n(306)
      , q = n(307)
      , $ = n(308)
      , X = n(309)
      , Y = n(310)
      , K = n(311)
      , Z = n(312)
      , Q = n(329)
      , J = n(330)
      , ee = n(327)
      , te = n(314)
      , ne = n(315)
      , ie = n(316)
      , re = n(317)
      , ae = n(318)
      , oe = n(319)
      , se = n(320)
      , le = n(321)
      , ue = n(322)
      , ce = n(323)
      , he = n(324)
      , de = n(325)
      , pe = n(326);
    n(334);
    d.a.info("process.env.NODE_ENV", "production"),
    d.a.info("process.env.PUBLIC_URL", "/"),
    new r.a({
        resolutionsConfig: {
            smMin: 580,
            mdMin: 960,
            lgMin: 1500
        }
    },{
        "spritespin-view": J.a,
        "visualiser-view": Q.a,
        "photo-sphere-view": ee.a,
        "expand-content": o.a,
        "google-maps": l.a,
        "google-maps-locator": u.a,
        tabs: a.a,
        "tabsC206-jsopts": ue.a,
        "tabItemC206-jsopts": ce.a,
        "gallery-jsopts": de.a,
        "hero-slider-jsopts": he.a,
        "carousel-jsopts": te.a,
        "expand-menu": G.a,
        "helios-menu": X.a,
        "scroll-page": c.a,
        menu: q.a,
        "navigation-progress-top": Y.a,
        "search-sync": $.a,
        "custom-event-fixed-bottom-nav-opts": K.a,
        "expand-content-opts": Z.a,
        "plugin-swiper": W.a,
        "plugin-popup": s.a,
        "is-fixed": p.a,
        "custom-event": h.a,
        "video-player": m.a,
        "custom-event-focus-opts": ie.a,
        "custom-event-spec-select-opts": f.a,
        "plugin-ajax-content": i.a,
        "car-specification": g.a,
        "back-to-top": v.a,
        "dealer-list": y.a,
        "gtm-tagging": b.a,
        "specs-details-expand-content-opts": re.a,
        "select-ellipsis": _.a,
        "accordeon-c154-opts": ne.a,
        "plugin-shuffle": w.a,
        "plugin-load-more": x.a,
        "popup-with-plugin": ae.a,
        "ajax-content-opts": oe.a,
        "social-tabs-opts": se.a,
        "rss-carousel-jsopts": le.a,
        "search-result": T.a,
        "range-filter": S.a,
        "range-slider": E.a,
        "sticky-nav": k.a,
        "dynamic-form": A.a,
        "local-data": j,
        "template-helper": P.a,
        "form-steps": z.a,
        "form-steps-jsopts": pe.a,
        "dealer-locator-service": H.a,
        "dealer-locator-component": V.a,
        captcha: M.a,
        cookie: C.a
    }).init()
}
], [[599, 0]]]);
